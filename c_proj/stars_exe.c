#include "stars_exe.h"




uint __cdecl16far FUN_1010_1fae(ulong *param_1,long *param_2)

{
  long *plVar1;
  uint *puVar2;
  byte bVar3;
  uint uVar4;
  uint uVar5;
  uint *puVar6;
  int iVar7;
  long *plVar8;
  long *plVar9;
  uint *puVar10;
  undefined2 unaff_SS;
  long local_2c [4];
  ulong local_1c [4];
  uint local_c;
  int local_a;
  byte local_7;
  long *local_6;
  undefined2 local_4;

  local_c = 0;
  local_7 = 0x20;
  FUN_1068_1a7c((uint *)param_1,(long *)local_1c,(int)PTR_DAT_10a8_0001_10a8_00c0,1);
  FUN_1008_9d54((ulong)&PTR_DAT_10a8_0000_10a8_7bd6,local_2c,0xffff);
  local_4 = 4;
  iVar7 = 4;
  do {
    *(long *)((int)local_1c + iVar7 + -0x14) =
         *(long *)((int)local_2c + iVar7) + *(long *)((int)&PTR_DAT_10a8_0000_10a8_7bf8 + iVar7);
    iVar7 = iVar7 + 4;
  } while (iVar7 < 0x10);
  iVar7 = FUN_1020_39d0((int)&PTR_DAT_10a8_0000_10a8_7bd6,(int)s_From___s_c_c_10a8_10a2 + 6,
                        (int)PTR_DAT_10a8_0001_10a8_00c0);
  local_2c[3] = (long)iVar7;
  if ((DAT_10a8_7bf6 & 0x80) == 0) {
    local_2c[3] = local_2c[3] +
                  ((long)(int)*(char *)((int)&DAT_10a8_888a +
                                       (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) * (long)iVar7) /
                  -100;
  }
  if (((*(uint *)((int)param_1 + 2) & 0xe) == 2) && ((*param_1 & 0x1fc00) == 0x2000)) {
    iVar7 = 0;
    plVar8 = local_2c;
    local_6 = param_2;
    plVar9 = param_2;
    do {
      if ((int)((*(uint *)((int)plVar8 + 2) - *(uint *)((int)plVar9 + 2)) -
               (uint)(*(uint *)plVar8 < *(uint *)plVar9)) < 0) break;
      plVar9 = plVar9 + 1;
      iVar7 = iVar7 + 1;
      plVar8 = plVar8 + 1;
    } while (plVar8 < local_2c + 3);
    plVar8 = param_2;
    if (iVar7 == 3) {
      do {
        uVar4 = *(uint *)param_1 & 0xff | ((byte)((ulong)*(uint *)param_1 >> 8) & 3) << 8;
        plVar1 = plVar8;
        uVar5 = *(uint *)plVar1;
        *(uint *)plVar1 = *(uint *)plVar1 - uVar4;
        puVar2 = (uint *)((int)plVar8 + 2);
        *puVar2 = *puVar2 - (uint)(uVar5 < uVar4);
        iVar7 = iVar7 + -1;
        plVar8 = plVar8 + 1;
      } while (iVar7 != 0);
    }
  }
  local_a = 1;
  local_6 = (long *)0x0;
  uVar5 = *(uint *)param_1 & 0x3ff;
  if (uVar5 != 0) {
    do {
      iVar7 = 0;
      plVar8 = param_2;
      do {
        plVar1 = plVar8;
        *plVar1 = *plVar1 + *(long *)((int)local_1c + iVar7);
        if ((local_6 == (long *)0x0) && ((*(uint *)((int)param_1 + 2) & 0x7f0) != 0)) {
          plVar1 = plVar8;
          *plVar1 = *plVar1 - (long)(((qword)((*(uint *)((int)param_1 + 2) & 0x7f0) >> 4) *
                                      (qword)*(ulong *)((int)local_1c + iVar7) & 0xffffffff) / 100);
        }
        if (*(long *)((int)local_2c + iVar7) < *plVar8) {
          local_a = 0;
        }
        plVar8 = plVar8 + 1;
        iVar7 = iVar7 + 4;
      } while (iVar7 < 0x10);
      if (local_a != 0) {
        local_c = local_c + 1;
      }
      uVar5 = *(uint *)param_1 & 0xff | ((byte)((ulong)*(uint *)param_1 >> 8) & 3) << 8;
      local_6 = (long *)((int)local_6 + 1);
    } while ((int)local_6 < (int)uVar5);
  }
  if (local_c != 0) {
    bVar3 = (byte)((ulong)*(uint *)param_1 >> 8) & 3;
    if ((*(uint *)param_1 & 0xff | (uint)bVar3 << 8) == local_c) {
      uVar5 = (uint)CONCAT31((uint3)bVar3,0x2a);
    }
    else {
      uVar5 = (uint)CONCAT31((uint3)bVar3,0x23);
    }
    local_7 = (byte)uVar5;
  }
  if (local_c == 0) {
    puVar10 = (uint *)&PTR_DAT_10a8_0000_10a8_7bfc;
    puVar6 = (uint *)&PTR_DAT_10a8_0000_10a8_7bde;
    do {
      uVar4 = *puVar10;
      puVar2 = puVar6;
      uVar5 = uVar4 + *puVar2;
      iVar7 = puVar10[1] + (uint)CARRY2(uVar4,*puVar2);
      uVar4 = *(uint *)((int)param_2 + 2);
      if ((iVar7 <= (int)uVar4) && ((iVar7 < (int)uVar4 || (uVar5 < *(uint *)param_2)))) {
        local_7 = 0x21;
      }
      param_2 = param_2 + 1;
      puVar10 = puVar10 + 2;
      puVar6 = puVar6 + 1;
    } while (puVar6 < (uint *)0x7be4);
  }
  return uVar5 & 0xff00 | (uint)local_7;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1010_219c(int param_1,undefined4 *param_2)

{
  int *piVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined2 uVar4;
  uint uVar5;
  uint uVar6;
  uint *puVar7;
  undefined2 uVar8;
  int iVar9;
  undefined4 *puVar10;
  undefined *puVar11;
  undefined2 unaff_SS;
  undefined4 local_48 [8];
  undefined4 local_28;
  long local_24;
  int local_20;
  int local_1e;
  int local_1c [4];
  uint local_14;
  uint local_12;
  int local_10;
  uint *local_e;
  undefined4 *local_8;
  int *local_6;
  undefined *local_4;

  puVar10 = &local_28;
  for (iVar9 = 5; iVar9 != 0; iVar9 = iVar9 + -1) {
    puVar2 = puVar10;
    puVar10 = puVar10 + 1;
    *puVar2 = 0;
  }
  local_8 = (undefined4 *)PTR_DAT_10a8_0000_10a8_006c;
  local_6 = (int *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  local_4 = PTR_DAT_10a8_0000_10a8_006c;
  puVar11 = PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a <
      PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c) {
    do {
      if (*(int *)(puVar11 + 2) == param_1) {
        local_20 = local_20 + 1;
        if ((puVar11[5] & 2) != 0) {
          local_1e = local_1e + 1;
        }
        uVar6 = FUN_1020_39d0((int)puVar11,local_8,param_1);
        local_24 = CONCAT22((int)((ulong)local_24 >> 0x10) + ((int)uVar6 >> 0xf) +
                            (uint)CARRY2((uint)local_24,uVar6),(uint)local_24 + uVar6);
      }
      puVar11 = puVar11 + 0x3c;
    } while (puVar11 < local_6);
  }
  uVar6 = local_1e * 10;
  uVar5 = local_20 * 6;
  local_28 = local_24 / 0x19 +
             CONCAT22(((int)uVar5 >> 0xf) + ((int)uVar6 >> 0xf) + (uint)CARRY2(uVar5,uVar6),
                      uVar5 + uVar6) + CONCAT22(local_28._2_2_,(undefined2)local_28);
  local_28._0_2_ = (int)local_28;
  local_28._2_2_ = (int)((ulong)local_28 >> 0x10);
  if ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + param_1 * 0x76) & 0x40) == 0) {
    iVar9 = 0;
    do {
      local_1c[3] = local_1c[3] + *(char *)(param_1 * 0x76 + iVar9 + -0x7788);
      iVar9 = iVar9 + 1;
    } while (iVar9 < 6);
    local_28 = local_28 + local_1c[3] * 3;
    local_28._0_2_ = (int)local_28;
    local_28._2_2_ = (int)((ulong)local_28 >> 0x10);
  }
  uVar4 = *(undefined2 *)(param_1 * 4 + 0x74);
  puVar7 = (uint *)(*(int *)(param_1 * 4 + 0x72) + 0x2a);
  puVar10 = local_48;
  do {
    if ((*(byte *)(puVar7 + 0x29) & 2) != 0) {
      *(undefined2 *)puVar10 = 0xffff;
    }
    if (*puVar7 < 200) {
      *(undefined2 *)puVar10 = 0;
    }
    else {
      if (*puVar7 < 1000) {
        uVar8 = 1;
      }
      else {
        uVar8 = 2;
      }
      *(undefined2 *)puVar10 = uVar8;
    }
    puVar7 = (uint *)((int)puVar7 + 0x87);
    puVar10 = (undefined4 *)((int)puVar10 + 2);
  } while (puVar10 < &local_28);
  local_10 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    local_e = _PTR_DAT_10a8_0000_10a8_006e;
    do {
      local_14 = *local_e;
      local_12 = *(uint *)((int)local_e + 2);
      if ((local_12 | local_14) == 0) break;
      if ((*(int *)(local_14 + 2) == param_1) && ((*(byte *)(local_14 + 5) & 4) == 0)) {
        local_8 = local_48;
        local_6 = (int *)(local_14 + 0xc);
        local_4 = (undefined *)local_12;
        do {
          iVar9 = *local_6;
          if ((0 < iVar9) && (*(int *)local_8 != -1)) {
            piVar1 = local_1c + *(int *)local_8;
            *piVar1 = *piVar1 + iVar9;
          }
          local_6 = local_6 + 1;
          local_8 = (undefined4 *)((int)local_8 + 2);
        } while (local_8 < &local_28);
      }
      local_e = (uint *)((ulong)local_e & 0xffff0000 | (ulong)((int)local_e + 4));
      local_10 = local_10 + 1;
    } while (local_10 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  local_28 = local_28 + (local_1c[1] * 3 + local_1c[2] * 7 + local_1c[0]);
  local_28._2_2_ = (int)((ulong)local_28 >> 0x10);
  if (param_2 != (undefined4 *)0x0) {
    puVar10 = &local_28;
    for (iVar9 = 5; iVar9 != 0; iVar9 = iVar9 + -1) {
      puVar3 = param_2;
      param_2 = param_2 + 1;
      puVar2 = puVar10;
      puVar10 = puVar10 + 1;
      *puVar3 = *puVar2;
    }
  }
  return (undefined2)local_28;
}



void __cdecl16far FUN_1010_239a(int param_1,int param_2,undefined2 param_3,uint *param_4)

{
  uint *puVar1;
  char cVar2;
  int iVar3;
  uint *puVar4;
  uint *puVar5;
  uint uVar6;
  uint local_6;

  iVar3 = 3;
  puVar4 = param_4;
  puVar5 = (uint *)(param_2 + 0x2c);
  do {
    *puVar4 = *puVar5;
    puVar4 = puVar4 + 1;
    iVar3 = iVar3 + -1;
    puVar5 = puVar5 + 1;
  } while (iVar3 != 0);
  param_4[3] = *(uint *)(param_2 + 0x2a);
  local_6 = 100;
  iVar3 = 0;
  do {
    cVar2 = *(char *)(param_2 + 2 + iVar3);
    uVar6 = (int)*(char *)(param_1 * 0x76 + iVar3 + -0x7788) - (int)cVar2;
    if (('\0' < cVar2) && ((int)uVar6 < (int)local_6)) {
      local_6 = uVar6;
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < 6);
  if (local_6 == 100) {
    iVar3 = 0;
    do {
      uVar6 = (uint)*(char *)(param_1 * 0x76 + iVar3 + -0x7788);
      if ((int)uVar6 < (int)local_6) {
        local_6 = uVar6;
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < 6);
  }
  if (0 < (int)local_6) {
    if (0x12 < (int)local_6) {
      local_6 = 0x12;
    }
    iVar3 = 4;
    do {
      if (*param_4 != 0) {
        puVar1 = param_4;
        *puVar1 = *puVar1 - (int)(((ulong)local_6 * (ulong)*param_4 & 0xffff) / 0x14);
        if (*puVar1 == 0) {
          *param_4 = 1;
        }
      }
      param_4 = param_4 + 1;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  }
  return;
}



void __cdecl16far FUN_1010_2474(undefined2 param_1_00,undefined4 param_2,undefined2 *param_3)

{
  int iVar1;
  undefined2 *puVar2;
  undefined2 *puVar3;

  iVar1 = 3;
  puVar2 = param_3;
  puVar3 = (undefined2 *)((int)param_2 + 0x2c);
  do {
    *puVar2 = *puVar3;
    puVar2 = puVar2 + 1;
    iVar1 = iVar1 + -1;
    puVar3 = puVar3 + 1;
  } while (iVar1 != 0);
  param_3[3] = *(undefined2 *)((int)param_2 + 0x2a);
  return;
}



void __cdecl16far FUN_1010_24b2(undefined2 param_1,undefined4 *param_2)

{
  undefined4 uVar1;
  long lVar2;
  long lVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  int iVar10;
  undefined2 unaff_SS;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  undefined2 in_stack_0000ffe4;
  undefined2 in_stack_0000ffe6;
  undefined2 in_stack_0000ffe8;
  undefined2 in_stack_0000ffea;
  undefined2 in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined2 in_stack_0000fff2;
  undefined2 uVar15;
  int local_6;
  int local_4;

  uVar1 = *param_2;
  iVar11 = (int)uVar1;
  iVar12 = (int)((ulong)uVar1 >> 0x10);
  uVar1 = param_2[1];
  iVar13 = (int)uVar1;
  iVar14 = (int)((ulong)uVar1 >> 0x10);
  FUN_1018_0000(0xb0011,CONCAT22(unaff_DI,unaff_SI));
  INFLATERECT((RECT16 *)0xfffdfffd,
              (int16)CONCAT214(iVar14,CONCAT212(iVar13,CONCAT210(iVar12,CONCAT28(iVar11,CONCAT26(
                                                  unaff_DI,CONCAT24(unaff_SI,CONCAT22(unaff_SS,&
                                                  stack0xffdc))))))),
              (int16)CONCAT214(in_stack_0000fff2,
                               CONCAT212(in_stack_0000fff0,
                                         CONCAT210(in_stack_0000ffee,
                                                   CONCAT28(in_stack_0000ffec,
                                                            CONCAT26(in_stack_0000ffea,
                                                                     CONCAT24(in_stack_0000ffe8,
                                                                              CONCAT22(
                                                  in_stack_0000ffe6,in_stack_0000ffe4))))))));
  iVar4 = iVar14 - iVar12;
  iVar9 = iVar13 - iVar11;
  lVar2 = (long)iVar4;
  lVar3 = (long)iVar9;
  local_6 = 0;
  do {
    iVar10 = (int)((lVar2 * lVar3) / *(long *)(local_6 + 0x6b));
    uVar15 = 0;
    if (0 < iVar10) {
      do {
        iVar5 = FUN_1018_4a4a(iVar9);
        iVar5 = iVar5 + iVar11;
        iVar6 = FUN_1018_4a4a(iVar4);
        iVar6 = iVar6 + iVar12;
        iVar7 = iVar5 + 1;
        iVar8 = iVar6 + 1;
        uVar1 = *(undefined4 *)(local_6 + 0x57);
        SETBKCOLOR((HDC16)uVar1,(COLORREF)CONCAT22(param_1,(int)((ulong)uVar1 >> 0x10)));
        EXTTEXTOUT(0,(int16)ZEXT1416(CONCAT212(2,ZEXT412(CONCAT22(unaff_SS,&stack0xffe4)) << 0x40)),
                   (int16)(ZEXT1416(CONCAT212(iVar14,CONCAT210(iVar13,CONCAT28(iVar12,CONCAT26(
                                                  iVar11,CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1
                                                                                   ))))))) << 0x10),
                   (uint16)CONCAT214(uVar15,CONCAT212(iVar4,CONCAT210(iVar9,CONCAT28(
                                                  in_stack_0000ffec,
                                                  CONCAT26(iVar8,CONCAT24(iVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
        iVar10 = iVar10 + -1;
      } while (iVar10 != 0);
    }
    local_6 = local_6 + 4;
  } while (local_6 < 0x14);
  iVar10 = 0;
  do {
    local_4 = (int)((lVar2 * lVar3) / *(long *)(iVar10 + 0x43)) + 1;
    uVar15 = 0;
    if (0 < local_4) {
      do {
        iVar5 = FUN_1018_4a4a(iVar9);
        iVar5 = iVar5 + iVar11;
        iVar6 = FUN_1018_4a4a(iVar4);
        iVar6 = iVar6 + iVar12;
        iVar7 = iVar5 + 3;
        iVar8 = iVar6 + 3;
        uVar1 = *(undefined4 *)(iVar10 + 0x1b);
        SETBKCOLOR((HDC16)uVar1,(COLORREF)CONCAT22(param_1,(int)((ulong)uVar1 >> 0x10)));
        EXTTEXTOUT(0,(int16)ZEXT1416(CONCAT212(2,ZEXT412(CONCAT22(unaff_SS,&stack0xffe4)) << 0x40)),
                   (int16)(ZEXT1416(CONCAT212(iVar14,CONCAT210(iVar13,CONCAT28(iVar12,CONCAT26(
                                                  iVar11,CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1
                                                                                   ))))))) << 0x10),
                   (uint16)CONCAT214(uVar15,CONCAT212(iVar4,CONCAT210(iVar9,CONCAT28(
                                                  in_stack_0000ffec,
                                                  CONCAT26(iVar8,CONCAT24(iVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
        uVar1 = *(undefined4 *)(iVar10 + 0x2f);
        SETBKCOLOR((HDC16)uVar1,(COLORREF)CONCAT22(param_1,(int)((ulong)uVar1 >> 0x10)));
        INFLATERECT((RECT16 *)0xffff0000,
                    (int16)CONCAT214(iVar14,CONCAT212(iVar13,CONCAT210(iVar12,CONCAT28(iVar11,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  unaff_SS,&stack0xffe4))))))),
                    (int16)CONCAT214(uVar15,CONCAT212(iVar4,CONCAT210(iVar9,CONCAT28(
                                                  in_stack_0000ffec,
                                                  CONCAT26(iVar8,CONCAT24(iVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
        EXTTEXTOUT(0,(int16)ZEXT1416(CONCAT212(2,ZEXT412(CONCAT22(unaff_SS,&stack0xffe4)) << 0x40)),
                   (int16)(ZEXT1416(CONCAT212(iVar14,CONCAT210(iVar13,CONCAT28(iVar12,CONCAT26(
                                                  iVar11,CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1
                                                                                   ))))))) << 0x10),
                   (uint16)CONCAT214(uVar15,CONCAT212(iVar4,CONCAT210(iVar9,CONCAT28(
                                                  in_stack_0000ffec,
                                                  CONCAT26(iVar8,CONCAT24(iVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
        INFLATERECT((RECT16 *)0x1ffff,
                    (int16)CONCAT214(iVar14,CONCAT212(iVar13,CONCAT210(iVar12,CONCAT28(iVar11,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  unaff_SS,&stack0xffe4))))))),
                    (int16)CONCAT214(uVar15,CONCAT212(iVar4,CONCAT210(iVar9,CONCAT28(
                                                  in_stack_0000ffec,
                                                  CONCAT26(iVar8,CONCAT24(iVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
        EXTTEXTOUT(0,(int16)ZEXT1416(CONCAT212(2,ZEXT412(CONCAT22(unaff_SS,&stack0xffe4)) << 0x40)),
                   (int16)(ZEXT1416(CONCAT212(iVar14,CONCAT210(iVar13,CONCAT28(iVar12,CONCAT26(
                                                  iVar11,CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1
                                                                                   ))))))) << 0x10),
                   (uint16)CONCAT214(uVar15,CONCAT212(iVar4,CONCAT210(iVar9,CONCAT28(
                                                  in_stack_0000ffec,
                                                  CONCAT26(iVar8,CONCAT24(iVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
        local_4 = local_4 + -1;
      } while (local_4 != 0);
    }
    iVar10 = iVar10 + 4;
  } while (iVar10 < 0x10);
  FUN_1018_49d2();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int16 * __cdecl16far FUN_1010_26a0(void)

{
  int16 *piVar1;
  undefined *puVar2;
  void *func;

  if (((_PTR_DAT_10a8_0000_10a8_024c != 0) &&
      (_PTR_DAT_10a8_0000_10a8_024c != _PTR_DAT_10a8_0000_10a8_0250)) &&
     (PTR_DAT_10a8_0000_10a8_4b7e == (undefined *)0x0)) {
    func = MAKEPROCINSTANCE((void *)CONCAT22(0x2770,PTR_DAT_10a8_0000_10a8_839a),0x1010);
    puVar2 = PTR_DAT_10a8_0000_10a8_58b4;
    if (PTR_DAT_10a8_0000_10a8_0242 != (undefined *)0x0) {
      puVar2 = PTR_DAT_10a8_0000_10a8_0242;
    }
    piVar1 = DIALOGBOX((int16 *)func,(HINSTANCE16)((ulong)func >> 0x10),
                       (LPCSTR)CONCAT22(0x8c,puVar2),0,PTR_DAT_10a8_0000_10a8_839a);
    FREEPROCINSTANCE(func);
    return piVar1;
  }
  return (int16 *)&DAT_10a8_0001;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1010_2710(char *param_1)

{
  char cVar1;
  uint uVar2;
  char *pcVar3;
  long lStack_10;
  long local_6;

  local_6 = 0;
  if (*param_1 != '\0') {
    cVar1 = *param_1;
    while (cVar1 != '\0') {
      uVar2 = (uint)*param_1;
      local_6 = CONCAT22((int)((ulong)local_6 >> 0x10) + ((int)uVar2 >> 0xf) +
                         (uint)CARRY2((uint)local_6,uVar2),(uint)local_6 + uVar2);
      pcVar3 = param_1 + 1;
      if (*pcVar3 != '\0') {
        lStack_10 = (long)(int)*pcVar3;
        local_6 = lStack_10 * local_6;
        pcVar3 = param_1 + 2;
      }
      param_1 = pcVar3;
      cVar1 = *pcVar3;
    }
    if (local_6 == 0) {
      local_6 = 1;
    }
    return (uint)local_6;
  }
  return 0;
}


/*
Unable to decompile 'PASSWORDDLG'
Cause:
Low-level Error: Overlapping input varnodes
*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulong __stdcall16far
NEWPASSWORDDLG(undefined2 param_1_00,int param_2,int param_3,int param_4,undefined2 param_5)

{
  HWND16 HVar1;
  undefined2 uVar2;
  undefined2 uVar3;
  int iVar4;
  uint in_DX;
  uint uVar5;
  undefined2 unaff_SI;
  RECT16 *unaff_SS;
  COLORREF CVar6;
  LRESULT LVar7;
  undefined2 in_stack_0000ffdc;
  undefined2 in_stack_0000ffde;
  int in_stack_0000ffe0;
  HWND16 in_stack_0000ffe2;
  undefined2 in_stack_0000ffe4;
  undefined2 in_stack_0000ffe6;
  HWND16 hwnd;
  int in_stack_0000ffe8;
  undefined4 in_stack_0000ffee;
  WPARAM16 in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  undefined2 in_stack_0000fff8;
  uint uVar8;
  undefined2 in_stack_0000fffa;

  if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)&stack0xffee,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffee,unaff_SS,param_3);
  }
  else {
    if (param_4 == 0x19) {
      if (param_2 == 6) {
        uVar2 = 0xf;
        CVar6 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000fff6,
                                             CONCAT212(in_stack_0000fff4,
                                                       CONCAT210(in_stack_0000fff2,
                                                                 CONCAT46(in_stack_0000ffee,
                                                                          CONCAT24(unaff_SI,CONCAT22
                                                  (param_3,0xf)))))));
        CVar6 = SETBKCOLOR((HDC16)CVar6.value,CONCAT22(uVar2,(int)(CVar6.value >> 0x10)));
        return CVar6.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
LAB_1010_2af0:
      return (ulong)in_DX << 0x10;
    }
    if (param_4 == 0x110) {
      SENDDLGITEMMESSAGE(0,(int16)CONCAT412(in_stack_0000ffee,
                                            CONCAT210(unaff_SI,CONCAT28(param_5,0x10c041500100000)))
                         ,in_stack_0000fff2,CONCAT22(in_stack_0000fff6,in_stack_0000fff4));
      LVar7 = SENDDLGITEMMESSAGE(0,(int16)CONCAT412(in_stack_0000ffee,
                                                    CONCAT210(unaff_SI,CONCAT28(param_5,
                                                  0x10d041500100000))),in_stack_0000fff2,
                                 CONCAT22(in_stack_0000fff6,in_stack_0000fff4));
      in_DX = (uint)((ulong)LVar7 >> 0x10);
      if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) {
        HVar1 = GETDLGITEM(0x7e2,(int16)CONCAT214(in_stack_0000fff8,
                                                  CONCAT212(in_stack_0000fff6,
                                                            CONCAT210(in_stack_0000fff4,
                                                                      CONCAT28(in_stack_0000fff2,
                                                                               CONCAT44(
                                                  in_stack_0000ffee,CONCAT22(unaff_SI,param_5)))))))
        ;
        iVar4 = (int)s_From___s_c_c_10a8_10a2 + 6;
        hwnd = 0x723;
        SETWINDOWTEXT(0x723,CONCAT22(HVar1,0x10a8));
      }
      else {
        HVar1 = GETDLGITEM(0x7e2,(int16)CONCAT214(in_stack_0000fff8,
                                                  CONCAT212(in_stack_0000fff6,
                                                            CONCAT210(in_stack_0000fff4,
                                                                      CONCAT28(in_stack_0000fff2,
                                                                               CONCAT44(
                                                  in_stack_0000ffee,CONCAT22(unaff_SI,param_5)))))))
        ;
        iVar4 = (int)s_From___s_c_c_10a8_10a2 + 6;
        hwnd = 0x762;
      }
      SETWINDOWTEXT(hwnd,CONCAT22(HVar1,iVar4));
    }
    else {
      if (param_4 != 0x111) goto LAB_1010_2af0;
      if ((param_3 == 1) || (param_3 == 2)) {
        uVar5 = in_DX;
        if (param_3 == 1) {
          HVar1 = GETDLGITEM(0x10c,(int16)CONCAT214(in_stack_0000fff8,
                                                    CONCAT212(in_stack_0000fff6,
                                                              CONCAT210(in_stack_0000fff4,
                                                                        CONCAT28(in_stack_0000fff2,
                                                                                 CONCAT44(
                                                  in_stack_0000ffee,CONCAT22(unaff_SI,param_5)))))))
          ;
          in_stack_0000ffe8 = (int)s_From___s_c_c_10a8_10a2 + 6;
          in_stack_0000ffe6 = SUB42(&DAT_10a8_86de,0);
          in_stack_0000ffe4 = 0x12;
          GETWINDOWTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0012,(HWND16)&DAT_10a8_86de,
                        CONCAT22(HVar1,0x10a8),
                        (int16)CONCAT214(in_stack_0000fffa,
                                         CONCAT212(in_stack_0000fff8,
                                                   CONCAT210(in_stack_0000fff6,
                                                             CONCAT28(in_stack_0000fff4,
                                                                      CONCAT26(in_stack_0000fff2,
                                                                               CONCAT42(
                                                  in_stack_0000ffee,unaff_SI)))))));
          uVar2 = FUN_1010_2710((char *)&DAT_10a8_86de);
          uVar5 = in_DX;
          in_stack_0000ffe2 =
               GETDLGITEM(0x10d,(int16)CONCAT412(in_stack_0000ffee,
                                                 CONCAT210(unaff_SI,CONCAT28(HVar1,CONCAT26(
                                                  in_stack_0000ffe8,
                                                  CONCAT24(in_stack_0000ffe6,
                                                           CONCAT22(in_stack_0000ffe4,param_5)))))))
          ;
          in_stack_0000ffe0 = (int)s_From___s_c_c_10a8_10a2 + 6;
          in_stack_0000ffde = SUB42(&DAT_10a8_86de,0);
          in_stack_0000ffdc = 0x12;
          GETWINDOWTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0012,(HWND16)&DAT_10a8_86de,
                        CONCAT22(in_stack_0000ffe2,0x10a8),
                        (int16)CONCAT214(in_stack_0000fff2,
                                         CONCAT410(in_stack_0000ffee,
                                                   CONCAT28(unaff_SI,CONCAT26(HVar1,CONCAT24(
                                                  in_stack_0000ffe8,
                                                  CONCAT22(in_stack_0000ffe6,in_stack_0000ffe4))))))
                       );
          uVar3 = FUN_1010_2710((char *)&DAT_10a8_86de);
          if (CONCAT22(in_DX,uVar3) != CONCAT22(uVar5,uVar2)) {
            FUN_1018_50b2(0x9e,0x10);
            HVar1 = GETDLGITEM(0x10c,(int16)CONCAT214(in_stack_0000ffe8,
                                                      CONCAT212(in_stack_0000ffe6,
                                                                CONCAT210(in_stack_0000ffe4,
                                                                          CONCAT28(in_stack_0000ffe2
                                                                                   ,CONCAT26(
                                                  in_stack_0000ffe0,
                                                  CONCAT24(in_stack_0000ffde,
                                                           CONCAT22(in_stack_0000ffdc,param_5)))))))
                              );
            SETFOCUS(HVar1);
            LVar7 = SENDDLGITEMMESSAGE(0,(int16)CONCAT214(in_stack_0000ffe0,
                                                          CONCAT212(in_stack_0000ffde,
                                                                    CONCAT210(in_stack_0000ffdc,
                                                                              CONCAT28(param_5,
                                                  0x10c04010000ffff)))),in_stack_0000ffe2,
                                       CONCAT22(in_stack_0000ffe6,in_stack_0000ffe4));
            in_DX = (uint)((ulong)LVar7 >> 0x10);
            goto LAB_1010_2af0;
          }
          if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) {
            _PTR_DAT_10a8_0000_10a8_024c = CONCAT22(uVar5,uVar2);
            uVar8 = uVar5;
            iVar4 = FUN_1040_230a((VA_LIST16)&DAT_10a8_85dc,(undefined *)0xffff,0);
            if (iVar4 == 0) {
              FUN_1018_50b2(0xc,0x10);
              _PTR_DAT_10a8_0000_10a8_024c = _PTR_DAT_10a8_0000_10a8_0250;
            }
            else {
              _PTR_DAT_10a8_0000_10a8_0250 = CONCAT22(uVar8,uVar2);
            }
          }
          else {
            FUN_1020_4788(0x24,4,(undefined2 *)&stack0xfff6);
          }
        }
        if (param_3 != 1) {
          param_3 = 0;
        }
        ENDDIALOG(param_3,(int16)CONCAT214(in_stack_0000ffe8,
                                           CONCAT212(in_stack_0000ffe6,
                                                     CONCAT210(in_stack_0000ffe4,
                                                               CONCAT28(in_stack_0000ffe2,
                                                                        CONCAT26(in_stack_0000ffe0,
                                                                                 CONCAT24(
                                                  in_stack_0000ffde,
                                                  CONCAT22(in_stack_0000ffdc,param_5))))))));
        in_DX = uVar5;
      }
      else {
        if (param_3 != 0x76) goto LAB_1010_2af0;
        WINHELP(0xa6,(LPCSTR)0x10000,
                (uint16)CONCAT214(in_stack_0000fff4,
                                  CONCAT212(in_stack_0000fff2,
                                            CONCAT48(in_stack_0000ffee,
                                                     CONCAT26(unaff_SI,CONCAT24(param_5,CONCAT22(
                                                  0x10a8,PTR_s_stars__hlp_10a8_00b2_10a8_00be)))))))
        ;
      }
    }
  }
  return (ulong)in_DX << 0x10 | 1;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: ram

ulong __stdcall16far MESSAGEWNDPROC(undefined *param_1,int param_2,int param_3,ulong param_4)

{
  int *piVar1;
  uint *puVar2;
  undefined2 *puVar3;
  char *pcVar4;
  undefined2 *puVar5;
  undefined4 uVar6;
  char cVar7;
  HWND16 HVar8;
  undefined *puVar9;
  int16 *piVar10;
  undefined2 uVar11;
  uint uVar12;
  uint uVar13;
  int iVar14;
  undefined2 *puVar15;
  int unaff_SI;
  HRGN16 unaff_DI;
  int iVar16;
  undefined2 *puVar17;
  char *pcVar18;
  PAINTSTRUCT16 *unaff_SS;
  PAINTSTRUCT16 *pPVar19;
  COLORREF CVar20;
  COLORREF CVar21;
  ulong uVar22;
  RECT16 *in_stack_0000ffaa;
  bool16 erase;
  undefined in_stack_0000ffae;
  undefined uVar23;
  undefined in_stack_0000ffaf;
  undefined uVar24;
  PAINTSTRUCT16 *in_stack_0000ffb0;
  undefined4 *puVar25;
  undefined *puVar26;
  undefined in_stack_0000ffb6;
  byte bVar27;
  undefined in_stack_0000ffb7;
  HDC16 in_stack_0000ffb8;
  WPARAM16 in_stack_0000ffba;
  HDC16 in_stack_0000ffbc;
  WPARAM16 in_stack_0000ffbe;
  undefined2 in_stack_0000ffc0;
  WPARAM16 in_stack_0000ffc2;
  undefined2 in_stack_0000ffc4;
  WPARAM16 in_stack_0000ffc6;
  undefined2 in_stack_0000ffc8;
  WPARAM16 in_stack_0000ffca;
  undefined2 in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  undefined2 in_stack_0000ffd2;
  undefined4 in_stack_0000ffd4;
  undefined2 in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  undefined2 in_stack_0000ffdc;
  undefined2 in_stack_0000ffde;
  HWND16 in_stack_0000ffe0;
  HMENU16 in_stack_0000ffe2;
  int iVar28;
  HWND16 in_stack_0000ffe4;
  word wVar29;
  word flags;
  HMENU16 in_stack_0000ffe6;
  int iVar30;
  HWND16 in_stack_0000ffe8;
  undefined *puVar31;
  HMENU16 in_stack_0000ffea;
  HINSTANCE16 instance;
  LPVOID in_stack_0000ffee;
  LPVOID in_stack_0000fff2;
  undefined4 local_a;
  undefined4 local_6;

  puVar25 = (undefined4 *)CONCAT11(in_stack_0000ffaf,in_stack_0000ffae);
  pPVar19 = (PAINTSTRUCT16 *)((int)s_From___s_c_c_10a8_10a2 + 6);
  if ((uint)param_4 == 0x20) {
    puVar25 = &local_6;
    in_stack_0000ffb0 = unaff_SS;
    GETCURSORPOS((POINT16 *)puVar25);
    SCREENTOCLIENT((HWND16)&local_6,(POINT16 *)(param_4 & 0xffff0000 | ZEXT24(unaff_SS)));
    iVar16 = FUN_1010_6ac4((int)local_6);
    if (iVar16 != 0) {
      SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_834a);
      return 1;
    }
    goto LAB_1010_37b2;
  }
  if ((uint)param_4 < 0x21) {
    if ((uint)param_4 == 0x19) {
      puVar25 = (undefined4 *)CONCAT11(in_stack_0000ffaf,in_stack_0000ffae);
      if (param_1 == PTR_DAT_10a8_0000_10a8_83a4) {
        SETBKCOLOR((HDC16)_DAT_10a8_5714,
                   (COLORREF)CONCAT22(param_3,(int)((ulong)_DAT_10a8_5714 >> 0x10)));
        return ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
LAB_1010_37b2:
      uVar22 = DEFWINDOWPROC((HWND16)param_1,
                             (uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(
                                                  in_stack_0000ffb0,
                                                  CONCAT19((char)((uint)puVar25 >> 8),
                                                           CONCAT18((char)puVar25,
                                                                    CONCAT26(param_4._2_2_,
                                                                             CONCAT24((uint)param_4,
                                                                                      CONCAT22(
                                                  param_3,param_2)))))))),
                             CONCAT11(in_stack_0000ffb7,in_stack_0000ffb6),
                             CONCAT22(in_stack_0000ffba,in_stack_0000ffb8));
      return uVar22;
    }
    puVar25 = (undefined4 *)CONCAT11(in_stack_0000ffaf,in_stack_0000ffae);
    if (0x19 < (uint)param_4) goto LAB_1010_37b2;
    cVar7 = (char)param_4;
    if (cVar7 == '\x01') {
      instance = 0;
      do {
        PTR_DAT_10a8_0000_10a8_00cc = param_4._2_2_;
        iVar16 = instance * 2;
        if (instance == 3) {
          uVar11 = 0x32;
        }
        else {
          uVar11 = 0x2c;
        }
        HVar8 = CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                             CONCAT22(((int)PTR_DAT_10a8_0000_10a8_5794 * 3 >> 1) + -1,param_4._2_2_
                                     ),
                             (int16)CONCAT115(0x10,CONCAT114(0x78,CONCAT212(0x10a8,CONCAT210(*(
                                                  undefined2 *)(iVar16 + 0x1070),
                                                  CONCAT28(0x4000,(qword)CONCAT24(100,CONCAT22(100,
                                                  uVar11))))))),
                             (int16)CONCAT214(in_stack_0000ffbe,
                                              CONCAT212(in_stack_0000ffbc,
                                                        CONCAT210(in_stack_0000ffba,
                                                                  CONCAT28(iVar16,CONCAT17(
                                                  in_stack_0000ffb7,
                                                  CONCAT16(in_stack_0000ffb6,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  0x10a8)))))))),
                             (int16)CONCAT214(in_stack_0000ffce,
                                              CONCAT212(in_stack_0000ffcc,
                                                        CONCAT210(in_stack_0000ffca,
                                                                  CONCAT28(in_stack_0000ffc8,
                                                                           CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(in_stack_0000ffc4,
                                                           CONCAT22(in_stack_0000ffc2,
                                                                    in_stack_0000ffc0))))))),
                             (int16)CONCAT214(in_stack_0000ffde,
                                              CONCAT212(in_stack_0000ffdc,
                                                        CONCAT210(in_stack_0000ffda,
                                                                  CONCAT28(in_stack_0000ffd8,
                                                                           CONCAT44(
                                                  in_stack_0000ffd4,
                                                  CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))))
                             ,in_stack_0000ffe0,in_stack_0000ffe2,in_stack_0000ffe4,
                             (LPVOID)CONCAT22(in_stack_0000ffe8,in_stack_0000ffe6));
        *(HWND16 *)((int)&PTR_DAT_10a8_0000_10a8_7d54 + iVar16) = HVar8;
        unaff_DI = *(HRGN16 *)((int)&PTR_DAT_10a8_0000_10a8_7d54 + instance * 2);
        unaff_SI = 0x30;
        SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffbc,
                                        CONCAT212(in_stack_0000ffba,
                                                  CONCAT210(iVar16,CONCAT19(in_stack_0000ffb7,
                                                                            CONCAT18(
                                                  in_stack_0000ffb6,
                                                  CONCAT26(unaff_DI,CONCAT24(0x30,ZEXT24(
                                                  PTR_DAT_10a8_0000_10a8_59c6) << 0x10))))))),
                    in_stack_0000ffbe,CONCAT22(in_stack_0000ffc2,in_stack_0000ffc0));
        instance = instance + 1;
      } while ((int)instance < 4);
      PTR_DAT_10a8_0000_10a8_8308 =
           (undefined *)
           CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                        CONCAT22(0x50,param_4._2_2_),
                        (int16)CONCAT214(0x1085,CONCAT212(0x10a8,CONCAT111(0x10,CONCAT110(0x7f,
                                                  CONCAT28(0x4020,0x30064006400c8))))),
                        (int16)CONCAT214(in_stack_0000ffc2,
                                         CONCAT212(in_stack_0000ffc0,
                                                   CONCAT210(in_stack_0000ffbe,
                                                             CONCAT28(in_stack_0000ffbc,
                                                                      CONCAT26(in_stack_0000ffba,
                                                                               CONCAT24(iVar16,
                                                  CONCAT13(in_stack_0000ffb7,
                                                           CONCAT12(in_stack_0000ffb6,0x10a8))))))))
                        ,(int16)CONCAT214(in_stack_0000ffd2,
                                          CONCAT212(in_stack_0000ffd0,
                                                    CONCAT210(in_stack_0000ffce,
                                                              CONCAT28(in_stack_0000ffcc,
                                                                       CONCAT26(in_stack_0000ffca,
                                                                                CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4))))))
                                         ),
                        (int16)CONCAT214(in_stack_0000ffe2,
                                         CONCAT212(in_stack_0000ffe0,
                                                   CONCAT210(in_stack_0000ffde,
                                                             CONCAT28(in_stack_0000ffdc,
                                                                      CONCAT26(in_stack_0000ffda,
                                                                               CONCAT24(
                                                  in_stack_0000ffd8,in_stack_0000ffd4)))))),
                        in_stack_0000ffe4,in_stack_0000ffe6,in_stack_0000ffe8,
                        (LPVOID)CONCAT22(instance,in_stack_0000ffea));
      SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc0,
                                      CONCAT212(in_stack_0000ffbe,
                                                CONCAT210(in_stack_0000ffbc,
                                                          CONCAT28(in_stack_0000ffba,
                                                                   CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8308,
                                                  (uint6)CONCAT14(0x30,ZEXT24(
                                                  PTR_DAT_10a8_0000_10a8_59c6) << 0x10)))))),
                  in_stack_0000ffc2,CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4));
      PTR_DAT_10a8_0000_10a8_87f0 =
           (undefined *)
           CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                        CONCAT22(0x32,param_4._2_2_),
                        (int16)CONCAT115(0x10,CONCAT114(0x8e,ZEXT1014(CONCAT28(0x4080,
                                                  0x440064006400c8)))),
                        (int16)CONCAT214(in_stack_0000ffc6,
                                         CONCAT212(in_stack_0000ffc4,
                                                   CONCAT210(in_stack_0000ffc2,
                                                             CONCAT28(in_stack_0000ffc0,
                                                                      CONCAT26(in_stack_0000ffbe,
                                                                               CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(in_stack_0000ffba,0x10a8))))))),
                        (int16)CONCAT412(in_stack_0000ffd4,
                                         CONCAT210(in_stack_0000ffd2,
                                                   CONCAT28(in_stack_0000ffd0,
                                                            CONCAT26(in_stack_0000ffce,
                                                                     CONCAT24(in_stack_0000ffcc,
                                                                              CONCAT22(
                                                  in_stack_0000ffca,in_stack_0000ffc8)))))),
                        (int16)CONCAT214(in_stack_0000ffe6,
                                         CONCAT212(in_stack_0000ffe4,
                                                   CONCAT210(in_stack_0000ffe2,
                                                             CONCAT28(in_stack_0000ffe0,
                                                                      CONCAT26(in_stack_0000ffde,
                                                                               CONCAT24(
                                                  in_stack_0000ffdc,
                                                  CONCAT22(in_stack_0000ffda,in_stack_0000ffd8))))))
                                        ),in_stack_0000ffe8,in_stack_0000ffea,instance,
                        in_stack_0000ffee);
      SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc4,
                                      CONCAT212(in_stack_0000ffc2,
                                                CONCAT210(in_stack_0000ffc0,
                                                          CONCAT28(in_stack_0000ffbe,
                                                                   CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_0aa4,0x41503c80000))))),
                  in_stack_0000ffc6,CONCAT22(in_stack_0000ffca,in_stack_0000ffc8));
      SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc4,
                                      CONCAT212(in_stack_0000ffc2,
                                                CONCAT210(in_stack_0000ffc0,
                                                          CONCAT28(in_stack_0000ffbe,
                                                                   CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_0aa4,
                                                  CONCAT24(0x30,ZEXT24(PTR_DAT_10a8_0000_10a8_59c6)
                                                                << 0x10)))))),in_stack_0000ffc6,
                  CONCAT22(in_stack_0000ffca,in_stack_0000ffc8));
      PTR_DAT_10a8_0000_10a8_83a4 =
           (undefined *)
           CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                        CONCAT22(0x32,param_4._2_2_),
                        (int16)CONCAT214(0x1093,ZEXT1014(CONCAT28(0x40a0,0x8440064006400c8))),
                        (int16)CONCAT214(in_stack_0000ffca,
                                         CONCAT212(in_stack_0000ffc8,
                                                   CONCAT210(in_stack_0000ffc6,
                                                             CONCAT28(in_stack_0000ffc4,
                                                                      CONCAT26(in_stack_0000ffc2,
                                                                               CONCAT24(
                                                  in_stack_0000ffc0,
                                                  CONCAT22(in_stack_0000ffbe,0x10a8))))))),
                        (int16)CONCAT214(in_stack_0000ffda,
                                         CONCAT212(in_stack_0000ffd8,
                                                   CONCAT48(in_stack_0000ffd4,
                                                            CONCAT26(in_stack_0000ffd2,
                                                                     CONCAT24(in_stack_0000ffd0,
                                                                              CONCAT22(
                                                  in_stack_0000ffce,in_stack_0000ffcc)))))),
                        (int16)CONCAT214(in_stack_0000ffea,
                                         CONCAT212(in_stack_0000ffe8,
                                                   CONCAT210(in_stack_0000ffe6,
                                                             CONCAT28(in_stack_0000ffe4,
                                                                      CONCAT26(in_stack_0000ffe2,
                                                                               CONCAT24(
                                                  in_stack_0000ffe0,
                                                  CONCAT22(in_stack_0000ffde,in_stack_0000ffdc))))))
                                        ),instance,(HMENU16)in_stack_0000ffee,
                        (HINSTANCE16)((ulong)in_stack_0000ffee >> 0x10),in_stack_0000fff2);
      SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                      CONCAT212(in_stack_0000ffc6,
                                                CONCAT210(in_stack_0000ffc4,
                                                          CONCAT28(in_stack_0000ffc2,
                                                                   CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_0aa4,
                                                  CONCAT24(0x30,ZEXT24(PTR_DAT_10a8_0000_10a8_59c6)
                                                                << 0x10)))))),in_stack_0000ffca,
                  CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
      FUN_1010_63b4((int)param_4._2_2_);
      SENDMESSAGE((HWND16)s_Everybody_10a8_1098,
                  (uint16)CONCAT214(in_stack_0000ffc8,
                                    CONCAT212(in_stack_0000ffc6,
                                              CONCAT210(in_stack_0000ffc4,
                                                        CONCAT28(in_stack_0000ffc2,
                                                                 CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8308,0x403000010a8))))),
                  in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
      iVar16 = 0;
      if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
        do {
          HVar8 = FUN_1010_0792(iVar16,1,1,1,0,0);
          SENDMESSAGE(HVar8,(uint16)CONCAT214(in_stack_0000ffc8,
                                              CONCAT212(in_stack_0000ffc6,
                                                        CONCAT210(in_stack_0000ffc4,
                                                                  CONCAT28(in_stack_0000ffc2,
                                                                           CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8308,0x403000010a8))))),
                      in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          iVar16 = iVar16 + 1;
        } while (iVar16 < (int)PTR_DAT_10a8_0002_10a8_0038);
      }
      SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                      CONCAT212(in_stack_0000ffc6,
                                                CONCAT210(in_stack_0000ffc4,
                                                          CONCAT28(in_stack_0000ffc2,
                                                                   CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8308,0x40e00000000))))),
                  in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
      return 0;
    }
    if (cVar7 == '\x05') {
      iVar16 = 0;
      local_6 = CONCAT22(param_1,param_2);
      do {
        SETWINDOWPOS(0x55,0,(int16)CONCAT115(in_stack_0000ffb7,
                                             CONCAT114(in_stack_0000ffb6,
                                                       CONCAT212(unaff_DI,CONCAT210(unaff_SI,
                                                  CONCAT28(*(undefined2 *)
                                                            ((int)&PTR_DAT_10a8_0000_10a8_7d54 +
                                                            iVar16 * 2),
                                                           (qword)CONCAT22(param_1 + -0x30,
                                                                           (int)
                                                  PTR_DAT_10a8_0000_10a8_5794 * 2 +
                                                  (((int)PTR_DAT_10a8_0000_10a8_5794 * 3 >> 1) + 2)
                                                  * iVar16 + 3) << 0x10))))),
                     (int16)CONCAT214(in_stack_0000ffc6,
                                      CONCAT212(in_stack_0000ffc4,
                                                CONCAT210(in_stack_0000ffc2,
                                                          CONCAT28(in_stack_0000ffc0,
                                                                   CONCAT26(in_stack_0000ffbe,
                                                                            CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(in_stack_0000ffba,in_stack_0000ffb8))))))
                                     ),
                     (int16)CONCAT412(in_stack_0000ffd4,
                                      CONCAT210(in_stack_0000ffd2,
                                                CONCAT28(in_stack_0000ffd0,
                                                         CONCAT26(in_stack_0000ffce,
                                                                  CONCAT24(in_stack_0000ffcc,
                                                                           CONCAT22(
                                                  in_stack_0000ffca,in_stack_0000ffc8)))))),
                     (int16)CONCAT214(in_stack_0000ffe6,
                                      CONCAT212(in_stack_0000ffe4,
                                                CONCAT210(in_stack_0000ffe2,
                                                          CONCAT28(in_stack_0000ffe0,
                                                                   CONCAT26(in_stack_0000ffde,
                                                                            CONCAT24(
                                                  in_stack_0000ffdc,
                                                  CONCAT22(in_stack_0000ffda,in_stack_0000ffd8))))))
                                     ),in_stack_0000ffe8);
        iVar16 = iVar16 + 1;
      } while (iVar16 < 3);
      SETRECT((RECT16 *)CONCAT22(param_1 + -0x34,param_2 + -4),
              (int16)CONCAT214(in_stack_0000ffb8,
                               CONCAT113(in_stack_0000ffb7,
                                         CONCAT112(in_stack_0000ffb6,
                                                   CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  0x10a8,CONCAT15(0x57,CONCAT14(0xc,CONCAT22(4,(int)
                                                  PTR_DAT_10a8_0000_10a8_5794 * 2 + 3))))))))),
              (int16)CONCAT214(in_stack_0000ffc8,
                               CONCAT212(in_stack_0000ffc6,
                                         CONCAT210(in_stack_0000ffc4,
                                                   CONCAT28(in_stack_0000ffc2,
                                                            CONCAT26(in_stack_0000ffc0,
                                                                     CONCAT24(in_stack_0000ffbe,
                                                                              CONCAT22(
                                                  in_stack_0000ffbc,in_stack_0000ffba))))))),
              (int16)CONCAT214(in_stack_0000ffd8,
                               CONCAT410(in_stack_0000ffd4,
                                         CONCAT28(in_stack_0000ffd2,
                                                  CONCAT26(in_stack_0000ffd0,
                                                           CONCAT24(in_stack_0000ffce,
                                                                    CONCAT22(in_stack_0000ffcc,
                                                                             in_stack_0000ffca))))))
              ,(int16)CONCAT214(in_stack_0000ffe8,
                                CONCAT212(in_stack_0000ffe6,
                                          CONCAT210(in_stack_0000ffe4,
                                                    CONCAT28(in_stack_0000ffe2,
                                                             CONCAT26(in_stack_0000ffe0,
                                                                      CONCAT24(in_stack_0000ffde,
                                                                               CONCAT22(
                                                  in_stack_0000ffdc,in_stack_0000ffda))))))));
      SETRECT((RECT16 *)CONCAT22(param_1 + -4,(int)(PTR_DAT_10a8_0000_10a8_5794 + -2) * 2),
              (int16)CONCAT214(in_stack_0000ffb8,
                               CONCAT113(in_stack_0000ffb7,
                                         CONCAT112(in_stack_0000ffb6,
                                                   CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  0x10a87b3a00040004))))),
              (int16)CONCAT214(in_stack_0000ffc8,
                               CONCAT212(in_stack_0000ffc6,
                                         CONCAT210(in_stack_0000ffc4,
                                                   CONCAT28(in_stack_0000ffc2,
                                                            CONCAT26(in_stack_0000ffc0,
                                                                     CONCAT24(in_stack_0000ffbe,
                                                                              CONCAT22(
                                                  in_stack_0000ffbc,in_stack_0000ffba))))))),
              (int16)CONCAT214(in_stack_0000ffd8,
                               CONCAT410(in_stack_0000ffd4,
                                         CONCAT28(in_stack_0000ffd2,
                                                  CONCAT26(in_stack_0000ffd0,
                                                           CONCAT24(in_stack_0000ffce,
                                                                    CONCAT22(in_stack_0000ffcc,
                                                                             in_stack_0000ffca))))))
              ,(int16)CONCAT214(in_stack_0000ffe8,
                                CONCAT212(in_stack_0000ffe6,
                                          CONCAT210(in_stack_0000ffe4,
                                                    CONCAT28(in_stack_0000ffe2,
                                                             CONCAT26(in_stack_0000ffe0,
                                                                      CONCAT24(in_stack_0000ffde,
                                                                               CONCAT22(
                                                  in_stack_0000ffdc,in_stack_0000ffda))))))));
      local_a = _PTR_DAT_10a8_0000_10a8_5710;
      uVar22 = _PTR_DAT_10a8_0000_10a8_570c;
      FUN_1018_5948((int *)&stack0xfff2,-4,-4);
      SETWINDOWPOS(4,(int)local_a._2_2_ - (int)(uVar22 >> 0x10),
                   (int16)CONCAT115(in_stack_0000ffb7,
                                    CONCAT114(in_stack_0000ffb6,
                                              CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_8308,
                                                  (qword)CONCAT24((int)uVar22 + 0x1e,
                                                                  uVar22 & 0xffff0000 |
                                                                  (ulong)(((int)local_a -
                                                                          (int)uVar22) - 0x54)))))))
                   ,(int16)CONCAT214(in_stack_0000ffc6,
                                     CONCAT212(in_stack_0000ffc4,
                                               CONCAT210(in_stack_0000ffc2,
                                                         CONCAT28(in_stack_0000ffc0,
                                                                  CONCAT26(in_stack_0000ffbe,
                                                                           CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(in_stack_0000ffba,in_stack_0000ffb8))))))
                                    ),
                   (int16)CONCAT412(in_stack_0000ffd4,
                                    CONCAT210(in_stack_0000ffd2,
                                              CONCAT28(in_stack_0000ffd0,
                                                       CONCAT26(in_stack_0000ffce,
                                                                CONCAT24(in_stack_0000ffcc,
                                                                         CONCAT22(in_stack_0000ffca,
                                                                                  in_stack_0000ffc8)
                                                                        ))))),
                   (int16)CONCAT214(in_stack_0000ffe6,
                                    CONCAT212(in_stack_0000ffe4,
                                              CONCAT210(in_stack_0000ffe2,
                                                        CONCAT28(in_stack_0000ffe0,
                                                                 CONCAT26(in_stack_0000ffde,
                                                                          CONCAT24(in_stack_0000ffdc
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffda,in_stack_0000ffd8))))))),
                   in_stack_0000ffe8);
      SETWINDOWPOS(5,0,(int16)CONCAT115(in_stack_0000ffb7,
                                        CONCAT114(in_stack_0000ffb6,
                                                  CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_7d5a,
                                                  (qword)(CONCAT24((int)local_a + -0x32,uVar22) &
                                                         0xffffffff0000)))))),
                   (int16)CONCAT214(in_stack_0000ffc6,
                                    CONCAT212(in_stack_0000ffc4,
                                              CONCAT210(in_stack_0000ffc2,
                                                        CONCAT28(in_stack_0000ffc0,
                                                                 CONCAT26(in_stack_0000ffbe,
                                                                          CONCAT24(in_stack_0000ffbc
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffba,in_stack_0000ffb8))))))),
                   (int16)CONCAT412(in_stack_0000ffd4,
                                    CONCAT210(in_stack_0000ffd2,
                                              CONCAT28(in_stack_0000ffd0,
                                                       CONCAT26(in_stack_0000ffce,
                                                                CONCAT24(in_stack_0000ffcc,
                                                                         CONCAT22(in_stack_0000ffca,
                                                                                  in_stack_0000ffc8)
                                                                        ))))),
                   (int16)CONCAT214(in_stack_0000ffe6,
                                    CONCAT212(in_stack_0000ffe4,
                                              CONCAT210(in_stack_0000ffe2,
                                                        CONCAT28(in_stack_0000ffe0,
                                                                 CONCAT26(in_stack_0000ffde,
                                                                          CONCAT24(in_stack_0000ffdc
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffda,in_stack_0000ffd8))))))),
                   in_stack_0000ffe8);
      uVar23 = 0;
      uVar24 = 0;
      in_stack_0000ffb0 = (PAINTSTRUCT16 *)PTR_DAT_10a8_0000_10a8_87f0;
      SETWINDOWPOS(4,(int)local_a._2_2_ -
                     (int)(PTR_DAT_10a8_0000_10a8_579c + (int)(uVar22 >> 0x10) + 3),
                   (int16)CONCAT115(in_stack_0000ffb7,
                                    CONCAT114(in_stack_0000ffb6,
                                              CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_87f0,
                                                  (qword)CONCAT24((int)uVar22,
                                                                  CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_579c +
                                                  (int)(uVar22 >> 0x10) + 3,
                                                  (int)local_a - (int)uVar22))))))),
                   (int16)CONCAT214(in_stack_0000ffc6,
                                    CONCAT212(in_stack_0000ffc4,
                                              CONCAT210(in_stack_0000ffc2,
                                                        CONCAT28(in_stack_0000ffc0,
                                                                 CONCAT26(in_stack_0000ffbe,
                                                                          CONCAT24(in_stack_0000ffbc
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffba,in_stack_0000ffb8))))))),
                   (int16)CONCAT412(in_stack_0000ffd4,
                                    CONCAT210(in_stack_0000ffd2,
                                              CONCAT28(in_stack_0000ffd0,
                                                       CONCAT26(in_stack_0000ffce,
                                                                CONCAT24(in_stack_0000ffcc,
                                                                         CONCAT22(in_stack_0000ffca,
                                                                                  in_stack_0000ffc8)
                                                                        ))))),
                   (int16)CONCAT214(in_stack_0000ffe6,
                                    CONCAT212(in_stack_0000ffe4,
                                              CONCAT210(in_stack_0000ffe2,
                                                        CONCAT28(in_stack_0000ffe0,
                                                                 CONCAT26(in_stack_0000ffde,
                                                                          CONCAT24(in_stack_0000ffdc
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffda,in_stack_0000ffd8))))))),
                   in_stack_0000ffe8);
      puVar25 = (undefined4 *)CONCAT11(uVar24,uVar23);
      goto LAB_1010_37b2;
    }
    if (cVar7 != '\x0f') {
      puVar25 = (undefined4 *)CONCAT11(in_stack_0000ffaf,in_stack_0000ffae);
      if (cVar7 == '\x14') {
        GETCLIENTRECT((HWND16)&local_a,(RECT16 *)(param_4 & 0xffff0000 | ZEXT24(unaff_SS)));
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_a,(RECT16 *)unaff_SS,param_3);
        return 1;
      }
      goto LAB_1010_37b2;
    }
    puVar25 = (undefined4 *)0x0;
    puVar9 = (undefined *)
             BEGINPAINT((HWND16)&stack0xffba,
                        (PAINTSTRUCT16 *)(param_4 & 0xffff0000 | ZEXT24(unaff_SS)));
    FUN_1018_5bba(puVar9,puVar25,unaff_SI,unaff_DI,CONCAT11(in_stack_0000ffb7,in_stack_0000ffb6),
                  in_stack_0000ffb8,in_stack_0000ffba,in_stack_0000ffbc,in_stack_0000ffbe,
                  in_stack_0000ffc0,in_stack_0000ffc2,in_stack_0000ffc4,in_stack_0000ffc6,
                  in_stack_0000ffc8,in_stack_0000ffca);
    CVar20 = SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                          CONCAT22(puVar9,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
    CVar21 = SETBKCOLOR((HDC16)_DAT_10a8_5714,CONCAT22(puVar9,(int)((ulong)_DAT_10a8_5714 >> 0x10)))
    ;
    FUN_1018_5580(puVar9,(int *)&PTR_DAT_10a8_0000_10a8_7b3a,(LPCSTR)0x7a6e,
                  (int16)CONCAT214(in_stack_0000ffc2,
                                   CONCAT212(in_stack_0000ffc0,
                                             CONCAT210(in_stack_0000ffbe,
                                                       CONCAT28(in_stack_0000ffbc,
                                                                CONCAT26(in_stack_0000ffba,
                                                                         CONCAT24(in_stack_0000ffb8,
                                                                                  CONCAT13(
                                                  in_stack_0000ffb7,
                                                  CONCAT12(in_stack_0000ffb6,unaff_DI)))))))));
    FUN_1010_68ba(puVar9,(int)&PTR_DAT_10a8_0000_10a8_7b3a,unaff_DI,
                  CONCAT11(in_stack_0000ffb7,in_stack_0000ffb6),in_stack_0000ffb8,in_stack_0000ffba,
                  in_stack_0000ffbc,in_stack_0000ffbe,in_stack_0000ffc0,in_stack_0000ffc2,
                  in_stack_0000ffc4,in_stack_0000ffc6,in_stack_0000ffc8,
                  CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
                  CONCAT24(in_stack_0000ffd2,CONCAT22(in_stack_0000ffd0,in_stack_0000ffce)),
                  CONCAT24(in_stack_0000ffd8,in_stack_0000ffd4),
                  CONCAT22(in_stack_0000ffdc,in_stack_0000ffda),
                  CONCAT22(in_stack_0000ffe0,in_stack_0000ffde),in_stack_0000ffe2,
                  CONCAT22(in_stack_0000ffe6,in_stack_0000ffe4));
    iVar28 = (int)_PTR_DAT_10a8_0000_10a8_570c;
    wVar29 = (word)(_PTR_DAT_10a8_0000_10a8_570c >> 0x10);
    iVar30 = (int)_PTR_DAT_10a8_0000_10a8_5710;
    iVar16 = iVar30 - iVar28;
    local_6._2_2_ = (int)PTR_DAT_10a8_0000_10a8_5712 - wVar29;
    piVar10 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)puVar9,unaff_DI,
                           CONCAT11(in_stack_0000ffb7,in_stack_0000ffb6),
                           (int16)CONCAT214(in_stack_0000ffc6,
                                            CONCAT212(in_stack_0000ffc4,
                                                      CONCAT210(in_stack_0000ffc2,
                                                                CONCAT28(in_stack_0000ffc0,
                                                                         CONCAT26(in_stack_0000ffbe,
                                                                                  CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(in_stack_0000ffba,in_stack_0000ffb8))))))
                                           ));
    local_6 = CONCAT22(local_6._2_2_,piVar10);
    PATBLT(0x21,(int16)CONCAT115(in_stack_0000ffb7,
                                 CONCAT114(in_stack_0000ffb6,
                                           CONCAT212(unaff_DI,CONCAT210(puVar9,CONCAT28(iVar28,
                                                  CONCAT17((char)(wVar29 >> 8),
                                                           CONCAT16((char)wVar29,
                                                                    CONCAT24(iVar16,0x100f0)))))))),
           (int16)CONCAT214(in_stack_0000ffc6,
                            CONCAT212(in_stack_0000ffc4,
                                      CONCAT210(in_stack_0000ffc2,
                                                CONCAT28(in_stack_0000ffc0,
                                                         CONCAT26(in_stack_0000ffbe,
                                                                  CONCAT24(in_stack_0000ffbc,
                                                                           CONCAT22(
                                                  in_stack_0000ffba,in_stack_0000ffb8))))))),
           (int16)CONCAT412(in_stack_0000ffd4,
                            CONCAT210(in_stack_0000ffd2,
                                      CONCAT28(in_stack_0000ffd0,
                                               CONCAT26(in_stack_0000ffce,
                                                        CONCAT24(in_stack_0000ffcc,
                                                                 CONCAT22(in_stack_0000ffca,
                                                                          in_stack_0000ffc8)))))),
           (int16)CONCAT214(iVar30,CONCAT212(wVar29,CONCAT210(iVar28,CONCAT28(in_stack_0000ffe0,
                                                                              CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(in_stack_0000ffdc,
                                                           CONCAT22(in_stack_0000ffda,
                                                                    in_stack_0000ffd8))))))),
           CONCAT22(in_stack_0000ffea,PTR_DAT_10a8_0000_10a8_5712));
    PATBLT(0x21,(int16)CONCAT115(in_stack_0000ffb7,
                                 CONCAT114(in_stack_0000ffb6,
                                           CONCAT212(unaff_DI,CONCAT210(puVar9,CONCAT28(iVar28,
                                                  CONCAT17((char)(wVar29 >> 8),
                                                           CONCAT16((char)wVar29,
                                                                    CONCAT24(1,local_6 & 0xffff0000
                                                                               | 0xf0)))))))),
           (int16)CONCAT214(in_stack_0000ffc6,
                            CONCAT212(in_stack_0000ffc4,
                                      CONCAT210(in_stack_0000ffc2,
                                                CONCAT28(in_stack_0000ffc0,
                                                         CONCAT26(in_stack_0000ffbe,
                                                                  CONCAT24(in_stack_0000ffbc,
                                                                           CONCAT22(
                                                  in_stack_0000ffba,in_stack_0000ffb8))))))),
           (int16)CONCAT412(in_stack_0000ffd4,
                            CONCAT210(in_stack_0000ffd2,
                                      CONCAT28(in_stack_0000ffd0,
                                               CONCAT26(in_stack_0000ffce,
                                                        CONCAT24(in_stack_0000ffcc,
                                                                 CONCAT22(in_stack_0000ffca,
                                                                          in_stack_0000ffc8)))))),
           (int16)CONCAT214(iVar30,CONCAT212(wVar29,CONCAT210(iVar28,CONCAT28(in_stack_0000ffe0,
                                                                              CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(in_stack_0000ffdc,
                                                           CONCAT22(in_stack_0000ffda,
                                                                    in_stack_0000ffd8))))))),
           CONCAT22(in_stack_0000ffea,PTR_DAT_10a8_0000_10a8_5712));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)puVar9,unaff_DI,
                 CONCAT11(in_stack_0000ffb7,in_stack_0000ffb6),
                 (int16)CONCAT214(in_stack_0000ffc6,
                                  CONCAT212(in_stack_0000ffc4,
                                            CONCAT210(in_stack_0000ffc2,
                                                      CONCAT28(in_stack_0000ffc0,
                                                               CONCAT26(in_stack_0000ffbe,
                                                                        CONCAT24(in_stack_0000ffbc,
                                                                                 CONCAT22(
                                                  in_stack_0000ffba,in_stack_0000ffb8))))))));
    PATBLT(0x21,(int16)CONCAT115(in_stack_0000ffb7,
                                 CONCAT114(in_stack_0000ffb6,
                                           CONCAT212(unaff_DI,CONCAT210(puVar9,CONCAT28(iVar28,
                                                  CONCAT17((char)((uint)(PTR_DAT_10a8_0000_10a8_5712
                                                                        + -1) >> 8),
                                                           CONCAT16((char)(
                                                  PTR_DAT_10a8_0000_10a8_5712 + -1),
                                                  CONCAT24(iVar16,0x100f0)))))))),
           (int16)CONCAT214(in_stack_0000ffc6,
                            CONCAT212(in_stack_0000ffc4,
                                      CONCAT210(in_stack_0000ffc2,
                                                CONCAT28(in_stack_0000ffc0,
                                                         CONCAT26(in_stack_0000ffbe,
                                                                  CONCAT24(in_stack_0000ffbc,
                                                                           CONCAT22(
                                                  in_stack_0000ffba,in_stack_0000ffb8))))))),
           (int16)CONCAT412(in_stack_0000ffd4,
                            CONCAT210(in_stack_0000ffd2,
                                      CONCAT28(in_stack_0000ffd0,
                                               CONCAT26(in_stack_0000ffce,
                                                        CONCAT24(in_stack_0000ffcc,
                                                                 CONCAT22(in_stack_0000ffca,
                                                                          in_stack_0000ffc8)))))),
           (int16)CONCAT214(iVar30,CONCAT212(wVar29,CONCAT210(iVar28,CONCAT28(in_stack_0000ffe0,
                                                                              CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(in_stack_0000ffdc,
                                                           CONCAT22(in_stack_0000ffda,
                                                                    in_stack_0000ffd8))))))),
           CONCAT22(in_stack_0000ffea,PTR_DAT_10a8_0000_10a8_5712));
    PATBLT(0x21,(int16)CONCAT115(in_stack_0000ffb7,
                                 CONCAT114(in_stack_0000ffb6,
                                           CONCAT212(unaff_DI,CONCAT210(puVar9,CONCAT28(iVar30 + -1,
                                                                                        CONCAT17((
                                                  char)(wVar29 >> 8),
                                                  CONCAT16((char)wVar29,
                                                           CONCAT24(1,local_6 & 0xffff0000 | 0xf0)))
                                                  ))))),
           (int16)CONCAT214(in_stack_0000ffc6,
                            CONCAT212(in_stack_0000ffc4,
                                      CONCAT210(in_stack_0000ffc2,
                                                CONCAT28(in_stack_0000ffc0,
                                                         CONCAT26(in_stack_0000ffbe,
                                                                  CONCAT24(in_stack_0000ffbc,
                                                                           CONCAT22(
                                                  in_stack_0000ffba,in_stack_0000ffb8))))))),
           (int16)CONCAT412(in_stack_0000ffd4,
                            CONCAT210(in_stack_0000ffd2,
                                      CONCAT28(in_stack_0000ffd0,
                                               CONCAT26(in_stack_0000ffce,
                                                        CONCAT24(in_stack_0000ffcc,
                                                                 CONCAT22(in_stack_0000ffca,
                                                                          in_stack_0000ffc8)))))),
           (int16)CONCAT214(iVar30,CONCAT212(wVar29,CONCAT210(iVar28,CONCAT28(in_stack_0000ffe0,
                                                                              CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(in_stack_0000ffdc,
                                                           CONCAT22(in_stack_0000ffda,
                                                                    in_stack_0000ffd8))))))),
           CONCAT22(in_stack_0000ffea,PTR_DAT_10a8_0000_10a8_5712));
    SELECTOBJECT((int16 *)local_6,(HRGN16)puVar9,unaff_DI,
                 CONCAT11(in_stack_0000ffb7,in_stack_0000ffb6),
                 (int16)CONCAT214(in_stack_0000ffc6,
                                  CONCAT212(in_stack_0000ffc4,
                                            CONCAT210(in_stack_0000ffc2,
                                                      CONCAT28(in_stack_0000ffc0,
                                                               CONCAT26(in_stack_0000ffbe,
                                                                        CONCAT24(in_stack_0000ffbc,
                                                                                 CONCAT22(
                                                  in_stack_0000ffba,in_stack_0000ffb8))))))));
    FUN_1018_5948((int *)&stack0xffe2,-4,-4);
    if ((DAT_10a8_0a47 & 8) != 0) {
      FUN_1018_55f6(puVar9,iVar28 + 0x1a,wVar29,0x10cf,(int16 *)&DAT_10a8_0003,0,
                    CONCAT13(in_stack_0000ffb7,CONCAT12(in_stack_0000ffb6,unaff_DI)),
                    in_stack_0000ffb8,
                    CONCAT212(in_stack_0000ffc6,
                              CONCAT210(in_stack_0000ffc4,
                                        CONCAT28(in_stack_0000ffc2,
                                                 CONCAT26(in_stack_0000ffc0,
                                                          CONCAT24(in_stack_0000ffbe,
                                                                   CONCAT22(in_stack_0000ffbc,
                                                                            in_stack_0000ffba)))))))
      ;
      goto LAB_1010_3215;
    }
    if ((int)PTR_DAT_10a8_0000_10a8_1046 < (int)PTR_DAT_10a8_0000_10a8_1044) {
      iVar16 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
      if (((int)PTR_DAT_10a8_0000_10a8_1046 < 0) && (0 < (int)PTR_DAT_10a8_0000_10a8_1044)) {
        uVar13 = 0x1f;
LAB_1010_30bd:
        uVar11 = FUN_1018_5112(uVar13);
      }
      else {
        if ((-1 < (int)PTR_DAT_10a8_0000_10a8_1046) &&
           (((1 << ((byte)iVar16 & 7) & (uint)*(byte *)((int)&DAT_10a8_83ae + (iVar16 >> 3))) != 0
            && (PTR_DAT_10a8_0000_10a8_104a == (undefined *)0x0)))) {
          uVar13 = 0x1e;
          goto LAB_1010_30bd;
        }
        uVar11 = FUN_1010_6f38((int)PTR_DAT_10a8_0000_10a8_1046);
      }
      local_6 = CONCAT22(0x10a8,uVar11);
    }
    else {
      local_6 = _PTR_DAT_10a8_0000_10a8_104c;
      if ((int)PTR_DAT_10a8_0000_10a8_1044 < (int)PTR_DAT_10a8_0000_10a8_1046) {
        local_6._0_2_ = (int16 *)_PTR_DAT_10a8_0000_10a8_104c;
        puVar31 = PTR_DAT_10a8_0000_10a8_1044;
        do {
          puVar15 = *(undefined2 **)(int16 *)local_6;
          PTR_DAT_10a8_0000_10a8_104e = (undefined *)*(undefined2 *)((int)(int16 *)local_6 + 2);
          puVar31 = puVar31 + 1;
          local_6._0_2_ = (int16 *)puVar15;
        } while ((int)puVar31 < (int)PTR_DAT_10a8_0000_10a8_1046);
        local_6 = CONCAT22(PTR_DAT_10a8_0000_10a8_104e,puVar15);
      }
      uVar11 = FUN_1010_0792(*(int *)((int)local_6 + 4),1,1,1,0,0);
      local_a._2_2_ =
           _WSPRINTF((int16 *)_PTR_DAT_10a8_0000_10a8_8312,
                     (LPSTR)CONCAT22(0x10a2,(int)(_PTR_DAT_10a8_0000_10a8_8312 >> 0x10)),
                     (LPCSTR)CONCAT22(uVar11,0x10a8),(VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6))
      ;
      uVar11 = (undefined2)(local_6 >> 0x10);
      if (*(int *)((int)local_6 + 6) == 0) {
        local_a._0_2_ = (int)s_Everybody_10a8_10b0;
      }
      else {
        local_a._0_2_ = FUN_1010_0792(*(int *)((int)local_6 + 6) + -1,1,1,1,0,0);
      }
      piVar10 = _WSPRINTF((int16 *)((int)_PTR_DAT_10a8_0000_10a8_8312 + (int)local_a._2_2_),
                          (LPSTR)CONCAT22(0x10ba,(int)(_PTR_DAT_10a8_0000_10a8_8312 >> 0x10)),
                          (LPCSTR)CONCAT22((int)local_a,0x10a8),
                          (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
      iVar16 = (int)local_a._2_2_ + (int)piVar10;
      local_a = CONCAT22(iVar16,(int)local_a);
      uVar11 = (undefined2)(local_6 >> 0x10);
      iVar14 = (int)local_6;
      if (*(int *)(iVar14 + 10) < 0) {
        puVar15 = (undefined2 *)(PTR_DAT_10a8_0000_10a8_8312 + iVar16);
        pcVar18 = (char *)(iVar14 + 0xc);
        uVar13 = 0xffff;
        do {
          if (uVar13 == 0) break;
          uVar13 = uVar13 - 1;
          pcVar4 = pcVar18;
          pcVar18 = pcVar18 + 1;
        } while (*pcVar4 != '\0');
        uVar13 = ~uVar13;
        puVar17 = (undefined2 *)(pcVar18 + -uVar13);
        for (uVar12 = uVar13 >> 1; uVar12 != 0; uVar12 = uVar12 - 1) {
          puVar5 = puVar15;
          puVar15 = puVar15 + 1;
          puVar3 = puVar17;
          puVar17 = puVar17 + 1;
          *puVar5 = *puVar3;
        }
        for (uVar13 = (uint)((uVar13 & 1) != 0); uVar13 != 0; uVar13 = uVar13 - 1) {
          puVar5 = puVar15;
          puVar15 = (undefined2 *)((int)puVar15 + 1);
          puVar3 = puVar17;
          puVar17 = (undefined2 *)((int)puVar17 + 1);
          *(undefined *)puVar5 = *(undefined *)puVar3;
        }
      }
      else {
        FUN_1018_685e((byte *)(iVar14 + 0xc),uVar11,*(int *)(iVar14 + 10),
                      _PTR_DAT_10a8_0000_10a8_8312 & 0xffff0000 |
                      ZEXT24(PTR_DAT_10a8_0000_10a8_8312 + iVar16),(int *)&stack0xffec);
      }
      local_6 = _PTR_DAT_10a8_0000_10a8_8312;
    }
    SETTEXTCOLOR(0xffff,(COLORREF)CONCAT22(puVar9,0xff));
    piVar10 = SETBKMODE((int16 *)&DAT_10a8_0001,(HDC16)puVar9,
                        (int16)CONCAT214(in_stack_0000ffc2,
                                         CONCAT212(in_stack_0000ffc0,
                                                   CONCAT210(in_stack_0000ffbe,
                                                             CONCAT28(in_stack_0000ffbc,
                                                                      CONCAT26(in_stack_0000ffba,
                                                                               CONCAT24(
                                                  in_stack_0000ffb8,
                                                  CONCAT13(in_stack_0000ffb7,
                                                           CONCAT12(in_stack_0000ffb6,unaff_DI))))))
                                                  )));
    local_a = local_a & 0xffff | ZEXT24(piVar10) << 0x10;
    if (((int)PTR_DAT_10a8_0000_10a8_1046 < 0) && (0 < (int)PTR_DAT_10a8_0000_10a8_1044)) {
LAB_1010_3132:
      FUN_1018_56e0((HRGN16)puVar9,(int *)&stack0xffe2,(char *)s_FILTERED_10a8_10c6,8);
    }
    else if (-1 < (int)PTR_DAT_10a8_0000_10a8_1046) {
      iVar16 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
      bVar27 = *(byte *)((int)&DAT_10a8_83ae + (iVar16 >> 3));
      uVar11 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
      if ((1 << ((byte)uVar11 & 7) & (uint)bVar27) != 0) goto LAB_1010_3132;
    }
    SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                 (COLORREF)CONCAT22(puVar9,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
    pcVar18 = (char *)local_6;
    uVar13 = 0xffff;
    do {
      if (uVar13 == 0) break;
      uVar13 = uVar13 - 1;
      pcVar4 = pcVar18;
      pcVar18 = pcVar18 + 1;
    } while (*pcVar4 != '\0');
    iVar16 = iVar28;
    flags = wVar29;
    iVar14 = iVar30;
    puVar31 = PTR_DAT_10a8_0000_10a8_5712;
    DRAWTEXT((int16 *)((int)s_Def_Coverage_10a8_0c06 + 10),(HDC16)&stack0xffda,
             (LPCSTR)CONCAT22(~uVar13 - 1,unaff_SS),
             (int16)CONCAT214(in_stack_0000ffbc,
                              CONCAT212(in_stack_0000ffba,
                                        CONCAT210(in_stack_0000ffb8,
                                                  CONCAT19(in_stack_0000ffb7,
                                                           CONCAT18(in_stack_0000ffb6,
                                                                    CONCAT26(unaff_DI,CONCAT24(
                                                  puVar9,local_6))))))),
             (RECT16 *)CONCAT22(in_stack_0000ffc0,in_stack_0000ffbe),
             (uint16)CONCAT214(in_stack_0000ffd0,
                               CONCAT212(in_stack_0000ffce,
                                         CONCAT210(in_stack_0000ffcc,
                                                   CONCAT28(in_stack_0000ffca,
                                                            CONCAT26(in_stack_0000ffc8,
                                                                     CONCAT24(in_stack_0000ffc6,
                                                                              CONCAT22(
                                                  in_stack_0000ffc4,in_stack_0000ffc2))))))));
    if ((int)puVar31 < (int)PTR_DAT_10a8_0000_10a8_5712) {
      uVar23 = (undefined)local_6;
      uVar24 = (undefined)(local_6 >> 8);
      uVar11 = (undefined2)(local_6 >> 0x10);
      puVar26 = PTR_DAT_10a8_0000_10a8_83a4;
      SETWINDOWTEXT((HWND16)local_6,CONCAT22(PTR_DAT_10a8_0000_10a8_83a4,uVar11));
      FUN_1018_5948((int *)&stack0xffe2,4,4);
      SETWINDOWPOS(0x44,(int)puVar31 - flags,
                   (int16)CONCAT214(puVar26,CONCAT212(uVar11,CONCAT111(uVar24,CONCAT110(uVar23,
                                                  CONCAT28(PTR_DAT_10a8_0000_10a8_83a4,
                                                           (qword)CONCAT24(iVar16,CONCAT22(flags,
                                                  iVar14 - iVar16))))))),
                   (int16)CONCAT214(in_stack_0000ffc2,
                                    CONCAT212(in_stack_0000ffc0,
                                              CONCAT210(in_stack_0000ffbe,
                                                        CONCAT28(in_stack_0000ffbc,
                                                                 CONCAT26(in_stack_0000ffba,
                                                                          CONCAT24(in_stack_0000ffb8
                                                                                   ,CONCAT13(
                                                  in_stack_0000ffb7,
                                                  CONCAT12(in_stack_0000ffb6,unaff_DI)))))))),
                   (int16)CONCAT214(in_stack_0000ffd2,
                                    CONCAT212(in_stack_0000ffd0,
                                              CONCAT210(in_stack_0000ffce,
                                                        CONCAT28(in_stack_0000ffcc,
                                                                 CONCAT26(in_stack_0000ffca,
                                                                          CONCAT24(in_stack_0000ffc8
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
                   (int16)CONCAT214(iVar16,CONCAT212(PTR_DAT_10a8_0000_10a8_5712,
                                                     CONCAT210(iVar30,CONCAT28(wVar29,CONCAT26(
                                                  iVar28,CONCAT24(in_stack_0000ffd8,
                                                                  in_stack_0000ffd4)))))),flags);
    }
    else {
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffc0,
                                    CONCAT212(in_stack_0000ffbe,
                                              CONCAT210(in_stack_0000ffbc,
                                                        CONCAT28(in_stack_0000ffba,
                                                                 CONCAT26(in_stack_0000ffb8,
                                                                          CONCAT15(in_stack_0000ffb7
                                                                                   ,CONCAT14(
                                                  in_stack_0000ffb6,
                                                  CONCAT22(unaff_DI,PTR_DAT_10a8_0000_10a8_83a4)))))
                                                  ))));
      pcVar18 = (char *)local_6;
      uVar13 = 0xffff;
      do {
        if (uVar13 == 0) break;
        uVar13 = uVar13 - 1;
        pcVar4 = pcVar18;
        pcVar18 = pcVar18 + 1;
      } while (*pcVar4 != '\0');
      DRAWTEXT((int16 *)0x810,(HDC16)&stack0xffe2,(LPCSTR)CONCAT22(~uVar13 - 1,unaff_SS),
               (int16)CONCAT214(in_stack_0000ffbc,
                                CONCAT212(in_stack_0000ffba,
                                          CONCAT210(in_stack_0000ffb8,
                                                    CONCAT19(in_stack_0000ffb7,
                                                             CONCAT18(in_stack_0000ffb6,
                                                                      CONCAT26(unaff_DI,CONCAT24(
                                                  puVar9,local_6))))))),
               (RECT16 *)CONCAT22(in_stack_0000ffc0,in_stack_0000ffbe),
               (uint16)CONCAT214(in_stack_0000ffd0,
                                 CONCAT212(in_stack_0000ffce,
                                           CONCAT210(in_stack_0000ffcc,
                                                     CONCAT28(in_stack_0000ffca,
                                                              CONCAT26(in_stack_0000ffc8,
                                                                       CONCAT24(in_stack_0000ffc6,
                                                                                CONCAT22(
                                                  in_stack_0000ffc4,in_stack_0000ffc2))))))));
    }
    SETBKMODE(local_a._2_2_,(HDC16)puVar9,
              (int16)CONCAT214(in_stack_0000ffc2,
                               CONCAT212(in_stack_0000ffc0,
                                         CONCAT210(in_stack_0000ffbe,
                                                   CONCAT28(in_stack_0000ffbc,
                                                            CONCAT26(in_stack_0000ffba,
                                                                     CONCAT24(in_stack_0000ffb8,
                                                                              CONCAT13(
                                                  in_stack_0000ffb7,
                                                  CONCAT12(in_stack_0000ffb6,unaff_DI)))))))));
LAB_1010_3215:
    SETTEXTCOLOR((HDC16)CVar20.value,(COLORREF)CONCAT22(puVar9,(int)(CVar20.value >> 0x10)));
    SETBKCOLOR((HDC16)CVar21.value,(COLORREF)CONCAT22(puVar9,(int)(CVar21.value >> 0x10)));
    ENDPAINT((HWND16)&stack0xffba,unaff_SS);
    return 0;
  }
  if ((uint)param_4 != 0x102) {
    if ((uint)param_4 < 0x103) {
      if ((uint)param_4 == 0x24) {
        *(int *)(param_1 + 0xc) = (int)(PTR_DAT_10a8_0000_10a8_5784 + 99) * 2;
        *(int *)(param_1 + 0xe) = ((int)PTR_DAT_10a8_0000_10a8_5794 * 0xd >> 1) + 0x16;
        puVar25 = (undefined4 *)CONCAT11(in_stack_0000ffaf,in_stack_0000ffae);
        goto LAB_1010_37b2;
      }
      if ((uint)param_4 != 0x100) goto LAB_1010_37b2;
      if (param_3 == 0x28) {
LAB_1010_343c:
        if ((DAT_10a8_0a47 & 8) != 0) {
          iVar16 = 1;
          goto LAB_1010_348d;
        }
        piVar10 = GETASYNCKEYSTATE((int16 *)&PTR_DAT_10a8_0000_10a8_0010,
                                   (int16)CONCAT214(in_stack_0000ffc0,
                                                    CONCAT212(in_stack_0000ffbe,
                                                              CONCAT210(in_stack_0000ffbc,
                                                                        CONCAT28(in_stack_0000ffba,
                                                                                 CONCAT26(
                                                  in_stack_0000ffb8,
                                                  CONCAT15(in_stack_0000ffb7,
                                                           CONCAT14(in_stack_0000ffb6,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                                  )));
        if (((uint)piVar10 & 0xfffe) == 0) {
          puVar9 = FUN_1010_67e8(0);
        }
        else {
          PTR_DAT_10a8_0000_10a8_1046 =
               PTR_DAT_10a8_0000_10a8_1044 + (int)PTR_DAT_10a8_0000_10a8_1054;
          puVar9 = FUN_1010_685a(0);
        }
        if (puVar9 == (undefined *)0xffff) {
          return 0;
        }
      }
      else {
        if (param_3 != 0x26) {
          puVar25 = (undefined4 *)CONCAT11(in_stack_0000ffaf,in_stack_0000ffae);
          if ((DAT_10a8_0a47 & 8) != 0) goto LAB_1010_37b2;
          if (param_3 == 0x24) {
            PTR_DAT_10a8_0000_10a8_1046 = (undefined *)0xffff;
            goto LAB_1010_343c;
          }
          if (param_3 != 0x23) {
            return 0;
          }
          PTR_DAT_10a8_0000_10a8_1046 =
               PTR_DAT_10a8_0000_10a8_1044 + (int)PTR_DAT_10a8_0000_10a8_1054;
        }
LAB_1010_33da:
        if ((DAT_10a8_0a47 & 8) == 0) {
          piVar10 = GETASYNCKEYSTATE((int16 *)&PTR_DAT_10a8_0000_10a8_0010,
                                     (int16)CONCAT214(in_stack_0000ffc0,
                                                      CONCAT212(in_stack_0000ffbe,
                                                                CONCAT210(in_stack_0000ffbc,
                                                                          CONCAT28(in_stack_0000ffba
                                                                                   ,CONCAT26(
                                                  in_stack_0000ffb8,
                                                  CONCAT15(in_stack_0000ffb7,
                                                           CONCAT14(in_stack_0000ffb6,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                                  )));
          if (((uint)piVar10 & 0xfffe) == 0) {
            puVar9 = FUN_1010_685a(0);
          }
          else {
            PTR_DAT_10a8_0000_10a8_1046 = (undefined *)0xffff;
            puVar9 = FUN_1010_67e8(0);
          }
          if (puVar9 == (undefined *)0xffff) {
            if (PTR_DAT_10a8_0000_10a8_1044 + (int)PTR_DAT_10a8_0000_10a8_1054 !=
                PTR_DAT_10a8_0000_10a8_1046) {
              return 0;
            }
            puVar9 = PTR_DAT_10a8_0000_10a8_1046 + -1;
          }
        }
        else {
          iVar16 = -1;
LAB_1010_348d:
          FUN_1010_799e(iVar16);
          puVar9 = PTR_DAT_10a8_0000_10a8_1046;
        }
      }
      PTR_DAT_10a8_0000_10a8_1046 = puVar9;
      DAT_10a8_0a47 = DAT_10a8_0a47 & 0x7f;
      FUN_1010_63b4((int)param_4._2_2_);
      erase = (int)s_From___s_c_c_10a8_10a2 + 6;
      in_stack_0000ffaa = (RECT16 *)&PTR_DAT_10a8_0000_10a8_570c;
LAB_1010_34aa:
      INVALIDATERECT(1,in_stack_0000ffaa,erase);
      goto LAB_1010_34b1;
    }
    if ((uint)param_4 == 0x111) {
      if ((param_1 == PTR_DAT_10a8_0000_10a8_7d54) && (param_2 == 0)) goto LAB_1010_33da;
      if ((param_1 == PTR_DAT_10a8_0000_10a8_7d58) && (param_2 == 0)) goto LAB_1010_343c;
      if ((param_1 != PTR_DAT_10a8_0000_10a8_7d5a) || (param_2 != 0)) {
        puVar25 = (undefined4 *)CONCAT11(in_stack_0000ffaf,in_stack_0000ffae);
        if ((param_1 != PTR_DAT_10a8_0000_10a8_7d56) ||
           (puVar25 = (undefined4 *)CONCAT11(in_stack_0000ffaf,in_stack_0000ffae), param_2 != 0))
        goto LAB_1010_37b2;
        goto LAB_1010_34da;
      }
      iVar16 = 1000;
      goto LAB_1010_348d;
    }
    if (((uint)param_4 != 0x201) &&
       (puVar25 = (undefined4 *)CONCAT11(in_stack_0000ffaf,in_stack_0000ffae),
       (uint)param_4 != 0x203)) goto LAB_1010_37b2;
    iVar16 = FUN_1010_6ac4((int)param_1);
    if (iVar16 == 1) goto LAB_1010_373e;
    if (iVar16 != 2) {
      if (iVar16 != 3) {
        return 0;
      }
      goto LAB_1010_3656;
    }
LAB_1010_3351:
    PTR_DAT_10a8_0000_10a8_104a =
         (undefined *)(uint)(PTR_DAT_10a8_0000_10a8_104a == (undefined *)0x0);
    if (-1 < (int)PTR_DAT_10a8_0000_10a8_1046) {
      iVar16 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
      bVar27 = *(byte *)((int)&DAT_10a8_83ae + (iVar16 >> 3));
      uVar11 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
      puVar9 = PTR_DAT_10a8_0000_10a8_1046;
      if ((undefined *)(uint)((bVar27 & (byte)(1 << ((byte)uVar11 & 7))) != 0) ==
          PTR_DAT_10a8_0000_10a8_104a) goto LAB_1010_3795;
    }
    puVar9 = FUN_1010_67e8((uint)PTR_DAT_10a8_0000_10a8_104a);
    if (puVar9 == (undefined *)0xffff) {
      puVar9 = FUN_1010_685a((uint)PTR_DAT_10a8_0000_10a8_104a);
    }
LAB_1010_3795:
    PTR_DAT_10a8_0000_10a8_1046 = puVar9;
    INVALIDATERECT(1,(RECT16 *)0x0,0);
    FUN_1010_63b4((int)param_4._2_2_);
    return 0;
  }
  if (param_3 != 0xd) {
    if (param_3 == 0x2b) {
LAB_1010_373e:
      if ((int)PTR_DAT_10a8_0000_10a8_1046 < 0) {
        return 0;
      }
      uVar13 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
      FUN_1010_7cbe(uVar13,(uint)((*(byte *)((int)&DAT_10a8_83ae + ((int)uVar13 >> 3)) &
                                  (byte)(1 << ((byte)uVar13 & 7))) == 0));
      FUN_1020_4832((undefined *)&DAT_10a8_0001);
      puVar9 = PTR_DAT_10a8_0000_10a8_1046;
      if ((DAT_10a8_0a47 & 0x40) != 0) {
        FUN_1090_88fa();
        puVar9 = PTR_DAT_10a8_0000_10a8_1046;
      }
      goto LAB_1010_3795;
    }
    if (param_3 != 0x2d) {
      return 0;
    }
    uVar13 = 0;
    do {
      if ((*(byte *)((int)&DAT_10a8_82a0 + uVar13) & *(byte *)((int)&DAT_10a8_83ae + uVar13)) != 0)
      break;
      uVar13 = uVar13 + 1;
    } while (uVar13 < 0x18);
    if (uVar13 == 0x18) {
      return 0;
    }
    goto LAB_1010_3351;
  }
LAB_1010_34da:
  if (((DAT_10a8_0a47 & 8) != 0) ||
     ((int)PTR_DAT_10a8_0000_10a8_1044 <= (int)PTR_DAT_10a8_0000_10a8_1046)) {
LAB_1010_3656:
    if ((DAT_10a8_0a47 & 8) == 0) {
      if ((int)PTR_DAT_10a8_0000_10a8_1046 < (int)PTR_DAT_10a8_0000_10a8_1044) {
        PTR_DAT_10a8_0000_10a8_1058 = (undefined *)0x0;
      }
      else {
        local_a = _PTR_DAT_10a8_0000_10a8_104c & 0xffff0000 | local_a & 0xffff;
        iVar16 = (int)PTR_DAT_10a8_0000_10a8_1046 - (int)PTR_DAT_10a8_0000_10a8_1044;
        while( true ) {
          if (iVar16 == 0) break;
          local_a = local_a & 0xffff |
                    (ulong)*(uint *)((int)PTR_DAT_10a8_0000_10a8_104c + 2) << 0x10;
          PTR_DAT_10a8_0000_10a8_104c = (undefined *)*(undefined2 **)PTR_DAT_10a8_0000_10a8_104c;
          iVar16 = iVar16 + -1;
        }
        local_6 = local_6 & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_1052) << 0x10;
        PTR_DAT_10a8_0000_10a8_1048 = (undefined *)0x0;
        if (((uint)PTR_DAT_10a8_0000_10a8_1052 | (uint)PTR_DAT_10a8_0000_10a8_1050) != 0) {
          uVar22 = local_a & 0xffff0000;
          local_a = uVar22 | ZEXT24(PTR_DAT_10a8_0000_10a8_104c);
          puVar25 = (undefined4 *)PTR_DAT_10a8_0000_10a8_1050;
          puVar9 = PTR_DAT_10a8_0000_10a8_1052;
          do {
            local_a._2_2_ = (int16 *)(uVar22 >> 0x10);
            pPVar19 = unaff_SS;
            if ((*(int *)((int)puVar25 + 6) - *(int *)((int)PTR_DAT_10a8_0000_10a8_104c + 4) == 1)
               && (*(int *)(puVar25 + 2) == *(int *)&PTR_DAT_10a8_0000_10a8_1046)) break;
            uVar6 = *puVar25;
            puVar9 = (undefined *)((ulong)uVar6 >> 0x10);
            puVar25 = (undefined4 *)uVar6;
            piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_1048;
            *piVar1 = *piVar1 + 1;
          } while (((uint)puVar9 | (uint)puVar25) != 0);
        }
        *(int *)&PTR_DAT_10a8_0000_10a8_1058 = *(int *)((int)PTR_DAT_10a8_0000_10a8_104c + 4) + 1;
      }
    }
    else {
      FUN_1010_799e(0);
    }
    puVar2 = (uint *)&DAT_10a8_0a46;
    *puVar2 = *puVar2 ^ ((byte)((byte)((ulong)((uint)((*(byte *)&DAT_10a8_0a47 & 8) == 0) << 0xb) >>
                                      8) ^ *(byte *)&DAT_10a8_0a47) & 8) << 8;
    INVALIDATERECT(1,(RECT16 *)0x0,0);
    FUN_1010_63b4((int)param_4._2_2_);
    SETFOCUS(*(HWND16 *)&PTR_DAT_10a8_0000_10a8_87f0);
    return 0;
  }
  switch(PTR_DAT_10a8_0000_10a8_71da) {
  case (undefined *)0x1:
    FUN_1020_24c8(0,DAT_10a8_71de);
    iVar16 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
    if ((((((iVar16 == 0x45) || (iVar16 == 0x46)) || (iVar16 == 0x40)) ||
         ((iVar16 == 0x41 || (iVar16 == 0x42)))) || ((0xaf < iVar16 && (iVar16 < 0xb6)))) &&
       ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001 &&
        (DAT_10a8_71de == PTR_DAT_10a8_0000_10a8_7b50)))) {
      FUN_1068_0000(0);
    }
    goto LAB_1010_34b1;
  case (undefined *)0x2:
    FUN_1028_1c46(0,DAT_10a8_71de);
    goto LAB_1010_34b1;
  case (undefined *)0x3:
    uVar11 = 0x7e;
    break;
  case (undefined *)0x4:
    PTR_DAT_10a8_0000_10a8_5706 = (undefined *)(1 << (DAT_10a8_71de._1_1_ & 0xf));
    _DAT_10a8_5708 = _DAT_10a8_5708 & 0xff00 | (uint)DAT_10a8_71de & 0xff;
    FUN_1060_32b2((uint *)&PTR_DAT_10a8_0000_10a8_5706);
    if (PTR_DAT_10a8_0000_10a8_00c2 != (undefined *)0x0) {
      erase = 0;
      goto LAB_1010_34aa;
    }
    PTR_DAT_10a8_0000_10a8_4262 = (undefined *)&DAT_10a8_0001;
    uVar11 = 0x100;
    break;
  case (undefined *)0x5:
    uVar11 = 0x7d;
    break;
  case (undefined *)0x6:
    FUN_1010_0472((int *)&PTR_DAT_10a8_0000_10a8_71d4);
    if ((DAT_10a8_0a47 & 0x80) == 0) {
      DAT_10a8_0a47 = DAT_10a8_0a47 | 0x80;
      FUN_1010_63b4((int)param_4._2_2_);
    }
    else {
      FUN_1080_0000((uint)DAT_10a8_71de);
    }
    goto LAB_1010_34b1;
  case (undefined *)0x7:
    uVar11 = 0x7de;
    break;
  default:
    goto LAB_1010_34b1;
  }
  POSTMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffb8,
                                  CONCAT113(in_stack_0000ffb7,
                                            CONCAT112(in_stack_0000ffb6,
                                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_58b4,
                                                  CONCAT15(1,(uint5)CONCAT12(0x11,uVar11) << 0x10)))
                                                  )))),in_stack_0000ffba,
              CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc));
LAB_1010_34b1:
  if ((DAT_10a8_0a47 & 0x40) != 0) {
    DAT_10a8_8318 = DAT_10a8_8318 | 4;
    FUN_1090_88fa();
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1010_63b4(int param_1)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  byte bVar4;
  ulong uVar5;
  uint uVar6;
  undefined *puVar7;
  int iVar8;
  int *piVar9;
  undefined2 uVar10;
  uint uVar11;
  uint in_DX;
  undefined2 unaff_SI;
  undefined *puVar12;
  WPARAM16 unaff_DI;
  char *pcVar13;
  undefined2 *puVar14;
  undefined2 *puVar15;
  undefined2 unaff_SS;
  undefined *puVar16;
  LPARAM in_stack_0000ff8e;
  undefined6 in_stack_0000ff92;
  undefined2 in_stack_0000ff98;
  undefined in_stack_0000ff9a [16];
  undefined in_stack_0000ffaa [16];
  word in_stack_0000ffba;
  uint local_22;
  uint local_20;
  undefined *local_1e;
  undefined *local_1c;
  undefined4 local_10;
  undefined4 local_c;
  undefined *local_8 [2];
  undefined2 local_4;

  if (param_1 == 0) {
    return;
  }
  local_4 = (undefined *)
            CONCAT11((-(PTR_DAT_10a8_0000_10a8_003e == (undefined *)0x0) & 0xf6U) + 0x2a,
                     (undefined)local_4);
  uVar6 = -(uint)((DAT_10a8_0a47 & 8) != 0) & 5;
  SHOWWINDOW(uVar6,(int16)CONCAT610(in_stack_0000ff92,
                                    CONCAT46(in_stack_0000ff8e,
                                             CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_87f0)))));
  SHOWWINDOW(uVar6,(int16)CONCAT610(in_stack_0000ff92,
                                    CONCAT46(in_stack_0000ff8e,
                                             CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_8308)))));
  SHOWWINDOW(uVar6,(int16)CONCAT610(in_stack_0000ff92,
                                    CONCAT46(in_stack_0000ff8e,
                                             CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_7d5a)))));
  if ((DAT_10a8_0a47 & 8) != 0) {
    SHOWWINDOW(0,(int16)CONCAT610(in_stack_0000ff92,
                                  CONCAT46(in_stack_0000ff8e,
                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_83a4)))));
  }
  puVar12 = PTR_DAT_10a8_0000_10a8_1044 + (int)PTR_DAT_10a8_0000_10a8_1054;
  if ((DAT_10a8_0a47 & 8) == 0) {
    if ((int)PTR_DAT_10a8_0000_10a8_1046 < (int)PTR_DAT_10a8_0000_10a8_1044) {
      puVar7 = PTR_PTR_10a8_1072;
      if ((DAT_10a8_0a47 & 0x80) != 0) {
        puVar7 = (undefined *)0x10d8;
      }
    }
    else {
      puVar7 = (undefined *)s_Reply_10a8_10dd;
    }
  }
  else {
    puVar7 = (undefined *)0x10d3;
  }
  iVar8 = (int)s_From___s_c_c_10a8_10a2 + 6;
  puVar16 = PTR_DAT_10a8_0000_10a8_7d56;
  SETWINDOWTEXT((HWND16)puVar7,CONCAT22(PTR_DAT_10a8_0000_10a8_7d56,0x10a8));
  if ((DAT_10a8_0a47 & 8) != 0) {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x10e310a8,
              (LPCSTR)CONCAT22(PTR_DAT_10a8_0000_10a8_1048 + 1,0x10a8),
              (VA_LIST16)PTR_DAT_10a8_0000_10a8_1056);
    local_10 = _PTR_DAT_10a8_0000_10a8_570c;
    local_c = _PTR_DAT_10a8_0000_10a8_5710;
    FUN_1018_5948((int *)&local_10,-4,-4);
    SETWINDOWPOS(0x44,local_c._2_2_ - local_10._2_2_,
                 (int16)CONCAT214(puVar16,CONCAT212(iVar8,CONCAT210(puVar7,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_8308,
                                                  (qword)CONCAT24((int)local_10 + 0x1e,
                                                                  local_10 & 0xffff0000 |
                                                                  (ulong)(((int)local_c -
                                                                          (int)local_10) - 0x54)))))
                                 ),
                 (int16)CONCAT214(in_stack_0000ff98,
                                  CONCAT68(in_stack_0000ff92,
                                           CONCAT44(in_stack_0000ff8e,CONCAT22(unaff_DI,unaff_SI))))
                 ,(int16)in_stack_0000ff9a,(int16)in_stack_0000ffaa,in_stack_0000ffba);
    SETWINDOWPOS(0x45,0,(int16)CONCAT214(puVar16,CONCAT212(iVar8,CONCAT210(puVar7,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_7d5a,
                                                  (qword)(CONCAT24((int)local_c + -0x32,local_10) &
                                                         0xffffffff0000))))),
                 (int16)CONCAT214(in_stack_0000ff98,
                                  CONCAT68(in_stack_0000ff92,
                                           CONCAT44(in_stack_0000ff8e,CONCAT22(unaff_DI,unaff_SI))))
                 ,(int16)in_stack_0000ff9a,(int16)in_stack_0000ffaa,in_stack_0000ffba);
    puVar12 = PTR_DAT_10a8_0000_10a8_579c + local_10._2_2_ + 3;
    uVar5 = local_10 & 0xffff;
    local_10 = uVar5 | ZEXT24(puVar12) << 0x10;
    local_10._0_2_ = (int)uVar5;
    SETWINDOWPOS(0x44,local_c._2_2_ - (int)puVar12,
                 (int16)CONCAT214(puVar16,CONCAT212(iVar8,CONCAT210(puVar7,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_87f0,
                                                  (qword)CONCAT24((int)local_10,
                                                                  CONCAT22(puVar12,(int)local_c -
                                                                                   (int)local_10))))
                                                  )),
                 (int16)CONCAT214(in_stack_0000ff98,
                                  CONCAT68(in_stack_0000ff92,
                                           CONCAT44(in_stack_0000ff8e,CONCAT22(unaff_DI,unaff_SI))))
                 ,(int16)in_stack_0000ff9a,(int16)in_stack_0000ffaa,in_stack_0000ffba);
    ENABLEWINDOW((uint)(0 < (int)PTR_DAT_10a8_0000_10a8_1048),(bool16)PTR_DAT_10a8_0000_10a8_7d54);
    ENABLEWINDOW(1,(bool16)PTR_DAT_10a8_0000_10a8_7d56);
    ENABLEWINDOW(1,(bool16)PTR_DAT_10a8_0000_10a8_7d58);
    local_4 = PTR_DAT_10a8_0000_10a8_1052;
    local_8[0] = PTR_DAT_10a8_0000_10a8_1048;
    puVar14 = (undefined2 *)PTR_DAT_10a8_0000_10a8_1050;
    while (puVar12 = local_8[0] + -1, 0 < (int)local_8[0]) {
      puVar1 = puVar14;
      local_4 = (undefined *)puVar14[1];
      puVar14 = (undefined2 *)*puVar1;
      local_8[0] = puVar12;
    }
    if (((uint)local_4 | (uint)puVar14) == 0) {
      local_8[0] = puVar12;
      SENDMESSAGE(0,(uint16)CONCAT214(unaff_SI,CONCAT212(puVar16,CONCAT210(iVar8,CONCAT28(puVar7,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8308,
                                                           CONCAT24(0x40e,ZEXT24(
                                                  PTR_DAT_10a8_0000_10a8_1058) << 0x10)))))),
                  unaff_DI,in_stack_0000ff8e);
      puVar12 = (undefined *)((int)s_From___s_c_c_10a8_10a2 + 6);
      puVar14 = (undefined2 *)0x10fc;
    }
    else {
      local_8[0] = puVar12;
      SENDMESSAGE(0,(uint16)CONCAT214(unaff_SI,CONCAT212(puVar16,CONCAT210(iVar8,CONCAT28(puVar7,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8308,
                                                           CONCAT24(0x40e,(ulong)(uint)puVar14[3] <<
                                                                          0x10)))))),unaff_DI,
                  in_stack_0000ff8e);
      if ((int)puVar14[5] < 0) {
        puVar14 = puVar14 + 6;
        puVar12 = local_4;
      }
      else {
        local_8[0] = (undefined *)((int)s__s___s_computer_player__10a8_03d3 + 0x15);
        FUN_1018_685e((byte *)(puVar14 + 6),local_4,puVar14[5],_PTR_DAT_10a8_0000_10a8_8312,
                      (int *)local_8);
        puVar14 = (undefined2 *)_PTR_DAT_10a8_0000_10a8_8312;
        puVar12 = (undefined *)((ulong)_PTR_DAT_10a8_0000_10a8_8312 >> 0x10);
      }
    }
    SETWINDOWTEXT((HWND16)puVar14,CONCAT22(PTR_DAT_10a8_0000_10a8_87f0,puVar12));
    goto LAB_1010_67b6;
  }
  if (puVar12 == (undefined *)0x0) {
    FUN_1018_50de(0x18b,&stack0xff8e);
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xff8e,0x10a8),
              (LPCSTR)CONCAT22(PTR_DAT_10a8_0000_10a8_0042 + 0x960,unaff_SS),
              (VA_LIST16)(int)local_4._1_1_);
  }
  else {
    FUN_1018_50de(0x18a,&stack0xff8e);
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xff8e,0x10a8),
              (LPCSTR)CONCAT22(PTR_DAT_10a8_0000_10a8_0042 + 0x960,unaff_SS),
              (VA_LIST16)(int)local_4._1_1_);
  }
  puVar12 = PTR_DAT_10a8_0000_10a8_7d54;
  puVar7 = FUN_1010_685a(0);
  ENABLEWINDOW((uint)(puVar7 != (undefined *)0xffff),(bool16)puVar12);
  puVar12 = PTR_DAT_10a8_0000_10a8_7d58;
  puVar7 = FUN_1010_67e8(0);
  ENABLEWINDOW((uint)(puVar7 != (undefined *)0xffff),(bool16)puVar12);
  if ((int)PTR_DAT_10a8_0000_10a8_1046 < (int)PTR_DAT_10a8_0000_10a8_1044) {
    if (((PTR_DAT_10a8_0000_10a8_1044 != (undefined *)0x0) &&
        ((int)PTR_DAT_10a8_0000_10a8_1046 < (int)PTR_DAT_10a8_0000_10a8_1044)) &&
       (iVar8 = FUN_1010_6e56((int)PTR_DAT_10a8_0000_10a8_1046,&local_22), iVar8 != 0)) {
      if (local_20 == 0xffff) {
        PTR_DAT_10a8_0000_10a8_71da = (undefined *)0x0;
      }
      else {
        DAT_10a8_71de = local_20 & 0xff | ((byte)((ulong)local_20 >> 8) & 0x7f) << 8;
        if (local_20 == 0xfffe) {
          PTR_DAT_10a8_0000_10a8_71da = (undefined *)&DAT_10a8_0003;
        }
        else if (local_20 == 0xfffd) {
          PTR_DAT_10a8_0000_10a8_71da = (undefined *)((int)&PTR_LOOP_10a8_0004 + 1);
        }
        else if ((char)((ulong)((local_20 >> 8 & 0xc0) << 8) >> 8) == -0x40) {
          PTR_DAT_10a8_0000_10a8_71da = (undefined *)&PTR_LOOP_10a8_0004;
        }
        else if ((local_20 & 0x4000) == 0) {
          if ((int)local_20 < 0) {
            piVar9 = FUN_1010_0c48(DAT_10a8_71de);
            if ((in_DX | (uint)piVar9) == 0) {
              PTR_DAT_10a8_0000_10a8_71da = (undefined *)0x0;
            }
            else {
              PTR_DAT_10a8_0000_10a8_71da = (undefined *)&DAT_10a8_0002;
            }
          }
          else {
            PTR_DAT_10a8_0000_10a8_71da = (undefined *)&DAT_10a8_0001;
          }
        }
        else {
          DAT_10a8_71de = local_20 & 0xff | ((byte)((ulong)local_20 >> 8) & 0x3f) << 8;
          if (DAT_10a8_71de == 0x800) {
            PTR_DAT_10a8_0000_10a8_71da = (undefined *)0x7;
          }
          else {
            PTR_DAT_10a8_0000_10a8_71da = (undefined *)0x6;
            PTR_DAT_10a8_0000_10a8_71d4 = local_1e;
            PTR_DAT_10a8_0000_10a8_71d6 = local_1c;
          }
        }
      }
    }
    if (PTR_DAT_10a8_0000_10a8_71da != (undefined *)0x0) {
      if ((int)PTR_DAT_10a8_0000_10a8_1046 < 0) {
LAB_1010_679e:
        PTR_DAT_10a8_0000_10a8_71da = (undefined *)0x0;
      }
      else if (PTR_DAT_10a8_0000_10a8_104a == (undefined *)0x0) {
        iVar8 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
        bVar4 = *(byte *)((int)&DAT_10a8_83ae + (iVar8 >> 3));
        uVar10 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
        if ((1 << ((byte)uVar10 & 7) & (uint)bVar4) != 0) goto LAB_1010_679e;
      }
    }
    uVar6 = (uint)(PTR_DAT_10a8_0000_10a8_71da != (undefined *)0x0);
  }
  else {
    uVar6 = 1;
  }
  ENABLEWINDOW(uVar6,(bool16)PTR_DAT_10a8_0000_10a8_7d56);
LAB_1010_67b6:
  pcVar13 = (char *)&DAT_10a8_86de;
  uVar6 = 0xffff;
  do {
    if (uVar6 == 0) break;
    uVar6 = uVar6 - 1;
    pcVar2 = pcVar13;
    pcVar13 = pcVar13 + 1;
  } while (*pcVar2 != '\0');
  uVar6 = ~uVar6;
  puVar14 = (undefined2 *)(pcVar13 + -uVar6);
  puVar15 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_7a6e;
  for (uVar11 = uVar6 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
    puVar3 = puVar15;
    puVar15 = puVar15 + 1;
    puVar1 = puVar14;
    puVar14 = puVar14 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar6 = (uint)((uVar6 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar3 = puVar15;
    puVar15 = (undefined2 *)((int)puVar15 + 1);
    puVar1 = puVar14;
    puVar14 = (undefined2 *)((int)puVar14 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  INVALIDATERECT(1,(RECT16 *)&PTR_DAT_10a8_0000_10a8_7b3a,(int)s_From___s_c_c_10a8_10a2 + 6);
  return;
}



undefined * __cdecl16far FUN_1010_67e8(uint param_1)

{
  int iVar1;
  undefined *puVar2;

  puVar2 = PTR_DAT_10a8_0000_10a8_1046;
  if ((PTR_DAT_10a8_0000_10a8_104a != (undefined *)0x0) && (param_1 == 0)) {
    if ((int)(PTR_DAT_10a8_0000_10a8_1044 + (int)PTR_DAT_10a8_0000_10a8_1054 + -1) <=
        (int)PTR_DAT_10a8_0000_10a8_1046) {
      return (undefined *)0xffff;
    }
    return PTR_DAT_10a8_0000_10a8_1046 + 1;
  }
  do {
    puVar2 = puVar2 + 1;
    if ((int)PTR_DAT_10a8_0000_10a8_1044 <= (int)puVar2) {
      if ((int)puVar2 < (int)(PTR_DAT_10a8_0000_10a8_1044 + (int)PTR_DAT_10a8_0000_10a8_1054)) {
        return puVar2;
      }
      return (undefined *)0xffff;
    }
    iVar1 = FUN_1010_6e34((int)puVar2);
  } while (((*(byte *)((int)&DAT_10a8_83ae + (iVar1 >> 3)) & (byte)(1 << ((byte)iVar1 & 7))) == 0)
           == param_1);
  return puVar2;
}



undefined * __cdecl16far FUN_1010_685a(uint param_1)

{
  int iVar1;
  undefined *puVar2;

  if ((PTR_DAT_10a8_0000_10a8_104a == (undefined *)0x0) || (param_1 != 0)) {
    puVar2 = PTR_DAT_10a8_0000_10a8_1046;
    if ((int)PTR_DAT_10a8_0000_10a8_1046 <= (int)PTR_DAT_10a8_0000_10a8_1044) {
      do {
        puVar2 = puVar2 + -1;
        if ((int)puVar2 < 0) {
          return (undefined *)0xffff;
        }
        iVar1 = FUN_1010_6e34((int)puVar2);
      } while (((*(byte *)((int)&DAT_10a8_83ae + (iVar1 >> 3)) & (byte)(1 << ((byte)iVar1 & 7))) ==
               0) == param_1);
      return puVar2;
    }
  }
  else if ((int)PTR_DAT_10a8_0000_10a8_1046 < 1) {
    return (undefined *)0xffff;
  }
  return PTR_DAT_10a8_0000_10a8_1046 + -1;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1010_68ba(undefined *param_1,int param_2,undefined2 param_3,undefined2 param_4,HDC16 param_5,
             undefined2 param_6,HDC16 param_7,undefined2 param_8,undefined2 param_9,HDC16 param_10,
             undefined2 param_11,HDC16 param_12,undefined2 param_13,undefined4 param_14,
             undefined6 param_15,undefined6 param_16,dword param_17,dword param_18,
             undefined2 param_19,dword param_20)

{
  HDC16 hdest;
  int16 *__return_storage_ptr__;
  int iVar1;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  int iVar2;
  HRGN16 unaff_DI;
  undefined4 in_stack_00000000;
  dword in_stack_0000003c;
  undefined2 in_stack_0000fff0;
  undefined2 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  int in_stack_0000fff8;
  int in_stack_0000fffa;
  int16 *in_stack_0000fffc;

  hdest = CREATECOMPATIBLEDC((HDC16)param_1);
  __return_storage_ptr__ =
       SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_591e,hdest,unaff_SI,unaff_DI,
                    (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                        CONCAT210(in_stack_0000fffa,
                                                                  CONCAT28(in_stack_0000fff8,
                                                                           CONCAT26(
                                                  in_stack_0000fff6,
                                                  CONCAT24(in_stack_0000fff4,
                                                           CONCAT22(hdest,in_stack_0000fff0))))))));
  if ((DAT_10a8_0a47 & 8) == 0) {
    iVar2 = ((*(int *)(param_2 + 6) - *(int *)(param_2 + 2)) + -0xb) / 2 + *(int *)(param_2 + 2);
    if ((-1 < (int)PTR_DAT_10a8_0000_10a8_1046) &&
       ((int)PTR_DAT_10a8_0000_10a8_1046 < (int)PTR_DAT_10a8_0000_10a8_1044)) {
      iVar1 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046);
      if ((1 << ((byte)iVar1 & 7) & (uint)*(byte *)((int)&DAT_10a8_83ae + (iVar1 >> 3))) == 0) {
        in_stack_0000fff8 = 0;
        in_stack_0000fff6 = 0xf;
        in_stack_0000fff4 = 0xe;
        iVar1 = iVar2 + -3;
        in_stack_0000fffa = iVar2;
      }
      else {
        in_stack_0000fff6 = 0xe;
        in_stack_0000fff8 = 0xe;
        in_stack_0000fff4 = 0xc;
        in_stack_0000fffa = iVar2 + -1;
        iVar1 = iVar2;
      }
      BITBLT(0x20,(int16)CONCAT214(in_stack_0000fffa,
                                   CONCAT212(iVar1,CONCAT210(in_stack_0000fff6,
                                                             CONCAT28(in_stack_0000fff4,
                                                                      CONCAT26(hdest,(uint6)CONCAT22
                                                  (in_stack_0000fff8,0xcc)))))),
             (int16)CONCAT214(in_stack_0000fff8,
                              CONCAT212(in_stack_0000fff6,
                                        CONCAT210(in_stack_0000fff4,
                                                  CONCAT28(hdest,CONCAT26(__return_storage_ptr__,
                                                                          CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,param_1))))))),
             (int16)CONCAT106(CONCAT28(param_3,CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000))
                                      ),CONCAT24(unaff_BP,CONCAT22(iVar1,in_stack_0000fffa))),
             (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,
                                                  CONCAT26(param_7,CONCAT24(param_6,CONCAT22(param_5
                                                  ,param_4))))))),param_12,
             (int16)CONCAT412((undefined4)param_16,
                              CONCAT48(param_15._2_4_,
                                       CONCAT26((undefined2)param_15,
                                                CONCAT24(param_14._2_2_,
                                                         CONCAT22((undefined2)param_14,param_13)))))
             ,(int16)CONCAT412(param_20,CONCAT210(param_19,CONCAT46(param_18,CONCAT42(param_17,
                                                  param_16._4_2_)))),in_stack_0000003c);
    }
    in_stack_0000fffc = (int16 *)0x0;
    do {
      if ((*(byte *)(in_stack_0000fffc + -0x7d6) & *(byte *)((int)in_stack_0000fffc + 0x83ae)) != 0)
      break;
      in_stack_0000fffc = (int16 *)((int)in_stack_0000fffc + 1);
    } while (in_stack_0000fffc < (int16 *)&PTR_DAT_10a8_0000_10a8_0018);
    if (in_stack_0000fffc == (int16 *)&PTR_DAT_10a8_0000_10a8_0018) {
      PTR_DAT_10a8_0000_10a8_104a = (undefined *)0x0;
    }
    else {
      in_stack_0000fff8 = (-(uint)(PTR_DAT_10a8_0000_10a8_104a == (undefined *)0x0) & 0xf) + 0x1a;
      in_stack_0000fffa =
           (*(int *)(param_2 + 2) - *(int *)(param_2 + 6)) + *(int *)(param_2 + 4) + -1;
      in_stack_0000fffc =
           SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)param_1,unaff_SI,unaff_DI,
                        (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                            CONCAT210(in_stack_0000fffa,
                                                                      CONCAT28(in_stack_0000fff8,
                                                                               CONCAT26(
                                                  in_stack_0000fff6,
                                                  CONCAT24(in_stack_0000fff4,
                                                           CONCAT22(hdest,__return_storage_ptr__))))
                                                  ))));
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000fffa,
                                                  CONCAT26(*(undefined2 *)(param_2 + 2),
                                                           CONCAT24(1,CONCAT22(*(int *)(param_2 + 6)
                                                                               - *(int *)(param_2 +
                                                                                         2),0xf0))))
                                                  ))),
             (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                 CONCAT210(in_stack_0000fffa,
                                                           CONCAT28(in_stack_0000fff8,
                                                                    CONCAT26(in_stack_0000fff6,
                                                                             CONCAT24(
                                                  in_stack_0000fff4,
                                                  CONCAT22(hdest,__return_storage_ptr__))))))),
             (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
             (int16)CONCAT214((undefined2)param_14,
                              CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,CONCAT26(
                                                  param_10,CONCAT24(param_9,CONCAT22(param_8,param_7
                                                                                    ))))))),
             CONCAT22((undefined2)param_15,param_14._2_2_));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                       CONCAT210(in_stack_0000fffa,
                                                                 CONCAT28(in_stack_0000fff8,
                                                                          CONCAT26(in_stack_0000fff6
                                                                                   ,CONCAT24(
                                                  in_stack_0000fff4,
                                                  CONCAT22(hdest,__return_storage_ptr__))))))));
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000fffa + 1,
                                                  CONCAT26(*(undefined2 *)(param_2 + 2),
                                                           CONCAT24(1,CONCAT22(*(int *)(param_2 + 6)
                                                                               - *(int *)(param_2 +
                                                                                         2),0xf0))))
                                                  ))),
             (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                 CONCAT210(in_stack_0000fffa,
                                                           CONCAT28(in_stack_0000fff8,
                                                                    CONCAT26(in_stack_0000fff6,
                                                                             CONCAT24(
                                                  in_stack_0000fff4,
                                                  CONCAT22(hdest,__return_storage_ptr__))))))),
             (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
             (int16)CONCAT214((undefined2)param_14,
                              CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,CONCAT26(
                                                  param_10,CONCAT24(param_9,CONCAT22(param_8,param_7
                                                                                    ))))))),
             CONCAT22((undefined2)param_15,param_14._2_2_));
      SELECTOBJECT(in_stack_0000fffc,(HRGN16)param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                       CONCAT210(in_stack_0000fffa,
                                                                 CONCAT28(in_stack_0000fff8,
                                                                          CONCAT26(in_stack_0000fff6
                                                                                   ,CONCAT24(
                                                  in_stack_0000fff4,
                                                  CONCAT22(hdest,__return_storage_ptr__))))))));
      iVar2 = ((*(int *)(param_2 + 6) - *(int *)(param_2 + 2)) + -0xf) / 2 + *(int *)(param_2 + 2);
      BITBLT(0x20,(int16)CONCAT214((iVar2 - *(int *)(param_2 + 6)) + *(int *)(param_2 + 4),
                                   CONCAT212(iVar2,CONCAT210(0xf,CONCAT28(0xf,CONCAT26(hdest,(uint6)
                                                  CONCAT22(in_stack_0000fff8,0xcc)))))),
             (int16)CONCAT214(in_stack_0000fff8,
                              CONCAT212(in_stack_0000fff6,
                                        CONCAT210(in_stack_0000fff4,
                                                  CONCAT28(hdest,CONCAT26(__return_storage_ptr__,
                                                                          CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,param_1))))))),
             (int16)CONCAT106(CONCAT28(param_3,CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000))
                                      ),
                              CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,in_stack_0000fffa))),
             (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,
                                                  CONCAT26(param_7,CONCAT24(param_6,CONCAT22(param_5
                                                  ,param_4))))))),param_12,
             (int16)CONCAT412((undefined4)param_16,
                              CONCAT48(param_15._2_4_,
                                       CONCAT26((undefined2)param_15,
                                                CONCAT24(param_14._2_2_,
                                                         CONCAT22((undefined2)param_14,param_13)))))
             ,(int16)CONCAT412(param_20,CONCAT210(param_19,CONCAT46(param_18,CONCAT42(param_17,
                                                  param_16._4_2_)))),in_stack_0000003c);
    }
  }
  if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0) {
    iVar2 = *(int *)(param_2 + 4);
    in_stack_0000fffa = iVar2 + -0x2d;
    in_stack_0000fffc =
         (int16 *)(((*(int *)(param_2 + 6) - *(int *)(param_2 + 2)) + -7) / 2 +
                  *(int *)(param_2 + 2));
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar2 +
                                                  -0x2e,CONCAT26((int)in_stack_0000fffc - 1,
                                                                 0x11000b0000))))),
           (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                               CONCAT210(in_stack_0000fffa,
                                                         CONCAT28(in_stack_0000fff8,
                                                                  CONCAT26(in_stack_0000fff6,
                                                                           CONCAT24(
                                                  in_stack_0000fff4,
                                                  CONCAT22(hdest,__return_storage_ptr__))))))),
           (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
           (int16)CONCAT214((undefined2)param_14,
                            CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,CONCAT26(
                                                  param_10,CONCAT24(param_9,CONCAT22(param_8,param_7
                                                                                    ))))))),
           CONCAT22((undefined2)param_15,param_14._2_2_));
    BITBLT(0x20,(int16)CONCAT214(in_stack_0000fffa,
                                 CONCAT212(in_stack_0000fffc,
                                           CONCAT210(0xf,CONCAT28(9,CONCAT26(hdest,0x4800cc))))),
           (int16)CONCAT214(in_stack_0000fff8,
                            CONCAT212(in_stack_0000fff6,
                                      CONCAT210(in_stack_0000fff4,
                                                CONCAT28(hdest,CONCAT26(__return_storage_ptr__,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_1))))))),
           (int16)CONCAT106(CONCAT28(param_3,CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000))),
                            CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,in_stack_0000fffa))),
           (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,CONCAT26(
                                                  param_7,CONCAT24(param_6,CONCAT22(param_5,param_4)
                                                                  )))))),param_12,
           (int16)CONCAT412((undefined4)param_16,
                            CONCAT48(param_15._2_4_,
                                     CONCAT26((undefined2)param_15,
                                              CONCAT24(param_14._2_2_,
                                                       CONCAT22((undefined2)param_14,param_13))))),
           (int16)CONCAT412(param_20,CONCAT210(param_19,CONCAT46(param_18,CONCAT42(param_17,param_16
                                                  ._4_2_)))),in_stack_0000003c);
  }
  SELECTOBJECT(__return_storage_ptr__,hdest,unaff_SI,unaff_DI,
               (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                   CONCAT210(in_stack_0000fffa,
                                                             CONCAT28(in_stack_0000fff8,
                                                                      CONCAT26(in_stack_0000fff6,
                                                                               CONCAT24(
                                                  in_stack_0000fff4,
                                                  CONCAT22(hdest,__return_storage_ptr__))))))));
  DELETEDC(hdest);
  return;
}



undefined2 __cdecl16far FUN_1010_6ac4(int param_1)

{
  bool16 bVar1;
  uint uVar2;
  POINT16 in_stack_00000006;

  bVar1 = PTINRECT((RECT16 *)param_1,in_stack_00000006);
  if (bVar1 != 0) {
    if ((((param_1 < (int)(PTR_DAT_10a8_0000_10a8_7b3a +
                          ((int)PTR_DAT_10a8_0000_10a8_7b40 - (int)PTR_DAT_10a8_0000_10a8_7b3c))) &&
         (-1 < (int)PTR_DAT_10a8_0000_10a8_1046)) &&
        ((int)PTR_DAT_10a8_0000_10a8_1046 < (int)PTR_DAT_10a8_0000_10a8_1044)) &&
       ((DAT_10a8_0a47 & 8) == 0)) {
      return 1;
    }
    if ((param_1 < (int)(PTR_DAT_10a8_0000_10a8_7b3e +
                        ((int)PTR_DAT_10a8_0000_10a8_7b3c - (int)PTR_DAT_10a8_0000_10a8_7b40))) ||
       ((DAT_10a8_0a47 & 8) != 0)) {
      if ((((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0) &&
         ((int)(PTR_DAT_10a8_0000_10a8_7b3e +
                ((int)PTR_DAT_10a8_0000_10a8_7b3c - (int)PTR_DAT_10a8_0000_10a8_7b40) + -0x18) <=
          param_1)) {
        return 3;
      }
    }
    else {
      uVar2 = 0;
      do {
        if ((*(byte *)((int)&DAT_10a8_82a0 + uVar2) & *(byte *)((int)&DAT_10a8_83ae + uVar2)) != 0)
        break;
        uVar2 = uVar2 + 1;
      } while (uVar2 < 0x18);
      if (uVar2 != 0x18) {
        return 2;
      }
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool __cdecl16far FUN_1010_6b58(undefined4 param_1,undefined2 param_2)

{
  uint uVar1;
  undefined2 unaff_SS;
  byte local_2a [40];

  uVar1 = FUN_1010_6c24(local_2a,(int)param_1,(uint)((ulong)param_1 >> 0x10),param_2);
  if ((int)uVar1 < 1) {
    return uVar1 == 0;
  }
  FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_103c & 0xffff0000 |
                ZEXT24(PTR_DAT_10a8_0000_10a8_1040 + (int)_PTR_DAT_10a8_0000_10a8_103c),
                CONCAT22(unaff_SS,local_2a),uVar1);
  PTR_DAT_10a8_0000_10a8_1040 = PTR_DAT_10a8_0000_10a8_1040 + uVar1;
  PTR_DAT_10a8_0000_10a8_1044 = PTR_DAT_10a8_0000_10a8_1044 + 1;
  return true;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool __cdecl16far FUN_1010_6bb2(undefined4 param_1,undefined2 param_2)

{
  uint uVar1;
  undefined2 unaff_SS;
  byte local_2a [40];

  uVar1 = FUN_1010_6c24(local_2a,(int)param_1,(uint)((ulong)param_1 >> 0x10),param_2);
  if ((int)uVar1 < 1) {
    return uVar1 == 0;
  }
  FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_103c & 0xffff0000 |
                ZEXT24(PTR_DAT_10a8_0000_10a8_103c + uVar1),_PTR_DAT_10a8_0000_10a8_103c,
                (uint)PTR_DAT_10a8_0000_10a8_1040);
  FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_103c,CONCAT22(unaff_SS,local_2a),uVar1);
  PTR_DAT_10a8_0000_10a8_1040 = PTR_DAT_10a8_0000_10a8_1040 + uVar1;
  PTR_DAT_10a8_0000_10a8_1044 = PTR_DAT_10a8_0000_10a8_1044 + 1;
  return true;
}



int __cdecl16far FUN_1010_6c24(byte *param_1,int param_2,uint param_3,undefined2 param_4)

{
  undefined2 *puVar1;
  byte *pbVar2;
  uint *puVar3;
  uint uVar4;
  undefined2 *puVar5;
  undefined2 *puVar6;
  undefined2 *puVar7;
  byte bStack_15;
  char local_14;
  byte *local_10;
  int local_c;
  int local_a;

  if ((param_2 != -1) &&
     ((((uVar4 = *(uint *)((int)&DAT_10a8_8864 + param_2 * 0x76), (uVar4 & 0x200) == 0 ||
        (bStack_15 = (byte)(uVar4 >> 8), (bStack_15 & 0xe0) == 0xe0)) || (param_3 == 0x94)) ||
      (((param_3 == 7 || (param_3 == 0x22)) || (param_3 == 0x47)))))) {
    if (PTR_DAT_10a8_0000_10a8_1040 + 0x14 < (undefined *)0xffc9) {
      local_10 = (byte *)CONCAT22(0x10a8,param_1);
      pbVar2 = param_1;
      *pbVar2 = *pbVar2 ^ (*param_1 ^ (byte)param_2) & 0xf;
      puVar3 = (uint *)(param_1 + 1);
      *puVar3 = *puVar3 ^ (*(uint *)(param_1 + 1) ^ param_3) & 0x1ff;
      pbVar2 = param_1 + 2;
      *pbVar2 = *pbVar2 & 1;
      *(undefined2 *)(param_1 + 3) = param_4;
      puVar1 = (undefined2 *)(param_1 + 5);
      local_a = 1;
      puVar5 = (undefined2 *)&stack0x000c;
      local_c = 0;
      puVar7 = puVar1;
      puVar6 = puVar1;
      if ('\0' < *(char *)(param_3 + 0x37c8)) {
        do {
          if (*(char *)((int)puVar5 + 1) == '\0') {
            puVar7 = (undefined2 *)((int)puVar6 + 1);
            *(undefined *)puVar6 = *(undefined *)puVar5;
          }
          else {
            puVar3 = (uint *)(param_1 + 1);
            *puVar3 = *puVar3 | local_a << 9;
            puVar7 = puVar6 + 1;
            *puVar6 = *puVar5;
          }
          puVar5 = puVar5 + 1;
          local_a = local_a << 1;
          local_c = local_c + 1;
          puVar6 = puVar7;
        } while (local_c < *(char *)(param_3 + 0x37c8));
      }
      local_14 = (char)puVar1;
      *local_10 = ((char)puVar7 - local_14) * '\x10' ^ *local_10 & 0xf;
      return (int)puVar7 - (int)param_1;
    }
    return -1;
  }
  return 0;
}



undefined2 __cdecl16far FUN_1010_6d40(uint param_1,uint param_2)

{
  byte *pbVar1;
  uint *puVar2;
  undefined *puVar3;
  byte bVar4;
  uint *puVar5;
  uint *puVar6;
  uint *puVar7;
  uint *local_c;
  int local_8;
  int local_6;

  if (PTR_DAT_10a8_0000_10a8_1040 + 0x14 < (undefined *)0xffc9) {
    bVar4 = '\x01' << ((byte)param_1 & 7);
    pbVar1 = (byte *)((int)&DAT_10a8_82a0 + ((int)param_1 >> 3));
    *pbVar1 = *pbVar1 | bVar4;
    puVar3 = PTR_DAT_10a8_0000_10a8_103e;
    puVar5 = (uint *)(PTR_DAT_10a8_0000_10a8_103c + (int)PTR_DAT_10a8_0000_10a8_1040);
    local_c = (uint *)CONCAT22(PTR_DAT_10a8_0000_10a8_103e,puVar5);
    puVar2 = puVar5;
    *puVar2 = *puVar2 ^ (*puVar5 ^ param_1) & 0x1ff;
    pbVar1 = (byte *)((int)&DAT_10a8_82a0 + ((int)param_1 >> 3));
    *pbVar1 = *pbVar1 | bVar4;
    pbVar1 = (byte *)((int)puVar5 + 1);
    *pbVar1 = *pbVar1 & 1;
    puVar5[1] = param_2;
    puVar5 = puVar5 + 2;
    local_6 = 1;
    puVar6 = (uint *)&stack0x0008;
    local_8 = 0;
    puVar7 = puVar5;
    if ('\0' < *(char *)(param_1 + 0x37c8)) {
      do {
        if (*(char *)((int)puVar6 + 1) == '\0') {
          puVar5 = (uint *)((int)puVar7 + 1);
          *(undefined *)puVar7 = *(undefined *)puVar6;
        }
        else {
          *local_c = *local_c | local_6 << 9;
          puVar5 = puVar7 + 1;
          *puVar7 = *puVar6;
        }
        puVar6 = puVar6 + 1;
        local_6 = local_6 << 1;
        local_8 = local_8 + 1;
        puVar7 = puVar5;
      } while (local_8 < *(char *)(param_1 + 0x37c8));
    }
    PTR_DAT_10a8_0000_10a8_1040 = (undefined *)((int)puVar5 - (int)PTR_DAT_10a8_0000_10a8_103c);
    PTR_DAT_10a8_0000_10a8_1044 = PTR_DAT_10a8_0000_10a8_1044 + 1;
    PTR_DAT_10a8_0000_10a8_1046 = (undefined *)0xffff;
    PTR_DAT_10a8_0000_10a8_1046 = FUN_1010_67e8(0);
    return 1;
  }
  return 0;
}



undefined2 __cdecl16far FUN_1010_6e34(int param_1)

{
  int iVar1;
  uint local_14 [9];

  iVar1 = FUN_1010_6e56(param_1,local_14);
  if (iVar1 == 0) {
    return 0xffff;
  }
  return local_14[0];
}



undefined2 __cdecl16far FUN_1010_6e56(int param_1,uint *param_2)

{
  bool bVar1;
  undefined *puVar2;
  uint *puVar3;
  uint uVar4;
  uint uVar5;
  uint *puVar6;
  uint *puVar7;
  int local_8;
  uint *local_6;

  puVar2 = PTR_DAT_10a8_0000_10a8_103e;
  if ((-1 < param_1) && (param_1 < (int)PTR_DAT_10a8_0000_10a8_1044)) {
    puVar3 = (uint *)(PTR_DAT_10a8_0000_10a8_103c + (int)PTR_DAT_10a8_0000_10a8_1040);
    puVar6 = (uint *)PTR_DAT_10a8_0000_10a8_103c;
    do {
      if (puVar3 <= puVar6) {
        return 1;
      }
      uVar4 = *puVar6 >> 9;
      puVar7 = puVar6 + 2;
      if (param_1 == 0) {
        *param_2 = *puVar6 & 0x1ff;
        param_2[1] = puVar6[1];
      }
      local_8 = (int)*(char *)((*puVar6 & 0x1ff) + 0x37c8);
      if (0 < local_8) {
        local_6 = param_2 + 2;
        do {
          if (param_1 == 0) {
            if ((uVar4 & 1) == 0) {
              uVar5 = (uint)*(byte *)puVar7;
            }
            else {
              uVar5 = *puVar7;
            }
            *local_6 = uVar5;
          }
          puVar7 = (uint *)((int)puVar7 + (((byte)uVar4 & 1) == 1) + 1);
          uVar4 = uVar4 >> 1;
          local_6 = local_6 + 1;
          local_8 = local_8 + -1;
        } while (local_8 != 0);
      }
      bVar1 = 0 < param_1;
      puVar6 = puVar7;
      param_1 = param_1 + -1;
    } while (bVar1);
    return 1;
  }
  return 0;
}



undefined2 __cdecl16far FUN_1010_6f38(int param_1)

{
  int iVar1;
  undefined2 uVar2;
  undefined2 unaff_SS;
  uint local_14 [2];
  undefined local_10 [14];

  iVar1 = FUN_1010_6e56(param_1,local_14);
  if (iVar1 == 0) {
    PTR_DAT_10a8_0000_10a8_83ca._0_1_ = 0;
    return (int)&PTR_DAT_10a8_0000_10a8_83ca;
  }
  uVar2 = FUN_1010_7448(local_14[0],(ulong *)CONCAT22(unaff_SS,local_10));
  return uVar2;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1010_6f66(byte *param_1,ulong *param_2)

{
  undefined2 *puVar1;
  char *pcVar2;
  int16 *piVar3;
  undefined2 *puVar4;
  byte bVar5;
  ulong *puVar6;
  undefined *puVar7;
  int16 *piVar8;
  uint uVar9;
  char *pcVar10;
  uint uVar11;
  int iVar12;
  VA_LIST16 unaff_SI;
  char *pcVar13;
  undefined2 *puVar14;
  undefined2 *puVar15;
  undefined2 uVar16;
  uint local_c;
  uint local_a;
  undefined4 local_8;
  int16 *local_4;

  local_4 = (int16 *)&PTR_DAT_10a8_0000_10a8_83ca;
  bVar5 = *param_1;
  puVar6 = param_2;
  do {
    if (bVar5 == 0) {
      *(undefined *)local_4 = 0;
      return (int)&PTR_DAT_10a8_0000_10a8_83ca;
    }
    param_2 = puVar6;
    if (*param_1 != 0x5c) {
switchD_1010_6fa4_caseD_46:
      *(byte *)local_4 = *param_1;
      local_4 = (int16 *)((int)local_4 + 1);
      goto LAB_1010_742e;
    }
    param_1 = param_1 + 1;
    param_2._0_2_ = (int)puVar6;
    param_2._2_2_ = (undefined2)((ulong)puVar6 >> 0x10);
    switch(*param_1) {
    case 0x45:
      uVar9 = FUN_1020_307e((uint)*(byte *)((int)param_2 + 1),(VA_LIST16)(uint)*(byte *)puVar6);
      break;
    default:
      goto switchD_1010_6fa4_caseD_46;
    case 0x49:
      if (*(uint *)puVar6 == 0) {
        uVar9 = (uint)s_decreased_10a8_111f;
      }
      else {
        uVar9 = (uint)s_increased_10a8_1115;
      }
      break;
    case 0x4c:
    case 0x6c:
      uVar9 = *(uint *)puVar6;
      uVar9 = FUN_1010_0792(uVar9 & 0xf,(uint)(*param_1 == 0x4c),(uint)((uVar9 & 0x10) != 0),
                            (uint)((uVar9 & 0x20) != 0),(int)(uVar9 & 0xc0) >> 6,0);
      break;
    case 0x50:
      if (_PTR_DAT_10a8_0000_10a8_5288 <= (double)((int)*(uint *)puVar6 / 100)) {
        puVar7 = (undefined *)((int)*(uint *)puVar6 / 100);
        uVar16 = 0x112c;
        goto LAB_1010_71f6;
      }
      piVar8 = _WSPRINTF(local_4,(LPSTR)0x113110a8,
                         (LPCSTR)CONCAT22((int)*(uint *)puVar6 / 100,0x10a8),
                         (VA_LIST16)((int)*(uint *)puVar6 % -100));
      goto LAB_1010_7202;
    case 0x65:
      uVar9 = *(uint *)(*(uint *)puVar6 * 2 + 0x634);
      break;
    case 0x66:
    case 0x68:
    case 0x72:
    case 0x74:
    case 0x79:
      pcVar13 = (char *)&DAT_10a8_85dc;
      uVar9 = 0xffff;
      do {
        if (uVar9 == 0) break;
        uVar9 = uVar9 - 1;
        pcVar2 = pcVar13;
        pcVar13 = pcVar13 + 1;
      } while (*pcVar2 != '\0');
      uVar9 = ~uVar9;
      puVar15 = (undefined2 *)(pcVar13 + -uVar9);
      piVar8 = local_4;
      for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
        piVar3 = piVar8;
        piVar8 = (int16 *)((int)piVar8 + 2);
        puVar1 = puVar15;
        puVar15 = puVar15 + 1;
        *(undefined2 *)piVar3 = *puVar1;
      }
      for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
        piVar3 = piVar8;
        piVar8 = (int16 *)((int)piVar8 + 1);
        puVar1 = puVar15;
        puVar15 = (undefined2 *)((int)puVar15 + 1);
        *(undefined *)piVar3 = *(undefined *)puVar1;
      }
      pcVar13 = (char *)&DAT_10a8_85dc;
      uVar9 = 0xffff;
      do {
        if (uVar9 == 0) break;
        uVar9 = uVar9 - 1;
        pcVar2 = pcVar13;
        pcVar13 = pcVar13 + 1;
      } while (*pcVar2 != '\0');
      local_4 = (int16 *)((int)local_4 + (~uVar9 - 1));
      bVar5 = *param_1;
      if (bVar5 == 0x79) {
        pcVar13 = (char *)&PTR_PTR_DAT_10a8_0000_10a8_782e_10a8_1111;
        uVar9 = 0xffff;
        do {
          if (uVar9 == 0) break;
          uVar9 = uVar9 - 1;
          pcVar2 = pcVar13;
          pcVar13 = pcVar13 + 1;
        } while (*pcVar2 != '\0');
        uVar9 = ~uVar9;
        puVar15 = (undefined2 *)(pcVar13 + -uVar9);
        iVar12 = -1;
        piVar8 = local_4;
        do {
          if (iVar12 == 0) break;
          iVar12 = iVar12 + -1;
          piVar3 = piVar8;
          piVar8 = (int16 *)((int)piVar8 + 1);
        } while (*(char *)piVar3 != '\0');
        puVar14 = (undefined2 *)((int)piVar8 + -1);
        for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
          puVar4 = puVar14;
          puVar14 = puVar14 + 1;
          puVar1 = puVar15;
          puVar15 = puVar15 + 1;
          *puVar4 = *puVar1;
        }
        for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
          puVar4 = puVar14;
          puVar14 = (undefined2 *)((int)puVar14 + 1);
          puVar1 = puVar15;
          puVar15 = (undefined2 *)((int)puVar15 + 1);
          *(undefined *)puVar4 = *(undefined *)puVar1;
        }
        local_4 = (int16 *)((int)local_4 + 3);
      }
      else if (bVar5 < 0x7a) {
        if (bVar5 == 0x66) {
          if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) {
LAB_1010_71aa:
            if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) goto LAB_1010_71bc;
            puVar7 = PTR_DAT_10a8_0001_10a8_00c0 + 1;
            uVar16 = 0x1102;
          }
          else {
            puVar7 = PTR_DAT_10a8_0001_10a8_00c0 + 1;
            uVar16 = 0x10fd;
          }
          goto LAB_1010_71f6;
        }
        if (bVar5 == 0x68) {
LAB_1010_71bc:
          pcVar13 = (char *)&PTR_PTR_DAT_10a8_0000_10a8_682e_10a8_1107;
          uVar9 = 0xffff;
          do {
            if (uVar9 == 0) break;
            uVar9 = uVar9 - 1;
            pcVar2 = pcVar13;
            pcVar13 = pcVar13 + 1;
          } while (*pcVar2 != '\0');
          uVar9 = ~uVar9;
          puVar15 = (undefined2 *)(pcVar13 + -uVar9);
          iVar12 = -1;
          piVar8 = local_4;
          do {
            if (iVar12 == 0) break;
            iVar12 = iVar12 + -1;
            piVar3 = piVar8;
            piVar8 = (int16 *)((int)piVar8 + 1);
          } while (*(char *)piVar3 != '\0');
          puVar14 = (undefined2 *)((int)piVar8 + -1);
          for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
            puVar4 = puVar14;
            puVar14 = puVar14 + 1;
            puVar1 = puVar15;
            puVar15 = puVar15 + 1;
            *puVar4 = *puVar1;
          }
          for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
            puVar4 = puVar14;
            puVar14 = (undefined2 *)((int)puVar14 + 1);
            puVar1 = puVar15;
            puVar15 = (undefined2 *)((int)puVar15 + 1);
            *(undefined *)puVar4 = *(undefined *)puVar1;
          }
          local_4 = (int16 *)((int)local_4 + 4);
        }
        else {
          if (bVar5 == 0x72) {
            puVar7 = PTR_DAT_10a8_0001_10a8_00c0 + 1;
            uVar16 = 0x110c;
            goto LAB_1010_71f6;
          }
          if (bVar5 == 0x74) goto LAB_1010_71aa;
        }
      }
      goto LAB_1010_742e;
    case 0x69:
      puVar7 = *(undefined **)puVar6;
      uVar16 = 0x1129;
LAB_1010_71f6:
      piVar8 = _WSPRINTF(local_4,(LPSTR)CONCAT22(uVar16,0x10a8),(LPCSTR)CONCAT22(puVar7,0x10a8),
                         unaff_SI);
LAB_1010_7202:
      local_4 = (int16 *)((int)local_4 + (int)piVar8);
      goto LAB_1010_742a;
    case 0x6a:
      uVar9 = FUN_1018_5112(*(uint *)puVar6 + 0x41);
      break;
    case 0x6b:
      param_2 = (ulong *)((ulong)puVar6 & 0xffff0000 | ZEXT24((byte *)((int)param_2 + 2)));
      local_c = *(uint *)puVar6;
      local_a = local_a & 0xff00 | (uint)*(byte *)((int)param_2 + 2);
      FUN_1060_32b2(&local_c);
      uVar9 = (int)local_8 + 8;
      break;
    case 0x6d:
      uVar9 = *(uint *)(*(uint *)puVar6 * 2 + 0x60a);
      break;
    case 0x6e:
      if (*(uint *)puVar6 == 0xffff) {
        param_2 = (ulong *)((ulong)puVar6 & 0xffff0000 | (ulong)((int)param_2 + 2));
        goto switchD_1010_6fa4_caseD_6f;
      }
      uVar9 = FUN_1010_1784(0,0xffff,*puVar6);
      local_8 = local_8 & 0xffff | (ulong)uVar9 << 0x10;
      param_2 = (ulong *)((ulong)puVar6 & 0xffff0000 | (ulong)((int)param_2 + 2));
      goto LAB_1010_73ff;
    case 0x6f:
switchD_1010_6fa4_caseD_6f:
      if ((*(byte *)((int)param_2 + 1) & 0x80) != 0) goto switchD_1010_6fa4_caseD_73;
    case 0x70:
      uVar9 = FUN_1010_1074(*(uint *)param_2);
      break;
    case 0x73:
switchD_1010_6fa4_caseD_73:
      uVar9 = FUN_1010_0ffa(*(uint *)param_2 | 0x8000);
      break;
    case 0x75:
      piVar8 = _WSPRINTF(local_4,(LPSTR)0x113910a8,(LPCSTR)CONCAT22(*(uint *)puVar6,0x10a8),unaff_SI
                        );
      local_4 = (int16 *)((int)local_4 + (int)piVar8);
      goto LAB_1010_742a;
    case 0x76:
      local_8 = *puVar6;
      param_2 = (ulong *)((ulong)puVar6 & 0xffff0000 | (ulong)((int)param_2 + 4));
      piVar8 = _WSPRINTF(local_4,(LPSTR)0x113c10a8,(LPCSTR)CONCAT22((int)local_8,0x10a8),
                         (VA_LIST16)(local_8 >> 0x10));
      local_4 = (int16 *)((int)local_4 + (int)piVar8);
      goto LAB_1010_742e;
    case 0x77:
      pcVar13 = (char *)&DAT_10a8_86de;
      uVar9 = 0xffff;
      do {
        if (uVar9 == 0) break;
        uVar9 = uVar9 - 1;
        pcVar2 = pcVar13;
        pcVar13 = pcVar13 + 1;
      } while (*pcVar2 != '\0');
      uVar9 = ~uVar9;
      puVar15 = (undefined2 *)(pcVar13 + -uVar9);
      piVar8 = local_4;
      for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
        piVar3 = piVar8;
        piVar8 = (int16 *)((int)piVar8 + 2);
        puVar1 = puVar15;
        puVar15 = puVar15 + 1;
        *(undefined2 *)piVar3 = *puVar1;
      }
      for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
        piVar3 = piVar8;
        piVar8 = (int16 *)((int)piVar8 + 1);
        puVar1 = puVar15;
        puVar15 = (undefined2 *)((int)puVar15 + 1);
        *(undefined *)piVar3 = *(undefined *)puVar1;
      }
      pcVar13 = (char *)&DAT_10a8_86de;
      uVar9 = 0xffff;
      do {
        if (uVar9 == 0) break;
        uVar9 = uVar9 - 1;
        pcVar2 = pcVar13;
        pcVar13 = pcVar13 + 1;
      } while (*pcVar2 != '\0');
      local_4 = (int16 *)((int)local_4 + (~uVar9 - 1));
      goto LAB_1010_742e;
    case 0x7a:
      if ((undefined *)((int)*(uint *)puVar6 >> 4) == PTR_DAT_10a8_0001_10a8_00c0) {
        uVar9 = (uint)(*(byte *)puVar6 & 0xf) * 0x87 + 0x71ee;
        break;
      }
      pcVar10 = (char *)FUN_1010_0792((int)*(uint *)puVar6 >> 4,0,0,1,0,0);
      local_8 = local_8 & 0xffff | ZEXT24(pcVar10) << 0x10;
      uVar9 = 0xffff;
      pcVar13 = pcVar10;
      do {
        if (uVar9 == 0) break;
        uVar9 = uVar9 - 1;
        pcVar2 = pcVar13;
        pcVar13 = pcVar13 + 1;
      } while (*pcVar2 != '\0');
      uVar9 = ~uVar9;
      puVar15 = (undefined2 *)(pcVar13 + -uVar9);
      piVar8 = local_4;
      for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
        piVar3 = piVar8;
        piVar8 = (int16 *)((int)piVar8 + 2);
        puVar1 = puVar15;
        puVar15 = puVar15 + 1;
        *(undefined2 *)piVar3 = *puVar1;
      }
      for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
        piVar3 = piVar8;
        piVar8 = (int16 *)((int)piVar8 + 1);
        puVar1 = puVar15;
        puVar15 = (undefined2 *)((int)puVar15 + 1);
        *(undefined *)piVar3 = *(undefined *)puVar1;
      }
      uVar9 = 0xffff;
      do {
        if (uVar9 == 0) break;
        uVar9 = uVar9 - 1;
        pcVar2 = pcVar10;
        pcVar10 = pcVar10 + 1;
      } while (*pcVar2 != '\0');
      puVar7 = (undefined *)((int)local_4 + (~uVar9 - 1));
      *puVar7 = 0x20;
      local_8._2_2_ = (int16 *)(puVar7 + 1);
      iVar12 = (int)(*(uint *)puVar6 & 0xfff3) >> 2;
      uVar16 = *(undefined2 *)(iVar12 + 0x74);
      pcVar13 = (char *)(*(int *)(iVar12 + 0x72) + (uint)((byte)*(uint *)puVar6 & 0xf) * 0x87 + 8);
      uVar9 = 0xffff;
      do {
        if (uVar9 == 0) break;
        uVar9 = uVar9 - 1;
        pcVar2 = pcVar13;
        pcVar13 = pcVar13 + 1;
      } while (*pcVar2 != '\0');
      uVar9 = ~uVar9;
      puVar15 = (undefined2 *)(pcVar13 + -uVar9);
      piVar8 = local_8._2_2_;
      for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
        piVar3 = piVar8;
        piVar8 = (int16 *)((int)piVar8 + 2);
        puVar1 = puVar15;
        puVar15 = puVar15 + 1;
        *(undefined2 *)piVar3 = *puVar1;
      }
      for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
        piVar3 = piVar8;
        piVar8 = (int16 *)((int)piVar8 + 1);
        puVar1 = puVar15;
        puVar15 = (undefined2 *)((int)puVar15 + 1);
        *(undefined *)piVar3 = *(undefined *)puVar1;
      }
      uVar9 = 0xffff;
      local_4 = local_8._2_2_;
      goto LAB_1010_7422;
    }
    local_8 = local_8 & 0xffff | (ulong)uVar9 << 0x10;
LAB_1010_73ff:
    uVar9 = 0xffff;
    piVar8 = local_8._2_2_;
    do {
      if (uVar9 == 0) break;
      uVar9 = uVar9 - 1;
      piVar3 = piVar8;
      piVar8 = (int16 *)((int)piVar8 + 1);
    } while (*(char *)piVar3 != '\0');
    uVar9 = ~uVar9;
    puVar15 = (undefined2 *)((int)piVar8 - uVar9);
    piVar8 = local_4;
    for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
      piVar3 = piVar8;
      piVar8 = (int16 *)((int)piVar8 + 2);
      puVar1 = puVar15;
      puVar15 = puVar15 + 1;
      *(undefined2 *)piVar3 = *puVar1;
    }
    for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
      piVar3 = piVar8;
      piVar8 = (int16 *)((int)piVar8 + 1);
      puVar1 = puVar15;
      puVar15 = (undefined2 *)((int)puVar15 + 1);
      *(undefined *)piVar3 = *(undefined *)puVar1;
    }
    uVar9 = 0xffff;
LAB_1010_7422:
    do {
      if (uVar9 == 0) break;
      uVar9 = uVar9 - 1;
      piVar3 = local_8._2_2_;
      local_8._2_2_ = (int16 *)((int)local_8._2_2_ + 1);
    } while (*(char *)piVar3 != '\0');
    local_4 = (int16 *)((int)local_4 + (~uVar9 - 1));
LAB_1010_742a:
    param_2 = (ulong *)((ulong)param_2 & 0xffff0000 | (ulong)((int)param_2 + 2));
LAB_1010_742e:
    param_1 = param_1 + 1;
    bVar5 = *param_1;
    puVar6 = param_2;
  } while( true );
}



void __cdecl16far FUN_1010_7448(uint param_1,ulong *param_2)

{
  byte *pbVar1;

  pbVar1 = (byte *)FUN_1010_7bc2(param_1);
  FUN_1010_6f66(pbVar1,param_2);
  return;
}



void __cdecl16far FUN_1010_7460(uint param_1,ulong *param_2)

{
  byte *pbVar1;

  pbVar1 = (byte *)FUN_1018_5112(param_1);
  FUN_1010_6f66(pbVar1,param_2);
  return;
}



undefined2 __cdecl16far FUN_1010_747a(uint param_1,uint param_2,int param_3)

{
  uint *puVar1;
  undefined *puVar2;
  byte *pbVar3;
  int iVar4;
  byte *pbVar5;

  puVar2 = PTR_DAT_10a8_0000_10a8_103e;
  iVar4 = 0;
  pbVar3 = PTR_DAT_10a8_0000_10a8_103c + (int)PTR_DAT_10a8_0000_10a8_1040;
  pbVar5 = PTR_DAT_10a8_0000_10a8_103c;
  if (PTR_DAT_10a8_0000_10a8_103c < pbVar3) {
    do {
      if ((((*pbVar5 & 0xf) == param_1) && ((*(uint *)(pbVar5 + 1) & 0x1ff) == param_2)) &&
         (*(int *)(pbVar5 + 3) == param_3)) {
        iVar4 = iVar4 + 1;
        puVar1 = (uint *)(pbVar5 + 1);
        *puVar1 = *puVar1 | 0x1ff;
      }
      pbVar5 = pbVar5 + (*pbVar5 >> 4) + 5;
    } while (pbVar5 < pbVar3);
  }
  if (iVar4 < 1) {
    return 0;
  }
  return 1;
}



undefined2 __cdecl16far FUN_1010_74e0(uint param_1,uint param_2,int param_3)

{
  byte *pbVar1;

  pbVar1 = PTR_DAT_10a8_0000_10a8_103c;
  if (PTR_DAT_10a8_0000_10a8_103c < PTR_DAT_10a8_0000_10a8_103c + (int)PTR_DAT_10a8_0000_10a8_1040)
  {
    do {
      if ((((*pbVar1 & 0xf) == param_1) && ((*(uint *)(pbVar1 + 1) & 0x1ff) == param_2)) &&
         (*(int *)(pbVar1 + 3) == param_3)) {
        return 1;
      }
      pbVar1 = pbVar1 + (*pbVar1 >> 4) + 5;
    } while (pbVar1 < PTR_DAT_10a8_0000_10a8_103c + (int)PTR_DAT_10a8_0000_10a8_1040);
  }
  return 0;
}



void __cdecl16far FUN_1010_7540(uint param_1)

{
  undefined *puVar1;
  char cVar2;
  byte *pbVar3;
  uint uVar4;
  int *piVar5;
  undefined *puVar6;
  undefined *puVar7;
  byte *pbVar8;

  puVar1 = PTR_DAT_10a8_0000_10a8_103e;
  pbVar3 = PTR_DAT_10a8_0000_10a8_103c + (int)PTR_DAT_10a8_0000_10a8_1040;
  puVar7 = PTR_DAT_10a8_0000_10a8_103e;
  pbVar8 = PTR_DAT_10a8_0000_10a8_103c;
  if (PTR_DAT_10a8_0000_10a8_103c < pbVar3) {
    do {
      if ((*pbVar8 & 0xf) == param_1) {
        uVar4 = *(uint *)(pbVar8 + 1) & 0x1ff;
        if (uVar4 == 0x94) {
          uVar4 = *(uint *)(pbVar8 + 1);
          puVar6 = puVar1;
          if ((uVar4 >> 9 & 2) == 0) {
            uVar4 = (uint)pbVar8[(((byte)(uVar4 >> 9) & 1) == 1) + 6];
          }
          else {
            uVar4 = *(uint *)(pbVar8 + (((byte)(uVar4 >> 9) & 1) == 1) + 6);
          }
        }
        else {
          if ((0x94 < uVar4) ||
             (((cVar2 = (char)uVar4, cVar2 != '\a' && (cVar2 != '\"')) && (cVar2 != 'G'))))
          goto LAB_1010_75eb;
          uVar4 = *(uint *)(pbVar8 + 3);
          puVar6 = puVar7;
        }
        piVar5 = FUN_1010_018e(uVar4);
        puVar7 = (undefined *)((uint)puVar6 | (uint)piVar5);
        if (puVar7 != (undefined *)0x0) {
          FUN_1040_3340(CONCAT22(puVar6,piVar5),param_1,3);
        }
      }
LAB_1010_75eb:
      pbVar8 = pbVar8 + (*pbVar8 >> 4) + 5;
    } while (pbVar8 < pbVar3);
  }
  return;
}



void __cdecl16far FUN_1010_7608(int param_1)

{
  byte *pbVar1;
  undefined4 uVar2;
  uint uVar3;
  undefined4 *puVar4;
  uint *puVar5;
  undefined2 unaff_SS;
  undefined *puVar6;

  if (param_1 != -1) {
    uVar3 = (uint)PTR_DAT_10a8_0000_10a8_1052 | (uint)PTR_DAT_10a8_0000_10a8_1050;
    puVar6 = PTR_DAT_10a8_0000_10a8_1052;
    puVar4 = (undefined4 *)PTR_DAT_10a8_0000_10a8_1050;
    while (uVar3 != 0) {
      if (((*(int *)((int)puVar4 + 6) == 0) && (*(int *)(puVar4 + 1) != param_1)) ||
         ((*(int *)((int)puVar4 + 6) - param_1 == 1 &&
          ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + *(int *)(puVar4 + 1) * 0x76) & 1) == 0))))
      {
        pbVar1 = (byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + *(int *)(puVar4 + 1) * 0x76);
        *pbVar1 = *pbVar1 | 1;
        puVar5 = (uint *)((int)&DAT_10a8_8864 + *(int *)(puVar4 + 1) * 0x76);
        *puVar5 = *puVar5 & 0xfffb | 3;
      }
      uVar2 = *puVar4;
      puVar6 = (undefined *)((ulong)uVar2 >> 0x10);
      puVar4 = (undefined4 *)uVar2;
      uVar3 = (uint)puVar6 | (uint)puVar4;
    }
  }
  return;
}



void __cdecl16far FUN_1010_7672(uint param_1)

{
  uint *puVar1;
  uint *puVar2;
  byte *pbVar3;
  uint uVar4;
  uint uVar5;
  byte *pbVar6;
  uint16 *puVar7;
  undefined2 unaff_SS;
  undefined local_40a [1024];
  byte *local_a;
  undefined *local_8;
  undefined *local_4;

  puVar7 = (uint16 *)0x0;
  if (param_1 != 0xffff) {
    local_4 = PTR_DAT_10a8_0000_10a8_103e;
    local_8 = PTR_DAT_10a8_0000_10a8_103e;
    pbVar6 = PTR_DAT_10a8_0000_10a8_103c;
    pbVar3 = PTR_DAT_10a8_0000_10a8_103c + (int)PTR_DAT_10a8_0000_10a8_1040;
    if (PTR_DAT_10a8_0000_10a8_103c < PTR_DAT_10a8_0000_10a8_103c + (int)PTR_DAT_10a8_0000_10a8_1040
       ) {
      do {
        local_a = pbVar3;
        if (0x3ff < (int)puVar7 + 0x14) {
          FUN_1040_422c(0xc,puVar7,CONCAT22(unaff_SS,local_40a));
          puVar7 = (uint16 *)0x0;
        }
        if (((*pbVar6 & 0xf) == param_1) && ((*(uint *)(pbVar6 + 1) & 0x1ff) != 0x1ff)) {
          FUN_10a0_0ac6(CONCAT22(unaff_SS,local_40a + (int)puVar7),CONCAT22(local_4,pbVar6 + 1),
                        (*pbVar6 >> 4) + 4);
          puVar7 = (uint16 *)((int)puVar7 + (*pbVar6 >> 4) + 4);
        }
        pbVar6 = pbVar6 + (*pbVar6 >> 4) + 5;
        pbVar3 = local_a;
      } while (pbVar6 < local_a);
    }
    if (puVar7 != (uint16 *)0x0) {
      FUN_1040_422c(0xc,puVar7,CONCAT22(unaff_SS,local_40a));
    }
    uVar4 = (uint)PTR_DAT_10a8_0000_10a8_1052 | (uint)PTR_DAT_10a8_0000_10a8_1050;
    local_4 = PTR_DAT_10a8_0000_10a8_1052;
    puVar2 = (uint *)PTR_DAT_10a8_0000_10a8_1050;
    while (uVar4 != 0) {
      if (((puVar2[3] == 0) && (puVar2[2] != param_1)) || (puVar2[3] - param_1 == 1)) {
        uVar4 = puVar2[5];
        uVar5 = (int)uVar4 >> 0xf;
        FUN_1040_422c(0x28,(uint16 *)(((uVar4 ^ uVar5) - uVar5) + 0xc),CONCAT22(local_4,puVar2));
      }
      puVar1 = (uint *)*puVar2;
      local_4 = (undefined *)puVar2[1];
      puVar2 = puVar1;
      uVar4 = (uint)local_4 | (uint)puVar1;
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1010_7786(void)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;

  PTR_DAT_10a8_0000_10a8_1046 = (undefined *)0xffff;
  puVar3 = (undefined4 *)&DAT_10a8_82a0;
  for (iVar2 = 6; iVar2 != 0; iVar2 = iVar2 + -1) {
    puVar1 = puVar3;
    puVar3 = puVar3 + 1;
    *puVar1 = 0;
  }
  _PTR_DAT_10a8_0000_10a8_104c = 0;
  _PTR_DAT_10a8_0000_10a8_1050 = 0;
  PTR_DAT_10a8_0000_10a8_1040 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_1044 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_1048 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_1054 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_1056 = (undefined *)0x0;
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1010_77be(void)

{
  byte *pbVar1;
  undefined2 *puVar2;
  undefined2 *puVar3;
  char cVar4;
  long lVar5;
  long *plVar6;
  uint uVar7;
  uint *puVar8;
  uint uVar9;
  undefined *puVar10;
  long **pplVar11;
  undefined2 *puVar12;
  undefined2 *puVar13;
  int iVar14;
  undefined2 uVar15;
  int local_2a [9];
  int local_18;
  uint *local_16;
  undefined *local_14;
  int local_12;
  uint *local_10;
  undefined *local_e;
  uint *local_c;
  undefined4 local_8;
  undefined *local_4;

  local_4 = (undefined *)0x0;
  local_18 = 0;
  local_10 = (uint *)(PTR_DAT_10a8_0000_10a8_103c + (int)PTR_DAT_10a8_0000_10a8_1040);
  local_14 = PTR_DAT_10a8_0000_10a8_103e;
  while (local_e = local_14, (DAT_10a8_59a9 & 0xfc) == 0x30) {
    uVar7 = (uint)(byte)((ulong)_DAT_10a8_59a8 >> 8) << 8;
    uVar9 = _DAT_10a8_59a8 & 0xff | uVar7 & 0x3ff;
    if (((_DAT_10a8_59a8 & 0xff | uVar7 & 0x3ff) != 0) &&
       (PTR_DAT_10a8_0000_10a8_1040 + (int)local_4 < (undefined *)(-0x38 - uVar9))) {
      FUN_10a0_0ac6(CONCAT22(local_14,(byte *)((int)local_10 + (int)local_4)),&DAT_10a8_7d64,uVar9);
      local_4 = (undefined *)
                ((int)local_4 +
                (_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8));
    }
    FUN_1040_1e24();
    local_14 = local_e;
  }
  PTR_DAT_10a8_0000_10a8_1040 = PTR_DAT_10a8_0000_10a8_1040 + (int)local_4;
  local_16 = (uint *)((int)local_10 + (int)local_4);
  puVar10 = PTR_DAT_10a8_0000_10a8_002e;
  while (local_10 < local_16) {
    local_c = (uint *)CONCAT22(local_14,local_10);
    pbVar1 = (byte *)((int)&DAT_10a8_82a0 + ((*local_10 & 0x1f8) >> 3));
    PTR_DAT_10a8_0000_10a8_002e = puVar10;
    *pbVar1 = *pbVar1 | '\x01' << (*(byte *)local_10 & 7);
    PTR_DAT_10a8_0000_10a8_1044 = PTR_DAT_10a8_0000_10a8_1044 + 1;
    uVar7 = *local_10 >> 9;
    local_10 = local_10 + 2;
    cVar4 = *(char *)((*local_c & 0x1ff) + 0x37c8);
    local_12 = (int)cVar4;
    local_8._2_2_ = (int)cVar4;
    puVar10 = PTR_DAT_10a8_0000_10a8_002e;
    if (0 < local_8._2_2_) {
      do {
        local_10 = (uint *)((int)local_10 + (((byte)uVar7 & 1) == 1) + 1);
        uVar7 = uVar7 >> 1;
        local_8._2_2_ = local_8._2_2_ + -1;
      } while (local_8._2_2_ != 0);
    }
  }
  pplVar11 = (long **)&PTR_DAT_10a8_0000_10a8_104c;
  iVar14 = (int)s_From___s_c_c_10a8_10a2 + 6;
  lVar5 = _PTR_DAT_10a8_0000_10a8_104c;
  while (lVar5 != 0) {
    plVar6 = *pplVar11;
    iVar14 = (int)((ulong)plVar6 >> 0x10);
    pplVar11 = (long **)plVar6;
    lVar5 = *plVar6;
  }
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_2a;
  local_8 = (undefined4 *)CONCAT22(iVar14,pplVar11);
  local_4 = puVar10;
  iVar14 = FUN_10a0_0704((int *)PTR_DAT_10a8_0000_10a8_002e);
  if (iVar14 == 0) goto LAB_1010_797c;
  PTR_DAT_10a8_0000_10a8_002e = local_4;
  local_18 = 1;
  while( true ) {
    FUN_1040_1e24();
LAB_1010_797c:
    if ((DAT_10a8_59a9 & 0xfc) != 0xa0) break;
    if (local_18 == 0) {
      puVar8 = FUN_1038_0232(_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8,8
                            );
      *(uint **)local_8 = puVar8;
      *(undefined2 *)((int)local_8 + 2) = puVar10;
      local_8 = (undefined4 *)*local_8;
      puVar12 = (undefined2 *)&DAT_10a8_7d64;
      uVar15 = (undefined2)((ulong)local_8 >> 0x10);
      puVar13 = (undefined2 *)local_8;
      uVar7 = _DAT_10a8_59a8 & 1;
      for (uVar9 = (_DAT_10a8_59a8 & 0x3ff) >> 1; uVar9 != 0; uVar9 = uVar9 - 1) {
        puVar3 = puVar13;
        puVar13 = puVar13 + 1;
        puVar2 = puVar12;
        puVar12 = puVar12 + 1;
        *puVar3 = *puVar2;
      }
      for (uVar7 = (uint)(uVar7 != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
        puVar3 = puVar13;
        puVar13 = (undefined2 *)((int)puVar13 + 1);
        puVar2 = puVar12;
        puVar12 = (undefined2 *)((int)puVar12 + 1);
        *(undefined *)puVar3 = *(undefined *)puVar2;
      }
      *local_8 = 0;
      PTR_DAT_10a8_0000_10a8_1054 = PTR_DAT_10a8_0000_10a8_1054 + 1;
    }
  }
  PTR_DAT_10a8_0000_10a8_1046 = (undefined *)0xffff;
  PTR_DAT_10a8_0000_10a8_1046 = FUN_1010_67e8(0);
  return;
}



undefined2 __cdecl16far FUN_1010_799e(int param_1)

{
  int *piVar1;
  undefined4 *puVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  int *piVar6;
  int16 *piVar7;
  uint uVar8;
  undefined4 *puVar9;
  undefined *puVar10;
  uint uVar11;
  int iVar12;
  undefined2 uVar13;
  WPARAM16 unaff_SI;
  undefined2 unaff_DI;
  int16 *piVar14;
  int *piVar15;
  undefined2 unaff_SS;
  bool bVar16;
  LRESULT LVar17;
  undefined2 in_stack_0000ffe0;
  HWND16 in_stack_0000ffe2;
  undefined2 in_stack_0000ffe4;
  undefined2 uVar18;
  uint in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined2 in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  undefined4 *puVar19;
  undefined2 local_8;
  undefined4 *local_6;

  iVar5 = (int)s_From___s_c_c_10a8_10a2 + 6;
  puVar9 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_1050;
  puVar10 = PTR_DAT_10a8_0000_10a8_1048;
  while (0 < (int)puVar10) {
    uVar4 = *puVar9;
    iVar5 = (int)((ulong)uVar4 >> 0x10);
    puVar9 = (undefined4 *)uVar4;
    puVar10 = puVar10 + -1;
  }
  local_6 = (undefined4 *)CONCAT22(iVar5,puVar9);
  puVar19 = *(undefined4 **)puVar9;
  uVar3 = *(uint *)((int)puVar9 + 2);
  if (param_1 == 1000) {
    piVar14 = (int16 *)0x0;
    param_1 = 0;
    uVar18 = unaff_SS;
  }
  else {
    uVar18 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_87f0;
    uVar4 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_8312;
    in_stack_0000ffe2 = (HWND16)uVar4;
    in_stack_0000ffe4 = (undefined2)((ulong)uVar4 >> 0x10);
    in_stack_0000ffe0 = 1000;
    piVar14 = GETWINDOWTEXT((int16 *)((int)s__s___s_computer_player__10a8_03d3 + 0x15),
                            in_stack_0000ffe2,CONCAT22(uVar18,in_stack_0000ffe4),
                            (int16)CONCAT214(in_stack_0000fff6,
                                             CONCAT212(in_stack_0000fff4,
                                                       CONCAT210(in_stack_0000fff2,
                                                                 CONCAT28(in_stack_0000fff0,
                                                                          CONCAT26(in_stack_0000ffee
                                                                                   ,CONCAT24(
                                                  in_stack_0000ffec,CONCAT22(unaff_DI,unaff_SI))))))
                                            ));
  }
  if (piVar14 == (int16 *)0x0) {
    if ((uVar3 | (uint)puVar19) != 0) {
      FUN_1020_4832((undefined *)&DAT_10a8_0001);
      *local_6 = *puVar19;
      FUN_1038_04ca((uint)puVar19,uVar3,8);
      piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_1056;
      *piVar1 = *piVar1 + -1;
      if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_1048) {
        piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_1048;
        *piVar1 = *piVar1 + -1;
      }
    }
    if ((param_1 == -1) && (0 < *(int *)&PTR_DAT_10a8_0000_10a8_1048)) {
      piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_1048;
      *piVar1 = *piVar1 + -1;
    }
    else if ((param_1 == 1) &&
            (*(int *)&PTR_DAT_10a8_0000_10a8_1048 < *(int *)&PTR_DAT_10a8_0000_10a8_1056)) {
      piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_1048;
      *piVar1 = *piVar1 + 1;
    }
    return 0;
  }
  uVar8 = *(uint *)&PTR_DAT_10a8_0000_10a8_8312;
  uVar13 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_8314;
  piVar7 = piVar14;
  iVar5 = FUN_1018_6776(*(char **)&PTR_DAT_10a8_0000_10a8_8312,uVar13,
                        CONCAT22(uVar13,uVar8 & 0xff |
                                        (uint)(byte)((char)((ulong)uVar8 >> 8) + 4) << 8),
                        (uint *)&stack0xffec);
  if (iVar5 == 0) {
    piVar7 = (int16 *)(-1 - (int)piVar14);
    piVar6 = *(int **)&PTR_DAT_10a8_0000_10a8_8312;
    uVar13 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_8314;
  }
  else {
    uVar8 = *(uint *)&PTR_DAT_10a8_0000_10a8_8312;
    uVar13 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_8314;
    piVar6 = (int *)(uVar8 & 0xff | (uint)(byte)((char)((ulong)uVar8 >> 8) + 4) << 8);
  }
  uVar8 = (((uint)piVar7 ^ (int)piVar7 >> 0xf) - ((int)piVar7 >> 0xf)) + 0xc;
  LVar17 = SENDMESSAGE(0,(uint16)CONCAT214(uVar18,CONCAT212(in_stack_0000ffe4,
                                                            CONCAT210(in_stack_0000ffe2,
                                                                      CONCAT28(in_stack_0000ffe0,
                                                                               CONCAT26(*(undefined2
                                                                                          *)&
                                                  PTR_DAT_10a8_0000_10a8_8308,0x40700000000))))),
                       unaff_SI,CONCAT22(uVar8,unaff_DI));
  local_8 = (undefined2)((ulong)LVar17 >> 0x10);
  iVar5 = (int)LVar17;
  if (CONCAT22(uVar3,puVar19) == 0) {
    FUN_1020_4832((undefined *)&DAT_10a8_0001);
    puVar9 = (undefined4 *)FUN_1038_0232(uVar8,8);
    *puVar9 = 0;
    piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_1056;
    *piVar1 = *piVar1 + 1;
    *(undefined2 *)(puVar9 + 2) = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_1046;
    goto LAB_1010_7b6a;
  }
  if ((*(int16 **)((int)puVar19 + 10) == piVar7) && (*(int *)((int)puVar19 + 6) == iVar5)) {
    puVar9 = puVar19 + 3;
    uVar11 = (uint)piVar7 >> 1;
    bVar16 = true;
    piVar15 = piVar6;
    do {
      if (uVar11 == 0) break;
      uVar11 = uVar11 - 1;
      piVar1 = piVar15;
      piVar15 = piVar15 + 1;
      puVar2 = puVar9;
      puVar9 = (undefined4 *)((int)puVar9 + 2);
      bVar16 = *(int *)puVar2 == *piVar1;
    } while (bVar16);
    if (bVar16) {
      iVar12 = uVar11 + (((uint)piVar7 & 1) != 0);
      bVar16 = iVar12 == 0;
      do {
        if (iVar12 == 0) break;
        iVar12 = iVar12 + -1;
        piVar1 = piVar15;
        piVar15 = (int *)((int)piVar15 + 1);
        puVar2 = puVar9;
        puVar9 = (undefined4 *)((int)puVar9 + 1);
        bVar16 = *(char *)puVar2 == *(char *)piVar1;
      } while (bVar16);
    }
    local_8 = uVar13;
    if (!bVar16) goto LAB_1010_7b13;
  }
  else {
LAB_1010_7b13:
    FUN_1020_4832((undefined *)&DAT_10a8_0001);
  }
  puVar9 = (undefined4 *)FUN_1038_03ec(CONCAT22(uVar3,puVar19),CONCAT22(8,uVar8));
LAB_1010_7b6a:
  *local_6 = CONCAT22(local_8,puVar9);
  *(undefined2 *)(puVar9 + 1) = *(undefined2 *)&PTR_DAT_10a8_0001_10a8_00c0;
  *(int *)((int)puVar9 + 6) = iVar5;
  *(int16 **)((int)puVar9 + 10) = piVar7;
  FUN_10a0_0ac6(CONCAT22(local_8,puVar9 + 3),CONCAT22(uVar13,piVar6),
                ((uint)piVar7 ^ (int)piVar7 >> 0xf) - ((int)piVar7 >> 0xf));
  piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_1048;
  *piVar1 = *piVar1 + param_1;
  if (*piVar1 < 0) {
    *(undefined2 *)&PTR_DAT_10a8_0000_10a8_1048 = 0;
  }
  return 1;
}



undefined2 __cdecl16far FUN_1010_7bc2(uint param_1)

{
  byte bVar1;
  byte *pbVar2;
  uint uVar3;
  byte *pbVar4;
  int iVar5;
  uint uVar6;
  int unaff_SS;
  bool bVar7;
  uint local_e;
  undefined *local_c;

  if ((int)DAT_10a8_1140 != param_1) {
    uVar3 = param_1 & 0x3f;
    pbVar2 = (byte *)(((int)param_1 >> 6) * 0x40 + 0x38ce);
    if (uVar3 == 0) {
      uVar6 = 0;
      unaff_SS = (int)s_From___s_c_c_10a8_10a2 + 6;
    }
    else {
      uVar6 = 0;
      pbVar4 = pbVar2;
      do {
        pbVar2 = pbVar4 + 1;
        uVar6 = uVar6 + *pbVar4;
        uVar3 = uVar3 - 1;
        pbVar4 = pbVar2;
      } while (uVar3 != 0);
    }
    bVar7 = (uVar6 & 1) == 0;
    local_c = (undefined *)0x81de;
    iVar5 = 0;
    pbVar4 = (byte *)(*(int *)(((int)param_1 >> 6) * 2 + 0x38c8) + 0x398d + ((int)uVar6 >> 1));
    local_e = (uint)*pbVar2;
    while (uVar3 = local_e - 1, local_e != 0) {
      if (bVar7) {
        bVar1 = *pbVar4 >> 4;
        pbVar2 = pbVar4;
      }
      else {
        pbVar2 = pbVar4 + 1;
        bVar1 = *pbVar4;
      }
      bVar7 = !bVar7;
      iVar5 = iVar5 + (bVar1 & 0xf);
      pbVar4 = pbVar2;
      local_e = uVar3;
      if ((bVar1 & 0xf) != 0xf) {
        *local_c = *(undefined *)((int)s_B_17_Bomber_10a8_3879 + 0xe + iVar5);
        iVar5 = 0;
        local_c = local_c + 1;
      }
    }
    *local_c = 0;
  }
  return 0x81de;
}



void __cdecl16far FUN_1010_7cbe(uint param_1,int param_2)

{
  char cVar1;
  byte bVar2;
  int iVar3;
  byte *pbVar4;

  bVar2 = (byte)param_1;
  cVar1 = '\x01' - (param_2 == 0);
  pbVar4 = (byte *)((int)&DAT_10a8_83ae + ((int)param_1 >> 3));
  *pbVar4 = cVar1 << (bVar2 & 7) | ~('\x01' << (bVar2 & 7)) & *pbVar4;
  if ((param_1 == 0x33) || (param_1 == 0x34)) {
LAB_1010_7f06:
    bVar2 = ~bVar2;
  }
  else {
    if ((param_1 != 0x35) && (param_1 != 0x36)) {
      if ((param_1 == 0x37) || (param_1 == 0x38)) {
        iVar3 = (int)(param_1 ^ 8) >> 3;
        *(byte *)((int)&DAT_10a8_83ae + iVar3) =
             cVar1 << (~bVar2 & 7) |
             ~('\x01' << (~bVar2 & 7)) & *(byte *)((int)&DAT_10a8_83ae + iVar3);
        return;
      }
      if ((0x2b < (int)param_1) && ((int)param_1 < 0x30)) {
        iVar3 = 0x2c;
        do {
          bVar2 = (byte)iVar3 & 7;
          *(byte *)((int)&DAT_10a8_83ae + (iVar3 >> 3)) =
               cVar1 << bVar2 | ~('\x01' << bVar2) & *(byte *)((int)&DAT_10a8_83ae + (iVar3 >> 3));
          iVar3 = iVar3 + 1;
        } while (iVar3 < 0x30);
        return;
      }
      if ((0x3f < (int)param_1) && ((int)param_1 < 0x43)) {
        iVar3 = 0x40;
        do {
          bVar2 = (byte)iVar3 & 7;
          *(byte *)((int)&DAT_10a8_83ae + (iVar3 >> 3)) =
               cVar1 << bVar2 | ~('\x01' << bVar2) & *(byte *)((int)&DAT_10a8_83ae + (iVar3 >> 3));
          iVar3 = iVar3 + 1;
        } while (iVar3 < 0x43);
        return;
      }
      if ((((param_1 != 0x31) && (param_1 != 0x32)) && (param_1 != 0x39)) && (param_1 != 0x3a)) {
        if ((param_1 == 0x3b) || (param_1 == 0x3c)) goto LAB_1010_7f06;
        if ((param_1 != 0x3d) && (param_1 != 0x3e)) {
          if (((((param_1 == 0x48) ||
                (((param_1 == 0x49 || (param_1 == 0x4a)) || (param_1 == 0x4b)))) ||
               (((param_1 == 0x4c || (param_1 == 0x4d)) || (param_1 == 0x4e)))) ||
              ((param_1 == 0x4f || (param_1 == 0x50)))) ||
             (((param_1 == 0x51 || (((param_1 == 0x52 || (param_1 == 0x53)) || (param_1 == 0x92))))
              || (param_1 == 0x93)))) {
            bVar2 = bVar2 ^ 1;
            goto LAB_1010_7f0a;
          }
          if ((0x61 < (int)param_1) && ((int)param_1 < 0x67)) {
            iVar3 = 0x62;
            do {
              bVar2 = (byte)iVar3 & 7;
              *(byte *)((int)&DAT_10a8_83ae + (iVar3 >> 3)) =
                   cVar1 << bVar2 |
                   ~('\x01' << bVar2) & *(byte *)((int)&DAT_10a8_83ae + (iVar3 >> 3));
              iVar3 = iVar3 + 1;
            } while (iVar3 < 0x67);
            return;
          }
          if ((0x6b < (int)param_1) && ((int)param_1 < 0x71)) {
            iVar3 = 0x6c;
            do {
              bVar2 = (byte)iVar3 & 7;
              *(byte *)((int)&DAT_10a8_83ae + (iVar3 >> 3)) =
                   cVar1 << bVar2 |
                   ~('\x01' << bVar2) & *(byte *)((int)&DAT_10a8_83ae + (iVar3 >> 3));
              iVar3 = iVar3 + 1;
            } while (iVar3 < 0x71);
            return;
          }
          if ((param_1 != 0x7d) && (param_1 != 0x7e)) {
            return;
          }
        }
      }
    }
    bVar2 = bVar2 ^ 3;
  }
LAB_1010_7f0a:
  *pbVar4 = ~('\x01' << (bVar2 & 7)) & *pbVar4 | cVar1 << (bVar2 & 7);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1018_0000(undefined4 param_1,undefined4 param_2)

{
  int iVar1;

                    // Segment:    4
                    // Offset:     00013c60
                    // Length:     7030
                    // Min Alloc:  7030
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  iVar1 = (int)PTR_DAT_10a8_0000_10a8_4a42 * 8;
  *(undefined2 *)(iVar1 + -0x7cde) = DAT_10a8_4a3a;
  *(undefined2 *)(iVar1 + -0x7cdc) = PTR_DAT_10a8_0000_10a8_4a3c;
  *(undefined4 *)(iVar1 + -0x7cda) = DAT_10a8_4a3e;
  PTR_DAT_10a8_0000_10a8_4a42 = PTR_DAT_10a8_0000_10a8_4a42 + 1;
  _DAT_10a8_4a3a = param_1;
  DAT_10a8_4a3e = param_2;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1018_49d2(void)

{
  int iVar1;

  PTR_DAT_10a8_0000_10a8_4a42 = PTR_DAT_10a8_0000_10a8_4a42 + -1;
  iVar1 = (int)PTR_DAT_10a8_0000_10a8_4a42 * 8;
  _DAT_10a8_4a3a = *(undefined4 *)(iVar1 + -0x7cde);
  DAT_10a8_4a3e = *(undefined4 *)(iVar1 + -0x7cda);
  return;
}



void __cdecl16far FUN_1018_49f0(uint param_1)

{
  uint uVar1;

  uVar1 = param_1 >> 6 & 0x3f;
  if (uVar1 == (param_1 & 0x3f)) {
    uVar1 = (byte)((char)uVar1 + 1) & 0x3f;
  }
  DAT_10a8_4a3a =
       *(int *)((int)s_Your_advantage_points_are_curren_10a8_48da + 0x77 + (param_1 & 0x3f) * 2);
  PTR_DAT_10a8_0000_10a8_4a3c = (undefined *)(DAT_10a8_4a3a >> 0xf);
  DAT_10a8_4a3e =
       (long)*(int *)((int)s_Your_advantage_points_are_curren_10a8_48da + 0x77 + uVar1 * 2);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1018_4a4a(int param_1)

{
  ulong local_e;
  long local_a;
  long local_6;

  local_a = (_DAT_10a8_4a3a / -0xd1a4) * 0x7fffffab + _DAT_10a8_4a3a * 0x9c4e;
  if (local_a < 0) {
    local_a = local_a + 0x7fffffab;
  }
  local_6 = (DAT_10a8_4a3e / -0xce26) * 0x7fffff07 + DAT_10a8_4a3e * 0x9ef4;
  if (local_6 < 0) {
    local_6 = local_6 + 0x7fffff07;
  }
  local_e = local_a - local_6;
  if ((long)local_e < 1) {
    local_e = local_e + 0x7fffffaa;
  }
  _DAT_10a8_4a3a = local_a;
  DAT_10a8_4a3e = local_6;
  if (param_1 < 1) {
    return 0;
  }
  return (int)(local_e % (ulong)(long)param_1);
}



ulong __stdcall16far
RANDOMSEEDDLG(undefined2 param_1_00,int param_2,int param_3,int param_4,undefined2 param_5)

{
  char *pcVar1;
  char *pcVar2;
  byte bVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint in_DX;
  word unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  RECT16 *unaff_SS;
  bool bVar9;
  bool bVar10;
  COLORREF CVar11;
  LRESULT LVar12;
  undefined2 uVar13;
  uint in_stack_0000ffcc;
  WPARAM16 in_stack_0000ffce;
  char in_stack_0000ffd0;
  undefined in_stack_0000ffd1;
  undefined2 in_stack_0000ffd2;
  undefined2 in_stack_0000ffd4;
  undefined8 in_stack_0000ffd6;
  undefined8 in_stack_0000ffde;
  undefined8 in_stack_0000ffe6;
  undefined in_stack_0000ffee [12];
  undefined2 in_stack_0000fffa;
  undefined2 in_stack_0000fffc;

  if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)&stack0xfff2,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xfff2,unaff_SS,param_3);
  }
  else {
    if (param_4 == 0x19) {
      if (param_2 == 6) {
        uVar13 = 0xf;
        CVar11 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffd2,
                                              CONCAT113(in_stack_0000ffd1,
                                                        CONCAT112(in_stack_0000ffd0,
                                                                  CONCAT210(in_stack_0000ffce,
                                                                            CONCAT28(
                                                  in_stack_0000ffcc,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  param_3,0xf)))))))));
        CVar11 = SETBKCOLOR((HDC16)CVar11.value,CONCAT22(uVar13,(int)(CVar11.value >> 0x10)));
        return CVar11.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
LAB_1018_4c86:
      return (ulong)in_DX << 0x10;
    }
    if (param_4 == 0x110) {
      SETWINDOWPOS(0x15,0,(int16)CONCAT214(in_stack_0000ffcc,
                                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_5,
                                                  0x10001000000)))),
                   (int16)CONCAT88(in_stack_0000ffd6,
                                   CONCAT26(in_stack_0000ffd4,
                                            CONCAT24(in_stack_0000ffd2,
                                                     CONCAT13(in_stack_0000ffd1,
                                                              CONCAT12(in_stack_0000ffd0,
                                                                       in_stack_0000ffce))))),
                   (int16)CONCAT88(in_stack_0000ffe6,in_stack_0000ffde),
                   (int16)CONCAT214(in_stack_0000fffc,CONCAT212(in_stack_0000fffa,in_stack_0000ffee)
                                   ),unaff_BP);
      LVar12 = SENDDLGITEMMESSAGE(0,(int16)CONCAT214(in_stack_0000ffcc,
                                                     CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  param_5,0x10c0415001f0000)))),in_stack_0000ffce,
                                  CONCAT22(in_stack_0000ffd2,
                                           CONCAT11(in_stack_0000ffd1,in_stack_0000ffd0)));
      in_DX = (uint)((ulong)LVar12 >> 0x10);
    }
    else {
      if ((param_4 != 0x111) || ((param_3 != 1 && (param_3 != 2)))) goto LAB_1018_4c86;
      if (param_3 == 1) {
        GETDLGITEMTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0020,(HWND16)&stack0xffd0,
                       (int16)CONCAT115(in_stack_0000ffd1,
                                        CONCAT114(in_stack_0000ffd0,
                                                  CONCAT212(in_stack_0000ffce,
                                                            CONCAT210(in_stack_0000ffcc,
                                                                      CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(param_5,CONCAT22(0x10c,unaff_SS)
                                                                   ))))))),
                       CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2),
                       (uint16)CONCAT88(in_stack_0000ffde,in_stack_0000ffd6));
        uVar8 = 0;
        pcVar2 = &stack0xffd0;
        bVar3 = *(byte *)(in_stack_0000ffd0 + 0x4ca5);
        uVar7 = 0;
        while ((bVar3 & 4) != 0) {
          pcVar1 = pcVar2;
          pcVar2 = pcVar2 + 1;
          in_stack_0000ffcc = (int)*pcVar1 - 0x30;
          in_stack_0000ffce = (int)in_stack_0000ffcc >> 0xf;
          bVar9 = CARRY2(uVar8,uVar8);
          uVar4 = uVar8 * 2;
          bVar10 = CARRY2(uVar8 * 4,uVar8);
          uVar6 = uVar8 * 5;
          uVar5 = uVar8 * 10;
          uVar8 = uVar5 + in_stack_0000ffcc;
          in_DX = uVar7;
          uVar7 = (uVar7 * 5 + (uint)bVar9 * 2 + (uint)CARRY2(uVar4,uVar4) + (uint)bVar10) * 2 +
                  (uint)CARRY2(uVar6,uVar6) + in_stack_0000ffce +
                  (uint)CARRY2(uVar5,in_stack_0000ffcc);
          bVar3 = *(byte *)(*pcVar2 + 0x4ca5);
        }
        if (CONCAT22(uVar7,uVar8) == 0) goto LAB_1018_4b84;
        FUN_1018_49f0(uVar8);
      }
      ENDDIALOG((uint)(param_3 == 1),
                (int16)CONCAT214(in_stack_0000ffd4,
                                 CONCAT212(in_stack_0000ffd2,
                                           CONCAT111(in_stack_0000ffd1,
                                                     CONCAT110(in_stack_0000ffd0,
                                                               CONCAT28(in_stack_0000ffce,
                                                                        CONCAT26(in_stack_0000ffcc,
                                                                                 CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))))));
    }
  }
LAB_1018_4b84:
  return CONCAT22(in_DX,1);
}



void __cdecl16far FUN_1018_4c8e(undefined2 *param_1,undefined2 *param_2)

{
  undefined *puVar1;

  puVar1 = PTR_DAT_10a8_0000_10a8_56d6;
  *param_1 = PTR_DAT_10a8_0000_10a8_56d4;
  param_1[1] = puVar1;
  puVar1 = PTR_DAT_10a8_0000_10a8_56da;
  *param_2 = PTR_DAT_10a8_0000_10a8_56d8;
  param_2[1] = puVar1;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1018_4cb2(undefined4 param_1,undefined4 param_2)

{
  _PTR_DAT_10a8_0000_10a8_56d4 = param_1;
  _PTR_DAT_10a8_0000_10a8_56d8 = param_2;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far
FUN_1018_4cc8(byte param_1,undefined2 param_2_00,uint param_3,byte param_4,byte param_5,int param_6)

{
  int iVar1;
  uint uVar2;

  uVar2 = param_3 & 0x1f;
  iVar1 = (int)(param_3 & 0x3e0) >> 5;
  if ((param_3 & 0x400) == 0) {
    iVar1 = iVar1 + 0x20;
  }
  else {
    uVar2 = uVar2 + 0x20;
  }
  PTR_DAT_10a8_0000_10a8_56d4 =
       (undefined *)*(int *)((int)s_Your_advantage_points_are_curren_10a8_48da + 0x77 + uVar2 * 2);
  PTR_DAT_10a8_0000_10a8_56d6 = (undefined *)((int)PTR_DAT_10a8_0000_10a8_56d4 >> 0xf);
  _PTR_DAT_10a8_0000_10a8_56d8 =
       (long)*(int *)((int)s_Your_advantage_points_are_curren_10a8_48da + 0x77 + iVar1 * 2);
  iVar1 = ((param_1 & 3) + 1) * ((param_5 & 3) + 1) * ((param_4 & 3) + 1) + param_6;
  while (0 < iVar1) {
    FUN_1018_4d3c();
    iVar1 = iVar1 + -1;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1018_4d3c(void)

{
  long local_a;
  long local_6;

  local_a = (_PTR_DAT_10a8_0000_10a8_56d4 / -0xd1a4) * 0x7fffffab +
            _PTR_DAT_10a8_0000_10a8_56d4 * 0x9c4e;
  if (local_a < 0) {
    local_a = local_a + 0x7fffffab;
  }
  local_6 = (_PTR_DAT_10a8_0000_10a8_56d8 / -0xce26) * 0x7fffff07 +
            _PTR_DAT_10a8_0000_10a8_56d8 * 0x9ef4;
  if (local_6 < 0) {
    local_6 = local_6 + 0x7fffff07;
  }
  _PTR_DAT_10a8_0000_10a8_56d4 = local_a;
  _PTR_DAT_10a8_0000_10a8_56d8 = local_6;
  return (int)local_a - (int)local_6;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1018_4e04(uint *param_1,uint param_2)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  uint in_DX;
  uint *puVar4;
  long local_6;

  puVar4 = (uint *)((param_2 & 0xfffc) + (int)param_1);
  if (param_1 < puVar4) {
    do {
      uVar2 = FUN_1018_4d3c();
      puVar1 = param_1;
      *puVar1 = *puVar1 ^ uVar2;
      puVar1 = param_1 + 1;
      *puVar1 = *puVar1 ^ in_DX;
      param_1 = param_1 + 2;
    } while (param_1 < puVar4);
  }
  if ((param_2 & 3) != 0) {
    iVar3 = FUN_1018_4d3c();
    local_6 = CONCAT22(in_DX,iVar3);
    uVar2 = param_2 & 3;
    while (uVar2 != 0) {
      puVar1 = param_1;
      *(byte *)puVar1 = *(byte *)puVar1 ^ (byte)local_6;
      local_6 = local_6 >> 8;
      param_1 = (uint *)((int)param_1 + 1);
      uVar2 = uVar2 - 1;
    }
  }
  return;
}



int __cdecl16far FUN_1018_4e64(int *param_1,int *param_2)

{
  return *param_1 - *param_2;
}



undefined2 __cdecl16far FUN_1018_4e74(uint param_1)

{
  char *pcVar1;
  byte bVar2;
  char cVar3;
  bool bVar4;
  byte *pbVar5;
  uint uVar6;
  byte *pbVar7;
  char *pcVar8;
  uint uVar9;
  int unaff_SS;
  bool bVar10;
  uint local_10;
  int local_a;

  if (0x3e6 < (int)param_1) {
    param_1 = (int)param_1 % 999;
  }
  if ((int)DAT_10a8_4a44 != param_1) {
    uVar6 = param_1 & 0x3f;
    pbVar5 = (byte *)(((int)param_1 >> 6) * 0x40 + 0x3571);
    if (uVar6 == 0) {
      uVar9 = 0;
      unaff_SS = (int)s_From___s_c_c_10a8_10a2 + 6;
    }
    else {
      uVar9 = 0;
      pbVar7 = pbVar5;
      do {
        pbVar5 = pbVar7 + 1;
        uVar9 = uVar9 + *pbVar7;
        uVar6 = uVar6 - 1;
        pbVar7 = pbVar5;
      } while (uVar6 != 0);
    }
    bVar10 = (uVar9 & 1) == 0;
    local_a = 0;
    bVar4 = true;
    pcVar8 = (char *)0x5722;
    pbVar7 = (byte *)(*(int *)(((int)param_1 >> 6) * 2 + 0x3551) + 0x3958 + ((int)uVar9 >> 1));
    local_10 = (uint)*pbVar5;
    while (uVar6 = local_10 - 1, local_10 != 0) {
      if (bVar10) {
        bVar2 = *pbVar7 >> 4;
        pbVar5 = pbVar7;
      }
      else {
        pbVar5 = pbVar7 + 1;
        bVar2 = *pbVar7;
      }
      bVar10 = !bVar10;
      local_a = local_a + (bVar2 & 0xf);
      pbVar7 = pbVar5;
      local_10 = uVar6;
      if ((bVar2 & 0xf) != 0xf) {
        cVar3 = *(char *)(local_a + 0x351d);
        *pcVar8 = cVar3;
        if (((bVar4) && ('`' < cVar3)) && (cVar3 < '{')) {
          pcVar1 = pcVar8;
          *pcVar1 = *pcVar1 + -0x20;
        }
        if ((*pcVar8 == ' ') || (*pcVar8 == '-')) {
          bVar4 = true;
        }
        else {
          bVar4 = false;
        }
        pcVar8 = pcVar8 + 1;
        local_a = 0;
      }
    }
    *pcVar8 = '\0';
  }
  return 0x5722;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1018_4fb0(undefined2 param_1,undefined2 param_2)

{
  int iVar1;
  uint uVar2;
  uint16 *puVar3;
  int in_DX;
  OFSTRUCT *unaff_SS;
  undefined uVar4;
  undefined in_stack_0000f75a [12];
  undefined4 in_stack_0000f766;
  undefined local_a6 [136];
  int local_1e [9];
  undefined *local_c;
  undefined *local_a;
  HFILE16 local_8;
  long local_6;

  local_c = PTR_DAT_10a8_0000_10a8_0a30;
  local_8 = 0xffff;
  PTR_DAT_10a8_0000_10a8_0a30 = (undefined *)&DAT_10a8_0001;
  local_a = PTR_DAT_10a8_0000_10a8_002e;
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_1e;
  iVar1 = FUN_10a0_0704((int *)PTR_DAT_10a8_0000_10a8_002e);
  if (iVar1 == 0) {
    FUN_1040_1ece(param_1,0x20);
    local_8 = OPENFILE((LPCSTR)CONCAT22(local_a6,0x1012),unaff_SS,
                       (uint16)CONCAT124(in_stack_0000f75a,CONCAT22(0x10a8,param_2)));
    if (local_8 == 0xffff) {
      FUN_1040_1f9c();
      return;
    }
    uVar2 = FUN_10a0_03b6(DAT_10a8_1030);
    local_6 = CONCAT22(in_DX,uVar2);
    uVar4 = (undefined)((uint)unaff_SS >> 8);
    if (-1 < in_DX) {
      if (0 < in_DX) goto LAB_1018_502b;
      do {
        if (uVar2 < 0x801) break;
LAB_1018_502b:
        do {
          FUN_1040_1fb4((LPVOID)CONCAT13(uVar4,CONCAT12((char)unaff_SS,&stack0xf75a)),
                        (uint16 *)((int)s_Value_10a8_07ff + 1));
          puVar3 = _LWRITE((uint16 *)((int)s_Value_10a8_07ff + 1),(HFILE16)&stack0xf75a,
                           (LPCSTR)CONCAT22(local_8,unaff_SS),
                           (uint16)CONCAT412(in_stack_0000f766,in_stack_0000f75a));
          if (puVar3 != (uint16 *)((int)s_Value_10a8_07ff + 1)) goto LAB_1018_508f;
          uVar2 = (int)(uint16 *)local_6 - 0x800;
          iVar1 = (int)((ulong)local_6 >> 0x10) - (uint)((uint16 *)local_6 < 0x800);
          local_6 = CONCAT22(iVar1,uVar2);
        } while (0 < iVar1);
      } while (-1 < iVar1);
    }
    if (local_6 != 0) {
      FUN_1040_1fb4((LPVOID)CONCAT13(uVar4,CONCAT12((char)unaff_SS,&stack0xf75a)),(uint16 *)local_6)
      ;
      _LWRITE((uint16 *)local_6,(HFILE16)&stack0xf75a,(LPCSTR)CONCAT22(local_8,unaff_SS),
              (uint16)CONCAT412(in_stack_0000f766,in_stack_0000f75a));
    }
  }
LAB_1018_508f:
  FUN_1040_1f9c();
  if (local_8 != 0xffff) {
    _LCLOSE((HFILE16)DAT_10a8_1030);
  }
  PTR_DAT_10a8_0000_10a8_002e = local_a;
  PTR_DAT_10a8_0000_10a8_0a30 = local_c;
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1018_50b2(uint param_1,HWND16 param_2)

{
  undefined2 uVar1;
  HWND16 HVar2;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined4 in_stack_00000000;
  undefined4 in_stack_00000008;

  uVar1 = FUN_1010_7460(param_1,(ulong *)0x0);
  HVar2 = GETFOCUS();
  MESSAGEBOX((int16 *)param_2,0x4a45,(LPCSTR)CONCAT22(uVar1,0x10a8),(LPCSTR)CONCAT22(HVar2,0x10a8),
             (uint16)CONCAT124(CONCAT48(in_stack_00000008,
                                        CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000))),
                               CONCAT22(unaff_BP,unaff_SI)));
  return;
}



int __cdecl16far FUN_1018_50de(uint param_1,char *param_2)

{
  char cVar1;
  char *pcVar2;
  char *pcVar3;

  pcVar2 = (char *)FUN_1018_5112(param_1);
  cVar1 = *pcVar2;
  pcVar3 = param_2;
  while (cVar1 != '\0') {
    *pcVar3 = *pcVar2;
    pcVar3 = pcVar3 + 1;
    pcVar2 = pcVar2 + 1;
    cVar1 = *pcVar2;
  }
  *pcVar3 = '\0';
  return (int)pcVar3 - (int)param_2;
}



undefined2 __cdecl16far FUN_1018_5112(uint param_1)

{
  byte bVar1;
  byte *pbVar2;
  uint uVar3;
  byte *pbVar4;
  int iVar5;
  uint uVar6;
  int unaff_SS;
  bool bVar7;
  uint local_e;
  undefined *local_c;

  if ((int)(char)PTR_PTR_10a8_4a4c != param_1) {
    uVar3 = param_1 & 0x3f;
    pbVar2 = (byte *)(((int)param_1 >> 6) * 0x40 + 0x9b);
    if (uVar3 == 0) {
      uVar6 = 0;
      unaff_SS = (int)s_From___s_c_c_10a8_10a2 + 6;
    }
    else {
      uVar6 = 0;
      pbVar4 = pbVar2;
      do {
        pbVar2 = pbVar4 + 1;
        uVar6 = uVar6 + *pbVar4;
        uVar3 = uVar3 - 1;
        pbVar4 = pbVar2;
      } while (uVar3 != 0);
    }
    bVar7 = (uVar6 & 1) == 0;
    local_c = (undefined *)0x84da;
    iVar5 = 0;
    pbVar4 = (byte *)(*(int *)(((int)param_1 >> 6) * 2 + 0x89) + 0x2a0 + ((int)uVar6 >> 1));
    local_e = (uint)*pbVar2;
    while (uVar3 = local_e - 1, local_e != 0) {
      if (bVar7) {
        bVar1 = *pbVar4 >> 4;
        pbVar2 = pbVar4;
      }
      else {
        pbVar2 = pbVar4 + 1;
        bVar1 = *pbVar4;
      }
      bVar7 = !bVar7;
      iVar5 = iVar5 + (bVar1 & 0xf);
      pbVar4 = pbVar2;
      local_e = uVar3;
      if ((bVar1 & 0xf) != 0xf) {
        *local_c = *(undefined *)(iVar5 + 0x38);
        iVar5 = 0;
        local_c = local_c + 1;
      }
    }
    *local_c = 0;
  }
  return 0x84da;
}



undefined2 __cdecl16far FUN_1018_520e(VA_LIST16 param_1,int16 **param_2)

{
  int16 *piVar1;
  VA_LIST16 unaff_BP;

  piVar1 = _WSPRINTF((int16 *)0x87e0,(LPSTR)0x4a4d10a8,(LPCSTR)CONCAT22(param_1,0x10a8),unaff_BP);
  if (*param_2 != (int16 *)0x0) {
    *param_2 = piVar1;
  }
  return 0x87e0;
}



undefined2 __cdecl16far FUN_1018_5234(VA_LIST16 param_1,VA_LIST16 param_2_00,int16 **param_3)

{
  int16 *piVar1;

  piVar1 = _WSPRINTF((int16 *)0x87e0,(LPSTR)0x4a5010a8,(LPCSTR)CONCAT22(param_1,0x10a8),param_2_00);
  if (*param_3 != (int16 *)0x0) {
    *param_3 = piVar1;
  }
  return 0x87e0;
}



int __cdecl16far FUN_1018_525c(char *param_1,long param_2)

{
  int16 *piVar1;
  int16 *piVar2;
  int iVar3;
  int16 *piVar4;
  undefined2 unaff_SS;
  int16 local_16;
  char *local_6;
  int local_4;

  piVar4 = &local_16;
  local_6 = param_1;
  piVar2 = _WSPRINTF(&local_16,(LPSTR)CONCAT22(0x4a54,unaff_SS),
                     (LPCSTR)CONCAT22((int)param_2,0x10a8),(VA_LIST16)((ulong)param_2 >> 0x10));
  local_4 = (int)piVar2 % 3;
  iVar3 = 3;
  if (((local_4 != 0) && (iVar3 = local_4, local_4 == 1)) && (param_2 < 0)) {
    iVar3 = 4;
  }
  while (0 < iVar3) {
    piVar1 = piVar4;
    piVar4 = (int16 *)((int)piVar4 + 1);
    *local_6 = *(char *)piVar1;
    local_6 = local_6 + 1;
    iVar3 = iVar3 + -1;
  }
  while (*(char *)piVar4 != '\0') {
    *local_6 = ',';
    iVar3 = 3;
    while( true ) {
      local_6 = local_6 + 1;
      if (iVar3 < 1) break;
      piVar1 = piVar4;
      piVar4 = (int16 *)((int)piVar4 + 1);
      *local_6 = *(char *)piVar1;
      iVar3 = iVar3 + -1;
    }
  }
  *local_6 = '\0';
  return (int)local_6 - (int)param_1;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1018_52da(undefined2 param_1,int param_2,undefined2 param_3,int16 *param_4,int16 *param_5,
             LPCSTR param_6,int16 param_7)

{
  int16 *hdc;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  dword dVar1;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined4 in_stack_00000022;
  undefined2 uVar2;

  hdc = param_5;
  if (param_5 == (int16 *)0x0) {
    hdc = LSTRLEN(param_4,(LPCSTR)CONCAT22(unaff_SI,0x10a8));
  }
  uVar2 = param_1;
  dVar1 = GETTEXTEXTENT((HDC16)hdc,(LPCSTR)CONCAT22(0x10a8,param_4),
                        (int16)CONCAT610(CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002)),
                                         CONCAT28(in_stack_00000000,
                                                  CONCAT26(unaff_BP,CONCAT24(unaff_SI,CONCAT22(
                                                  param_1,param_1))))));
  TEXTOUT((HDC16)hdc,
          (int16)CONCAT214(in_stack_00000000,
                           CONCAT212(unaff_BP,CONCAT210(unaff_SI,CONCAT28(uVar2,CONCAT26(-(((int)
                                                  dVar1 >> 1) - param_2),
                                                  CONCAT24(param_3,CONCAT22(0x10a8,param_4))))))),
          (int16)CONCAT412(param_6,CONCAT210(param_5,CONCAT28(param_4,CONCAT26(param_3,CONCAT24(
                                                  param_2,CONCAT22(param_1,in_stack_00000002)))))),
          (LPCSTR)param_7,(int16)CONCAT412(in_stack_00000022,param_7._4_12_));
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

int __cdecl16far
FUN_1018_5318(undefined2 param_1,int *param_2,undefined2 param_3,int16 *param_4,int16 *param_5,
             LPCSTR param_6,int16 param_7)

{
  int *piVar1;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  dword dVar2;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined4 in_stack_00000022;

  if (param_5 == (int16 *)0x0) {
    param_5 = LSTRLEN(param_4,(LPCSTR)CONCAT22(unaff_SI,0x10a8));
  }
  dVar2 = GETTEXTEXTENT((HDC16)param_5,(LPCSTR)CONCAT22(0x10a8,param_4),
                        (int16)CONCAT88(CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,
                                                  in_stack_00000002))),
                                        CONCAT26(in_stack_00000000,
                                                 CONCAT24(unaff_BP,CONCAT22(unaff_SI,param_1)))));
  if ((int)param_6 != 0) {
    TEXTOUT((HDC16)param_5,
            (int16)CONCAT214(in_stack_00000000,
                             CONCAT212(unaff_BP,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(*
                                                  param_2,CONCAT24(param_3,CONCAT22(0x10a8,param_4))
                                                  ))))),
            (int16)CONCAT214(param_6._2_2_,
                             CONCAT212((int)param_6,
                                       CONCAT210(param_5,CONCAT28(param_4,CONCAT26(param_3,CONCAT24(
                                                  param_2,CONCAT22(param_1,in_stack_00000002))))))),
            (LPCSTR)param_7,(int16)CONCAT412(in_stack_00000022,param_7._4_12_));
  }
  piVar1 = param_2;
  *piVar1 = *piVar1 + (int)dVar2;
  return (int)dVar2;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1018_5366(LPCSTR param_1,int *param_2,char *param_3,char *param_4,int param_5,int param_6,
             int *param_7,int param_8,int param_9)

{
  int *piVar1;
  char *pcVar2;
  int iVar3;
  char *pcVar4;
  uint uVar5;
  undefined2 unaff_BP;
  uint unaff_SI;
  undefined2 unaff_DI;
  char *pcVar6;
  dword dVar7;
  undefined4 in_stack_00000000;
  undefined2 uVar8;
  int *piVar9;
  char *pcVar10;
  int iVar11;
  int in_stack_0000fff8;
  int iVar12;
  char *in_stack_0000fffc;
  char *pcVar13;

  iVar3 = (param_6 - *piVar9) + param_5;
  if (param_4 == (char *)0x0) {
    uVar5 = 0xffff;
    pcVar6 = param_3;
    do {
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar2 = pcVar6;
      pcVar6 = pcVar6 + 1;
    } while (*pcVar2 != '\0');
    param_4 = (char *)(~uVar5 - 1);
  }
  pcVar6 = param_3;
  if (param_8 != 0) {
    piVar1 = param_2;
    *piVar1 = (int)(PTR_DAT_10a8_0000_10a8_5794 + *piVar1);
    *piVar9 = param_5;
  }
  do {
    pcVar4 = pcVar6 + (int)param_4;
    pcVar10 = pcVar6;
    FUN_1018_555c(pcVar6,(char **)&stack0xfff2);
    iVar11 = 1;
    dVar7 = GETTEXTEXTENT((int)pcVar4 - (int)pcVar6,(LPCSTR)CONCAT22(0x10a8,pcVar6),
                          (int16)CONCAT214(iVar3,CONCAT212(in_stack_0000fff8,
                                                           CONCAT210(1,CONCAT28(pcVar10,CONCAT26(
                                                  pcVar4,CONCAT24(unaff_DI,(ulong)param_1 & 0xffff |
                                                                           (ulong)unaff_SI << 0x10))
                                                  )))));
    in_stack_0000fff8 = (int)dVar7;
    iVar12 = in_stack_0000fff8;
    pcVar13 = pcVar6;
    if (iVar3 < in_stack_0000fff8) {
      do {
        in_stack_0000fffc = pcVar13;
        if ((pcVar4 <= pcVar6) || (in_stack_0000fff8 < 1)) break;
        iVar11 = 0;
        FUN_1018_550c(pcVar6,(char **)&stack0xfff2);
        dVar7 = GETTEXTEXTENT((int)pcVar4 - (int)pcVar6,(LPCSTR)CONCAT22(0x10a8,pcVar6),
                              (int16)CONCAT214(iVar3,CONCAT212(iVar12,CONCAT210(iVar11,CONCAT28(
                                                  pcVar10,CONCAT26(pcVar4,CONCAT24(unaff_DI,(ulong)
                                                  param_1 & 0xffff | (ulong)unaff_SI << 0x10)))))));
        in_stack_0000fff8 = (int)dVar7;
        in_stack_0000fffc = pcVar13;
      } while (iVar3 < in_stack_0000fff8);
    }
    pcVar6 = pcVar10;
    if (iVar11 != 0) {
      FUN_1018_54ee((char **)&stack0xfff2,pcVar10 + (int)param_4);
      dVar7 = GETTEXTEXTENT((int)pcVar4 - (int)pcVar10,(LPCSTR)CONCAT22(0x10a8,pcVar10),
                            (int16)CONCAT214(iVar3,CONCAT212(in_stack_0000fff8,
                                                             CONCAT210(iVar11,CONCAT28(pcVar6,
                                                  CONCAT26(pcVar4,CONCAT24(unaff_DI,(ulong)param_1 &
                                                                                    0xffff | (ulong)
                                                  unaff_SI << 0x10)))))));
      in_stack_0000fff8 = (int)dVar7;
    }
    if (pcVar4 == pcVar10) {
      if (param_5 == *piVar9) {
        pcVar4 = pcVar10 + (int)param_4;
        dVar7 = GETTEXTEXTENT((int)pcVar4 - (int)pcVar10,(LPCSTR)CONCAT22(0x10a8,pcVar10),
                              (int16)CONCAT214(iVar3,CONCAT212(in_stack_0000fff8,
                                                               CONCAT210(iVar11,CONCAT28(pcVar6,
                                                  CONCAT26(pcVar4,CONCAT24(unaff_DI,(ulong)param_1 &
                                                                                    0xffff | (ulong)
                                                  unaff_SI << 0x10)))))));
        in_stack_0000fff8 = (int)dVar7;
        goto LAB_1018_5472;
      }
    }
    else {
LAB_1018_5472:
      if (param_9 != 0) {
        TEXTOUT((int)pcVar4 - (int)pcVar10,
                (int16)CONCAT214(pcVar4,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(uVar8,
                                                  CONCAT26(*piVar9,CONCAT24(*param_2,CONCAT22(0x10a8
                                                  ,pcVar10))))))),
                (int16)CONCAT412(in_stack_00000000,
                                 CONCAT210(unaff_BP,CONCAT28(in_stack_0000fffc,
                                                             CONCAT26(iVar3,CONCAT24(
                                                  in_stack_0000fff8,CONCAT22(iVar11,pcVar6)))))),
                param_1,(int16)CONCAT214(param_9,CONCAT212(param_8,CONCAT210(param_7,CONCAT28(
                                                  param_6,CONCAT26(param_5,CONCAT24(param_4,CONCAT22
                                                  (param_3,param_2))))))));
      }
      piVar1 = piVar9;
      *piVar1 = *piVar1 + in_stack_0000fff8;
      if ((param_7 != (int *)0x0) && (iVar3 = *piVar9, *param_7 < iVar3)) {
        *param_7 = iVar3;
      }
      if (pcVar10 + (int)param_4 == pcVar4) {
        return;
      }
    }
    FUN_1018_54ee((char **)&stack0xfff2,pcVar10 + (int)param_4);
    param_4 = pcVar10 + ((int)param_4 - (int)pcVar4);
    piVar1 = param_2;
    *piVar1 = (int)(PTR_DAT_10a8_0000_10a8_5794 + *piVar1);
    *piVar9 = param_5;
    pcVar6 = pcVar4;
    iVar3 = param_6;
  } while( true );
}



void __cdecl16far FUN_1018_54ee(char **param_1,char *param_2)

{
  char **ppcVar1;
  char *pcVar2;

  pcVar2 = *param_1;
  while ((pcVar2 < param_2 && (**param_1 == ' '))) {
    ppcVar1 = param_1;
    *ppcVar1 = *ppcVar1 + 1;
    pcVar2 = *param_1;
  }
  return;
}



void __cdecl16far FUN_1018_550c(char *param_1,char **param_2)

{
  char **ppcVar1;
  char *pcVar2;
  char *pcVar3;

  ppcVar1 = param_2;
  if (param_1 <= *ppcVar1 && *ppcVar1 != param_1) {
    pcVar3 = *param_2;
    do {
      pcVar3 = pcVar3 + -1;
      if (*pcVar3 != ' ') break;
      pcVar2 = *param_2 + -1;
      *param_2 = pcVar2;
    } while (param_1 < pcVar2);
  }
  ppcVar1 = param_2;
  if (param_1 <= *ppcVar1 && *ppcVar1 != param_1) {
    pcVar3 = *param_2;
    do {
      pcVar3 = pcVar3 + -1;
      if (*pcVar3 == ' ') break;
      pcVar2 = *param_2 + -1;
      *param_2 = pcVar2;
    } while (param_1 < pcVar2);
  }
  ppcVar1 = param_2;
  if (param_1 <= *ppcVar1 && *ppcVar1 != param_1) {
    pcVar3 = *param_2;
    do {
      pcVar3 = pcVar3 + -1;
      if (*pcVar3 != ' ') {
        return;
      }
      pcVar2 = *param_2 + -1;
      *param_2 = pcVar2;
    } while (param_1 < pcVar2);
  }
  return;
}



void __cdecl16far FUN_1018_555c(char *param_1,char **param_2)

{
  char **ppcVar1;
  char *pcVar2;
  char *pcVar3;

  ppcVar1 = param_2;
  if (param_1 <= *ppcVar1 && *ppcVar1 != param_1) {
    pcVar3 = *param_2;
    do {
      pcVar3 = pcVar3 + -1;
      if (*pcVar3 != ' ') {
        return;
      }
      pcVar2 = *param_2 + -1;
      *param_2 = pcVar2;
    } while (param_1 < pcVar2);
  }
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1018_5580(HBRUSH16 param_1,int *param_2,LPCSTR param_3,int16 param_4)

{
  int16 *__return_storage_ptr__;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  dword dVar1;
  undefined4 in_stack_00000000;
  undefined4 in_stack_0000001c;
  undefined2 in_stack_0000fffa;
  undefined2 in_stack_0000fffc;

  if (param_3._2_2_ == (int16 *)0xffff) {
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)param_2,
             (RECT16 *)((int)s_From___s_c_c_10a8_10a2 + 6),param_1);
    param_3._2_2_ = (int16 *)0x0;
  }
  __return_storage_ptr__ = (int16 *)param_3;
  if (param_3._2_2_ == (int16 *)0x0) {
    param_3._2_2_ = LSTRLEN(__return_storage_ptr__,(LPCSTR)CONCAT22(unaff_SI,0x10a8));
  }
  dVar1 = GETTEXTEXTENT((HDC16)param_3._2_2_,(LPCSTR)CONCAT22(0x10a8,__return_storage_ptr__),
                        (int16)CONCAT412(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(in_stack_0000fffc,
                                                                     CONCAT26(in_stack_0000fffa,
                                                                              CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1)))))));
  TEXTOUT((HDC16)param_3._2_2_,
          (int16)CONCAT214((int)dVar1,
                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(((uint)((
                                                  param_2[2] - *param_2) - (int)dVar1) >> 1) +
                                                  *param_2,CONCAT24(((uint)((param_2[3] - param_2[1]
                                                                            ) - (int)(dVar1 >> 0x10)
                                                                           ) >> 1) + param_2[1],
                                                                    CONCAT22(0x10a8,
                                                  __return_storage_ptr__))))))),
          (int16)CONCAT88(CONCAT26(param_3._2_2_,CONCAT44(param_3,CONCAT22(param_2,param_1))),
                          CONCAT44(in_stack_00000000,CONCAT22(unaff_BP,in_stack_0000fffc))),
          (LPCSTR)param_4,(int16)CONCAT412(in_stack_0000001c,param_4._4_12_));
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1018_55f6(HBRUSH16 param_1,int param_2,int param_3,int16 *param_4,int16 *param_5,int param_6,
             undefined4 param_7,undefined2 param_8,undefined param_9 [14])

{
  undefined auVar1 [12];
  int iVar2;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  RECT16 *unaff_SS;
  dword dVar3;
  undefined4 in_stack_00000000;
  undefined4 in_stack_00000024;
  undefined2 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  undefined4 in_stack_0000fff8;
  undefined2 in_stack_0000fffc;

  if (param_5 == (int16 *)0xffff) {
    _param_3 = CONCAT22(0x4a58,param_3);
    param_5 = (int16 *)&PTR_LOOP_10a8_0004;
  }
  else if (param_5 == (int16 *)0x0) {
    param_5 = LSTRLEN(param_4,(LPCSTR)CONCAT22(unaff_SI,0x10a8));
  }
  dVar3 = GETTEXTEXTENT((HDC16)param_5,(LPCSTR)CONCAT22(0x10a8,param_4),
                        (int16)CONCAT214(in_stack_0000fffc,
                                         CONCAT410(in_stack_0000fff8,
                                                   CONCAT28(in_stack_0000fff6,
                                                            CONCAT26(in_stack_0000fff4,
                                                                     CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_1)))))));
  iVar2 = (int)dVar3;
  auVar1 = SUB1412(param_9 >> 0x10,0);
  if (iVar2 < param_6) {
    SETRECT((RECT16 *)CONCAT22(param_2 - iVar2,PTR_DAT_10a8_0000_10a8_5794 + param_3),
            (int16)CONCAT214(in_stack_0000fff6,
                             CONCAT212(in_stack_0000fff4,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xfff4,
                                                           CONCAT22(param_2 - param_6,param_3)))))))
            ,(int16)CONCAT214(param_2,CONCAT68(CONCAT24(param_1,in_stack_00000000),
                                               CONCAT26(unaff_BP,CONCAT24(iVar2,in_stack_0000fff8)))
                             ),
            (int16)CONCAT214(param_9._0_2_,
                             CONCAT212(param_8,CONCAT48(param_7,CONCAT26(param_6,CONCAT24(param_5,
                                                  _param_3 & 0xffff0000 | (ulong)(uint)param_3))))),
            (int16)CONCAT412(in_stack_00000024,auVar1));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xfff4,unaff_SS,param_1);
  }
  else if ((0 < param_6) && (param_6 < iVar2)) {
    SETRECT((RECT16 *)CONCAT22(param_2,PTR_DAT_10a8_0000_10a8_5794 + param_3),
            (int16)CONCAT214(in_stack_0000fff6,
                             CONCAT212(in_stack_0000fff4,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xfff4,
                                                           CONCAT22(param_2 - param_6,param_3)))))))
            ,(int16)CONCAT214(param_2,CONCAT68(CONCAT24(param_1,in_stack_00000000),
                                               CONCAT26(unaff_BP,CONCAT24(iVar2,in_stack_0000fff8)))
                             ),
            (int16)CONCAT214(param_9._0_2_,
                             CONCAT212(param_8,CONCAT48(param_7,CONCAT26(param_6,CONCAT24(param_5,
                                                  _param_3 & 0xffff0000 | (ulong)(uint)param_3))))),
            (int16)CONCAT412(in_stack_00000024,auVar1));
    EXTTEXTOUT(0,(int16)CONCAT214(param_3,CONCAT212(6,CONCAT210(unaff_SS,CONCAT28(&stack0xfff4,
                                                                                  CONCAT26(0x10a8,(
                                                  uint6)(_param_3 & 0xffff0000 | ZEXT24(param_5)) <<
                                                  0x10))))),
               (int16)CONCAT412(in_stack_0000fff8,
                                CONCAT210(in_stack_0000fff6,
                                          CONCAT28(in_stack_0000fff4,
                                                   CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  param_1,param_2 - iVar2)))))),
               (uint16)CONCAT412(_param_3,CONCAT210(param_2,CONCAT64(CONCAT24(param_1,
                                                  in_stack_00000000),CONCAT22(unaff_BP,iVar2)))));
    return;
  }
  TEXTOUT((HDC16)param_5,
          (int16)CONCAT214(in_stack_0000fff4,
                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(param_2 -
                                                                                           iVar2,
                                                  CONCAT24(param_3,CONCAT22(0x10a8,param_4))))))),
          (int16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                           CONCAT28(unaff_BP,CONCAT26(iVar2,CONCAT42(in_stack_0000fff8,
                                                                     in_stack_0000fff6)))),
          (LPCSTR)CONCAT22(param_3,param_2),
          (int16)CONCAT214(param_9._2_2_,
                           CONCAT212(param_9._0_2_,
                                     CONCAT210(param_8,CONCAT46(param_7,CONCAT24(param_6,CONCAT22(
                                                  param_5,param_4)))))));
  return;
}



void __cdecl16far FUN_1018_56e0(HRGN16 param_1,int *param_2,char *param_3,HDC16 param_4)

{
  double dVar1;
  int *piVar2;
  char *pcVar3;
  int *piVar4;
  int iVar5;
  int *plf16;
  int16 *piVar6;
  int iVar7;
  int16 *__return_storage_ptr__;
  int iVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  char *pcVar12;
  int *piVar13;
  int *piVar14;
  longdouble lVar15;
  dword dVar16;
  HRGN16 HVar17;
  undefined2 in_stack_0000ffc4;
  undefined6 in_stack_0000ffc6;
  undefined2 in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined4 in_stack_0000ffd0;
  undefined2 in_stack_0000ffd4;
  undefined2 in_stack_0000ffd6;
  undefined2 in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  undefined4 in_stack_0000ffdc;
  int in_stack_0000ffe0;
  int16 *in_stack_0000ffe2;
  undefined6 in_stack_0000ffe4;
  undefined2 in_stack_0000ffea;
  int16 *local_6;

  if (param_4 == 0) {
    uVar9 = 0xffff;
    pcVar12 = param_3;
    do {
      if (uVar9 == 0) break;
      uVar9 = uVar9 - 1;
      pcVar3 = pcVar12;
      pcVar12 = pcVar12 + 1;
    } while (*pcVar3 != '\0');
    param_4 = ~uVar9 - 1;
  }
  iVar5 = param_2[2] - *param_2;
  iVar10 = param_2[3] - param_2[1];
  if ((9 < iVar5) && (9 < iVar10)) {
    plf16 = (int *)LOCALALLOC(0x32,0x40);
    plf16[4] = 900;
    piVar14 = plf16 + 9;
    uVar9 = 0xffff;
    pcVar12 = PTR_s_Arial_Bold_10a8_09f3_10a8_0a20;
    do {
      if (uVar9 == 0) break;
      uVar9 = uVar9 - 1;
      pcVar3 = pcVar12;
      pcVar12 = pcVar12 + 1;
    } while (*pcVar3 != '\0');
    uVar9 = ~uVar9;
    piVar13 = (int *)(pcVar12 + -uVar9);
    for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
      piVar4 = piVar14;
      piVar14 = piVar14 + 1;
      piVar2 = piVar13;
      piVar13 = piVar13 + 1;
      *piVar4 = *piVar2;
    }
    for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
      piVar4 = piVar14;
      piVar14 = (int *)((int)piVar14 + 1);
      piVar2 = piVar13;
      piVar13 = (int *)((int)piVar13 + 1);
      *(undefined *)piVar4 = *(undefined *)piVar2;
    }
    iVar7 = iVar10;
    if (iVar10 < iVar5) {
      iVar7 = iVar5;
    }
    *plf16 = -iVar7;
    while (*plf16 < -4) {
      while (piVar6 = MULDIV((int16 *)&DAT_10a8_0064,
                             (int16)CONCAT610(in_stack_0000ffc6,
                                              CONCAT28(in_stack_0000ffc4,
                                                       CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  0x6f,-*plf16))))),
                             (int16)CONCAT214(in_stack_0000ffda,
                                              CONCAT212(in_stack_0000ffd8,
                                                        CONCAT210(in_stack_0000ffd6,
                                                                  CONCAT28(in_stack_0000ffd4,
                                                                           CONCAT44(
                                                  in_stack_0000ffd0,
                                                  CONCAT22(in_stack_0000ffce,in_stack_0000ffcc))))))
                             ,(int16)CONCAT214(in_stack_0000ffea,
                                               CONCAT68(in_stack_0000ffe4,
                                                        CONCAT26(in_stack_0000ffe2,
                                                                 CONCAT24(in_stack_0000ffe0,
                                                                          in_stack_0000ffdc))))),
            iVar10 < (int)piVar6) {
        iVar7 = ((int)piVar6 - iVar10) / 2;
        if (iVar7 < 2) {
          iVar7 = 2;
        }
        piVar2 = plf16;
        *piVar2 = *piVar2 + iVar7;
        if (-5 < *plf16) goto LAB_1018_593c;
      }
      in_stack_0000ffe0 = iVar10 - (int)piVar6;
      lVar15 = (longdouble)iVar5;
      FUN_10a0_0c0e();
      dVar1 = (double)lVar15;
      in_stack_0000ffd0 = SUB84(dVar1,0);
      in_stack_0000ffd4 = (undefined2)((qword)dVar1 >> 0x20);
      in_stack_0000ffd6 = (undefined2)((qword)dVar1 >> 0x30);
      iVar7 = FUN_10a0_0c14();
      plf16[2] = iVar7;
      HVar17 = param_1;
      piVar6 = (int16 *)CREATEFONTINDIRECT((LOGFONT16 *)plf16);
      __return_storage_ptr__ =
           SELECTOBJECT(piVar6,HVar17,unaff_SI,unaff_DI,
                        (int16)CONCAT412(in_stack_0000ffd0,
                                         CONCAT210(in_stack_0000ffce,
                                                   CONCAT28(in_stack_0000ffcc,
                                                            CONCAT62(in_stack_0000ffc6,
                                                                     in_stack_0000ffc4)))));
      dVar16 = GETTEXTEXTENT(param_4,(LPCSTR)CONCAT13(0x10,CONCAT12(0xa8,param_3)),
                             (int16)CONCAT214(in_stack_0000ffcc,
                                              CONCAT68(in_stack_0000ffc6,
                                                       CONCAT26(in_stack_0000ffc4,
                                                                CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_1))))));
      in_stack_0000ffcc = (undefined2)dVar16;
      lVar15 = (longdouble)
               (double)CONCAT26(in_stack_0000ffd6,CONCAT24(in_stack_0000ffd4,in_stack_0000ffd0));
      FUN_10a0_0bde();
      in_stack_0000ffe4 = SUB86((double)lVar15,0);
      in_stack_0000ffea = (undefined2)((qword)(double)lVar15 >> 0x30);
      lVar15 = (longdouble)
               (double)CONCAT26(in_stack_0000ffd6,CONCAT24(in_stack_0000ffd4,in_stack_0000ffd0));
      FUN_10a0_0bd8();
      in_stack_0000ffc4 = SUB82((double)lVar15,0);
      in_stack_0000ffc6 = (undefined6)((qword)(double)lVar15 >> 0x10);
      iVar7 = FUN_10a0_0c14();
      iVar8 = FUN_10a0_0c14();
      in_stack_0000ffe2 = (int16 *)(iVar8 + 8);
      if (((int)in_stack_0000ffe2 <= iVar5) && (iVar7 + 8 <= iVar10)) {
        iVar5 = (iVar5 - iVar8) / 2 + *param_2;
        HVar17 = param_1;
        iVar8 = FUN_10a0_0c14();
        TEXTOUT(param_4,(int16)CONCAT214(in_stack_0000ffc4,
                                         CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(HVar17,
                                                  CONCAT17((char)((uint)iVar5 >> 8),
                                                           CONCAT16((char)iVar5,
                                                                    CONCAT24(((iVar7 - iVar10) / 2 -
                                                                             iVar8) + param_2[3],
                                                                             CONCAT13(0x10,CONCAT12(
                                                  0xa8,param_3))))))))),
                (int16)CONCAT214(in_stack_0000ffd4,
                                 CONCAT410(in_stack_0000ffd0,
                                           CONCAT28(in_stack_0000ffce,
                                                    CONCAT26(in_stack_0000ffcc,in_stack_0000ffc6))))
                ,(LPCSTR)CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6),
                (int16)CONCAT610(in_stack_0000ffe4,
                                 CONCAT28(in_stack_0000ffe2,
                                          CONCAT26(in_stack_0000ffe0,
                                                   CONCAT42(in_stack_0000ffdc,in_stack_0000ffda)))))
        ;
        SELECTOBJECT(__return_storage_ptr__,param_1,unaff_SI,unaff_DI,
                     (int16)CONCAT412(in_stack_0000ffd0,
                                      CONCAT210(in_stack_0000ffce,
                                                CONCAT28(in_stack_0000ffcc,
                                                         CONCAT62(in_stack_0000ffc6,
                                                                  in_stack_0000ffc4)))));
        DELETEOBJECT((HGDIOBJ16)piVar6);
        break;
      }
      SELECTOBJECT(__return_storage_ptr__,param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT412(in_stack_0000ffd0,
                                    CONCAT210(in_stack_0000ffce,
                                              CONCAT28(in_stack_0000ffcc,
                                                       CONCAT62(in_stack_0000ffc6,in_stack_0000ffc4)
                                                      ))));
      DELETEOBJECT((HGDIOBJ16)piVar6);
      if (iVar5 < (int)in_stack_0000ffe2) {
        piVar6 = MULDIV(in_stack_0000ffe2,
                        (int16)CONCAT610(in_stack_0000ffc6,
                                         CONCAT28(in_stack_0000ffc4,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(*
                                                  plf16,iVar5))))),
                        (int16)CONCAT214(in_stack_0000ffda,
                                         CONCAT212(in_stack_0000ffd8,
                                                   CONCAT210(in_stack_0000ffd6,
                                                             CONCAT28(in_stack_0000ffd4,
                                                                      CONCAT44(in_stack_0000ffd0,
                                                                               CONCAT22(
                                                  in_stack_0000ffce,in_stack_0000ffcc)))))),
                        (int16)CONCAT214(in_stack_0000ffea,
                                         CONCAT68(in_stack_0000ffe4,
                                                  CONCAT26(in_stack_0000ffe2,
                                                           CONCAT24(in_stack_0000ffe0,
                                                                    in_stack_0000ffdc)))));
        local_6 = MULDIV((int16 *)((int)&PTR_DAT_10a8_0000_10a8_006e + 1),
                         (int16)CONCAT610(in_stack_0000ffc6,
                                          CONCAT28(in_stack_0000ffc4,
                                                   CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  piVar6,100))))),
                         (int16)CONCAT214(in_stack_0000ffda,
                                          CONCAT212(in_stack_0000ffd8,
                                                    CONCAT210(in_stack_0000ffd6,
                                                              CONCAT28(in_stack_0000ffd4,
                                                                       CONCAT44(in_stack_0000ffd0,
                                                                                CONCAT22(
                                                  in_stack_0000ffce,in_stack_0000ffcc)))))),
                         (int16)CONCAT214(in_stack_0000ffea,
                                          CONCAT68(in_stack_0000ffe4,
                                                   CONCAT26(in_stack_0000ffe2,
                                                            CONCAT24(in_stack_0000ffe0,
                                                                     in_stack_0000ffdc)))));
      }
      else {
        local_6 = (int16 *)0xfc18;
      }
      if (iVar10 < iVar7 + 8) {
        piVar6 = MULDIV((int16 *)(iVar7 + 8),
                        (int16)CONCAT610(in_stack_0000ffc6,
                                         CONCAT28(in_stack_0000ffc4,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(*
                                                  plf16,iVar10))))),
                        (int16)CONCAT214(in_stack_0000ffda,
                                         CONCAT212(in_stack_0000ffd8,
                                                   CONCAT210(in_stack_0000ffd6,
                                                             CONCAT28(in_stack_0000ffd4,
                                                                      CONCAT44(in_stack_0000ffd0,
                                                                               CONCAT22(
                                                  in_stack_0000ffce,in_stack_0000ffcc)))))),
                        (int16)CONCAT214(in_stack_0000ffea,
                                         CONCAT68(in_stack_0000ffe4,
                                                  CONCAT26(in_stack_0000ffe2,
                                                           CONCAT24(in_stack_0000ffe0,
                                                                    in_stack_0000ffdc)))));
        piVar6 = MULDIV((int16 *)((int)&PTR_DAT_10a8_0000_10a8_006e + 1),
                        (int16)CONCAT610(in_stack_0000ffc6,
                                         CONCAT28(in_stack_0000ffc4,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  piVar6,100))))),
                        (int16)CONCAT214(in_stack_0000ffda,
                                         CONCAT212(in_stack_0000ffd8,
                                                   CONCAT210(in_stack_0000ffd6,
                                                             CONCAT28(in_stack_0000ffd4,
                                                                      CONCAT44(in_stack_0000ffd0,
                                                                               CONCAT22(
                                                  in_stack_0000ffce,in_stack_0000ffcc)))))),
                        (int16)CONCAT214(in_stack_0000ffea,
                                         CONCAT68(in_stack_0000ffe4,
                                                  CONCAT26(in_stack_0000ffe2,
                                                           CONCAT24(in_stack_0000ffe0,
                                                                    in_stack_0000ffdc)))));
      }
      else {
        piVar6 = (int16 *)0xfc18;
      }
      if ((int)piVar6 < (int)local_6) {
        piVar6 = local_6;
      }
      iVar7 = (int)piVar6 - *plf16;
      if (iVar7 < 2) {
        iVar7 = 2;
      }
      piVar2 = plf16;
      *piVar2 = *piVar2 + iVar7 + 1;
    }
LAB_1018_593c:
    LOCALFREE((HLOCAL16)plf16);
  }
  return;
}



void __cdecl16far FUN_1018_5948(int *param_1,int param_2,int param_3)

{
  int *piVar1;

  piVar1 = param_1;
  *piVar1 = *piVar1 - param_2;
  piVar1 = param_1 + 2;
  *piVar1 = *piVar1 + param_2;
  piVar1 = param_1 + 1;
  *piVar1 = *piVar1 - param_3;
  piVar1 = param_1 + 3;
  *piVar1 = *piVar1 + param_3;
  return;
}



void __cdecl16far FUN_1018_5962(int *param_1,int param_2,int param_3)

{
  int *piVar1;

  piVar1 = param_1;
  *piVar1 = *piVar1 + param_2;
  piVar1 = param_1 + 2;
  *piVar1 = *piVar1 + param_2;
  piVar1 = param_1 + 1;
  *piVar1 = *piVar1 + param_3;
  piVar1 = param_1 + 3;
  *piVar1 = *piVar1 + param_3;
  return;
}



void __cdecl16far FUN_1018_597c(int *param_1,int *param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  int local_c;
  int local_8;

  iVar1 = *param_2;
  iVar4 = param_2[1];
  iVar2 = iVar1;
  local_8 = iVar4;
  if (1 < param_3) {
    piVar7 = param_2 + 2;
    local_c = param_3 + -1;
    iVar5 = iVar1;
    iVar6 = iVar1;
    iVar8 = iVar4;
    do {
      iVar1 = *piVar7;
      if (iVar5 < iVar1) {
        iVar1 = iVar5;
      }
      iVar2 = *piVar7;
      if (iVar2 < iVar6) {
        iVar2 = iVar6;
      }
      iVar3 = piVar7[1];
      if (local_8 < iVar3) {
        iVar3 = local_8;
      }
      iVar4 = piVar7[1];
      if (iVar4 < iVar8) {
        iVar4 = iVar8;
      }
      piVar7 = piVar7 + 2;
      local_c = local_c + -1;
      iVar5 = iVar1;
      iVar6 = iVar2;
      iVar8 = iVar4;
      local_8 = iVar3;
    } while (local_c != 0);
  }
  param_1[1] = local_8 + -1;
  param_1[3] = iVar4 + 1;
  *param_1 = iVar1 + -1;
  param_1[2] = iVar2 + 1;
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1018_5a04(undefined2 param_1,int *param_2,int param_3,undefined2 param_4,int16 param_5,
             word param_6)

{
  int16 *piVar1;
  int16 *piVar2;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_SS;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined4 in_stack_0000001e;
  word in_stack_00000022;
  undefined2 uVar3;
  undefined2 uVar4;
  int in_stack_0000fff2;
  int in_stack_0000fff4;
  int in_stack_0000fff6;
  int in_stack_0000fff8;
  undefined2 in_stack_0000fffa;
  undefined2 in_stack_0000fffc;

  GETWINDOWRECT((HWND16)&stack0xfff2,(RECT16 *)CONCAT22(param_1,unaff_SS));
  if (param_3 == 0) {
    *param_2 = in_stack_0000fff2;
    param_2[1] = in_stack_0000fff4;
    return;
  }
  uVar4 = 0;
  piVar1 = GETSYSTEMMETRICS((int16 *)0x0,
                            (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                                CONCAT210(in_stack_0000fffa,
                                                                          CONCAT28(in_stack_0000fff8
                                                                                   ,CONCAT26(
                                                  in_stack_0000fff6,
                                                  CONCAT24(in_stack_0000fff4,
                                                           CONCAT22(in_stack_0000fff2,unaff_SI))))))
                                            ));
  uVar3 = 1;
  piVar2 = GETSYSTEMMETRICS((int16 *)&DAT_10a8_0001,
                            (int16)CONCAT214(in_stack_0000fffc,
                                             CONCAT212(piVar1,CONCAT210(in_stack_0000fff8,
                                                                        CONCAT28(in_stack_0000fff6,
                                                                                 CONCAT26(
                                                  in_stack_0000fff4,
                                                  CONCAT24(in_stack_0000fff2,
                                                           CONCAT22(unaff_SI,uVar4))))))));
  if ((*param_2 == -1) && (param_2[1] == -1)) {
    in_stack_0000fff2 = (int)piVar1 + (in_stack_0000fff2 - in_stack_0000fff6) >> 1;
    in_stack_0000fff4 = (int)piVar2 + (in_stack_0000fff4 - in_stack_0000fff8) >> 1;
  }
  else {
    OFFSETRECT((RECT16 *)CONCAT22(*param_2 - in_stack_0000fff2,param_2[1] - in_stack_0000fff4),
               (int16)CONCAT214(in_stack_0000fff6,
                                CONCAT212(in_stack_0000fff4,
                                          CONCAT210(in_stack_0000fff2,
                                                    CONCAT28(unaff_SI,CONCAT26(uVar4,CONCAT24(uVar3,
                                                  CONCAT22(unaff_SS,&stack0xfff2))))))),
               (int16)CONCAT610(CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002)),
                                CONCAT28(in_stack_00000000,
                                         CONCAT26(unaff_BP,CONCAT24(piVar2,CONCAT22(piVar1,
                                                  in_stack_0000fff8))))));
    if ((int)piVar1 < in_stack_0000fff6) {
      in_stack_0000fff2 = (int)piVar1 + (in_stack_0000fff2 - in_stack_0000fff6);
    }
    if ((int)piVar2 < in_stack_0000fff8) {
      in_stack_0000fff4 = (int)piVar2 + (in_stack_0000fff4 - in_stack_0000fff8);
    }
    if (in_stack_0000fff2 < 0) {
      in_stack_0000fff2 = 0;
    }
    if (in_stack_0000fff4 < 0) {
      in_stack_0000fff4 = 0;
    }
  }
  SETWINDOWPOS(0x15,0,(int16)CONCAT214(unaff_SI,CONCAT212(uVar4,CONCAT210(uVar3,CONCAT28(param_1,(
                                                  qword)CONCAT22(in_stack_0000fff2,in_stack_0000fff4
                                                                ) << 0x10)))),
               (int16)CONCAT214(in_stack_00000000,
                                CONCAT212(unaff_BP,CONCAT210(piVar2,CONCAT28(piVar1,CONCAT26(
                                                  in_stack_0000fff8,
                                                  CONCAT24(in_stack_0000fff6,
                                                           CONCAT22(in_stack_0000fff4,
                                                                    in_stack_0000fff2))))))),
               (int16)CONCAT610((undefined6)param_5,
                                CONCAT28(param_4,CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,
                                                  in_stack_00000002))))),
               (int16)CONCAT412(in_stack_0000001e,CONCAT210(param_6,param_5._6_10_)),
               in_stack_00000022);
  return;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far
FUN_1018_5ad6(HBRUSH16 param_1,ulong *param_2,int param_3,long *param_4,HDC16 *param_5,long param_6)

{
  uint uVar1;
  RECT16 *unaff_SS;
  ulong local_16;
  ulong local_12;
  undefined2 local_e;
  long local_c;
  int local_8;
  long local_6;

  local_c = 0;
  local_16 = *param_2;
  local_12 = param_2[1];
  FRAMERECT((int16 *)PTR_DAT_10a8_0000_10a8_001a,(HDC16)&local_16,unaff_SS,param_1);
  FUN_1018_5948((int *)&local_16,-1,-1);
  if (0 < param_6) {
    local_6 = (long)((int)local_12 - (int)local_16);
    local_e = 0;
    if (0 < param_3) {
      local_8 = param_3;
      do {
        local_c = local_c + *param_4;
        uVar1 = (int)((local_6 * local_c) / param_6) + *(int *)param_2 + 1;
        local_12 = local_12 & 0xffff0000 | (ulong)uVar1;
        if ((int)local_16 < (int)uVar1) {
          FILLRECT((int16 *)*param_5,(HDC16)&local_16,unaff_SS,param_1);
        }
        local_16 = local_16 & 0xffff0000 | local_12 & 0xffff;
        param_5 = (HDC16 *)((int16 **)param_5 + 1);
        param_4 = param_4 + 1;
        local_8 = local_8 + -1;
      } while (local_8 != 0);
    }
  }
  uVar1 = *(int *)(param_2 + 1) - 1;
  local_12 = local_12 & 0xffff0000 | (ulong)uVar1;
  if ((int)local_16 < (int)uVar1) {
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_16,unaff_SS,param_1);
  }
  return (undefined2)local_c;
}



void __cdecl16far
FUN_1018_5bba(undefined *param_1,undefined4 *param_2,int param_3,undefined2 param_4,
             undefined2 param_5,undefined2 param_6,undefined2 param_7,undefined2 param_8,
             undefined2 param_9,undefined2 param_10,undefined2 param_11,undefined2 param_12,
             undefined2 param_13,undefined2 param_14,undefined2 param_15)

{
  undefined4 uVar1;
  undefined4 uVar2;
  int16 *__return_storage_ptr__;
  int iVar3;
  int iVar4;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  undefined4 in_stack_00000000;
  undefined2 in_stack_00000022;
  int iVar5;
  int iVar6;
  undefined2 uVar7;
  undefined2 uVar8;
  undefined2 in_stack_0000fff8;

  uVar1 = *param_2;
  iVar5 = (int)uVar1;
  iVar6 = (int)((ulong)uVar1 >> 0x10);
  uVar2 = param_2[1];
  uVar7 = (undefined2)uVar2;
  uVar8 = (undefined2)((ulong)uVar2 >> 0x10);
  iVar3 = *(int *)(param_2 + 1) - *(int *)param_2;
  iVar4 = *(int *)((int)param_2 + 6) - *(int *)((int)param_2 + 2);
  __return_storage_ptr__ =
       SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,unaff_SI,unaff_DI,
                    (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(
                                                  in_stack_0000fff8,
                                                  CONCAT26(uVar8,CONCAT24(uVar7,uVar1)))))));
  if ((param_3 == -1) || (param_3 == -2)) {
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar5,
                                                  CONCAT26(uVar8,CONCAT24(iVar3 + 1,0x100f0)))))),
           (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(__return_storage_ptr__
                                                                              ,CONCAT26(uVar8,
                                                  CONCAT24(uVar7,CONCAT22(iVar6,iVar5))))))),
           (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
           (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,
                                                  CONCAT26(param_10,CONCAT24(param_9,CONCAT22(
                                                  param_8,param_7))))))),_param_15);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(uVar7,
                                                  CONCAT26(iVar6,CONCAT24(1,CONCAT22(iVar4,0xf0)))))
                                                  )),
           (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(__return_storage_ptr__
                                                                              ,CONCAT26(uVar8,
                                                  CONCAT24(uVar7,CONCAT22(iVar6,iVar5))))))),
           (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
           (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,
                                                  CONCAT26(param_10,CONCAT24(param_9,CONCAT22(
                                                  param_8,param_7))))))),_param_15);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(uVar8,CONCAT24(uVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar5,
                                                  CONCAT26(iVar6,CONCAT24(iVar3,0x100f0)))))),
           (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(__return_storage_ptr__
                                                                              ,CONCAT26(uVar8,
                                                  CONCAT24(uVar7,CONCAT22(iVar6,iVar5))))))),
           (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
           (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,
                                                  CONCAT26(param_10,CONCAT24(param_9,CONCAT22(
                                                  param_8,param_7))))))),_param_15);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar5,
                                                  CONCAT26(iVar6,CONCAT24(1,CONCAT22(iVar4,0xf0)))))
                                                  )),
           (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(__return_storage_ptr__
                                                                              ,CONCAT26(uVar8,
                                                  CONCAT24(uVar7,CONCAT22(iVar6,iVar5))))))),
           (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
           (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,
                                                  CONCAT26(param_10,CONCAT24(param_9,CONCAT22(
                                                  param_8,param_7))))))),_param_15);
    FUN_1018_5948((int *)&stack0xfff0,-1,-1);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(uVar8,CONCAT24(uVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
    iVar3 = iVar3 + -2;
    iVar4 = iVar4 + -2;
  }
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar5,CONCAT26
                                                  (iVar6,CONCAT24(iVar3,0x100f0)))))),
         (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(__return_storage_ptr__,
                                                                            CONCAT26(uVar8,CONCAT24(
                                                  uVar7,CONCAT22(iVar6,iVar5))))))),
         (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
         (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,CONCAT26(
                                                  param_10,CONCAT24(param_9,CONCAT22(param_8,param_7
                                                                                    ))))))),
         _param_15);
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar5,CONCAT26
                                                  (iVar6,CONCAT24(1,CONCAT22(iVar4,0xf0))))))),
         (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(__return_storage_ptr__,
                                                                            CONCAT26(uVar8,CONCAT24(
                                                  uVar7,CONCAT22(iVar6,iVar5))))))),
         (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
         (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,CONCAT26(
                                                  param_10,CONCAT24(param_9,CONCAT22(param_8,param_7
                                                                                    ))))))),
         _param_15);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(uVar8,CONCAT24(uVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar5,CONCAT26
                                                  (uVar8,CONCAT24(iVar3 + 1,0x100f0)))))),
         (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(__return_storage_ptr__,
                                                                            CONCAT26(uVar8,CONCAT24(
                                                  uVar7,CONCAT22(iVar6,iVar5))))))),
         (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
         (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,CONCAT26(
                                                  param_10,CONCAT24(param_9,CONCAT22(param_8,param_7
                                                                                    ))))))),
         _param_15);
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(uVar7,CONCAT26
                                                  (iVar6,CONCAT24(1,CONCAT22(iVar4,0xf0))))))),
         (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(__return_storage_ptr__,
                                                                            CONCAT26(uVar8,CONCAT24(
                                                  uVar7,CONCAT22(iVar6,iVar5))))))),
         (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
         (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,CONCAT26(
                                                  param_10,CONCAT24(param_9,CONCAT22(param_8,param_7
                                                                                    ))))))),
         _param_15);
  if ((param_3 != 0) && (param_3 != -2)) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(uVar8,CONCAT24(uVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar5 + 1,
                                                                                        CONCAT26(
                                                  iVar6 + 1,
                                                  CONCAT24(iVar3 + -1,CONCAT22(iVar4 + -1,0xf0))))))
                                ),
           (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(__return_storage_ptr__
                                                                              ,CONCAT26(uVar8,
                                                  CONCAT24(uVar7,CONCAT22(iVar6,iVar5))))))),
           (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,CONCAT26(
                                                  param_2,CONCAT24(param_1,in_stack_00000000)))))),
           (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11,
                                                  CONCAT26(param_10,CONCAT24(param_9,CONCAT22(
                                                  param_8,param_7))))))),_param_15);
  }
  SELECTOBJECT(__return_storage_ptr__,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(unaff_BP,CONCAT212(iVar3,CONCAT210(iVar4,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(uVar8,CONCAT24(uVar7,CONCAT22(iVar6,iVar5
                                                                                        ))))))));
  return;
}



void __cdecl16far
FUN_1018_5d4c(undefined2 *param_1,HWND16 param_2,HDC16 param_3,undefined4 *param_4,
             undefined2 param_5,undefined2 param_6,int param_7,undefined2 param_8)

{
  uint *puVar1;
  undefined2 *puVar2;

  *param_1 = param_2;
  puVar1 = param_1 + 0xb;
  *puVar1 = *puVar1 ^ (byte)((param_3 == 0) << 3 ^ *(byte *)(param_1 + 0xb)) & 8;
  if (param_3 == 0) {
    param_3 = GETDC(param_2);
  }
  param_1[1] = param_3;
  *(undefined4 *)(param_1 + 2) = *param_4;
  *(undefined4 *)(param_1 + 4) = param_4[1];
  param_1[7] = param_5;
  param_1[6] = param_6;
  puVar2 = param_1 + 0xb;
  *(byte *)puVar2 = *(byte *)puVar2 | 1;
  puVar1 = param_1 + 0xb;
  *puVar1 = *puVar1 ^ (byte)(*(byte *)(param_1 + 0xb) ^ (byte)(param_7 << 2)) & 4;
  puVar2 = param_1 + 0xb;
  *(byte *)puVar2 = *(byte *)puVar2 | 2;
  param_1[8] = param_8;
  return;
}



undefined2 __cdecl16far FUN_1018_5dc4(HWND16 *param_1)

{
  HWND16 *pHVar1;
  uint *puVar2;
  uint uVar3;
  HWND16 HVar4;
  int iVar5;
  bool16 bVar6;
  HDC16 unaff_SI;
  undefined2 unaff_DI;
  dword dVar7;
  RECT16 *rect;
  HWND16 HVar8;
  uint in_stack_0000fffa;
  HWND16 in_stack_0000fffc;

  if ((*(byte *)(param_1 + 0xb) & 1) == 0) {
    rect = (RECT16 *)param_1[2];
    HVar8 = param_1[3];
    do {
      iVar5 = FUN_1018_6506((undefined2 *)&stack0xfff6,
                            CONCAT210(in_stack_0000fffc,
                                      CONCAT28(in_stack_0000fffa,
                                               CONCAT26(HVar8,CONCAT24(rect,CONCAT22(unaff_DI,
                                                  unaff_SI))))));
      if (iVar5 == 0) {
        if ((*(byte *)(param_1 + 0xb) & 2) != 0) {
          pHVar1 = param_1 + 0xb;
          *(byte *)pHVar1 = *(byte *)pHVar1 & 0xfd;
          uVar3 = param_1[0xb];
          FUN_1018_5f08(param_1[1],(undefined4 *)(param_1 + 2),param_1[7],
                        ((byte)((byte)(uVar3 >> 1) ^ (byte)uVar3) & 2) >> 1,param_1[8]);
          pHVar1 = param_1 + 0xb;
          *(byte *)pHVar1 = *(byte *)pHVar1 | 2;
        }
        RELEASECAPTURE();
        if ((*(byte *)(param_1 + 0xb) & 8) != 0) {
          RELEASEDC((int16 *)param_1[1],*param_1,unaff_SI);
        }
        return 0;
      }
      bVar6 = PTINRECT(rect,SUB21(HVar8,0));
      if ((*(byte *)(param_1 + 0xb) & 2) >> 1 != bVar6) {
        puVar2 = param_1 + 0xb;
        *puVar2 = *puVar2 ^ (byte)(*(byte *)(param_1 + 0xb) ^ (char)bVar6 * '\x02') & 2;
        uVar3 = param_1[0xb];
        FUN_1018_5f08(param_1[1],(undefined4 *)(param_1 + 2),param_1[7],
                      ((byte)((byte)(uVar3 >> 1) ^ (byte)uVar3) & 2) >> 1,param_1[8]);
      }
      dVar7 = GETCURRENTTIME();
      in_stack_0000fffc = (HWND16)(dVar7 >> 0x10);
      in_stack_0000fffa = (uint)dVar7;
      pHVar1 = param_1 + 10;
      HVar4 = *pHVar1;
    } while ((*pHVar1 != in_stack_0000fffc && (int)in_stack_0000fffc <= (int)HVar4) ||
            ((((int)in_stack_0000fffc <= (int)HVar4 &&
              (puVar2 = param_1 + 9, in_stack_0000fffa <= *puVar2 && *puVar2 != in_stack_0000fffa))
             || ((*(byte *)(param_1 + 0xb) & 2) == 0))));
    *(dword *)(param_1 + 9) = (long)(int)param_1[6] + dVar7;
  }
  else {
    SETCAPTURE(*param_1);
    uVar3 = param_1[0xb];
    FUN_1018_5f08(param_1[1],(undefined4 *)(param_1 + 2),param_1[7],
                  ((byte)((byte)(uVar3 >> 1) ^ (byte)uVar3) & 2) >> 1,param_1[8]);
    dVar7 = GETCURRENTTIME();
    uVar3 = param_1[6] * 3;
    param_1[9] = uVar3 + (uint)dVar7;
    param_1[10] = ((int)uVar3 >> 0xf) + (int)(dVar7 >> 0x10) + (uint)CARRY2(uVar3,(uint)dVar7);
    pHVar1 = param_1 + 0xb;
    *(byte *)pHVar1 = *(byte *)pHVar1 & 0xfe;
  }
  return 1;
}



void __cdecl16far
FUN_1018_5f08(HRGN16 param_1,undefined4 *param_2,uint param_3,int param_4,uint param_5)

{
  int *piVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  uint uVar5;
  int16 *piVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int16 *piVar14;
  HDC16 hdc;
  int iVar15;
  int iVar16;
  int *piVar17;
  HRGN16 unaff_SI;
  int iVar18;
  int iVar19;
  undefined4 *puVar20;
  HRGN16 unaff_DI;
  undefined4 *puVar21;
  int iVar22;
  RECT16 *unaff_SS;
  COLORREF CVar23;
  int in_stack_0000ffc4;
  int in_stack_0000ffc6;
  int in_stack_0000ffc8;
  int in_stack_0000ffca;
  int iVar24;
  int in_stack_0000ffcc;
  int in_stack_0000ffce;
  int in_stack_0000ffd0;
  int in_stack_0000ffd2;
  int in_stack_0000ffd4;
  int in_stack_0000ffd6;
  undefined4 in_stack_0000ffd8;
  int iVar25;
  int iVar26;
  int iVar27;
  int iVar28;
  undefined2 in_stack_0000ffe6;
  undefined2 in_stack_0000ffe8;
  undefined2 in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined2 in_stack_0000fff2;
  undefined2 uVar29;
  undefined2 in_stack_0000fff6;
  int local_8;
  int local_6;

  uVar5 = param_3 & 4;
  uVar3 = *param_2;
  iVar25 = (int)uVar3;
  iVar26 = (int)((ulong)uVar3 >> 0x10);
  uVar3 = param_2[1];
  iVar27 = (int)uVar3;
  iVar28 = (int)((ulong)uVar3 >> 0x10);
  piVar6 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_001c,param_1,unaff_SI,unaff_DI,
                        (int16)CONCAT214(in_stack_0000ffd2,
                                         CONCAT212(in_stack_0000ffd0,
                                                   CONCAT210(in_stack_0000ffce,
                                                             CONCAT28(in_stack_0000ffcc,
                                                                      CONCAT26(in_stack_0000ffca,
                                                                               CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4))))))
                                        ));
  if ((param_3 & 0x40) == 0) {
    FRAMERECT((int16 *)PTR_DAT_10a8_0000_10a8_001c,(HDC16)&stack0xffdc,unaff_SS,param_1);
    FUN_1018_5948((int *)&stack0xffdc,-1,-1);
  }
  iVar7 = (iVar27 - iVar25) + -1;
  iVar18 = iVar28 - iVar26;
  iVar19 = iVar18 + -1;
  uVar8 = *(int *)(param_2 + 1) - *(int *)param_2;
  local_8 = uVar8 - 5;
  local_6 = ((int)uVar8 >> 0xf) - (uint)(uVar8 < 5);
  piVar14 = (int16 *)PTR_DAT_10a8_0000_10a8_0014;
  if (param_4 != 0) {
    piVar14 = (int16 *)PTR_DAT_10a8_0000_10a8_0016;
  }
  SELECTOBJECT(piVar14,param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffd2,
                                CONCAT212(in_stack_0000ffd0,
                                          CONCAT210(in_stack_0000ffce,
                                                    CONCAT28(in_stack_0000ffcc,
                                                             CONCAT26(in_stack_0000ffca,
                                                                      CONCAT24(in_stack_0000ffc8,
                                                                               CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))));
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar25,
                                                  CONCAT26(iVar26,CONCAT24(iVar7,0x100f0)))))),
         (int16)CONCAT214(in_stack_0000ffd2,
                          CONCAT212(in_stack_0000ffd0,
                                    CONCAT210(in_stack_0000ffce,
                                              CONCAT28(in_stack_0000ffcc,
                                                       CONCAT26(in_stack_0000ffca,
                                                                CONCAT24(in_stack_0000ffc8,
                                                                         CONCAT22(in_stack_0000ffc6,
                                                                                  in_stack_0000ffc4)
                                                                        )))))),
         (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
         ,(int16)CONCAT214(in_stack_0000fff2,
                           CONCAT212(in_stack_0000fff0,
                                     CONCAT210(in_stack_0000ffee,
                                               CONCAT28(in_stack_0000ffec,
                                                        CONCAT26(uVar5,CONCAT24(in_stack_0000ffe8,
                                                                                CONCAT22(
                                                  in_stack_0000ffe6,piVar6))))))),
         CONCAT22(in_stack_0000fff6,iVar7));
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar25,
                                                  CONCAT26(iVar26,CONCAT24(1,CONCAT22(iVar19,0xf0)))
                                                  )))),
         (int16)CONCAT214(in_stack_0000ffd2,
                          CONCAT212(in_stack_0000ffd0,
                                    CONCAT210(in_stack_0000ffce,
                                              CONCAT28(in_stack_0000ffcc,
                                                       CONCAT26(in_stack_0000ffca,
                                                                CONCAT24(in_stack_0000ffc8,
                                                                         CONCAT22(in_stack_0000ffc6,
                                                                                  in_stack_0000ffc4)
                                                                        )))))),
         (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
         ,(int16)CONCAT214(in_stack_0000fff2,
                           CONCAT212(in_stack_0000fff0,
                                     CONCAT210(in_stack_0000ffee,
                                               CONCAT28(in_stack_0000ffec,
                                                        CONCAT26(uVar5,CONCAT24(in_stack_0000ffe8,
                                                                                CONCAT22(
                                                  in_stack_0000ffe6,piVar6))))))),
         CONCAT22(in_stack_0000fff6,iVar7));
  piVar14 = (int16 *)PTR_DAT_10a8_0000_10a8_0016;
  if (param_4 != 0) {
    piVar14 = (int16 *)PTR_DAT_10a8_0000_10a8_0010;
  }
  SELECTOBJECT(piVar14,param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffd2,
                                CONCAT212(in_stack_0000ffd0,
                                          CONCAT210(in_stack_0000ffce,
                                                    CONCAT28(in_stack_0000ffcc,
                                                             CONCAT26(in_stack_0000ffca,
                                                                      CONCAT24(in_stack_0000ffc8,
                                                                               CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))));
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar25,
                                                  CONCAT26(iVar28 + -1,CONCAT24(iVar7 + 1,0x100f0)))
                                                  ))),
         (int16)CONCAT214(in_stack_0000ffd2,
                          CONCAT212(in_stack_0000ffd0,
                                    CONCAT210(in_stack_0000ffce,
                                              CONCAT28(in_stack_0000ffcc,
                                                       CONCAT26(in_stack_0000ffca,
                                                                CONCAT24(in_stack_0000ffc8,
                                                                         CONCAT22(in_stack_0000ffc6,
                                                                                  in_stack_0000ffc4)
                                                                        )))))),
         (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
         ,(int16)CONCAT214(in_stack_0000fff2,
                           CONCAT212(in_stack_0000fff0,
                                     CONCAT210(in_stack_0000ffee,
                                               CONCAT28(in_stack_0000ffec,
                                                        CONCAT26(uVar5,CONCAT24(in_stack_0000ffe8,
                                                                                CONCAT22(
                                                  in_stack_0000ffe6,piVar6))))))),
         CONCAT22(in_stack_0000fff6,iVar7));
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar27 + -1,
                                                                                      CONCAT26(
                                                  iVar26,CONCAT24(1,CONCAT22(iVar19,0xf0))))))),
         (int16)CONCAT214(in_stack_0000ffd2,
                          CONCAT212(in_stack_0000ffd0,
                                    CONCAT210(in_stack_0000ffce,
                                              CONCAT28(in_stack_0000ffcc,
                                                       CONCAT26(in_stack_0000ffca,
                                                                CONCAT24(in_stack_0000ffc8,
                                                                         CONCAT22(in_stack_0000ffc6,
                                                                                  in_stack_0000ffc4)
                                                                        )))))),
         (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
         ,(int16)CONCAT214(in_stack_0000fff2,
                           CONCAT212(in_stack_0000fff0,
                                     CONCAT210(in_stack_0000ffee,
                                               CONCAT28(in_stack_0000ffec,
                                                        CONCAT26(uVar5,CONCAT24(in_stack_0000ffe8,
                                                                                CONCAT22(
                                                  in_stack_0000ffe6,piVar6))))))),
         CONCAT22(in_stack_0000fff6,iVar7));
  if (((iVar7 < 0xe) || (iVar19 < 0xe)) || ((param_3 & 0xc0) != 0)) {
    FUN_1018_5948((int *)&stack0xffdc,-1,-1);
  }
  else {
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar25 + 1,
                                                                                        CONCAT26(
                                                  iVar28 + -2,CONCAT24(iVar7 + -1,0x100f0)))))),
           (int16)CONCAT214(in_stack_0000ffd2,
                            CONCAT212(in_stack_0000ffd0,
                                      CONCAT210(in_stack_0000ffce,
                                                CONCAT28(in_stack_0000ffcc,
                                                         CONCAT26(in_stack_0000ffca,
                                                                  CONCAT24(in_stack_0000ffc8,
                                                                           CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
           (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
           ,(int16)CONCAT214(in_stack_0000fff2,
                             CONCAT212(in_stack_0000fff0,
                                       CONCAT210(in_stack_0000ffee,
                                                 CONCAT28(in_stack_0000ffec,
                                                          CONCAT26(uVar5,CONCAT24(in_stack_0000ffe8,
                                                                                  CONCAT22(
                                                  in_stack_0000ffe6,piVar6))))))),
           CONCAT22(in_stack_0000fff6,iVar7));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar27 + -2,
                                                                                        CONCAT26(
                                                  iVar26 + 1,CONCAT24(1,CONCAT22(iVar18 + -3,0xf0)))
                                                  )))),
           (int16)CONCAT214(in_stack_0000ffd2,
                            CONCAT212(in_stack_0000ffd0,
                                      CONCAT210(in_stack_0000ffce,
                                                CONCAT28(in_stack_0000ffcc,
                                                         CONCAT26(in_stack_0000ffca,
                                                                  CONCAT24(in_stack_0000ffc8,
                                                                           CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
           (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
           ,(int16)CONCAT214(in_stack_0000fff2,
                             CONCAT212(in_stack_0000fff0,
                                       CONCAT210(in_stack_0000ffee,
                                                 CONCAT28(in_stack_0000ffec,
                                                          CONCAT26(uVar5,CONCAT24(in_stack_0000ffe8,
                                                                                  CONCAT22(
                                                  in_stack_0000ffe6,piVar6))))))),
           CONCAT22(in_stack_0000fff6,iVar7));
    SETRECT((RECT16 *)CONCAT22(iVar27 + -2,iVar28 + -2),
            (int16)CONCAT214(in_stack_0000ffc6,
                             CONCAT212(in_stack_0000ffc4,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffdc,
                                                           CONCAT22(iVar25 + 1,iVar26 + 1))))))),
            (int16)CONCAT214(in_stack_0000ffd6,
                             CONCAT212(in_stack_0000ffd4,
                                       CONCAT210(in_stack_0000ffd2,
                                                 CONCAT28(in_stack_0000ffd0,
                                                          CONCAT26(in_stack_0000ffce,
                                                                   CONCAT24(in_stack_0000ffcc,
                                                                            CONCAT22(
                                                  in_stack_0000ffca,in_stack_0000ffc8))))))),
            (int16)CONCAT214(in_stack_0000ffe6,
                             CONCAT212(piVar6,CONCAT210(iVar28,CONCAT28(iVar27,CONCAT26(iVar26,
                                                  CONCAT24(iVar25,in_stack_0000ffd8)))))),
            (int16)CONCAT214(in_stack_0000fff6,
                             CONCAT212(iVar7,CONCAT210(in_stack_0000fff2,
                                                       CONCAT28(in_stack_0000fff0,
                                                                CONCAT26(in_stack_0000ffee,
                                                                         CONCAT24(in_stack_0000ffec,
                                                                                  CONCAT22(uVar5,
                                                  in_stack_0000ffe8))))))));
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffd2,
                                CONCAT212(in_stack_0000ffd0,
                                          CONCAT210(in_stack_0000ffce,
                                                    CONCAT28(in_stack_0000ffcc,
                                                             CONCAT26(in_stack_0000ffca,
                                                                      CONCAT24(in_stack_0000ffc8,
                                                                               CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))));
  FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffdc,unaff_SS,param_1);
  if ((param_3 & 8) == 0) {
    uVar9 = param_3 & 0x10;
    uVar10 = param_3 & 0x20;
    uVar8 = param_3 & 3;
    if ((param_3 & 0x20) == 0) {
      iVar18 = 5;
      puVar21 = (undefined4 *)&stack0xffc4;
      puVar20 = (undefined4 *)&PTR_DAT_10a8_0003_10a8_4a5e;
      for (iVar7 = 5; iVar7 != 0; iVar7 = iVar7 + -1) {
        puVar4 = puVar21;
        puVar21 = puVar21 + 1;
        puVar2 = puVar20;
        puVar20 = puVar20 + 1;
        *puVar4 = *puVar2;
      }
      iVar19 = 6;
      iVar7 = 6;
    }
    else {
      iVar18 = 3;
      puVar21 = (undefined4 *)&stack0xffc4;
      puVar20 = (undefined4 *)&PTR_LOOP_10a8_4a72;
      for (iVar7 = 3; iVar7 != 0; iVar7 = iVar7 + -1) {
        puVar4 = puVar21;
        puVar21 = puVar21 + 1;
        puVar2 = puVar20;
        puVar20 = puVar20 + 1;
        *puVar4 = *puVar2;
      }
      iVar19 = 8;
      iVar7 = 4;
    }
    if (uVar9 != 0) {
      iVar11 = iVar18;
      if (iVar18 != 0) {
        piVar17 = (int *)&stack0xffc6;
        do {
          piVar1 = piVar17;
          *piVar1 = *piVar1 + 1;
          piVar17 = piVar17 + 2;
          iVar18 = iVar18 + -1;
        } while (iVar18 != 0);
      }
      iVar7 = iVar7 + 2;
      *(undefined4 *)(&stack0xffc4 + iVar11 * 4) = 0;
      iVar18 = iVar11 + 1;
    }
    iVar11 = iVar18;
    if (0 < iVar18) {
      piVar17 = (int *)&stack0xffc4;
      do {
        if (*piVar17 < 0) {
          iVar16 = in_stack_0000ffc4 * 2 - *(int *)(&stack0xffc4 + *piVar17 * -4);
        }
        else {
          iVar16 = (int)(((long)*piVar17 * CONCAT22(local_6,local_8)) / 0xb);
        }
        *piVar17 = iVar16;
        piVar17[1] = (int)(((long)piVar17[1] * CONCAT22(local_6,local_8)) / 0xb);
        piVar17 = piVar17 + 2;
        iVar18 = iVar18 + -1;
      } while (iVar18 != 0);
    }
    iVar19 = (int)(((long)iVar19 * CONCAT22(local_6,local_8)) / 0xb);
    iVar18 = ((*(int *)(param_2 + 1) - iVar19) - *(int *)param_2 >> 1) + param_4;
    iVar16 = (int)(((long)iVar7 * CONCAT22(local_6,local_8)) / 0xb);
    iVar22 = ((*(int *)((int)param_2 + 6) - iVar16) - *(int *)((int)param_2 + 2) >> 1) + param_4;
    iVar7 = iVar22;
    if ((uVar8 != 2) && (uVar8 != 3)) {
      iVar7 = iVar18;
      iVar18 = iVar22;
    }
    uVar29 = 0;
    iVar22 = iVar16;
    if (0 < iVar11) {
      piVar17 = (int *)&stack0xffc6;
      local_6 = iVar11;
      do {
        if (uVar8 == 1) {
          *piVar17 = iVar16 - *piVar17;
        }
        if ((uVar8 == 2) || (uVar8 == 3)) {
          iVar15 = iVar19 - piVar17[-1];
          piVar17[-1] = *piVar17;
          *piVar17 = iVar15;
          if (uVar8 == 3) {
            piVar17[-1] = iVar16 - piVar17[-1];
          }
        }
        piVar1 = piVar17 + -1;
        *piVar1 = *piVar1 + *(int *)param_2 + iVar7;
        piVar1 = piVar17;
        *piVar1 = *piVar1 + *(int *)((int)param_2 + 2) + iVar18;
        piVar17 = piVar17 + 2;
        local_6 = local_6 + -1;
      } while (local_6 != 0);
    }
    piVar14 = (int16 *)PTR_DAT_10a8_0000_10a8_0012;
    if (uVar5 != 0) {
      piVar14 = (int16 *)PTR_DAT_10a8_0000_10a8_0014;
    }
    while( true ) {
      SELECTOBJECT(piVar14,param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffd2,
                                    CONCAT212(in_stack_0000ffd0,
                                              CONCAT210(in_stack_0000ffce,
                                                        CONCAT28(in_stack_0000ffcc,
                                                                 CONCAT26(in_stack_0000ffca,
                                                                          CONCAT24(in_stack_0000ffc8
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))));
      iVar16 = iVar11;
      if ((uVar8 == 0) || (uVar8 == 1)) {
        iVar22 = (-(uint)(uVar8 == 0) & 0xfffe) + 1;
        iVar15 = (in_stack_0000ffcc - in_stack_0000ffc8) + 1;
        iVar12 = in_stack_0000ffc8;
        iVar13 = in_stack_0000ffca;
        if (uVar9 != 0) {
          iVar16 = in_stack_0000ffc8;
          iVar24 = in_stack_0000ffca;
          PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffc8,
                                                  CONCAT26(*(undefined2 *)
                                                            (&stack0xffc2 + iVar11 * 4),
                                                           CONCAT24(iVar15,0x100f0)))))),
                 (int16)CONCAT214(in_stack_0000ffd2,
                                  CONCAT212(in_stack_0000ffd0,
                                            CONCAT210(in_stack_0000ffce,
                                                      CONCAT28(in_stack_0000ffcc,
                                                               CONCAT26(in_stack_0000ffca,
                                                                        CONCAT24(in_stack_0000ffc8,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
                 (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
                 ,(int16)CONCAT214(uVar29,CONCAT212(iVar7,CONCAT210(iVar18,CONCAT28(iVar11,CONCAT26(
                                                  uVar5,CONCAT24(uVar9,CONCAT22(uVar10,piVar6)))))))
                 ,CONCAT22(iVar22,iVar19));
          in_stack_0000ffc8 = iVar16;
          in_stack_0000ffca = iVar24;
          iVar16 = iVar11;
        }
        for (; 0 < iVar15; iVar15 = iVar15 + -2) {
          PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar12
                                                  ,CONCAT26(iVar13,CONCAT24(iVar15,0x100f0)))))),
                 (int16)CONCAT214(in_stack_0000ffd2,
                                  CONCAT212(in_stack_0000ffd0,
                                            CONCAT210(in_stack_0000ffce,
                                                      CONCAT28(in_stack_0000ffcc,
                                                               CONCAT26(in_stack_0000ffca,
                                                                        CONCAT24(in_stack_0000ffc8,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
                 (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
                 ,(int16)CONCAT214(uVar29,CONCAT212(iVar7,CONCAT210(iVar18,CONCAT28(iVar16,CONCAT26(
                                                  uVar5,CONCAT24(uVar9,CONCAT22(uVar10,piVar6)))))))
                 ,CONCAT22(iVar22,iVar19));
          iVar12 = iVar12 + 1;
          iVar13 = iVar13 + iVar22;
        }
      }
      else {
        if (uVar8 == 2) {
          iVar19 = -1;
        }
        else {
          iVar19 = 1;
        }
        iVar15 = (in_stack_0000ffca - in_stack_0000ffce) + 1;
        iVar12 = in_stack_0000ffc8;
        iVar13 = in_stack_0000ffce;
        if (uVar9 != 0) {
          iVar16 = in_stack_0000ffc8;
          iVar24 = in_stack_0000ffce;
          PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(*(
                                                  undefined2 *)(&stack0xffc0 + iVar11 * 4),
                                                  CONCAT26(in_stack_0000ffce,
                                                           CONCAT24(1,CONCAT22(iVar15,0xf0))))))),
                 (int16)CONCAT214(in_stack_0000ffd2,
                                  CONCAT212(in_stack_0000ffd0,
                                            CONCAT210(in_stack_0000ffce,
                                                      CONCAT28(in_stack_0000ffcc,
                                                               CONCAT26(in_stack_0000ffca,
                                                                        CONCAT24(in_stack_0000ffc8,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
                 (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
                 ,(int16)CONCAT214(uVar29,CONCAT212(iVar7,CONCAT210(iVar18,CONCAT28(iVar11,CONCAT26(
                                                  uVar5,CONCAT24(uVar9,CONCAT22(uVar10,piVar6)))))))
                 ,CONCAT22(iVar22,iVar19));
          in_stack_0000ffc8 = iVar16;
          in_stack_0000ffce = iVar24;
          iVar16 = iVar11;
        }
        for (; 0 < iVar15; iVar15 = iVar15 + -2) {
          PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar12
                                                  ,CONCAT26(iVar13,CONCAT24(1,CONCAT22(iVar15,0xf0))
                                                           ))))),
                 (int16)CONCAT214(in_stack_0000ffd2,
                                  CONCAT212(in_stack_0000ffd0,
                                            CONCAT210(in_stack_0000ffce,
                                                      CONCAT28(in_stack_0000ffcc,
                                                               CONCAT26(in_stack_0000ffca,
                                                                        CONCAT24(in_stack_0000ffc8,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
                 (int16)CONCAT214(iVar28,CONCAT212(iVar27,CONCAT210(iVar26,CONCAT28(iVar25,CONCAT44(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
                 ,(int16)CONCAT214(uVar29,CONCAT212(iVar7,CONCAT210(iVar18,CONCAT28(iVar16,CONCAT26(
                                                  uVar5,CONCAT24(uVar9,CONCAT22(uVar10,piVar6)))))))
                 ,CONCAT22(iVar22,iVar19));
          iVar12 = iVar12 + iVar19;
          iVar13 = iVar13 + 1;
        }
      }
      if (uVar10 == 0) {
        iVar11 = in_stack_0000ffd0;
        if (in_stack_0000ffd4 < in_stack_0000ffd0) {
          iVar11 = in_stack_0000ffd4;
        }
        iVar15 = in_stack_0000ffd2;
        if (in_stack_0000ffd6 < in_stack_0000ffd2) {
          iVar15 = in_stack_0000ffd6;
        }
        iVar12 = in_stack_0000ffd0;
        if (in_stack_0000ffd0 < in_stack_0000ffd4) {
          iVar12 = in_stack_0000ffd4;
        }
        iVar13 = in_stack_0000ffd2;
        if (in_stack_0000ffd2 < in_stack_0000ffd6) {
          iVar13 = in_stack_0000ffd6;
        }
        SETRECT((RECT16 *)CONCAT22(iVar12 + 1,iVar13 + 1),
                (int16)CONCAT214(in_stack_0000ffc6,
                                 CONCAT212(in_stack_0000ffc4,
                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffdc,CONCAT22(iVar11,iVar15))))))
                                ),
                (int16)CONCAT214(in_stack_0000ffd6,
                                 CONCAT212(in_stack_0000ffd4,
                                           CONCAT210(in_stack_0000ffd2,
                                                     CONCAT28(in_stack_0000ffd0,
                                                              CONCAT26(in_stack_0000ffce,
                                                                       CONCAT24(in_stack_0000ffcc,
                                                                                CONCAT22(
                                                  in_stack_0000ffca,in_stack_0000ffc8))))))),
                (int16)ZEXT1416(CONCAT212(piVar6,CONCAT210(iVar28,CONCAT28(iVar27,CONCAT26(iVar26,
                                                  CONCAT24(iVar25,in_stack_0000ffd8)))))),
                (int16)CONCAT214(iVar22,CONCAT212(iVar19,CONCAT210(uVar29,CONCAT28(iVar7,CONCAT26(
                                                  iVar18,CONCAT24(iVar16,CONCAT22(uVar5,uVar9)))))))
               );
        FILLRECT(piVar14,(HDC16)&stack0xffdc,unaff_SS,param_1);
      }
      if (uVar5 == 0) break;
      uVar29 = 0;
      iVar11 = iVar16;
      if (0 < iVar16) {
        piVar17 = (int *)&stack0xffc4;
        do {
          piVar1 = piVar17;
          *piVar1 = *piVar1 + -1;
          piVar1 = piVar17 + 1;
          *piVar1 = *piVar1 + -1;
          piVar17 = piVar17 + 2;
          iVar16 = iVar16 + -1;
        } while (iVar16 != 0);
      }
      uVar5 = 0;
      piVar14 = (int16 *)PTR_DAT_10a8_0000_10a8_0016;
    }
  }
  SELECTOBJECT(piVar6,param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffd2,
                                CONCAT212(in_stack_0000ffd0,
                                          CONCAT210(in_stack_0000ffce,
                                                    CONCAT28(in_stack_0000ffcc,
                                                             CONCAT26(in_stack_0000ffca,
                                                                      CONCAT24(in_stack_0000ffc8,
                                                                               CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))));
  if (param_5 != 0) {
    piVar6 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,unaff_SI,unaff_DI,
                          (int16)CONCAT214(in_stack_0000ffd2,
                                           CONCAT212(in_stack_0000ffd0,
                                                     CONCAT210(in_stack_0000ffce,
                                                               CONCAT28(in_stack_0000ffcc,
                                                                        CONCAT26(in_stack_0000ffca,
                                                                                 CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4))))))
                                          ));
    piVar14 = SETBKMODE((int16 *)&DAT_10a8_0001,param_1,
                        (int16)CONCAT214(in_stack_0000ffce,
                                         CONCAT212(in_stack_0000ffcc,
                                                   CONCAT210(in_stack_0000ffca,
                                                             CONCAT28(in_stack_0000ffc8,
                                                                      CONCAT26(in_stack_0000ffc6,
                                                                               CONCAT24(
                                                  in_stack_0000ffc4,CONCAT22(unaff_DI,unaff_SI))))))
                                        ));
    if (uVar5 == 0) {
      hdc = 0;
      uVar29 = 0;
    }
    else {
      hdc = 0xffff;
      uVar29 = 0xff;
    }
    CVar23 = SETTEXTCOLOR(hdc,CONCAT22(param_1,uVar29));
    if (param_4 != 0) {
      FUN_1018_5962((int *)&stack0xffdc,1,1);
    }
    FUN_1018_5580(param_1,(int *)&stack0xffdc,(LPCSTR)(ulong)param_5,
                  (int16)CONCAT214(in_stack_0000ffce,
                                   CONCAT212(in_stack_0000ffcc,
                                             CONCAT210(in_stack_0000ffca,
                                                       CONCAT28(in_stack_0000ffc8,
                                                                CONCAT26(in_stack_0000ffc6,
                                                                         CONCAT24(in_stack_0000ffc4,
                                                                                  CONCAT22(unaff_DI,
                                                  unaff_SI))))))));
    if (uVar5 != 0) {
      FUN_1018_5962((int *)&stack0xffdc,-1,-1);
      SETTEXTCOLOR(0x7f7f,(COLORREF)CONCAT22(param_1,0x7f));
      FUN_1018_5580(param_1,(int *)&stack0xffdc,(LPCSTR)(ulong)param_5,
                    (int16)CONCAT214(in_stack_0000ffce,
                                     CONCAT212(in_stack_0000ffcc,
                                               CONCAT210(in_stack_0000ffca,
                                                         CONCAT28(in_stack_0000ffc8,
                                                                  CONCAT26(in_stack_0000ffc6,
                                                                           CONCAT24(
                                                  in_stack_0000ffc4,CONCAT22(unaff_DI,unaff_SI))))))
                                    ));
    }
    SETTEXTCOLOR((HDC16)CVar23.value,(COLORREF)CONCAT22(param_1,(int)(CVar23.value >> 0x10)));
    SETBKMODE(piVar14,param_1,
              (int16)CONCAT214(in_stack_0000ffce,
                               CONCAT212(in_stack_0000ffcc,
                                         CONCAT210(in_stack_0000ffca,
                                                   CONCAT28(in_stack_0000ffc8,
                                                            CONCAT26(in_stack_0000ffc6,
                                                                     CONCAT24(in_stack_0000ffc4,
                                                                              CONCAT22(unaff_DI,
                                                  unaff_SI))))))));
    SELECTOBJECT(piVar6,param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffd2,
                                  CONCAT212(in_stack_0000ffd0,
                                            CONCAT210(in_stack_0000ffce,
                                                      CONCAT28(in_stack_0000ffcc,
                                                               CONCAT26(in_stack_0000ffca,
                                                                        CONCAT24(in_stack_0000ffc8,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))));
  }
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined2 __cdecl16far FUN_1018_6506(undefined2 *param_1,undefined param_2 [12])

{
  bool16 bVar1;
  undefined2 unaff_BP;
  undefined2 unaff_SS;
  undefined4 in_stack_00000000;
  undefined2 in_stack_00000012;
  undefined2 in_stack_0000ffec;
  int in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined2 in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  undefined8 in_stack_0000fff6;

  do {
    bVar1 = PEEKMESSAGE((MSG16 *)&DAT_10a8_0001,0,
                        (uint16)(ZEXT1216(CONCAT210(in_stack_0000fff2,
                                                    CONCAT28(in_stack_0000fff0,
                                                             CONCAT26(in_stack_0000ffee,
                                                                      CONCAT24(in_stack_0000ffec,
                                                                               CONCAT22(unaff_SS,&
                                                  stack0xffec)))))) << 0x20),
                        (uint16)CONCAT412(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT82(in_stack_0000fff6,
                                                                      in_stack_0000fff4))),
                        (uint16)CONCAT214(in_stack_00000012,CONCAT122(param_2,param_1)));
    if (bVar1 == 0) {
      return 1;
    }
  } while ((in_stack_0000ffee != 0x200) && (in_stack_0000ffee != 0x202));
  *param_1 = in_stack_0000fff2;
  param_1[1] = in_stack_0000fff4;
  if (in_stack_0000ffee != 0x202) {
    return 1;
  }
  return 0;
}


/*
Unable to decompile 'FUN_1018_654c'
Cause:
Low-level Error: Overlapping input varnodes
*/


// WARNING: Restarted to delay deadcode elimination for space: stack

undefined2 __cdecl16far FUN_1018_6628(char *param_1,uint param_2)

{
  char *pcVar1;
  int16 *__return_storage_ptr__;
  int16 *__return_storage_ptr___00;
  uint uVar2;
  HDC16 hdc;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  char *pcVar3;
  dword dVar4;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined2 in_stack_0000fff8;
  undefined2 uVar5;

  uVar5 = 1;
  __return_storage_ptr__ = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_58b4);
  uVar2 = 0xffff;
  pcVar3 = param_1;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    pcVar1 = pcVar3;
    pcVar3 = pcVar3 + 1;
  } while (*pcVar1 != '\0');
  hdc = ~uVar2 - 1;
  __return_storage_ptr___00 =
       SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)__return_storage_ptr__,unaff_SI,
                    unaff_DI,(int16)CONCAT610(CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002)),
                                              CONCAT28(in_stack_00000000,
                                                       CONCAT26(unaff_BP,CONCAT24(
                                                  __return_storage_ptr__,
                                                  CONCAT22(uVar5,in_stack_0000fff8))))));
  if (0 < (int)hdc) {
    pcVar3 = param_1 + hdc;
    do {
      dVar4 = GETTEXTEXTENT(hdc,(LPCSTR)CONCAT22(0x10a8,param_1),
                            (int16)CONCAT214(in_stack_00000000,
                                             CONCAT212(unaff_BP,CONCAT210(__return_storage_ptr__,
                                                                          CONCAT28(uVar5,CONCAT26(
                                                  __return_storage_ptr___00,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  __return_storage_ptr__))))))));
      if ((uint)dVar4 <= param_2) break;
      uVar5 = 0;
      hdc = hdc - 1;
      pcVar3 = pcVar3 + -1;
      *pcVar3 = '\0';
    } while (0 < (int)hdc);
  }
  SELECTOBJECT(__return_storage_ptr___00,(HRGN16)__return_storage_ptr__,unaff_SI,unaff_DI,
               (int16)CONCAT610(CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002)),
                                CONCAT28(in_stack_00000000,
                                         CONCAT26(unaff_BP,CONCAT24(__return_storage_ptr__,
                                                                    CONCAT22(uVar5,
                                                  __return_storage_ptr___00))))));
  RELEASEDC(__return_storage_ptr__,(HWND16)PTR_DAT_10a8_0000_10a8_58b4,unaff_SI);
  return uVar5;
}



HBRUSH16 __cdecl16far FUN_1018_66a6(long param_1)

{
  char *pcVar1;
  HBRUSH16 HVar2;
  undefined *puVar3;
  undefined *puVar4;
  long *plVar5;
  undefined *local_4;

  puVar4 = (undefined *)0x0;
  local_4 = (undefined *)0xffff;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_4a7e) {
    plVar5 = (long *)&PTR_DAT_10a8_0000_10a8_5926;
    puVar3 = (undefined *)0xffff;
    do {
      local_4 = puVar4;
      if ((puVar4[0x586e] != '\0') && (local_4 = puVar3, param_1 == *plVar5)) {
        pcVar1 = puVar4 + 0x586e;
        *pcVar1 = *pcVar1 + '\x01';
        return *(HBRUSH16 *)((int)&PTR_DAT_10a8_0000_10a8_8350 + (int)puVar4 * 2);
      }
      plVar5 = plVar5 + 1;
      puVar4 = puVar4 + 1;
      puVar3 = local_4;
    } while ((int)puVar4 < (int)PTR_DAT_10a8_0000_10a8_4a7e);
  }
  HVar2 = CREATESOLIDBRUSH((COLORREF)param_1);
  if (HVar2 == 0) {
    return 0;
  }
  if (local_4 == (undefined *)0xffff) {
    if (0x1f < (int)PTR_DAT_10a8_0000_10a8_4a7e) {
      return HVar2;
    }
    local_4 = PTR_DAT_10a8_0000_10a8_4a7e;
    PTR_DAT_10a8_0000_10a8_4a7e = PTR_DAT_10a8_0000_10a8_4a7e + 1;
  }
  local_4[0x586e] = 1;
  *(HBRUSH16 *)((int)&PTR_DAT_10a8_0000_10a8_8350 + (int)local_4 * 2) = HVar2;
  *(long *)((int)&PTR_DAT_10a8_0000_10a8_5926 + (int)local_4 * 4) = param_1;
  return HVar2;
}



void __cdecl16far FUN_1018_673a(HGDIOBJ16 param_1)

{
  char *pcVar1;
  int iVar2;

  iVar2 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_4a7e) {
    do {
      if ((*(char *)((int)&DAT_10a8_586e + iVar2) != '\0') &&
         (*(HGDIOBJ16 *)((int)&PTR_DAT_10a8_0000_10a8_8350 + iVar2 * 2) == param_1)) {
        pcVar1 = (char *)((int)&DAT_10a8_586e + iVar2);
        *pcVar1 = *pcVar1 + -1;
        if (*pcVar1 != '\0') {
          return;
        }
        break;
      }
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)PTR_DAT_10a8_0000_10a8_4a7e);
  }
  DELETEOBJECT(param_1);
  return;
}



undefined2 __cdecl16far
FUN_1018_6776(char *param_1,undefined2 param_2,undefined4 param_3,uint *param_4)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  char cVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  undefined2 *puVar7;
  undefined2 *puVar8;
  undefined2 uVar9;
  undefined2 local_408 [512];
  undefined2 *local_8;
  int local_6;
  int local_4;

  local_6 = 0;
  local_8 = local_408;
  cVar3 = *param_1;
  while (cVar3 != '\0') {
    uVar5 = FUN_1018_6976(*param_1);
    if ((int)uVar5 < 0xb) {
      local_4 = 1;
    }
    else if (((byte)uVar5 & 0xf) == 0xf) {
      local_4 = 3;
    }
    else {
      local_4 = 2;
    }
    while (iVar4 = local_4, local_4 = local_4 + -1, iVar4 != 0) {
      if (local_6 == 0) {
        *(byte *)local_8 = (byte)uVar5 << 4;
        local_6 = 1;
      }
      else {
        puVar1 = local_8;
        *(byte *)puVar1 = *(byte *)puVar1 | (byte)uVar5 & 0xf;
        local_6 = 0;
        local_8 = (undefined2 *)((int)local_8 + 1);
        if (0x3ff < (int)local_8 - (int)local_408) {
          return 0;
        }
      }
      uVar5 = (int)uVar5 >> 4;
    }
    param_1 = param_1 + 1;
    cVar3 = *param_1;
  }
  if (local_6 != 0) {
    puVar1 = local_8;
    *(byte *)puVar1 = *(byte *)puVar1 | 0xf;
    local_8 = (undefined2 *)((int)local_8 + 1);
  }
  uVar5 = (int)local_8 - (int)local_408;
  if ((int)*param_4 < (int)uVar5) {
    return 0;
  }
  *param_4 = uVar5;
  puVar7 = local_408;
  uVar9 = (undefined2)((ulong)param_3 >> 0x10);
  puVar8 = (undefined2 *)param_3;
  for (uVar6 = uVar5 >> 1; uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar2 = puVar8;
    puVar8 = puVar8 + 1;
    puVar1 = puVar7;
    puVar7 = puVar7 + 1;
    *puVar2 = *puVar1;
  }
  for (uVar5 = (uint)((uVar5 & 1) != 0); uVar5 != 0; uVar5 = uVar5 - 1) {
    puVar2 = puVar8;
    puVar8 = (undefined2 *)((int)puVar8 + 1);
    puVar1 = puVar7;
    puVar7 = (undefined2 *)((int)puVar7 + 1);
    *(undefined *)puVar2 = *(undefined *)puVar1;
  }
  return 1;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far
FUN_1018_685e(byte *param_1,undefined2 param_2,int param_3,undefined4 param_4,int *param_5)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  bool bVar4;
  uint uVar5;
  uint uVar6;
  undefined2 *puVar7;
  byte *pbVar8;
  char *pcVar9;
  undefined2 *puVar10;
  undefined2 unaff_SS;
  undefined2 uVar11;
  char local_406 [1024];
  char *local_6;
  uint local_4;

  bVar4 = false;
  local_6 = local_406;
  while (0 < param_3) {
    if (bVar4) {
      param_3 = param_3 + -1;
      pbVar8 = param_1 + 1;
      local_4 = *param_1 & 0xf;
      param_1 = pbVar8;
      if ((local_4 == 0xf) && (param_3 == 0)) break;
    }
    else {
      local_4 = (byte)((char)*param_1 >> 4) & 0xf;
    }
    bVar4 = !bVar4;
    if (10 < local_4) {
      if (bVar4) {
        uVar5 = (*param_1 & 0xf) << 4;
        param_3 = param_3 + -1;
        param_1 = param_1 + 1;
      }
      else {
        uVar5 = *param_1 & 0xf0;
      }
      local_4 = local_4 | uVar5;
      bVar4 = !bVar4;
      if (((byte)local_4 & 0xf) == 0xf) {
        if (bVar4) {
          uVar5 = (*param_1 & 0xf) << 8;
          param_3 = param_3 + -1;
          param_1 = param_1 + 1;
        }
        else {
          uVar5 = (*param_1 & 0xf0) << 4;
        }
        local_4 = local_4 | uVar5;
        bVar4 = !bVar4;
      }
    }
    uVar5 = FUN_1018_6a3a(local_4);
    pcVar9 = local_6;
    local_6 = local_6 + 1;
    *pcVar9 = (char)uVar5;
    if (*param_5 < (int)local_6 - (int)local_406) {
      return 0;
    }
  }
  *local_6 = '\0';
  pcVar9 = local_406;
  uVar11 = (undefined2)((ulong)param_4 >> 0x10);
  puVar7 = (undefined2 *)param_4;
  uVar5 = 0xffff;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar2 = pcVar9;
    pcVar9 = pcVar9 + 1;
  } while (*pcVar2 != '\0');
  uVar5 = ~uVar5;
  puVar10 = (undefined2 *)(pcVar9 + -uVar5);
  for (uVar6 = uVar5 >> 1; uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar3 = puVar7;
    puVar7 = puVar7 + 1;
    puVar1 = puVar10;
    puVar10 = puVar10 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar5 = (uint)((uVar5 & 1) != 0); uVar5 != 0; uVar5 = uVar5 - 1) {
    puVar3 = puVar7;
    puVar7 = (undefined2 *)((int)puVar7 + 1);
    puVar1 = puVar10;
    puVar10 = (undefined2 *)((int)puVar10 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  return 1;
}



uint __cdecl16far FUN_1018_6976(char param_1)

{
  int iVar1;
  char *pcVar2;

  if (('`' < param_1) && (param_1 < '{')) {
    return *(uint *)(param_1 * 2 + 0x49be);
  }
  if (param_1 == ' ') {
    return 0;
  }
  if (('@' < param_1) && (param_1 < 'Q')) {
    return (param_1 + -0x41) * 0x10 | 0xb;
  }
  if ((param_1 < 'Q') || ('Z' < param_1)) {
    if ((param_1 < '0') || ('5' < param_1)) {
      if (('5' < param_1) && (param_1 < ':')) {
        return (param_1 + -0x36) * 0x10 | 0xd;
      }
      pcVar2 = FUN_10a0_0450((char *)0x4ad2,param_1);
      if (pcVar2 == (char *)0x0) {
        return (int)param_1 << 4 | 0xf;
      }
      return (int)(pcVar2 + -0x4ace) * 0x10 | 0xe;
    }
    iVar1 = param_1 + -0x26;
  }
  else {
    iVar1 = param_1 + -0x51;
  }
  return iVar1 << 4 | 0xc;
}



uint __cdecl16far FUN_1018_6a3a(uint param_1)

{
  uint in_AX;
  uint uVar1;
  int iVar2;

  if ((int)param_1 < 0xb) {
    return in_AX & 0xff00 |
           (uint)(byte)PTR_s__aehilnorstbcdfgjkmpquvwxyz_10a8_4ab4_10a8_4ad0[param_1];
  }
  uVar1 = (int)param_1 >> 4;
  if ((param_1 & 0xf) == 0xf) {
    return uVar1;
  }
  iVar2 = ((param_1 & 0xf) - 0xb) * 0x10 + uVar1;
  if (iVar2 < 0x1a) {
    return iVar2 + 0x41;
  }
  if (iVar2 < 0x24) {
    return iVar2 + 0x16;
  }
  if (0x33 < iVar2) {
    return uVar1 & 0xff00 | (uint)*(byte *)(iVar2 + 0x4a9e);
  }
  return uVar1 & 0xff00 |
         (uint)(byte)PTR_s__aehilnorstbcdfgjkmpquvwxyz_10a8_4ab4_10a8_4ad0[iVar2 + -0x19];
}



undefined2 __cdecl16far FUN_1018_6aa8(long *param_1)

{
  uint uVar1;
  int iVar2;
  undefined2 uVar3;

  uVar3 = (undefined2)((ulong)param_1 >> 0x10);
  iVar2 = (int)param_1;
  if (*param_1 == 0xc) {
    uVar1 = *(uint *)(iVar2 + 10);
  }
  else {
    if (*(long *)(iVar2 + 0x20) != 0) {
      return *(undefined2 *)(iVar2 + 0x20);
    }
    uVar1 = *(uint *)(iVar2 + 0xe);
  }
  if (uVar1 == 8) {
    return 0x100;
  }
  if (uVar1 < 9) {
    if ((char)uVar1 == '\x01') {
      return 2;
    }
    if ((char)uVar1 == '\x04') {
      return 0x10;
    }
  }
  return 0;
}



HPALETTE16 __cdecl16far FUN_1018_6b08(HGLOBAL16 param_1)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  undefined uVar3;
  int iVar4;
  undefined2 *palette;
  HPALETTE16 HVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  undefined2 *puVar9;
  undefined2 *puVar10;
  LPVOID pvVar11;

  pvVar11 = LOCKRESOURCE(param_1);
  uVar8 = (uint)((ulong)pvVar11 >> 0x10);
  if (pvVar11 != (LPVOID)0x0) {
    iVar4 = FUN_1018_6aa8((long *)((ulong)pvVar11 & 0xffff | (ulong)uVar8 << 0x10));
    if (iVar4 < 0x101) {
      palette = (undefined2 *)LOCALALLOC((iVar4 + 2) * 4,0x40);
      palette[1] = iVar4;
      *palette = 0x300;
      puVar9 = (undefined2 *)((int)pvVar11 + 0x28);
      puVar10 = palette + 2;
      for (uVar6 = (uint)(iVar4 << 2) >> 1; uVar6 != 0; uVar6 = uVar6 - 1) {
        puVar2 = puVar10;
        puVar10 = puVar10 + 1;
        puVar1 = puVar9;
        puVar9 = puVar9 + 1;
        *puVar2 = *puVar1;
      }
      for (iVar7 = 0; iVar7 != 0; iVar7 = iVar7 + -1) {
        puVar2 = puVar10;
        puVar10 = (undefined2 *)((int)puVar10 + 1);
        puVar1 = puVar9;
        puVar9 = (undefined2 *)((int)puVar9 + 1);
        *(undefined *)puVar2 = *(undefined *)puVar1;
      }
      puVar10 = palette;
      if (0 < iVar4) {
        do {
          puVar9 = puVar10 + 2;
          uVar3 = *(undefined *)puVar9;
          *(undefined *)puVar9 = *(undefined *)(puVar10 + 3);
          *(undefined *)(puVar10 + 3) = uVar3;
          iVar4 = iVar4 + -1;
          puVar10 = puVar9;
        } while (iVar4 != 0);
      }
      HVar5 = CREATEPALETTE((LOGPALETTE *)palette);
      LOCALFREE((HLOCAL16)palette);
      GLOBALUNLOCK(param_1);
      return HVar5;
    }
    GLOBALUNLOCK(param_1);
  }
  return 0;
}



HPALETTE16 __cdecl16far FUN_1018_6bca(void)

{
  undefined2 *palette;
  HPALETTE16 HVar1;
  int iVar2;
  undefined2 *puVar3;

  palette = (undefined2 *)LOCALALLOC(0x408,0x40);
  palette[1] = 0x100;
  *palette = 0x300;
  puVar3 = palette + 3;
  iVar2 = 0x100;
  do {
    *(undefined *)puVar3 = 0;
    *(undefined *)((int)puVar3 + -1) = 0;
    *(undefined *)(puVar3 + -1) = 0;
    *(undefined *)((int)puVar3 + 1) = 1;
    puVar3 = puVar3 + 2;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  HVar1 = CREATEPALETTE((LOGPALETTE *)palette);
  LOCALFREE((HLOCAL16)palette);
  return HVar1;
}



int __cdecl16far FUN_1018_6c1a(long *param_1,undefined2 param_2)

{
  int iVar1;

  iVar1 = FUN_1018_6aa8((long *)CONCAT22(param_2,param_1));
  if (*param_1 == 0xc) {
    return iVar1 * 3;
  }
  return iVar1 << 2;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

bool16 __cdecl16far
FUN_1018_6c46(undefined2 param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4,
             undefined2 param_5,HGLOBAL16 param_6,undefined2 param_7,undefined2 param_8,
             undefined2 param_9,undefined2 param_10,ulong param_11,undefined param_12 [12],
             dword param_13,undefined param_14 [12],int16 param_15,int16 param_16,void *param_17,
             bitmapinfo *param_18,uint16 param_19,dword param_20)

{
  bool16 bVar1;
  long *plVar2;
  int iVar3;
  uint uVar4;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  void *pvVar5;
  undefined4 in_stack_00000000;
  undefined2 in_stack_00000070;
  undefined2 uVar6;
  undefined2 uVar7;
  undefined2 uVar8;
  undefined2 uVar9;
  undefined2 uVar10;
  undefined2 uVar11;
  undefined2 uVar12;
  undefined2 uVar13;
  undefined2 uVar14;
  undefined2 in_stack_0000fffa;
  undefined2 in_stack_0000fffc;

  if (param_6 == 0) {
    bVar1 = PATBLT((HDC16)(int16 *)param_11,
                   (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(param_2,
                                                  CONCAT26(param_3,CONCAT24(param_4,CONCAT22(param_5
                                                  ,param_11._2_2_))))))),
                   (int16)CONCAT106(CONCAT28(param_3,CONCAT26(param_2,CONCAT24(param_1,
                                                  in_stack_00000000))),
                                    CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,in_stack_0000fffa))
                                   ),
                   (int16)CONCAT214((int16 *)param_11,
                                    CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,CONCAT26(
                                                  param_7,(uint6)CONCAT22(param_5,param_4)))))),
                   (int16)CONCAT214((undefined2)param_13,CONCAT122(param_12,param_11._2_2_)),
                   CONCAT22(param_14._0_2_,param_13._2_2_));
    return bVar1;
  }
  pvVar5 = GLOBALLOCK(param_6);
  uVar4 = (uint)((ulong)pvVar5 >> 0x10);
  plVar2 = (long *)pvVar5;
  if (pvVar5 == (void *)0x0) {
    return 0;
  }
  uVar6 = param_10;
  uVar7 = param_9;
  uVar8 = param_8;
  uVar9 = param_7;
  uVar10 = param_5;
  uVar11 = param_4;
  uVar12 = param_3;
  uVar13 = param_2;
  uVar14 = param_1;
  iVar3 = FUN_1018_6c1a(plVar2,uVar4);
  STRETCHDIBITS((int16 *)param_11,param_11._2_2_,
                (int16)(ZEXT1416(CONCAT212(uVar8,CONCAT210(uVar7,CONCAT28(uVar6,CONCAT26(uVar4,
                                                  CONCAT24(iVar3 + *(int *)plVar2 + (int)plVar2,
                                                           (ulong)pvVar5 & 0xffff |
                                                           (ulong)uVar4 << 0x10)))))) << 0x10),
                (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(uVar14,CONCAT28(uVar13,
                                                  CONCAT26(uVar12,CONCAT24(uVar11,CONCAT22(uVar10,
                                                  uVar9))))))),
                (int16)CONCAT106(CONCAT28(param_3,CONCAT26(param_2,CONCAT24(param_1,
                                                  in_stack_00000000))),
                                 CONCAT24(unaff_BP,CONCAT22(uVar4,in_stack_0000fffa))),
                (int16)CONCAT214((int16 *)param_11,
                                 CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,CONCAT26(
                                                  param_7,CONCAT24(param_6,CONCAT22(param_5,param_4)
                                                                  )))))),
                (int16)CONCAT214((undefined2)param_13,CONCAT122(param_12,param_11._2_2_)),
                (int16)CONCAT214((undefined2)param_15,
                                 CONCAT104(param_14._2_10_,CONCAT22(param_14._0_2_,param_13._2_2_)))
                ,(int16)CONCAT214((undefined2)param_16,param_15._2_14_),
                (int16)CONCAT214(param_17,param_16._2_14_),param_18,(bitmapinfo *)param_19,
                (uint16)CONCAT214((undefined2)param_20,param_19._2_14_),
                CONCAT22(in_stack_00000070,param_20._2_2_));
  GLOBALUNLOCK(param_6);
  return 1;
}



// WARNING: Could not reconcile some variable overlaps

HGLOBAL16 __cdecl16far FUN_1018_6cd0(int param_1,LPVOID param_2,uint param_3,HGDIOBJ16 param_4)

{
  undefined4 *puVar1;
  long *plVar2;
  undefined4 *puVar3;
  long *plVar4;
  long lVar5;
  HBITMAP16 HVar6;
  uint uVar7;
  HPALETTE16 hpal;
  int16 *piVar8;
  long lVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  HDC16 unaff_SI;
  undefined4 *puVar13;
  undefined4 *puVar14;
  long *hdc;
  undefined2 unaff_DI;
  long *plVar15;
  HGDIOBJ16 unaff_SS;
  void *pvVar16;
  uint uVar17;
  undefined2 uVar18;
  uint16 *puVar19;
  undefined2 in_stack_0000ffbe;
  uint uVar20;
  undefined2 in_stack_0000ffc0;
  undefined4 in_stack_0000ffc2;
  undefined2 in_stack_0000ffc6;
  undefined2 in_stack_0000ffc8;
  int iVar21;
  undefined2 uVar22;
  uint uVar23;
  LPVOID bits;
  bitmapinfo *info;
  long lVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  undefined4 uVar27;
  undefined2 uVar28;
  undefined local_1a [4];
  uint uStack_16;
  byte bStack_12;
  byte bStack_11;
  HGLOBAL16 HStack_c;
  HGLOBAL16 HStack_a;
  undefined4 uStack_8;
  uint16 *puStack_4;

  if (param_1 != 0) {
    if (param_4 == 0) {
      param_4 = GETSTOCKOBJECT((int16)CONCAT214(in_stack_0000ffc6,
                                                CONCAT410(in_stack_0000ffc2,
                                                          CONCAT28(in_stack_0000ffc0,
                                                                   CONCAT26(in_stack_0000ffbe,
                                                                            CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,0xf)))))));
    }
    GETOBJECT((int16 *)local_1a,unaff_SS,
              (int16)CONCAT412(in_stack_0000ffc2,
                               CONCAT210(in_stack_0000ffc0,
                                         CONCAT28(in_stack_0000ffbe,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  param_1,0xe)))))),
              (LPVOID)CONCAT22(in_stack_0000ffc8,in_stack_0000ffc6));
    if (param_3 == 0) {
      param_3 = (uint)bStack_12 * (uint)bStack_11;
    }
    uVar20 = 0x28;
    iVar11 = 0;
    lVar9 = (long)local_1a._2_2_;
    iVar21 = (int)uStack_16 >> 0xf;
    uVar22 = 1;
    info = (bitmapinfo *)0x0;
    uVar18 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar28 = 0;
    uVar17 = uStack_16;
    uVar23 = param_3;
    bits = param_2;
    uVar7 = FUN_1018_6c1a((long *)&stack0xffbe,unaff_SS);
    uStack_8._0_2_ = (undefined4 *)(uVar7 + uVar20);
    uStack_8._2_2_ = iVar11 + (uint)CARRY2(uVar7,uVar20);
    puStack_4 = (uint16 *)GETDC(0);
    hpal = SELECTPALETTE(0,param_4,(bool16)puStack_4);
    REALIZEPALETTE(puStack_4,unaff_SI);
    HStack_c = GLOBALALLOC((word)(undefined4 *)uStack_8,CONCAT22(0x42,uStack_8._2_2_));
    if (HStack_c != 0) {
      pvVar16 = GLOBALLOCK(HStack_c);
      uStack_8._2_2_ = (HBITMAP16)((ulong)pvVar16 >> 0x10);
      uStack_8._0_2_ = (undefined4 *)pvVar16;
      puVar13 = (undefined4 *)&stack0xffbe;
      puVar14 = (undefined4 *)uStack_8;
      for (iVar10 = 10; iVar10 != 0; iVar10 = iVar10 + -1) {
        puVar3 = puVar14;
        puVar14 = puVar14 + 1;
        puVar1 = puVar13;
        puVar13 = puVar13 + 1;
        *puVar3 = *puVar1;
      }
      GETDIBITS((int16 *)0x0,(HDC16)(undefined4 *)pvVar16,uStack_8._2_2_,
                (uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(puStack_4,
                                                                        CONCAT28(param_1,(qword)
                                                  uVar17 << 0x20)))),
                (uint16)CONCAT214(uVar23,CONCAT212(uVar22,CONCAT210(iVar21,CONCAT28(uVar17,CONCAT44(
                                                  lVar9,CONCAT22(iVar11,uVar20)))))),bits,info,
                (uint16)CONCAT214(uVar28,CONCAT410(uVar27,CONCAT46(uVar26,CONCAT42(uVar25,uVar18))))
               );
      HVar6 = uStack_8._2_2_;
      puVar13 = (undefined4 *)&stack0xffbe;
      puVar14 = (undefined4 *)uStack_8;
      for (iVar10 = 10; iVar10 != 0; iVar10 = iVar10 + -1) {
        puVar3 = puVar13;
        puVar13 = puVar13 + 1;
        puVar1 = puVar14;
        puVar14 = puVar14 + 1;
        *puVar3 = *puVar1;
      }
      GLOBALUNLOCK(HStack_c);
      lVar24 = CONCAT22(uVar18,info);
      if (lVar24 == 0) {
        lVar24 = (((long)local_1a._2_2_ * (ulong)param_3 + 0x1f & 0xffffffe7) >> 3) *
                 (long)(int)uStack_16;
        uVar7 = (uint)lVar24;
        if (param_2 != (LPVOID)0x0) {
          uVar12 = (int)((ulong)lVar24 >> 0x10) * 3 + (uint)CARRY2(uVar7,uVar7) +
                   (uint)CARRY2(uVar7 * 2,uVar7);
          lVar24 = CONCAT22(uVar12 >> 1,uVar7 * 3 >> 1 | (uint)((uVar12 & 1) != 0) << 0xf);
        }
      }
      iVar10 = FUN_1018_6c1a((long *)&stack0xffbe,unaff_SS);
      lVar5 = lVar24 + CONCAT22(iVar11,iVar10) + (ulong)uVar20;
      HStack_a = GLOBALREALLOC(lVar5 * 0x10000,(word)((ulong)lVar5 >> 0x10));
      if (HStack_a == 0) {
        GLOBALFREE(HStack_c);
      }
      else {
        HStack_c = HStack_a;
        pvVar16 = GLOBALLOCK(HStack_a);
        uStack_8._2_2_ = (HBITMAP16)((ulong)pvVar16 >> 0x10);
        hdc = (long *)pvVar16;
        uVar18 = 0;
        puVar19 = puStack_4;
        uVar7 = uVar17;
        iVar10 = FUN_1018_6c1a(hdc,uStack_8._2_2_);
        piVar8 = GETDIBITS((int16 *)0x0,(HDC16)hdc,uStack_8._2_2_,
                           (uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(puVar19,CONCAT28(
                                                  param_1,CONCAT26(uVar18,CONCAT24(uVar17,CONCAT22(
                                                  uStack_8._2_2_,iVar10 + *(int *)hdc + (int)hdc))))
                                                  ))),
                           (uint16)CONCAT214(uVar23,CONCAT212(uVar22,CONCAT210(iVar21,CONCAT28(uVar7
                                                  ,CONCAT44(lVar9,CONCAT22(iVar11,uVar20)))))),bits,
                           (bitmapinfo *)lVar24,
                           (uint16)CONCAT214(uVar28,CONCAT410(uVar27,CONCAT46(uVar26,CONCAT42(uVar25
                                                  ,(int)((ulong)lVar24 >> 0x10))))));
        if (piVar8 != (int16 *)0x0) {
          uStack_8 = (ulong)pvVar16 & 0xffff | (ulong)uStack_8._2_2_ << 0x10;
          plVar15 = (long *)&stack0xffbe;
          for (iVar11 = 10; iVar11 != 0; iVar11 = iVar11 + -1) {
            plVar4 = plVar15;
            plVar15 = plVar15 + 1;
            plVar2 = hdc;
            hdc = hdc + 1;
            *plVar4 = *plVar2;
          }
          GLOBALUNLOCK(HStack_c);
          SELECTPALETTE(0,hpal,(bool16)puStack_4);
          RELEASEDC((int16 *)puStack_4,0,unaff_SI);
          return HStack_c;
        }
        GLOBALUNLOCK(HStack_c);
      }
    }
    SELECTPALETTE(0,hpal,(bool16)puStack_4);
    RELEASEDC((int16 *)puStack_4,0,unaff_SI);
  }
  return 0;
}



HGLOBAL16 __cdecl16far FUN_1018_6f20(uint param_1)

{
  int16 *__return_storage_ptr__;
  HGLOBAL16 handle;
  int16 *hfile;
  int iVar1;
  HRSRC16 unaff_SI;
  LPVOID pvVar2;
  dword dVar3;

  __return_storage_ptr__ =
       (int16 *)FINDRESOURCE(2,(LPCSTR)((ulong)param_1 << 0x10),
                             (LPCSTR)(ZEXT24(PTR_DAT_10a8_0000_10a8_839a) << 0x10));
  if (__return_storage_ptr__ != (int16 *)0x0) {
    handle = ALLOCRESOURCE(0,0,CONCAT22(PTR_DAT_10a8_0000_10a8_839a,__return_storage_ptr__));
    if (handle != 0) {
      hfile = ACCESSRESOURCE(__return_storage_ptr__,(HINSTANCE16)PTR_DAT_10a8_0000_10a8_839a,
                             unaff_SI);
      if (hfile != (int16 *)0xffff) {
        pvVar2 = LOCKRESOURCE(handle);
        if (pvVar2 != (LPVOID)0x0) {
          dVar3 = SIZEOFRESOURCE((HMODULE16)__return_storage_ptr__,
                                 (HRSRC16)PTR_DAT_10a8_0000_10a8_839a);
          iVar1 = FUN_1018_6fc4(hfile,pvVar2,dVar3);
          if (iVar1 != 0) {
            _LCLOSE((HFILE16)hfile);
            GLOBALUNLOCK(handle);
            return handle;
          }
        }
        _LCLOSE((HFILE16)hfile);
      }
      FREERESOURCE(handle);
    }
  }
  return 0;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined2 __cdecl16far FUN_1018_6fc4(undefined2 param_1,undefined4 param_2,ulong param_3)

{
  uint16 *puVar1;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  uint16 *__return_storage_ptr__;
  undefined2 unaff_DI;
  undefined4 in_stack_00000000;
  undefined2 uVar2;

  if (param_3 != 0) {
    do {
      uVar2 = (undefined2)((ulong)param_2 >> 0x10);
      __return_storage_ptr__ = (uint16 *)param_3;
      if (30000 < param_3) {
        __return_storage_ptr__ = (uint16 *)0x7530;
      }
      puVar1 = _LREAD(__return_storage_ptr__,(HFILE16)param_2,(LPVOID)CONCAT22(param_1,uVar2),
                      (uint16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                                        CONCAT28(unaff_BP,CONCAT26(uVar2,CONCAT24((HFILE16)param_2,
                                                                                  CONCAT22(unaff_DI,
                                                  unaff_SI))))));
      if (puVar1 != __return_storage_ptr__) {
        return 0;
      }
      param_2 = CONCAT22((int)((ulong)param_2 >> 0x10) +
                         (((int)__return_storage_ptr__ >> 0xf) +
                         (uint)CARRY2((uint)param_2,(uint)__return_storage_ptr__)) * 0x1000,
                         (uint)param_2 + (int)__return_storage_ptr__);
      param_3 = CONCAT22(((int)(param_3 >> 0x10) - ((int)__return_storage_ptr__ >> 0xf)) -
                         (uint)((uint16 *)param_3 < __return_storage_ptr__),
                         (int)(uint16 *)param_3 - (int)__return_storage_ptr__);
    } while (param_3 != 0);
  }
  return 1;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulong __stdcall16far PLANETWNDPROC(undefined *param_1,HBRUSH16 param_2_00,int param_3,ulong param_4)

{
  byte bVar1;
  undefined2 uVar2;
  undefined2 uVar3;
  HWND16 hwnd;
  int16 *piVar4;
  bool16 bVar5;
  int *piVar6;
  uint uVar7;
  int **ppiVar8;
  uint unaff_SI;
  HWND16 *pHVar9;
  int *piVar10;
  HWND16 unaff_DI;
  int iVar11;
  PAINTSTRUCT16 *unaff_SS;
  ulong uVar12;
  undefined uVar13;
  undefined4 *pt;
  PAINTSTRUCT16 *pPVar14;
  undefined *puVar15;
  undefined *in_stack_0000ff56;
  undefined2 in_stack_0000ff58;
  WPARAM16 in_stack_0000ff5a;
  undefined2 in_stack_0000ff5c;
  WPARAM16 in_stack_0000ff5e;
  undefined2 in_stack_0000ff60;
  WPARAM16 in_stack_0000ff62;
  undefined2 in_stack_0000ff64;
  WPARAM16 in_stack_0000ff66;
  undefined2 in_stack_0000ff68;
  WPARAM16 in_stack_0000ff6a;
  HWND16 in_stack_0000ff6c;
  WPARAM16 in_stack_0000ff6e;
  undefined2 in_stack_0000ff70;
  WPARAM16 in_stack_0000ff72;
  undefined2 in_stack_0000ff74;
  WPARAM16 in_stack_0000ff76;
  undefined2 in_stack_0000ff78;
  WPARAM16 in_stack_0000ff7a;
  LPARAM in_stack_0000ff7c;
  HWND16 in_stack_0000ff80;
  HMENU16 in_stack_0000ff82;
  HWND16 in_stack_0000ff84;
  HMENU16 in_stack_0000ff86;
  HWND16 in_stack_0000ff88;
  HMENU16 in_stack_0000ff8a;
  HWND16 in_stack_0000ff8c;
  HMENU16 in_stack_0000ff8e;
  HWND16 in_stack_0000ff90;
  HMENU16 in_stack_0000ff92;
  HWND16 in_stack_0000ff94;
  HMENU16 in_stack_0000ff96;
  HINSTANCE16 in_stack_0000ff98;
  HMENU16 in_stack_0000ff9a;
  HWND16 in_stack_0000ff9c;
  LPVOID in_stack_0000ff9e;
  LPVOID in_stack_0000ffa2;
  undefined local_36 [32];
  undefined local_16 [6];
  undefined *local_10;
  undefined local_e [4];
  undefined *local_a;
  undefined *local_8;
  undefined4 local_6;

                    // Segment:    5
                    // Offset:     0001af40
                    // Length:     5f62
                    // Min Alloc:  5f62
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  if ((uint)param_4 == 0x2b) {
    local_6 = local_6 & 0xffff | (ulong)param_2_00 << 0x10;
    if (*(int *)(param_1 + 4) == -1) {
      FUN_1020_3122((int)param_1,param_2_00);
    }
    else {
      iVar11 = *(int *)(param_1 + 6);
      if (((iVar11 == 1) || (iVar11 == 2)) || (iVar11 == 4)) {
        FUN_1020_3148((int)param_1,param_2_00,-4);
      }
    }
  }
  else if ((uint)param_4 < 0x2c) {
    if ((uint)param_4 == 0x24) {
      *(int *)(param_1 + 0xc) = (int)(PTR_DAT_10a8_0000_10a8_5784 + 99) * 2;
      *(undefined **)(param_1 + 0xe) =
           PTR_DAT_10a8_0000_10a8_81dc + (int)(PTR_DAT_10a8_0000_10a8_5786 + 99) * 2;
      goto LAB_1020_0720;
    }
    if (0x24 < (uint)param_4) goto LAB_1020_0720;
    bVar1 = (byte)param_4;
    if (bVar1 == 0x14) {
      GETCLIENTRECT((HWND16)local_16,(RECT16 *)(param_4 & 0xffff0000 | ZEXT24(unaff_SS)));
      FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)local_16,(RECT16 *)unaff_SS,param_3);
    }
    else {
      uVar13 = (undefined)(param_4 >> 0x10);
      if (bVar1 < 0x15) {
        if (bVar1 == 1) {
          FUN_1020_2106();
          iVar11 = 0;
          pHVar9 = (HWND16 *)&PTR_DAT_10a8_0000_10a8_8846;
          do {
            if (iVar11 == 1) {
              uVar2 = 0x210;
            }
            else {
              uVar2 = 0;
            }
            if (iVar11 == 2) {
              uVar3 = 0x78;
            }
            else {
              uVar3 = 0x50;
            }
            unaff_DI = CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                                    CONCAT22(uVar3,param_4._2_2_),
                                    (int16)CONCAT214(0xaac,CONCAT113(0x10,CONCAT112(0xa8,CONCAT210(
                                                  0xaa6,CONCAT19(0x40,CONCAT18(0x20,CONCAT26(uVar2,
                                                  0x64006400c8))) | 0x3000000000000)))),
                                    (int16)CONCAT214(in_stack_0000ff5e,
                                                     CONCAT212(in_stack_0000ff5c,
                                                               CONCAT210(in_stack_0000ff5a,
                                                                         CONCAT28(in_stack_0000ff58,
                                                                                  CONCAT26(
                                                  in_stack_0000ff56,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,0x10a8))))))),
                                    (int16)CONCAT214(in_stack_0000ff6e,
                                                     CONCAT212(in_stack_0000ff6c,
                                                               CONCAT210(in_stack_0000ff6a,
                                                                         CONCAT28(in_stack_0000ff68,
                                                                                  CONCAT26(
                                                  in_stack_0000ff66,
                                                  CONCAT24(in_stack_0000ff64,
                                                           CONCAT22(in_stack_0000ff62,
                                                                    in_stack_0000ff60))))))),
                                    (int16)CONCAT412(in_stack_0000ff7c,
                                                     CONCAT210(in_stack_0000ff7a,
                                                               CONCAT28(in_stack_0000ff78,
                                                                        CONCAT26(in_stack_0000ff76,
                                                                                 CONCAT24(
                                                  in_stack_0000ff74,
                                                  CONCAT22(in_stack_0000ff72,in_stack_0000ff70))))))
                                    ,in_stack_0000ff80,in_stack_0000ff82,in_stack_0000ff84,
                                    (LPVOID)CONCAT22(in_stack_0000ff88,in_stack_0000ff86));
            *pHVar9 = unaff_DI;
            unaff_SI = 0x30;
            SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff5c,
                                            CONCAT212(in_stack_0000ff5a,
                                                      CONCAT210(in_stack_0000ff58,
                                                                CONCAT28(in_stack_0000ff56,
                                                                         CONCAT26(unaff_DI,CONCAT24(
                                                  0x30,ZEXT24(PTR_DAT_10a8_0000_10a8_59c6) << 0x10))
                                                  )))),in_stack_0000ff5e,
                        CONCAT22(in_stack_0000ff62,in_stack_0000ff60));
            iVar11 = iVar11 + 1;
            pHVar9 = pHVar9 + 1;
          } while (pHVar9 < (HWND16 *)&PTR_DAT_10a8_0000_10a8_884c);
          uVar7 = 0x51;
          do {
            hwnd = FUN_1018_5112(uVar7);
            SENDMESSAGE(hwnd,(uint16)CONCAT214(in_stack_0000ff5c,
                                               CONCAT212(in_stack_0000ff5a,
                                                         CONCAT210(in_stack_0000ff58,
                                                                   CONCAT28(in_stack_0000ff56,
                                                                            CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8846,0x403000010a8))))),
                        in_stack_0000ff5e,CONCAT22(in_stack_0000ff62,in_stack_0000ff60));
            uVar7 = uVar7 + 1;
          } while ((int)uVar7 < 0x57);
          PTR_DAT_10a8_0000_10a8_0aa4 =
               (undefined *)
               CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                            CONCAT22(0x32,param_4._2_2_),
                            (int16)CONCAT214(0xab5,ZEXT1014(CONCAT19(0x40,CONCAT18(0x80,
                                                  0x20064006400c8)))),
                            (int16)CONCAT214(in_stack_0000ff62,
                                             CONCAT212(in_stack_0000ff60,
                                                       CONCAT210(in_stack_0000ff5e,
                                                                 CONCAT28(in_stack_0000ff5c,
                                                                          CONCAT26(in_stack_0000ff5a
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff58,
                                                  CONCAT22(in_stack_0000ff56,0x10a8))))))),
                            (int16)CONCAT214(in_stack_0000ff72,
                                             CONCAT212(in_stack_0000ff70,
                                                       CONCAT210(in_stack_0000ff6e,
                                                                 CONCAT28(in_stack_0000ff6c,
                                                                          CONCAT26(in_stack_0000ff6a
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff68,
                                                  CONCAT22(in_stack_0000ff66,in_stack_0000ff64))))))
                                            ),
                            (int16)CONCAT214(in_stack_0000ff82,
                                             CONCAT212(in_stack_0000ff80,
                                                       CONCAT48(in_stack_0000ff7c,
                                                                CONCAT26(in_stack_0000ff7a,
                                                                         CONCAT24(in_stack_0000ff78,
                                                                                  CONCAT22(
                                                  in_stack_0000ff76,in_stack_0000ff74)))))),
                            in_stack_0000ff84,in_stack_0000ff86,in_stack_0000ff88,
                            (LPVOID)CONCAT22(in_stack_0000ff8c,in_stack_0000ff8a));
          uVar2 = 0x415;
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff60,
                                          CONCAT212(in_stack_0000ff5e,
                                                    CONCAT210(in_stack_0000ff5c,
                                                              CONCAT28(in_stack_0000ff5a,
                                                                       CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_0aa4,0x41500040000))))),
                      in_stack_0000ff62,CONCAT22(in_stack_0000ff66,in_stack_0000ff64));
          SENDMESSAGE(0,(uint16)(ZEXT1416(CONCAT212(in_stack_0000ff60,
                                                    CONCAT210(in_stack_0000ff5e,
                                                              CONCAT28(in_stack_0000ff5c,
                                                                       CONCAT26(in_stack_0000ff5a,
                                                                                CONCAT24(
                                                  PTR_DAT_10a8_0000_10a8_0aa4,
                                                  CONCAT22(uVar2,PTR_DAT_10a8_0000_10a8_59c6)))))))
                                << 0x10),in_stack_0000ff62,
                      CONCAT22(in_stack_0000ff66,in_stack_0000ff64));
          _PTR_DAT_10a8_0000_10a8_571c =
               GETWINDOWLONG(0x169,(int16)CONCAT214(in_stack_0000ff66,
                                                    CONCAT212(in_stack_0000ff64,
                                                              CONCAT210(in_stack_0000ff62,
                                                                        CONCAT28(in_stack_0000ff60,
                                                                                 CONCAT26(
                                                  in_stack_0000ff5e,
                                                  CONCAT24(in_stack_0000ff5c,
                                                           CONCAT22(in_stack_0000ff5a,
                                                                    PTR_DAT_10a8_0000_10a8_0aa4)))))
                                                  )));
          SETWINDOWLONG((HWND16)_PTR_DAT_10a8_0000_10a8_588e,
                        (int16)CONCAT214(in_stack_0000ff62,
                                         CONCAT212(in_stack_0000ff60,
                                                   CONCAT210(in_stack_0000ff5e,
                                                             CONCAT28(in_stack_0000ff5c,
                                                                      CONCAT26(in_stack_0000ff5a,
                                                                               CONCAT24(
                                                  PTR_DAT_10a8_0000_10a8_0aa4,
                                                  CONCAT22(uVar2,(int)((ulong)
                                                  _PTR_DAT_10a8_0000_10a8_588e >> 0x10)))))))),
                        CONCAT22(in_stack_0000ff66,in_stack_0000ff64));
          PTR_DAT_10a8_0000_10a8_8398 =
               (undefined *)
               CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                            CONCAT22(0x50,param_4._2_2_),
                            (int16)CONCAT214(uVar2,CONCAT212(0x10a8,CONCAT210(0xaba,CONCAT28(0x4020,
                                                  0x2130064006400c8)))),
                            (int16)CONCAT214(in_stack_0000ff66,
                                             CONCAT212(in_stack_0000ff64,
                                                       CONCAT210(in_stack_0000ff62,
                                                                 CONCAT28(in_stack_0000ff60,
                                                                          CONCAT26(in_stack_0000ff5e
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff5c,
                                                  CONCAT22(in_stack_0000ff5a,0x10a8))))))),
                            (int16)CONCAT214(in_stack_0000ff76,
                                             CONCAT212(in_stack_0000ff74,
                                                       CONCAT210(in_stack_0000ff72,
                                                                 CONCAT28(in_stack_0000ff70,
                                                                          CONCAT26(in_stack_0000ff6e
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff6c,
                                                  CONCAT22(in_stack_0000ff6a,in_stack_0000ff68))))))
                                            ),
                            (int16)CONCAT214(in_stack_0000ff86,
                                             CONCAT212(in_stack_0000ff84,
                                                       CONCAT210(in_stack_0000ff82,
                                                                 CONCAT28(in_stack_0000ff80,
                                                                          CONCAT44(in_stack_0000ff7c
                                                                                   ,CONCAT22(
                                                  in_stack_0000ff7a,in_stack_0000ff78)))))),
                            in_stack_0000ff88,in_stack_0000ff8a,in_stack_0000ff8c,
                            (LPVOID)CONCAT22(in_stack_0000ff90,in_stack_0000ff8e));
          uVar2 = 0;
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff60,
                                          CONCAT212(in_stack_0000ff5e,
                                                    CONCAT210(PTR_DAT_10a8_0000_10a8_8398,
                                                              CONCAT28(0x30,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_59c6,0x1348))))),
                      in_stack_0000ff66,CONCAT22(in_stack_0000ff6a,in_stack_0000ff68));
          GETCLIENTRECT((HWND16)local_16,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_8398,unaff_SS));
          PTR_DAT_10a8_0000_10a8_579c = local_10;
          PTR_DAT_10a8_0000_10a8_83a0 =
               (undefined *)
               CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                            CONCAT22(0x50,param_4._2_2_),
                            (int16)CONCAT214(0xad1,CONCAT212(0x10a8,CONCAT210(uVar2,CONCAT28(0x40a0,
                                                  0x10010064006400c8)))),
                            (int16)CONCAT214(in_stack_0000ff6a,
                                             CONCAT212(in_stack_0000ff68,
                                                       CONCAT210(in_stack_0000ff66,
                                                                 CONCAT28(in_stack_0000ff64,
                                                                          CONCAT26(in_stack_0000ff62
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff60,
                                                  CONCAT22(in_stack_0000ff5e,0x10a8))))))),
                            (int16)CONCAT214(in_stack_0000ff7a,
                                             CONCAT212(in_stack_0000ff78,
                                                       CONCAT210(in_stack_0000ff76,
                                                                 CONCAT28(in_stack_0000ff74,
                                                                          CONCAT26(in_stack_0000ff72
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff70,
                                                  CONCAT22(in_stack_0000ff6e,in_stack_0000ff6c))))))
                                            ),
                            (int16)CONCAT214(in_stack_0000ff8a,
                                             CONCAT212(in_stack_0000ff88,
                                                       CONCAT210(in_stack_0000ff86,
                                                                 CONCAT28(in_stack_0000ff84,
                                                                          CONCAT26(in_stack_0000ff82
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff80,in_stack_0000ff7c)))))),
                            in_stack_0000ff8c,in_stack_0000ff8e,in_stack_0000ff90,
                            (LPVOID)CONCAT22(in_stack_0000ff94,in_stack_0000ff92));
          uVar3 = 0;
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff68,
                                          CONCAT212(in_stack_0000ff66,
                                                    CONCAT210(in_stack_0000ff64,
                                                              CONCAT28(in_stack_0000ff62,
                                                                       CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_83a0,
                                                  CONCAT24(0x30,ZEXT24(PTR_DAT_10a8_0000_10a8_59c6)
                                                                << 0x10)))))),in_stack_0000ff6a,
                      CONCAT22(in_stack_0000ff6e,in_stack_0000ff6c));
          PTR_DAT_10a8_0000_10a8_82c0 =
               (undefined *)
               CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                            CONCAT22(0x50,param_4._2_2_),
                            (int16)CONCAT214(0xae5,CONCAT212(0x10a8,CONCAT210(0xad9,CONCAT28(uVar3,
                                                  CONCAT26(uVar2,0x64006400c8))))),
                            (int16)CONCAT214(in_stack_0000ff6e,
                                             CONCAT212(in_stack_0000ff6c,
                                                       CONCAT210(in_stack_0000ff6a,
                                                                 CONCAT28(in_stack_0000ff68,
                                                                          CONCAT26(in_stack_0000ff66
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff64,
                                                  CONCAT22(in_stack_0000ff62,0x10a8))))))),
                            (int16)CONCAT412(in_stack_0000ff7c,
                                             CONCAT210(in_stack_0000ff7a,
                                                       CONCAT28(in_stack_0000ff78,
                                                                CONCAT26(in_stack_0000ff76,
                                                                         CONCAT24(in_stack_0000ff74,
                                                                                  CONCAT22(
                                                  in_stack_0000ff72,in_stack_0000ff70)))))),
                            (int16)CONCAT214(in_stack_0000ff8e,
                                             CONCAT212(in_stack_0000ff8c,
                                                       CONCAT210(in_stack_0000ff8a,
                                                                 CONCAT28(in_stack_0000ff88,
                                                                          CONCAT26(in_stack_0000ff86
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff84,
                                                  CONCAT22(in_stack_0000ff82,in_stack_0000ff80))))))
                                            ),in_stack_0000ff90,in_stack_0000ff92,in_stack_0000ff94,
                            (LPVOID)CONCAT22(in_stack_0000ff98,in_stack_0000ff96));
          uVar3 = 0x245;
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff6c,
                                          CONCAT212(in_stack_0000ff6a,
                                                    CONCAT210(in_stack_0000ff68,
                                                              CONCAT28(in_stack_0000ff66,
                                                                       CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_82c0,
                                                  CONCAT24(0x30,ZEXT24(PTR_DAT_10a8_0000_10a8_59c4)
                                                                << 0x10)))))),in_stack_0000ff6e,
                      CONCAT22(in_stack_0000ff72,in_stack_0000ff70));
          PTR_DAT_10a8_0000_10a8_8346 =
               (undefined *)
               CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                            CONCAT22(0x50,param_4._2_2_),
                            (int16)CONCAT214(0xafa,CONCAT212(0x10a8,CONCAT210(0xaed,CONCAT28(0x40a0,
                                                  CONCAT26(0x51,CONCAT24(uVar3,CONCAT22(uVar2,200)))
                                                  )))),
                            (int16)CONCAT214(in_stack_0000ff72,
                                             CONCAT212(in_stack_0000ff70,
                                                       CONCAT210(in_stack_0000ff6e,
                                                                 CONCAT28(in_stack_0000ff6c,
                                                                          CONCAT26(in_stack_0000ff6a
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff68,
                                                  CONCAT22(in_stack_0000ff66,0x10a8))))))),
                            (int16)CONCAT214(in_stack_0000ff82,
                                             CONCAT212(in_stack_0000ff80,
                                                       CONCAT48(in_stack_0000ff7c,
                                                                CONCAT26(in_stack_0000ff7a,
                                                                         CONCAT24(in_stack_0000ff78,
                                                                                  CONCAT22(
                                                  in_stack_0000ff76,in_stack_0000ff74)))))),
                            (int16)CONCAT214(in_stack_0000ff92,
                                             CONCAT212(in_stack_0000ff90,
                                                       CONCAT210(in_stack_0000ff8e,
                                                                 CONCAT28(in_stack_0000ff8c,
                                                                          CONCAT26(in_stack_0000ff8a
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff88,
                                                  CONCAT22(in_stack_0000ff86,in_stack_0000ff84))))))
                                            ),in_stack_0000ff94,in_stack_0000ff96,in_stack_0000ff98,
                            (LPVOID)CONCAT22(in_stack_0000ff9c,in_stack_0000ff9a));
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff70,
                                          CONCAT212(in_stack_0000ff6e,
                                                    CONCAT210(in_stack_0000ff6c,
                                                              CONCAT28(in_stack_0000ff6a,
                                                                       CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8346,
                                                  CONCAT24(0x30,ZEXT24(PTR_DAT_10a8_0000_10a8_59c4)
                                                                << 0x10)))))),in_stack_0000ff72,
                      CONCAT22(in_stack_0000ff76,in_stack_0000ff74));
          local_6 = CONCAT22(local_6._2_2_,0x59aa);
          local_8 = (undefined *)0x0;
          local_6._0_2_ = (HWND16 *)&PTR_DAT_10a8_0000_10a8_59aa;
          iVar11 = 0;
          do {
            uVar7 = FUN_1018_5112(iVar11 + 0xf8);
            local_6 = local_6 & 0xffff | (ulong)uVar7 << 0x10;
            in_stack_0000ff6c =
                 CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                              CONCAT22((int)PTR_DAT_10a8_0000_10a8_5794 * 2,param_4._2_2_),
                              (int16)CONCAT214(0xb02,CONCAT212(0x10a8,CONCAT210(uVar7,CONCAT28(
                                                  0x4000,0x6400640064)))),
                              (int16)CONCAT214(in_stack_0000ff76,
                                               CONCAT212(in_stack_0000ff74,
                                                         CONCAT210(in_stack_0000ff72,
                                                                   CONCAT28(in_stack_0000ff70,
                                                                            CONCAT26(
                                                  in_stack_0000ff6e,
                                                  CONCAT24(in_stack_0000ff6c,
                                                           CONCAT22(in_stack_0000ff6a,0x10a8))))))),
                              (int16)CONCAT214(in_stack_0000ff86,
                                               CONCAT212(in_stack_0000ff84,
                                                         CONCAT210(in_stack_0000ff82,
                                                                   CONCAT28(in_stack_0000ff80,
                                                                            CONCAT44(
                                                  in_stack_0000ff7c,
                                                  CONCAT22(in_stack_0000ff7a,in_stack_0000ff78))))))
                              ,(int16)CONCAT214(in_stack_0000ff96,
                                                CONCAT212(in_stack_0000ff94,
                                                          CONCAT210(in_stack_0000ff92,
                                                                    CONCAT28(in_stack_0000ff90,
                                                                             CONCAT26(
                                                  in_stack_0000ff8e,
                                                  CONCAT24(in_stack_0000ff8c,
                                                           CONCAT22(in_stack_0000ff8a,
                                                                    in_stack_0000ff88))))))),
                              in_stack_0000ff98,in_stack_0000ff9a,in_stack_0000ff9c,
                              in_stack_0000ff9e);
            *(HWND16 *)local_6 = in_stack_0000ff6c;
            in_stack_0000ff6a = 0x30;
            SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                            CONCAT212(in_stack_0000ff72,
                                                      CONCAT210(in_stack_0000ff70,
                                                                CONCAT28(in_stack_0000ff6e,
                                                                         CONCAT26(in_stack_0000ff6c,
                                                                                  CONCAT24(0x30,
                                                  ZEXT24(PTR_DAT_10a8_0000_10a8_59c6) << 0x10)))))),
                        in_stack_0000ff76,CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
            iVar11 = iVar11 + 1;
            local_6._0_2_ = (HWND16 *)local_6 + 1;
          } while ((HWND16 *)local_6 < (HWND16 *)&PTR_DAT_10a8_0000_10a8_59c2);
          PTR_DAT_10a8_0000_10a8_5796 =
               (undefined *)
               CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                            CONCAT22(PTR_DAT_10a8_0000_10a8_5794,param_4._2_2_),
                            (int16)CONCAT214(0xb17,CONCAT212(0x10a8,CONCAT210(0xb09,CONCAT28(0x4000,
                                                  0x3006400640096)))),
                            (int16)CONCAT214(in_stack_0000ff7a,
                                             CONCAT212(in_stack_0000ff78,
                                                       CONCAT210(in_stack_0000ff76,
                                                                 CONCAT28(in_stack_0000ff74,
                                                                          CONCAT26(in_stack_0000ff72
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff70,
                                                  CONCAT22(in_stack_0000ff6e,0x10a8))))))),
                            (int16)CONCAT214(in_stack_0000ff8a,
                                             CONCAT212(in_stack_0000ff88,
                                                       CONCAT210(in_stack_0000ff86,
                                                                 CONCAT28(in_stack_0000ff84,
                                                                          CONCAT26(in_stack_0000ff82
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff80,in_stack_0000ff7c)))))),
                            (int16)CONCAT214(in_stack_0000ff9a,
                                             CONCAT212(in_stack_0000ff98,
                                                       CONCAT210(in_stack_0000ff96,
                                                                 CONCAT28(in_stack_0000ff94,
                                                                          CONCAT26(in_stack_0000ff92
                                                                                   ,CONCAT24(
                                                  in_stack_0000ff90,
                                                  CONCAT22(in_stack_0000ff8e,in_stack_0000ff8c))))))
                                            ),in_stack_0000ff9c,(HMENU16)in_stack_0000ff9e,
                            (HINSTANCE16)((ulong)in_stack_0000ff9e >> 0x10),in_stack_0000ffa2);
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff78,
                                          CONCAT212(in_stack_0000ff76,
                                                    CONCAT210(in_stack_0000ff74,
                                                              CONCAT28(in_stack_0000ff72,
                                                                       CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_5796,
                                                  CONCAT24(0x30,ZEXT24(PTR_DAT_10a8_0000_10a8_59c6)
                                                                << 0x10)))))),in_stack_0000ff7a,
                      in_stack_0000ff7c);
        }
        else {
          if (bVar1 != 0xf) goto LAB_1020_0720;
          piVar4 = (int16 *)BEGINPAINT((HWND16)local_36,
                                       (PAINTSTRUCT16 *)(param_4 & 0xffff0000 | ZEXT24(unaff_SS)));
          FUN_1020_0736(piVar4,unaff_SI);
          ENDPAINT((HWND16)local_36,unaff_SS);
          _PTR_DAT_10a8_0000_10a8_571c =
               CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
        }
        goto LAB_1020_052b;
      }
      if (bVar1 == 0x19) {
        if (param_1 == PTR_DAT_10a8_0000_10a8_5796) {
          SETBKCOLOR((HDC16)_DAT_10a8_5714,
                     (COLORREF)CONCAT22(param_3,(int)((ulong)_DAT_10a8_5714 >> 0x10)));
          SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                       (COLORREF)
                       CONCAT22(param_3,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
          return ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
        }
        goto LAB_1020_0720;
      }
      if (bVar1 != 0x20) goto LAB_1020_0720;
      pt = &local_6;
      pPVar14 = unaff_SS;
      GETCURSORPOS((POINT16 *)pt);
      SCREENTOCLIENT((HWND16)&local_6,
                     (POINT16 *)(param_4 & 0xff000000 | (ulong)CONCAT12(uVar13,unaff_SS)));
      GETCLIENTRECT((HWND16)local_e,
                    (RECT16 *)(param_4 & 0xff000000 | (ulong)CONCAT12(uVar13,unaff_SS)));
      bVar5 = PTINRECT((RECT16 *)local_6,SUB41(local_6 >> 0x10,0));
      if (bVar5 == 0) goto LAB_1020_0720;
      piVar4 = FUN_1028_3e74(local_6,0,1,0);
      if (piVar4 == (int16 *)0x0) {
        piVar4 = (int16 *)FUN_1020_2b52((int)local_6,(int)(local_6 >> 0x10),0,1,0,
                                        CONCAT22(pPVar14,pt));
      }
      if (piVar4 == (int16 *)0x0) goto LAB_1020_0720;
      SETCURSOR((HCURSOR16)piVar4);
    }
  }
  else {
    if ((uint)param_4 == 0x111) {
      if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
        FUN_1028_1572(param_4._2_2_,param_3,param_1,param_2_00);
        goto LAB_1020_0706;
      }
      if (param_1 == PTR_DAT_10a8_0000_10a8_8398) {
        if (param_2_00 != 1) goto LAB_1020_0720;
        uVar7 = 0x8004;
LAB_1020_0573:
        FUN_1020_0736((int16 *)0x0,uVar7);
LAB_1020_0720:
        uVar12 = DEFWINDOWPROC((HWND16)param_1,
                               (uint16)CONCAT214(in_stack_0000ff58,
                                                 CONCAT212(in_stack_0000ff56,
                                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(param_4._2_2_,
                                                           CONCAT24((uint)param_4,
                                                                    CONCAT13((char)((uint)param_3 >>
                                                                                   8),CONCAT12((char
                                                  )param_3,param_2_00)))))))),in_stack_0000ff5a,
                               CONCAT22(in_stack_0000ff5e,in_stack_0000ff5c));
        return uVar12;
      }
      if ((param_1 == PTR_DAT_10a8_0000_10a8_59b2) && (param_2_00 == 0)) {
        iVar11 = -1;
        puVar15 = (undefined *)0x0;
LAB_1020_0524:
        FUN_1020_24c8(iVar11,puVar15);
LAB_1020_0528:
        _PTR_DAT_10a8_0000_10a8_571c =
             CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
      }
      else {
        if ((param_1 == PTR_DAT_10a8_0000_10a8_59b4) && (param_2_00 == 0)) {
          iVar11 = 1;
          puVar15 = (undefined *)0x0;
          goto LAB_1020_0524;
        }
        if ((param_1 != PTR_DAT_10a8_0000_10a8_59aa) || (param_2_00 != 0)) {
          if ((param_1 == PTR_DAT_10a8_0000_10a8_59ac) && (param_2_00 == 0)) {
            local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff58,
                                                      CONCAT212(in_stack_0000ff56,
                                                                CONCAT210(unaff_DI,CONCAT28(unaff_SI
                                                  ,CONCAT26(PTR_DAT_10a8_0000_10a8_8398,
                                                            0x40700000000))))),in_stack_0000ff5a,
                                  CONCAT22(in_stack_0000ff5e,in_stack_0000ff5c));
            _PTR_DAT_10a8_0000_10a8_571c =
                 CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
            if (local_6 != 0xffffffff) {
              iVar11 = FUN_1010_0f50((int)PTR_DAT_10a8_0000_10a8_7bd6,(int)local_6,
                                     (undefined4 *)&stack0xff56,-1);
              _PTR_DAT_10a8_0000_10a8_571c =
                   CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
              if (iVar11 != 0) {
LAB_1020_0661:
                FUN_1028_1c46(0,in_stack_0000ff56);
                goto LAB_1020_0528;
              }
            }
            goto LAB_1020_052b;
          }
          if ((param_1 != PTR_DAT_10a8_0000_10a8_59ae) || (param_2_00 != 0)) {
            if ((param_1 == PTR_DAT_10a8_0000_10a8_59be) && (param_2_00 == 0)) {
              iVar11 = 0;
            }
            else {
              if ((param_1 != PTR_DAT_10a8_0000_10a8_59c0) || (param_2_00 != 0)) {
                if ((param_1 != PTR_DAT_10a8_0000_10a8_8346) || (param_2_00 != 1))
                goto LAB_1020_0720;
                uVar7 = 0x40;
                goto LAB_1020_0573;
              }
              iVar11 = FUN_1018_50b2(0x141,(HWND16)s_Robo_Miner_10a8_2024);
              _PTR_DAT_10a8_0000_10a8_571c =
                   CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
              if (iVar11 != 6) goto LAB_1020_052b;
              iVar11 = 1;
            }
            FUN_1068_0000(iVar11);
            _PTR_DAT_10a8_0000_10a8_571c =
                 CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
            goto LAB_1020_052b;
          }
          local_6 = 0x1d60262;
          FUN_1060_0000(0x1d60262);
          goto LAB_1020_0528;
        }
        local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff58,
                                                  CONCAT212(in_stack_0000ff56,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8398,0x40700000000
                                                          ))))),in_stack_0000ff5a,
                              CONCAT22(in_stack_0000ff5e,in_stack_0000ff5c));
        _PTR_DAT_10a8_0000_10a8_571c =
             CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
        if (local_6 != -1) {
          iVar11 = FUN_1010_0f50((int)PTR_DAT_10a8_0000_10a8_7bd6,(int)local_6,
                                 (undefined4 *)&stack0xff56,-1);
          _PTR_DAT_10a8_0000_10a8_571c =
               CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
          if (iVar11 != 0) {
            FUN_1028_2728(PTR_DAT_10a8_0000_10a8_7bd6,1,in_stack_0000ff56,2,(undefined *)0x0);
            _PTR_DAT_10a8_0000_10a8_571c =
                 CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
          }
        }
      }
LAB_1020_052b:
      uVar7 = 0;
      goto LAB_1020_0371;
    }
    if (0x111 < (uint)param_4) {
      if ((uint)param_4 != 0x201) {
        if ((uint)param_4 - 0x201 < 2) goto LAB_1020_0720;
        if ((uint)param_4 != 0x203 && (uint)param_4 != 0x204) {
          if ((uint)param_4 != 0x222) goto LAB_1020_0720;
          PTR_DAT_10a8_0000_10a8_00c6 = param_4._2_2_;
          _PTR_DAT_10a8_0000_10a8_571c =
               CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
          if (param_3 == 0) {
            PTR_DAT_10a8_0000_10a8_00c6 = (undefined *)0x0;
          }
          goto LAB_1020_052b;
        }
      }
      SETFOCUS((HWND16)PTR_DAT_10a8_0000_10a8_58b4);
      FUN_1020_2640((uint)param_1,param_2_00,param_3,(uint)((uint)param_4 == 0x204));
LAB_1020_0706:
      _PTR_DAT_10a8_0000_10a8_571c =
           CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
      goto LAB_1020_052b;
    }
    if ((uint)param_4 != 0x2c) {
      if ((uint)param_4 != 0x102) goto LAB_1020_0720;
      if ((param_3 == 0x66) ||
         (_PTR_DAT_10a8_0000_10a8_571c =
               CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c), param_3 == 0x46))
      {
        local_8 = PTR_DAT_10a8_0000_10a8_006c;
        piVar6 = (int *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
        local_6 = local_6 & 0xffff;
        if (PTR_DAT_10a8_0000_10a8_006a < piVar6) {
          local_6 = CONCAT22(PTR_DAT_10a8_0000_10a8_006c,piVar6);
          piVar10 = (int *)PTR_DAT_10a8_0000_10a8_006a;
          do {
            if ((undefined *)piVar10[1] == PTR_DAT_10a8_0001_10a8_00c0) {
              if ((PTR_DAT_10a8_0000_10a8_7b4c != (undefined *)&DAT_10a8_0001) ||
                 ((undefined *)*piVar10 != PTR_DAT_10a8_0000_10a8_7b50)) {
                puVar15 = (undefined *)*piVar10;
                iVar11 = 0;
                goto LAB_1020_0524;
              }
              break;
            }
            piVar10 = piVar10 + 0x1e;
          } while (piVar10 < piVar6);
        }
        iVar11 = 0;
        _PTR_DAT_10a8_0000_10a8_571c =
             CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
        if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
          local_a = PTR_DAT_10a8_0000_10a8_0070;
          ppiVar8 = (int **)PTR_DAT_10a8_0000_10a8_006e;
          do {
            piVar6 = *ppiVar8;
            piVar10 = ppiVar8[1];
            local_6 = local_6 & 0xffff | ZEXT24(piVar10) << 0x10;
            _PTR_DAT_10a8_0000_10a8_571c =
                 CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
            if (((uint)piVar10 | (uint)piVar6) == 0) break;
            if ((undefined *)piVar6[1] == PTR_DAT_10a8_0001_10a8_00c0) {
              if ((PTR_DAT_10a8_0000_10a8_7b4c != (undefined *)&DAT_10a8_0002) ||
                 (_PTR_DAT_10a8_0000_10a8_571c =
                       CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c),
                 (undefined *)*piVar6 != PTR_DAT_10a8_0000_10a8_7b50)) {
                in_stack_0000ff56 = (undefined *)*piVar6;
                goto LAB_1020_0661;
              }
              break;
            }
            ppiVar8 = ppiVar8 + 2;
            iVar11 = iVar11 + 1;
            _PTR_DAT_10a8_0000_10a8_571c =
                 CONCAT22(PTR_DAT_10a8_0000_10a8_571e,PTR_DAT_10a8_0000_10a8_571c);
          } while (iVar11 < (int)PTR_DAT_10a8_0000_10a8_83c6);
        }
      }
      goto LAB_1020_052b;
    }
    *(undefined **)(param_1 + 8) = PTR_DAT_10a8_0000_10a8_5794 + 2;
  }
  uVar7 = 1;
LAB_1020_0371:
  PTR_DAT_10a8_0000_10a8_571e = (undefined *)((ulong)_PTR_DAT_10a8_0000_10a8_571c >> 0x10);
  return (ulong)uVar7;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_0736(int16 *param_1,uint param_2)

{
  uint *puVar1;
  code **ppcVar2;
  int16 *__return_storage_ptr__;
  uint *puVar3;
  HRGN16 unaff_SI;
  undefined2 *puVar4;
  int iVar5;
  HRGN16 unaff_DI;
  undefined2 unaff_SS;
  COLORREF CVar6;
  COLORREF CVar7;
  undefined2 in_stack_0000ffde;
  undefined2 in_stack_0000ffe0;
  undefined2 uVar8;
  undefined2 uVar9;
  int iVar10;
  undefined2 in_stack_0000ffe6;
  int iVar11;
  int in_stack_0000ffea;
  undefined2 in_stack_0000ffec;
  uint uVar12;
  uint local_a;
  uint local_8;
  int local_6;
  uint *local_4;

  iVar10 = 0;
  uVar9 = 0;
  if (PTR_DAT_10a8_0000_10a8_7b50 == (undefined *)0xffff) {
    puVar4 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59aa;
    do {
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffe6,
                                    CONCAT212(iVar10,CONCAT210(uVar9,CONCAT28(in_stack_0000ffe0,
                                                                              CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,*puVar4)))))))
                );
      puVar4 = puVar4 + 1;
    } while (puVar4 < (undefined2 *)&PTR_DAT_10a8_0000_10a8_59c2);
    puVar4 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_8846;
    do {
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffe6,
                                    CONCAT212(iVar10,CONCAT210(uVar9,CONCAT28(in_stack_0000ffe0,
                                                                              CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,*puVar4)))))))
                );
      puVar4 = puVar4 + 1;
    } while (puVar4 < (undefined2 *)&PTR_DAT_10a8_0000_10a8_884c);
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffe6,
                                  CONCAT212(iVar10,CONCAT210(uVar9,CONCAT28(in_stack_0000ffe0,
                                                                            CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_0aa4))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffe6,
                                  CONCAT212(iVar10,CONCAT210(uVar9,CONCAT28(in_stack_0000ffe0,
                                                                            CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_8398))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffe6,
                                  CONCAT212(iVar10,CONCAT210(uVar9,CONCAT28(in_stack_0000ffe0,
                                                                            CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_83a0))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffe6,
                                  CONCAT212(iVar10,CONCAT210(uVar9,CONCAT28(in_stack_0000ffe0,
                                                                            CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_82c0))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffe6,
                                  CONCAT212(iVar10,CONCAT210(uVar9,CONCAT28(in_stack_0000ffe0,
                                                                            CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_8346))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffe6,
                                  CONCAT212(iVar10,CONCAT210(uVar9,CONCAT28(in_stack_0000ffe0,
                                                                            CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_5796))))))));
    puVar4 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_7ad8;
    do {
      *puVar4 = 0xfffa;
      puVar4[-2] = 0xfffb;
      puVar4 = puVar4 + 4;
    } while (puVar4 < (undefined2 *)&PTR_DAT_10a8_0000_10a8_7b40);
    if (((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) &
         0x40) != 0) && (param_1 != (int16 *)0x0)) {
      GETCLIENTRECT((HWND16)&local_a,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00ca,unaff_SS));
      SETBKCOLOR((HDC16)_DAT_10a8_5714,
                 (COLORREF)CONCAT22(param_1,(int)((ulong)_DAT_10a8_5714 >> 0x10)));
      SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                   (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
      FUN_1018_56e0((HRGN16)param_1,(int *)&local_a,(char *)s_Deceased_10a8_0b1e,8);
      return;
    }
  }
  else {
    if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
      iVar11 = 0xd16;
      uVar8 = SUB42(&PTR_DAT_10a8_0000_10a8_7b62,0);
      in_stack_0000ffea = 7;
      iVar5 = 7;
    }
    else {
      iVar11 = 0xa4a;
      iVar5 = 5;
      uVar8 = SUB42(&PTR_DAT_10a8_0000_10a8_7bd6,0);
    }
    if (param_1 == (int16 *)0x0) {
      iVar10 = 1;
      param_1 = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_00ca);
    }
    __return_storage_ptr__ =
         SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
                      (int16)CONCAT214(in_stack_0000ffec,
                                       CONCAT212(in_stack_0000ffea,
                                                 CONCAT210(iVar11,CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(iVar10,CONCAT24(
                                                  uVar9,CONCAT22(uVar8,in_stack_0000ffde))))))));
    CVar6 = SETBKCOLOR((HDC16)_DAT_10a8_5714,CONCAT22(param_1,(int)((ulong)_DAT_10a8_5714 >> 0x10)))
    ;
    CVar7 = SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                         CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
    local_8 = (uint)((param_2 & 0x8000) != 0);
    local_a = (uint)((param_2 & 0x4000) != 0);
    if (iVar5 != 0) {
      puVar3 = (uint *)(iVar11 + 10);
      in_stack_0000ffea = iVar5;
      local_6 = iVar5;
      local_4 = puVar3;
      do {
        uVar12 = (uint)CVar7.value;
        if ((puVar3[-3] & param_2) != 0) {
          puVar1 = puVar3;
          *puVar1 = *puVar1 ^ ((byte)((byte)((local_8 << 10) >> 8) ^ *(byte *)((int)puVar3 + 1)) & 4
                              ) << 8;
          puVar1 = puVar3;
          *puVar1 = *puVar1 ^ ((byte)(*(byte *)((int)puVar3 + 1) ^ (byte)((local_a << 0xc) >> 8)) &
                              0x10) << 8;
          in_stack_0000ffde = uVar8;
          if ((*(byte *)((int)puVar3 + 1) & 1) != 0) {
            in_stack_0000ffde = uVar9;
          }
          ppcVar2 = (code **)(puVar3 + -2);
          (**ppcVar2)((int)s__with_some_work_done_10a8_1343 + 5,param_1,puVar3 + -5,
                      in_stack_0000ffde);
        }
        CVar7.value = CVar7.value & 0xffff0000 | (ulong)uVar12;
        puVar3 = puVar3 + 7;
        iVar5 = iVar5 + -1;
      } while (iVar5 != 0);
    }
    SETTEXTCOLOR((HDC16)CVar7.value,(COLORREF)CONCAT22(param_1,(int)(CVar7.value >> 0x10)));
    SETBKCOLOR((HDC16)CVar6.value,(COLORREF)CONCAT22(param_1,(int)(CVar6.value >> 0x10)));
    SELECTOBJECT(__return_storage_ptr__,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214((int)CVar7.value,
                                  CONCAT212(in_stack_0000ffea,
                                            CONCAT210(iVar11,CONCAT28(__return_storage_ptr__,
                                                                      CONCAT26(iVar10,CONCAT24(uVar9
                                                  ,CONCAT22(uVar8,in_stack_0000ffde))))))));
    if (iVar10 != 0) {
      RELEASEDC(param_1,(HWND16)PTR_DAT_10a8_0000_10a8_00ca,unaff_SI);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

byte __cdecl16far
FUN_1020_0958(undefined *param_1,undefined2 *param_2,undefined4 *param_3,undefined2 param_4,
             undefined6 param_5,undefined1 param_6 [10],dword param_7,undefined2 param_8)

{
  int *piVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  undefined *puVar5;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  undefined2 unaff_SS;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined4 uVar6;
  undefined2 in_stack_00000022;
  dword in_stack_00000024;
  int in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  int iVar7;
  undefined2 in_stack_0000fff8;
  undefined2 uVar8;
  undefined2 in_stack_0000fffa;
  uint uVar9;

  uVar6 = CONCAT22(in_stack_00000002,in_stack_00000000);
  uVar9 = 0x70;
  iVar4 = (uint)(*(byte *)(param_2 + 5) & 7) * 0xc6;
  *(int *)param_3 = iVar4 + 4;
  *(int *)(param_3 + 1) = iVar4 + 0xc2;
  *(undefined2 *)((int)param_3 + 2) = *param_2;
  if ((*(byte *)(param_2 + 5) & 0x80) == 0) {
    puVar5 = PTR_DAT_10a8_0000_10a8_5794 + 3;
  }
  else {
    puVar5 = (undefined *)param_2[1];
  }
  *(undefined2 *)((int)param_3 + 6) = puVar5 + *(int *)((int)param_3 + 2);
  if (((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) || ((*(byte *)((int)param_2 + 0xb) & 2) != 0)) {
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      FUN_1018_5bba(param_1,param_3,0,unaff_SI,unaff_DI,in_stack_0000fff4,in_stack_0000fff6,
                    in_stack_0000fff8,in_stack_0000fffa,0x70,unaff_BP,in_stack_00000000,
                    in_stack_00000002,param_1,param_2);
    }
    uVar2 = *param_3;
    iVar4 = (int)uVar2;
    iVar7 = (int)((ulong)uVar2 >> 0x10);
    uVar8 = (undefined2)param_3[1];
    FUN_1018_5948((int *)&stack0xfff4,-1,-1);
    puVar5 = PTR_DAT_10a8_0000_10a8_5794 + iVar7 + 2;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT412(uVar6,CONCAT210(unaff_BP,CONCAT28(uVar9,CONCAT26(puVar5,CONCAT24(
                                                  uVar8,CONCAT22(iVar7,iVar4)))))));
    SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                 (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
    SETBKCOLOR((HDC16)_DAT_10a8_5714,
               (COLORREF)CONCAT22(param_1,(int)((ulong)_DAT_10a8_5714 >> 0x10)));
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      FUN_1018_5bba(param_1,(undefined4 *)&stack0xfff4,0,unaff_SI,unaff_DI,iVar4,iVar7,uVar8,puVar5,
                    uVar9,unaff_BP,in_stack_00000000,in_stack_00000002,param_1,param_2);
    }
    FUN_1018_5580(param_1,(int *)&stack0xfff4,
                  (LPCSTR)CONCAT22(-(((*(byte *)((int)param_2 + 0xb) & 0x10) << 8) >> 0xc),param_4),
                  (int16)CONCAT214(unaff_BP,CONCAT212(uVar9,CONCAT210(puVar5,CONCAT28(uVar8,CONCAT26
                                                  (iVar7,CONCAT24(iVar4,CONCAT22(unaff_DI,unaff_SI))
                                                  ))))));
    iVar3 = *(int *)(param_3 + 1);
    SETRECT((RECT16 *)CONCAT22(iVar3,puVar5 + 1),
            (int16)CONCAT214(iVar7,CONCAT212(iVar4,CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  unaff_SS,CONCAT24(&stack0xfff4,
                                                                    CONCAT22(iVar3 + -0x11,
                                                                             *(int *)((int)param_3 +
                                                                                     2) + 1))))))),
            (int16)CONCAT412(_param_1,CONCAT48(uVar6,CONCAT26(unaff_BP,CONCAT24(uVar9,CONCAT22(
                                                  puVar5,uVar8))))),
            (int16)CONCAT412(param_6._2_4_,
                             CONCAT210(param_6._0_2_,CONCAT64(param_5,CONCAT22(param_4,param_3)))),
            (int16)CONCAT412(in_stack_00000024,
                             CONCAT210(in_stack_00000022,
                                       CONCAT28(param_8,CONCAT44(param_7,param_6._6_4_)))));
    if ((*(byte *)(param_2 + 5) & 0x80) == 0) {
      uVar9 = 0x71;
    }
    FUN_1018_5f08((HRGN16)param_1,(undefined4 *)&stack0xfff4,uVar9,0,0);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT412(uVar6,CONCAT210(unaff_BP,CONCAT28(uVar9,CONCAT26(puVar5,CONCAT24(
                                                  uVar8,CONCAT22(iVar7,iVar4)))))));
    iVar3 = *(int *)((int)param_3 + 2);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(*(int *)(
                                                  param_3 + 1) + -0x12,
                                                  CONCAT26(iVar3 + 1,
                                                           CONCAT24(1,CONCAT22(-1 - (iVar3 - (int)
                                                  puVar5),0xf0))))))),
           (int16)CONCAT412(uVar6,CONCAT210(unaff_BP,CONCAT28(uVar9,CONCAT26(puVar5,CONCAT24(uVar8,
                                                  CONCAT22(iVar7,iVar4)))))),
           (int16)CONCAT214(param_6._0_2_,
                            CONCAT68(param_5,CONCAT26(param_4,CONCAT24(param_3,CONCAT22(param_2,
                                                  param_1))))),
           (int16)CONCAT214(in_stack_00000022,
                            CONCAT212(param_8,CONCAT48(param_7,(sqword)((unkuint10)param_6 >> 0x10))
                                     )),in_stack_00000024);
  }
  piVar1 = (int *)((int)param_3 + 2);
  *piVar1 = (int)(PTR_DAT_10a8_0000_10a8_5794 + *piVar1 + 4);
  return *(byte *)(param_2 + 5) >> 7;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1020_0aea(undefined *param_1,undefined2 *param_2,int param_3,undefined4 param_4,
             undefined2 param_5,undefined2 param_6,undefined6 param_7)

{
  undefined4 uVar1;
  byte bVar2;
  undefined extraout_AH;
  int iVar3;
  int16 *piVar4;
  int16 *piVar5;
  VA_LIST16 pWVar6;
  int iVar7;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  int iVar8;
  undefined *puVar9;
  undefined *puVar10;
  undefined4 in_stack_00000000;
  undefined2 in_stack_00000018;
  int iVar11;
  undefined *puVar12;
  int iVar13;
  int in_stack_0000ffe6;
  undefined *in_stack_0000ffe8;
  int in_stack_0000ffea;
  undefined2 in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined *puVar14;
  undefined2 in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  undefined4 *puVar15;
  undefined2 in_stack_0000fff8;
  undefined4 *puVar16;
  undefined2 in_stack_0000fffa;
  int16 **ppiVar17;
  undefined *puVar18;

  if ((*(byte *)((int)param_2 + 0xb) & 8) != 0) {
    PTR_DAT_10a8_0000_10a8_7b04 = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7b0c = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7b14 = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7b1c = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7b2c = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7b24 = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7b08 = (undefined *)0xfffa;
    PTR_DAT_10a8_0000_10a8_7b10 = (undefined *)0xfffa;
    PTR_DAT_10a8_0000_10a8_7b18 = (undefined *)0xfffa;
    PTR_DAT_10a8_0000_10a8_7b20 = (undefined *)0xfffa;
    PTR_DAT_10a8_0000_10a8_7b30 = (undefined *)0xfffa;
    PTR_DAT_10a8_0000_10a8_7b28 = (undefined *)0xfffa;
  }
  bVar2 = FUN_1020_0958(param_1,param_2,(undefined4 *)&stack0xffe6,0xb27,
                        CONCAT24(in_stack_0000ffe6,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000fff0,
                                 CONCAT26(in_stack_0000ffee,
                                          CONCAT24(in_stack_0000ffec,
                                                   CONCAT22(in_stack_0000ffea,in_stack_0000ffe8)))),
                        CONCAT22(in_stack_0000fff4,in_stack_0000fff2),in_stack_0000fff6);
  if (CONCAT11(extraout_AH,bVar2) != 0) {
    iVar8 = param_3;
    if (param_3 == 0) {
      iVar8 = (int)&PTR_DAT_10a8_0000_10a8_7bd6;
    }
    iVar3 = in_stack_0000ffe6 + 4;
    iVar7 = in_stack_0000ffea + -4;
    puVar14 = PTR_DAT_10a8_0000_10a8_5924;
    puVar9 = in_stack_0000ffe8;
    SETRECT((RECT16 *)CONCAT22(iVar7,in_stack_0000ffe8 + (int)PTR_DAT_10a8_0000_10a8_5794 * 4),
            (int16)CONCAT214(in_stack_0000ffe8,
                             CONCAT212(in_stack_0000ffe6,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,CONCAT24
                                                  (0x7b02,CONCAT22(iVar3,in_stack_0000ffe8))))))),
            (int16)CONCAT214(in_stack_0000fff8,
                             CONCAT212(in_stack_0000fff6,
                                       CONCAT210(iVar3,CONCAT28(iVar7,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_5924,
                                                  CONCAT24(in_stack_0000ffee,
                                                           CONCAT22(in_stack_0000ffec,
                                                                    in_stack_0000ffea))))))),
            (int16)CONCAT412(_param_2,CONCAT66(CONCAT24(param_1,in_stack_00000000),
                                               CONCAT24(unaff_BP,CONCAT22(in_stack_0000ffe8,
                                                                          in_stack_0000fffa)))),
            (int16)CONCAT214(in_stack_00000018,
                             CONCAT212(param_7._4_2_,
                                       CONCAT48((undefined4)param_7,
                                                CONCAT26(param_6,CONCAT24(param_5,param_4))))));
    puVar16 = (undefined4 *)(iVar8 + 0x22);
    ppiVar17 = (int16 **)0x60a;
    puVar15 = (undefined4 *)0x5be;
    puVar18 = puVar9;
    do {
      puVar10 = puVar14;
      if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                     (int16)CONCAT214(iVar3,CONCAT212(iVar7,CONCAT210(puVar14,CONCAT28(iVar8,
                                                  CONCAT26(in_stack_0000ffec,
                                                           CONCAT24(in_stack_0000ffea,
                                                                    CONCAT22(in_stack_0000ffe8,
                                                                             in_stack_0000ffe6))))))
                                     ));
        uVar1 = *puVar15;
        SETTEXTCOLOR((HDC16)uVar1,(COLORREF)CONCAT22(param_1,(int)((ulong)uVar1 >> 0x10)));
        piVar5 = *ppiVar17;
        iVar11 = (int)s_From___s_c_c_10a8_10a2 + 6;
        puVar10 = puVar9;
        puVar12 = param_1;
        iVar13 = iVar3;
        piVar4 = LSTRLEN(piVar5,(LPCSTR)CONCAT22(piVar5,0x10a8));
        TEXTOUT((HDC16)piVar4,
                (int16)CONCAT214(in_stack_0000ffe6,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(puVar12,CONCAT26(
                                                  iVar3,CONCAT24(puVar10,CONCAT22(iVar11,piVar5)))))
                                          )),
                (int16)CONCAT214(puVar15,CONCAT212(iVar13,CONCAT210(iVar7,CONCAT28(puVar14,CONCAT26(
                                                  iVar8,CONCAT24(in_stack_0000ffec,
                                                                 CONCAT22(in_stack_0000ffea,
                                                                          in_stack_0000ffe8))))))),
                (LPCSTR)CONCAT22(ppiVar17,puVar16),
                (int16)CONCAT214((undefined2)param_4,
                                 CONCAT410(_param_2,CONCAT64(CONCAT24(param_1,in_stack_00000000),
                                                             CONCAT22(unaff_BP,puVar18)))));
        puVar10 = puVar14;
        iVar3 = iVar13;
      }
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT214(iVar3,CONCAT212(iVar7,CONCAT210(puVar10,CONCAT28(iVar8,CONCAT26(
                                                  in_stack_0000ffec,
                                                  CONCAT24(in_stack_0000ffea,
                                                           CONCAT22(in_stack_0000ffe8,
                                                                    in_stack_0000ffe6))))))));
      SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                   (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
      uVar1 = *puVar16;
      puVar14 = puVar10;
      piVar5 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xb3810a8,
                         (LPCSTR)CONCAT22((int)uVar1,0x10a8),(VA_LIST16)((ulong)uVar1 >> 0x10));
      FUN_1018_55f6(param_1,iVar7,(int)puVar9,(int)&DAT_10a8_86de,piVar5,(int)puVar10,
                    CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffe6,
                    CONCAT212(iVar3,CONCAT210(iVar7,CONCAT28(puVar14,CONCAT26(iVar8,CONCAT24(
                                                  in_stack_0000ffec,
                                                  CONCAT22(in_stack_0000ffea,in_stack_0000ffe8))))))
                   );
      puVar9 = puVar9 + (int)PTR_DAT_10a8_0000_10a8_5794;
      puVar16 = puVar16 + 1;
      ppiVar17 = ppiVar17 + 1;
      puVar15 = puVar15 + 1;
    } while (puVar15 < (undefined4 *)0x5ce);
    piVar5 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,unaff_SI,unaff_DI,
                          (int16)CONCAT214(iVar3,CONCAT212(iVar7,CONCAT210(puVar14,CONCAT28(iVar8,
                                                  CONCAT26(in_stack_0000ffec,
                                                           CONCAT24(in_stack_0000ffea,
                                                                    CONCAT22(in_stack_0000ffe8,
                                                                             in_stack_0000ffe6))))))
                                          ));
    puVar10 = puVar9 + 1;
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffe6,
                                                  CONCAT26(puVar9,CONCAT24(in_stack_0000ffea -
                                                                           in_stack_0000ffe6,0x100f0
                                                                          )))))),
           (int16)CONCAT214(iVar3,CONCAT212(iVar7,CONCAT210(puVar14,CONCAT28(iVar8,CONCAT26(
                                                  in_stack_0000ffec,
                                                  CONCAT24(in_stack_0000ffea,
                                                           CONCAT22(in_stack_0000ffe8,
                                                                    in_stack_0000ffe6))))))),
           (int16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                            CONCAT28(unaff_BP,CONCAT26(puVar18,CONCAT24(piVar5,CONCAT22(puVar16,
                                                  puVar15))))),
           (int16)CONCAT412((undefined4)param_7,
                            CONCAT210(param_6,CONCAT28(param_5,CONCAT44(param_4,CONCAT22(param_3,
                                                  param_2))))),
           CONCAT22(in_stack_00000018,param_7._4_2_));
    SELECTOBJECT(piVar5,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(iVar3,CONCAT212(iVar7,CONCAT210(puVar14,CONCAT28(iVar8,CONCAT26(
                                                  in_stack_0000ffec,
                                                  CONCAT24(in_stack_0000ffea,
                                                           CONCAT22(in_stack_0000ffe8,
                                                                    in_stack_0000ffe6))))))));
    SETRECT((RECT16 *)CONCAT22(iVar7,puVar10 + (int)PTR_DAT_10a8_0000_10a8_5794 * 2),
            (int16)CONCAT214(in_stack_0000ffe8,
                             CONCAT212(in_stack_0000ffe6,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,CONCAT24
                                                  (0x7b0a,CONCAT22(iVar3,puVar10))))))),
            (int16)CONCAT214(puVar16,CONCAT212(puVar15,CONCAT210(iVar3,CONCAT28(iVar7,CONCAT26(
                                                  puVar14,CONCAT24(iVar8,CONCAT22(in_stack_0000ffec,
                                                                                  in_stack_0000ffea)
                                                                  )))))),
            (int16)CONCAT412(_param_2,CONCAT66(CONCAT24(param_1,in_stack_00000000),
                                               CONCAT24(unaff_BP,CONCAT22(puVar18,piVar5)))),
            (int16)CONCAT214(in_stack_00000018,
                             CONCAT212(param_7._4_2_,
                                       CONCAT48((undefined4)param_7,
                                                CONCAT26(param_6,CONCAT24(param_5,param_4))))));
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT214(iVar3,CONCAT212(iVar7,CONCAT210(puVar14,CONCAT28(iVar8,CONCAT26(
                                                  in_stack_0000ffec,
                                                  CONCAT24(in_stack_0000ffea,
                                                           CONCAT22(in_stack_0000ffe8,
                                                                    in_stack_0000ffe6))))))));
      TEXTOUT(5,(int16)CONCAT214(in_stack_0000ffe6,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(
                                                  iVar3,CONCAT24(puVar10,0x10a80b3e)))))),
              (int16)CONCAT214(puVar15,CONCAT212(iVar3,CONCAT210(iVar7,CONCAT28(puVar14,CONCAT26(
                                                  iVar8,CONCAT24(in_stack_0000ffec,
                                                                 CONCAT22(in_stack_0000ffea,
                                                                          in_stack_0000ffe8))))))),
              (LPCSTR)CONCAT22(piVar5,puVar16),
              (int16)CONCAT214((undefined2)param_4,
                               CONCAT410(_param_2,CONCAT64(CONCAT24(param_1,in_stack_00000000),
                                                           CONCAT22(unaff_BP,puVar18)))));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT214(iVar3,CONCAT212(iVar7,CONCAT210(puVar14,CONCAT28(iVar8,CONCAT26(
                                                  in_stack_0000ffec,
                                                  CONCAT24(in_stack_0000ffea,
                                                           CONCAT22(in_stack_0000ffe8,
                                                                    in_stack_0000ffe6))))))));
    }
    iVar13 = (int)puVar14 * 2;
    pWVar6 = (VA_LIST16)
             FUN_1020_3842(iVar8,(int)s_From___s_c_c_10a8_10a2 + 6,(int)PTR_DAT_10a8_0001_10a8_00c0)
    ;
    piVar4 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xb4410a8,
                       (LPCSTR)(CONCAT22(CONCAT11((char)*(undefined2 *)(iVar8 + 0x1c),
                                                  (char)((uint)*(undefined2 *)(iVar8 + 0x1a) >> 8)),
                                         0x10a8) & 0xfffffff),pWVar6);
    FUN_1018_55f6(param_1,iVar7,(int)puVar10,(int)&DAT_10a8_86de,piVar4,iVar13,
                  CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffe6,
                  CONCAT212(iVar3,CONCAT210(iVar7,CONCAT28(puVar14,CONCAT26(iVar8,CONCAT24(
                                                  in_stack_0000ffec,
                                                  CONCAT22(in_stack_0000ffea,in_stack_0000ffe8))))))
                 );
    puVar10 = puVar10 + (int)PTR_DAT_10a8_0000_10a8_5794;
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT214(iVar3,CONCAT212(iVar7,CONCAT210(puVar14,CONCAT28(iVar8,CONCAT26(
                                                  in_stack_0000ffec,
                                                  CONCAT24(in_stack_0000ffea,
                                                           CONCAT22(in_stack_0000ffe8,
                                                                    in_stack_0000ffe6))))))));
      TEXTOUT(9,(int16)CONCAT214(in_stack_0000ffe6,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(
                                                  iVar3,CONCAT24(puVar10,0x10a80b4d)))))),
              (int16)CONCAT214(puVar15,CONCAT212(iVar3,CONCAT210(iVar7,CONCAT28(puVar14,CONCAT26(
                                                  iVar8,CONCAT24(in_stack_0000ffec,
                                                                 CONCAT22(in_stack_0000ffea,
                                                                          in_stack_0000ffe8))))))),
              (LPCSTR)CONCAT22(piVar5,puVar16),
              (int16)CONCAT214((undefined2)param_4,
                               CONCAT410(_param_2,CONCAT64(CONCAT24(param_1,in_stack_00000000),
                                                           CONCAT22(unaff_BP,puVar18)))));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT214(iVar3,CONCAT212(iVar7,CONCAT210(puVar14,CONCAT28(iVar8,CONCAT26(
                                                  in_stack_0000ffec,
                                                  CONCAT24(in_stack_0000ffea,
                                                           CONCAT22(in_stack_0000ffe8,
                                                                    in_stack_0000ffe6))))))));
    }
    iVar13 = (int)puVar14 * 2;
    pWVar6 = (VA_LIST16)
             FUN_1020_38de(iVar8,(int)s_From___s_c_c_10a8_10a2 + 6,(int)PTR_DAT_10a8_0001_10a8_00c0)
    ;
    piVar5 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xb5710a8,
                       (LPCSTR)CONCAT22(*(uint *)(iVar8 + 0x1c) >> 4,0x10a8),pWVar6);
    FUN_1018_55f6(param_1,iVar7,(int)puVar10,(int)&DAT_10a8_86de,piVar5,iVar13,
                  CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffe6,
                  CONCAT212(iVar3,CONCAT210(iVar7,CONCAT28(puVar14,CONCAT26(iVar8,CONCAT24(
                                                  in_stack_0000ffec,
                                                  CONCAT22(in_stack_0000ffea,in_stack_0000ffe8))))))
                 );
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1020_0d58(undefined *param_1,undefined2 *param_2,undefined6 param_3,dword param_4)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  int16 *piVar4;
  VA_LIST16 valist;
  uint uVar5;
  uint uVar6;
  VA_LIST16 pWVar7;
  int16 *__return_storage_ptr__;
  int16 *piVar8;
  undefined2 uVar9;
  undefined3 extraout_var;
  uint uVar10;
  uint uVar11;
  undefined2 unaff_BP;
  VA_LIST16 unaff_SI;
  int iVar12;
  HRGN16 unaff_DI;
  bool bVar13;
  dword dVar14;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined uVar15;
  undefined uVar16;
  undefined2 in_stack_0000ffde;
  int in_stack_0000ffe0;
  int in_stack_0000ffe2;
  int in_stack_0000ffe4;
  undefined2 in_stack_0000ffe6;
  uint in_stack_0000ffe8;
  byte in_stack_0000ffea;
  undefined in_stack_0000ffeb;
  int in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined2 in_stack_0000fff2;
  int iVar17;
  int iVar18;
  undefined2 in_stack_0000fff6;
  undefined2 in_stack_0000fffa;
  undefined *puVar19;
  undefined *puVar20;

  bVar1 = FUN_1020_0958(param_1,param_2,(undefined4 *)&stack0xffe0,0xb60,
                        CONCAT24(in_stack_0000ffde,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000ffe8,
                                 CONCAT26(in_stack_0000ffe6,
                                          CONCAT24(in_stack_0000ffe4,
                                                   CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0)))),
                        CONCAT22(in_stack_0000ffec,CONCAT11(in_stack_0000ffeb,in_stack_0000ffea)),
                        in_stack_0000ffee);
  if ((int)CONCAT31(extraout_var,bVar1) != 0) {
    iVar12 = in_stack_0000ffe0 + 4;
    iVar2 = in_stack_0000ffe4 + -4;
    iVar18 = in_stack_0000ffe2;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffec,
                                  CONCAT113(in_stack_0000ffeb,
                                            CONCAT112(in_stack_0000ffea,
                                                      CONCAT210(in_stack_0000ffe8,
                                                                CONCAT28(in_stack_0000ffe6,
                                                                         CONCAT26(in_stack_0000ffe4,
                                                                                  CONCAT24(
                                                  in_stack_0000ffe2,
                                                  CONCAT22(in_stack_0000ffe0,in_stack_0000ffde))))))
                                           )));
    dVar14 = GETTEXTEXTENT(0xf,s_Resources_Year_10a8_0b67,
                           (int16)CONCAT214(in_stack_0000ffe6,
                                            CONCAT212(in_stack_0000ffe4,
                                                      CONCAT210(in_stack_0000ffe2,
                                                                CONCAT28(in_stack_0000ffe0,
                                                                         CONCAT26(in_stack_0000ffde,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))))));
    iVar3 = -iVar12 - ((int)dVar14 - iVar2);
    uVar15 = (undefined)iVar12;
    uVar16 = (undefined)((uint)iVar12 >> 8);
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      TEXTOUT(10,(int16)CONCAT214(in_stack_0000ffde,
                                  CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar16,CONCAT16(uVar15,CONCAT24(iVar18,0x10a80b77)
                                                                 )))))),
              (int16)CONCAT214(in_stack_0000ffee,
                               CONCAT212(in_stack_0000ffec,
                                         CONCAT111(in_stack_0000ffeb,
                                                   CONCAT110(in_stack_0000ffea,
                                                             CONCAT28(in_stack_0000ffe8,
                                                                      CONCAT26(in_stack_0000ffe6,
                                                                               CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                                        )),(LPCSTR)CONCAT22(in_stack_0000fff2,in_stack_0000fff0),
              (int16)CONCAT214(in_stack_00000002,
                               CONCAT212(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(iVar18,CONCAT26(
                                                  in_stack_0000fffa,
                                                  CONCAT24(iVar2,CONCAT22(in_stack_0000fff6,iVar3)))
                                                  )))));
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffec,
                                  CONCAT113(in_stack_0000ffeb,
                                            CONCAT112(in_stack_0000ffea,
                                                      CONCAT210(in_stack_0000ffe8,
                                                                CONCAT28(in_stack_0000ffe6,
                                                                         CONCAT26(in_stack_0000ffe4,
                                                                                  CONCAT24(
                                                  in_stack_0000ffe2,
                                                  CONCAT22(in_stack_0000ffe0,in_stack_0000ffde))))))
                                           )));
    SETRECT((RECT16 *)CONCAT22(iVar2,PTR_DAT_10a8_0000_10a8_5794 + iVar18),
            (int16)CONCAT214(in_stack_0000ffe0,
                             CONCAT212(in_stack_0000ffde,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,CONCAT15
                                                  (0x7b,CONCAT14(0x1a,CONCAT22(iVar12,iVar18))))))))
            ,(int16)CONCAT214(in_stack_0000fff0,
                              CONCAT212(in_stack_0000ffee,
                                        CONCAT210(in_stack_0000ffec,
                                                  CONCAT19(in_stack_0000ffeb,
                                                           CONCAT18(in_stack_0000ffea,
                                                                    CONCAT26(in_stack_0000ffe8,
                                                                             CONCAT24(
                                                  in_stack_0000ffe6,
                                                  CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2))))))
                                       )),
            (int16)CONCAT214(in_stack_00000000,
                             CONCAT212(unaff_BP,CONCAT210(iVar18,CONCAT28(in_stack_0000fffa,
                                                                          CONCAT26(iVar2,CONCAT24(
                                                  in_stack_0000fff6,
                                                  CONCAT22(iVar3,in_stack_0000fff2))))))),
            (int16)CONCAT412(param_4,CONCAT66(param_3,CONCAT24(param_2,CONCAT22(param_1,
                                                  in_stack_00000002)))));
    iVar17 = iVar3;
    piVar4 = (int16 *)FUN_1018_525c((char *)&DAT_10a8_86de,_PTR_DAT_10a8_0000_10a8_7c08 * 100);
    FUN_1018_55f6(param_1,iVar2,iVar18,(int)&DAT_10a8_86de,piVar4,iVar3,CONCAT22(unaff_DI,unaff_SI),
                  in_stack_0000ffde,
                  CONCAT212(in_stack_0000ffec,
                            CONCAT111(in_stack_0000ffeb,
                                      CONCAT110(in_stack_0000ffea,
                                                CONCAT28(in_stack_0000ffe8,
                                                         CONCAT26(in_stack_0000ffe6,
                                                                  CONCAT24(in_stack_0000ffe4,
                                                                           CONCAT22(
                                                  in_stack_0000ffe2,in_stack_0000ffe0))))))));
    puVar19 = PTR_DAT_10a8_0000_10a8_5794 + iVar18;
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
      TEXTOUT(0xe,(int16)CONCAT214(in_stack_0000ffde,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar16,CONCAT16(uVar15,CONCAT24(puVar19,0x10a80b82
                                                                                 ))))))),
              (int16)CONCAT214(in_stack_0000ffee,
                               CONCAT212(in_stack_0000ffec,
                                         CONCAT111(in_stack_0000ffeb,
                                                   CONCAT110(in_stack_0000ffea,
                                                             CONCAT28(in_stack_0000ffe8,
                                                                      CONCAT26(in_stack_0000ffe6,
                                                                               CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                                        )),(LPCSTR)CONCAT22(in_stack_0000fff2,in_stack_0000fff0),
              (int16)CONCAT214(in_stack_00000002,
                               CONCAT212(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(puVar19,CONCAT26(
                                                  in_stack_0000fffa,
                                                  CONCAT24(iVar2,CONCAT22(in_stack_0000fff6,iVar17))
                                                  ))))));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
    }
    SETRECT((RECT16 *)CONCAT22(iVar2,puVar19 + (int)PTR_DAT_10a8_0000_10a8_5794),
            (int16)CONCAT214(in_stack_0000ffe0,
                             CONCAT212(in_stack_0000ffde,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,CONCAT15
                                                  (0x7b,CONCAT14(0x12,CONCAT22(iVar12,puVar19)))))))
                            ),
            (int16)CONCAT214(in_stack_0000fff0,
                             CONCAT212(in_stack_0000ffee,
                                       CONCAT210(in_stack_0000ffec,
                                                 CONCAT19(in_stack_0000ffeb,
                                                          CONCAT18(in_stack_0000ffea,
                                                                   CONCAT26(in_stack_0000ffe8,
                                                                            CONCAT24(
                                                  in_stack_0000ffe6,
                                                  CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2))))))
                                      )),
            (int16)CONCAT214(in_stack_00000000,
                             CONCAT212(unaff_BP,CONCAT210(puVar19,CONCAT28(in_stack_0000fffa,
                                                                           CONCAT26(iVar2,CONCAT24(
                                                  in_stack_0000fff6,
                                                  CONCAT22(iVar17,in_stack_0000fff2))))))),
            (int16)CONCAT412(param_4,CONCAT66(param_3,CONCAT24(param_2,CONCAT22(param_1,
                                                  in_stack_00000002)))));
    valist = (VA_LIST16)
             FUN_1020_39d0((int)&PTR_DAT_10a8_0000_10a8_7bd6,(int)s_From___s_c_c_10a8_10a2 + 6,
                           (int)PTR_DAT_10a8_0001_10a8_00c0);
    pWVar7 = valist;
    if ((_PTR_DAT_10a8_0000_10a8_7bf4 & 0x800000) == 0) {
      piVar4 = MULDIV((int16 *)&DAT_10a8_0064,
                      (int16)CONCAT214(in_stack_0000ffe4,
                                       CONCAT212(in_stack_0000ffe2,
                                                 CONCAT210(in_stack_0000ffe0,
                                                           CONCAT28(in_stack_0000ffde,
                                                                    CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(valist,(int)*(char *)((int)&
                                                  DAT_10a8_888a +
                                                  (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76)))))))),
                      (int16)CONCAT214(iVar17,CONCAT212(in_stack_0000fff2,
                                                        CONCAT210(in_stack_0000fff0,
                                                                  CONCAT28(in_stack_0000ffee,
                                                                           CONCAT26(
                                                  in_stack_0000ffec,
                                                  CONCAT15(in_stack_0000ffeb,
                                                           CONCAT14(in_stack_0000ffea,
                                                                    CONCAT22(in_stack_0000ffe8,
                                                                             in_stack_0000ffe6))))))
                                                  )),
                      (int16)CONCAT214(param_1,CONCAT212(in_stack_00000002,
                                                         CONCAT210(in_stack_00000000,
                                                                   CONCAT28(unaff_BP,CONCAT26(
                                                  puVar19,CONCAT24(valist,CONCAT22(iVar2,valist)))))
                                                  )));
      pWVar7 = (VA_LIST16)((int)pWVar7 - (int)piVar4);
    }
    iVar18 = iVar17;
    piVar4 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xb9110a8,(LPCSTR)CONCAT22(pWVar7,0x10a8),
                       valist);
    FUN_1018_55f6(param_1,iVar2,(int)puVar19,(int)&DAT_10a8_86de,piVar4,iVar17,
                  CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffde,
                  CONCAT212(in_stack_0000ffec,
                            CONCAT111(in_stack_0000ffeb,
                                      CONCAT110(in_stack_0000ffea,
                                                CONCAT28(in_stack_0000ffe8,
                                                         CONCAT26(in_stack_0000ffe6,
                                                                  CONCAT24(in_stack_0000ffe4,
                                                                           CONCAT22(
                                                  in_stack_0000ffe2,in_stack_0000ffe0))))))));
    puVar19 = puVar19 + (int)PTR_DAT_10a8_0000_10a8_5794;
    piVar4 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,(HRGN16)unaff_SI,
                          unaff_DI,(int16)CONCAT214(in_stack_0000ffec,
                                                    CONCAT113(in_stack_0000ffeb,
                                                              CONCAT112(in_stack_0000ffea,
                                                                        CONCAT210(in_stack_0000ffe8,
                                                                                  CONCAT28(
                                                  in_stack_0000ffe6,
                                                  CONCAT26(in_stack_0000ffe4,
                                                           CONCAT24(in_stack_0000ffe2,
                                                                    CONCAT22(in_stack_0000ffe0,
                                                                             in_stack_0000ffde))))))
                                                  )));
    puVar20 = puVar19 + 1;
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT19((char)((uint
                                                  )in_stack_0000ffe0 >> 8),
                                                  CONCAT18((char)in_stack_0000ffe0,
                                                           CONCAT26(puVar19,CONCAT24(
                                                  in_stack_0000ffe4 - in_stack_0000ffe0,0x100f0)))))
                                                  )),
           (int16)CONCAT214(in_stack_0000ffec,
                            CONCAT113(in_stack_0000ffeb,
                                      CONCAT112(in_stack_0000ffea,
                                                CONCAT210(in_stack_0000ffe8,
                                                          CONCAT28(in_stack_0000ffe6,
                                                                   CONCAT26(in_stack_0000ffe4,
                                                                            CONCAT24(
                                                  in_stack_0000ffe2,
                                                  CONCAT22(in_stack_0000ffe0,in_stack_0000ffde))))))
                                     )),
           (int16)CONCAT214(puVar20,CONCAT212(pWVar7,CONCAT210(iVar2,CONCAT28(valist,CONCAT26(iVar18
                                                  ,CONCAT24(piVar4,CONCAT22(in_stack_0000fff0,
                                                                            in_stack_0000ffee)))))))
           ,(int16)CONCAT88(CONCAT62(param_3,param_2),
                            CONCAT26(param_1,CONCAT24(in_stack_00000002,
                                                      CONCAT22(in_stack_00000000,unaff_BP)))),
           param_4);
    SELECTOBJECT(piVar4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffec,
                                  CONCAT113(in_stack_0000ffeb,
                                            CONCAT112(in_stack_0000ffea,
                                                      CONCAT210(in_stack_0000ffe8,
                                                                CONCAT28(in_stack_0000ffe6,
                                                                         CONCAT26(in_stack_0000ffe4,
                                                                                  CONCAT24(
                                                  in_stack_0000ffe2,
                                                  CONCAT22(in_stack_0000ffe0,in_stack_0000ffde))))))
                                           )));
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
      TEXTOUT(0xc,(int16)CONCAT214(in_stack_0000ffde,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar16,CONCAT16(uVar15,CONCAT24(puVar20,0x10a80b9a
                                                                                 ))))))),
              (int16)CONCAT214(in_stack_0000ffee,
                               CONCAT212(in_stack_0000ffec,
                                         CONCAT111(in_stack_0000ffeb,
                                                   CONCAT110(in_stack_0000ffea,
                                                             CONCAT28(in_stack_0000ffe8,
                                                                      CONCAT26(in_stack_0000ffe6,
                                                                               CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                                        )),(LPCSTR)CONCAT22(piVar4,in_stack_0000fff0),
              (int16)CONCAT214(in_stack_00000002,
                               CONCAT212(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(puVar20,CONCAT26(pWVar7,
                                                  CONCAT24(iVar2,CONCAT22(valist,iVar18))))))));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
    }
    SETRECT((RECT16 *)CONCAT22(iVar2,puVar20 + (int)PTR_DAT_10a8_0000_10a8_5794 * 2),
            (int16)CONCAT214(in_stack_0000ffe0,
                             CONCAT212(in_stack_0000ffde,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,CONCAT15
                                                  (0x7b,CONCAT14(0x2a,CONCAT22(iVar12,puVar20)))))))
                            ),
            (int16)CONCAT214(in_stack_0000fff0,
                             CONCAT212(in_stack_0000ffee,
                                       CONCAT210(in_stack_0000ffec,
                                                 CONCAT19(in_stack_0000ffeb,
                                                          CONCAT18(in_stack_0000ffea,
                                                                   CONCAT26(in_stack_0000ffe8,
                                                                            CONCAT24(
                                                  in_stack_0000ffe6,
                                                  CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2))))))
                                      )),
            (int16)CONCAT214(in_stack_00000000,
                             CONCAT212(unaff_BP,CONCAT210(puVar20,CONCAT28(pWVar7,CONCAT26(iVar2,
                                                  CONCAT24(valist,CONCAT22(iVar18,piVar4))))))),
            (int16)CONCAT412(param_4,CONCAT66(param_3,CONCAT24(param_2,CONCAT22(param_1,
                                                  in_stack_00000002)))));
    if ((_PTR_DAT_10a8_0000_10a8_7bf4 & 0x1f000) == 0x1f000) {
      piVar4 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xbac10a8,(LPCSTR)0xba710a8,
                         (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
      iVar17 = (int)&DAT_10a8_86de;
      iVar3 = 0;
    }
    else {
      in_stack_0000ffe8 = 0x8000;
      uVar10 = DAT_10a8_7bf6 * 2 +
               (uint)CARRY2((uint)PTR_DAT_10a8_0000_10a8_7bf4,(uint)PTR_DAT_10a8_0000_10a8_7bf4);
      uVar6 = (uint)(CARRY2(DAT_10a8_7bf6,DAT_10a8_7bf6) ||
                    CARRY2(DAT_10a8_7bf6 * 2,
                           (uint)CARRY2((uint)PTR_DAT_10a8_0000_10a8_7bf4,
                                        (uint)PTR_DAT_10a8_0000_10a8_7bf4)));
      uVar5 = (int)PTR_DAT_10a8_0000_10a8_7bf4 * 4 + uVar6;
      uVar6 = (uint)(CARRY2((int)PTR_DAT_10a8_0000_10a8_7bf4 * 2,
                            (int)PTR_DAT_10a8_0000_10a8_7bf4 * 2) ||
                    CARRY2((int)PTR_DAT_10a8_0000_10a8_7bf4 * 4,uVar6));
      uVar11 = uVar10 * 2 + uVar6;
      uVar6 = (uint)(CARRY2(uVar10,uVar10) || CARRY2(uVar10 * 2,uVar6));
      bVar13 = CARRY2(uVar5,uVar5) || CARRY2(uVar5 * 2,uVar6);
      uVar6 = uVar5 * 2 + uVar6;
      in_stack_0000ffea =
           ((char)(uVar11 * 2) + bVar13) * '\x02' +
           (CARRY2(uVar6,uVar6) ||
           CARRY2(uVar6 * 2,(uint)(CARRY2(uVar11,uVar11) || CARRY2(uVar11 * 2,(uint)bVar13)))) &
           0x1f;
      FUN_1060_32b2((uint *)&stack0xffe8);
      iVar17 = in_stack_0000ffec + 8;
      piVar4 = (int16 *)0x0;
      iVar3 = *(int *)(in_stack_0000ffec + 0x34);
    }
    FUN_1018_55f6(param_1,iVar2,(int)puVar20,iVar17,piVar4,iVar18,CONCAT22(unaff_DI,unaff_SI),
                  in_stack_0000ffde,
                  CONCAT212(in_stack_0000ffec,
                            CONCAT111(in_stack_0000ffeb,
                                      CONCAT110(in_stack_0000ffea,
                                                CONCAT28(in_stack_0000ffe8,
                                                         CONCAT26(in_stack_0000ffe6,
                                                                  CONCAT24(in_stack_0000ffe4,
                                                                           CONCAT22(
                                                  in_stack_0000ffe2,in_stack_0000ffe0))))))));
    puVar20 = puVar20 + (int)PTR_DAT_10a8_0000_10a8_5794;
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
      TEXTOUT(0xd,(int16)CONCAT214(in_stack_0000ffde,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar16,CONCAT16(uVar15,CONCAT24(puVar20,0x10a80baf
                                                                                 ))))))),
              (int16)CONCAT214(in_stack_0000ffee,
                               CONCAT212(in_stack_0000ffec,
                                         CONCAT111(in_stack_0000ffeb,
                                                   CONCAT110(in_stack_0000ffea,
                                                             CONCAT28(in_stack_0000ffe8,
                                                                      CONCAT26(in_stack_0000ffe6,
                                                                               CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                                        )),(LPCSTR)CONCAT22(iVar17,in_stack_0000fff0),
              (int16)CONCAT214(in_stack_00000002,
                               CONCAT212(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(puVar20,CONCAT26(iVar3,CONCAT24
                                                  (iVar2,CONCAT22(piVar4,iVar18))))))));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
    }
    if (iVar3 < 0) {
      pWVar7 = (VA_LIST16)-iVar3;
      piVar4 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xbbd10a8,
                         (LPCSTR)CONCAT13((char)((int)pWVar7 >> 9),
                                          CONCAT12((char)((int)pWVar7 >> 1),0x10a8)),pWVar7);
    }
    else {
      if (iVar3 < 100) {
        uVar9 = 0xbc8;
      }
      else {
        uVar9 = 0xbd7;
      }
      piVar4 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar9,0x10a8),
                         (LPCSTR)CONCAT22(iVar3,0x10a8),unaff_SI);
    }
    FUN_1018_55f6(param_1,iVar2,(int)puVar20,(int)&DAT_10a8_86de,piVar4,iVar18,
                  CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffde,
                  CONCAT212(in_stack_0000ffec,
                            CONCAT111(in_stack_0000ffeb,
                                      CONCAT110(in_stack_0000ffea,
                                                CONCAT28(in_stack_0000ffe8,
                                                         CONCAT26(in_stack_0000ffe6,
                                                                  CONCAT24(in_stack_0000ffe4,
                                                                           CONCAT22(
                                                  in_stack_0000ffe2,in_stack_0000ffe0))))))));
    puVar20 = puVar20 + (int)PTR_DAT_10a8_0000_10a8_5794;
    __return_storage_ptr__ =
         SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI
                      ,(int16)CONCAT214(in_stack_0000ffec,
                                        CONCAT113(in_stack_0000ffeb,
                                                  CONCAT112(in_stack_0000ffea,
                                                            CONCAT210(in_stack_0000ffe8,
                                                                      CONCAT28(in_stack_0000ffe6,
                                                                               CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
    puVar19 = puVar20 + 1;
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT19((char)((uint
                                                  )in_stack_0000ffe0 >> 8),
                                                  CONCAT18((char)in_stack_0000ffe0,
                                                           CONCAT26(puVar20,CONCAT24(
                                                  in_stack_0000ffe4 - in_stack_0000ffe0,0x100f0)))))
                                                  )),
           (int16)CONCAT214(in_stack_0000ffec,
                            CONCAT113(in_stack_0000ffeb,
                                      CONCAT112(in_stack_0000ffea,
                                                CONCAT210(in_stack_0000ffe8,
                                                          CONCAT28(in_stack_0000ffe6,
                                                                   CONCAT26(in_stack_0000ffe4,
                                                                            CONCAT24(
                                                  in_stack_0000ffe2,
                                                  CONCAT22(in_stack_0000ffe0,in_stack_0000ffde))))))
                                     )),
           (int16)CONCAT214(puVar19,CONCAT212(iVar3,CONCAT210(iVar2,CONCAT28(piVar4,CONCAT26(iVar18,
                                                  CONCAT24(__return_storage_ptr__,
                                                           CONCAT22(in_stack_0000fff0,
                                                                    in_stack_0000ffee))))))),
           (int16)CONCAT88(CONCAT62(param_3,param_2),
                           CONCAT26(param_1,CONCAT24(in_stack_00000002,
                                                     CONCAT22(in_stack_00000000,unaff_BP)))),param_4
          );
    SELECTOBJECT(__return_storage_ptr__,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffec,
                                  CONCAT113(in_stack_0000ffeb,
                                            CONCAT112(in_stack_0000ffea,
                                                      CONCAT210(in_stack_0000ffe8,
                                                                CONCAT28(in_stack_0000ffe6,
                                                                         CONCAT26(in_stack_0000ffe4,
                                                                                  CONCAT24(
                                                  in_stack_0000ffe2,
                                                  CONCAT22(in_stack_0000ffe0,in_stack_0000ffde))))))
                                           )));
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
      TEXTOUT(8,(int16)CONCAT214(in_stack_0000ffde,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar16,CONCAT16(uVar15,CONCAT24(puVar19,0x10a80bdf
                                                                                 ))))))),
              (int16)CONCAT214(in_stack_0000ffee,
                               CONCAT212(in_stack_0000ffec,
                                         CONCAT111(in_stack_0000ffeb,
                                                   CONCAT110(in_stack_0000ffea,
                                                             CONCAT28(in_stack_0000ffe8,
                                                                      CONCAT26(in_stack_0000ffe6,
                                                                               CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                                        )),
              (LPCSTR)CONCAT22(__return_storage_ptr__,in_stack_0000fff0),
              (int16)CONCAT214(in_stack_00000002,
                               CONCAT212(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(puVar19,CONCAT26(iVar3,CONCAT24
                                                  (iVar2,CONCAT22(piVar4,iVar18))))))));
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffec,
                                  CONCAT113(in_stack_0000ffeb,
                                            CONCAT112(in_stack_0000ffea,
                                                      CONCAT210(in_stack_0000ffe8,
                                                                CONCAT28(in_stack_0000ffe6,
                                                                         CONCAT26(in_stack_0000ffe4,
                                                                                  CONCAT24(
                                                  in_stack_0000ffe2,
                                                  CONCAT22(in_stack_0000ffe0,in_stack_0000ffde))))))
                                           )));
    SETRECT((RECT16 *)CONCAT22(iVar2,puVar19 + (int)PTR_DAT_10a8_0000_10a8_5794 * 3),
            (int16)CONCAT214(in_stack_0000ffe0,
                             CONCAT212(in_stack_0000ffde,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,CONCAT15
                                                  (0x7b,CONCAT14(0x22,CONCAT22(iVar12,puVar19)))))))
                            ),
            (int16)CONCAT214(in_stack_0000fff0,
                             CONCAT212(in_stack_0000ffee,
                                       CONCAT210(in_stack_0000ffec,
                                                 CONCAT19(in_stack_0000ffeb,
                                                          CONCAT18(in_stack_0000ffea,
                                                                   CONCAT26(in_stack_0000ffe8,
                                                                            CONCAT24(
                                                  in_stack_0000ffe6,
                                                  CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2))))))
                                      )),
            (int16)CONCAT214(in_stack_00000000,
                             CONCAT212(unaff_BP,CONCAT210(puVar19,CONCAT28(iVar3,CONCAT26(iVar2,
                                                  CONCAT24(piVar4,CONCAT22(iVar18,
                                                  __return_storage_ptr__))))))),
            (int16)CONCAT412(param_4,CONCAT66(param_3,CONCAT24(param_2,CONCAT22(param_1,
                                                  in_stack_00000002)))));
    iVar12 = iVar18;
    pWVar7 = (VA_LIST16)
             FUN_1020_3986((int)&PTR_DAT_10a8_0000_10a8_7bd6,(int)s_From___s_c_c_10a8_10a2 + 6,
                           (int)PTR_DAT_10a8_0001_10a8_00c0);
    piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xbe810a8,
                       (LPCSTR)CONCAT22((uint)PTR_DAT_10a8_0000_10a8_7bf4 & 0xff |
                                        ((byte)(_PTR_DAT_10a8_0000_10a8_7bf4 >> 8) & 0xf) << 8,
                                        0x10a8),pWVar7);
    FUN_1018_55f6(param_1,iVar2,(int)puVar19,(int)&DAT_10a8_86de,piVar8,iVar18,
                  CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffde,
                  CONCAT212(in_stack_0000ffec,
                            CONCAT111(in_stack_0000ffeb,
                                      CONCAT110(in_stack_0000ffea,
                                                CONCAT28(in_stack_0000ffe8,
                                                         CONCAT26(in_stack_0000ffe6,
                                                                  CONCAT24(in_stack_0000ffe4,
                                                                           CONCAT22(
                                                  in_stack_0000ffe2,in_stack_0000ffe0))))))));
    puVar19 = puVar19 + (int)PTR_DAT_10a8_0000_10a8_5794;
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
      TEXTOUT(0xc,(int16)CONCAT214(in_stack_0000ffde,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar16,CONCAT16(uVar15,CONCAT24(puVar19,0x10a80bf1
                                                                                 ))))))),
              (int16)CONCAT214(in_stack_0000ffee,
                               CONCAT212(in_stack_0000ffec,
                                         CONCAT111(in_stack_0000ffeb,
                                                   CONCAT110(in_stack_0000ffea,
                                                             CONCAT28(in_stack_0000ffe8,
                                                                      CONCAT26(in_stack_0000ffe6,
                                                                               CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                                        )),
              (LPCSTR)CONCAT22(__return_storage_ptr__,in_stack_0000fff0),
              (int16)CONCAT214(in_stack_00000002,
                               CONCAT212(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(puVar19,CONCAT26(iVar3,CONCAT24
                                                  (iVar2,CONCAT22(piVar4,iVar12))))))));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
    }
    bVar13 = (DAT_10a8_7bf6 & 0x3e) != 0x3e;
    if (bVar13) {
      in_stack_0000ffe8 = 0x8000;
      in_stack_0000ffea = ((byte)(DAT_10a8_7bf6 >> 1) & 0x1f) + 7;
      FUN_1060_32b2((uint *)&stack0xffe8);
      iVar18 = in_stack_0000ffec + 8;
      piVar4 = (int16 *)0x0;
    }
    else {
      piVar4 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xc0310a8,(LPCSTR)0xbfe10a8,
                         (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
      iVar18 = (int)&DAT_10a8_86de;
    }
    uVar6 = (uint)bVar13;
    FUN_1018_55f6(param_1,iVar2,(int)puVar19,iVar18,piVar4,iVar12,CONCAT22(unaff_DI,unaff_SI),
                  in_stack_0000ffde,
                  CONCAT212(in_stack_0000ffec,
                            CONCAT111(in_stack_0000ffeb,
                                      CONCAT110(in_stack_0000ffea,
                                                CONCAT28(in_stack_0000ffe8,
                                                         CONCAT26(in_stack_0000ffe6,
                                                                  CONCAT24(in_stack_0000ffe4,
                                                                           CONCAT22(
                                                  in_stack_0000ffe2,in_stack_0000ffe0))))))));
    puVar19 = puVar19 + (int)PTR_DAT_10a8_0000_10a8_5794;
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
      TEXTOUT(0xc,(int16)CONCAT214(in_stack_0000ffde,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar16,CONCAT16(uVar15,CONCAT24(puVar19,0x10a80c06
                                                                                 ))))))),
              (int16)CONCAT214(in_stack_0000ffee,
                               CONCAT212(in_stack_0000ffec,
                                         CONCAT111(in_stack_0000ffeb,
                                                   CONCAT110(in_stack_0000ffea,
                                                             CONCAT28(in_stack_0000ffe8,
                                                                      CONCAT26(in_stack_0000ffe6,
                                                                               CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                                        )),(LPCSTR)CONCAT22(iVar18,in_stack_0000fff0),
              (int16)CONCAT214(in_stack_00000002,
                               CONCAT212(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(puVar19,CONCAT26(uVar6,CONCAT24
                                                  (iVar2,CONCAT22(piVar4,iVar12))))))));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffec,
                                    CONCAT113(in_stack_0000ffeb,
                                              CONCAT112(in_stack_0000ffea,
                                                        CONCAT210(in_stack_0000ffe8,
                                                                  CONCAT28(in_stack_0000ffe6,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde)))))))));
    }
    if (uVar6 == 0) {
      pWVar7 = (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6);
      uVar15 = 0x1b;
      uVar16 = 0xc;
      uVar9 = 0xc20;
    }
    else {
      FUN_1010_020c(&PTR_DAT_10a8_0000_10a8_7bd6,(float *)&stack0xffee);
      uVar9 = FUN_10a0_0c14();
      in_stack_0000ffde = uVar9;
      pWVar7 = (VA_LIST16)FUN_10a0_0c14();
      uVar15 = (undefined)uVar9;
      uVar16 = (undefined)((uint)uVar9 >> 8);
      uVar9 = 0xc13;
    }
    piVar4 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar9,0x10a8),
                       (LPCSTR)CONCAT13(uVar16,CONCAT12(uVar15,0x10a8)),pWVar7);
    FUN_1018_55f6(param_1,iVar2,(int)puVar19,(int)&DAT_10a8_86de,piVar4,iVar12,
                  CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffde,
                  CONCAT212(in_stack_0000ffec,
                            CONCAT111(in_stack_0000ffeb,
                                      CONCAT110(in_stack_0000ffea,
                                                CONCAT28(in_stack_0000ffe8,
                                                         CONCAT26(in_stack_0000ffe6,
                                                                  CONCAT24(in_stack_0000ffe4,
                                                                           CONCAT22(
                                                  in_stack_0000ffe2,in_stack_0000ffe0))))))));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_12c6(undefined4 param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined2 uVar3;
  byte bVar4;
  int16 *piVar5;
  undefined3 extraout_var;
  int iVar6;
  undefined2 uVar7;
  HRGN16 unaff_SI;
  undefined4 *puVar8;
  HRGN16 unaff_DI;
  undefined4 *puVar9;
  RECT16 *unaff_SS;
  undefined2 uVar10;
  undefined *hbrush;
  int iVar11;
  int iVar12;
  undefined *puVar13;
  uint in_stack_0000ff76;
  undefined2 in_stack_0000ff78;
  undefined4 in_stack_0000ff7a;
  undefined2 in_stack_0000ff7e;
  undefined2 in_stack_0000ff80;
  dword in_stack_0000ff82;
  undefined2 in_stack_0000ff86;
  undefined2 in_stack_0000ff88;
  undefined2 in_stack_0000ff8a;
  undefined in_stack_0000ff8c [14];
  undefined2 in_stack_0000ff9a;
  undefined in_stack_0000ff9c [14];
  undefined4 local_16;
  int iStack_12;
  int iStack_10;
  undefined4 uStack_e;
  undefined4 uStack_a;
  int iStack_6;
  undefined *puStack_4;

  hbrush = (undefined *)param_1;
  bVar4 = FUN_1020_0958(hbrush,(undefined2 *)((ulong)param_1 >> 0x10),&local_16,0xc23,
                        CONCAT24(in_stack_0000ff76,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000ff80,
                                 CONCAT26(in_stack_0000ff7e,
                                          CONCAT42(in_stack_0000ff7a,in_stack_0000ff78))),
                        in_stack_0000ff82,in_stack_0000ff86);
  if ((int)CONCAT31(extraout_var,bVar4) == 0) {
    return;
  }
  iStack_6 = (int)local_16 + 4;
  puStack_4 = (undefined *)local_16._2_2_;
  SETRECT((RECT16 *)CONCAT22(iStack_12 + -2,iStack_10 + -2),
          (int16)CONCAT214(in_stack_0000ff78,
                           CONCAT212(in_stack_0000ff76,
                                     CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,CONCAT24
                                                  (&local_16,
                                                   CONCAT22((int)local_16 + 2,local_16._2_2_))))))),
          (int16)CONCAT214(in_stack_0000ff88,
                           CONCAT212(in_stack_0000ff86,
                                     CONCAT48(in_stack_0000ff82,
                                              CONCAT26(in_stack_0000ff80,
                                                       CONCAT24(in_stack_0000ff7e,in_stack_0000ff7a)
                                                      )))),
          (int16)CONCAT142(in_stack_0000ff8c,in_stack_0000ff8a),
          (int16)CONCAT142(in_stack_0000ff9c,in_stack_0000ff9a));
  FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_16,unaff_SS,(HBRUSH16)hbrush);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)hbrush,unaff_SI,unaff_DI,
               (int16)CONCAT412(in_stack_0000ff82,
                                CONCAT210(in_stack_0000ff80,
                                          CONCAT28(in_stack_0000ff7e,
                                                   CONCAT44(in_stack_0000ff7a,
                                                            CONCAT22(in_stack_0000ff78,
                                                                     in_stack_0000ff76))))));
  if (PTR_DAT_10a8_0000_10a8_7b58 == (undefined *)0x0) {
    return;
  }
  if (PTR_DAT_10a8_0000_10a8_7b58 == (undefined *)&DAT_10a8_0001) {
LAB_1020_13c0:
    FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_7b5c);
    uVar10 = *(undefined2 *)
              ((int)&PTR_DAT_10a8_0000_10a8_6238 + (int)PTR_DAT_10a8_0000_10a8_7b5c * 4);
    uVar7 = *(undefined2 *)
             ((int)&PTR_DAT_10a8_0000_10a8_623a + (int)PTR_DAT_10a8_0000_10a8_7b5c * 4);
  }
  else {
    if (PTR_DAT_10a8_0000_10a8_7b58 != (undefined *)&DAT_10a8_0002) {
      if (PTR_DAT_10a8_0000_10a8_7b52 != (undefined *)0x0) {
        uStack_a = *(undefined4 *)
                    (PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 4);
        FUN_1010_1784((byte)PTR_DAT_10a8_0000_10a8_7bc6
                            [(int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0xb] & 3,
                      *(uint *)(PTR_DAT_10a8_0000_10a8_7bc6 +
                               (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 8),uStack_a);
        goto LAB_1020_13e1;
      }
      if (PTR_DAT_10a8_0000_10a8_7b68 != (undefined *)0xffff) goto LAB_1020_13c0;
    }
    uVar10 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
    puVar8 = (undefined4 *)
             *(undefined2 *)
              ((int)PTR_DAT_10a8_0000_10a8_7b5e * 4 + (int)_PTR_DAT_10a8_0000_10a8_006e);
    uVar3 = *(undefined2 *)
             ((int)PTR_DAT_10a8_0000_10a8_7b5e * 4 + (int)_PTR_DAT_10a8_0000_10a8_006e + 2);
    puVar9 = (undefined4 *)&stack0xff76;
    uVar10 = in_stack_0000ff7e;
    uVar7 = in_stack_0000ff80;
    for (iVar6 = 0x1d; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      puVar1 = puVar8;
      puVar8 = puVar8 + 1;
      *puVar2 = *puVar1;
    }
    FUN_1010_0ffa(in_stack_0000ff76);
    in_stack_0000ff7e = uVar10;
    in_stack_0000ff80 = uVar7;
  }
  uStack_a = CONCAT22(uVar7,uVar10);
LAB_1020_13e1:
  uStack_e = _PTR_DAT_10a8_0000_10a8_7b48;
  iVar11 = (int)s_From___s_c_c_10a8_10a2 + 6;
  uVar10 = SUB42(&DAT_10a8_86de,0);
  iVar6 = (int)puStack_4;
  iVar12 = iStack_6;
  puVar13 = hbrush;
  piVar5 = LSTRLEN((int16 *)&DAT_10a8_86de,(LPCSTR)0x86de10a8);
  TEXTOUT((HDC16)piVar5,
          (int16)CONCAT214(in_stack_0000ff76,
                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(puVar13,CONCAT26(iVar12,
                                                  CONCAT24(iVar6,CONCAT22(iVar11,uVar10))))))),
          (int16)CONCAT214(in_stack_0000ff86,
                           CONCAT410(in_stack_0000ff82,
                                     CONCAT28(in_stack_0000ff80,
                                              CONCAT26(in_stack_0000ff7e,
                                                       CONCAT42(in_stack_0000ff7a,in_stack_0000ff78)
                                                      )))),
          (LPCSTR)CONCAT22(in_stack_0000ff8a,in_stack_0000ff88),
          (int16)CONCAT214(in_stack_0000ff9a,in_stack_0000ff8c));
  puStack_4 = PTR_DAT_10a8_0000_10a8_5794 + (int)puStack_4;
  FUN_1010_17f4(uStack_e,uStack_a);
  iVar12 = (int)s_From___s_c_c_10a8_10a2 + 6;
  uVar10 = SUB42(&DAT_10a8_86de,0);
  puVar13 = puStack_4;
  iVar6 = iStack_6;
  piVar5 = LSTRLEN((int16 *)&DAT_10a8_86de,(LPCSTR)0x86de10a8);
  TEXTOUT((HDC16)piVar5,
          (int16)CONCAT214(in_stack_0000ff76,
                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(hbrush,CONCAT26(iVar6,
                                                  CONCAT24(puVar13,CONCAT22(iVar12,uVar10))))))),
          (int16)CONCAT214(in_stack_0000ff86,
                           CONCAT410(in_stack_0000ff82,
                                     CONCAT28(in_stack_0000ff80,
                                              CONCAT26(in_stack_0000ff7e,
                                                       CONCAT42(in_stack_0000ff7a,in_stack_0000ff78)
                                                      )))),
          (LPCSTR)CONCAT22(in_stack_0000ff8a,in_stack_0000ff88),
          (int16)CONCAT214(in_stack_0000ff9a,in_stack_0000ff8c));
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_143c(ulong param_1,int param_2)

{
  byte *pbVar1;
  char *pcVar2;
  undefined *puVar3;
  undefined4 uVar4;
  byte bVar5;
  undefined extraout_AH;
  int iVar6;
  undefined *puVar7;
  char *pcVar8;
  HDC16 hdc;
  undefined *puVar9;
  uint uVar10;
  int16 *piVar11;
  HWND16 hwnd;
  HRGN16 unaff_SI;
  int iVar12;
  undefined2 *puVar13;
  HRGN16 unaff_DI;
  undefined2 unaff_SS;
  LRESULT LVar14;
  dword dVar15;
  undefined *puVar16;
  undefined2 uVar17;
  undefined *puVar18;
  int iVar19;
  undefined *puVar20;
  undefined2 in_stack_0000ffb8;
  undefined2 in_stack_0000ffba;
  WPARAM16 in_stack_0000ffbc;
  LPARAM in_stack_0000ffbe;
  undefined2 in_stack_0000ffc2;
  dword in_stack_0000ffc4;
  undefined2 in_stack_0000ffc8;
  LPCSTR in_stack_0000ffca;
  undefined in_stack_0000ffce [12];
  undefined4 in_stack_0000ffda;
  undefined4 in_stack_0000ffde;
  int in_stack_0000ffe2;
  int in_stack_0000ffe4;
  int iVar21;
  int in_stack_0000ffe6;
  undefined2 in_stack_0000ffe8;
  word in_stack_0000ffea;
  int iStack_14;
  int iStack_10;
  int iStack_e;
  HWND16 HStack_4;

  if ((*(byte *)((int)param_1._2_2_ + 0xb) & 8) != 0) {
    SHOWWINDOW(0,(int16)CONCAT412(in_stack_0000ffbe,
                                  CONCAT210(in_stack_0000ffbc,
                                            CONCAT28(in_stack_0000ffba,
                                                     CONCAT26(in_stack_0000ffb8,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_8346)))))));
    SHOWWINDOW(0,(int16)CONCAT412(in_stack_0000ffbe,
                                  CONCAT210(in_stack_0000ffbc,
                                            CONCAT28(in_stack_0000ffba,
                                                     CONCAT26(in_stack_0000ffb8,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_59be)))))));
    SHOWWINDOW(0,(int16)CONCAT412(in_stack_0000ffbe,
                                  CONCAT210(in_stack_0000ffbc,
                                            CONCAT28(in_stack_0000ffba,
                                                     CONCAT26(in_stack_0000ffb8,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_59c0)))))));
    pbVar1 = (byte *)((int)param_1._2_2_ + 0xb);
    *pbVar1 = *pbVar1 & 0xf7;
  }
  puVar9 = (undefined *)param_1;
  bVar5 = FUN_1020_0958(puVar9,param_1._2_2_,(undefined4 *)&stack0xffe2,0xc30,
                        CONCAT24(in_stack_0000ffb8,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000ffc2,
                                 CONCAT44(in_stack_0000ffbe,
                                          CONCAT22(in_stack_0000ffbc,in_stack_0000ffba))),
                        in_stack_0000ffc4,in_stack_0000ffc8);
  if (CONCAT11(extraout_AH,bVar5) == 0) {
    SHOWWINDOW(0,(int16)CONCAT412(in_stack_0000ffbe,
                                  CONCAT210(in_stack_0000ffbc,
                                            CONCAT28(in_stack_0000ffba,
                                                     CONCAT26(in_stack_0000ffb8,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_8346)))))));
    SHOWWINDOW(0,(int16)CONCAT412(in_stack_0000ffbe,
                                  CONCAT210(in_stack_0000ffbc,
                                            CONCAT28(in_stack_0000ffba,
                                                     CONCAT26(in_stack_0000ffb8,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_59be)))))));
    SHOWWINDOW(0,(int16)CONCAT412(in_stack_0000ffbe,
                                  CONCAT210(in_stack_0000ffbc,
                                            CONCAT28(in_stack_0000ffba,
                                                     CONCAT26(in_stack_0000ffb8,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_59c0)))))));
    return;
  }
  iVar12 = in_stack_0000ffe2 + 4;
  iVar6 = in_stack_0000ffe6 + -4;
  iVar21 = in_stack_0000ffe4;
  GETCLIENTRECT((HWND16)&stack0xffea,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_8346,unaff_SS));
  HStack_4 = 0x14;
  PTR_DAT_10a8_0000_10a8_0aa0 =
       (undefined *)
       (((-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 2) + 3) * (int)(PTR_DAT_10a8_0000_10a8_5794 + 2));
  puVar7 = (undefined *)(iVar6 - iVar12);
  puVar3 = puVar7;
  if (((puVar7 == PTR_DAT_10a8_0000_10a8_0a9e) &&
      (-1 < (int)(PTR_DAT_10a8_0000_10a8_0aa0 + (iStack_14 - iStack_10)))) &&
     ((int)(PTR_DAT_10a8_0000_10a8_0aa0 + (iStack_14 - iStack_10)) <
      (int)PTR_DAT_10a8_0000_10a8_5794)) {
    HStack_4 = 0x15;
    puVar3 = PTR_DAT_10a8_0000_10a8_0a9e;
  }
  PTR_DAT_10a8_0000_10a8_0a9e = puVar3;
  SETWINDOWPOS(HStack_4,(HWND16)PTR_DAT_10a8_0000_10a8_0aa0,
               (int16)CONCAT214(puVar7,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_8346,
                                                  (qword)CONCAT24(iVar12,CONCAT22(in_stack_0000ffe4
                                                                                  + 4,puVar7)))))),
               (int16)CONCAT214(in_stack_0000ffc8,
                                CONCAT410(in_stack_0000ffc4,
                                          CONCAT28(in_stack_0000ffc2,
                                                   CONCAT44(in_stack_0000ffbe,
                                                            CONCAT22(in_stack_0000ffbc,
                                                                     in_stack_0000ffba))))),
               (int16)CONCAT124(in_stack_0000ffce,in_stack_0000ffca),
               (int16)CONCAT214(in_stack_0000ffe8,
                                CONCAT212(in_stack_0000ffe6,
                                          CONCAT210(iVar21,CONCAT28(in_stack_0000ffe2,
                                                                    CONCAT44(in_stack_0000ffde,
                                                                             in_stack_0000ffda))))),
               in_stack_0000ffea);
  SHOWWINDOW(5,(int16)CONCAT412(in_stack_0000ffbe,
                                CONCAT210(in_stack_0000ffbc,
                                          CONCAT28(in_stack_0000ffba,
                                                   CONCAT26(puVar7,CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_8346)))))));
  GETCLIENTRECT((HWND16)&stack0xffea,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_8346,unaff_SS));
  PTR_DAT_10a8_0000_10a8_0aa0 = (undefined *)(iStack_10 - iStack_14);
  puVar3 = PTR_DAT_10a8_0000_10a8_0aa0 + in_stack_0000ffe4 + 8;
  LVar14 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffba,
                                           CONCAT212(puVar7,CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8346,0x40900000000
                                                          ))))),in_stack_0000ffbc,in_stack_0000ffbe)
  ;
  iStack_e = (int)LVar14;
  if (iStack_e < 0) {
    iStack_e = 0;
  }
  if ((*(long *)(param_2 + 0x38) == 0) ||
     (uVar4 = *(undefined4 *)(param_2 + 0x38), *(char *)((int)uVar4 + 3) == '\0')) {
    piVar11 = (int16 *)0x0;
    DAT_10a8_86de = 0;
  }
  else {
    pcVar8 = (char *)FUN_1020_16c0(CONCAT22(0x10a8,param_2),0,iStack_e,(VA_LIST16 *)0x0,
                                   (undefined2 *)0x0);
    uVar10 = 0xffff;
    do {
      if (uVar10 == 0) break;
      uVar10 = uVar10 - 1;
      pcVar2 = pcVar8;
      pcVar8 = pcVar8 + 1;
    } while (*pcVar2 != '\0');
    piVar11 = (int16 *)(~uVar10 - 1);
  }
  if (piVar11 == (int16 *)0x0) {
    piVar11 = (int16 *)0x0;
    puVar16 = puVar7;
  }
  else {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)puVar9,unaff_SI,unaff_DI,
                 (int16)CONCAT412(in_stack_0000ffc4,
                                  CONCAT210(in_stack_0000ffc2,
                                            CONCAT46(in_stack_0000ffbe,
                                                     CONCAT24(in_stack_0000ffbc,
                                                              CONCAT22(in_stack_0000ffba,puVar7)))))
                );
    puVar16 = &stack0xffba;
    uVar17 = unaff_SS;
    puVar18 = puVar3;
    iVar19 = iVar12;
    puVar20 = puVar9;
    hdc = FUN_1018_50de(0x173,&stack0xffba);
    TEXTOUT(hdc,(int16)CONCAT214(puVar7,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(puVar20,
                                                  CONCAT26(iVar19,CONCAT24(puVar18,CONCAT22(uVar17,
                                                  puVar16))))))),
            (int16)CONCAT214(in_stack_0000ffc8,
                             CONCAT410(in_stack_0000ffc4,
                                       CONCAT28(in_stack_0000ffc2,
                                                CONCAT44(in_stack_0000ffbe,
                                                         CONCAT22(in_stack_0000ffbc,
                                                                  in_stack_0000ffba))))),
            in_stack_0000ffca,(int16)CONCAT412(in_stack_0000ffda,in_stack_0000ffce));
    puVar16 = puVar7;
    dVar15 = GETTEXTEXTENT(hdc,(LPCSTR)CONCAT22(unaff_SS,&stack0xffba),
                           (int16)CONCAT412(in_stack_0000ffbe,
                                            CONCAT210(in_stack_0000ffbc,
                                                      CONCAT28(in_stack_0000ffba,
                                                               CONCAT26(puVar7,CONCAT24(unaff_DI,
                                                  param_1 & 0xffff | (ulong)unaff_SI << 0x10))))));
    puVar7 = (undefined *)(-iVar12 - ((int)dVar15 - iVar6));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)puVar9,unaff_SI,unaff_DI,
                 (int16)CONCAT412(in_stack_0000ffc4,
                                  CONCAT210(in_stack_0000ffc2,
                                            CONCAT46(in_stack_0000ffbe,
                                                     CONCAT24(in_stack_0000ffbc,
                                                              CONCAT22(in_stack_0000ffba,puVar16))))
                                 ));
  }
  FUN_1018_55f6(puVar9,iVar6,(int)puVar3,(int)&DAT_10a8_86de,piVar11,(int)puVar7,
                CONCAT22(unaff_DI,unaff_SI),puVar16,
                CONCAT410(in_stack_0000ffc4,
                          CONCAT28(in_stack_0000ffc2,
                                   CONCAT44(in_stack_0000ffbe,
                                            CONCAT22(in_stack_0000ffbc,in_stack_0000ffba)))));
  puVar3 = puVar3 + (int)PTR_DAT_10a8_0000_10a8_5794;
  puVar9 = puVar16 + -0x10;
  puVar13 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59be;
  do {
    SETWINDOWPOS(0x14,(HWND16)(PTR_DAT_10a8_0000_10a8_5794 + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1)
                              ),
                 (int16)CONCAT214(puVar16,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(*puVar13,(
                                                  qword)CONCAT24(iVar12,CONCAT22(puVar3,(int)puVar9
                                                                                        / 3)))))),
                 (int16)CONCAT214(in_stack_0000ffc8,
                                  CONCAT410(in_stack_0000ffc4,
                                            CONCAT28(in_stack_0000ffc2,
                                                     CONCAT44(in_stack_0000ffbe,
                                                              CONCAT22(in_stack_0000ffbc,
                                                                       in_stack_0000ffba))))),
                 (int16)CONCAT124(in_stack_0000ffce,in_stack_0000ffca),
                 (int16)CONCAT214(in_stack_0000ffe8,
                                  CONCAT212(in_stack_0000ffe6,
                                            CONCAT210(iVar21,CONCAT28(in_stack_0000ffe2,
                                                                      CONCAT44(in_stack_0000ffde,
                                                                               in_stack_0000ffda))))
                                 ),in_stack_0000ffea);
    SHOWWINDOW(5,(int16)CONCAT412(in_stack_0000ffbe,
                                  CONCAT210(in_stack_0000ffbc,
                                            CONCAT28(in_stack_0000ffba,
                                                     CONCAT26(puVar16,CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,*puVar13)))))));
    iVar12 = iVar12 + (int)puVar9 / 3 + 8;
    puVar13 = puVar13 + 1;
  } while (puVar13 < (undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_59c0 + 1));
  if ((_PTR_DAT_10a8_0000_10a8_7c0e == 0) ||
     (*(char *)((int)_PTR_DAT_10a8_0000_10a8_7c0e + 3) == '\0')) {
    hwnd = 0;
  }
  else {
    hwnd = 1;
  }
  ENABLEWINDOW(hwnd,(bool16)PTR_DAT_10a8_0000_10a8_59c0);
  return;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far
FUN_1020_16c0(ulong param_1,ulong param_2,int param_3,VA_LIST16 *param_4,undefined2 *param_5)

{
  long *plVar1;
  undefined2 *puVar2;
  char *pcVar3;
  undefined2 *puVar4;
  ulong *puVar5;
  ulong uVar6;
  ulong *puVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  uint uVar11;
  int iVar12;
  ulong *puVar13;
  VA_LIST16 unaff_SI;
  long *plVar14;
  VA_LIST16 unaff_DI;
  char *pcVar15;
  undefined2 *puVar16;
  undefined2 *puVar17;
  undefined2 uVar18;
  undefined2 unaff_SS;
  long local_60;
  long local_5c;
  ulong local_56;
  ulong local_52 [4];
  undefined4 local_42;
  long local_3e [4];
  ulong local_2e [4];
  ulong local_1e [4];
  int local_e;
  undefined4 local_c;
  undefined4 local_8;
  ulong *local_4;

  iVar9 = (int)param_1;
  uVar18 = (undefined2)(param_1 >> 0x10);
  if (param_2 == 0) {
    param_2 = *(ulong *)(iVar9 + 0x38);
  }
  puVar7 = local_1e;
  for (iVar8 = 4; iVar8 != 0; iVar8 = iVar8 + -1) {
    puVar5 = puVar7;
    puVar7 = puVar7 + 1;
    *puVar5 = 0;
  }
  local_e = 0;
  iVar8 = (int)param_2;
  if (-1 < param_3) {
    puVar7 = (ulong *)(iVar8 + 4);
    local_c = param_2 & 0xffff0000 | ZEXT24(puVar7);
    do {
      FUN_1068_1a7c((uint *)(local_c & 0xffff0000 | ZEXT24(puVar7)),(long *)local_2e,
                    (int)PTR_DAT_10a8_0001_10a8_00c0,(uint)(local_e == param_3));
      uVar6 = *puVar7;
      if ((*(uint *)((int)puVar7 + 2) & 0x7f0) != 0) {
        if (local_e == param_3) {
          uVar10 = 1;
        }
        else {
          local_52[0]._0_2_ = (uint)uVar6;
          uVar10 = (uint)local_52[0] & 0xff | ((byte)(uVar6 >> 8) & 3) << 8;
        }
        local_8 = (ulong)uVar10;
        puVar13 = local_2e;
        local_4 = puVar13;
        local_c = local_c & 0xffff0000 | ZEXT24(puVar7);
        do {
          puVar5 = puVar13;
          *puVar5 = *puVar5 - (long)(((qword)((*(uint *)((int)puVar7 + 2) & 0x7f0) >> 4) *
                                      (qword)(*puVar13 / local_8) & 0xffffffff) / 100);
          puVar13 = puVar13 + 1;
        } while (puVar13 < local_1e);
      }
      iVar12 = 0;
      local_c = local_c & 0xffff0000 | ZEXT24(puVar7);
      do {
        plVar1 = (long *)((int)local_1e + iVar12);
        *plVar1 = *plVar1 + *(long *)((int)local_2e + iVar12);
        iVar12 = iVar12 + 4;
      } while (iVar12 < 0x10);
      local_52[0] = *puVar7;
      if ((((*(uint *)((int)puVar7 + 2) & 0xe) == 2) && (((uint)local_52[0] & 0xfc00) == 0x2000)) &&
         ((local_52[0] & 0x10000) == 0)) {
        puVar13 = local_1e;
        uVar10 = *(uint *)puVar7;
        local_56 = local_52[0] & 0x10000 |
                   (ulong)(uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 3) << 8);
        do {
          puVar5 = puVar13;
          *puVar5 = *puVar5 - local_56;
          puVar13 = puVar13 + 1;
        } while (puVar13 < local_1e + 3);
      }
      puVar7 = puVar7 + 1;
      local_e = local_e + 1;
    } while (local_e <= param_3);
  }
  FUN_1068_1a7c((uint *)(param_2 & 0xffff0000 | (ulong)(param_3 * 4 + iVar8 + 4)),(long *)local_2e,
                (int)PTR_DAT_10a8_0001_10a8_00c0,1);
  local_c._2_2_ = (VA_LIST16)&DAT_10a8_0001;
  FUN_1008_9d54(param_1,local_3e,0xffff);
  local_8 = param_1 & 0xffff0000 | ZEXT24((long *)(iVar9 + 0x26));
  local_4 = (ulong *)0x4;
  iVar12 = 4;
  local_8._2_2_ = (VA_LIST16)((param_1 & 0xffff0000) >> 0x10);
  plVar14 = (long *)(iVar9 + 0x26);
  do {
    *(undefined4 *)((int)local_3e + iVar12 + -4) = *(undefined4 *)((int)local_3e + iVar12);
    local_5c = CONCAT22(*(undefined2 *)((int)local_3e + iVar12 + -2),
                        *(undefined2 *)((int)local_3e + iVar12 + -4));
    *(long *)((int)local_52 + iVar12) = *plVar14 + local_5c;
    iVar12 = iVar12 + 4;
    plVar14 = plVar14 + 1;
  } while (iVar12 < 0x10);
  iVar12 = FUN_1020_39d0(iVar9,uVar18,(int)PTR_DAT_10a8_0001_10a8_00c0);
  local_3e[3] = (long)iVar12;
  if ((*(uint *)(iVar9 + 0x20) & 0x80) == 0) {
    local_3e[3] = local_3e[3] -
                  (long)(((qword)(ulong)(long)(int)*(char *)((int)&DAT_10a8_888a +
                                                            (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76)
                          * (qword)(ulong)(long)iVar12 & 0xffffffff) / 100);
  }
  local_42 = local_3e[3];
LAB_1020_18ee:
  iVar12 = 0;
  iVar9 = 0;
  do {
    if (*(long *)((int)local_52 + iVar12 + 4) < *(long *)((int)local_1e + iVar12)) break;
    iVar9 = iVar9 + 1;
    iVar12 = iVar12 + 4;
  } while (iVar12 < 0x10);
  if (iVar9 != 4) goto code_r0x1020190f;
  local_8 = local_8 & 0xffff | ZEXT24(local_c._2_2_) << 0x10;
  local_4 = (ulong *)0x0;
  uVar10 = *(uint *)(param_3 * 4 + iVar8 + 4);
  uVar10 = uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 3) << 8;
  local_60 = CONCAT22(-(uint)(uVar10 == 0),uVar10 - 1);
  iVar9 = 0;
  do {
    plVar1 = (long *)((int)local_1e + iVar9);
    *plVar1 = *plVar1 + local_60 * *(long *)((int)local_2e + iVar9);
    iVar9 = iVar9 + 4;
  } while (iVar9 < 0x10);
  do {
    iVar8 = 0;
    iVar9 = 0;
    do {
      if (*(long *)((int)local_52 + iVar8 + 4) < *(long *)((int)local_1e + iVar8)) break;
      iVar9 = iVar9 + 1;
      iVar8 = iVar8 + 4;
    } while (iVar8 < 0x10);
    if (iVar9 == 4) goto LAB_1020_192f;
    iVar9 = 0;
    do {
      plVar1 = (long *)((int)local_52 + iVar9 + 4);
      *plVar1 = *plVar1 + *(long *)((int)local_3e + iVar9);
      iVar9 = iVar9 + 4;
    } while (iVar9 < 0x10);
    uVar6 = local_8 & 0xffff;
    local_8 = uVar6 | (ulong)((int)local_8._2_2_ + 1U) << 0x10;
    if ((int)local_8._2_2_ + 1U == 500) {
      local_8 = CONCAT22(0xffff,(int)uVar6);
      goto LAB_1020_192f;
    }
  } while( true );
code_r0x1020190f:
  iVar9 = 0;
  do {
    plVar1 = (long *)((int)local_52 + iVar9 + 4);
    *plVar1 = *plVar1 + *(long *)((int)local_3e + iVar9);
    iVar9 = iVar9 + 4;
  } while (iVar9 < 0x10);
  local_c._2_2_ = (VA_LIST16)((int)local_c._2_2_ + 1);
  if (local_c._2_2_ == (VA_LIST16)0x1f4) goto code_r0x1020192a;
  goto LAB_1020_18ee;
code_r0x1020192a:
  local_c._2_2_ = (VA_LIST16)0xffff;
LAB_1020_192f:
  if (local_c._2_2_ == (VA_LIST16)0xffff) {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xc3b10a8,(LPCSTR)CONCAT22(unaff_SI,0x10a8),unaff_DI);
  }
  else if (local_8._2_2_ == (VA_LIST16)0xffff) {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xc4110a8,(LPCSTR)CONCAT22(local_c._2_2_,0x10a8),
              unaff_SI);
  }
  else if (local_8._2_2_ == local_c._2_2_) {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xc5010a8,(LPCSTR)CONCAT22(local_c._2_2_,0x10a8),
              unaff_SI);
    if (local_c._2_2_ != (VA_LIST16)&DAT_10a8_0001) {
      pcVar15 = (char *)&DAT_10a8_0c58;
      uVar10 = 0xffff;
      do {
        if (uVar10 == 0) break;
        uVar10 = uVar10 - 1;
        pcVar3 = pcVar15;
        pcVar15 = pcVar15 + 1;
      } while (*pcVar3 != '\0');
      uVar10 = ~uVar10;
      puVar16 = (undefined2 *)(pcVar15 + -uVar10);
      pcVar15 = (char *)&DAT_10a8_86de;
      iVar9 = -1;
      do {
        if (iVar9 == 0) break;
        iVar9 = iVar9 + -1;
        pcVar3 = pcVar15;
        pcVar15 = pcVar15 + 1;
      } while (*pcVar3 != '\0');
      puVar17 = (undefined2 *)(pcVar15 + -1);
      for (uVar11 = uVar10 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
        puVar4 = puVar17;
        puVar17 = puVar17 + 1;
        puVar2 = puVar16;
        puVar16 = puVar16 + 1;
        *puVar4 = *puVar2;
      }
      for (uVar10 = (uint)((uVar10 & 1) != 0); uVar10 != 0; uVar10 = uVar10 - 1) {
        puVar4 = puVar17;
        puVar17 = (undefined2 *)((int)puVar17 + 1);
        puVar2 = puVar16;
        puVar16 = (undefined2 *)((int)puVar16 + 1);
        *(undefined *)puVar4 = *(undefined *)puVar2;
      }
    }
  }
  else {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xc5a10a8,(LPCSTR)CONCAT22(local_c._2_2_,0x10a8),
              local_8._2_2_);
  }
  if (param_4 != (VA_LIST16 *)0x0) {
    *param_4 = local_c._2_2_;
  }
  if (param_5 != (undefined2 *)0x0) {
    *param_5 = local_8._2_2_;
  }
  return (int)&DAT_10a8_86de;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1020_1a74(undefined *param_1,undefined2 *param_2,uint *param_3,undefined2 param_4,
             undefined2 param_5,void *param_6,bitmapinfo *param_7,undefined2 param_8,
             undefined2 param_9,undefined2 param_10,undefined2 param_11,undefined2 param_12,
             undefined2 param_13,word param_14,word param_15,dword param_16)

{
  byte *pbVar1;
  byte bVar2;
  undefined2 uVar3;
  undefined extraout_AH;
  int iVar4;
  int16 *__return_storage_ptr__;
  HWND16 hwndInsertAfter;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  undefined2 *puVar5;
  int iVar6;
  HRGN16 unaff_DI;
  int iVar7;
  undefined4 in_stack_00000000;
  void *in_stack_00000026;
  bitmapinfo *in_stack_00000028;
  uint16 in_stack_0000002a;
  dword in_stack_0000003a;
  int in_stack_0000ffee;
  int iVar8;
  int in_stack_0000fff0;
  int in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  int in_stack_0000fff8;
  undefined2 in_stack_0000fffa;

  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001) {
    uVar3 = FUN_1010_1074(*param_3);
    in_stack_0000fff8 = (int)*param_3 % 0x1b;
  }
  else {
    uVar3 = FUN_1010_0ffa(*param_3);
  }
  if ((*(byte *)((int)param_2 + 0xb) & 8) != 0) {
    puVar5 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59b2;
    do {
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fff6,
                                    CONCAT212(in_stack_0000fff4,
                                              CONCAT210(in_stack_0000fff2,
                                                        CONCAT28(in_stack_0000fff0,
                                                                 CONCAT26(in_stack_0000ffee,
                                                                          CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,*puVar5))))))));
      puVar5 = puVar5 + 1;
    } while (puVar5 < (undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_59b4 + 1));
    pbVar1 = (byte *)((int)param_2 + 0xb);
    *pbVar1 = *pbVar1 & 0xf7;
  }
  bVar2 = FUN_1020_0958(param_1,param_2,(undefined4 *)&stack0xffee,uVar3,
                        CONCAT24(in_stack_0000ffee,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000fff8,
                                 CONCAT26(in_stack_0000fff6,
                                          CONCAT24(in_stack_0000fff4,
                                                   CONCAT22(in_stack_0000fff2,in_stack_0000fff0)))),
                        CONCAT22(uVar3,in_stack_0000fffa),unaff_BP);
  if (CONCAT11(extraout_AH,bVar2) == 0) {
    puVar5 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59b2;
    do {
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fff6,
                                    CONCAT212(in_stack_0000fff4,
                                              CONCAT210(in_stack_0000fff2,
                                                        CONCAT28(in_stack_0000fff0,
                                                                 CONCAT26(in_stack_0000ffee,
                                                                          CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,*puVar5))))))));
      puVar5 = puVar5 + 1;
    } while (puVar5 < (undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_59b4 + 1));
    return;
  }
  iVar6 = in_stack_0000ffee + 0xc;
  iVar4 = in_stack_0000fff2 + -0xc;
  iVar7 = (-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 4) + 2 + in_stack_0000fff0;
  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
    FUN_1028_23ac((int)&PTR_DAT_10a8_0000_10a8_7b62,(int)s_From___s_c_c_10a8_10a2 + 6,
                  (HRGN16)param_1,iVar6,iVar7,1,-1,(void *)0x0,(bitmapinfo *)0x0,unaff_SI,unaff_DI,
                  in_stack_0000ffee,
                  (undefined1  [10])
                  CONCAT28(in_stack_0000fff8,
                           CONCAT26(in_stack_0000fff6,
                                    CONCAT24(in_stack_0000fff4,
                                             CONCAT22(in_stack_0000fff2,in_stack_0000fff0)))),
                  CONCAT22(iVar4,in_stack_0000fffa));
    iVar8 = in_stack_0000ffee;
  }
  else {
    iVar8 = in_stack_0000ffee;
    __return_storage_ptr__ =
         SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)param_1,unaff_SI,unaff_DI,
                      (int16)CONCAT214(iVar4,CONCAT212(in_stack_0000fffa,
                                                       CONCAT210(in_stack_0000fff8,
                                                                 CONCAT28(in_stack_0000fff6,
                                                                          CONCAT26(in_stack_0000fff4
                                                                                   ,CONCAT24(
                                                  in_stack_0000fff2,
                                                  CONCAT22(in_stack_0000fff0,in_stack_0000ffee))))))
                                      ));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar6,
                                                  CONCAT26(iVar7,0x46000200f0))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar6,
                                                  CONCAT26(iVar7 + 2,0x2004400f0))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                                  CONCAT210(in_stack_0000fff8,
                                                            CONCAT28(in_stack_0000fff6,
                                                                     CONCAT26(in_stack_0000fff4,
                                                                              CONCAT24(
                                                  in_stack_0000fff2,
                                                  CONCAT22(in_stack_0000fff0,iVar8))))))));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffee + 0xe,
                                                  CONCAT26(iVar7 + 0x44,0x44000200f0))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffee + 0x50,
                                                  CONCAT26(iVar7 + 2,0x2004200f0))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffee + 0xd,
                                                  CONCAT26(iVar7 + 0x45,0x1000100f0))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffee + 0x51,
                                                  CONCAT26(iVar7 + 1,0x1000100f0))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffee + 0xe,
                                                  CONCAT26(iVar7 + 2,0x4200010000))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffee + 0xe,
                                                  CONCAT26(iVar7 + 3,0x100410000))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffee + 0xf,
                                                  CONCAT26(iVar7 + 0x43,0x4100010000))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  in_stack_0000ffee + 0x4f,
                                                  CONCAT26(iVar7 + 3,0x100400000))))),
           (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                            CONCAT210(in_stack_0000fff8,
                                                      CONCAT28(in_stack_0000fff6,
                                                               CONCAT26(in_stack_0000fff4,
                                                                        CONCAT24(in_stack_0000fff2,
                                                                                 CONCAT22(
                                                  in_stack_0000fff0,iVar8))))))),
           (int16)CONCAT88(CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3,param_2))),
                           CONCAT62(CONCAT24(param_1,in_stack_00000000),unaff_BP)),
           (int16)CONCAT214(param_13,CONCAT212(param_12,CONCAT210(param_11,CONCAT28(param_10,
                                                  CONCAT26(param_9,CONCAT24(param_8,CONCAT22(param_7
                                                  ,param_6))))))),CONCAT22(param_15,param_14));
    SELECTOBJECT(__return_storage_ptr__,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(iVar4,CONCAT212(__return_storage_ptr__,
                                                  CONCAT210(in_stack_0000fff8,
                                                            CONCAT28(in_stack_0000fff6,
                                                                     CONCAT26(in_stack_0000fff4,
                                                                              CONCAT24(
                                                  in_stack_0000fff2,
                                                  CONCAT22(in_stack_0000fff0,iVar8))))))));
    SELECTPALETTE(0,(HPALETTE16)PTR_DAT_10a8_0000_10a8_839e,(bool16)param_1);
    REALIZEPALETTE((uint16 *)param_1,unaff_SI);
    if (5 < in_stack_0000fff8) {
      in_stack_0000fff8 = in_stack_0000fff8 + 1;
    }
    FUN_1018_6c46(param_1,in_stack_0000ffee + 0xf,iVar7 + 3,0x40,0x40,
                  (HGLOBAL16)PTR_DAT_10a8_0000_10a8_7b42,in_stack_0000fff8 % 7 << 6,
                  in_stack_0000fff8 / 7 << 6,0x40,0x40,0xcc0020,
                  CONCAT210(in_stack_0000fff4,
                            CONCAT28(in_stack_0000fff2,
                                     CONCAT26(in_stack_0000fff0,
                                              CONCAT24(iVar8,CONCAT22(unaff_DI,unaff_SI))))),
                  CONCAT22(in_stack_0000fff8,in_stack_0000fff6),
                  CONCAT66(CONCAT24(param_1,in_stack_00000000),
                           CONCAT24(unaff_BP,CONCAT22(iVar4,__return_storage_ptr__))),
                  (int16)CONCAT214(param_9,CONCAT212(param_8,CONCAT210(param_7,CONCAT28(param_6,
                                                  CONCAT26(param_5,CONCAT24(param_4,CONCAT22(param_3
                                                  ,param_2))))))),
                  (int16)CONCAT412(param_16,CONCAT210(param_15,CONCAT28(param_14,CONCAT26(param_13,
                                                  CONCAT24(param_12,CONCAT22(param_11,param_10))))))
                  ,in_stack_00000026,in_stack_00000028,in_stack_0000002a,in_stack_0000003a);
  }
  iVar6 = (iVar4 - iVar6) + -0x68;
  hwndInsertAfter = (int)PTR_DAT_10a8_0000_10a8_5794 * 3 >> 1;
  iVar4 = -(iVar6 - iVar4);
  if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
    uVar3 = SUB42(&PTR_DAT_10a8_0000_10a8_59b2,0);
    puVar5 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59b2;
    do {
      SETWINDOWPOS(0x14,hwndInsertAfter,
                   (int16)CONCAT214(iVar8,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(*puVar5,(
                                                  qword)CONCAT24(iVar4,CONCAT22(iVar7,iVar6)))))),
                   (int16)CONCAT214(unaff_BP,CONCAT212(uVar3,CONCAT210(hwndInsertAfter,
                                                                       CONCAT28(iVar6,CONCAT26(iVar4
                                                  ,CONCAT24(in_stack_0000fff4,
                                                            CONCAT22(in_stack_0000fff2,
                                                                     in_stack_0000fff0))))))),
                   (int16)CONCAT214(param_6,CONCAT212(param_5,CONCAT210(param_4,CONCAT28(param_3,
                                                  CONCAT26(param_2,CONCAT24(param_1,
                                                  in_stack_00000000)))))),
                   (int16)CONCAT214(param_14,CONCAT212(param_13,CONCAT210(param_12,CONCAT28(param_11
                                                  ,CONCAT26(param_10,CONCAT24(param_9,CONCAT22(
                                                  param_8,param_7))))))),param_15);
      SHOWWINDOW(5,(int16)CONCAT214(iVar4,CONCAT212(in_stack_0000fff4,
                                                    CONCAT210(in_stack_0000fff2,
                                                              CONCAT28(in_stack_0000fff0,
                                                                       CONCAT26(iVar8,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,*puVar5))))))));
      iVar7 = iVar7 + hwndInsertAfter + 8;
      puVar5 = puVar5 + 1;
    } while (puVar5 < (undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_59b4 + 1));
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_1d3a(undefined *param_1,undefined2 *param_2,int *param_3)

{
  byte *pbVar1;
  byte bVar2;
  undefined2 uVar3;
  undefined extraout_AH;
  int iVar4;
  uint hwnd;
  int iVar5;
  HWND16 hwnd_00;
  HRGN16 unaff_SI;
  undefined2 *puVar6;
  HRGN16 unaff_DI;
  int iVar7;
  RECT16 *unaff_SS;
  uint hwnd_01;
  undefined2 in_stack_0000ff62;
  undefined2 in_stack_0000ff64;
  WPARAM16 in_stack_0000ff66;
  undefined *in_stack_0000ff68;
  char in_stack_0000ff6a;
  undefined in_stack_0000ff6b;
  undefined2 in_stack_0000ff6c;
  dword in_stack_0000ff6e;
  undefined2 in_stack_0000ff72;
  undefined2 in_stack_0000ff74;
  undefined2 in_stack_0000ff76;
  undefined in_stack_0000ff78 [12];
  undefined2 in_stack_0000ff84;
  undefined2 in_stack_0000ff86;
  undefined in_stack_0000ff88 [12];
  word in_stack_0000ff94;
  int local_26;
  int iStack_24;
  int iStack_22;
  undefined4 local_1e;
  undefined4 uStack_1a;
  int iStack_16;
  uint uStack_14;
  int iStack_12;
  int *piStack_10;
  dword dStack_e;
  int iStack_a;
  int iStack_8;
  undefined *puStack_6;
  undefined *puStack_4;

  piStack_10 = param_3;
  iStack_16 = 0;
  if ((*(byte *)((int)param_2 + 0xb) & 8) != 0) {
    puVar6 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59aa;
    do {
      SHOWWINDOW(0,(int16)CONCAT115(in_stack_0000ff6b,
                                    CONCAT114(in_stack_0000ff6a,
                                              CONCAT212(in_stack_0000ff68,
                                                        CONCAT210(in_stack_0000ff66,
                                                                  CONCAT28(in_stack_0000ff64,
                                                                           CONCAT26(
                                                  in_stack_0000ff62,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,*puVar6)))))))
                                   ));
      puVar6 = puVar6 + 1;
    } while (puVar6 < (undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_59ae + 1));
    SHOWWINDOW(0,(int16)CONCAT115(in_stack_0000ff6b,
                                  CONCAT114(in_stack_0000ff6a,
                                            CONCAT212(in_stack_0000ff68,
                                                      CONCAT210(in_stack_0000ff66,
                                                                CONCAT28(in_stack_0000ff64,
                                                                         CONCAT26(in_stack_0000ff62,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_8398)))))
                                                  ))));
    pbVar1 = (byte *)((int)param_2 + 0xb);
    *pbVar1 = *pbVar1 & 0xf7;
    PTR_DAT_10a8_0000_10a8_7adc = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7af4 = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7ae0 = (undefined *)0xfffa;
    PTR_DAT_10a8_0000_10a8_7af8 = (undefined *)0xfffa;
  }
  if (piStack_10 == (int *)0x0) {
    uVar3 = 0xc68;
  }
  else {
    uVar3 = 0xc78;
  }
  bVar2 = FUN_1020_0958(param_1,param_2,(undefined4 *)&local_26,uVar3,
                        CONCAT24(in_stack_0000ff62,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000ff6c,
                                 CONCAT17(in_stack_0000ff6b,
                                          CONCAT16(in_stack_0000ff6a,
                                                   CONCAT24(in_stack_0000ff68,
                                                            CONCAT22(in_stack_0000ff66,
                                                                     in_stack_0000ff64))))),
                        in_stack_0000ff6e,in_stack_0000ff72);
  if (CONCAT11(extraout_AH,bVar2) != 0) {
    iStack_8 = local_26 + 4;
    iStack_a = iStack_22 + -4;
    puStack_6 = (undefined *)(iStack_24 + 2);
    puStack_4 = (undefined *)&PTR_DAT_10a8_0000_10a8_0014;
    if ((undefined *)(iStack_a - iStack_8) == PTR_DAT_10a8_0000_10a8_578e) {
      puStack_4 = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_0014 + 1);
    }
    else {
      PTR_DAT_10a8_0000_10a8_578e = (undefined *)(iStack_a - iStack_8);
    }
    iVar4 = iStack_a - iStack_8;
    SETWINDOWPOS((HWND16)puStack_4,(int)PTR_DAT_10a8_0000_10a8_579c * 5,
                 (int16)CONCAT214(in_stack_0000ff62,
                                  CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_8398,
                                                  (qword)CONCAT24(iStack_8,CONCAT22(puStack_6,iVar4)
                                                                 ))))),
                 (int16)CONCAT214(in_stack_0000ff72,
                                  CONCAT410(in_stack_0000ff6e,
                                            CONCAT28(in_stack_0000ff6c,
                                                     CONCAT17(in_stack_0000ff6b,
                                                              CONCAT16(in_stack_0000ff6a,
                                                                       CONCAT24(in_stack_0000ff68,
                                                                                CONCAT22(
                                                  in_stack_0000ff66,iVar4))))))),
                 (int16)CONCAT124(in_stack_0000ff78,CONCAT22(in_stack_0000ff76,in_stack_0000ff74)),
                 (int16)CONCAT124(in_stack_0000ff88,CONCAT22(in_stack_0000ff86,in_stack_0000ff84)),
                 in_stack_0000ff94);
    SHOWWINDOW(5,(int16)CONCAT115(in_stack_0000ff6b,
                                  CONCAT114(in_stack_0000ff6a,
                                            CONCAT212(in_stack_0000ff68,
                                                      CONCAT210(in_stack_0000ff66,
                                                                CONCAT28(iVar4,CONCAT26(
                                                  in_stack_0000ff62,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_8398)))))))));
    puStack_6 = PTR_DAT_10a8_0000_10a8_579c + (int)puStack_6 + 3;
    dStack_e = SENDMESSAGE(0,(uint16)CONCAT214(iVar4,CONCAT212(in_stack_0000ff62,
                                                               CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8398,0x40700000000
                                                          ))))),in_stack_0000ff66,
                           CONCAT13(in_stack_0000ff6b,CONCAT12(in_stack_0000ff6a,in_stack_0000ff68))
                          );
    hwnd = (uint)(dStack_e != 0xffffffff);
    ENABLEWINDOW(hwnd,(bool16)PTR_DAT_10a8_0000_10a8_59aa);
    if (dStack_e == 0xffffffff) {
      iStack_16 = 1;
    }
    if (piStack_10 == (int *)0x0) {
      iStack_12 = -1;
    }
    else {
      iStack_12 = *piStack_10;
    }
    if (iStack_16 == 0) {
      puStack_4 = PTR_DAT_10a8_0000_10a8_7bd6;
      if (iStack_12 != -1) {
        puStack_4 = (undefined *)piStack_10[3];
      }
      iVar5 = FUN_1010_0f50((int)puStack_4,(int)dStack_e,(undefined4 *)&stack0xff66,iStack_12);
      if (iVar5 == 0) {
        iStack_16 = 1;
      }
    }
    hwnd_01 = hwnd;
    if (iStack_16 == 0) {
      hwnd_01 = (uint)(in_stack_0000ff68 == PTR_DAT_10a8_0001_10a8_00c0);
    }
    ENABLEWINDOW(hwnd_01,(bool16)PTR_DAT_10a8_0000_10a8_59ac);
    PTR_DAT_10a8_0000_10a8_7adc = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7af4 = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7ae0 = (undefined *)0xfffa;
    PTR_DAT_10a8_0000_10a8_7af8 = (undefined *)0xfffa;
    uStack_14 = (uint)(in_stack_0000ff6a != '\a');
    if ((DAT_10a8_0a48 & 0x40) == 0) {
      if ((iStack_16 == 0) && (uStack_14 == 0)) {
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                     (int16)CONCAT412(in_stack_0000ff6e,
                                      CONCAT210(in_stack_0000ff6c,
                                                CONCAT19(in_stack_0000ff6b,
                                                         CONCAT18(in_stack_0000ff6a,
                                                                  CONCAT26(in_stack_0000ff68,
                                                                           CONCAT24(
                                                  in_stack_0000ff66,CONCAT22(iVar4,hwnd))))))));
        dStack_e = GETTEXTEXTENT(6,s_Cargo_10a8_0c8a,
                                 (int16)CONCAT115(in_stack_0000ff6b,
                                                  CONCAT114(in_stack_0000ff6a,
                                                            CONCAT212(in_stack_0000ff68,
                                                                      CONCAT210(in_stack_0000ff66,
                                                                                CONCAT28(iVar4,
                                                  CONCAT26(hwnd,CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_1)))))))));
        TEXTOUT(5,(int16)CONCAT214(hwnd,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26(iStack_8,CONCAT24(puStack_6,0x10a80c91)))
                                                  ))),
                (int16)CONCAT214(in_stack_0000ff72,
                                 CONCAT410(in_stack_0000ff6e,
                                           CONCAT28(in_stack_0000ff6c,
                                                    CONCAT17(in_stack_0000ff6b,
                                                             CONCAT16(in_stack_0000ff6a,
                                                                      CONCAT24(in_stack_0000ff68,
                                                                               CONCAT22(
                                                  in_stack_0000ff66,iVar4))))))),
                (LPCSTR)CONCAT22(in_stack_0000ff76,in_stack_0000ff74),
                (int16)CONCAT214(in_stack_0000ff86,CONCAT212(in_stack_0000ff84,in_stack_0000ff78)));
        SETRECT((RECT16 *)CONCAT22(iStack_a,puStack_6 + (int)PTR_DAT_10a8_0000_10a8_5794),
                (int16)CONCAT214(iVar4,CONCAT212(hwnd,CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  unaff_SS,CONCAT24(&local_1e,
                                                                    CONCAT22((int)dStack_e +
                                                                             iStack_8,puStack_6)))))
                                                )),
                (int16)CONCAT214(in_stack_0000ff74,
                                 CONCAT212(in_stack_0000ff72,
                                           CONCAT48(in_stack_0000ff6e,
                                                    CONCAT26(in_stack_0000ff6c,
                                                             CONCAT15(in_stack_0000ff6b,
                                                                      CONCAT14(in_stack_0000ff6a,
                                                                               CONCAT22(
                                                  in_stack_0000ff68,in_stack_0000ff66))))))),
                (int16)CONCAT214(in_stack_0000ff84,CONCAT122(in_stack_0000ff78,in_stack_0000ff76)),
                (int16)CONCAT214(in_stack_0000ff94,CONCAT122(in_stack_0000ff88,in_stack_0000ff86)));
        PTR_DAT_10a8_0000_10a8_7adc = local_1e._2_2_;
        PTR_DAT_10a8_0000_10a8_7ae0 = uStack_1a._2_2_;
        FUN_1028_21d4(CONCAT22(&local_1e,param_1),(uint)&stack0xff66,(uint)unaff_SS,0);
      }
      else if (((*(byte *)((int)param_2 + 0xb) & 0x10) != 0) || ((_DAT_10a8_0a46 & 1) != uStack_14))
      {
        SETRECT((RECT16 *)CONCAT22(iStack_a,puStack_6 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 4) * 2),
                (int16)CONCAT214(iVar4,CONCAT212(hwnd,CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  unaff_SS,CONCAT24(&local_1e,
                                                                    CONCAT22(iStack_8,puStack_6)))))
                                                )),
                (int16)CONCAT214(in_stack_0000ff74,
                                 CONCAT212(in_stack_0000ff72,
                                           CONCAT48(in_stack_0000ff6e,
                                                    CONCAT26(in_stack_0000ff6c,
                                                             CONCAT15(in_stack_0000ff6b,
                                                                      CONCAT14(in_stack_0000ff6a,
                                                                               CONCAT22(
                                                  in_stack_0000ff68,in_stack_0000ff66))))))),
                (int16)CONCAT214(in_stack_0000ff84,CONCAT122(in_stack_0000ff78,in_stack_0000ff76)),
                (int16)CONCAT214(in_stack_0000ff94,CONCAT122(in_stack_0000ff88,in_stack_0000ff86)));
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_1e,unaff_SS,(HBRUSH16)param_1);
      }
      _DAT_10a8_0a46 = _DAT_10a8_0a46 ^ ((byte)uStack_14 ^ DAT_10a8_0a46) & 1;
      puStack_6 = puStack_6 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 4);
      if ((iStack_16 == 0) && (uStack_14 == 0)) {
        TEXTOUT(6,(int16)CONCAT214(hwnd,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26(iStack_8,CONCAT24(puStack_6,0x10a80c97)))
                                                  ))),
                (int16)CONCAT214(in_stack_0000ff72,
                                 CONCAT410(in_stack_0000ff6e,
                                           CONCAT28(in_stack_0000ff6c,
                                                    CONCAT17(in_stack_0000ff6b,
                                                             CONCAT16(in_stack_0000ff6a,
                                                                      CONCAT24(in_stack_0000ff68,
                                                                               CONCAT22(
                                                  in_stack_0000ff66,iVar4))))))),
                (LPCSTR)CONCAT22(in_stack_0000ff76,in_stack_0000ff74),
                (int16)CONCAT214(in_stack_0000ff86,CONCAT212(in_stack_0000ff84,in_stack_0000ff78)));
        SETRECT((RECT16 *)CONCAT22(iStack_a,puStack_6 + (int)PTR_DAT_10a8_0000_10a8_5794),
                (int16)CONCAT214(iVar4,CONCAT212(hwnd,CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  unaff_SS,CONCAT24(&local_1e,
                                                                    CONCAT22((int)dStack_e +
                                                                             iStack_8,puStack_6)))))
                                                )),
                (int16)CONCAT214(in_stack_0000ff74,
                                 CONCAT212(in_stack_0000ff72,
                                           CONCAT48(in_stack_0000ff6e,
                                                    CONCAT26(in_stack_0000ff6c,
                                                             CONCAT15(in_stack_0000ff6b,
                                                                      CONCAT14(in_stack_0000ff6a,
                                                                               CONCAT22(
                                                  in_stack_0000ff68,in_stack_0000ff66))))))),
                (int16)CONCAT214(in_stack_0000ff84,CONCAT122(in_stack_0000ff78,in_stack_0000ff76)),
                (int16)CONCAT214(in_stack_0000ff94,CONCAT122(in_stack_0000ff88,in_stack_0000ff86)));
        PTR_DAT_10a8_0000_10a8_7af4 = local_1e._2_2_;
        PTR_DAT_10a8_0000_10a8_7af8 = uStack_1a._2_2_;
        FUN_1028_21d4(CONCAT22(&local_1e,param_1),(uint)&stack0xff66,(uint)unaff_SS,5);
      }
      puStack_6 = puStack_6 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 4);
    }
    puStack_4 = (undefined *)((iVar4 + -0x10) / 3);
    iVar5 = 0;
    iVar7 = iStack_8;
    do {
      SETWINDOWPOS(0x14,(HWND16)(PTR_DAT_10a8_0000_10a8_5794 +
                                ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1)),
                   (int16)CONCAT214(hwnd,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(*(undefined2
                                                                                          *)((int)&
                                                  PTR_DAT_10a8_0000_10a8_59aa +
                                                  ((iVar5 + 1) % 3) * 2),
                                                  (qword)CONCAT24(iVar7,CONCAT22(puStack_6,puStack_4
                                                                                )))))),
                   (int16)CONCAT214(in_stack_0000ff72,
                                    CONCAT410(in_stack_0000ff6e,
                                              CONCAT28(in_stack_0000ff6c,
                                                       CONCAT17(in_stack_0000ff6b,
                                                                CONCAT16(in_stack_0000ff6a,
                                                                         CONCAT24(in_stack_0000ff68,
                                                                                  CONCAT22(
                                                  in_stack_0000ff66,iVar4))))))),
                   (int16)CONCAT124(in_stack_0000ff78,CONCAT22(in_stack_0000ff76,in_stack_0000ff74))
                   ,(int16)CONCAT124(in_stack_0000ff88,CONCAT22(in_stack_0000ff86,in_stack_0000ff84)
                                    ),in_stack_0000ff94);
      if ((iVar5 != 2) || (piStack_10 != (int *)0x0)) {
        SHOWWINDOW(5,(int16)CONCAT115(in_stack_0000ff6b,
                                      CONCAT114(in_stack_0000ff6a,
                                                CONCAT212(in_stack_0000ff68,
                                                          CONCAT210(in_stack_0000ff66,
                                                                    CONCAT28(iVar4,CONCAT26(hwnd,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,*(undefined2 *
                                                                                       )((int)&
                                                  PTR_DAT_10a8_0000_10a8_59aa + iVar5 * 2))))))))));
      }
      iVar7 = iVar7 + (int)puStack_4 + 8;
      iVar5 = iVar5 + 1;
    } while (iVar5 < 3);
    if ((iStack_12 == -1) || (uStack_14 == 0)) {
      hwnd_00 = 1;
    }
    else {
      hwnd_00 = 0;
    }
    ENABLEWINDOW(hwnd_00,(bool16)PTR_DAT_10a8_0000_10a8_59ae);
    return;
  }
  puVar6 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59aa;
  do {
    SHOWWINDOW(0,(int16)CONCAT115(in_stack_0000ff6b,
                                  CONCAT114(in_stack_0000ff6a,
                                            CONCAT212(in_stack_0000ff68,
                                                      CONCAT210(in_stack_0000ff66,
                                                                CONCAT28(in_stack_0000ff64,
                                                                         CONCAT26(in_stack_0000ff62,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,*puVar6)))))))));
    puVar6 = puVar6 + 1;
  } while (puVar6 < (undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_59ae + 1));
  SHOWWINDOW(0,(int16)CONCAT115(in_stack_0000ff6b,
                                CONCAT114(in_stack_0000ff6a,
                                          CONCAT212(in_stack_0000ff68,
                                                    CONCAT210(in_stack_0000ff66,
                                                              CONCAT28(in_stack_0000ff64,
                                                                       CONCAT26(in_stack_0000ff62,
                                                                                CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_8398)))))
                                                  ))));
  return;
}



void __cdecl16far FUN_1020_2106(void)

{
  undefined2 uVar1;
  undefined *hwnd;
  undefined2 unaff_SS;
  undefined2 in_stack_00000004;
  undefined local_20 [30];

  hwnd = (undefined *)s_Planet_View_10a8_0c9e;
  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001) {
    uVar1 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_7bd6);
    LSTRCPY((dword)s_Planet_10a8_0caa,(LPCSTR)CONCAT22(unaff_SS,local_20));
    LSTRCAT(CONCAT22(0x10a8,uVar1),(LPCSTR)CONCAT22(unaff_SS,local_20));
    hwnd = local_20;
  }
  else if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
    hwnd = (undefined *)FUN_1010_0ffa((uint)PTR_DAT_10a8_0000_10a8_7b62);
  }
  SETWINDOWTEXT((HWND16)hwnd,CONCAT22(in_stack_00000004,0x10a8));
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_2164(undefined *param_1,undefined *param_2)

{
  int *piVar1;
  undefined2 uVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  undefined4 *puVar7;
  undefined2 unaff_SI;
  undefined4 *puVar8;
  undefined2 *puVar9;
  bool16 unaff_SS;
  bool16 erase;
  undefined uVar10;
  undefined uVar11;
  undefined uVar12;
  undefined uVar13;
  undefined uVar14;
  undefined *puVar15;
  undefined2 in_stack_0000fff6;
  WPARAM16 in_stack_0000fff8;
  undefined4 *in_stack_0000fffa;
  uint in_stack_0000fffc;

  erase = (int)s_From___s_c_c_10a8_10a2 + 6;
  uVar13 = (undefined)unaff_SI;
  uVar14 = (undefined)((uint)unaff_SI >> 8);
  puVar15 = (undefined *)0xffff;
  uVar4 = (uint)(PTR_DAT_10a8_0000_10a8_7b4c == param_1);
  if (((PTR_DAT_10a8_0000_10a8_4b7e != (undefined *)0x0) && (uVar4 != 0)) &&
     (param_2 == PTR_DAT_10a8_0000_10a8_7b50)) {
    return;
  }
  if (param_1 == (undefined *)&DAT_10a8_0001) {
    iVar5 = FUN_1010_02b0((int)param_2,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bd6);
    if (iVar5 == 0) {
      return;
    }
    _PTR_DAT_10a8_0000_10a8_7b48 =
         *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + (int)param_2 * 4);
    PTR_DAT_10a8_0000_10a8_7b60 = (undefined *)0xffff;
    PTR_DAT_10a8_0000_10a8_7b52 = (undefined *)0xffff;
    iVar5 = 0;
    puVar7 = (undefined4 *)PTR_DAT_10a8_0000_10a8_006e;
    puVar8 = in_stack_0000fffa;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
      do {
        uVar3 = *puVar7;
        in_stack_0000fffc = (uint)((ulong)uVar3 >> 0x10);
        puVar8 = (undefined4 *)uVar3;
        erase = unaff_SS;
        if (((in_stack_0000fffc | (uint)puVar8) == 0) ||
           (((undefined *)*(int *)((int)puVar8 + 6) == param_2 &&
            (*(int *)((int)puVar8 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0)))) break;
        iVar5 = iVar5 + 1;
        piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_83c6;
        puVar7 = puVar7 + 1;
      } while (*piVar1 != iVar5 && iVar5 <= *piVar1);
    }
    if (iVar5 == *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
      *(undefined2 *)&PTR_DAT_10a8_0000_10a8_7b62 = 0xffff;
      *(undefined2 *)&PTR_DAT_10a8_0000_10a8_7b4e = 1;
    }
    else {
      FUN_1010_0e1e(puVar8,in_stack_0000fffc,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
      *(undefined2 *)&PTR_DAT_10a8_0000_10a8_7b4e = 3;
    }
    if (*(int *)&PTR_DAT_10a8_0000_10a8_4b7e != 0) goto LAB_1020_22e9;
    FUN_1020_3370((undefined *)0x0,0);
    uVar2 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_8346;
    uVar11 = (undefined)uVar2;
    uVar12 = (undefined)((uint)uVar2 >> 8);
    uVar6 = 0;
    uVar10 = 7;
  }
  else {
    iVar5 = FUN_1010_0cda((uint)param_2,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
    if (iVar5 == 0) {
      return;
    }
    _PTR_DAT_10a8_0000_10a8_7b48 = _PTR_DAT_10a8_0000_10a8_7b6a;
    if ((PTR_DAT_10a8_0000_10a8_7b68 == (undefined *)0xffff) ||
       ((PTR_DAT_10a8_0000_10a8_7b68 != PTR_DAT_10a8_0000_10a8_7bd6 &&
        (iVar5 = FUN_1010_02b0((int)PTR_DAT_10a8_0000_10a8_7b68,
                               (undefined4 *)&PTR_DAT_10a8_0000_10a8_7bd6), iVar5 == 0)))) {
      PTR_DAT_10a8_0000_10a8_7bd6 = (undefined *)0xffff;
    }
    PTR_DAT_10a8_0000_10a8_7b4e =
         (undefined *)(PTR_DAT_10a8_0000_10a8_7bd6 != (undefined *)0xffff | 2);
    PTR_DAT_10a8_0000_10a8_7b52 = (undefined *)0x0;
    if (PTR_DAT_10a8_0000_10a8_4b7e != (undefined *)0x0) goto LAB_1020_22e9;
    FUN_1028_4834();
    FUN_1028_47a0();
    uVar11 = SUB21(PTR_DAT_10a8_0000_10a8_8846,0);
    uVar12 = (undefined)((uint)PTR_DAT_10a8_0000_10a8_8846 >> 8);
    uVar10 = 0xe;
    uVar6 = *(byte *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 10) & 0xf;
    puVar15 = param_2;
  }
  SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000fff6,
                                  CONCAT212(uVar4,CONCAT210(puVar15,CONCAT19(uVar14,CONCAT18(uVar13,
                                                  CONCAT17(uVar12,CONCAT16(uVar11,CONCAT15(4,(uint5)
                                                  CONCAT12(uVar10,uVar6) << 0x10)))))))),
              in_stack_0000fff8,CONCAT22(in_stack_0000fffc,in_stack_0000fffa));
LAB_1020_22e9:
  *(undefined2 *)&PTR_DAT_10a8_0000_10a8_7b4c = param_1;
  *(undefined2 *)&PTR_DAT_10a8_0000_10a8_7b50 = param_2;
  if (*(int *)&PTR_DAT_10a8_0000_10a8_4b7e == 0) {
    if (uVar4 == 0) {
      puVar9 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59aa;
      do {
        SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fffc,
                                      CONCAT212(in_stack_0000fffa,
                                                CONCAT210(in_stack_0000fff8,
                                                          CONCAT28(in_stack_0000fff6,
                                                                   CONCAT26(uVar4,CONCAT24(puVar15,
                                                  CONCAT13(uVar14,CONCAT12(uVar13,*puVar9)))))))));
        puVar9 = puVar9 + 1;
      } while (puVar9 < (undefined2 *)&PTR_DAT_10a8_0000_10a8_59c2);
      puVar9 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_8846;
      do {
        SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fffc,
                                      CONCAT212(in_stack_0000fffa,
                                                CONCAT210(in_stack_0000fff8,
                                                          CONCAT28(in_stack_0000fff6,
                                                                   CONCAT26(uVar4,CONCAT24(puVar15,
                                                  CONCAT13(uVar14,CONCAT12(uVar13,*puVar9)))))))));
        puVar9 = puVar9 + 1;
      } while (puVar9 < (undefined2 *)&PTR_DAT_10a8_0000_10a8_884c);
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fffc,
                                    CONCAT212(in_stack_0000fffa,
                                              CONCAT210(in_stack_0000fff8,
                                                        CONCAT28(in_stack_0000fff6,
                                                                 CONCAT26(uVar4,CONCAT24(puVar15,
                                                  CONCAT13(uVar14,CONCAT12(uVar13,*(undefined2 *)
                                                                                   &
                                                  PTR_DAT_10a8_0000_10a8_0aa4)))))))));
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fffc,
                                    CONCAT212(in_stack_0000fffa,
                                              CONCAT210(in_stack_0000fff8,
                                                        CONCAT28(in_stack_0000fff6,
                                                                 CONCAT26(uVar4,CONCAT24(puVar15,
                                                  CONCAT13(uVar14,CONCAT12(uVar13,*(undefined2 *)
                                                                                   &
                                                  PTR_DAT_10a8_0000_10a8_8398)))))))));
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fffc,
                                    CONCAT212(in_stack_0000fffa,
                                              CONCAT210(in_stack_0000fff8,
                                                        CONCAT28(in_stack_0000fff6,
                                                                 CONCAT26(uVar4,CONCAT24(puVar15,
                                                  CONCAT13(uVar14,CONCAT12(uVar13,*(undefined2 *)
                                                                                   &
                                                  PTR_DAT_10a8_0000_10a8_83a0)))))))));
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fffc,
                                    CONCAT212(in_stack_0000fffa,
                                              CONCAT210(in_stack_0000fff8,
                                                        CONCAT28(in_stack_0000fff6,
                                                                 CONCAT26(uVar4,CONCAT24(puVar15,
                                                  CONCAT13(uVar14,CONCAT12(uVar13,*(undefined2 *)
                                                                                   &
                                                  PTR_DAT_10a8_0000_10a8_82c0)))))))));
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fffc,
                                    CONCAT212(in_stack_0000fffa,
                                              CONCAT210(in_stack_0000fff8,
                                                        CONCAT28(in_stack_0000fff6,
                                                                 CONCAT26(uVar4,CONCAT24(puVar15,
                                                  CONCAT13(uVar14,CONCAT12(uVar13,*(undefined2 *)
                                                                                   &
                                                  PTR_DAT_10a8_0000_10a8_8346)))))))));
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fffc,
                                    CONCAT212(in_stack_0000fffa,
                                              CONCAT210(in_stack_0000fff8,
                                                        CONCAT28(in_stack_0000fff6,
                                                                 CONCAT26(uVar4,CONCAT24(puVar15,
                                                  CONCAT13(uVar14,CONCAT12(uVar13,*(undefined2 *)
                                                                                   &
                                                  PTR_DAT_10a8_0000_10a8_5796)))))))));
      puVar9 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_7ad8;
      do {
        *puVar9 = 0xfffa;
        puVar9[-2] = 0xfffb;
        puVar9 = puVar9 + 4;
      } while (puVar9 < (undefined2 *)&PTR_DAT_10a8_0000_10a8_7b40);
    }
    FUN_1020_23f2((uint)puVar15);
    if (uVar4 == 0) {
      INVALIDATERECT(1,(RECT16 *)0x0,0);
      if ((*(int *)&PTR_DAT_10a8_0000_10a8_07aa == 1) && (*(int *)&PTR_DAT_10a8_0000_10a8_7b4c == 1)
         ) {
        *(undefined2 *)&PTR_DAT_10a8_0000_10a8_07aa = 0;
        INVALIDATERECT(1,(RECT16 *)&PTR_DAT_10a8_0000_10a8_07a2,erase);
      }
    }
    else {
      FUN_1020_0736((int16 *)0x0,0x4fff);
    }
    FUN_1020_2106();
    if ((*(byte *)&DAT_10a8_0a47 & 0x40) != 0) {
      FUN_1090_88fa();
    }
  }
  return;
}


/*
Unable to decompile 'FUN_1020_23f2'
Cause:
Low-level Error: Symbol $$undef0000000b extends beyond the end of the address space
*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_24c8(int param_1,undefined *param_2)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  undefined *puVar5;
  undefined4 uVar6;
  long local_1c;
  undefined2 local_18;
  undefined2 local_e;
  undefined4 local_c;
  undefined *local_6;
  undefined *local_4;

  uVar6 = CONCAT22(unaff_DI,unaff_SI);
  local_e = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_7d52) {
    if (param_1 != 0) {
      param_2 = PTR_DAT_10a8_0000_10a8_7bd6;
    }
    local_c = _PTR_DAT_10a8_0000_10a8_006a;
    piVar1 = (int *)_PTR_DAT_10a8_0000_10a8_006a;
    local_6 = PTR_DAT_10a8_0000_10a8_006c;
    local_4 = (undefined *)0x0;
    piVar2 = piVar1;
    if ((int)PTR_DAT_10a8_0000_10a8_7d52 < 1) {
      puVar5 = (undefined *)0x0;
    }
    else {
      puVar5 = (undefined *)0x0;
      do {
        if ((undefined *)*piVar2 == param_2) break;
        piVar2 = piVar2 + 0x1e;
        puVar5 = puVar5 + 1;
      } while ((int)puVar5 < (int)PTR_DAT_10a8_0000_10a8_7d52);
    }
    if ((PTR_DAT_10a8_0000_10a8_7d52 == puVar5) || (*(char *)(piVar2 + 2) != '\a')) {
      local_1c = *(long *)((int)&PTR_DAT_10a8_0000_10a8_6238 + (int)param_2 * 4);
      local_18 = 0x81;
      FUN_1030_3a94(&local_1c,0);
    }
    else {
      if (param_1 != 0) {
        iVar3 = 0;
        do {
          puVar5 = puVar5 + param_1;
          if ((int)puVar5 < 0) {
            if (iVar3 != 0) {
              return;
            }
            puVar5 = PTR_DAT_10a8_0000_10a8_7d52 + -1;
            iVar4 = iVar3 + 1;
          }
          else {
            iVar4 = iVar3;
            if ((int)PTR_DAT_10a8_0000_10a8_7d52 <= (int)puVar5) {
              iVar4 = iVar3 + 1;
              if (iVar3 != 0) {
                return;
              }
              puVar5 = (undefined *)0x0;
            }
          }
          iVar3 = iVar4;
        } while ((undefined *)piVar1[(int)puVar5 * 0x1e + 1] != PTR_DAT_10a8_0001_10a8_00c0);
      }
      param_2 = (undefined *)piVar1[(int)puVar5 * 0x1e];
      if ((undefined *)(piVar1 + (int)puVar5 * 0x1e)[1] != PTR_DAT_10a8_0001_10a8_00c0) {
        return;
      }
      local_1c = *(long *)((int)&PTR_DAT_10a8_0000_10a8_6238 + (int)param_2 * 4);
      local_18 = 0x81;
      local_4 = puVar5;
      FUN_1030_3a94(&local_1c,0);
      FUN_1030_2da8((int16 *)0x0,(undefined *)0x0,uVar6);
      FUN_1020_2164((undefined *)&DAT_10a8_0001,param_2);
      FUN_1030_2da8((int16 *)0x0,(undefined *)&DAT_10a8_0001,uVar6);
    }
    uVar6 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + (int)param_2 * 4);
    FUN_1030_2fe2((int)uVar6,(int)((ulong)uVar6 >> 0x10),1);
    FUN_1030_2348((int16 *)0x0,(RECT16 *)0x0,(undefined2 *)0x0,(VA_LIST16)0x0);
    INVALIDATERECT(1,(RECT16 *)0x0,0);
    FUN_1008_97da();
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1020_2640(uint param_1,int param_2,undefined2 param_3,int param_4)

{
  uint *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  uint uVar4;
  bool16 bVar5;
  int iVar6;
  uint uVar7;
  undefined4 *puVar8;
  undefined2 *puVar9;
  int iVar10;
  undefined *puVar11;
  int *piVar12;
  byte *pbVar13;
  HDC16 unaff_SI;
  int16 *piVar14;
  undefined4 *puVar15;
  undefined4 *puVar16;
  undefined2 unaff_DI;
  uint uVar17;
  undefined2 unaff_SS;
  undefined uVar18;
  undefined uVar19;
  int *piVar20;
  undefined2 in_stack_0000ffba;
  int in_stack_0000ffbe;
  HWND16 in_stack_0000ffc0;
  undefined2 in_stack_0000ffc2;
  undefined2 in_stack_0000ffc4;
  undefined2 in_stack_0000ffc6;
  undefined2 in_stack_0000ffc8;
  undefined4 local_36 [2];
  byte local_2c;
  byte local_2a;
  undefined4 local_28;
  ulong local_24;
  int local_20;
  int local_1e;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined2 local_10;
  int local_e;
  uint local_c;
  uint local_a;
  undefined4 local_8;
  int16 *local_4;

  local_10 = 0x70;
  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001) {
    local_e = 0xa4a;
    local_c = 5;
  }
  else {
    if (PTR_DAT_10a8_0000_10a8_7b4c != (undefined *)&DAT_10a8_0002) {
      return;
    }
    local_e = 0xd16;
    local_c = 7;
  }
  uVar7 = param_1 / 0xc6;
  if ((param_1 % 0xc6 < 4) || (0xc1 < param_1 % 0xc6)) {
    return;
  }
  uVar17 = 0;
  local_8 = local_8 & 0xffff0000 | (ulong)uVar7;
  if (local_c != 0) {
    local_4 = (int16 *)(local_e + 10);
    piVar14 = local_4;
    do {
      if (uVar7 <= (*(byte *)piVar14 & 7)) {
        if (uVar7 < (*(byte *)piVar14 & 7)) {
          return;
        }
        in_stack_0000ffbe = *(int *)((int)piVar14 + -10);
        if (in_stack_0000ffbe <= param_2) {
          if ((*(byte *)piVar14 & 0x80) == 0) {
            puVar11 = PTR_DAT_10a8_0000_10a8_5794 + 3;
          }
          else {
            puVar11 = (undefined *)*(undefined2 *)((int)piVar14 + -8);
          }
          local_8 = local_8 & 0xffff | ZEXT24(puVar11) << 0x10;
          if (param_2 < (int)(puVar11 + in_stack_0000ffbe)) break;
        }
      }
      piVar14 = (int16 *)((int)piVar14 + 0xe);
      uVar17 = uVar17 + 1;
    } while ((int)uVar17 < (int)local_c);
  }
  if (local_c == uVar17) {
    return;
  }
  local_14 = CONCAT22(param_2,param_1);
  piVar12 = (int *)(uVar17 * 0xe + local_e);
  local_1e = *piVar12;
  local_20 = (uint)local_8 * 0xc6 + 4;
  local_1c = CONCAT22(PTR_DAT_10a8_0000_10a8_5794 + local_1e + 4,(uint)local_8 * 0xc6 + 0xc3);
  bVar5 = PTINRECT((RECT16 *)param_1,SUB21(param_2,0));
  if ((bVar5 == 0) || (param_4 != 0)) {
    if (((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) &&
        ((((piVar12[2] == 0x20 || (piVar12[2] == 0x100)) || (piVar12[2] == 1)) ||
         (piVar12[2] == 0x10)))) || (piVar12[2] == 4)) {
      FUN_1028_3e74(local_14,param_3,0,param_4);
      return;
    }
    if (PTR_DAT_10a8_0000_10a8_7b4c != (undefined *)&DAT_10a8_0001) {
      return;
    }
    if ((piVar12[2] != 1) && (piVar12[2] != 8)) {
      return;
    }
    FUN_1020_2b52((RECT16 *)local_14,(int)((ulong)local_14 >> 0x10),param_3,0,param_4,
                  CONCAT22(unaff_DI,unaff_SI));
    return;
  }
  local_24 = local_1c;
  local_28 = CONCAT22(local_1e + 1,(int)local_1c + -0x11);
  bVar5 = PTINRECT((RECT16 *)local_14,SUB41((ulong)local_14 >> 0x10,0));
  uVar18 = (undefined)uVar17;
  uVar19 = (undefined)(uVar17 >> 8);
  if (bVar5 == 0) {
    if ((*(byte *)(piVar12 + 5) & 0x80) != 0) {
      local_1c = local_1c & 0xffff | (ulong)(piVar12[1] + local_1e + 1) << 0x10;
    }
    piVar20 = &local_20;
    local_4 = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_00ca);
    FUN_1018_654c((HRGN16)local_4,piVar20,
                  (undefined1  [10])
                  CONCAT28(in_stack_0000ffbe,
                           CONCAT26(piVar12,CONCAT24(in_stack_0000ffba,CONCAT22(unaff_DI,unaff_SI)))
                          ),in_stack_0000ffc0,in_stack_0000ffc2,in_stack_0000ffc4,in_stack_0000ffc6,
                  in_stack_0000ffc8);
    SETCAPTURE((HWND16)PTR_DAT_10a8_0000_10a8_00ca);
    local_18 = local_14;
    iVar6 = FUN_1018_6506((undefined2 *)&local_18,
                          CONCAT210(in_stack_0000ffc0,
                                    CONCAT28(in_stack_0000ffbe,
                                             CONCAT26(piVar12,CONCAT24(in_stack_0000ffba,
                                                                       CONCAT22(unaff_DI,unaff_SI)))
                                            )));
    piVar14 = local_4;
    uVar4 = uVar17;
    uVar7 = local_a;
    while (local_a = uVar4, iVar6 != 0) {
      if ((int)local_18 == (int)local_14) {
        local_14._2_2_ = (int)((ulong)local_14 >> 0x10);
        local_18._2_2_ = (int)((ulong)local_18 >> 0x10);
        if (local_18._2_2_ != local_14._2_2_) goto LAB_1020_2876;
      }
      else {
LAB_1020_2876:
        FUN_1018_654c((HRGN16)piVar14,&local_20,
                      (undefined1  [10])
                      CONCAT28(in_stack_0000ffbe,
                               CONCAT26(piVar12,CONCAT24(in_stack_0000ffba,
                                                         CONCAT22(unaff_DI,unaff_SI)))),
                      in_stack_0000ffc0,in_stack_0000ffc2,in_stack_0000ffc4,in_stack_0000ffc6,
                      in_stack_0000ffc8);
        FUN_1018_5962(&local_20,(int)local_18 - (int)local_14,local_18._2_2_ - local_14._2_2_);
        local_14 = local_18;
        FUN_1018_654c((HRGN16)piVar14,&local_20,
                      (undefined1  [10])
                      CONCAT28(in_stack_0000ffbe,
                               CONCAT26(piVar12,CONCAT24(in_stack_0000ffba,
                                                         CONCAT22(unaff_DI,unaff_SI)))),
                      in_stack_0000ffc0,in_stack_0000ffc2,in_stack_0000ffc4,in_stack_0000ffc6,
                      in_stack_0000ffc8);
      }
      iVar6 = FUN_1018_6506((undefined2 *)&local_18,
                            CONCAT210(in_stack_0000ffc0,
                                      CONCAT28(in_stack_0000ffbe,
                                               CONCAT26(piVar12,CONCAT24(in_stack_0000ffba,
                                                                         CONCAT22(unaff_DI,unaff_SI)
                                                                        )))));
      uVar4 = local_a;
      uVar7 = local_a;
    }
    local_a = uVar7;
    FUN_1018_654c((HRGN16)piVar14,&local_20,
                  (undefined1  [10])
                  CONCAT28(in_stack_0000ffbe,
                           CONCAT26(piVar12,CONCAT24(in_stack_0000ffba,CONCAT22(unaff_DI,unaff_SI)))
                          ),in_stack_0000ffc0,in_stack_0000ffc2,in_stack_0000ffc4,in_stack_0000ffc6,
                  in_stack_0000ffc8);
    RELEASECAPTURE();
    RELEASEDC(piVar14,(HWND16)PTR_DAT_10a8_0000_10a8_00ca,unaff_SI);
    iVar6 = ((int)local_1c - local_20 >> 1) + local_20;
    iVar10 = (local_1c._2_2_ - local_1e >> 1) + local_1e;
    local_14 = CONCAT22(iVar10,iVar6);
    uVar7 = iVar6 / 0xc6;
    if (2 < (int)uVar7) {
      uVar7 = 2;
    }
    if ((int)uVar7 < 0) {
      uVar7 = 0;
    }
    local_8 = CONCAT22(uVar17,uVar7);
    local_a = 0;
    if (0 < (int)local_c) {
      pbVar13 = (byte *)(local_e + 10);
      do {
        if (uVar7 <= (*pbVar13 & 7)) break;
        pbVar13 = pbVar13 + 0xe;
        local_a = local_a + 1;
      } while ((int)local_a < (int)local_c);
    }
    if ((int)local_a < (int)local_c) {
      pbVar13 = (byte *)(local_a * 0xe + local_e + 10);
      do {
        if ((*pbVar13 & 7) != uVar7) break;
        if ((*pbVar13 & 0x80) == 0) {
          puVar11 = PTR_DAT_10a8_0000_10a8_5794 + 3;
        }
        else {
          puVar11 = *(undefined **)(pbVar13 + -8);
        }
        if (iVar10 < ((int)puVar11 >> 1) + *(int *)(pbVar13 + -10)) break;
        pbVar13 = pbVar13 + 0xe;
        local_a = local_a + 1;
      } while ((int)local_a < (int)local_c);
    }
    if ((uVar17 == local_a) || (uVar17 - local_a == -1)) {
      iVar6 = uVar17 * 0xe + local_e;
      local_a = *(byte *)(iVar6 + 10) & 7;
      if (local_a == uVar7) {
        return;
      }
      local_8._0_1_ = (byte)uVar7;
      puVar1 = (uint *)(iVar6 + 10);
      *puVar1 = *puVar1 ^ (*(byte *)(iVar6 + 10) ^ (byte)local_8) & 7;
      FUN_1020_2f0c(uVar7,uVar17,1);
      if ((int)(uint)local_8 < (int)local_a) {
        local_8._2_2_ = local_8._2_2_ + 1;
      }
      local_8._0_1_ = (byte)local_a;
      uVar18 = (undefined)(local_a >> 8);
      goto LAB_1020_2802;
    }
    puVar8 = (undefined4 *)(uVar17 * 0xe + local_e);
    puVar16 = local_36;
    puVar15 = puVar8;
    for (iVar6 = 3; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar3 = puVar16;
      puVar16 = puVar16 + 1;
      puVar2 = puVar15;
      puVar15 = puVar15 + 1;
      *puVar3 = *puVar2;
    }
    *(undefined2 *)puVar16 = *(undefined2 *)puVar15;
    if ((int)local_a < (int)local_8._2_2_) {
      puVar9 = (undefined2 *)(local_a * 0xe + local_e);
      FUN_10a0_055a(puVar9 + 7,puVar9,(local_8._2_2_ - local_a) * 0xe);
      local_8 = local_8 & 0xffff | (ulong)(local_8._2_2_ + 1) << 0x10;
    }
    else {
      FUN_10a0_055a((undefined2 *)puVar8,(undefined2 *)((int)puVar8 + 0xe),
                    (local_a - local_8._2_2_) * 0xe - 0xe);
      local_a = local_a - 1;
    }
    puVar8 = (undefined4 *)(local_a * 0xe + local_e);
    puVar16 = local_36;
    puVar15 = puVar8;
    for (iVar6 = 3; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar3 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar16;
      puVar16 = puVar16 + 1;
      *puVar3 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar16;
    puVar1 = (uint *)((int)puVar8 + 10);
    *puVar1 = *puVar1 ^ (*(byte *)(undefined2 *)((int)puVar8 + 10) ^ (byte)local_8) & 7;
    uVar18 = (undefined)(local_8 >> 8);
    if ((local_2c & 7) == (uint)local_8) {
      if ((int)local_a < (int)local_8._2_2_) {
        local_8._2_2_ = local_a;
      }
      goto LAB_1020_2802;
    }
    FUN_1020_2f0c((uint)local_8,local_a,1);
    uVar18 = (undefined)(local_8 >> 0x10);
    uVar19 = (undefined)(local_8 >> 0x18);
  }
  else {
    FUN_1018_5962((int *)&local_28,-1,0);
    if ((*(byte *)(piVar12 + 5) & 0x80) == 0) {
      local_10 = 0x71;
    }
    FUN_1018_5d4c((undefined2 *)&stack0xffc0,PTR_DAT_10a8_0000_10a8_00ca,0,&local_28,local_10,0,0,0)
    ;
    local_a = uVar17;
    do {
      iVar6 = FUN_1018_5dc4((HWND16 *)&stack0xffc0);
    } while (iVar6 != 0);
    if ((local_2a & 2) == 0) {
      return;
    }
    uVar7 = piVar12[5];
    puVar1 = (uint *)(piVar12 + 5);
    *puVar1 = *puVar1 ^ (byte)(((uVar7 & 0x80) == 0) * -0x80 ^ (byte)uVar7) & 0x80;
    local_2c = *(byte *)(piVar12 + 5);
  }
  local_8._2_2_ = CONCAT11(uVar19,uVar18);
  local_8._0_1_ = local_2c & 7;
  uVar18 = 0;
LAB_1020_2802:
  FUN_1020_2f0c(CONCAT11(uVar18,(byte)local_8),local_8._2_2_,1);
  return;
}


/*
Unable to decompile 'FUN_1020_2b52'
Cause:
Low-level Error: Overlapping input varnodes
*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_2dd0(uint param_1)

{
  int *piVar1;
  undefined *puVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;

  puVar2 = PTR_DAT_10a8_0000_10a8_7b4c;
  if ((_DAT_10a8_0a48 & 0x40) >> 6 != param_1) {
    _DAT_10a8_0a48 = _DAT_10a8_0a48 ^ (byte)((char)param_1 << 6 ^ DAT_10a8_0a48) & 0x40;
    iVar5 = (-(uint)(param_1 == 0) & 2) - 1;
    piVar3 = (int *)&PTR_PTR_DAT_10a8_0000_10a8_0055_10a8_0a4c;
    do {
      if (piVar3[1] == 0x40) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 2) * iVar5 * 2;
      }
      if (piVar3[1] == 4) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 4) * iVar5 * 2;
      }
      if (piVar3[1] == 0x80) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + iVar5 * 10;
      }
      piVar3 = piVar3 + 7;
    } while (piVar3 < (int *)&PTR_DAT_10a8_0000_10a8_0a92);
    piVar3 = (int *)&PTR_PTR_DAT_10a8_0000_10a8_0055_10a8_0d18;
    do {
      if (piVar3[1] == 1) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + ((int)PTR_DAT_10a8_0000_10a8_5794 * 4 + 2) * iVar5;
      }
      if (piVar3[1] == 0x200) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 4) * iVar5 * 2;
      }
      if (piVar3[1] == 0x20) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 9) * iVar5;
      }
      if (piVar3[1] == 4) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 4) * iVar5 * 2;
      }
      if (piVar3[1] == 0x80) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + iVar5 * 10;
      }
      if (piVar3[1] == 0x100) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + iVar5 * 2;
      }
      if (piVar3[1] == 0x40) {
        piVar1 = piVar3;
        *piVar1 = *piVar1 + iVar5 * 6;
      }
      puVar2 = PTR_DAT_10a8_0000_10a8_7b4c;
      piVar3 = piVar3 + 7;
    } while (piVar3 < (int *)((int)s_Fleet_Waypoints_10a8_0d78 + 2));
    PTR_DAT_10a8_0000_10a8_7b4c = (undefined *)&DAT_10a8_0001;
    uVar4 = 0;
    do {
      FUN_1020_2f0c(uVar4,-1,0);
      uVar4 = uVar4 + 1;
    } while ((int)uVar4 < 4);
    PTR_DAT_10a8_0000_10a8_7b4c = (undefined *)&DAT_10a8_0002;
    uVar4 = 0;
    do {
      FUN_1020_2f0c(uVar4,-1,0);
      uVar4 = uVar4 + 1;
    } while ((int)uVar4 < 4);
  }
  PTR_DAT_10a8_0000_10a8_7b4c = puVar2;
  return;
}



void __cdecl16far FUN_1020_2f0c(uint param_1,int param_2,int param_3)

{
  byte *pbVar1;
  int iVar2;
  uint uVar3;
  undefined *puVar4;
  byte *pbVar5;
  HDC16 unaff_DI;
  RECT16 *unaff_SS;
  int local_18;
  undefined *local_16;
  int local_14;
  uint local_10;
  int local_e;
  undefined *local_c;
  int local_a;
  int local_8;
  int16 *local_6;
  undefined *local_4;

  local_10 = 0;
  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
    local_e = 0xd16;
    local_a = 7;
  }
  else {
    local_e = 0xa4a;
    local_a = 5;
  }
  local_c = (undefined *)&PTR_LOOP_10a8_0004;
  if (param_2 == -1) {
    param_2 = 0;
    if (local_a != 0) {
      pbVar5 = (byte *)(local_e + 10);
      do {
        if ((*pbVar5 & 7) == param_1) break;
        pbVar5 = pbVar5 + 0xe;
        param_2 = param_2 + 1;
      } while (param_2 < local_a);
    }
    if (local_a == param_2) {
      return;
    }
  }
  else if (0 < param_2) {
    pbVar5 = (byte *)(local_e + 10);
    local_8 = param_2;
    local_4 = (undefined *)0x0;
    local_c = (undefined *)&PTR_LOOP_10a8_0004;
    iVar2 = param_2;
    do {
      if ((*pbVar5 & 7) == param_1) {
        if ((*pbVar5 & 0x80) == 0) {
          local_6 = (int16 *)(PTR_DAT_10a8_0000_10a8_5794 + 3);
        }
        else {
          local_6 = *(int16 **)(pbVar5 + -8);
        }
        local_c = (undefined *)((int)local_6 + (int)(local_c + 4));
      }
      pbVar5 = pbVar5 + 0xe;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
  }
  if (param_3 != 0) {
    GETCLIENTRECT((HWND16)&local_18,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00ca,unaff_SS));
    local_16 = local_c;
    local_18 = param_1 * 0xc6 + 4;
    local_14 = param_1 * 0xc6 + 0xc3;
    local_6 = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_00ca);
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_18,unaff_SS,(HBRUSH16)local_6);
  }
  uVar3 = local_10;
  if (param_2 < local_a) {
    pbVar5 = (byte *)(param_2 * 0xe + local_e + 10);
    puVar4 = local_c;
    do {
      if ((*pbVar5 & 7) != param_1) break;
      *(undefined **)(pbVar5 + -10) = puVar4;
      pbVar1 = pbVar5 + 1;
      *pbVar1 = *pbVar1 | 8;
      uVar3 = uVar3 | *(uint *)(pbVar5 + -6);
      if ((*pbVar5 & 0x80) == 0) {
        local_4 = PTR_DAT_10a8_0000_10a8_5794 + 3;
      }
      else {
        local_4 = *(undefined **)(pbVar5 + -8);
      }
      puVar4 = puVar4 + (int)(local_4 + 4);
      pbVar5 = pbVar5 + 0xe;
      param_2 = param_2 + 1;
    } while (param_2 < local_a);
  }
  if (param_3 != 0) {
    FUN_1020_0736(local_6,uVar3);
    RELEASEDC(local_6,(HWND16)PTR_DAT_10a8_0000_10a8_00ca,unaff_DI);
  }
  return;
}



undefined2 __cdecl16far FUN_1020_307e(int param_1,VA_LIST16 param_2)

{
  undefined2 uVar1;
  VA_LIST16 unaff_BP;

  if (param_1 == 1) {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xcb210a8,
              (LPCSTR)CONCAT22((int)(param_2 + -0x19) * 4,0x10a8),
              (VA_LIST16)((int)s_stars__hlp_10a8_00b2 + 8));
  }
  else {
    if (param_1 != 2) {
      uVar1 = FUN_1020_30ca((int)param_2);
      return uVar1;
    }
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xcb810a8,(LPCSTR)CONCAT22(param_2,0x10a8),unaff_BP);
  }
  return (int)&DAT_10a8_86de;
}



undefined2 __cdecl16far FUN_1020_30ca(int param_1)

{
  int iVar1;
  uint uVar2;

  uVar2 = (int)(param_1 - 0x32U) >> 0xf;
  iVar1 = (param_1 - 0x32U ^ uVar2) - uVar2;
  if (iVar1 < 0x1a) {
    iVar1 = (iVar1 + 0x19) * 4;
  }
  else {
    iVar1 = iVar1 * 0x18 + -400;
  }
  if (param_1 < 0x32) {
    iVar1 = (int)(10000 / (long)iVar1);
  }
  _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xcbd10a8,(LPCSTR)CONCAT22(iVar1 / 100,0x10a8),
            (VA_LIST16)(iVar1 % 100));
  return (int)&DAT_10a8_86de;
}



void __cdecl16far FUN_1020_3122(int param_1,HBRUSH16 param_2)

{
  if ((*(byte *)(param_1 + 8) & 0x10) != 0) {
    FRAMERECT((int16 *)PTR_DAT_10a8_0000_10a8_7d4e,param_1 + 0xe,(RECT16 *)param_2,
              *(HBRUSH16 *)(param_1 + 0xc));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1020_3148(int param_1,HBRUSH16 param_2,int param_3)

{
  char *pcVar1;
  int16 *piVar2;
  int iVar3;
  int16 *__return_storage_ptr__;
  char *pcVar4;
  uint uVar5;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  uint hdc;
  char *pcVar6;
  undefined2 unaff_SS;
  COLORREF CVar7;
  undefined4 in_stack_00000000;
  undefined2 in_stack_0000000a;
  undefined2 uVar8;
  undefined2 in_stack_0000ffe6;
  int in_stack_0000ffe8;
  WPARAM16 in_stack_0000ffea;
  undefined2 in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  HDC16 hdc_00;
  undefined2 in_stack_0000fff2;
  int iVar9;
  undefined2 in_stack_0000fffc;

  hdc = *(uint *)(param_1 + 8) & 1;
  COPYRECT((RECT16 *)(param_1 + 0xe),(RECT16 *)param_2);
  if ((((undefined *)*(int *)(param_1 + 10) == PTR_DAT_10a8_0000_10a8_82c0) ||
      ((undefined *)*(int *)(param_1 + 10) == PTR_DAT_10a8_0000_10a8_8346)) || (0 < param_3)) {
    iVar9 = 1;
  }
  else {
    iVar9 = 0;
  }
  if (0 < param_3) {
    param_3 = -param_3;
  }
  SENDMESSAGE((HWND16)&DAT_10a8_86de,
              (uint16)CONCAT214(in_stack_0000ffe8,
                                CONCAT212(in_stack_0000ffe6,
                                          CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(*(undefined2
                                                                                          *)(param_1
                                                                                            + 10),
                                                                                        CONCAT24((-(
                                                  uint)(iVar9 == 0) & 0xfffe) + 0x40a,
                                                  CONCAT22(*(undefined2 *)(param_1 + 4),0x10a8))))))
                               ),in_stack_0000ffea,CONCAT22(in_stack_0000ffee,in_stack_0000ffec));
  if (hdc != 0) {
    hdc = (uint)_PTR_DAT_10a8_0000_10a8_58a0;
    piVar2 = (int16 *)PTR_DAT_10a8_0000_10a8_0026;
    if ((DAT_10a8_86de != 0x2a) &&
       (piVar2 = (int16 *)PTR_DAT_10a8_0000_10a8_0024, DAT_10a8_86de < 0x2b)) {
      if (DAT_10a8_86de == 0x20) {
        if (((uint)PTR_DAT_10a8_0000_10a8_58a2 | hdc) == 0) {
          uVar8 = 0;
        }
        else {
          uVar8 = 4;
        }
        piVar2 = (int16 *)GETSTOCKOBJECT((int16)CONCAT214(in_stack_0000ffee,
                                                          CONCAT212(in_stack_0000ffec,
                                                                    CONCAT210(in_stack_0000ffea,
                                                                              CONCAT28(
                                                  in_stack_0000ffe8,
                                                  CONCAT26(in_stack_0000ffe6,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,uVar8
                                                                                     ))))))));
      }
      else if (DAT_10a8_86de == 0x23) {
        piVar2 = (int16 *)PTR_DAT_10a8_0000_10a8_0028;
      }
    }
    goto LAB_1020_3256;
  }
  piVar2 = (int16 *)PTR_DAT_10a8_0000_10a8_0018;
  if (DAT_10a8_86de == 0x2a) {
    hdc = 0x7f00;
  }
  else {
    if (DAT_10a8_86de < 0x2b) {
      if (DAT_10a8_86de == 0x20) {
        if (_PTR_DAT_10a8_0000_10a8_58a0 == 0) {
          hdc = 0xffff;
          PTR_DAT_10a8_0000_10a8_58a2 = (undefined *)((int)s_starsplanet_10a8_00f8 + 7);
        }
        else {
          hdc = 0;
          PTR_DAT_10a8_0000_10a8_58a2 = (undefined *)0x0;
        }
        goto LAB_1020_3256;
      }
      if (DAT_10a8_86de == 0x23) {
        PTR_DAT_10a8_0000_10a8_58a2 = (undefined *)0x7f;
        goto LAB_1020_3256;
      }
    }
    hdc = 0xff;
  }
  PTR_DAT_10a8_0000_10a8_58a2 = (undefined *)0x0;
LAB_1020_3256:
  FILLRECT(piVar2,param_1 + 0xe,(RECT16 *)param_2,*(HBRUSH16 *)(param_1 + 0xc));
  INFLATERECT((RECT16 *)0xfffeffff,
              (int16)CONCAT214(in_stack_0000ffec,
                               CONCAT212(in_stack_0000ffea,
                                         CONCAT210(in_stack_0000ffe8,
                                                   CONCAT28(in_stack_0000ffe6,
                                                            CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(unaff_SS,&stack0xffe6))))))),
              (int16)CONCAT214(in_stack_0000fffc,
                               CONCAT212(iVar9,CONCAT210(PTR_DAT_10a8_0000_10a8_58a2,
                                                         CONCAT28(hdc,CONCAT26(piVar2,CONCAT24(
                                                  in_stack_0000fff2,
                                                  CONCAT22(in_stack_0000fff0,in_stack_0000ffee))))))
                              ));
  iVar3 = (-(uint)(iVar9 == 0) & 0xfffb) + 6;
  CVar7 = SETTEXTCOLOR(hdc,CONCAT22(*(undefined2 *)(param_1 + 0xc),PTR_DAT_10a8_0000_10a8_58a2));
  uVar8 = (undefined2)(CVar7.value >> 0x10);
  hdc_00 = (HDC16)CVar7.value;
  __return_storage_ptr__ =
       SETBKMODE((int16 *)&DAT_10a8_0001,*(HDC16 *)(param_1 + 0xc),
                 (int16)CONCAT214(hdc_00,CONCAT212(in_stack_0000ffee,
                                                   CONCAT210(in_stack_0000ffec,
                                                             CONCAT28(in_stack_0000ffea,
                                                                      CONCAT26(in_stack_0000ffe8,
                                                                               CONCAT24(
                                                  in_stack_0000ffe6,CONCAT22(unaff_DI,unaff_SI))))))
                                 ));
  pcVar4 = (char *)((int)&DAT_10a8_86de + iVar3);
  uVar5 = 0xffff;
  pcVar6 = pcVar4;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar1 = pcVar6;
    pcVar6 = pcVar6 + 1;
  } while (*pcVar1 != '\0');
  TEXTOUT(~uVar5 - 1,
          (int16)CONCAT214(in_stack_0000ffe6,
                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(*(undefined2 *)
                                                                           (param_1 + 0xc),
                                                                          CONCAT26(in_stack_0000ffe6
                                                                                   ,CONCAT24(
                                                  in_stack_0000ffe8,CONCAT22(0x10a8,pcVar4))))))),
          (int16)CONCAT214(hdc,CONCAT212(piVar2,CONCAT210(uVar8,CONCAT28(hdc_00,CONCAT26(
                                                  __return_storage_ptr__,
                                                  CONCAT24(in_stack_0000ffec,
                                                           CONCAT22(in_stack_0000ffea,
                                                                    in_stack_0000ffe8))))))),
          (LPCSTR)CONCAT22(iVar9,PTR_DAT_10a8_0000_10a8_58a2),
          (int16)CONCAT124(CONCAT210(in_stack_0000000a,
                                     CONCAT28(param_3,CONCAT26(param_2,CONCAT24(param_1,
                                                  in_stack_00000000)))),CONCAT22(unaff_BP,iVar3)));
  if (iVar3 == 6) {
    iVar9 = 1;
    do {
      if (*(char *)((int)&DAT_10a8_86de + iVar9) == '-') {
        FUN_10a0_0352((char *)((int)&DAT_10a8_86de + iVar9),(char *)((int)&DAT_10a8_86df + iVar9),
                      -(iVar9 + -5));
        PTR_DAT_10a8_0000_10a8_86e3._0_1_ = 0x25;
        break;
      }
      iVar9 = iVar9 + 1;
    } while (iVar9 < 6);
    FUN_1018_55f6(*(undefined2 *)(param_1 + 0xc),in_stack_0000ffea,in_stack_0000ffe8,
                  (int)&DAT_10a8_86df,(int16 *)((int)&PTR_LOOP_10a8_0004 + 1),0,
                  CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffe6,
                  CONCAT212(piVar2,CONCAT210(uVar8,CONCAT28(hdc_00,CONCAT26(__return_storage_ptr__,
                                                                            CONCAT24(
                                                  in_stack_0000ffec,
                                                  CONCAT22(in_stack_0000ffea,in_stack_0000ffe8))))))
                 );
  }
  SETTEXTCOLOR(hdc_00,(COLORREF)CONCAT22(*(undefined2 *)(param_1 + 0xc),uVar8));
  SETBKMODE(__return_storage_ptr__,*(HDC16 *)(param_1 + 0xc),
            (int16)CONCAT214(hdc_00,CONCAT212(__return_storage_ptr__,
                                              CONCAT210(in_stack_0000ffec,
                                                        CONCAT28(in_stack_0000ffea,
                                                                 CONCAT26(in_stack_0000ffe8,
                                                                          CONCAT24(in_stack_0000ffe6
                                                                                   ,CONCAT22(
                                                  unaff_DI,unaff_SI))))))));
  FUN_1020_3122(param_1,param_2);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_3370(undefined *param_1,long param_2)

{
  long *plVar1;
  ulong *puVar2;
  uint uVar3;
  HWND16 hwnd;
  int iVar4;
  ulong *puVar5;
  undefined2 unaff_SI;
  ulong *puVar6;
  undefined2 unaff_DI;
  long *plVar7;
  undefined2 uVar8;
  uint unaff_SS;
  undefined4 in_stack_0000ff94;
  WPARAM16 in_stack_0000ff98;
  LPARAM in_stack_0000ff9a;
  long local_1c [4];
  undefined2 local_a;
  undefined2 local_8;
  char local_5;
  VA_LIST16 local_4;

  if (param_1 == (undefined *)0x0) {
    param_1 = PTR_DAT_10a8_0000_10a8_8346;
  }
  if (param_2 == 0) {
    param_2 = _PTR_DAT_10a8_0000_10a8_7c0e;
  }
  SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000ff94,
                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(param_1,
                                                  0x40500000000)))),in_stack_0000ff98,
              in_stack_0000ff9a);
  puVar5 = (ulong *)param_2;
  uVar8 = (undefined2)((ulong)param_2 >> 0x10);
  if ((param_2 == 0) || (*(char *)((int)puVar5 + 3) == '\0')) {
    if (((DAT_10a8_7bf6 & 0x700) == 0) || (PTR_DAT_10a8_0000_10a8_4186 != (undefined *)0x0)) {
      hwnd = 0xcc6;
    }
    else {
      local_4 = (VA_LIST16)FUN_1018_50de((DAT_10a8_7bf6 >> 8 & 7) + 0x82,(char *)0x86e6);
      FUN_10a0_0352((char *)&DAT_10a8_86de,(char *)0xce3,8);
      local_4[-0x3c8d] = (WORD)PTR_DAT_10a8_3e20_10a8_0cec;
      *(undefined *)(local_4 + -0x3c8c) = DAT_10a8_0cee;
      local_8 = SUB42(&DAT_10a8_86de,0);
      hwnd = (HWND16)&DAT_10a8_86de;
    }
  }
  else {
    if (PTR_DAT_10a8_0000_10a8_4186 == (undefined *)0x0) goto LAB_1020_3427;
    hwnd = 0xcef;
  }
  SENDMESSAGE(hwnd,(uint16)CONCAT412(in_stack_0000ff94,
                                     CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(param_1,
                                                  0x401000010a8)))),in_stack_0000ff98,
              in_stack_0000ff9a);
LAB_1020_3427:
  if (param_2 != 0) {
    plVar7 = local_1c;
    for (iVar4 = 4; iVar4 != 0; iVar4 = iVar4 + -1) {
      plVar1 = plVar7;
      plVar7 = plVar7 + 1;
      *plVar1 = 0;
    }
    iVar4 = 0;
    puVar2 = puVar5;
    local_a = uVar8;
    if (*(char *)((int)puVar5 + 3) != '\0') {
      do {
        puVar6 = puVar2 + 1;
        local_8 = FUN_1068_19f8((undefined2 *)CONCAT22(local_a,puVar6));
        uVar3 = FUN_1010_1fae((ulong *)CONCAT22(local_a,puVar6),local_1c);
        local_5 = (char)uVar3;
        uVar3 = *(uint *)puVar6;
        local_4 = (VA_LIST16)(uVar3 & 0xff | ((byte)((ulong)uVar3 >> 8) & 3) << 8);
        if ((((*(uint *)((int)puVar2 + 6) & 0xe) == 2) && (0x23ff < (*puVar6 & 0x1fc00))) &&
           ((*puVar6 & 0x1fc00) < 0x3801)) {
          local_4 = (VA_LIST16)-(int)local_4;
        }
        _WSPRINTF((int16 *)&stack0xff94,(LPSTR)CONCAT22(0xd0e,unaff_SS),
                  (LPCSTR)CONCAT22((int)local_5,0x10a8),local_4);
        SENDMESSAGE((HWND16)&stack0xff94,
                    (uint16)CONCAT412(in_stack_0000ff94,
                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(param_1,CONCAT24
                                                  (0x401,(ulong)unaff_SS))))),in_stack_0000ff98,
                    in_stack_0000ff9a);
        iVar4 = iVar4 + 1;
        puVar2 = puVar6;
      } while (iVar4 < (int)(uint)*(byte *)((int)puVar5 + 3));
    }
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

int __cdecl16far FUN_1020_3506(int param_1,undefined2 param_2_00,int param_3)

{
  char *pcVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  int iVar8;
  undefined2 unaff_SS;
  undefined2 local_1e [3];
  int local_18 [9];
  int local_6;
  int *local_4;
  int *piVar7;

  iVar3 = FUN_1020_3abc(CONCAT22(param_2_00,param_1),local_18 + 3,local_18 + 6,local_1e);
  if (iVar3 != 0) {
    iVar3 = 0;
    local_4 = (int *)0x0;
    iVar8 = 0;
    do {
      iVar4 = (int)*(char *)(param_1 + 0x12 + iVar3);
      *(int *)((int)local_18 + iVar8) = iVar4;
      iVar5 = param_3 * 0x76 + iVar3;
      if ((*(char *)(iVar5 + -0x778f) != -1) &&
         (*(char *)(iVar5 + -0x7792) != *(char *)(param_1 + 0x12 + iVar3))) {
        local_6 = -1;
        cVar2 = *(char *)(param_1 + 0x12 + iVar3);
        pcVar1 = (char *)(iVar5 + -0x7792);
        if (*pcVar1 == cVar2 || *pcVar1 < cVar2) {
          if (((*(int *)((int)local_18 + iVar8 + 6) != -1) &&
              (*(int *)((int)local_18 + iVar8 + 6) < iVar4)) &&
             (local_6 = (int)*(char *)(iVar5 + -0x7792),
             local_6 < *(int *)((int)local_18 + iVar8 + 6))) {
            local_6 = *(int *)((int)local_18 + iVar8 + 6);
          }
        }
        else if ((iVar4 < *(int *)((int)local_18 + iVar8 + 0xc)) &&
                (local_6 = (int)*(char *)(iVar5 + -0x7792),
                *(int *)((int)local_18 + iVar8 + 0xc) < local_6)) {
          local_6 = *(int *)((int)local_18 + iVar8 + 0xc);
        }
        if (local_6 != -1) {
          *(undefined *)(param_1 + iVar3 + 0x12) = (undefined)local_6;
        }
      }
      iVar3 = iVar3 + 1;
      iVar8 = iVar8 + 2;
    } while (iVar8 < 6);
    local_6 = FUN_1020_3626(param_1,param_2_00,*(int *)&PTR_DAT_10a8_0001_10a8_00c0);
    iVar3 = 0;
    local_4 = local_18;
    piVar6 = local_18;
    do {
      piVar7 = piVar6 + 1;
      *(undefined *)(param_1 + iVar3 + 0x12) = *(undefined *)piVar6;
      iVar3 = iVar3 + 1;
      piVar6 = piVar7;
    } while (piVar7 < local_18 + 3);
    return local_6;
  }
  iVar3 = FUN_1020_3626(param_1,param_2_00,param_3);
  return iVar3;
}



int __cdecl16far FUN_1020_3626(int param_1,undefined2 param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined2 uVar4;
  uint uVar5;
  undefined2 uVar6;
  ulong in_EDX;
  int iVar7;
  bool bVar8;
  long lStack_28;
  long lStack_24;
  uint local_18;
  uint uStack_16;
  ulong local_14;
  int local_10;

  local_18 = 0;
  uStack_16 = 0;
  local_14 = 10000;
  local_10 = 0;
  do {
    iVar1 = (int)*(char *)(local_10 + param_1 + 0x12);
    iVar7 = param_3 * 0x76 + local_10;
    iVar2 = (int)*(char *)(iVar7 + -0x7792);
    iVar3 = (int)*(char *)(iVar7 + -0x778f);
    iVar7 = (int)*(char *)(iVar7 + -0x778c);
    if (-1 < iVar7) {
      if ((iVar1 < iVar3) || (iVar7 < iVar1)) {
        if (iVar1 < iVar3) {
          uVar5 = iVar3 - iVar1;
        }
        else {
          uVar5 = iVar1 - iVar7;
        }
        if (0xf < (int)uVar5) {
          uVar5 = 0xf;
        }
        in_EDX = (ulong)(uint)((int)uVar5 >> 0xf);
        bVar8 = CARRY2(local_18,uVar5);
        local_18 = local_18 + uVar5;
        uStack_16 = uStack_16 + ((int)uVar5 >> 0xf) + (uint)bVar8;
      }
      else {
        uVar5 = iVar1 - iVar2 >> 0xf;
        if (iVar1 < iVar2) {
          iVar3 = iVar2 - iVar3;
          iVar7 = iVar2 - iVar1;
        }
        else {
          iVar3 = iVar7 - iVar2;
          iVar7 = iVar1 - iVar2;
        }
        iVar7 = iVar7 * 2 - iVar3;
        iVar1 = 100 - (int)(((iVar1 - iVar2 ^ uVar5) - uVar5) * 100) / iVar3;
        lStack_24 = (long)iVar1;
        lStack_28 = (long)iVar1;
        in_EDX = (ulong)(lStack_28 * lStack_24) >> 0x10;
        if (0 < iVar7) {
          lStack_24 = (long)(iVar3 * 2);
          local_14 = (long)((long)(iVar3 * 2 - iVar7) * local_14) / lStack_24;
          in_EDX = local_14 >> 0x10;
        }
      }
    }
    uVar6 = (undefined2)in_EDX;
    local_10 = local_10 + 1;
  } while (local_10 < 3);
  if ((uStack_16 | local_18) == 0) {
    FUN_10a0_0b96();
    uVar4 = FUN_10a0_0c14();
    return (int)((long)(CONCAT22(uVar6,uVar4) * local_14) / 10000);
  }
  return -local_18;
}



int __cdecl16far FUN_1020_37a6(int param_1,int param_2)

{
  int iVar1;
  undefined2 unaff_SS;
  undefined4 local_46 [17];

  FUN_1010_02b0(param_1,local_46);
  iVar1 = FUN_1020_3626((int)local_46,unaff_SS,param_2);
  if ((iVar1 >> 0xf < 1) && ((iVar1 >> 0xf < 0 || (iVar1 == 0)))) {
    iVar1 = 100;
  }
  else {
    iVar1 = iVar1 * 100;
  }
  return iVar1;
}



int __cdecl16far FUN_1020_37fc(int param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;

  iVar2 = (int)((ulong)param_2 >> 0x10);
  iVar1 = FUN_1020_3626(param_1,(int)param_2,iVar2);
  FUN_1078_1d42(iVar2 * 0x76 + -0x77a2,6);
  iVar1 = iVar1 * 10;
  if (iVar1 < 10) {
    iVar1 = 10;
  }
  if (iVar1 == 0) {
    iVar1 = 1;
  }
  return iVar1;
}



int __cdecl16far FUN_1020_3842(int param_1,undefined2 param_2,int param_3)

{
  int iVar1;
  int iVar2;

  iVar1 = FUN_1020_37fc(param_1,CONCAT22(param_3,param_2));
  iVar2 = FUN_1078_1d42(param_3 * 0x76 + -0x77a2,6);
  iVar2 = (int)((*(long *)(param_1 + 0x32) * (long)iVar2) / 100);
  if (iVar1 < iVar2) {
    iVar2 = iVar1;
  }
  if (iVar2 == 0) {
    iVar2 = 1;
  }
  return iVar2;
}



int __cdecl16far FUN_1020_389e(int param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;

  iVar2 = (int)((ulong)param_2 >> 0x10);
  iVar1 = FUN_1020_3626(param_1,(int)param_2,iVar2);
  iVar2 = FUN_1078_1d42(iVar2 * 0x76 + -0x77a2,3);
  iVar2 = iVar2 * iVar1;
  if (iVar2 < 10) {
    iVar2 = 10;
  }
  if (iVar2 == 0) {
    iVar2 = 1;
  }
  return iVar2;
}



int __cdecl16far FUN_1020_38de(int param_1,undefined2 param_2,int param_3)

{
  int iVar1;
  int iVar2;

  iVar1 = FUN_1020_389e(param_1,CONCAT22(param_3,param_2));
  iVar2 = FUN_1078_1d42(param_3 * 0x76 + -0x77a2,3);
  iVar2 = (int)((*(long *)(param_1 + 0x32) * (long)iVar2) / 100);
  if (iVar1 < iVar2) {
    iVar2 = iVar1;
  }
  if (iVar2 == 0) {
    iVar2 = 1;
  }
  return iVar2;
}



int __cdecl16far FUN_1020_393a(undefined4 param_1,int param_2)

{
  int iVar1;
  int iVar2;

  iVar1 = FUN_1020_3626((int)param_1,(int)((ulong)param_1 >> 0x10),param_2);
  iVar2 = FUN_1078_1d84(param_2 * 0x76 + -0x77a2,0x10);
  if (iVar2 != 0) {
    return 0;
  }
  iVar1 = iVar1 * 4;
  if (iVar1 < 10) {
    iVar1 = 10;
  }
  if (100 < iVar1) {
    iVar1 = 100;
  }
  return iVar1;
}



int __cdecl16far FUN_1020_3986(int param_1,undefined2 param_2,int param_3)

{
  int iVar1;
  int iVar2;

  iVar1 = FUN_1020_393a(CONCAT22(param_2,param_1),param_3);
  iVar2 = (int)((*(long *)(param_1 + 0x32) + 0x18) / 0x19);
  if (iVar1 < iVar2) {
    iVar2 = iVar1;
  }
  return iVar2;
}



int __cdecl16far FUN_1020_39d0(int param_1,undefined2 param_2,int param_3)

{
  long lVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  long lVar6;

  iVar2 = param_3 * 0x76 + -0x77a2;
  iVar3 = FUN_1078_1d42(iVar2,0);
  lVar1 = *(long *)(param_1 + 0x32);
  if (*(long *)(param_1 + 0x32) != 0) {
    uVar4 = FUN_1020_38de(param_1,param_2,param_3);
    uVar5 = *(uint *)(param_1 + 0x1c) >> 4;
    uVar5 = uVar5 & 0xff | (uint)(byte)((ulong)uVar5 >> 8) << 8;
    if ((int)uVar5 < (int)uVar4) {
      uVar4 = uVar5;
    }
    lVar6 = 10;
    iVar2 = FUN_1078_1d42(iVar2,1);
    uVar5 = (uint)((long)iVar2 * (long)(int)uVar4);
    iVar2 = (int)(lVar1 / (long)iVar3) +
            (int)(CONCAT22((int)((ulong)((long)iVar2 * (long)(int)uVar4) >> 0x10) +
                           (uint)(0xfff6 < uVar5),uVar5 + 9) / lVar6);
    if (iVar2 == 0) {
      iVar2 = 1;
    }
    return iVar2;
  }
  return 0;
}



undefined2 __cdecl16far FUN_1020_3a7c(ulong *param_1)

{
  if ((((*(uint *)((int)param_1 + 2) & 0xe) == 2) && (0x23ff < (*param_1 & 0x1fc00))) &&
     ((*param_1 & 0x1fc00) < 0x3801)) {
    return 1;
  }
  return 0;
}



undefined2 __cdecl16far FUN_1020_3abc(ulong param_1,int *param_2,int *param_3,undefined2 *param_4)

{
  uint *puVar1;
  int *piVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  uint *puVar6;
  char *pcVar7;
  uint uVar8;
  int *piVar9;
  undefined2 *puVar10;
  int *piVar11;
  undefined2 uVar12;
  undefined2 unaff_SS;
  char *local_18;
  uint local_12;
  int local_10;
  int local_e;
  uint local_c;
  uint local_a;
  int local_8;
  int local_6;
  uint *local_4;

  local_c = 0x2000;
  uVar8 = 4;
  do {
    local_a = uVar8 & 0xff | local_a & 0xff00;
    iVar4 = FUN_1060_32b2(&local_c);
    if (iVar4 == 1) break;
    uVar8 = uVar8 - 1;
  } while (-1 < (int)uVar8);
  if ((int)uVar8 < 0) {
    local_4 = (uint *)0x0;
    puVar6 = &local_12;
    for (iVar4 = 3; iVar4 != 0; iVar4 = iVar4 + -1) {
      puVar1 = puVar6;
      puVar6 = puVar6 + 1;
      *puVar1 = 0;
    }
  }
  else {
    local_4 = (uint *)0x1;
    puVar6 = &local_12;
    puVar10 = param_4;
    do {
      iVar4 = local_8;
      *puVar6 = *(uint *)(local_8 + 0x34);
      *puVar10 = *(undefined2 *)(iVar4 + 0x2a);
      puVar10 = puVar10 + 1;
      puVar6 = puVar6 + 1;
    } while (puVar6 < &local_c);
  }
  iVar4 = 2;
  do {
    local_a = local_a & 0xff00 | (uint)(byte)((char)iVar4 + 5);
    iVar5 = FUN_1060_32b2(&local_c);
    if (iVar5 == 1) break;
    iVar4 = iVar4 + -1;
  } while (-1 < iVar4);
  if ((-1 < iVar4) &&
     (puVar1 = (uint *)(local_8 + 0x34), *puVar1 != local_12 && (int)local_12 <= (int)*puVar1)) {
    local_4 = (uint *)0x1;
    local_12 = *(uint *)(local_8 + 0x34);
    *param_4 = *(undefined2 *)(local_8 + 0x2a);
  }
  iVar4 = 2;
  do {
    local_a = local_a & 0xff00 | (uint)(byte)((char)iVar4 + 8);
    iVar5 = FUN_1060_32b2(&local_c);
    if (iVar5 == 1) break;
    iVar4 = iVar4 + -1;
  } while (-1 < iVar4);
  if ((-1 < iVar4) && (piVar2 = (int *)(local_8 + 0x34), *piVar2 != local_10 && local_10 <= *piVar2)
     ) {
    local_4 = (uint *)0x1;
    local_10 = *(int *)(local_8 + 0x34);
    param_4[1] = *(undefined2 *)(local_8 + 0x2a);
  }
  iVar4 = 2;
  do {
    local_a = local_a & 0xff00 | (uint)(byte)((char)iVar4 + 0xb);
    iVar5 = FUN_1060_32b2(&local_c);
    if (iVar5 == 1) break;
    iVar4 = iVar4 + -1;
  } while (-1 < iVar4);
  if ((-1 < iVar4) && (piVar2 = (int *)(local_8 + 0x34), *piVar2 != local_e && local_e <= *piVar2))
  {
    local_4 = (uint *)0x1;
    param_4[2] = *(undefined2 *)(local_8 + 0x2a);
  }
  if (local_4 != (uint *)0x0) {
    local_6 = 0;
    local_4 = &local_12;
    piVar9 = param_3;
    piVar11 = param_2;
    do {
      uVar8 = *local_4;
      if ((uVar8 == 0) ||
         (*(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + local_6 + -0x778f) == -1)) {
LAB_1020_3c8f:
        iVar4 = -1;
        *piVar9 = -1;
LAB_1020_3c94:
        *piVar11 = iVar4;
      }
      else {
        uVar12 = (undefined2)(param_1 >> 0x10);
        iVar4 = (int)param_1 + local_6;
        *piVar11 = (int)*(char *)(iVar4 + 0x15) - uVar8;
        *piVar9 = (int)*(char *)(iVar4 + 0x15) + uVar8;
        pcVar7 = (char *)((int)param_1 + local_6 + 0x12);
        local_18 = (char *)(param_1 & 0xffff0000 | ZEXT24(pcVar7));
        if (*piVar11 < (int)*pcVar7) {
          iVar4 = *piVar11;
          if (iVar4 < 1) {
            iVar4 = 1;
          }
          *piVar11 = iVar4;
        }
        else {
          *piVar11 = -1;
        }
        if ((int)*local_18 < *piVar9) {
          iVar4 = *piVar9;
          if (99 < iVar4) {
            iVar4 = 99;
          }
          *piVar9 = iVar4;
        }
        else {
          *piVar9 = -1;
        }
        cVar3 = *(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + local_6 + -0x7792);
        if (cVar3 == *local_18) goto LAB_1020_3c8f;
        if (cVar3 < *local_18) {
          *piVar9 = -1;
          if (*piVar11 == -1) goto LAB_1020_3c96;
          iVar4 = (int)*(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + local_6 + -0x7792);
          if (iVar4 < *piVar11) {
            iVar4 = *piVar11;
          }
          goto LAB_1020_3c94;
        }
        *piVar11 = -1;
        if (*piVar9 != -1) {
          iVar4 = (int)*(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + local_6 + -0x7792);
          if (*piVar9 < iVar4) {
            iVar4 = *piVar9;
          }
          *piVar9 = iVar4;
        }
      }
LAB_1020_3c96:
      piVar9 = piVar9 + 1;
      piVar11 = piVar11 + 1;
      local_6 = local_6 + 1;
      local_4 = local_4 + 1;
    } while (local_4 < &local_c);
    iVar4 = 0;
    do {
      if ((*param_3 != -1) || (*param_2 != -1)) break;
      param_2 = param_2 + 1;
      param_3 = param_3 + 1;
      iVar4 = iVar4 + 1;
    } while (iVar4 < 3);
    if (iVar4 != 3) {
      return 1;
    }
  }
  return 0;
}



void __cdecl16far FUN_1020_3d26(undefined param_1)

{
  if ((DAT_10a8_0a46 & 2) == 0) {
    FUN_1020_4788(0x18,2,(undefined2 *)&param_1);
  }
  return;
}



void __cdecl16far FUN_1020_3d40(undefined param_1)

{
  if ((DAT_10a8_0a46 & 2) == 0) {
    FUN_1020_4788(0x25,2,(undefined2 *)&param_1);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1020_3d5a(int param_1)

{
  uint uVar1;
  int iVar2;
  undefined2 unaff_SS;
  undefined2 local_8c;
  undefined2 local_8a [6];
  byte local_7d [123];

  if ((DAT_10a8_0a46 & 2) == 0) {
    uVar1 = local_8c ^ ((byte)(*(byte *)(param_1 + 0x7c) >> 2 ^ local_8c._1_1_) & 0xf) << 8 ^
            (byte)((char)PTR_DAT_10a8_0001_10a8_00c0 << 4 ^ (byte)local_8c) & 0xf0;
    if ((*(byte *)(param_1 + 0x7c) & 2) == 0) {
      local_8c = uVar1 & 0xfff1 | 1;
      *(undefined2 *)(param_1 + 0x7b) =
           CONCAT11((char)((uint)*(undefined2 *)(param_1 + 0x7b) >> 8),7);
      FUN_1040_2194((int *)CONCAT22(0x10a8,param_1),local_8a);
      iVar2 = (uint)*(byte *)(param_1 + 0x7a) * 4;
      uVar1 = (uint)local_7d[iVar2] + iVar2 + 0x10;
    }
    else {
      local_8c = uVar1 & 0xfff0;
      uVar1 = 2;
    }
    FUN_1020_4788(0x1b,uVar1,&local_8c);
    if (((DAT_10a8_0a47 & 0x40) != 0) && (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0x0)) {
      DAT_10a8_8318 = DAT_10a8_8318 | 4;
      FUN_1090_88fa();
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_3e0a(uint *param_1,uint *param_2)

{
  uint *puVar1;
  int *piVar2;
  undefined4 *puVar3;
  int *piVar4;
  undefined4 *puVar5;
  long *plVar6;
  uint uVar7;
  undefined4 uVar8;
  undefined2 uVar9;
  int *piVar10;
  int iVar11;
  undefined4 *puVar12;
  long lVar13;
  long *plVar14;
  long *plVar15;
  undefined4 *puVar16;
  uint *puVar17;
  long *plVar18;
  int *piVar19;
  undefined2 uVar20;
  undefined2 unaff_SS;
  bool bVar21;
  uint uVar22;
  undefined4 local_32;
  int local_2e [4];
  undefined4 local_26;
  long local_22 [4];
  undefined local_10 [4];
  undefined2 local_c;
  uint *local_a;
  uint local_8;
  long *local_6;
  long *local_4;

  local_10._2_2_ = 0;
  if ((DAT_10a8_0a46 & 2) == 0) {
    local_32._0_2_ = *param_1;
    local_32._2_2_ = 2;
    piVar10 = (int *)((int)param_1 + 0xc);
    local_a = (uint *)param_1._2_2_;
    puVar17 = param_2 + 6;
    piVar19 = local_2e;
    local_6 = (long *)piVar19;
    local_4 = (long *)puVar17;
    do {
      iVar11 = *puVar17 - *piVar10;
      *piVar19 = iVar11;
      if (iVar11 != 0) {
        local_10._2_2_ = 1;
      }
      piVar10 = piVar10 + 1;
      puVar17 = puVar17 + 1;
      piVar19 = piVar19 + 1;
    } while (piVar19 < local_10 + 2);
    if (local_10._2_2_ != 0) {
      if (PTR_DAT_10a8_0000_10a8_0fc8 != (undefined *)0x0) {
        FUN_1020_4692((uint *)0x584a,(uint *)&local_32);
        PTR_DAT_10a8_0000_10a8_0fc8 = (undefined *)0x0;
        return;
      }
      puVar12 = (undefined4 *)0x584a;
      puVar16 = &local_32;
      for (iVar11 = 9; iVar11 != 0; iVar11 = iVar11 + -1) {
        puVar5 = puVar12;
        puVar12 = puVar12 + 1;
        puVar3 = puVar16;
        puVar16 = puVar16 + 1;
        *puVar5 = *puVar3;
      }
      PTR_DAT_10a8_0000_10a8_0fc8 = (undefined *)&DAT_10a8_0001;
      return;
    }
    local_26._0_2_ = *param_1;
    local_26._2_2_ = 2;
    plVar15 = (long *)((int)param_1 + 0x4c);
    local_a = (uint *)param_1._2_2_;
    plVar18 = (long *)(param_2 + 0x26);
    local_4 = plVar18;
    plVar14 = local_22;
    local_6 = plVar14;
    do {
      lVar13 = *plVar18 - *plVar15;
      *plVar14 = lVar13;
      if (lVar13 != 0) {
        local_10._2_2_ = 1;
      }
      plVar15 = plVar15 + 1;
      plVar18 = plVar18 + 1;
      plVar14 = plVar14 + 1;
    } while (plVar14 < local_10 + 2);
    if (local_10._2_2_ != 0) {
      if (PTR_DAT_10a8_0000_10a8_0fc6 != (undefined *)0x0) {
        FUN_1020_44f6((long *)0x582e,(uint *)&local_26);
        PTR_DAT_10a8_0000_10a8_0fc6 = (undefined *)0x0;
        return;
      }
      puVar12 = (undefined4 *)0x582e;
      puVar16 = &local_26;
      for (iVar11 = 6; iVar11 != 0; iVar11 = iVar11 + -1) {
        puVar5 = puVar12;
        puVar12 = puVar12 + 1;
        puVar3 = puVar16;
        puVar16 = puVar16 + 1;
        *puVar5 = *puVar3;
      }
      PTR_DAT_10a8_0000_10a8_0fc6 = (undefined *)&DAT_10a8_0001;
      return;
    }
    if (((*(byte *)((int)param_1 + 5) ^ *(byte *)((int)param_2 + 5)) & 2) != 0) {
      local_10._0_2_ = *param_2;
      local_10._2_2_ = ((*(byte *)((int)param_2 + 5) & 2) << 8) >> 9;
      FUN_1020_4788(10,4,(undefined2 *)local_10);
    }
    local_a = (uint *)(param_2[0x31] - *(int *)((int)param_1 + 0x62));
    local_6 = (long *)0x0;
    if (0 < *(int *)((int)param_1 + 0x62)) {
      local_4 = (long *)0x0;
      do {
        puVar1 = param_2 + 0x31;
        if ((long *)*puVar1 == local_6 || (int)*puVar1 < (int)local_6) break;
        uVar8 = *(undefined4 *)(param_2 + 0x32);
        uVar20 = (undefined2)((ulong)uVar8 >> 0x10);
        piVar19 = (int *)((int)local_4 + (int)uVar8 + 4);
        uVar8 = *(undefined4 *)((int)param_1 + 100);
        piVar10 = (int *)((int)local_4 + (int)uVar8 + 4);
        uVar9 = (undefined2)((ulong)uVar8 >> 0x10);
        iVar11 = 9;
        bVar21 = true;
        do {
          if (iVar11 == 0) break;
          iVar11 = iVar11 + -1;
          piVar4 = piVar19;
          piVar19 = piVar19 + 1;
          piVar2 = piVar10;
          piVar10 = piVar10 + 1;
          bVar21 = *piVar2 == *piVar4;
        } while (bVar21);
        if (bVar21) {
          bVar21 = iVar11 == 0;
          do {
            if (iVar11 == 0) break;
            iVar11 = iVar11 + -1;
            piVar4 = piVar19;
            piVar19 = (int *)((int)piVar19 + 1);
            piVar2 = piVar10;
            piVar10 = (int *)((int)piVar10 + 1);
            bVar21 = *(char *)piVar2 == *(char *)piVar4;
          } while (bVar21);
        }
        if (!bVar21) break;
        local_4 = (long *)((int)local_4 + 0x12);
        local_6 = (long *)((int)local_6 + 1);
        puVar1 = (uint *)((int)param_1 + 0x62);
      } while ((long *)*puVar1 != local_6 && (int)local_6 <= (int)*puVar1);
    }
    uVar7 = (uint)local_6;
    local_8 = (uint)local_6;
    if (((long *)*(uint *)((int)param_1 + 0x62) != local_6) || (local_a != (uint *)0x0)) {
      if ((int)local_a < 0) {
        local_10._0_2_ = *param_2;
        local_10._2_2_ = (uint)local_6;
        if (local_a == (uint *)0xfffe) {
          local_10._2_2_ = (uint)local_6 | 0x8000;
        }
        puVar17 = (uint *)local_10;
        iVar11 = 3;
        uVar22 = 4;
      }
      else if ((int)local_a < 1) {
        local_6 = (long *)0x16;
        iVar11 = FUN_1020_4854(&local_c,(uint *)&DAT_10a8_7d64);
        if ((((iVar11 != 0) && ((local_c._1_1_ & 0xfc) == 0x14)) && (*param_2 == DAT_10a8_7d64)) &&
           (local_8 == _DAT_10a8_7d66)) {
          PTR_DAT_10a8_0000_10a8_0fd2 = DAT_10a8_0fd4;
        }
        local_26._0_2_ = *param_2;
        local_26._2_2_ = local_8;
        uVar7 = param_2[0x33];
        plVar14 = (long *)(param_2[0x32] + local_8 * 0x12);
        plVar15 = local_22;
        for (iVar11 = 4; plVar14 = plVar14 + 1, iVar11 != 0; iVar11 = iVar11 + -1) {
          plVar6 = plVar15;
          plVar15 = plVar15 + 1;
          *plVar6 = *plVar14;
        }
        *(undefined2 *)plVar15 = *(undefined2 *)plVar14;
        local_a = (uint *)&local_26;
        plVar15 = (long *)local_10;
        local_4 = plVar15;
        uVar7 = (uint)local_6;
        do {
          uVar22 = uVar7;
          plVar15 = (long *)((int)plVar15 + -1);
          if ((int)uVar22 < 1) break;
          uVar7 = uVar22 - 1;
        } while (*(char *)plVar15 == '\0');
        puVar17 = (uint *)&local_26;
        iVar11 = 5;
      }
      else {
        local_6 = (long *)0x16;
        local_26._0_2_ = *param_2;
        local_26._2_2_ = uVar7;
        uVar22 = param_2[0x33];
        plVar14 = (long *)(param_2[0x32] + uVar7 * 0x12);
        plVar15 = local_22;
        for (iVar11 = 4; plVar14 = plVar14 + 1, iVar11 != 0; iVar11 = iVar11 + -1) {
          plVar6 = plVar15;
          plVar15 = plVar15 + 1;
          *plVar6 = *plVar14;
        }
        *(undefined2 *)plVar15 = *(undefined2 *)plVar14;
        local_a = (uint *)&local_26;
        plVar15 = (long *)local_10;
        local_4 = plVar15;
        uVar7 = (uint)local_6;
        do {
          uVar22 = uVar7;
          plVar15 = (long *)((int)plVar15 + -1);
          if ((int)uVar22 < 1) break;
          uVar7 = uVar22 - 1;
        } while (*(char *)plVar15 == '\0');
        puVar17 = (uint *)&local_26;
        iVar11 = 4;
      }
      FUN_1020_4788(iVar11,uVar22,puVar17);
    }
  }
  return;
}



void __cdecl16far FUN_1020_4140(void)

{
  int iVar1;
  undefined2 local_4;

  iVar1 = FUN_1020_4854(&local_4,(uint *)&DAT_10a8_7d64);
  if ((iVar1 != 0) && ((local_4._1_1_ & 0xfc) == 0x98)) {
    PTR_DAT_10a8_0000_10a8_0fd2 = DAT_10a8_0fd4;
  }
  FUN_1020_4788(0x26,(uint)PTR_DAT_10a8_0002_10a8_0038,
                (undefined2 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x775c));
  if (((DAT_10a8_0a47 & 0x40) != 0) && (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0x0)) {
    DAT_10a8_8318 = DAT_10a8_8318 | 4;
    FUN_1090_88fa();
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1020_4198(void)

{
  uint uVar1;
  int iVar2;
  undefined2 local_6;
  uint local_4;

  iVar2 = FUN_1020_4854(&local_6,(uint *)&DAT_10a8_7d64);
  if ((iVar2 != 0) && ((local_6._1_1_ & 0xfc) == 0xa8)) {
    PTR_DAT_10a8_0000_10a8_0fd2 = DAT_10a8_0fd4;
  }
  uVar1 = *(uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
  local_4 = local_4 ^ (byte)((byte)(uVar1 >> 2) ^ (byte)local_4) & 7;
  local_4 = local_4 ^ (byte)((byte)local_4 ^ (byte)(uVar1 << 2)) & 8;
  local_4 = local_4 ^ (byte)((byte)local_4 ^ (byte)(uVar1 << 4)) & 0x10;
  local_4 = (local_4 ^ (byte)((byte)local_4 ^ (byte)uVar1) & 0x20) & 0x3f;
  FUN_1020_4788(0x2a,2,&local_4);
  if (((DAT_10a8_0a47 & 0x40) != 0) && (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0x0)) {
    DAT_10a8_8318 = DAT_10a8_8318 | 4;
    FUN_1090_88fa();
  }
  return;
}



void __cdecl16far FUN_1020_4230(byte *param_1)

{
  int iVar1;
  undefined2 local_4;

  iVar1 = FUN_1020_4854(&local_4,(uint *)&DAT_10a8_7d64);
  if (((iVar1 != 0) && ((local_4._1_1_ & 0xfc) == 0x78)) &&
     (((*param_1 ^ (byte)DAT_10a8_7d64) & 0xf0) == 0)) {
    PTR_DAT_10a8_0000_10a8_0fd2 = DAT_10a8_0fd4;
  }
  FUN_1040_3258(CONCAT22(0x10a8,param_1),1);
  if (((DAT_10a8_0a47 & 0x40) != 0) && (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0x0)) {
    DAT_10a8_8318 = DAT_10a8_8318 | 4;
    FUN_1090_88fa();
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_428c(int *param_1,int *param_2)

{
  int *piVar1;
  undefined4 *puVar2;
  int *piVar3;
  undefined4 *puVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  ulong uVar9;
  undefined2 uVar10;
  undefined4 *puVar11;
  long lVar12;
  long *plVar13;
  uint uVar14;
  int iVar15;
  long *plVar16;
  int *piVar17;
  long *plVar18;
  int *piVar19;
  undefined2 uVar20;
  undefined2 unaff_SS;
  bool bVar21;
  undefined4 *puVar22;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_10;
  undefined2 local_a;
  long *local_6;
  long *local_4;

  local_10._2_2_ = 0;
  if ((DAT_10a8_0a46 & 2) != 0) {
    return;
  }
  if (param_1 == (int *)0x0) {
    if (PTR_DAT_10a8_0000_10a8_0fc6 == (undefined *)0x0) {
      return;
    }
    local_28 = 0x4ffff;
    iVar15 = 0;
    do {
      iVar5 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_5832 + iVar15);
      iVar6 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_5834 + iVar15);
      *(int *)((int)&local_24 + iVar15) = -iVar5;
      *(int *)((int)&local_24 + iVar15 + 2) = -(iVar6 + (uint)(iVar5 != 0));
      iVar15 = iVar15 + 4;
    } while (iVar15 < 0x14);
LAB_1020_4336:
    if (PTR_DAT_10a8_0000_10a8_0fc6 == (undefined *)0x0) {
      puVar11 = (undefined4 *)0x582e;
      puVar22 = &local_28;
      for (iVar15 = 6; iVar15 != 0; iVar15 = iVar15 + -1) {
        puVar4 = puVar11;
        puVar11 = puVar11 + 1;
        puVar2 = puVar22;
        puVar22 = puVar22 + 1;
        *puVar4 = *puVar2;
      }
      PTR_DAT_10a8_0000_10a8_0fc6 = (undefined *)&DAT_10a8_0001;
    }
    else {
      FUN_1020_44f6((long *)0x582e,(uint *)&local_28);
      PTR_DAT_10a8_0000_10a8_0fc6 = (undefined *)0x0;
    }
  }
  else {
    local_28 = CONCAT22(1,*param_1);
    plVar16 = (long *)((int)param_1 + 0x22);
    local_a = param_1._2_2_;
    plVar18 = (long *)(param_2 + 0x11);
    plVar13 = &local_24;
    local_6 = plVar13;
    local_4 = plVar18;
    do {
      lVar12 = *plVar18 - *plVar16;
      *plVar13 = lVar12;
      if (lVar12 != 0) {
        local_10._2_2_ = 1;
      }
      plVar16 = plVar16 + 1;
      plVar18 = plVar18 + 1;
      plVar13 = plVar13 + 1;
    } while (plVar13 < &local_10);
    if (local_10._2_2_ != 0) goto LAB_1020_4336;
  }
  if (param_1 == (int *)0x0) {
    return;
  }
  if ((*(long *)(param_2 + 0x1c) == 0) && (*(long *)((int)param_1 + 0x38) != 0)) {
    puVar22 = &local_28;
    uVar14 = 2;
  }
  else {
    if (*(long *)(param_2 + 0x1c) == 0) goto LAB_1020_4483;
    if ((*(long *)((int)param_1 + 0x38) != 0) &&
       (uVar7 = *(undefined4 *)(param_2 + 0x1c), uVar8 = *(undefined4 *)((int)param_1 + 0x38),
       *(char *)((int)uVar8 + 3) == *(char *)((int)uVar7 + 3))) {
      uVar7 = *(undefined4 *)((int)param_1 + 0x38);
      local_4 = (long *)((uint)*(byte *)((int)uVar7 + 3) << 2);
      uVar7 = *(undefined4 *)(param_2 + 0x1c);
      uVar20 = (undefined2)((ulong)uVar7 >> 0x10);
      piVar19 = (int *)((int)uVar7 + 4);
      uVar7 = *(undefined4 *)((int)param_1 + 0x38);
      piVar17 = (int *)((int)uVar7 + 4);
      uVar10 = (undefined2)((ulong)uVar7 >> 0x10);
      uVar14 = (uint)local_4 >> 1;
      bVar21 = true;
      do {
        if (uVar14 == 0) break;
        uVar14 = uVar14 - 1;
        piVar3 = piVar19;
        piVar19 = piVar19 + 1;
        piVar1 = piVar17;
        piVar17 = piVar17 + 1;
        bVar21 = *piVar1 == *piVar3;
      } while (bVar21);
      if (bVar21) {
        bVar21 = uVar14 == 0;
        do {
          if (uVar14 == 0) break;
          uVar14 = uVar14 - 1;
          piVar3 = piVar19;
          piVar19 = (int *)((int)piVar19 + 1);
          piVar1 = piVar17;
          piVar17 = (int *)((int)piVar17 + 1);
          bVar21 = *(char *)piVar1 == *(char *)piVar3;
        } while (bVar21);
      }
      if (bVar21) goto LAB_1020_4483;
    }
    iVar15 = FUN_1020_4854((uint *)&local_10,(uint *)&DAT_10a8_7d64);
    if (((iVar15 != 0) && ((local_10._1_1_ & 0xfc) == 0x74)) && (*param_1 == DAT_10a8_7d64)) {
      PTR_DAT_10a8_0000_10a8_0fd2 = DAT_10a8_0fd4;
    }
    DAT_10a8_7d64 = *param_1;
    uVar9 = *(ulong *)(param_2 + 0x1c);
    FUN_10a0_0ac6(&DAT_10a8_7d66,uVar9 & 0xffff0000 | (ulong)((int)uVar9 + 4),
                  (uint)*(byte *)((int)uVar9 + 3) << 2);
    puVar22 = (undefined4 *)&DAT_10a8_7d64;
    uVar7 = *(undefined4 *)(param_2 + 0x1c);
    uVar14 = (uint)*(byte *)((int)uVar7 + 3) * 4 + 2;
  }
  FUN_1020_4788(0x1d,uVar14,(undefined2 *)puVar22);
LAB_1020_4483:
  if ((((*(uint *)((int)param_1 + 0x20) ^ param_2[0x10]) & 0x80) != 0) ||
     (((*(ulong *)((int)param_1 + 0x1e) ^ *(ulong *)(param_2 + 0xf)) & 0x7000000) != 0)) {
    DAT_10a8_7d64 = *param_2;
    _DAT_10a8_7d66 = (ulong)((uint)param_2[0x10] >> 7 & 1 ^ (uint)param_2[0x10] >> 7 & 0xe);
    FUN_1020_4788(0x23,6,(undefined2 *)&DAT_10a8_7d64);
  }
  return;
}



void __cdecl16far FUN_1020_44f6(long *param_1,uint *param_2)

{
  uint uVar1;
  uint uVar2;
  long *plVar3;
  long *plVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  undefined2 unaff_SS;
  bool bVar8;
  undefined2 local_22;
  uint local_20;
  undefined local_1e;
  long local_1d [3];
  undefined2 local_10;
  uint local_e;
  uint local_c;
  int iStack_a;
  uint local_8;
  undefined2 *local_6;
  int local_4;

  local_c = 0;
  iStack_a = 0;
  local_8 = 0;
  uVar7 = 1;
  local_4 = 5;
  plVar3 = param_1;
  do {
    plVar4 = plVar3 + 1;
    if (*plVar4 != 0) {
      local_8 = local_8 | uVar7;
    }
    uVar1 = *(uint *)plVar4;
    iVar5 = *(int *)((int)plVar3 + 6);
    if (iVar5 < 0) {
      bVar8 = uVar1 != 0;
      uVar1 = -uVar1;
      iVar5 = -(iVar5 + (uint)bVar8);
    }
    if ((iVar5 <= iStack_a) && ((iVar5 < iStack_a || (uVar1 < local_c)))) {
      iVar5 = iStack_a;
      uVar1 = local_c;
    }
    uVar7 = uVar7 * 2;
    local_4 = local_4 + -1;
    plVar3 = plVar4;
    local_c = uVar1;
    iStack_a = iVar5;
  } while (local_4 != 0);
  if (local_8 != 0) {
    uVar7 = local_22 ^
            ((byte)((byte)((ulong)(uint)(*(int *)((int)param_1 + 2) << 0xd) >> 8) ^ local_22._1_1_)
            & 0xe0) << 8;
    uVar6 = local_20 & 0x1fff ^ param_2[1] << 0xd;
    uVar2 = uVar7 ^ *(uint *)param_1;
    local_22 = uVar7 ^ (uVar2 & 0xff | ((byte)((ulong)uVar2 >> 8) & 0x1f) << 8);
    uVar7 = *param_2 ^ uVar6;
    local_20 = uVar6 ^ (uVar7 & 0xff | ((byte)((ulong)uVar7 >> 8) & 0x1f) << 8);
    local_1e = (undefined)local_8;
    local_e = 5;
    local_10 = 0;
    if ((iVar5 < 1) && ((iVar5 < 0 || (uVar1 < 0x80)))) {
      local_8 = 1;
      local_4 = 5;
      iVar5 = 0;
      uVar7 = 5;
      do {
        param_1 = param_1 + 1;
        if (*param_1 != 0) {
          *(undefined *)((int)local_1d + iVar5) = *(undefined *)param_1;
          iVar5 = iVar5 + 1;
          uVar7 = uVar7 + 1;
        }
        local_4 = local_4 + -1;
        local_e = uVar7;
      } while (local_4 != 0);
    }
    else if ((iVar5 < 1) && ((iVar5 < 0 || (uVar1 < 0x8000)))) {
      local_8 = 2;
      local_6 = &local_22;
      local_4 = 5;
      uVar7 = 5;
      plVar3 = local_1d;
      do {
        param_1 = param_1 + 1;
        plVar4 = plVar3;
        if (*param_1 != 0) {
          plVar4 = (long *)((int)plVar3 + 2);
          *(undefined2 *)plVar3 = *(undefined2 *)param_1;
          uVar7 = uVar7 + 2;
        }
        local_4 = local_4 + -1;
        plVar3 = plVar4;
      } while (local_4 != 0);
    }
    else {
      local_8 = 0x19;
      local_6 = &local_22;
      local_4 = 5;
      uVar7 = 5;
      plVar3 = local_1d;
      do {
        param_1 = param_1 + 1;
        plVar4 = plVar3;
        if (*param_1 != 0) {
          plVar4 = plVar3 + 1;
          *plVar3 = *param_1;
          uVar7 = uVar7 + 4;
        }
        local_4 = local_4 + -1;
        plVar3 = plVar4;
      } while (local_4 != 0);
    }
    FUN_1020_4788(local_8,uVar7,&local_22);
  }
  return;
}



void __cdecl16far FUN_1020_4692(uint *param_1,uint *param_2)

{
  uint uVar1;
  int iVar2;
  uint *puVar3;
  uint uVar4;
  uint *puVar5;
  undefined2 local_36;
  uint local_34;
  uint local_32;
  uint local_30 [17];
  undefined2 local_e;
  undefined2 local_c;
  uint local_a;
  uint *local_8;
  undefined2 *local_6;
  uint *local_4;

  local_a = 0;
  uVar4 = 1;
  puVar3 = param_1 + 2;
  local_4 = (uint *)0x10;
  do {
    if (*puVar3 != 0) {
      local_a = local_a | uVar4;
    }
    puVar3 = puVar3 + 1;
    uVar4 = uVar4 * 2;
    local_4 = (uint *)((int)local_4 + -1);
  } while (local_4 != (uint *)0x0);
  if (local_a != 0) {
    local_6 = &local_36;
    uVar4 = local_36 ^ ((byte)((byte)((param_1[1] << 0xd) >> 8) ^ local_36._1_1_) & 0xe0) << 8;
    uVar1 = local_34 & 0x1fff ^ param_2[1] << 0xd;
    local_36 = uVar4 ^ (uVar4 ^ *param_1) & 0x1fff;
    local_34 = uVar1 ^ (*param_2 ^ uVar1) & 0x1fff;
    local_32 = local_a;
    local_e = 6;
    local_8 = local_30;
    local_4 = param_1 + 2;
    local_c = 0x10;
    uVar4 = 6;
    iVar2 = 0x10;
    puVar3 = local_4;
    puVar5 = local_8;
    do {
      if (*puVar3 != 0) {
        *puVar5 = *puVar3;
        puVar5 = puVar5 + 1;
        uVar4 = uVar4 + 2;
      }
      puVar3 = puVar3 + 1;
      iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    FUN_1020_4788(0x17,uVar4,&local_36);
  }
  return;
}



void __cdecl16far FUN_1020_4774(void)

{
  PTR_DAT_10a8_0000_10a8_0fd2 =
       PTR_DAT_10a8_0000_10a8_0fd2 +
       -(int)((undefined *)((uint)PTR_DAT_10a8_0000_10a8_834c & 0x3ff) + 2);
  PTR_DAT_10a8_0000_10a8_834c = (undefined *)((uint)PTR_DAT_10a8_0000_10a8_834c & 0x3ff);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1020_4788(int param_1,uint param_2,undefined2 *param_3)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  undefined2 *puVar3;
  uint uVar4;
  undefined *puVar5;
  uint local_8;

  if (PTR_DAT_10a8_0000_10a8_0fd6 == (undefined *)0x0) {
    if (0x5ed4 < (int)(PTR_DAT_10a8_0000_10a8_0fd2 + param_2 + 2)) {
      FUN_1018_50b2(9,0x10);
    }
    FUN_1020_4832((undefined *)&DAT_10a8_0001);
    DAT_10a8_0fd4 = PTR_DAT_10a8_0000_10a8_0fd2;
    uVar4 = local_8 ^ ((local_8 ^ param_2) & 0xff |
                      ((byte)((ulong)(local_8 ^ param_2) >> 8) & 3) << 8);
    puVar5 = (undefined *)(param_1 << 10 ^ (uVar4 & 0xff | ((byte)((ulong)uVar4 >> 8) & 3) << 8));
    puVar3 = (undefined2 *)(PTR_DAT_10a8_0000_10a8_0fd2 + (int)_PTR_DAT_10a8_0000_10a8_0fce);
    *puVar3 = puVar5;
    if (0 < (int)param_2) {
      for (uVar4 = param_2 >> 1; puVar3 = puVar3 + 1, uVar4 != 0; uVar4 = uVar4 - 1) {
        puVar1 = param_3;
        param_3 = param_3 + 1;
        *puVar3 = *puVar1;
      }
      for (uVar4 = (uint)((param_2 & 1) != 0); uVar4 != 0; uVar4 = uVar4 - 1) {
        puVar2 = puVar3;
        puVar3 = (undefined2 *)((int)puVar3 + 1);
        puVar1 = param_3;
        param_3 = (undefined2 *)((int)param_3 + 1);
        *(undefined *)puVar2 = *(undefined *)puVar1;
      }
    }
    PTR_DAT_10a8_0000_10a8_0fd2 = PTR_DAT_10a8_0000_10a8_0fd2 + param_2 + 2;
    if (param_1 != 0) {
      PTR_DAT_10a8_0000_10a8_834c = puVar5;
    }
  }
  return;
}



void __cdecl16far FUN_1020_4832(undefined *param_1)

{
  if ((PTR_DAT_10a8_0000_10a8_003e != param_1) &&
     (PTR_DAT_10a8_0000_10a8_003e = param_1, PTR_DAT_10a8_0000_10a8_4b7e == (undefined *)0x0)) {
    FUN_1010_63b4((int)PTR_DAT_10a8_0000_10a8_00cc);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1020_4854(uint *param_1,uint *param_2)

{
  uint *puVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  uint *puVar5;
  undefined2 uVar6;

  if (DAT_10a8_0fd4 != -1) {
    uVar6 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_0fce >> 0x10);
    puVar5 = (uint *)((int)_PTR_DAT_10a8_0000_10a8_0fce + DAT_10a8_0fd4);
    uVar4 = *puVar5;
    *param_1 = uVar4;
    if ((uVar4 & 0x3ff) != 0) {
      for (uVar3 = (uVar4 & 0x3ff) >> 1; puVar5 = puVar5 + 1, uVar3 != 0; uVar3 = uVar3 - 1) {
        puVar2 = param_2;
        param_2 = param_2 + 1;
        *puVar2 = *puVar5;
      }
      for (uVar4 = (uint)((uVar4 & 1) != 0); uVar4 != 0; uVar4 = uVar4 - 1) {
        puVar1 = param_2;
        param_2 = (uint *)((int)param_2 + 1);
        puVar2 = puVar5;
        puVar5 = (uint *)((int)puVar5 + 1);
        *(undefined *)puVar1 = *(undefined *)puVar2;
      }
    }
    return 1;
  }
  return 0;
}



uint __cdecl16far FUN_1020_48b0(void)

{
  undefined *puVar1;
  undefined *puVar2;
  uint *puVar3;
  uint uVar4;
  int iVar5;
  uint local_8;

  puVar2 = PTR_DAT_10a8_0000_10a8_0fd6;
  iVar5 = 0;
  local_8 = 1;
  if (PTR_DAT_10a8_0000_10a8_0fd2 == (undefined *)0x0) {
    return 1;
  }
  PTR_DAT_10a8_0000_10a8_0fd6 = (undefined *)&DAT_10a8_0001;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_0fd2) {
    do {
      puVar1 = PTR_DAT_10a8_0000_10a8_0fd0;
      puVar3 = (uint *)(PTR_DAT_10a8_0000_10a8_0fce + iVar5);
      uVar4 = *puVar3;
      uVar4 = FUN_1020_492e(uVar4 >> 10,uVar4 & 0x3ff,
                            (ulong *)CONCAT22(PTR_DAT_10a8_0000_10a8_0fd0,
                                              PTR_DAT_10a8_0000_10a8_0fce + iVar5 + 2));
      local_8 = local_8 & uVar4;
      iVar5 = iVar5 + (*puVar3 & 0x3ff) + 2;
    } while (iVar5 < (int)PTR_DAT_10a8_0000_10a8_0fd2);
  }
  PTR_DAT_10a8_0000_10a8_0fd6 = puVar2;
  return local_8;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1020_492e(int param_1,uint param_2,ulong *param_3)

{
  long *plVar1;
  byte *pbVar2;
  char *pcVar3;
  int *piVar4;
  uint *puVar5;
  undefined2 *puVar6;
  undefined2 *puVar7;
  ulong *puVar8;
  char cVar9;
  byte bVar10;
  undefined4 uVar11;
  bool bVar12;
  uint uVar13;
  int iVar14;
  int iVar15;
  ulong *puVar16;
  undefined4 *puVar17;
  int *piVar18;
  uint *puVar19;
  ulong *puVar20;
  undefined *puVar21;
  int *piVar22;
  ulong uVar23;
  ulong uVar24;
  undefined3 extraout_var;
  uint uVar25;
  uint uVar26;
  uint in_DX;
  uint uVar27;
  uint uVar28;
  uint uVar29;
  int **ppiVar30;
  int **ppiVar31;
  int iVar32;
  undefined2 *puVar33;
  undefined2 uVar34;
  int unaff_SS;
  bool bVar35;
  uint uStack_126;
  uint uStack_11c;
  undefined4 local_112;
  uint local_106 [16];
  uint local_e6 [38];
  undefined4 local_9a;
  int *local_26;
  int *local_22;
  int local_1e;
  uint local_1c;
  int local_1a;
  uint local_18;
  undefined4 local_16;
  undefined *local_12;
  uint local_10;
  undefined4 local_e;
  undefined4 local_a;
  undefined4 local_6;

  iVar32 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_16 = 0;
  switch(param_1) {
  case 1:
  case 2:
  case 0x19:
    uVar26 = *(uint *)param_3;
    uVar25 = ((undefined2 *)param_3)[1];
    uVar27 = uVar25 * 2 + (uint)CARRY2(uVar26,uVar26);
    uVar25 = (uint)(CARRY2(uVar25,uVar25) || CARRY2(uVar25 * 2,(uint)CARRY2(uVar26,uVar26)));
    uVar13 = uVar26 * 4 + uVar25;
    uVar26 = (uint)(CARRY2(uVar26 * 2,uVar26 * 2) || CARRY2(uVar26 * 4,uVar25));
    iVar14 = FUN_1010_0f26((uVar27 * 2 + uVar26) * 2 +
                           (uint)(CARRY2(uVar13,uVar13) ||
                                 CARRY2(uVar13 * 2,
                                        (uint)(CARRY2(uVar27,uVar27) || CARRY2(uVar27 * 2,uVar26))))
                           & 7,*(uint *)param_3 & 0xff |
                               ((byte)((ulong)*(uint *)param_3 >> 8) & 0x1f) << 8,&local_112);
    if ((iVar14 != 0) &&
       ((local_9a._0_2_ = 0xffff, (((undefined2 *)param_3)[1] & 0xe000) == 0x8000 ||
        (uVar26 = ((undefined2 *)param_3)[1],
        iVar14 = FUN_1010_0f26(uVar26 >> 0xd,uVar26 & 0x1fff,&local_9a), iVar14 != 0)))) {
      local_1e = 0;
      do {
        local_1c = (uint)*(byte *)((undefined2 *)param_3 + 2);
        local_1a = 0;
        local_22 = (int *)((ulong)param_3 & 0xffff0000 |
                          ZEXT24((undefined *)((int)(undefined2 *)param_3 + 5U)));
        local_26 = (int *)((ulong)param_3 & 0xffff0000 |
                          ZEXT24((undefined *)((int)(undefined2 *)param_3 + 5U)));
        local_18 = local_1a;
        local_12 = (undefined *)local_1a;
        do {
          iVar14 = local_1e;
          if ((local_1c & 1) != 0) {
            if (param_1 == 1) {
              iVar15 = (int)*(char *)((int)(undefined2 *)param_3 + (int)local_12 + 5);
LAB_1020_4a72:
              uVar26 = iVar15 >> 0xf;
            }
            else {
              if (param_1 == 2) {
                iVar15 = *local_26;
                goto LAB_1020_4a72;
              }
              iVar15 = *local_22;
              uVar26 = *(uint *)((int)local_22 + 2);
            }
            local_a = CONCAT22(uVar26,iVar15);
            if (((local_1e == 0) && ((int)uVar26 < 0)) ||
               ((uVar25 = uVar26, local_1e == 1 && (-1 < (int)uVar26)))) {
              uVar25 = *(uint *)param_3;
              uVar13 = ((undefined2 *)param_3)[1];
              uVar28 = uVar13 * 2 + (uint)CARRY2(uVar25,uVar25);
              uVar13 = (uint)(CARRY2(uVar13,uVar13) ||
                             CARRY2(uVar13 * 2,(uint)CARRY2(uVar25,uVar25)));
              uVar27 = uVar25 * 4 + uVar13;
              uVar25 = (uint)(CARRY2(uVar25 * 2,uVar25 * 2) || CARRY2(uVar25 * 4,uVar13));
              uVar29 = uVar28 * 2 + uVar25;
              uVar25 = (uint)(CARRY2(uVar28,uVar28) || CARRY2(uVar28 * 2,uVar25));
              uVar13 = (uint)(CARRY2(uVar27,uVar27) || CARRY2(uVar27 * 2,uVar25));
              uVar25 = (uVar27 * 2 + uVar25) * 2 +
                       (uint)(CARRY2(uVar29,uVar29) || CARRY2(uVar29 * 2,uVar13));
              iVar15 = FUN_1028_2f36(uVar29 * 2 + uVar13 & 7,
                                     *(uint *)param_3 & 0xff |
                                     ((byte)((ulong)*(uint *)param_3 >> 8) & 0x1f) << 8,local_18,
                                     CONCAT22(uVar26,iVar15),&local_112);
              if (iVar15 != (uint)local_a) {
                return 0;
              }
              if (uVar25 != local_a._2_2_) {
                return 0;
              }
            }
            if ((((iVar14 == 0) && (-1 < (int)uVar25)) || ((iVar14 == 1 && ((int)uVar25 < 0)))) &&
               ((((undefined2 *)param_3)[1] & 0xe000) != 0x8000)) {
              if (((((local_1a == 0x10) && ((uVar25 | (uint)local_a) != 0)) &&
                   ((*(byte *)&DAT_10a8_0a46 & 2) != 0)) &&
                  (((((undefined2 *)param_3)[1] & 0xe000) == 0x2000 &&
                   ((*(byte *)((int)(undefined2 *)param_3 + 1) & 0xe0) == 0x40)))) &&
                 (local_9a._2_2_ != local_112._2_2_)) {
                puVar19 = *(uint **)&PTR_DAT_10a8_0000_10a8_0fd8;
                uVar26 = *(uint *)&PTR_DAT_10a8_0000_10a8_0fda;
                local_e = (uint *)((ulong)local_e & 0xffff | (ulong)uVar26 << 0x10);
                local_10 = 0;
                if ((long)local_a < 1) {
                  local_e = (uint *)CONCAT22(uVar26,puVar19);
                  if (*(int *)&PTR_DAT_10a8_0000_10a8_8854 < 1) {
                    iVar14 = 0;
                  }
                  else {
                    iVar14 = 0;
                    do {
                      if ((*puVar19 == (uint)local_112) &&
                         (iVar32 = unaff_SS, puVar19[2] == (uint)local_9a)) break;
                      puVar19 = puVar19 + 6;
                      iVar14 = iVar14 + 1;
                      piVar4 = (int *)&PTR_DAT_10a8_0000_10a8_8854;
                      iVar32 = unaff_SS;
                    } while (*piVar4 != iVar14 && iVar14 <= *piVar4);
                  }
                  if (iVar14 == *(int *)&PTR_DAT_10a8_0000_10a8_8854) {
                    *puVar19 = (uint)local_112;
                    puVar19[1] = local_112._2_2_;
                    puVar19[2] = (uint)local_9a;
                    *(undefined4 *)(puVar19 + 4) = 0;
                    puVar5 = puVar19 + 3;
                    *puVar5 = *puVar5 ^ (*(byte *)(puVar19 + 3) ^ local_9a._2_2_ != 0xffff) & 1;
                    piVar4 = (int *)&PTR_DAT_10a8_0000_10a8_8854;
                    *piVar4 = *piVar4 + 1;
                  }
                  plVar1 = (long *)(puVar19 + 4);
                  *plVar1 = *plVar1 - local_a;
                }
                else {
                  local_16 = *(ulong *)&PTR_DAT_10a8_0000_10a8_0fdc;
                  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_8854) {
                    local_e = (uint *)CONCAT22(uVar26,puVar19);
                    iVar14 = 0;
                    do {
                      if ((long)local_a < 1) break;
                      if ((puVar19[2] == (uint)local_9a) && (puVar19[1] == local_112._2_2_)) {
                        uVar23 = *(ulong *)(puVar19 + 4);
                        uVar25 = puVar19[5];
                        if ((long)local_a < (long)uVar23) {
                          uVar23 = local_a & 0xffff;
                          uVar25 = local_a._2_2_;
                        }
                        uVar27 = (uint)uVar23;
                        local_6 = uVar23 & 0xffff | (ulong)uVar25 << 0x10;
                        local_a = CONCAT22((local_a._2_2_ - uVar25) - (uint)((uint)local_a < uVar27)
                                           ,(uint)local_a - uVar27);
                        puVar5 = puVar19 + 4;
                        uVar13 = *puVar5;
                        *puVar5 = *puVar5 - uVar27;
                        puVar5 = puVar19 + 5;
                        *puVar5 = (*puVar5 - uVar25) - (uint)(uVar13 < uVar27);
                      }
                      iVar14 = iVar14 + 1;
                    } while (iVar14 < *(int *)&PTR_DAT_10a8_0000_10a8_8854);
                  }
                }
              }
              else if ((((uVar25 | (uint)local_a) == 0) || ((*(byte *)&DAT_10a8_0a46 & 2) == 0)) ||
                      (local_9a._2_2_ == local_112._2_2_)) {
                uVar26 = ((undefined2 *)param_3)[1];
                uVar25 = uVar26 & 0x1fff;
                uVar26 = FUN_1028_2f36(uVar26 >> 0xd,uVar25,local_18,
                                       CONCAT22(-(local_a._2_2_ + ((uint)local_a != 0)),
                                                -(uint)local_a),&local_9a);
                if ((uVar25 + local_a._2_2_ + (uint)CARRY2(uVar26,(uint)local_a) |
                    uVar26 + (uint)local_a) != 0) {
                  return 0;
                }
              }
              else {
                puVar16 = (ulong *)(*(int *)&PTR_DAT_10a8_0000_10a8_85b6 * 0x18 +
                                   *(int *)&PTR_DAT_10a8_0000_10a8_0fdc);
                uVar26 = *(uint *)&PTR_DAT_10a8_0000_10a8_0fde;
                local_e = (uint *)((ulong)local_e & 0xffff | (ulong)uVar26 << 0x10);
                if ((long)local_a < 1) {
                  if ((local_16._2_2_ | (uint)(ulong *)local_16) == 0) {
                    local_16._0_2_ = *(ulong **)&PTR_DAT_10a8_0000_10a8_0fdc;
                    local_16 = (ulong)uVar26 << 0x10;
                    if ((ulong *)local_16 < puVar16) {
                      local_e = (uint *)CONCAT22(uVar26,puVar16);
                      do {
                        iVar32 = unaff_SS;
                        if (*(ulong *)local_16 == *param_3) break;
                        local_16._0_2_ = (ulong *)local_16 + 6;
                      } while ((ulong *)local_16 < puVar16);
                    }
                    if ((puVar16 == (ulong *)local_16) && (local_e._2_2_ == uVar26)) {
                      piVar4 = (int *)&PTR_DAT_10a8_0000_10a8_85b6;
                      *piVar4 = *piVar4 + 1;
                      puVar16 = (ulong *)local_16;
                      for (iVar14 = 6; iVar14 != 0; iVar14 = iVar14 + -1) {
                        puVar8 = puVar16;
                        puVar16 = puVar16 + 1;
                        *puVar8 = 0;
                      }
                      *(ulong *)local_16 = *param_3;
                    }
                  }
                  *(long *)((int)(ulong *)local_16 + local_1a + 4) =
                       *(long *)((int)(ulong *)local_16 + local_1a + 4) - local_a;
                  local_16 = local_16 & 0xffff0000 | ZEXT24((ulong *)local_16);
                }
                else {
                  puVar20 = *(ulong **)&PTR_DAT_10a8_0000_10a8_0fdc;
                  if (puVar20 < puVar16) {
                    local_e = (uint *)CONCAT22(uVar26,puVar16);
                    do {
                      if ((long)local_a < 1) break;
                      uVar23 = *puVar20 ^ *param_3;
                      if ((((((*(uint *)((int)puVar20 + 2) ^ ((undefined2 *)param_3)[1]) & 0xe000)
                             == 0) && ((uVar23 & 0x1fff0000) == 0)) &&
                          ((*(byte *)((int)puVar20 + 1) & 0xe0) == 0x40)) &&
                         ((uVar23 & 0x1e00) == 0)) {
                        uVar23 = *(ulong *)((int)puVar20 + local_1a + 4);
                        uStack_11c = (uint)(uVar23 >> 0x10);
                        uVar24 = uVar23;
                        if ((long)local_a < (long)uVar23) {
                          uVar24 = local_a & 0xffff;
                          uStack_11c = local_a._2_2_;
                        }
                        local_6 = uVar24 & 0xffff | (ulong)uStack_11c << 0x10;
                        local_a = CONCAT22((local_a._2_2_ - uStack_11c) -
                                           (uint)((uint)local_a < (uint)uVar24),
                                           (uint)local_a - (uint)uVar24);
                        *(long *)((int)puVar20 + local_1a + 4) = uVar23 - local_6;
                      }
                      puVar20 = puVar20 + 6;
                    } while (puVar20 < puVar16);
                  }
                  local_16 = 0;
                }
              }
            }
            local_22 = (int *)((ulong)local_22 & 0xffff0000 | (ulong)((int)local_22 + 4));
            local_26 = (int *)((ulong)local_26 & 0xffff0000 | (ulong)((int)local_26 + 2));
            local_12 = (undefined *)((int)local_12 + 1);
          }
          local_18 = local_18 + 1;
          local_1c = local_1c >> 1;
          local_1a = local_1a + 4;
        } while (local_1a < 0x14);
        local_1e = local_1e + 1;
        if (1 < local_1e) {
          if ((*(byte *)((int)(undefined2 *)param_3 + 1) & 0xe0) == 0x40) {
            FUN_1010_0cda(0xffff,&local_112);
          }
          else {
            FUN_1010_02b0(-1,&local_112);
          }
          if ((((undefined2 *)param_3)[1] & 0xe000) != 0x4000) {
            FUN_1010_02b0(-1,&local_9a);
            return 1;
          }
          FUN_1010_0cda(0xffff,&local_9a);
          return 1;
        }
      } while( true );
    }
    break;
  case 3:
    piVar22 = FUN_1010_0c48(*(uint *)param_3);
    local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
    if ((((in_DX | (uint)piVar22) != 0) && (0 < piVar22[0x31])) &&
       (uVar26 = ((undefined2 *)param_3)[1],
       local_12 = (undefined *)(uVar26 & 0xff | ((byte)((ulong)uVar26 >> 8) & 0x7f) << 8),
       (int)local_12 < piVar22[0x31])) {
      bVar12 = (*(byte *)((int)(undefined2 *)param_3 + 3) & 0x80) != 0;
      local_a = (ulong)CONCAT12(bVar12,(uint)local_a);
      if ((!bVar12) ||
         (piVar4 = piVar22 + 0x31,
         *piVar4 != (int)local_12 + 1U && (int)((int)local_12 + 1U) <= *piVar4)) {
        local_a._2_2_ = (uint)bVar12;
        iVar32 = piVar22[0x32];
        iVar14 = piVar22[0x33];
        FUN_10a0_0ac6(CONCAT22(iVar14,iVar32 + (int)local_12 * 0x12 + 4),
                      CONCAT22(iVar14,iVar32 + (local_a._2_2_ + (int)local_12) * 0x12 + 0x16),
                      ((piVar22[0x31] - local_a._2_2_) - (int)local_12) * 0x12 - 0x12);
        piVar4 = piVar22 + 0x31;
        *piVar4 = *piVar4 - (local_a._2_2_ + 1);
        uVar11 = *(undefined4 *)(piVar22 + 0x32);
        pcVar3 = (char *)((int)uVar11 + 3);
        *pcVar3 = *pcVar3 - (local_a._2_1_ + '\x01');
        return 1;
      }
    }
    break;
  case 4:
    piVar22 = FUN_1010_0c48(*(uint *)param_3);
    local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
    uVar26 = in_DX | (uint)piVar22;
    if (((uVar26 != 0) && (-1 < (int)((undefined2 *)param_3)[1])) &&
       ((int)((undefined2 *)param_3)[1] <= piVar22[0x31])) {
      uVar11 = *(undefined4 *)(piVar22 + 0x32);
      uVar25 = (uint)*(byte *)((int)uVar11 + 2);
      if (uVar25 == piVar22[0x31]) {
        uVar11 = *(undefined4 *)(piVar22 + 0x32);
        iVar32 = FUN_1038_0522((uint *)uVar11,(int)((ulong)uVar11 >> 0x10),uVar25 + 3);
        piVar22[0x32] = iVar32;
        piVar22[0x33] = uVar26;
      }
      iVar32 = piVar22[0x33];
      iVar14 = piVar22[0x32] + ((undefined2 *)param_3)[1] * 0x12;
      FUN_10a0_0ac6(CONCAT22(iVar32,iVar14 + 0x16),CONCAT22(iVar32,iVar14 + 4),
                    (piVar22[0x31] - ((undefined2 *)param_3)[1]) * 0x12);
      if (param_2 < 0x16) {
        uVar11 = *(undefined4 *)(piVar22 + 0x32);
        uVar34 = (undefined2)((ulong)uVar11 >> 0x10);
        puVar17 = (undefined4 *)(((undefined2 *)param_3)[1] * 0x12 + (int)uVar11);
        for (iVar32 = 4; puVar17 = puVar17 + 1, iVar32 != 0; iVar32 = iVar32 + -1) {
          *puVar17 = 0;
        }
        *(undefined2 *)puVar17 = 0;
      }
      FUN_10a0_0ac6(CONCAT22(piVar22[0x33],piVar22[0x32] + ((undefined2 *)param_3)[1] * 0x12 + 4),
                    (ulong)param_3 & 0xffff0000 | ZEXT24((undefined2 *)param_3 + 2),param_2 - 4);
      piVar4 = piVar22 + 0x31;
      *piVar4 = *piVar4 + 1;
      uVar11 = *(undefined4 *)(piVar22 + 0x32);
      pcVar3 = (char *)((int)uVar11 + 3);
      *pcVar3 = *pcVar3 + '\x01';
      return 1;
    }
    break;
  case 5:
    piVar22 = FUN_1010_0c48(*(uint *)param_3);
    local_6 = CONCAT22(in_DX,piVar22);
    if ((((in_DX | (uint)piVar22) != 0) && (-1 < piVar22[0x31])) &&
       (local_12 = (undefined *)((undefined2 *)param_3)[1], (int)local_12 < piVar22[0x31])) {
      if (param_2 < 0x16) {
        uVar11 = *(undefined4 *)(piVar22 + 0x32);
        uVar34 = (undefined2)((ulong)uVar11 >> 0x10);
        puVar17 = (undefined4 *)((int)local_12 * 0x12 + (int)uVar11);
        for (iVar32 = 4; puVar17 = puVar17 + 1, iVar32 != 0; iVar32 = iVar32 + -1) {
          *puVar17 = 0;
        }
        *(undefined2 *)puVar17 = 0;
      }
      FUN_10a0_0ac6(CONCAT22(piVar22[0x33],piVar22[0x32] + (int)local_12 * 0x12 + 4),
                    (ulong)param_3 & 0xffff0000 | ZEXT24((undefined2 *)param_3 + 2),param_2 - 4);
      return 1;
    }
    break;
  default:
    return 1;
  case 10:
  case 0xb:
    piVar22 = FUN_1010_0c48(*(uint *)param_3);
    if ((in_DX | (uint)piVar22) != 0) {
      if (param_1 == 10) {
        puVar5 = (uint *)(piVar22 + 2);
        *puVar5 = *puVar5 ^ ((byte)((byte)((ulong)(uint)(((undefined2 *)param_3)[1] << 9) >> 8) ^
                                   *(byte *)((int)piVar22 + 5)) & 2) << 8;
        return 1;
      }
      if (piVar22[0x31] <= (int)((undefined2 *)param_3)[1]) {
        return 0;
      }
      if (5 < (int)((undefined2 *)param_3)[2]) {
        return 0;
      }
      iVar32 = piVar22[0x33];
      iVar14 = ((undefined2 *)param_3)[1] * 0x12 + piVar22[0x32];
      puVar5 = (uint *)(iVar14 + 10);
      *puVar5 = *puVar5 ^ (*(byte *)(iVar14 + 10) ^ *(byte *)((undefined2 *)param_3 + 2)) & 0xf;
      return 1;
    }
    break;
  case 0x17:
    iVar32 = FUN_1010_0f26(2,*(uint *)param_3 & 0xff |
                             ((byte)((ulong)*(uint *)param_3 >> 8) & 0x1f) << 8,&local_112);
    if (((iVar32 != 0) &&
        (uVar26 = ((undefined2 *)param_3)[1],
        iVar32 = FUN_1010_0f26(2,uVar26 & 0xff | ((byte)((ulong)uVar26 >> 8) & 0x1f) << 8,&local_9a)
        , iVar32 != 0)) && (local_9a._2_2_ == local_112._2_2_)) {
      local_1e = 0;
      do {
        local_1c = ((undefined2 *)param_3)[2];
        puVar19 = local_106;
        local_e = (uint *)((ulong)param_3 & 0xffff0000 | ZEXT24((undefined2 *)param_3 + 3));
        local_6 = local_6 & 0xffff | ZEXT24(puVar19) << 0x10;
        do {
          if ((local_1c & 1) != 0) {
            uVar26 = *local_e;
            iVar32 = (int)uVar26 >> 0xf;
            local_a = (ulong)(int)uVar26;
            if (((local_1e == 0) && (iVar32 < 0)) || ((local_1e == 1 && (-1 < iVar32)))) {
              uVar25 = *puVar19;
              if ((int)(((int)uVar25 >> 0xf) + iVar32 + (uint)CARRY2(uVar25,uVar26)) < 0) {
                iVar32 = -*puVar19;
LAB_1020_523d:
                local_a = (ulong)iVar32;
              }
              else {
                uVar25 = 0x7ffe - *puVar19;
                iVar14 = (int)uVar25 >> 0xf;
                if ((iVar14 <= iVar32) && ((iVar14 < iVar32 || (uVar25 <= uVar26)))) {
                  iVar32 = 0x7ffd - *puVar19;
                  goto LAB_1020_523d;
                }
              }
              puVar5 = puVar19;
              *puVar5 = *puVar5 + (uint)local_a;
            }
            if (((local_1e == 0) && (-1 < (long)local_a)) ||
               ((local_1e == 1 && ((long)local_a < 0)))) {
              uVar26 = puVar19[0x3c];
              if ((int)((((int)uVar26 >> 0xf) - local_a._2_2_) - (uint)(uVar26 < (uint)local_a)) < 0
                 ) {
                uVar26 = puVar19[0x3c];
LAB_1020_5296:
                local_a = (ulong)(int)uVar26;
              }
              else {
                uVar26 = 0x7ffe - puVar19[0x3c];
                iVar32 = (int)uVar26 >> 0xf;
                iVar14 = local_a._2_2_ + ((uint)local_a != 0);
                iVar15 = -iVar14;
                bVar35 = SBORROW2(iVar32,iVar15);
                bVar12 = iVar32 + iVar14 < 0;
                if ((iVar32 == iVar15 || bVar35 != bVar12) &&
                   ((bVar35 != bVar12 || (uVar26 <= -(uint)local_a)))) {
                  uVar26 = puVar19[0x3c] + 0x8003;
                  goto LAB_1020_5296;
                }
              }
              puVar5 = puVar19 + 0x3c;
              *puVar5 = *puVar5 - (uint)local_a;
            }
            local_e = (uint *)((ulong)local_e & 0xffff0000 | (ulong)((int)local_e + 2));
          }
          local_1c = local_1c >> 1;
          puVar19 = puVar19 + 1;
        } while (puVar19 < local_e6);
        local_1e = local_1e + 1;
      } while (local_1e < 2);
      FUN_1028_555a((int)&local_112,(int)&local_9a);
      ppiVar31 = (int **)&local_112;
      do {
        FUN_1010_0cda(0xffff,ppiVar31);
        iVar32 = 0;
        ppiVar30 = ppiVar31 + 3;
        local_6 = CONCAT22(ppiVar30,ppiVar31);
        do {
          if (*(int *)ppiVar30 != 0) break;
          ppiVar30 = (int **)((int)ppiVar30 + 2);
          iVar32 = iVar32 + 1;
        } while (iVar32 < 0x10);
        if (iVar32 == 0x10) {
          FUN_1010_110c(*(int *)ppiVar31,0,(undefined *)0x0);
        }
        ppiVar31 = ppiVar31 + 0x1e;
        if (&local_22 <= ppiVar31) {
          return 1;
        }
      } while( true );
    }
    break;
  case 0x18:
  case 0x25:
    iVar32 = FUN_1010_0f26(2,*(uint *)param_3,&local_112);
    if (iVar32 != 0) {
      if (param_1 == 0x18) {
        puVar17 = FUN_1010_146e((int)&local_112);
        in_DX = in_DX | (uint)puVar17;
      }
      else {
        bVar12 = FUN_1010_155a((uint *)&local_112);
        in_DX = (uint)CONCAT31(extraout_var,bVar12);
      }
      if (in_DX != 0) {
        return 1;
      }
    }
    break;
  case 0x1b:
    local_18 = (byte)((ulong)*(uint *)param_3 >> 8) & 0xf;
    local_12 = (undefined *)((*(uint *)param_3 & 0xf0) >> 4);
    if ((((int)local_12 < (int)PTR_DAT_10a8_0002_10a8_0038) && (local_18 < 0x10)) &&
       (local_12 == PTR_DAT_10a8_0001_10a8_00c0)) {
      uVar23 = *(ulong *)((int)local_12 * 4 + 0x72);
      uVar34 = (undefined2)(uVar23 >> 0x10);
      uVar26 = (int)uVar23 + local_18 * 0x87;
      local_6 = uVar23 & 0xffff0000 | (ulong)uVar26;
      if ((((*(byte *)(uVar26 + 0x7c) & 2) != 0) || (*(int *)(uVar26 + 0x81) == 0)) ||
         ((*(byte *)param_3 & 0xf) == 0)) {
        local_6._2_2_ = (undefined2)((uVar23 & 0xffff0000) >> 0x10);
        if ((*(byte *)param_3 & 0xf) == 0) {
          if ((*(byte *)(uVar26 + 0x7c) & 2) == 0) {
            if (*(int *)(uVar26 + 0x81) != 0) {
              FUN_1028_5a3e(local_18,(int)PTR_DAT_10a8_0001_10a8_00c0);
            }
            pbVar2 = (byte *)(uVar26 + 0x7c);
            *pbVar2 = *pbVar2 | 2;
            pcVar3 = (char *)((int)&DAT_10a8_885f + (int)local_12 * 0x76);
            *pcVar3 = *pcVar3 + -1;
            return 1;
          }
          return 1;
        }
        if ((*(byte *)param_3 & 0xf) == 1) {
          if ((*(byte *)(uVar26 + 0x7c) & 2) != 0) {
            pcVar3 = (char *)((int)&DAT_10a8_885f + (int)local_12 * 0x76);
            *pcVar3 = *pcVar3 + '\x01';
          }
          FUN_1040_0000((undefined2 *)param_3 + 1,param_3._2_2_,uVar23);
          return 1;
        }
        return 1;
      }
    }
    break;
  case 0x1d:
    local_a = local_a & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_006c) << 0x10;
    piVar18 = (int *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
    uVar23 = local_6 & 0xffff;
    piVar22 = (int *)PTR_DAT_10a8_0000_10a8_006a;
    if (PTR_DAT_10a8_0000_10a8_006a < piVar18) {
      uVar23 = ZEXT24(piVar18);
      do {
        iVar32 = unaff_SS;
        if (*(int *)param_3 == *piVar22) break;
        piVar22 = piVar22 + 0x1e;
      } while (piVar22 < piVar18);
    }
    local_6 = uVar23 | ZEXT24(PTR_DAT_10a8_0000_10a8_006c) << 0x10;
    if (piVar18 == piVar22) {
      return 0;
    }
    if (piVar22[1] != *(int *)&PTR_DAT_10a8_0001_10a8_00c0) {
      return 0;
    }
    local_18 = param_2 - 2 >> 2;
    if (local_18 == 0) {
      if (*(long *)(piVar22 + 0x1c) != 0) {
        uVar11 = *(undefined4 *)(piVar22 + 0x1c);
        FUN_1038_04ca((uint)uVar11,(uint)((ulong)uVar11 >> 0x10),0);
        *(undefined4 *)(piVar22 + 0x1c) = 0;
        return 1;
      }
      return 1;
    }
    puVar21 = PTR_DAT_10a8_0000_10a8_006c;
    if (*(long *)(piVar22 + 0x1c) == 0) {
      puVar19 = FUN_1038_0562(4,local_18 + 2,0);
    }
    else {
      uVar11 = *(undefined4 *)(piVar22 + 0x1c);
      if (local_18 <= *(byte *)((int)uVar11 + 2)) goto LAB_1020_5505;
      uVar11 = *(undefined4 *)(piVar22 + 0x1c);
      puVar19 = (uint *)FUN_1038_0522((uint *)uVar11,(int)((ulong)uVar11 >> 0x10),local_18 + 2);
    }
    piVar22[0x1c] = (int)puVar19;
    piVar22[0x1d] = (int)puVar21;
LAB_1020_5505:
    local_1e = 0;
    if (local_18 != 0) {
      puVar16 = (ulong *)((undefined2 *)param_3 + 1);
      local_e = (uint *)((ulong)param_3 & 0xffff0000 | (ulong)local_e & 0xffff);
      local_10 = local_18;
      do {
        uVar23 = *puVar16;
        if ((*(uint *)((int)puVar16 + 2) & 0x7f0) != 0) {
          uVar26 = 0;
          uVar11 = *(undefined4 *)(piVar22 + 0x1c);
          if (*(char *)((int)uVar11 + 3) != '\0') {
            iVar32 = piVar22[0x1d];
            puVar20 = (ulong *)(piVar22[0x1c] + 4);
            local_6 = local_6 & 0xffff0000 | ZEXT24(puVar20);
            local_e = (uint *)((ulong)local_e & 0xffff0000 | ZEXT24(puVar16));
            uVar24 = local_a & 0xffff0000;
            local_a = uVar24 | ZEXT24(piVar22);
            do {
              local_a._2_2_ = (uint)(uVar24 >> 0x10);
              if ((((*(uint *)((int)puVar20 + 2) & 0x7f0) != 0) &&
                  (((uVar23 ^ *puVar20) & 0x1fc00) == 0)) &&
                 (uStack_126 = (uint)(uVar23 >> 0x10),
                 ((uStack_126 ^ *(uint *)((int)puVar20 + 2)) & 0xe) == 0)) {
                uVar11 = *(undefined4 *)(piVar22 + 0x1c);
                puVar5 = (uint *)((int)uVar11 + uVar26 * 4 + 6);
                *puVar5 = *puVar5 & 0xf80f;
                break;
              }
              puVar20 = puVar20 + 1;
              uVar11 = *(undefined4 *)(piVar22 + 0x1c);
              uVar26 = uVar26 + 1;
            } while ((int)uVar26 < (int)(uint)*(byte *)((int)uVar11 + 3));
          }
          uVar11 = *(undefined4 *)(piVar22 + 0x1c);
          if (*(byte *)((int)uVar11 + 3) == uVar26) {
            puVar5 = (uint *)((int)puVar16 + 2);
            *puVar5 = *puVar5 & 0xf80f;
          }
        }
        puVar16 = puVar16 + 1;
        local_10 = local_10 - 1;
      } while (local_10 != 0);
    }
    uVar23 = *(ulong *)(piVar22 + 0x1c);
    FUN_10a0_0ac6(uVar23 & 0xffff0000 | (ulong)((int)uVar23 + 4),
                  (ulong)param_3 & 0xffff0000 | ZEXT24((undefined2 *)param_3 + 1),
                  param_2 - 2 & 0xfffc);
    uVar11 = *(undefined4 *)(piVar22 + 0x1c);
    *(undefined *)((int)uVar11 + 3) = (undefined)local_18;
    return 1;
  case 0x1e:
    local_18 = (*(uint *)param_3 & 0xf0) >> 4;
    puVar21 = (undefined *)(*(uint *)param_3 & 0xf);
    if ((puVar21 == PTR_DAT_10a8_0001_10a8_00c0) && (local_18 <= (byte)puVar21[0x7a56])) {
      local_12 = (undefined *)0x0;
      iVar32 = 0;
      do {
        if (6 < *(byte *)((int)(undefined2 *)param_3 + iVar32 + 2)) {
          return 0;
        }
        if (6 < *(byte *)((int)(undefined2 *)param_3 + iVar32 + 6)) {
          return 0;
        }
        if (6 < *(byte *)((int)(undefined2 *)param_3 + iVar32 + 10)) {
          return 0;
        }
        iVar32 = iVar32 + 1;
      } while (iVar32 < 4);
      if ((byte)PTR_DAT_10a8_0001_10a8_00c0[0x7a56] == local_18) {
        if (0xf < local_18) {
          return 0;
        }
        pcVar3 = PTR_DAT_10a8_0001_10a8_00c0 + 0x7a56;
        *pcVar3 = *pcVar3 + '\x01';
      }
      FUN_1040_16fc((byte *)param_3,
                    CONCAT22(*(undefined2 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fa),
                             *(int *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc) +
                             local_18 * 0x2e));
      return 1;
    }
    break;
  case 0x22:
    cVar9 = *(char *)param_3;
    if ((-1 < cVar9) && (cVar9 < 'e')) {
      iVar32 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76;
      *(char *)((int)&DAT_10a8_888a + iVar32) = cVar9;
      cVar9 = *(char *)((int)(undefined2 *)param_3 + 1);
      if ((-1 < cVar9) && (cVar9 < '\x06')) {
        *(char *)((int)&DAT_10a8_888b + iVar32) = cVar9;
        return 1;
      }
    }
    break;
  case 0x23:
    piVar22 = FUN_1010_018e(*(int *)param_3);
    if ((((in_DX | (uint)piVar22) != 0) && ((undefined *)piVar22[1] == PTR_DAT_10a8_0001_10a8_00c0))
       && ((*(byte *)((undefined2 *)param_3 + 1) & 0xe) < 0xe)) {
      bVar10 = *(byte *)((undefined2 *)param_3 + 1);
      uVar26 = piVar22[0x10];
      piVar4 = piVar22 + 0xf;
      *piVar4 = *piVar4;
      puVar5 = (uint *)(piVar22 + 0x10);
      *puVar5 = *puVar5 ^ ((bVar10 & 1) << 7 ^ uVar26) & 0x80;
      uVar26 = ((undefined2 *)param_3)[1];
      uVar25 = piVar22[0x10];
      piVar4 = piVar22 + 0xf;
      *piVar4 = *piVar4;
      puVar5 = (uint *)(piVar22 + 0x10);
      *puVar5 = *puVar5 ^ ((uint)((byte)(uVar26 >> 1) & 7) << 8 ^ uVar25) & 0x700;
      return 1;
    }
    break;
  case 0x24:
    if ((DAT_10a8_0a46 & 2) != 0) {
      uVar34 = ((undefined2 *)param_3)[1];
      iVar32 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76;
      *(undefined2 *)(iVar32 + -0x7796) = *(undefined2 *)param_3;
      *(undefined2 *)(iVar32 + -0x7794) = uVar34;
      return 1;
    }
    return 1;
  case 0x26:
    puVar33 = (undefined2 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x775c);
    uVar26 = (uint)PTR_DAT_10a8_0002_10a8_0038 & 1;
    for (uVar25 = (uint)PTR_DAT_10a8_0002_10a8_0038 >> 1; uVar25 != 0; uVar25 = uVar25 - 1) {
      puVar7 = puVar33;
      puVar33 = puVar33 + 1;
      puVar6 = (undefined2 *)param_3;
      param_3._0_2_ = (undefined2 *)param_3 + 1;
      *puVar7 = *puVar6;
    }
    for (uVar26 = (uint)(uVar26 != 0); uVar26 != 0; uVar26 = uVar26 - 1) {
      puVar7 = puVar33;
      puVar33 = (undefined2 *)((int)puVar33 + 1);
      puVar6 = (undefined2 *)param_3;
      param_3._0_2_ = (undefined2 *)((int)(undefined2 *)param_3 + 1);
      *(undefined *)puVar7 = *(undefined *)puVar6;
    }
    return 1;
  case 0x2a:
    iVar32 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76;
    puVar5 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar32);
    *puVar5 = *puVar5 ^ (byte)(*(char *)param_3 << 2 ^
                              *(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar32)) & 0x1c;
    puVar5 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar32);
    *puVar5 = *puVar5 ^ (byte)((byte)(*(uint *)param_3 >> 2) ^
                              *(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar32)) & 2;
    puVar5 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar32);
    *puVar5 = *puVar5 ^ (byte)((byte)(*(uint *)param_3 >> 4) ^
                              *(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar32)) & 1;
    puVar5 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar32);
    *puVar5 = *puVar5 ^ (*(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar32) ^ *(byte *)param_3) &
                        0x20;
    return 1;
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1020_5848(undefined2 param_1)

{
  uint *puVar1;
  undefined2 *puVar2;
  undefined2 *puVar3;
  long lVar4;
  long *plVar5;
  int iVar6;
  HRSRC16 hmodule;
  HGLOBAL16 handle;
  uint *puVar7;
  uint uVar8;
  uint uVar9;
  undefined2 *puVar10;
  undefined2 *puVar11;
  undefined2 uVar12;
  uint uVar13;
  int local_20 [9];
  undefined2 local_e;
  HGLOBAL16 local_c;
  undefined *local_a;
  undefined *local_8;
  undefined4 local_6;

  local_e = 1;
  PTR_DAT_10a8_0000_10a8_0fd2 = (undefined *)0x0;
  DAT_10a8_0fd4 = 0xffff;
  local_a = PTR_DAT_10a8_0000_10a8_002e;
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_20;
  iVar6 = FUN_10a0_0704(local_20);
  if (iVar6 != 0) {
    PTR_DAT_10a8_0000_10a8_002e = local_a;
    if (_PTR_DAT_10a8_0000_10a8_0fca != (byte *)0x0) {
      GLOBALUNLOCK(local_c);
      FREERESOURCE(local_c);
      return 0;
    }
    if (DAT_10a8_1030 != -1) {
      FUN_1040_1f9c();
      return 0;
    }
    return 1;
  }
  if (((((byte)PTR_DAT_10a8_0000_10a8_0040 & 8) != 0) &&
      (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0x0)) && ((DAT_10a8_0a46 & 2) != 0)) {
    local_6 = (undefined4 *)((ulong)local_6 & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0042));
    hmodule = FINDRESOURCE(10000,(LPCSTR)0x27110000,
                           (LPCSTR)(ZEXT24(PTR_DAT_10a8_0000_10a8_839a) << 0x10));
    local_6 = (undefined4 *)((ulong)local_6 & 0xffff | (ulong)hmodule << 0x10);
    handle = LOADRESOURCE(hmodule,(HRSRC16)PTR_DAT_10a8_0000_10a8_839a);
    if (handle == 0) {
      PTR_DAT_10a8_0000_10a8_002e = local_a;
      return 0;
    }
    local_c = handle;
    _PTR_DAT_10a8_0000_10a8_0fca = (byte *)LOCKRESOURCE(handle);
    if (((uint)((ulong)_PTR_DAT_10a8_0000_10a8_0fca >> 0x10) | (uint)_PTR_DAT_10a8_0000_10a8_0fca)
        == 0) {
      PTR_DAT_10a8_0000_10a8_002e = local_a;
      return 0;
    }
    uVar12 = (undefined2)(((ulong)_PTR_DAT_10a8_0000_10a8_0fca & 0xffff0000) >> 0x10);
    if (PTR_DAT_10a8_0000_10a8_0042 < (undefined *)(uint)*_PTR_DAT_10a8_0000_10a8_0fca) {
      _PTR_DAT_10a8_0000_10a8_0fca =
           (byte *)((ulong)_PTR_DAT_10a8_0000_10a8_0fca & 0xffff0000 |
                   (ulong)((uint)_PTR_DAT_10a8_0000_10a8_0fca + 1));
      while (uVar9 = (int)(long **)local_6 - 1, (long **)local_6 != (long **)0x0) {
        do {
          uVar13 = *(uint *)PTR_DAT_10a8_0000_10a8_0fca;
          _PTR_DAT_10a8_0000_10a8_0fca =
               (byte *)((ulong)_PTR_DAT_10a8_0000_10a8_0fca & 0xffff0000 |
                       ZEXT24(PTR_DAT_10a8_0000_10a8_0fca +
                              (uVar13 & 0xff | ((byte)((ulong)uVar13 >> 8) & 3) << 8) + 2));
          local_6._0_2_ = (long **)uVar9;
        } while (((PTR_DAT_10a8_0000_10a8_0fca +
                  (uVar13 & 0xff | ((byte)((ulong)uVar13 >> 8) & 3) << 8) + 2)[1] & 0xfc) != 0x20);
      }
      local_6 = (undefined4 *)(ulong)uVar9;
      local_c = handle;
      goto LAB_1020_5989;
    }
    _PTR_DAT_10a8_0000_10a8_0fca = (byte *)0x0;
    GLOBALUNLOCK(handle);
    FREERESOURCE(handle);
    local_c = handle;
  }
  FUN_1040_1ece(param_1,0x4020);
LAB_1020_5989:
  FUN_1040_1e24();
  if ((_PTR_DAT_10a8_0000_10a8_0030 == _DAT_10a8_7d68) &&
     (PTR_DAT_10a8_0000_10a8_0042 <= _DAT_10a8_7d6e)) {
    if (PTR_DAT_10a8_0000_10a8_0042 == _DAT_10a8_7d6e) {
      _DAT_10a8_0a48 =
           _DAT_10a8_0a48 ^ (byte)((byte)(_DAT_10a8_7d72 >> 0xc) << 5 ^ DAT_10a8_0a48) & 0x20;
      if ((DAT_10a8_0a46 & 2) != 0) {
        puVar1 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                         (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
        *puVar1 = *puVar1 ^ (byte)(*(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                                            (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) ^
                                  (byte)(_DAT_10a8_7d72 >> 5)) & 0x80;
      }
      FUN_1040_1e24();
      local_8 = DAT_10a8_7d64;
      uVar9 = 0;
      if (0 < (int)DAT_10a8_7d64) {
        do {
          local_6 = (undefined4 *)((ulong)local_6 & 0xffff | (ulong)uVar9 << 0x10);
          FUN_1040_1e24();
          FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_0fce & 0xffff0000 |
                        (ulong)(uint)((int)_PTR_DAT_10a8_0000_10a8_0fce + local_6._2_2_),
                        &DAT_10a8_59a8,2);
          FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_0fce & 0xffff0000 |
                        (ulong)((int)_PTR_DAT_10a8_0000_10a8_0fce + local_6._2_2_ + 2),
                        &DAT_10a8_7d64,
                        _DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8);
          uVar9 = local_6._2_2_ +
                  (_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8) + 2;
        } while ((int)uVar9 < (int)local_8);
      }
      local_6 = (undefined4 *)((ulong)local_6 & 0xffff | (ulong)uVar9 << 0x10);
      FUN_1040_1e24();
      local_6._0_2_ = (long **)&PTR_DAT_10a8_0000_10a8_1050;
      uVar13 = (int)s_From___s_c_c_10a8_10a2 + 6;
      lVar4 = _PTR_DAT_10a8_0000_10a8_1050;
      while (lVar4 != 0) {
        plVar5 = *(long **)local_6;
        uVar13 = (uint)((ulong)plVar5 >> 0x10);
        local_6._0_2_ = (long **)plVar5;
        lVar4 = *plVar5;
      }
      local_6 = (undefined4 *)((ulong)uVar13 << 0x10);
      if ((DAT_10a8_59a9 & 0xfc) == 0xa0) {
        do {
          local_6 = (undefined4 *)((ulong)local_6 & 0xffff0000 | ZEXT24((long **)local_6));
          puVar7 = FUN_1038_0232(_DAT_10a8_59a8 & 0xff |
                                 ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8,8);
          *(uint **)local_6 = puVar7;
          *(uint *)((int)local_6 + 2) = uVar9;
          local_6 = (undefined4 *)*local_6;
          puVar10 = (undefined2 *)&DAT_10a8_7d64;
          uVar12 = (undefined2)((ulong)local_6 >> 0x10);
          puVar11 = (undefined2 *)local_6;
          uVar13 = _DAT_10a8_59a8 & 1;
          for (uVar8 = (_DAT_10a8_59a8 & 0x3ff) >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
            puVar3 = puVar11;
            puVar11 = puVar11 + 1;
            puVar2 = puVar10;
            puVar10 = puVar10 + 1;
            *puVar3 = *puVar2;
          }
          for (uVar13 = (uint)(uVar13 != 0); uVar13 != 0; uVar13 = uVar13 - 1) {
            puVar3 = puVar11;
            puVar11 = (undefined2 *)((int)puVar11 + 1);
            puVar2 = puVar10;
            puVar10 = (undefined2 *)((int)puVar10 + 1);
            *(undefined *)puVar3 = *(undefined *)puVar2;
          }
          *local_6 = 0;
          PTR_DAT_10a8_0000_10a8_1056 = PTR_DAT_10a8_0000_10a8_1056 + 1;
          FUN_1040_1e24();
        } while ((DAT_10a8_59a9 & 0xfc) == 0xa0);
      }
      else {
        local_6 = (undefined4 *)CONCAT22(uVar13,(long **)local_6);
      }
      if ((_DAT_10a8_59a8 & 0xfc00) == 0) {
        PTR_DAT_10a8_0000_10a8_0fd2 = local_8;
      }
      else {
        local_e = 0;
      }
      if (_PTR_DAT_10a8_0000_10a8_0fca == (byte *)0x0) {
        FUN_1040_1f9c();
      }
      else {
        GLOBALUNLOCK(local_c);
        FREERESOURCE(local_c);
        _PTR_DAT_10a8_0000_10a8_0fca = (byte *)0x0;
      }
      PTR_DAT_10a8_0000_10a8_002e = local_a;
      FUN_1020_4832((undefined *)0x0);
      return local_e;
    }
    if (PTR_DAT_10a8_0000_10a8_0a30 == (undefined *)0x0) {
      FUN_1018_50b2(0x1b,0x10);
    }
  }
  if (_PTR_DAT_10a8_0000_10a8_0fca == (byte *)0x0) {
    FUN_1040_1f9c();
  }
  else {
    _PTR_DAT_10a8_0000_10a8_0fca = (byte *)0x0;
    GLOBALUNLOCK(local_c);
    FREERESOURCE(local_c);
  }
  PTR_DAT_10a8_0000_10a8_002e = local_a;
  return 1;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1020_5b78(char *param_1,undefined2 param_2)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  int iVar4;
  undefined *puVar5;
  uint uVar6;
  uint uVar7;
  undefined *puVar8;
  undefined2 *puVar9;
  undefined2 *puVar10;
  undefined2 unaff_SS;
  int local_20 [9];
  undefined *local_e;
  undefined *local_c;
  undefined *local_a;
  undefined *local_8;
  undefined4 local_6;

  local_a = (undefined *)0x0;
  uVar6 = 0xffff;
  do {
    if (uVar6 == 0) break;
    uVar6 = uVar6 - 1;
    pcVar2 = param_1;
    param_1 = param_1 + 1;
  } while (*pcVar2 != '\0');
  uVar6 = ~uVar6;
  puVar9 = (undefined2 *)(param_1 + -uVar6);
  puVar10 = (undefined2 *)&DAT_10a8_85dc;
  for (uVar7 = uVar6 >> 1; uVar7 != 0; uVar7 = uVar7 - 1) {
    puVar3 = puVar10;
    puVar10 = puVar10 + 1;
    puVar1 = puVar9;
    puVar9 = puVar9 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar6 = (uint)((uVar6 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar3 = puVar10;
    puVar10 = (undefined2 *)((int)puVar10 + 1);
    puVar1 = puVar9;
    puVar9 = (undefined2 *)((int)puVar9 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  iVar4 = FUN_1040_3e38(CONCAT13((char)((uint)param_2 >> 8),CONCAT12((char)param_2,1)),0);
  if (iVar4 == 0) {
    FUN_1018_50b2(10,0x10);
  }
  else {
    local_e = PTR_DAT_10a8_0000_10a8_002e;
    PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_20;
    iVar4 = FUN_10a0_0704(local_20);
    if (iVar4 == 0) {
      local_c = PTR_DAT_10a8_0000_10a8_0fd2;
      FUN_1040_422c(9,(uint16 *)&DAT_10a8_0002,CONCAT22(unaff_SS,&local_c));
      if ((int)local_a < (int)PTR_DAT_10a8_0000_10a8_0fd2) {
        do {
          local_6 = (uint *)CONCAT22(PTR_DAT_10a8_0000_10a8_0fd0,
                                     PTR_DAT_10a8_0000_10a8_0fce + (int)local_a);
          FUN_1040_422c(*local_6 >> 10,(uint16 *)(*local_6 & 0x3ff),
                        CONCAT22(PTR_DAT_10a8_0000_10a8_0fd0,
                                 PTR_DAT_10a8_0000_10a8_0fce + (int)local_a + 2));
          local_a = (undefined *)((int)local_a + (*local_6 & 0x3ff) + 2);
        } while ((int)local_a < (int)PTR_DAT_10a8_0000_10a8_0fd2);
      }
      local_a = PTR_DAT_10a8_0000_10a8_1056;
      puVar5 = PTR_DAT_10a8_0000_10a8_1050;
      puVar8 = PTR_DAT_10a8_0000_10a8_1052;
      while( true ) {
        local_8 = local_a;
        if (local_a == (undefined *)0x0) break;
        local_6 = (uint *)CONCAT22(puVar8,puVar5);
        uVar6 = *(uint *)(puVar5 + 10);
        uVar7 = (int)uVar6 >> 0xf;
        local_a = local_a + -1;
        FUN_1040_422c(0x28,(uint16 *)(((uVar6 ^ uVar7) - uVar7) + 0xc),CONCAT22(puVar8,puVar5));
        puVar5 = (undefined *)*local_6;
        puVar8 = (undefined *)*(undefined2 *)((int)local_6 + 2);
      }
      local_6 = (uint *)CONCAT22(puVar8,puVar5);
      local_a = local_a + -1;
      FUN_1040_422c(0,(uint16 *)0x0,0);
      FUN_1040_1f9c();
      PTR_DAT_10a8_0000_10a8_002e = local_e;
      FUN_1020_4832((undefined *)0x0);
      return 1;
    }
    PTR_DAT_10a8_0000_10a8_002e = local_e;
    FUN_1040_1f9c();
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1020_5cd2(uint16 *param_1)

{
  ulong uVar1;
  int iVar2;
  undefined *puVar3;
  undefined2 unaff_SS;
  int local_2c [9];
  undefined *local_1a;
  undefined *local_18;
  undefined2 local_16;
  ulong local_14;
  ulong *local_10;
  int local_e;
  uint16 *local_c;
  int local_a;
  uint local_8;
  undefined4 local_6;

  iVar2 = FUN_1040_3e38(CONCAT13((char)((uint)param_1 >> 8),CONCAT12((char)param_1,4)),0);
  if (iVar2 == 0) {
    FUN_1018_50b2(0xb,0x10);
  }
  else {
    local_1a = PTR_DAT_10a8_0000_10a8_002e;
    PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_2c;
    iVar2 = FUN_10a0_0704(local_2c);
    if (iVar2 == 0) {
      local_18 = PTR_DAT_10a8_0000_10a8_7d52;
      local_16 = *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_8862 + (int)param_1 * 0x76);
      FUN_1040_422c(0x20,(uint16 *)&PTR_LOOP_10a8_0004,CONCAT22(unaff_SS,&local_18));
      local_c = (uint16 *)0x0;
      local_6 = ZEXT24(PTR_DAT_10a8_0000_10a8_006c) << 0x10;
      puVar3 = PTR_DAT_10a8_0000_10a8_006a;
      if (0 < (int)PTR_DAT_10a8_0000_10a8_7d52) {
        do {
          uVar1 = local_6 & 0xffff0000;
          local_6 = uVar1 | ZEXT24(puVar3);
          local_6._2_2_ = (byte *)(uVar1 >> 0x10);
          if ((byte)puVar3[4] < 3) {
            iVar2 = 0xf;
          }
          else {
            iVar2 = 0xe;
          }
          FUN_1040_2c62((uint *)(uVar1 | ZEXT24(puVar3)),iVar2,1);
          puVar3 = (undefined *)((uint)local_6 + 0x3c);
          local_c = (uint16 *)((int)local_c + 1);
        } while ((int)local_c < (int)PTR_DAT_10a8_0000_10a8_7d52);
      }
      local_6 = local_6 & 0xffff0000 | ZEXT24(puVar3);
      FUN_1040_422c(0x21,(uint16 *)PTR_PTR_DAT_10a8_0000_10a8_0018_10a8_1042,&DAT_10a8_83ae);
      local_c = (uint16 *)0x0;
      if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
        local_6._2_2_ = (byte *)&DAT_10a8_8864;
        do {
          if ((param_1 != local_c) && ((*local_6._2_2_ & 7) != 0)) {
            local_6 = local_6 & 0xffff | ZEXT24(local_6._2_2_) << 0x10;
            FUN_1040_2086((undefined2 *)(local_6._2_2_ + -6),(undefined2 *)0x0);
          }
          local_6._2_2_ = local_6._2_2_ + 0x76;
          local_c = (uint16 *)((int)local_c + 1);
        } while ((int)local_c < (int)PTR_DAT_10a8_0002_10a8_0038);
        local_6 = local_6 & 0xffff | ZEXT24(local_6._2_2_) << 0x10;
      }
      local_c = (uint16 *)0x0;
      if ((int)PTR_DAT_10a8_0002_10a8_0038 < 1) {
        local_c = (uint16 *)0x0;
      }
      else {
        local_10 = (ulong *)&PTR_DAT_10a8_0000_10a8_0072;
        local_e = (int)&DAT_10a8_8864;
        do {
          if (((*(byte *)(local_e + 1) & 1) != 0) && (param_1 != local_c)) {
            local_14 = *local_10;
            local_6._0_2_ = (int)local_14 + 0x7b;
            local_6 = local_14 & 0xffff0000;
            local_a = 0x10;
            local_8 = 0;
            do {
              uVar1 = local_6;
              if ((*(byte *)((uint)local_6 + 1) & 2) == 0) {
                local_6 = local_6 & 0xffff0000 | (ulong)(uint)local_6;
                FUN_1040_2194((int *)(uVar1 & 0xff000000 |
                                     (ulong)CONCAT12((char)(uVar1 >> 0x10),(uint)local_6 - 0x7b)),
                              (undefined2 *)0x0);
              }
              local_6._0_2_ = (uint)local_6 + 0x87;
              local_8 = local_8 + 1;
              local_a = local_a + -1;
            } while (local_a != 0);
            local_6 = local_6 & 0xffff0000 | (ulong)(uint)local_6;
          }
          local_10 = local_10 + 1;
          local_e = local_e + 0x76;
          local_c = (uint16 *)((int)local_c + 1);
        } while ((int)local_c < (int)PTR_DAT_10a8_0002_10a8_0038);
      }
      if ((_PTR_DAT_10a8_0000_10a8_4b84 != (uint16 **)0x0) &&
         (local_6._0_2_ = (uint)_PTR_DAT_10a8_0000_10a8_4b84,
         (uint16 *)&DAT_10a8_0002 < *_PTR_DAT_10a8_0000_10a8_4b84)) {
        local_c = *_PTR_DAT_10a8_0000_10a8_4b84;
        local_6 = (ulong)_PTR_DAT_10a8_0000_10a8_4b84 & 0xffff0000;
        if (0x3ff < (int)local_c) {
          local_8 = ((int)local_c - 1U) / 0x3ff;
          do {
            uVar1 = local_6 & 0xffff0000;
            local_6 = uVar1 | (uint)local_6;
            FUN_1040_422c(0x29,(uint16 *)0x3ff,uVar1 | (uint)local_6);
            local_6._0_2_ = (uint)local_6 + 0x3ff;
            local_c = (uint16 *)((int)local_c - 0x3ff);
            local_8 = local_8 - 1;
          } while (local_8 != 0);
        }
        uVar1 = local_6 & 0xffff0000;
        local_6 = uVar1 | (uint)local_6;
        FUN_1040_422c(0x29,local_c,uVar1 | (uint)local_6);
      }
      FUN_1040_422c(0,(uint16 *)0x0,0);
      FUN_1040_1f9c();
      PTR_DAT_10a8_0000_10a8_002e = local_1a;
      return 1;
    }
    PTR_DAT_10a8_0000_10a8_002e = local_1a;
    FUN_1040_1f9c();
  }
  return 0;
}



void __cdecl16far
FUN_1020_5f02(undefined *param_1,undefined2 param_2_00,undefined2 param_3,undefined4 param_4)

{
  undefined *puVar1;
  uint *puVar2;
  int iVar3;
  int iVar4;

  iVar4 = 0;
  if ((PTR_DAT_10a8_0000_10a8_0fd2 != (undefined *)0x0) && (0 < (int)PTR_DAT_10a8_0000_10a8_0fd2)) {
    do {
      puVar1 = PTR_DAT_10a8_0000_10a8_0fd0;
      puVar2 = (uint *)(PTR_DAT_10a8_0000_10a8_0fce + iVar4);
      iVar3 = (*(code *)param_1)();
      if (iVar3 == 0) {
        return;
      }
      iVar4 = iVar4 + (*puVar2 & 0x3ff) + 2;
    } while (iVar4 < (int)PTR_DAT_10a8_0000_10a8_0fd2);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: ram

void __cdecl16far FUN_1028_0000(undefined *param_1,undefined2 *param_2,word param_3)

{
  byte *pbVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  byte bVar4;
  int iVar5;
  undefined *puVar6;
  undefined4 *puVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  int16 *piVar11;
  undefined *puVar12;
  undefined3 extraout_var;
  VA_LIST16 pWVar13;
  VA_LIST16 unaff_SI;
  HRGN16 unaff_DI;
  undefined4 *puVar14;
  RECT16 *unaff_SS;
  dword dVar15;
  HDC16 hdc;
  undefined2 uVar16;
  undefined uVar17;
  undefined uVar18;
  undefined uVar19;
  undefined uVar20;
  int in_stack_0000ffb8;
  undefined2 in_stack_0000ffba;
  WPARAM16 in_stack_0000ffbc;
  int in_stack_0000ffbe;
  uint in_stack_0000ffc0;
  undefined in_stack_0000ffc2;
  byte in_stack_0000ffc3;
  undefined2 in_stack_0000ffc4;
  undefined2 in_stack_0000ffc6;
  undefined2 in_stack_0000ffc8;
  undefined2 in_stack_0000ffca;
  undefined2 in_stack_0000ffcc;
  undefined4 in_stack_0000ffce;
  undefined4 in_stack_0000ffd2;
  undefined2 in_stack_0000ffd6;
  int in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  int in_stack_0000ffdc;
  int in_stack_0000ffde;
  int in_stack_0000ffe0;
  int in_stack_0000ffe2;
  undefined2 in_stack_0000ffe4;
  undefined4 in_stack_0000ffe6;
  undefined2 uStack_14;
  int iStack_12;
  undefined *puStack_e;
  VA_LIST16 pWStack_c;
  int16 *piStack_a;
  int iStack_8;
  int iStack_6;
  undefined *puStack_4;

                    // Segment:    6
                    // Offset:     00021100
                    // Length:     5fea
                    // Min Alloc:  5fea
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  if ((*(byte *)((int)param_2 + 0xb) & 8) != 0) {
    PTR_DAT_10a8_0000_10a8_7ad4 = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7b34 = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7ad8 = (undefined *)0xfffa;
    PTR_DAT_10a8_0000_10a8_7b38 = (undefined *)0xfffa;
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffc0,
                                  CONCAT212(in_stack_0000ffbe,
                                            CONCAT210(in_stack_0000ffbc,
                                                      CONCAT28(in_stack_0000ffba,
                                                               CONCAT26(in_stack_0000ffb8,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_83a0))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffc0,
                                  CONCAT212(in_stack_0000ffbe,
                                            CONCAT210(in_stack_0000ffbc,
                                                      CONCAT28(in_stack_0000ffba,
                                                               CONCAT26(in_stack_0000ffb8,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_5796))))))));
    pbVar1 = (byte *)((int)param_2 + 0xb);
    *pbVar1 = *pbVar1 & 0xf7;
  }
  bVar4 = FUN_1020_0958(param_1,param_2,(undefined4 *)&stack0xffde,0xd78,
                        CONCAT24(in_stack_0000ffb8,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT19(in_stack_0000ffc3,
                                 CONCAT18(in_stack_0000ffc2,
                                          CONCAT26(in_stack_0000ffc0,
                                                   CONCAT24(in_stack_0000ffbe,
                                                            CONCAT22(in_stack_0000ffbc,
                                                                     in_stack_0000ffba))))),
                        CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4),in_stack_0000ffc8);
  if ((int)CONCAT31(extraout_var,bVar4) == 0) {
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffc0,
                                  CONCAT212(in_stack_0000ffbe,
                                            CONCAT210(in_stack_0000ffbc,
                                                      CONCAT28(in_stack_0000ffba,
                                                               CONCAT26(in_stack_0000ffb8,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_83a0))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffc0,
                                  CONCAT212(in_stack_0000ffbe,
                                            CONCAT210(in_stack_0000ffbc,
                                                      CONCAT28(in_stack_0000ffba,
                                                               CONCAT26(in_stack_0000ffb8,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_5796))))))));
    return;
  }
  iStack_6 = in_stack_0000ffde + 4;
  iStack_8 = in_stack_0000ffe2 + -4;
  iVar5 = (-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 2) + 2 + in_stack_0000ffe0;
  PTR_DAT_10a8_0000_10a8_7b34 = (undefined *)0xfffb;
  PTR_DAT_10a8_0000_10a8_7b38 = (undefined *)0xfffa;
  GETCLIENTRECT((HWND16)&stack0xffd6,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_83a0,unaff_SS));
  piStack_a = (int16 *)0x14;
  PTR_DAT_10a8_0000_10a8_0a98 =
       (undefined *)
       (((-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 1) + 3) * (int)(PTR_DAT_10a8_0000_10a8_5794 + 2));
  puVar6 = (undefined *)(iStack_8 - iStack_6);
  puVar12 = puVar6;
  if (((puVar6 == PTR_DAT_10a8_0000_10a8_0a96) &&
      (-1 < (int)(PTR_DAT_10a8_0000_10a8_0a98 + (in_stack_0000ffd8 - in_stack_0000ffdc)))) &&
     ((int)(PTR_DAT_10a8_0000_10a8_0a98 + (in_stack_0000ffd8 - in_stack_0000ffdc)) <
      (int)PTR_DAT_10a8_0000_10a8_5794)) {
    piStack_a = (int16 *)0x15;
    puVar12 = PTR_DAT_10a8_0000_10a8_0a96;
  }
  PTR_DAT_10a8_0000_10a8_0a96 = puVar12;
  SETWINDOWPOS((HWND16)piStack_a,(HWND16)PTR_DAT_10a8_0000_10a8_0a98,
               (int16)CONCAT214(in_stack_0000ffb8,
                                CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_83a0,
                                                  (qword)CONCAT24(iStack_6,CONCAT22(iVar5,puVar6))))
                                         )),
               (int16)CONCAT214(in_stack_0000ffc8,
                                CONCAT212(in_stack_0000ffc6,
                                          CONCAT210(in_stack_0000ffc4,
                                                    CONCAT19(in_stack_0000ffc3,
                                                             CONCAT18(in_stack_0000ffc2,
                                                                      CONCAT26(in_stack_0000ffc0,
                                                                               CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,puVar6)))))))),
               (int16)CONCAT214(in_stack_0000ffd8,
                                CONCAT212(in_stack_0000ffd6,
                                          CONCAT48(in_stack_0000ffd2,
                                                   CONCAT44(in_stack_0000ffce,
                                                            CONCAT22(in_stack_0000ffcc,
                                                                     in_stack_0000ffca))))),
               (int16)CONCAT412(in_stack_0000ffe6,
                                CONCAT210(in_stack_0000ffe4,
                                          CONCAT28(in_stack_0000ffe2,
                                                   CONCAT26(in_stack_0000ffe0,
                                                            CONCAT24(in_stack_0000ffde,
                                                                     CONCAT22(in_stack_0000ffdc,
                                                                              in_stack_0000ffda)))))
                               ),param_3);
  SHOWWINDOW(5,(int16)CONCAT214(in_stack_0000ffc0,
                                CONCAT212(in_stack_0000ffbe,
                                          CONCAT210(in_stack_0000ffbc,
                                                    CONCAT28(puVar6,CONCAT26(in_stack_0000ffb8,
                                                                             CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_83a0)))))
                                         )));
  GETCLIENTRECT((HWND16)&stack0xffd6,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_83a0,unaff_SS));
  PTR_DAT_10a8_0000_10a8_0a98 = (undefined *)(in_stack_0000ffdc - in_stack_0000ffd8);
  puStack_4 = PTR_DAT_10a8_0000_10a8_0a98 + iVar5 + (-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 2) + 2;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffc6,
                                CONCAT212(in_stack_0000ffc4,
                                          CONCAT111(in_stack_0000ffc3,
                                                    CONCAT110(in_stack_0000ffc2,
                                                              CONCAT28(in_stack_0000ffc0,
                                                                       CONCAT26(in_stack_0000ffbe,
                                                                                CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
  dVar15 = GETTEXTEXTENT(0xc,s_Coming_From_10a8_0d88,
                         (int16)CONCAT214(in_stack_0000ffc0,
                                          CONCAT212(in_stack_0000ffbe,
                                                    CONCAT210(in_stack_0000ffbc,
                                                              CONCAT28(puVar6,CONCAT26(
                                                  in_stack_0000ffb8,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                        );
  iStack_12 = (int)dVar15;
  pWStack_c = (VA_LIST16)(-iStack_6 - (iStack_12 - iStack_8));
  if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
    if ((int)PTR_DAT_10a8_0000_10a8_7b52 < 1) {
      uVar16 = 0xda1;
      hdc = 0xf;
    }
    else {
      uVar16 = 0xd95;
      hdc = 0xb;
    }
    TEXTOUT(hdc,(int16)CONCAT214(in_stack_0000ffb8,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17((
                                                  char)((uint)iStack_6 >> 8),
                                                  CONCAT16((char)iStack_6,
                                                           CONCAT24(puStack_4,
                                                                    CONCAT22(0x10a8,uVar16)))))))),
            (int16)CONCAT214(in_stack_0000ffc8,
                             CONCAT212(in_stack_0000ffc6,
                                       CONCAT210(in_stack_0000ffc4,
                                                 CONCAT19(in_stack_0000ffc3,
                                                          CONCAT18(in_stack_0000ffc2,
                                                                   CONCAT26(in_stack_0000ffc0,
                                                                            CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,puVar6)))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
            (int16)CONCAT214(in_stack_0000ffdc,
                             CONCAT212(in_stack_0000ffda,
                                       CONCAT210(in_stack_0000ffd8,
                                                 CONCAT28(in_stack_0000ffd6,
                                                          CONCAT44(in_stack_0000ffd2,
                                                                   in_stack_0000ffce))))));
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffc6,
                                CONCAT212(in_stack_0000ffc4,
                                          CONCAT111(in_stack_0000ffc3,
                                                    CONCAT110(in_stack_0000ffc2,
                                                              CONCAT28(in_stack_0000ffc0,
                                                                       CONCAT26(in_stack_0000ffbe,
                                                                                CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
  if ((int)PTR_DAT_10a8_0000_10a8_7b52 < 1) {
    if ((int)PTR_DAT_10a8_0000_10a8_7bc4 < 2) {
      uStack_14 = 0xdb1;
    }
    else {
      puVar7 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_7bc6 + 0x16);
      puVar14 = (undefined4 *)&stack0xffbc;
      for (iVar5 = 4; iVar5 != 0; iVar5 = iVar5 + -1) {
        puVar3 = puVar14;
        puVar14 = puVar14 + 1;
        puVar2 = puVar7;
        puVar7 = puVar7 + 1;
        *puVar3 = *puVar2;
      }
      *(undefined2 *)puVar14 = *(undefined2 *)puVar7;
      uStack_14 = FUN_1010_1784(in_stack_0000ffc3 & 3,in_stack_0000ffc0,
                                CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc));
      puVar14 = (undefined4 *)&stack0xffbc;
      puVar7 = (undefined4 *)PTR_DAT_10a8_0000_10a8_7bc6;
      for (iVar5 = 4; puVar7 = puVar7 + 1, iVar5 != 0; iVar5 = iVar5 + -1) {
        puVar2 = puVar14;
        puVar14 = puVar14 + 1;
        *puVar2 = *puVar7;
      }
      *(undefined2 *)puVar14 = *(undefined2 *)puVar7;
      puStack_e = (undefined *)&DAT_10a8_0001;
    }
  }
  else {
    puVar7 = (undefined4 *)
             (PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + -0xe);
    puVar14 = (undefined4 *)&stack0xffbc;
    for (iVar5 = 4; iVar5 != 0; iVar5 = iVar5 + -1) {
      puVar3 = puVar14;
      puVar14 = puVar14 + 1;
      puVar2 = puVar7;
      puVar7 = puVar7 + 1;
      *puVar3 = *puVar2;
    }
    *(undefined2 *)puVar14 = *(undefined2 *)puVar7;
    uStack_14 = FUN_1010_1784(in_stack_0000ffc3 & 3,in_stack_0000ffc0,
                              CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc));
    puStack_e = PTR_DAT_10a8_0000_10a8_7b52;
  }
  FUN_1018_55f6(param_1,iStack_8,(int)puStack_4,uStack_14,(int16 *)0x0,(int)pWStack_c,
                CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffb8,
                CONCAT212(in_stack_0000ffc6,
                          CONCAT210(in_stack_0000ffc4,
                                    CONCAT19(in_stack_0000ffc3,
                                             CONCAT18(in_stack_0000ffc2,
                                                      CONCAT26(in_stack_0000ffc0,
                                                               CONCAT24(in_stack_0000ffbe,
                                                                        CONCAT22(in_stack_0000ffbc,
                                                                                 puVar6))))))));
  puStack_4 = puStack_4 + (int)PTR_DAT_10a8_0000_10a8_5794;
  if (((int)PTR_DAT_10a8_0000_10a8_7bc4 < 2) || (PTR_DAT_10a8_0000_10a8_7b52 == (undefined *)0x0)) {
    PTR_DAT_10a8_0000_10a8_7ad4 = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7ad8 = (undefined *)0xfffa;
    if ((int)PTR_DAT_10a8_0000_10a8_7bc4 < 2) {
      SETRECT((RECT16 *)CONCAT22(iStack_8 + -1,puStack_4 + (int)PTR_DAT_10a8_0000_10a8_5794 * 4),
              (int16)CONCAT214(puVar6,CONCAT212(in_stack_0000ffb8,
                                                CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  unaff_SS,CONCAT15((char)((uint)&stack0xffde >> 8),
                                                                    CONCAT14((char)&stack0xffde,
                                                                             CONCAT22(iStack_6 + -1,
                                                                                      puStack_4)))))
                                                  ))),
              (int16)CONCAT214(in_stack_0000ffca,
                               CONCAT212(in_stack_0000ffc8,
                                         CONCAT210(in_stack_0000ffc6,
                                                   CONCAT28(in_stack_0000ffc4,
                                                            CONCAT17(in_stack_0000ffc3,
                                                                     CONCAT16(in_stack_0000ffc2,
                                                                              CONCAT24(
                                                  in_stack_0000ffc0,
                                                  CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc))))))
                                        )),
              (int16)CONCAT214(in_stack_0000ffda,
                               CONCAT212(in_stack_0000ffd8,
                                         CONCAT210(in_stack_0000ffd6,
                                                   CONCAT46(in_stack_0000ffd2,
                                                            CONCAT42(in_stack_0000ffce,
                                                                     in_stack_0000ffcc))))),
              (int16)CONCAT214(param_3,CONCAT410(in_stack_0000ffe6,
                                                 CONCAT28(in_stack_0000ffe4,
                                                          CONCAT26(in_stack_0000ffe2,
                                                                   CONCAT24(in_stack_0000ffe0,
                                                                            CONCAT22(
                                                  in_stack_0000ffde,in_stack_0000ffdc)))))));
      FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffde,unaff_SS,(HBRUSH16)param_1);
      puVar12 = (undefined *)
                ((int)PTR_DAT_10a8_0000_10a8_5794 * 4 + ((DAT_10a8_0a48 & 0x40) >> 6) * -2);
      goto LAB_1028_05b5;
    }
  }
  uVar17 = (undefined)iStack_6;
  uVar19 = (undefined)((uint)iStack_6 >> 8);
  if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffc6,
                                  CONCAT212(in_stack_0000ffc4,
                                            CONCAT111(in_stack_0000ffc3,
                                                      CONCAT110(in_stack_0000ffc2,
                                                                CONCAT28(in_stack_0000ffc0,
                                                                         CONCAT26(in_stack_0000ffbe,
                                                                                  CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
    TEXTOUT(8,(int16)CONCAT214(in_stack_0000ffb8,
                               CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar19,CONCAT16(uVar17,CONCAT24(puStack_4,
                                                                                  0x10a80db2))))))),
            (int16)CONCAT214(in_stack_0000ffc8,
                             CONCAT212(in_stack_0000ffc6,
                                       CONCAT210(in_stack_0000ffc4,
                                                 CONCAT19(in_stack_0000ffc3,
                                                          CONCAT18(in_stack_0000ffc2,
                                                                   CONCAT26(in_stack_0000ffc0,
                                                                            CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,puVar6)))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
            (int16)CONCAT214(in_stack_0000ffdc,
                             CONCAT212(in_stack_0000ffda,
                                       CONCAT210(in_stack_0000ffd8,
                                                 CONCAT28(in_stack_0000ffd6,
                                                          CONCAT44(in_stack_0000ffd2,
                                                                   in_stack_0000ffce))))));
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffc6,
                                CONCAT212(in_stack_0000ffc4,
                                          CONCAT111(in_stack_0000ffc3,
                                                    CONCAT110(in_stack_0000ffc2,
                                                              CONCAT28(in_stack_0000ffc0,
                                                                       CONCAT26(in_stack_0000ffbe,
                                                                                CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
  in_stack_0000ffb8 = (int)puStack_e * 0x12;
  in_stack_0000ffe6 = *(undefined4 *)(PTR_DAT_10a8_0000_10a8_7bc6 + in_stack_0000ffb8 + 4);
  uVar18 = 0;
  uVar20 = 0;
  pWVar13 = pWStack_c;
  uVar16 = FUN_1010_17f4(CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc),in_stack_0000ffe6);
  FUN_1018_55f6(param_1,iStack_8,(int)puStack_4,uVar16,(int16 *)CONCAT11(uVar20,uVar18),(int)pWVar13
                ,CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffb8,
                CONCAT212(in_stack_0000ffc6,
                          CONCAT210(in_stack_0000ffc4,
                                    CONCAT19(in_stack_0000ffc3,
                                             CONCAT18(in_stack_0000ffc2,
                                                      CONCAT26(in_stack_0000ffc0,
                                                               CONCAT24(in_stack_0000ffbe,
                                                                        CONCAT22(in_stack_0000ffbc,
                                                                                 puVar6))))))));
  iVar5 = (int)puStack_4 - (((DAT_10a8_0a48 & 0x40) >> 6) - (int)PTR_DAT_10a8_0000_10a8_5794);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffc6,
                                CONCAT212(in_stack_0000ffc4,
                                          CONCAT111(in_stack_0000ffc3,
                                                    CONCAT110(in_stack_0000ffc2,
                                                              CONCAT28(in_stack_0000ffc0,
                                                                       CONCAT26(in_stack_0000ffbe,
                                                                                CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
  if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
    TEXTOUT(0xb,(int16)CONCAT214(in_stack_0000ffb8,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar19,CONCAT16(uVar17,CONCAT24(iVar5,0x10a80dbb))
                                                  ))))),
            (int16)CONCAT214(in_stack_0000ffc8,
                             CONCAT212(in_stack_0000ffc6,
                                       CONCAT210(in_stack_0000ffc4,
                                                 CONCAT19(in_stack_0000ffc3,
                                                          CONCAT18(in_stack_0000ffc2,
                                                                   CONCAT26(in_stack_0000ffc0,
                                                                            CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,puVar6)))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
            (int16)CONCAT214(in_stack_0000ffdc,
                             CONCAT212(in_stack_0000ffda,
                                       CONCAT210(in_stack_0000ffd8,
                                                 CONCAT28(in_stack_0000ffd6,
                                                          CONCAT44(in_stack_0000ffd2,
                                                                   in_stack_0000ffce))))));
  }
  if (PTR_DAT_10a8_0000_10a8_7b52 == (undefined *)0x0) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffc6,
                                  CONCAT212(in_stack_0000ffc4,
                                            CONCAT111(in_stack_0000ffc3,
                                                      CONCAT110(in_stack_0000ffc2,
                                                                CONCAT28(in_stack_0000ffc0,
                                                                         CONCAT26(in_stack_0000ffbe,
                                                                                  CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
    pWVar13 = pWStack_c;
    piVar11 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xdc710a8,
                        (LPCSTR)(ulong)CONCAT12((byte)PTR_DAT_10a8_0000_10a8_7bc6
                                                      [in_stack_0000ffb8 + 10] >> 4,0x10a8),
                        pWStack_c);
    FUN_1018_55f6(param_1,iStack_8,iVar5,(int)&DAT_10a8_86de,piVar11,(int)pWVar13,
                  CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffb8,
                  CONCAT212(in_stack_0000ffc6,
                            CONCAT210(in_stack_0000ffc4,
                                      CONCAT19(in_stack_0000ffc3,
                                               CONCAT18(in_stack_0000ffc2,
                                                        CONCAT26(in_stack_0000ffc0,
                                                                 CONCAT24(in_stack_0000ffbe,
                                                                          CONCAT22(in_stack_0000ffbc
                                                                                   ,puVar6))))))));
  }
  else {
    SETRECT((RECT16 *)CONCAT22(iStack_8 + -1,PTR_DAT_10a8_0000_10a8_5794 + iVar5),
            (int16)CONCAT214(puVar6,CONCAT212(in_stack_0000ffb8,
                                              CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS
                                                  ,CONCAT15((char)((uint)&stack0xffce >> 8),
                                                            CONCAT14((char)&stack0xffce,
                                                                     CONCAT22(iStack_12 + iStack_6,
                                                                              iVar5)))))))),
            (int16)CONCAT214(in_stack_0000ffca,
                             CONCAT212(in_stack_0000ffc8,
                                       CONCAT210(in_stack_0000ffc6,
                                                 CONCAT28(in_stack_0000ffc4,
                                                          CONCAT17(in_stack_0000ffc3,
                                                                   CONCAT16(in_stack_0000ffc2,
                                                                            CONCAT24(
                                                  in_stack_0000ffc0,
                                                  CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc))))))
                                      )),
            (int16)CONCAT214(in_stack_0000ffda,
                             CONCAT212(in_stack_0000ffd8,
                                       CONCAT210(in_stack_0000ffd6,
                                                 CONCAT46(in_stack_0000ffd2,
                                                          CONCAT42(in_stack_0000ffce,
                                                                   in_stack_0000ffcc))))),
            (int16)CONCAT214(param_3,CONCAT410(in_stack_0000ffe6,
                                               CONCAT28(in_stack_0000ffe4,
                                                        CONCAT26(in_stack_0000ffe2,
                                                                 CONCAT24(in_stack_0000ffe0,
                                                                          CONCAT22(in_stack_0000ffde
                                                                                   ,
                                                  in_stack_0000ffdc)))))));
    PTR_DAT_10a8_0000_10a8_7ad4 = (undefined *)((ulong)in_stack_0000ffce >> 0x10);
    PTR_DAT_10a8_0000_10a8_7ad8 = (undefined *)((ulong)in_stack_0000ffd2 >> 0x10);
    FUN_1028_21d4(CONCAT22(&stack0xffce,param_1),0,0,6);
  }
  puStack_4 = PTR_DAT_10a8_0000_10a8_5794 + iVar5;
  if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffc6,
                                  CONCAT212(in_stack_0000ffc4,
                                            CONCAT111(in_stack_0000ffc3,
                                                      CONCAT110(in_stack_0000ffc2,
                                                                CONCAT28(in_stack_0000ffc0,
                                                                         CONCAT26(in_stack_0000ffbe,
                                                                                  CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
    TEXTOUT(0xb,(int16)CONCAT214(in_stack_0000ffb8,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar19,CONCAT16(uVar17,CONCAT24(puStack_4,
                                                                                  0x10a80dcf))))))),
            (int16)CONCAT214(in_stack_0000ffc8,
                             CONCAT212(in_stack_0000ffc6,
                                       CONCAT210(in_stack_0000ffc4,
                                                 CONCAT19(in_stack_0000ffc3,
                                                          CONCAT18(in_stack_0000ffc2,
                                                                   CONCAT26(in_stack_0000ffc0,
                                                                            CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,puVar6)))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
            (int16)CONCAT214(in_stack_0000ffdc,
                             CONCAT212(in_stack_0000ffda,
                                       CONCAT210(in_stack_0000ffd8,
                                                 CONCAT28(in_stack_0000ffd6,
                                                          CONCAT44(in_stack_0000ffd2,
                                                                   in_stack_0000ffce))))));
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffc6,
                                CONCAT212(in_stack_0000ffc4,
                                          CONCAT111(in_stack_0000ffc3,
                                                    CONCAT110(in_stack_0000ffc2,
                                                              CONCAT28(in_stack_0000ffc0,
                                                                       CONCAT26(in_stack_0000ffbe,
                                                                                CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
  uVar10 = (uint)((byte)PTR_DAT_10a8_0000_10a8_7bc6[in_stack_0000ffb8 + 10] >> 4);
  iVar5 = uVar10 * uVar10;
  pWVar13 = (VA_LIST16)0x0;
  if (iVar5 == 0) {
    _DAT_10a8_86de = s_Never_10a8_0ddb._0_4_;
    _DAT_10a8_86e2 = s_Never_10a8_0ddb._4_2_;
    piStack_a = (int16 *)((int)&PTR_LOOP_10a8_0004 + 1);
  }
  else {
    FUN_1010_186e(in_stack_0000ffbc,in_stack_0000ffbe,(int)in_stack_0000ffe6,
                  (int)((ulong)in_stack_0000ffe6 >> 0x10));
    iVar8 = FUN_10a0_0c14();
    iVar8 = iVar8 + iVar5 + -1;
    iVar9 = iVar8 / iVar5;
    pWVar13 = (VA_LIST16)(iVar8 % iVar5);
    piStack_a = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xde110a8,(LPCSTR)CONCAT22(iVar9,0x10a8),
                          unaff_SI);
    if (iVar9 != 1) {
      *(undefined *)((int)piStack_a + -0x7922) = 0x73;
      piStack_a = (int16 *)((int)piStack_a + 1);
    }
  }
  FUN_1018_55f6(param_1,iStack_8,(int)puStack_4,(int)&DAT_10a8_86de,piStack_a,(int)pWStack_c,
                CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffb8,
                CONCAT212(in_stack_0000ffc6,
                          CONCAT210(in_stack_0000ffc4,
                                    CONCAT19(in_stack_0000ffc3,
                                             CONCAT18(in_stack_0000ffc2,
                                                      CONCAT26(in_stack_0000ffc0,
                                                               CONCAT24(in_stack_0000ffbe,
                                                                        CONCAT22(in_stack_0000ffbc,
                                                                                 puVar6))))))));
  puStack_4 = puStack_4 + -(((DAT_10a8_0a48 & 0x40) >> 6) - (int)PTR_DAT_10a8_0000_10a8_5794);
  if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffc6,
                                  CONCAT212(in_stack_0000ffc4,
                                            CONCAT111(in_stack_0000ffc3,
                                                      CONCAT110(in_stack_0000ffc2,
                                                                CONCAT28(in_stack_0000ffc0,
                                                                         CONCAT26(in_stack_0000ffbe,
                                                                                  CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
    TEXTOUT(0xe,(int16)CONCAT214(in_stack_0000ffb8,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT17(
                                                  uVar19,CONCAT16(uVar17,CONCAT24(puStack_4,
                                                                                  0x10a80de9))))))),
            (int16)CONCAT214(in_stack_0000ffc8,
                             CONCAT212(in_stack_0000ffc6,
                                       CONCAT210(in_stack_0000ffc4,
                                                 CONCAT19(in_stack_0000ffc3,
                                                          CONCAT18(in_stack_0000ffc2,
                                                                   CONCAT26(in_stack_0000ffc0,
                                                                            CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,puVar6)))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
            (int16)CONCAT214(in_stack_0000ffdc,
                             CONCAT212(in_stack_0000ffda,
                                       CONCAT210(in_stack_0000ffd8,
                                                 CONCAT28(in_stack_0000ffd6,
                                                          CONCAT44(in_stack_0000ffd2,
                                                                   in_stack_0000ffce))))));
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffc6,
                                CONCAT212(in_stack_0000ffc4,
                                          CONCAT111(in_stack_0000ffc3,
                                                    CONCAT110(in_stack_0000ffc2,
                                                              CONCAT28(in_stack_0000ffc0,
                                                                       CONCAT26(in_stack_0000ffbe,
                                                                                CONCAT24(
                                                  in_stack_0000ffbc,
                                                  CONCAT22(puVar6,in_stack_0000ffb8)))))))));
  pWStack_c = pWStack_c + -10;
  uVar10 = FUN_1028_4f92(CONCAT22(0x10a8,param_3),(int)(puStack_e + -1),
                         (uint)((byte)PTR_DAT_10a8_0000_10a8_7bc6[in_stack_0000ffb8 + 10] >> 4),-1,0
                        );
  piVar11 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xdf810a8,(LPCSTR)CONCAT22(uVar10,0x10a8),
                      pWVar13);
  FUN_1018_55f6(param_1,iStack_8,(int)puStack_4,uStack_14,piVar11,(int)pWStack_c,
                CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffb8,
                CONCAT212(in_stack_0000ffc6,
                          CONCAT210(in_stack_0000ffc4,
                                    CONCAT19(in_stack_0000ffc3,
                                             CONCAT18(in_stack_0000ffc2,
                                                      CONCAT26(in_stack_0000ffc0,
                                                               CONCAT24(in_stack_0000ffbe,
                                                                        CONCAT22(in_stack_0000ffbc,
                                                                                 puVar6))))))));
  puVar12 = PTR_DAT_10a8_0000_10a8_5794;
LAB_1028_05b5:
  puStack_4 = puStack_4 + (int)puVar12;
  SENDMESSAGE(0,(uint16)CONCAT214(puVar6,CONCAT212(in_stack_0000ffb8,
                                                   CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_5796,
                                                  CONCAT15(4,CONCAT14(1,(ulong)(((DAT_10a8_7b67 & 2)
                                                                                << 8) >> 9) << 0x10)
                                                          )))))),in_stack_0000ffbc,
              CONCAT22(in_stack_0000ffc0,in_stack_0000ffbe));
  SETWINDOWPOS(0x15,0,(int16)CONCAT214(in_stack_0000ffb8,
                                       CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_5796,
                                                  (qword)CONCAT22(iStack_6,puStack_4) << 0x10)))),
               (int16)CONCAT214(in_stack_0000ffc8,
                                CONCAT212(in_stack_0000ffc6,
                                          CONCAT210(in_stack_0000ffc4,
                                                    CONCAT19(in_stack_0000ffc3,
                                                             CONCAT18(in_stack_0000ffc2,
                                                                      CONCAT26(in_stack_0000ffc0,
                                                                               CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,puVar6)))))))),
               (int16)CONCAT214(in_stack_0000ffd8,
                                CONCAT212(in_stack_0000ffd6,
                                          CONCAT48(in_stack_0000ffd2,
                                                   CONCAT44(in_stack_0000ffce,
                                                            CONCAT22(in_stack_0000ffcc,
                                                                     in_stack_0000ffca))))),
               (int16)CONCAT412(in_stack_0000ffe6,
                                CONCAT210(in_stack_0000ffe4,
                                          CONCAT28(in_stack_0000ffe2,
                                                   CONCAT26(in_stack_0000ffe0,
                                                            CONCAT24(in_stack_0000ffde,
                                                                     CONCAT22(in_stack_0000ffdc,
                                                                              in_stack_0000ffda)))))
                               ),param_3);
  SHOWWINDOW(5,(int16)CONCAT214(in_stack_0000ffc0,
                                CONCAT212(in_stack_0000ffbe,
                                          CONCAT210(in_stack_0000ffbc,
                                                    CONCAT28(puVar6,CONCAT26(in_stack_0000ffb8,
                                                                             CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_5796)))))
                                         )));
  SETRECT((RECT16 *)CONCAT22(iStack_8,puStack_4 + ((uint)PTR_DAT_10a8_0000_10a8_5794 | 1)),
          (int16)CONCAT214(puVar6,CONCAT212(in_stack_0000ffb8,
                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,
                                                  CONCAT15(0x7b,CONCAT14(0x32,CONCAT22(-(((uint)
                                                  PTR_DAT_10a8_0000_10a8_5794 | 1) - iStack_8),
                                                  puStack_4)))))))),
          (int16)CONCAT214(in_stack_0000ffca,
                           CONCAT212(in_stack_0000ffc8,
                                     CONCAT210(in_stack_0000ffc6,
                                               CONCAT28(in_stack_0000ffc4,
                                                        CONCAT17(in_stack_0000ffc3,
                                                                 CONCAT16(in_stack_0000ffc2,
                                                                          CONCAT24(in_stack_0000ffc0
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffbe,in_stack_0000ffbc)))))))),
          (int16)CONCAT214(in_stack_0000ffda,
                           CONCAT212(in_stack_0000ffd8,
                                     CONCAT210(in_stack_0000ffd6,
                                               CONCAT46(in_stack_0000ffd2,
                                                        CONCAT42(in_stack_0000ffce,in_stack_0000ffcc
                                                                ))))),
          (int16)CONCAT214(param_3,CONCAT410(in_stack_0000ffe6,
                                             CONCAT28(in_stack_0000ffe4,
                                                      CONCAT26(in_stack_0000ffe2,
                                                               CONCAT24(in_stack_0000ffe0,
                                                                        CONCAT22(in_stack_0000ffde,
                                                                                 in_stack_0000ffdc))
                                                              )))));
  FUN_1008_9946((HRGN16)param_1,(int *)0x7b32,(int16 *)PTR_DAT_10a8_0000_10a8_58a6,
                (undefined1  [10])
                CONCAT28(in_stack_0000ffbc,
                         CONCAT26(puVar6,CONCAT24(in_stack_0000ffb8,CONCAT22(unaff_DI,unaff_SI)))),
                in_stack_0000ffbe,in_stack_0000ffc0,CONCAT11(in_stack_0000ffc3,in_stack_0000ffc2),
                in_stack_0000ffc4,in_stack_0000ffc6);
  PTR_DAT_10a8_0000_10a8_7bc6 = PTR_DAT_10a8_0000_10a8_7bc6;
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool16 __cdecl16far FUN_1028_062a(undefined *param_1,undefined2 *param_2)

{
  byte *pbVar1;
  char *pcVar2;
  undefined4 uVar3;
  bool bVar4;
  byte bVar5;
  undefined extraout_AH;
  bool16 bVar6;
  int iVar7;
  int iVar8;
  byte *pbVar9;
  HDC16 hdc;
  undefined *puVar10;
  int16 *piVar11;
  int iVar12;
  undefined *puVar13;
  int iVar14;
  int iVar15;
  undefined2 uVar16;
  HRGN16 unaff_SI;
  undefined2 *puVar17;
  undefined *puVar18;
  uint uVar19;
  int *piVar20;
  int *piVar21;
  undefined2 unaff_DI;
  HWND16 HVar22;
  int iVar23;
  char *pcVar24;
  RECT16 *unaff_SS;
  RECT16 *pRVar25;
  LRESULT LVar26;
  dword dVar27;
  COLORREF CVar28;
  undefined *hrsc1;
  undefined *in_stack_0000ffc2;
  WPARAM16 in_stack_0000ffc4;
  WPARAM16 in_stack_0000ffc6;
  undefined2 in_stack_0000ffc8;
  undefined2 in_stack_0000ffca;
  undefined2 in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  undefined2 in_stack_0000ffd2;
  int in_stack_0000ffd4;
  int in_stack_0000ffd6;
  int in_stack_0000ffd8;
  int in_stack_0000ffda;
  undefined4 in_stack_0000ffdc;
  undefined2 in_stack_0000ffe0;
  undefined *in_stack_0000ffe2;
  undefined2 in_stack_0000ffe8;
  HWND16 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined *puVar29;
  int *in_stack_0000fff2;
  word in_stack_0000fff4;
  char *pcStack_4;

  pRVar25 = (RECT16 *)((int)s_From___s_c_c_10a8_10a2 + 6);
  if ((*(byte *)((int)param_2 + 0xb) & 8) != 0) {
    puVar17 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_8846;
    do {
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffca,
                                    CONCAT212(in_stack_0000ffc8,
                                              CONCAT210(in_stack_0000ffc6,
                                                        CONCAT28(in_stack_0000ffc4,
                                                                 CONCAT26(in_stack_0000ffc2,
                                                                          CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,*puVar17))))))));
      puVar17 = puVar17 + 1;
    } while (puVar17 < (undefined2 *)&PTR_DAT_10a8_0000_10a8_884c);
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffca,
                                  CONCAT212(in_stack_0000ffc8,
                                            CONCAT210(in_stack_0000ffc6,
                                                      CONCAT28(in_stack_0000ffc4,
                                                               CONCAT26(in_stack_0000ffc2,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_0aa4))))))));
    pbVar1 = (byte *)((int)param_2 + 0xb);
    *pbVar1 = *pbVar1 & 0xf7;
    PTR_DAT_10a8_0000_10a8_7afc = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7b00 = (undefined *)0xfffa;
  }
  bVar5 = FUN_1020_0958(param_1,param_2,(undefined4 *)&stack0xffd4,0xdfe,
                        CONCAT24(in_stack_0000ffc2,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000ffcc,
                                 CONCAT26(in_stack_0000ffca,
                                          CONCAT24(in_stack_0000ffc8,
                                                   CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4)))),
                        CONCAT22(in_stack_0000ffd0,in_stack_0000ffce),in_stack_0000ffd2);
  if (CONCAT11(extraout_AH,bVar5) == 0) {
    puVar17 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_8846;
    do {
      SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffca,
                                    CONCAT212(in_stack_0000ffc8,
                                              CONCAT210(in_stack_0000ffc6,
                                                        CONCAT28(in_stack_0000ffc4,
                                                                 CONCAT26(in_stack_0000ffc2,
                                                                          CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,*puVar17))))))));
      puVar17 = puVar17 + 1;
    } while (puVar17 < (undefined2 *)&PTR_DAT_10a8_0000_10a8_884c);
    bVar6 = SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffca,
                                          CONCAT212(in_stack_0000ffc8,
                                                    CONCAT210(in_stack_0000ffc6,
                                                              CONCAT28(in_stack_0000ffc4,
                                                                       CONCAT26(in_stack_0000ffc2,
                                                                                CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_0aa4)))))
                                                  )));
    return bVar6;
  }
  iVar7 = in_stack_0000ffd4 + 4;
  iVar12 = in_stack_0000ffd8 + -4;
  iVar14 = (-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 2) + 2 + in_stack_0000ffd6;
  iVar15 = in_stack_0000ffda + -4;
  puVar13 = (undefined *)(iVar12 - iVar7);
  PTR_DAT_10a8_0000_10a8_7afc = (undefined *)0xfffb;
  PTR_DAT_10a8_0000_10a8_7b00 = (undefined *)0xfffa;
  HVar22 = 0x14;
  puVar10 = puVar13;
  if (puVar13 == PTR_DAT_10a8_0000_10a8_0a90) {
    HVar22 = 0x15;
    puVar10 = PTR_DAT_10a8_0000_10a8_0a90;
  }
  PTR_DAT_10a8_0000_10a8_0a90 = puVar10;
  SETWINDOWPOS(HVar22,(int)PTR_DAT_10a8_0000_10a8_579c * 5,
               (int16)CONCAT214(in_stack_0000ffc2,
                                CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_8846,
                                                  (qword)CONCAT24(iVar7,CONCAT22(iVar14,puVar13)))))
                               ),
               (int16)CONCAT214(in_stack_0000ffd2,
                                CONCAT212(in_stack_0000ffd0,
                                          CONCAT210(in_stack_0000ffce,
                                                    CONCAT28(in_stack_0000ffcc,
                                                             CONCAT26(in_stack_0000ffca,
                                                                      CONCAT24(in_stack_0000ffc8,
                                                                               CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
               (int16)CONCAT214(in_stack_0000ffe2,
                                CONCAT212(in_stack_0000ffe0,
                                          CONCAT48(in_stack_0000ffdc,
                                                   CONCAT26(in_stack_0000ffda,
                                                            CONCAT24(in_stack_0000ffd8,
                                                                     CONCAT22(in_stack_0000ffd6,
                                                                              in_stack_0000ffd4)))))
                               ),
               (int16)CONCAT214(in_stack_0000fff2,
                                CONCAT212(in_stack_0000fff0,
                                          CONCAT210(in_stack_0000ffee,
                                                    CONCAT28(puVar13,CONCAT26(iVar7,CONCAT24(
                                                  in_stack_0000ffe8,CONCAT22(iVar12,iVar15))))))),
               in_stack_0000fff4);
  SHOWWINDOW(5,(int16)CONCAT214(in_stack_0000ffca,
                                CONCAT212(in_stack_0000ffc8,
                                          CONCAT210(in_stack_0000ffc6,
                                                    CONCAT28(in_stack_0000ffc4,
                                                             CONCAT26(in_stack_0000ffc2,
                                                                      CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_8846))))))));
  puVar10 = PTR_DAT_10a8_0000_10a8_579c + iVar14 + 3;
  puVar29 = puVar10;
  LVar26 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc4,
                                           CONCAT212(in_stack_0000ffc2,
                                                     CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8846,0x40700000000))))),
                       in_stack_0000ffc6,CONCAT22(in_stack_0000ffca,in_stack_0000ffc8));
  iVar14 = (int)LVar26;
  hrsc1 = PTR_DAT_10a8_0000_10a8_8848;
  bVar6 = ISWINDOWVISIBLE((HWND16)PTR_DAT_10a8_0000_10a8_8848);
  if ((((bVar6 == 0) || (iVar14 == 0)) || (iVar14 == 3)) || (iVar14 == 4)) {
    SETRECT((RECT16 *)CONCAT22(iVar12 + 1,iVar15 + -2),
            (int16)CONCAT214(in_stack_0000ffc2,
                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(hrsc1,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffd4,CONCAT22(iVar7 + -1,puVar10)
                                                          )))))),
            (int16)CONCAT214(in_stack_0000ffd2,
                             CONCAT212(in_stack_0000ffd0,
                                       CONCAT210(in_stack_0000ffce,
                                                 CONCAT28(in_stack_0000ffcc,
                                                          CONCAT26(in_stack_0000ffca,
                                                                   CONCAT24(in_stack_0000ffc8,
                                                                            CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
            (int16)CONCAT214(in_stack_0000ffe2,
                             CONCAT212(in_stack_0000ffe0,
                                       CONCAT48(in_stack_0000ffdc,
                                                CONCAT26(in_stack_0000ffda,
                                                         CONCAT24(in_stack_0000ffd8,
                                                                  CONCAT22(in_stack_0000ffd6,
                                                                           in_stack_0000ffd4)))))),
            (int16)CONCAT214(in_stack_0000fff2,
                             CONCAT212(puVar29,CONCAT210(in_stack_0000ffee,
                                                         CONCAT28(puVar13,CONCAT26(iVar7,CONCAT24(
                                                  in_stack_0000ffe8,CONCAT22(iVar12,iVar15))))))));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffd4,unaff_SS,(HBRUSH16)param_1);
  }
  if ((iVar14 == 1) || (iVar14 == 2)) {
    puVar18 = puVar13;
    if (iVar14 == 1) {
      puVar18 = puVar13 + (2 - (int)PTR_DAT_10a8_0000_10a8_579c);
    }
    if (puVar18 == PTR_DAT_10a8_0000_10a8_0a92) {
      HVar22 = 0x15;
    }
    else {
      HVar22 = 0x14;
      PTR_DAT_10a8_0000_10a8_0a92 = puVar18;
    }
    SETWINDOWPOS(HVar22,(int)PTR_DAT_10a8_0000_10a8_579c * 5,
                 (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(hrsc1,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_8848,
                                                  (qword)CONCAT24(iVar7,CONCAT22(puVar10,puVar18))))
                                                  )),
                 (int16)CONCAT214(in_stack_0000ffd0,
                                  CONCAT212(in_stack_0000ffce,
                                            CONCAT210(in_stack_0000ffcc,
                                                      CONCAT28(in_stack_0000ffca,
                                                               CONCAT26(in_stack_0000ffc8,
                                                                        CONCAT24(in_stack_0000ffc6,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc4,in_stack_0000ffc2))))))),
                 (int16)CONCAT214(in_stack_0000ffe0,
                                  CONCAT410(in_stack_0000ffdc,
                                            CONCAT28(in_stack_0000ffda,
                                                     CONCAT26(in_stack_0000ffd8,
                                                              CONCAT24(in_stack_0000ffd6,
                                                                       CONCAT22(in_stack_0000ffd4,
                                                                                in_stack_0000ffd2)))
                                                    ))),
                 (int16)CONCAT214(puVar29,CONCAT212(in_stack_0000ffee,
                                                    CONCAT210(puVar13,CONCAT28(iVar7,CONCAT26(
                                                  in_stack_0000ffe8,
                                                  CONCAT24(iVar12,CONCAT22(iVar15,in_stack_0000ffe2)
                                                          )))))),(word)in_stack_0000fff2);
    SHOWWINDOW(5,(int16)CONCAT214(in_stack_0000ffc8,
                                  CONCAT212(in_stack_0000ffc6,
                                            CONCAT210(in_stack_0000ffc4,
                                                      CONCAT28(in_stack_0000ffc2,
                                                               CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(hrsc1,PTR_DAT_10a8_0000_10a8_8848))))))))
    ;
    if ((int)puVar18 < (int)puVar13) {
      SETRECT((RECT16 *)
              CONCAT22(puVar13 + iVar7,puVar10 + (((uint)PTR_DAT_10a8_0000_10a8_579c | 1) - 5)),
              (int16)CONCAT214(in_stack_0000ffc2,
                               CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(hrsc1,CONCAT26(
                                                  unaff_SS,CONCAT24(&stack0xffdc,
                                                                    CONCAT22(puVar13 + (8 - (((uint)
                                                  PTR_DAT_10a8_0000_10a8_579c | 1) - iVar7)),
                                                  puVar10 + 3))))))),
              (int16)CONCAT214(in_stack_0000ffd2,
                               CONCAT212(in_stack_0000ffd0,
                                         CONCAT210(in_stack_0000ffce,
                                                   CONCAT28(in_stack_0000ffcc,
                                                            CONCAT26(in_stack_0000ffca,
                                                                     CONCAT24(in_stack_0000ffc8,
                                                                              CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
              (int16)CONCAT214(in_stack_0000ffe2,
                               CONCAT212(in_stack_0000ffe0,
                                         CONCAT48(in_stack_0000ffdc,
                                                  CONCAT26(in_stack_0000ffda,
                                                           CONCAT24(in_stack_0000ffd8,
                                                                    CONCAT22(in_stack_0000ffd6,
                                                                             in_stack_0000ffd4))))))
              ,(int16)CONCAT214(in_stack_0000fff2,
                                CONCAT212(puVar29,CONCAT210(in_stack_0000ffee,
                                                            CONCAT28(puVar13,CONCAT26(iVar7,CONCAT24
                                                  (in_stack_0000ffe8,CONCAT22(iVar12,iVar15))))))));
      PTR_DAT_10a8_0000_10a8_7b00 = in_stack_0000ffe2;
      PTR_DAT_10a8_0000_10a8_7afc = (undefined *)((ulong)in_stack_0000ffdc >> 0x10);
      in_stack_0000ffe2 = PTR_DAT_10a8_0000_10a8_7b00;
      FUN_1008_9946((HRGN16)param_1,(int *)&stack0xffdc,(int16 *)PTR_DAT_10a8_0000_10a8_58a6,
                    (undefined1  [10])
                    CONCAT28(in_stack_0000ffc4,
                             CONCAT26(in_stack_0000ffc2,CONCAT24(unaff_DI,CONCAT22(unaff_SI,hrsc1)))
                            ),in_stack_0000ffc6,in_stack_0000ffc8,in_stack_0000ffca,
                    in_stack_0000ffcc,in_stack_0000ffce);
    }
  }
  else {
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffc8,
                                  CONCAT212(in_stack_0000ffc6,
                                            CONCAT210(in_stack_0000ffc4,
                                                      CONCAT28(in_stack_0000ffc2,
                                                               CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(hrsc1,PTR_DAT_10a8_0000_10a8_8848))))))))
    ;
  }
  puVar10 = puVar10 + (int)(PTR_DAT_10a8_0000_10a8_579c + 3);
  if (iVar14 == 1) {
    SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc2,
                                    CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(hrsc1,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8848,0x40700000000))))),
                in_stack_0000ffc4,CONCAT22(in_stack_0000ffc8,in_stack_0000ffc6));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)hrsc1,unaff_SI,
                 (int16)CONCAT214(in_stack_0000ffce,
                                  CONCAT212(in_stack_0000ffcc,
                                            CONCAT210(in_stack_0000ffca,
                                                      CONCAT28(in_stack_0000ffc8,
                                                               CONCAT26(in_stack_0000ffc6,
                                                                        CONCAT24(in_stack_0000ffc4,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc2,unaff_DI))))))));
    dVar27 = GETTEXTEXTENT(9,(LPCSTR)0x10a80e0c,
                           (int16)CONCAT214(in_stack_0000ffc8,
                                            CONCAT212(in_stack_0000ffc6,
                                                      CONCAT210(in_stack_0000ffc4,
                                                                CONCAT28(in_stack_0000ffc2,
                                                                         CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(hrsc1,param_1))))))));
    iVar8 = (int)dVar27;
    dVar27 = GETTEXTEXTENT(2,(LPCSTR)0x10a80e16,
                           (int16)CONCAT214(in_stack_0000ffc8,
                                            CONCAT212(in_stack_0000ffc6,
                                                      CONCAT210(in_stack_0000ffc4,
                                                                CONCAT28(in_stack_0000ffc2,
                                                                         CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(hrsc1,param_1))))))));
    iVar23 = (int)dVar27 + 2;
    HVar22 = 0x14;
    puVar13 = puVar13 + -(iVar8 + 8);
    puVar18 = puVar13;
    if (puVar13 == PTR_DAT_10a8_0000_10a8_0a94) {
      HVar22 = 0x15;
      puVar18 = PTR_DAT_10a8_0000_10a8_0a94;
    }
    PTR_DAT_10a8_0000_10a8_0a94 = puVar18;
    SETWINDOWPOS(HVar22,(int)PTR_DAT_10a8_0000_10a8_579c * 9,
                 (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(hrsc1,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_884a,
                                                  (qword)CONCAT24(iVar7,CONCAT22(puVar10,puVar13))))
                                                  )),
                 (int16)CONCAT214(in_stack_0000ffd0,
                                  CONCAT212(in_stack_0000ffce,
                                            CONCAT210(in_stack_0000ffcc,
                                                      CONCAT28(in_stack_0000ffca,
                                                               CONCAT26(in_stack_0000ffc8,
                                                                        CONCAT24(in_stack_0000ffc6,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc4,in_stack_0000ffc2))))))),
                 (int16)CONCAT214(in_stack_0000ffe0,
                                  CONCAT410(in_stack_0000ffdc,
                                            CONCAT28(in_stack_0000ffda,
                                                     CONCAT26(in_stack_0000ffd8,
                                                              CONCAT24(in_stack_0000ffd6,
                                                                       CONCAT22(in_stack_0000ffd4,
                                                                                in_stack_0000ffd2)))
                                                    ))),
                 (int16)CONCAT214(puVar29,CONCAT212(in_stack_0000ffee,
                                                    CONCAT210(puVar13,CONCAT28(iVar7,CONCAT26(
                                                  in_stack_0000ffe8,
                                                  CONCAT24(iVar12,CONCAT22(iVar15,in_stack_0000ffe2)
                                                          )))))),(word)in_stack_0000fff2);
    SHOWWINDOW(5,(int16)CONCAT214(in_stack_0000ffc8,
                                  CONCAT212(in_stack_0000ffc6,
                                            CONCAT210(in_stack_0000ffc4,
                                                      CONCAT28(in_stack_0000ffc2,
                                                               CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(hrsc1,PTR_DAT_10a8_0000_10a8_884a))))))))
    ;
    HVar22 = 0x14;
    in_stack_0000ffc2 = (undefined *)(iVar8 - iVar23);
    puVar18 = in_stack_0000ffc2;
    if (in_stack_0000ffc2 == PTR_DAT_10a8_0000_10a8_0aa2) {
      HVar22 = 0x15;
      puVar18 = PTR_DAT_10a8_0000_10a8_0aa2;
    }
    PTR_DAT_10a8_0000_10a8_0aa2 = puVar18;
    LVar26 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc2,
                                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(hrsc1,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_884a,0x40700000000
                                                          ))))),in_stack_0000ffc4,
                         CONCAT22(in_stack_0000ffc8,in_stack_0000ffc6));
    if (((LVar26 == 3) || (LVar26 == 4)) || ((LVar26 == 7 || ((LVar26 == 9 || (LVar26 == 0xb)))))) {
      in_stack_0000ffee = 1;
    }
    else {
      in_stack_0000ffee = 0;
    }
    SETWINDOWPOS(HVar22,(HWND16)PTR_DAT_10a8_0000_10a8_579c,
                 (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(hrsc1,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_0aa4,
                                                  (qword)CONCAT24((iVar12 - iVar8) + -4,
                                                                  CONCAT22(puVar10,in_stack_0000ffc2
                                                                          )))))),
                 (int16)CONCAT214(in_stack_0000ffd0,
                                  CONCAT212(in_stack_0000ffce,
                                            CONCAT210(in_stack_0000ffcc,
                                                      CONCAT28(in_stack_0000ffca,
                                                               CONCAT26(in_stack_0000ffc8,
                                                                        CONCAT24(in_stack_0000ffc6,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc4,in_stack_0000ffc2))))))),
                 (int16)CONCAT214(in_stack_0000ffe0,
                                  CONCAT410(in_stack_0000ffdc,
                                            CONCAT28(in_stack_0000ffda,
                                                     CONCAT26(in_stack_0000ffd8,
                                                              CONCAT24(in_stack_0000ffd6,
                                                                       CONCAT22(in_stack_0000ffd4,
                                                                                in_stack_0000ffd2)))
                                                    ))),
                 (int16)CONCAT214(puVar29,CONCAT212(in_stack_0000ffee,
                                                    CONCAT210(puVar13,CONCAT28(iVar7,CONCAT26(
                                                  in_stack_0000ffe8,
                                                  CONCAT24(iVar12,CONCAT22(iVar15,in_stack_0000ffe2)
                                                          )))))),(word)in_stack_0000fff2);
    ENABLEWINDOW(in_stack_0000ffee,(bool16)PTR_DAT_10a8_0000_10a8_0aa4);
    SHOWWINDOW(5,(int16)CONCAT214(in_stack_0000ffc8,
                                  CONCAT212(in_stack_0000ffc6,
                                            CONCAT210(in_stack_0000ffc4,
                                                      CONCAT28(in_stack_0000ffc2,
                                                               CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(hrsc1,PTR_DAT_10a8_0000_10a8_0aa4))))))))
    ;
    bVar6 = FUN_1018_55f6(param_1,iVar12,(int)(puVar10 + 3),0xe19,(int16 *)&DAT_10a8_0002,iVar23,
                          CONCAT22(unaff_SI,hrsc1),unaff_DI,
                          CONCAT212(in_stack_0000ffce,
                                    CONCAT210(in_stack_0000ffcc,
                                              CONCAT28(in_stack_0000ffca,
                                                       CONCAT26(in_stack_0000ffc8,
                                                                CONCAT24(in_stack_0000ffc6,
                                                                         CONCAT22(in_stack_0000ffc4,
                                                                                  in_stack_0000ffc2)
                                                                        ))))));
  }
  else {
    if (iVar14 == 2) {
      SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc2,
                                      CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(hrsc1,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8848,0x40700000000))))),
                  in_stack_0000ffc4,CONCAT22(in_stack_0000ffc8,in_stack_0000ffc6));
      puVar18 = puVar13;
      if (puVar13 == PTR_DAT_10a8_0000_10a8_0a94) {
        HVar22 = HVar22 | 1;
        puVar18 = PTR_DAT_10a8_0000_10a8_0a94;
      }
      PTR_DAT_10a8_0000_10a8_0a94 = puVar18;
      SETWINDOWPOS(HVar22,(int)PTR_DAT_10a8_0000_10a8_579c * 5,
                   (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(hrsc1,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_884a,
                                                  (qword)CONCAT24(iVar7,CONCAT22(puVar10,puVar13))))
                                                  )),
                   (int16)CONCAT214(in_stack_0000ffd0,
                                    CONCAT212(in_stack_0000ffce,
                                              CONCAT210(in_stack_0000ffcc,
                                                        CONCAT28(in_stack_0000ffca,
                                                                 CONCAT26(in_stack_0000ffc8,
                                                                          CONCAT24(in_stack_0000ffc6
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffc4,in_stack_0000ffc2))))))),
                   (int16)CONCAT214(in_stack_0000ffe0,
                                    CONCAT410(in_stack_0000ffdc,
                                              CONCAT28(in_stack_0000ffda,
                                                       CONCAT26(in_stack_0000ffd8,
                                                                CONCAT24(in_stack_0000ffd6,
                                                                         CONCAT22(in_stack_0000ffd4,
                                                                                  in_stack_0000ffd2)
                                                                        ))))),
                   (int16)CONCAT214(puVar29,CONCAT212(in_stack_0000ffee,
                                                      CONCAT210(puVar13,CONCAT28(iVar7,CONCAT26(
                                                  in_stack_0000ffe8,
                                                  CONCAT24(iVar12,CONCAT22(iVar15,in_stack_0000ffe2)
                                                          )))))),(word)in_stack_0000fff2);
      HVar22 = 5;
    }
    else {
      HVar22 = 0;
    }
    SHOWWINDOW(HVar22,(int16)CONCAT214(in_stack_0000ffc8,
                                       CONCAT212(in_stack_0000ffc6,
                                                 CONCAT210(in_stack_0000ffc4,
                                                           CONCAT28(in_stack_0000ffc2,
                                                                    CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(hrsc1,
                                                  PTR_DAT_10a8_0000_10a8_884a))))))));
    bVar6 = SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(in_stack_0000ffc4,
                                                              CONCAT28(in_stack_0000ffc2,
                                                                       CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(hrsc1,
                                                  PTR_DAT_10a8_0000_10a8_0aa4))))))));
  }
  if (iVar14 == 5) {
    uVar19 = 0x22;
    piVar20 = in_stack_0000fff2;
LAB_1028_0aed:
    if (uVar19 == 0x21) {
      hdc = *(HDC16 *)&PTR_DAT_10a8_0000_10a8_5910;
      uVar16 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_5912;
    }
    else {
      hdc = 0x7f;
      uVar16 = 0;
    }
    SETTEXTCOLOR(hdc,(COLORREF)CONCAT22(param_1,uVar16));
    pcStack_4 = (char *)FUN_1018_5112(uVar19);
    SETRECT((RECT16 *)CONCAT22(iVar12,iVar15 + 2),
            (int16)CONCAT214(in_stack_0000ffc2,
                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(hrsc1,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffd4,CONCAT22(iVar7,puVar29))))))
                            ),
            (int16)CONCAT214(in_stack_0000ffd2,
                             CONCAT212(in_stack_0000ffd0,
                                       CONCAT210(in_stack_0000ffce,
                                                 CONCAT28(in_stack_0000ffcc,
                                                          CONCAT26(in_stack_0000ffca,
                                                                   CONCAT24(in_stack_0000ffc8,
                                                                            CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
            (int16)CONCAT214(in_stack_0000ffe2,
                             CONCAT212(in_stack_0000ffe0,
                                       CONCAT48(in_stack_0000ffdc,
                                                CONCAT26(in_stack_0000ffda,
                                                         CONCAT24(in_stack_0000ffd8,
                                                                  CONCAT22(in_stack_0000ffd6,
                                                                           in_stack_0000ffd4)))))),
            (int16)CONCAT214(piVar20,CONCAT212(puVar29,CONCAT210(in_stack_0000ffee,
                                                                 CONCAT28(puVar13,CONCAT26(iVar7,
                                                  CONCAT24(in_stack_0000ffe8,CONCAT22(iVar12,iVar15)
                                                          )))))));
    SELECTOBJECT(*(int16 **)&PTR_DAT_10a8_0000_10a8_59cc,(HRGN16)param_1,(HRGN16)hrsc1,unaff_SI,
                 (int16)CONCAT214(in_stack_0000ffce,
                                  CONCAT212(in_stack_0000ffcc,
                                            CONCAT210(in_stack_0000ffca,
                                                      CONCAT28(in_stack_0000ffc8,
                                                               CONCAT26(in_stack_0000ffc6,
                                                                        CONCAT24(in_stack_0000ffc4,
                                                                                 CONCAT22(
                                                  in_stack_0000ffc2,unaff_DI))))))));
  }
  else {
    if (iVar14 == 3) {
      in_stack_0000ffee = 0;
      uVar16 = *(undefined2 *)((int)PTR_DAT_10a8_0000_10a8_7b64 * 4 + 0x74);
      pbVar9 = (byte *)(*(int *)((int)PTR_DAT_10a8_0000_10a8_7b64 * 4 + 0x72) + 0x7a);
      piVar20 = (int *)&PTR_DAT_10a8_0000_10a8_7b6e;
      do {
        if ((0 < *piVar20) && (*pbVar9 != 0)) {
          piVar21 = (int *)(pbVar9 + -0x40);
          iVar14 = 0;
          do {
            pRVar25 = unaff_SS;
            if ((*piVar21 == 0x1000) && (*(byte *)(piVar21 + 1) == 0)) {
              bVar4 = true;
              goto LAB_1028_0ad3;
            }
            piVar21 = piVar21 + 2;
            iVar14 = iVar14 + 1;
            in_stack_0000fff2 = piVar20;
          } while (iVar14 < (int)(uint)*pbVar9);
        }
        pbVar9 = pbVar9 + 0x87;
        piVar20 = piVar20 + 1;
      } while (piVar20 < (int *)&PTR_DAT_10a8_0000_10a8_7b8e);
      bVar4 = false;
      piVar20 = in_stack_0000fff2;
LAB_1028_0ad3:
      if (bVar4) {
        if (*(long *)0x7bbe == 0) {
          uVar19 = 0x98;
        }
        else {
          uVar19 = 0x21;
        }
      }
      else {
        uVar19 = 0x20;
      }
      goto LAB_1028_0aed;
    }
    if (iVar14 != 4) {
      return bVar6;
    }
    uVar19 = FUN_1028_1f8c((int)&PTR_DAT_10a8_0000_10a8_7b62,(int)s_From___s_c_c_10a8_10a2 + 6);
    if ((int)uVar19 < 1) {
      uVar19 = 0x9b;
LAB_1028_0c51:
      piVar11 = (int16 *)PTR_DAT_10a8_0000_10a8_59cc;
      if (0xe < (int)PTR_DAT_10a8_0000_10a8_5794) {
        piVar11 = (int16 *)PTR_DAT_10a8_0000_10a8_59ce;
      }
      SELECTOBJECT(piVar11,(HRGN16)param_1,(HRGN16)hrsc1,unaff_SI,
                   (int16)CONCAT214(in_stack_0000ffce,
                                    CONCAT212(in_stack_0000ffcc,
                                              CONCAT210(in_stack_0000ffca,
                                                        CONCAT28(in_stack_0000ffc8,
                                                                 CONCAT26(in_stack_0000ffc6,
                                                                          CONCAT24(in_stack_0000ffc4
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffc2,unaff_DI))))))));
    }
    else {
      if ((PTR_DAT_10a8_0000_10a8_7b68 == (undefined *)0xffff) ||
         (PTR_DAT_10a8_0000_10a8_7bd8 != (undefined *)0xffff)) {
        uVar19 = 0x9c;
        goto LAB_1028_0c51;
      }
      if ((int)PTR_DAT_10a8_0000_10a8_5794 < 0xf) {
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)hrsc1,unaff_SI,
                     (int16)CONCAT214(in_stack_0000ffce,
                                      CONCAT212(in_stack_0000ffcc,
                                                CONCAT210(in_stack_0000ffca,
                                                          CONCAT28(in_stack_0000ffc8,
                                                                   CONCAT26(in_stack_0000ffc6,
                                                                            CONCAT24(
                                                  in_stack_0000ffc4,
                                                  CONCAT22(in_stack_0000ffc2,unaff_DI))))))));
        puVar10 = PTR_DAT_10a8_0000_10a8_5794;
      }
      else {
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59cc,(HRGN16)param_1,(HRGN16)hrsc1,unaff_SI,
                     (int16)CONCAT214(in_stack_0000ffce,
                                      CONCAT212(in_stack_0000ffcc,
                                                CONCAT210(in_stack_0000ffca,
                                                          CONCAT28(in_stack_0000ffc8,
                                                                   CONCAT26(in_stack_0000ffc6,
                                                                            CONCAT24(
                                                  in_stack_0000ffc4,
                                                  CONCAT22(in_stack_0000ffc2,unaff_DI))))))));
        puVar10 = PTR_DAT_10a8_0000_10a8_5790;
      }
      if (1 < DAT_10a8_7bda) {
        FUN_1008_9d54((ulong)&PTR_DAT_10a8_0000_10a8_7bd6,(undefined4 *)&stack0xffc4,uVar19);
        TEXTOUT(0x15,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(hrsc1,CONCAT28(param_1,
                                                  CONCAT26(iVar7,CONCAT24(puVar29,0x10a80e1c)))))),
                (int16)CONCAT214(in_stack_0000ffd0,
                                 CONCAT212(in_stack_0000ffce,
                                           CONCAT210(in_stack_0000ffcc,
                                                     CONCAT28(in_stack_0000ffca,
                                                              CONCAT26(in_stack_0000ffc8,
                                                                       CONCAT24(in_stack_0000ffc6,
                                                                                CONCAT22(
                                                  in_stack_0000ffc4,in_stack_0000ffc2))))))),
                (LPCSTR)CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2),
                (int16)CONCAT214(iVar15,CONCAT212(in_stack_0000ffe2,
                                                  CONCAT210(in_stack_0000ffe0,
                                                            CONCAT46(in_stack_0000ffdc,
                                                                     CONCAT24(in_stack_0000ffda,
                                                                              CONCAT22(
                                                  in_stack_0000ffd8,in_stack_0000ffd6)))))));
        puVar29 = puVar29 + (int)puVar10;
        iVar7 = 0;
        do {
          uVar3 = *(undefined4 *)(iVar7 + 0x5be);
          SETTEXTCOLOR((HDC16)uVar3,(COLORREF)CONCAT22(param_1,(int)((ulong)uVar3 >> 0x10)));
          uVar16 = 1;
          uVar3 = *(undefined4 *)(&stack0xffc4 + iVar7);
          piVar11 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xe3210a8,
                              (LPCSTR)CONCAT22((int)uVar3,0x10a8),(VA_LIST16)((ulong)uVar3 >> 0x10))
          ;
          FUN_1018_5318(param_1,(int *)&stack0xffec,puVar29,(int)&DAT_10a8_86de,piVar11,
                        (LPCSTR)CONCAT22(hrsc1,uVar16),
                        (int16)CONCAT214(in_stack_0000ffcc,
                                         CONCAT212(in_stack_0000ffca,
                                                   CONCAT210(in_stack_0000ffc8,
                                                             CONCAT28(in_stack_0000ffc6,
                                                                      CONCAT26(in_stack_0000ffc4,
                                                                               CONCAT24(
                                                  in_stack_0000ffc2,CONCAT22(unaff_DI,unaff_SI))))))
                                        ));
          SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                       (COLORREF)
                       CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
          FUN_1018_5318(param_1,(int *)&stack0xffec,puVar29,0xe36,(int16 *)&PTR_LOOP_10a8_0004,
                        (LPCSTR)CONCAT22(hrsc1,1),
                        (int16)CONCAT214(in_stack_0000ffcc,
                                         CONCAT212(in_stack_0000ffca,
                                                   CONCAT210(in_stack_0000ffc8,
                                                             CONCAT28(in_stack_0000ffc6,
                                                                      CONCAT26(in_stack_0000ffc4,
                                                                               CONCAT24(
                                                  in_stack_0000ffc2,CONCAT22(unaff_DI,unaff_SI))))))
                                        ));
          iVar7 = iVar7 + 4;
        } while (iVar7 < 0x10);
        goto LAB_1028_0cdb;
      }
      uVar19 = 0xaa;
    }
    if (uVar19 == 0x9c) {
    }
    else {
      PTR_DAT_10a8_0000_10a8_5910 = (undefined *)0x7f;
      PTR_DAT_10a8_0000_10a8_5912 = (undefined *)0x0;
    }
    SETTEXTCOLOR((HDC16)PTR_DAT_10a8_0000_10a8_5910,
                 (COLORREF)CONCAT22(param_1,PTR_DAT_10a8_0000_10a8_5912));
    pcStack_4 = (char *)FUN_1018_5112(uVar19);
    SETRECT((RECT16 *)CONCAT22(iVar12,iVar15 + 2),
            (int16)CONCAT214(in_stack_0000ffc2,
                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(hrsc1,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffd4,CONCAT22(iVar7,puVar29))))))
                            ),
            (int16)CONCAT214(in_stack_0000ffd2,
                             CONCAT212(in_stack_0000ffd0,
                                       CONCAT210(in_stack_0000ffce,
                                                 CONCAT28(in_stack_0000ffcc,
                                                          CONCAT26(in_stack_0000ffca,
                                                                   CONCAT24(in_stack_0000ffc8,
                                                                            CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))),
            (int16)CONCAT214(in_stack_0000ffe2,
                             CONCAT212(in_stack_0000ffe0,
                                       CONCAT48(in_stack_0000ffdc,
                                                CONCAT26(in_stack_0000ffda,
                                                         CONCAT24(in_stack_0000ffd8,
                                                                  CONCAT22(in_stack_0000ffd6,
                                                                           in_stack_0000ffd4)))))),
            (int16)CONCAT214(in_stack_0000fff2,
                             CONCAT212(puVar29,CONCAT210(in_stack_0000ffee,
                                                         CONCAT28(puVar13,CONCAT26(iVar7,CONCAT24(
                                                  in_stack_0000ffe8,CONCAT22(iVar12,iVar15))))))));
  }
  uVar19 = 0xffff;
  pcVar24 = pcStack_4;
  do {
    if (uVar19 == 0) break;
    uVar19 = uVar19 - 1;
    pcVar2 = pcVar24;
    pcVar24 = pcVar24 + 1;
  } while (*pcVar2 != '\0');
  DRAWTEXT((int16 *)0x810,(HDC16)&stack0xffd4,(LPCSTR)CONCAT22(~uVar19 - 1,unaff_SS),
           (int16)CONCAT214(in_stack_0000ffc4,
                            CONCAT212(in_stack_0000ffc2,
                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(hrsc1,CONCAT24(
                                                  param_1,CONCAT22(pRVar25,pcStack_4))))))),
           (RECT16 *)CONCAT22(in_stack_0000ffc8,in_stack_0000ffc6),
           (uint16)CONCAT214(in_stack_0000ffd8,
                             CONCAT212(in_stack_0000ffd6,
                                       CONCAT210(in_stack_0000ffd4,
                                                 CONCAT28(in_stack_0000ffd2,
                                                          CONCAT26(in_stack_0000ffd0,
                                                                   CONCAT24(in_stack_0000ffce,
                                                                            CONCAT22(
                                                  in_stack_0000ffcc,in_stack_0000ffca))))))));
LAB_1028_0cdb:
  uVar3 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_5910;
  CVar28 = SETTEXTCOLOR((HDC16)uVar3,CONCAT22(param_1,(int)((ulong)uVar3 >> 0x10)));
  return (bool16)CVar28.value;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1028_0cec(undefined *param_1,undefined2 *param_2,int param_3,word param_4)

{
  byte *pbVar1;
  byte bVar2;
  undefined2 uVar3;
  undefined extraout_AH;
  int iVar4;
  int iVar5;
  HWND16 hwndInsertAfter;
  int iVar6;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 *puVar7;
  undefined2 unaff_DI;
  HWND16 hwnd;
  undefined4 in_stack_00000000;
  undefined8 in_stack_0000000c;
  word in_stack_00000014;
  int iVar8;
  undefined *puVar9;
  undefined2 in_stack_0000ffe8;
  int iVar10;
  int in_stack_0000ffea;
  int in_stack_0000ffec;
  int in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined2 in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  HWND16 hwnd_00;
  undefined2 in_stack_0000fff6;
  undefined2 in_stack_0000fff8;
  int iVar11;

  if (*(int *)(param_3 + 6) == -1) {
    uVar3 = 0xe3b;
  }
  else {
    uVar3 = FUN_1010_1074(*(uint *)(param_3 + 6) | 0x8000);
  }
  if ((*(byte *)((int)param_2 + 0xb) & 8) != 0) {
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fff0,
                                  CONCAT212(in_stack_0000ffee,
                                            CONCAT210(in_stack_0000ffec,
                                                      CONCAT28(in_stack_0000ffea,
                                                               CONCAT26(in_stack_0000ffe8,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59b0))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fff0,
                                  CONCAT212(in_stack_0000ffee,
                                            CONCAT210(in_stack_0000ffec,
                                                      CONCAT28(in_stack_0000ffea,
                                                               CONCAT26(in_stack_0000ffe8,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59b6))))))));
    pbVar1 = (byte *)((int)param_2 + 0xb);
    *pbVar1 = *pbVar1 & 0xf7;
  }
  bVar2 = FUN_1020_0958(param_1,param_2,(undefined4 *)&stack0xffea,uVar3,
                        CONCAT24(in_stack_0000ffe8,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000fff2,
                                 CONCAT26(in_stack_0000fff0,
                                          CONCAT24(in_stack_0000ffee,
                                                   CONCAT22(in_stack_0000ffec,in_stack_0000ffea)))),
                        CONCAT22(in_stack_0000fff6,in_stack_0000fff4),in_stack_0000fff8);
  if (CONCAT11(extraout_AH,bVar2) == 0) {
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fff0,
                                  CONCAT212(in_stack_0000ffee,
                                            CONCAT210(in_stack_0000ffec,
                                                      CONCAT28(in_stack_0000ffea,
                                                               CONCAT26(in_stack_0000ffe8,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59b0))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000fff0,
                                  CONCAT212(in_stack_0000ffee,
                                            CONCAT210(in_stack_0000ffec,
                                                      CONCAT28(in_stack_0000ffea,
                                                               CONCAT26(in_stack_0000ffe8,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59b6))))))));
    return;
  }
  iVar4 = in_stack_0000ffea + 4;
  iVar6 = (-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 3) + 1 + in_stack_0000ffec;
  iVar5 = (-0x14 - (iVar4 - in_stack_0000ffee)) / 3;
  hwndInsertAfter = (int)PTR_DAT_10a8_0000_10a8_5794 * 3 >> 1;
  if ((*(int *)(param_3 + 6) == -1) || (PTR_DAT_10a8_0000_10a8_7bd8 != PTR_DAT_10a8_0001_10a8_00c0))
  {
    hwnd_00 = 0;
  }
  else {
    hwnd_00 = 1;
  }
  ENABLEWINDOW(hwnd_00,(bool16)PTR_DAT_10a8_0000_10a8_59b0);
  if (*(int *)(param_3 + 6) == -1) {
    hwnd = 0xe4f;
  }
  else {
    hwnd = 0xe49;
  }
  iVar8 = (int)s_From___s_c_c_10a8_10a2 + 6;
  puVar9 = PTR_DAT_10a8_0000_10a8_59b6;
  SETWINDOWTEXT(hwnd,CONCAT22(PTR_DAT_10a8_0000_10a8_59b6,0x10a8));
  if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
    iVar10 = (iVar5 + 8) * 2;
    uVar3 = SUB42(&PTR_DAT_10a8_0000_10a8_59b0,0);
    puVar7 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59b0;
    iVar11 = iVar4;
    do {
      SETWINDOWPOS(0x14,hwndInsertAfter,
                   (int16)CONCAT214(puVar9,CONCAT212(iVar8,CONCAT210(hwnd,CONCAT28(*puVar7,(qword)
                                                  CONCAT24(iVar4,CONCAT22(iVar6,iVar5)))))),
                   (int16)CONCAT214(iVar5,CONCAT212(in_stack_0000fff0,
                                                    CONCAT210(in_stack_0000ffee,
                                                              CONCAT28(in_stack_0000ffec,
                                                                       CONCAT26(in_stack_0000ffea,
                                                                                CONCAT24(iVar10,
                                                  CONCAT22(unaff_DI,unaff_SI))))))),
                   (int16)CONCAT412(in_stack_00000000,
                                    CONCAT210(unaff_BP,CONCAT28(uVar3,CONCAT26(iVar11,CONCAT24(iVar6
                                                  ,CONCAT22(hwndInsertAfter,hwnd_00)))))),
                   (int16)CONCAT88(in_stack_0000000c,
                                   CONCAT26(param_4,CONCAT24(param_3,CONCAT22(param_2,param_1)))),
                   in_stack_00000014);
      SHOWWINDOW(5,(int16)CONCAT214(in_stack_0000ffea,
                                    CONCAT212(iVar10,CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  puVar9,CONCAT24(iVar8,CONCAT22(hwnd,*puVar7)))))))
                );
      iVar4 = iVar4 + iVar10;
      puVar7 = puVar7 + 3;
    } while (puVar7 < (undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_59b6 + 1));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1028_0e38(undefined *param_1,undefined2 *param_2,uint param_3,undefined8 param_4)

{
  undefined4 uVar1;
  byte bVar2;
  undefined extraout_AH;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 *puVar6;
  int16 *hdc;
  int16 *piVar7;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  undefined *puVar8;
  undefined2 unaff_SS;
  dword dVar9;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  int iVar10;
  undefined *puVar11;
  undefined *puVar12;
  undefined *puVar13;
  int in_stack_0000ffde;
  int in_stack_0000ffe0;
  int in_stack_0000ffe2;
  undefined2 in_stack_0000ffe4;
  undefined2 in_stack_0000ffe6;
  undefined *in_stack_0000ffe8;
  undefined *puVar14;
  dword in_stack_0000ffea;
  uint uVar15;
  undefined2 in_stack_0000fff6;
  undefined4 *puVar16;
  int16 **ppiVar17;
  undefined *puVar18;

  if ((*(byte *)((int)param_2 + 0xb) & 8) != 0) {
    PTR_DAT_10a8_0000_10a8_7ae4 = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7aec = (undefined *)0xfffb;
    PTR_DAT_10a8_0000_10a8_7ae8 = (undefined *)0xfffa;
    PTR_DAT_10a8_0000_10a8_7af0 = (undefined *)0xfffa;
  }
  uVar15 = param_3;
  bVar2 = FUN_1020_0958(param_1,param_2,(undefined4 *)&stack0xffde,0xe59,
                        CONCAT24(in_stack_0000ffde,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000ffe8,
                                 CONCAT26(in_stack_0000ffe6,
                                          CONCAT24(in_stack_0000ffe4,
                                                   CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0)))),
                        in_stack_0000ffea,param_3);
  if (CONCAT11(extraout_AH,bVar2) != 0) {
    iVar3 = in_stack_0000ffde + 4;
    iVar4 = in_stack_0000ffe2 + -4;
    iVar5 = in_stack_0000ffe0 + 1;
    puVar13 = PTR_DAT_10a8_0000_10a8_5924;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT412(in_stack_0000ffea,
                                  CONCAT210(in_stack_0000ffe8,
                                            CONCAT28(in_stack_0000ffe6,
                                                     CONCAT26(in_stack_0000ffe4,
                                                              CONCAT24(in_stack_0000ffe2,
                                                                       CONCAT22(in_stack_0000ffe0,
                                                                                in_stack_0000ffde)))
                                                    ))));
    dVar9 = GETTEXTEXTENT(6,s_Cargo_10a8_0e66,
                          (int16)CONCAT214(in_stack_0000ffe6,
                                           CONCAT212(in_stack_0000ffe4,
                                                     CONCAT210(in_stack_0000ffe2,
                                                               CONCAT28(in_stack_0000ffe0,
                                                                        CONCAT26(in_stack_0000ffde,
                                                                                 CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))))));
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      TEXTOUT(5,(int16)CONCAT214(in_stack_0000ffde,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(
                                                  iVar3,CONCAT24(iVar5,0x10a80e6d)))))),
              (int16)CONCAT214(uVar15,CONCAT410(in_stack_0000ffea,
                                                CONCAT28(in_stack_0000ffe8,
                                                         CONCAT26(in_stack_0000ffe6,
                                                                  CONCAT24(in_stack_0000ffe4,
                                                                           CONCAT22(
                                                  in_stack_0000ffe2,in_stack_0000ffe0)))))),
              (LPCSTR)CONCAT22(iVar4,puVar13),
              (int16)CONCAT214(in_stack_00000002,
                               CONCAT212(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(iVar5,CONCAT26((int)(dVar9 >>
                                                  0x10),CONCAT24((int)dVar9,
                                                                 CONCAT22(in_stack_0000fff6,iVar3)))
                                                  )))));
    }
    SETRECT((RECT16 *)CONCAT22(iVar4,PTR_DAT_10a8_0000_10a8_5794 + iVar5),
            (int16)CONCAT214(in_stack_0000ffe0,
                             CONCAT212(in_stack_0000ffde,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffe6,
                                                           CONCAT22((int)dVar9 + iVar3,iVar5))))))),
            (int16)CONCAT214(puVar13,CONCAT212(uVar15,CONCAT48(in_stack_0000ffea,
                                                               CONCAT26(in_stack_0000ffe8,
                                                                        CONCAT24(in_stack_0000ffe6,
                                                                                 CONCAT22(
                                                  in_stack_0000ffe4,in_stack_0000ffe2)))))),
            (int16)CONCAT214(in_stack_00000000,
                             CONCAT212(unaff_BP,CONCAT210(iVar5,CONCAT28((int)(dVar9 >> 0x10),
                                                                         CONCAT26((int)dVar9,
                                                                                  CONCAT24(
                                                  in_stack_0000fff6,CONCAT22(iVar3,iVar4))))))),
            (int16)CONCAT88(param_4,CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,
                                                  in_stack_00000002)))));
    PTR_DAT_10a8_0000_10a8_7ae4 = in_stack_0000ffe8;
    PTR_DAT_10a8_0000_10a8_7ae8 = (undefined *)(in_stack_0000ffea >> 0x10);
    puVar14 = PTR_DAT_10a8_0000_10a8_7ae4;
    FUN_1028_21d4(CONCAT22(&stack0xffe6,param_1),uVar15,(int)s_From___s_c_c_10a8_10a2 + 6,0);
    puVar8 = PTR_DAT_10a8_0000_10a8_5794 + iVar5 + (-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 2) + 2;
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      TEXTOUT(6,(int16)CONCAT214(in_stack_0000ffde,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(
                                                  iVar3,CONCAT24(puVar8,0x10a80e73)))))),
              (int16)CONCAT214(uVar15,CONCAT410(in_stack_0000ffea,
                                                CONCAT28(puVar14,CONCAT26(in_stack_0000ffe6,
                                                                          CONCAT24(in_stack_0000ffe4
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffe2,in_stack_0000ffe0)))))),
              (LPCSTR)CONCAT22(iVar4,puVar13),
              (int16)CONCAT214(in_stack_00000002,
                               CONCAT212(in_stack_00000000,
                                         CONCAT210(unaff_BP,CONCAT28(puVar8,CONCAT26((int)(dVar9 >>
                                                  0x10),CONCAT24((int)dVar9,
                                                                 CONCAT22(in_stack_0000fff6,iVar3)))
                                                  )))));
    }
    SETRECT((RECT16 *)CONCAT22(iVar4,puVar8 + (int)PTR_DAT_10a8_0000_10a8_5794),
            (int16)CONCAT214(in_stack_0000ffe0,
                             CONCAT212(in_stack_0000ffde,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffe6,
                                                           CONCAT22((int)dVar9 + iVar3,puVar8)))))))
            ,(int16)CONCAT214(puVar13,CONCAT212(uVar15,CONCAT48(in_stack_0000ffea,
                                                                CONCAT26(puVar14,CONCAT24(
                                                  in_stack_0000ffe6,
                                                  CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2))))))
            ,(int16)CONCAT214(in_stack_00000000,
                              CONCAT212(unaff_BP,CONCAT210(puVar8,CONCAT28((int)(dVar9 >> 0x10),
                                                                           CONCAT26((int)dVar9,
                                                                                    CONCAT24(
                                                  in_stack_0000fff6,CONCAT22(iVar3,iVar4))))))),
            (int16)CONCAT88(param_4,CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,
                                                  in_stack_00000002)))));
    PTR_DAT_10a8_0000_10a8_7aec = puVar14;
    PTR_DAT_10a8_0000_10a8_7af0 = (undefined *)(in_stack_0000ffea >> 0x10);
    puVar14 = PTR_DAT_10a8_0000_10a8_7aec;
    FUN_1028_21d4(CONCAT22(&stack0xffe6,param_1),uVar15,(int)s_From___s_c_c_10a8_10a2 + 6,5);
    puVar8 = puVar8 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 4);
    if ((DAT_10a8_0a48 & 0x40) == 0) {
      puVar6 = (undefined4 *)(uVar15 + 0x50);
      ppiVar17 = (int16 **)&PTR_s_Ironium_10a8_05db_10a8_060c;
      puVar16 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_05c2;
      puVar18 = puVar8;
      do {
        puVar11 = puVar13;
        if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
          SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                       (int16)CONCAT412(in_stack_0000ffea,
                                        CONCAT210(puVar14,CONCAT28(in_stack_0000ffe6,
                                                                   CONCAT26(in_stack_0000ffe4,
                                                                            CONCAT24(
                                                  in_stack_0000ffe2,
                                                  CONCAT22(in_stack_0000ffe0,in_stack_0000ffde))))))
                      );
          uVar1 = *puVar16;
          SETTEXTCOLOR((HDC16)uVar1,(COLORREF)CONCAT22(param_1,(int)((ulong)uVar1 >> 0x10)));
          piVar7 = *ppiVar17;
          iVar10 = (int)s_From___s_c_c_10a8_10a2 + 6;
          puVar11 = puVar8;
          puVar12 = param_1;
          iVar5 = iVar3;
          hdc = LSTRLEN(piVar7,(LPCSTR)CONCAT22(piVar7,0x10a8));
          TEXTOUT((HDC16)hdc,
                  (int16)CONCAT214(in_stack_0000ffde,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(puVar12,CONCAT26(
                                                  iVar3,CONCAT24(puVar11,CONCAT22(iVar10,piVar7)))))
                                            )),
                  (int16)CONCAT214(uVar15,CONCAT410(in_stack_0000ffea,
                                                    CONCAT28(puVar14,CONCAT26(in_stack_0000ffe6,
                                                                              CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                  ,(LPCSTR)CONCAT22(iVar4,puVar13),
                  (int16)CONCAT214(in_stack_00000002,
                                   CONCAT212(in_stack_00000000,
                                             CONCAT210(unaff_BP,CONCAT28(puVar18,CONCAT26(ppiVar17,
                                                  CONCAT24(puVar6,CONCAT22(puVar16,iVar5))))))));
          puVar11 = puVar13;
          iVar3 = iVar5;
        }
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
                     (int16)CONCAT412(in_stack_0000ffea,
                                      CONCAT210(puVar14,CONCAT28(in_stack_0000ffe6,
                                                                 CONCAT26(in_stack_0000ffe4,
                                                                          CONCAT24(in_stack_0000ffe2
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffe0,in_stack_0000ffde)))))));
        SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                     (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)))
        ;
        uVar1 = *puVar6;
        puVar13 = puVar11;
        piVar7 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xe7a10a8,
                           (LPCSTR)CONCAT22((int)uVar1,0x10a8),(VA_LIST16)((ulong)uVar1 >> 0x10));
        FUN_1018_55f6(param_1,iVar4,(int)puVar8,(int)&DAT_10a8_86de,piVar7,(int)puVar11,
                      CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffde,
                      CONCAT410(in_stack_0000ffea,
                                CONCAT28(puVar14,CONCAT26(in_stack_0000ffe6,
                                                          CONCAT24(in_stack_0000ffe4,
                                                                   CONCAT22(in_stack_0000ffe2,
                                                                            in_stack_0000ffe0))))));
        puVar8 = puVar8 + (int)PTR_DAT_10a8_0000_10a8_5794;
        puVar6 = puVar6 + 1;
        ppiVar17 = ppiVar17 + 1;
        puVar16 = puVar16 + 1;
      } while (puVar16 < (undefined4 *)0x5ce);
      if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                     (int16)CONCAT412(in_stack_0000ffea,
                                      CONCAT210(puVar14,CONCAT28(in_stack_0000ffe6,
                                                                 CONCAT26(in_stack_0000ffe4,
                                                                          CONCAT24(in_stack_0000ffe2
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffe0,in_stack_0000ffde)))))));
        SETTEXTCOLOR(0xffff,(COLORREF)CONCAT22(param_1,0xff));
        TEXTOUT(9,(int16)CONCAT214(in_stack_0000ffde,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(
                                                  iVar3,CONCAT24(puVar8,0x10a80e7f)))))),
                (int16)CONCAT214(uVar15,CONCAT410(in_stack_0000ffea,
                                                  CONCAT28(puVar14,CONCAT26(in_stack_0000ffe6,
                                                                            CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                ,(LPCSTR)CONCAT22(iVar4,puVar13),
                (int16)CONCAT214(in_stack_00000002,
                                 CONCAT212(in_stack_00000000,
                                           CONCAT210(unaff_BP,CONCAT28(puVar18,CONCAT26(ppiVar17,
                                                  CONCAT24(puVar6,CONCAT22(puVar16,iVar3))))))));
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
                     (int16)CONCAT412(in_stack_0000ffea,
                                      CONCAT210(puVar14,CONCAT28(in_stack_0000ffe6,
                                                                 CONCAT26(in_stack_0000ffe4,
                                                                          CONCAT24(in_stack_0000ffe2
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffe0,in_stack_0000ffde)))))));
        SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                     (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)))
        ;
      }
      uVar1 = *(undefined4 *)(uVar15 + 0x5c);
      piVar7 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xe8910a8,
                         (LPCSTR)CONCAT22((int)uVar1,0x10a8),(VA_LIST16)((ulong)uVar1 >> 0x10));
      FUN_1018_55f6(param_1,iVar4,(int)puVar8,(int)&DAT_10a8_86de,piVar7,(int)puVar13,
                    CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffde,
                    CONCAT410(in_stack_0000ffea,
                              CONCAT28(puVar14,CONCAT26(in_stack_0000ffe6,
                                                        CONCAT24(in_stack_0000ffe4,
                                                                 CONCAT22(in_stack_0000ffe2,
                                                                          in_stack_0000ffe0))))));
    }
  }
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1028_10ba(undefined *param_1,undefined2 *param_2,int param_3)

{
  byte *pbVar1;
  byte bVar2;
  undefined extraout_AH;
  int iVar3;
  int iVar4;
  VA_LIST16 pWVar5;
  uint *puVar6;
  int16 *piVar7;
  undefined *puVar8;
  undefined *puVar9;
  uint uVar10;
  int iVar11;
  int iVar12;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  undefined2 *puVar13;
  VA_LIST16 unaff_DI;
  undefined *puVar14;
  int iVar15;
  undefined2 unaff_SS;
  bool bVar16;
  dword dVar17;
  undefined4 in_stack_00000000;
  VA_LIST16 valist;
  undefined *puVar18;
  undefined2 in_stack_0000ffd4;
  undefined2 in_stack_0000ffd6;
  int in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  int in_stack_0000ffdc;
  int in_stack_0000ffde;
  int in_stack_0000ffe0;
  int iVar19;
  int in_stack_0000ffe2;
  undefined2 in_stack_0000ffe4;
  undefined2 in_stack_0000ffe8;
  VA_LIST16 pWVar20;
  int iVar21;
  undefined2 in_stack_0000fff0;
  undefined2 in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  uint uVar22;
  undefined2 in_stack_0000fff6;
  VA_LIST16 valist_00;
  undefined2 in_stack_0000fff8;
  HWND16 HVar23;
  undefined2 uVar24;

  if ((*(byte *)((int)param_2 + 0xb) & 8) != 0) {
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffdc,
                                  CONCAT212(in_stack_0000ffda,
                                            CONCAT210(in_stack_0000ffd8,
                                                      CONCAT28(in_stack_0000ffd6,
                                                               CONCAT26(in_stack_0000ffd4,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_82c0))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffdc,
                                  CONCAT212(in_stack_0000ffda,
                                            CONCAT210(in_stack_0000ffd8,
                                                      CONCAT28(in_stack_0000ffd6,
                                                               CONCAT26(in_stack_0000ffd4,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59b8))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffdc,
                                  CONCAT212(in_stack_0000ffda,
                                            CONCAT210(in_stack_0000ffd8,
                                                      CONCAT28(in_stack_0000ffd6,
                                                               CONCAT26(in_stack_0000ffd4,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59ba))))))));
    SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffdc,
                                  CONCAT212(in_stack_0000ffda,
                                            CONCAT210(in_stack_0000ffd8,
                                                      CONCAT28(in_stack_0000ffd6,
                                                               CONCAT26(in_stack_0000ffd4,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59bc))))))));
    pbVar1 = (byte *)((int)param_2 + 0xb);
    *pbVar1 = *pbVar1 & 0xf7;
  }
  bVar2 = FUN_1020_0958(param_1,param_2,(undefined4 *)&stack0xffde,0xe8e,
                        CONCAT24(in_stack_0000ffd4,CONCAT22(unaff_DI,unaff_SI)),
                        (undefined1  [10])
                        CONCAT28(in_stack_0000ffde,
                                 CONCAT26(in_stack_0000ffdc,
                                          CONCAT24(in_stack_0000ffda,
                                                   CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6)))),
                        CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0),in_stack_0000ffe4);
  if (CONCAT11(extraout_AH,bVar2) != 0) {
    iVar3 = in_stack_0000ffde + 4;
    iVar4 = in_stack_0000ffe2 + -4;
    iVar19 = in_stack_0000ffe0;
    dVar17 = GETTEXTEXTENT(9,(LPCSTR)0x10a80ea0,
                           (int16)CONCAT214(in_stack_0000ffdc,
                                            CONCAT212(in_stack_0000ffda,
                                                      CONCAT210(in_stack_0000ffd8,
                                                                CONCAT28(in_stack_0000ffd6,
                                                                         CONCAT26(in_stack_0000ffd4,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))))));
    pWVar5 = (VA_LIST16)dVar17;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,(HRGN16)unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffe2,
                                  CONCAT212(iVar19,CONCAT210(in_stack_0000ffde,
                                                             CONCAT28(in_stack_0000ffdc,
                                                                      CONCAT26(in_stack_0000ffda,
                                                                               CONCAT24(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
                                 ));
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      TEXTOUT(0xe,(int16)CONCAT214(in_stack_0000ffd4,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(
                                                  iVar3,CONCAT24(in_stack_0000ffe0,0x10a80eab)))))),
              (int16)CONCAT214(in_stack_0000ffe4,
                               CONCAT212(in_stack_0000ffe2,
                                         CONCAT210(iVar19,CONCAT28(in_stack_0000ffde,
                                                                   CONCAT26(in_stack_0000ffdc,
                                                                            CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                              ),(LPCSTR)CONCAT22(in_stack_0000ffe8,param_3),
              (int16)CONCAT214(in_stack_0000fff8,
                               CONCAT212(in_stack_0000fff6,
                                         CONCAT210(in_stack_0000fff4,
                                                   CONCAT28(in_stack_0000fff2,
                                                            CONCAT26(in_stack_0000fff0,
                                                                     CONCAT24(iVar3,CONCAT22(iVar4,
                                                  pWVar5))))))));
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,(HRGN16)unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffe2,
                                  CONCAT212(iVar19,CONCAT210(in_stack_0000ffde,
                                                             CONCAT28(in_stack_0000ffdc,
                                                                      CONCAT26(in_stack_0000ffda,
                                                                               CONCAT24(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
                                 ));
    uVar22 = 0;
    valist_00 = (VA_LIST16)0x0;
    puVar6 = (uint *)(param_3 + 0xc);
    iVar12 = 0x10;
    do {
      uVar10 = *puVar6;
      puVar6 = puVar6 + 1;
      bVar16 = CARRY2(uVar22,uVar10);
      uVar22 = uVar22 + uVar10;
      valist_00 = (VA_LIST16)((int)valist_00 + (uint)bVar16 + ((int)uVar10 >> 0xf));
      iVar12 = iVar12 + -1;
    } while (iVar12 != 0);
    iVar12 = in_stack_0000ffe0;
    valist = pWVar5;
    iVar21 = iVar3;
    piVar7 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xeba10a8,(LPCSTR)CONCAT22(uVar22,0x10a8),
                       valist_00);
    FUN_1018_55f6(param_1,iVar4,in_stack_0000ffe0,(int)&DAT_10a8_86de,piVar7,(int)pWVar5,
                  CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffd4,
                  CONCAT212(in_stack_0000ffe2,
                            CONCAT210(iVar19,CONCAT28(in_stack_0000ffde,
                                                      CONCAT26(in_stack_0000ffdc,
                                                               CONCAT24(in_stack_0000ffda,
                                                                        CONCAT22(in_stack_0000ffd8,
                                                                                 in_stack_0000ffd6))
                                                              )))));
    puVar14 = PTR_DAT_10a8_0000_10a8_5794 + in_stack_0000ffe0;
    GETCLIENTRECT((HWND16)&stack0xffd6,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_82c0,unaff_SS));
    HVar23 = 0x14;
    PTR_DAT_10a8_0000_10a8_0a9c =
         (undefined *)
         (((-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 2) + 3) * (int)(PTR_DAT_10a8_0000_10a8_5794 + 2))
    ;
    puVar8 = PTR_DAT_10a8_0000_10a8_0a9c + (in_stack_0000ffd8 - in_stack_0000ffdc);
    puVar9 = (undefined *)(iVar4 - iVar3);
    puVar18 = puVar9;
    if (((puVar9 == PTR_DAT_10a8_0000_10a8_0a9a) && (-1 < (int)puVar8)) &&
       ((int)puVar8 < (int)PTR_DAT_10a8_0000_10a8_5794)) {
      HVar23 = 0x15;
      puVar18 = PTR_DAT_10a8_0000_10a8_0a9a;
    }
    PTR_DAT_10a8_0000_10a8_0a9a = puVar18;
    SETWINDOWPOS(HVar23,(HWND16)PTR_DAT_10a8_0000_10a8_0a9c,
                 (int16)CONCAT214(puVar9,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_82c0,
                                                  (qword)CONCAT24(iVar3,CONCAT22(puVar14,puVar9)))))
                                 ),
                 (int16)CONCAT214(in_stack_0000ffe4,
                                  CONCAT212(in_stack_0000ffe2,
                                            CONCAT210(iVar19,CONCAT28(in_stack_0000ffde,
                                                                      CONCAT26(in_stack_0000ffdc,
                                                                               CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                                 ),
                 (int16)CONCAT214(uVar22,CONCAT212(in_stack_0000fff2,
                                                   CONCAT210(in_stack_0000fff0,
                                                             CONCAT28(iVar21,CONCAT26(iVar4,CONCAT24
                                                  (valist,CONCAT22(iVar12,param_3))))))),
                 (int16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                                  CONCAT28(unaff_BP,CONCAT26(puVar8,CONCAT24(HVar23,CONCAT22(
                                                  in_stack_0000fff8,valist_00))))),(word)param_2);
    SHOWWINDOW(5,(int16)CONCAT214(in_stack_0000ffdc,
                                  CONCAT212(in_stack_0000ffda,
                                            CONCAT210(in_stack_0000ffd8,
                                                      CONCAT28(in_stack_0000ffd6,
                                                               CONCAT26(puVar9,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_82c0)))))
                                           )));
    GETCLIENTRECT((HWND16)&stack0xffd6,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_82c0,unaff_SS));
    PTR_DAT_10a8_0000_10a8_0a9c = (undefined *)(in_stack_0000ffdc - in_stack_0000ffd8);
    puVar14 = puVar14 + (int)(PTR_DAT_10a8_0000_10a8_0a9c +
                             (-(uint)((DAT_10a8_0a48 & 0x40) == 0) & 2) + 2);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,(HRGN16)unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffe2,
                                  CONCAT212(iVar19,CONCAT210(in_stack_0000ffde,
                                                             CONCAT28(in_stack_0000ffdc,
                                                                      CONCAT26(in_stack_0000ffda,
                                                                               CONCAT24(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,puVar9))))))));
    dVar17 = GETTEXTEXTENT(10,s_Best_Warp_10a8_0ebe,
                           (int16)CONCAT214(in_stack_0000ffdc,
                                            CONCAT212(in_stack_0000ffda,
                                                      CONCAT210(in_stack_0000ffd8,
                                                                CONCAT28(in_stack_0000ffd6,
                                                                         CONCAT26(puVar9,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_1))))))));
    pWVar5 = (VA_LIST16)(dVar17 >> 0x10);
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      TEXTOUT(10,(int16)CONCAT214(puVar9,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26(iVar3,CONCAT24(puVar14,0x10a80ec9)))))),
              (int16)CONCAT214(in_stack_0000ffe4,
                               CONCAT212(in_stack_0000ffe2,
                                         CONCAT210(iVar19,CONCAT28(in_stack_0000ffde,
                                                                   CONCAT26(in_stack_0000ffdc,
                                                                            CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                              ),(LPCSTR)CONCAT22(iVar12,param_3),
              (int16)CONCAT214(in_stack_0000fff8,
                               CONCAT212(valist_00,
                                         CONCAT210(uVar22,CONCAT28(in_stack_0000fff2,
                                                                   CONCAT26(in_stack_0000fff0,
                                                                            CONCAT24(iVar21,CONCAT22
                                                  (iVar4,valist))))))));
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,(HRGN16)unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffe2,
                                  CONCAT212(iVar19,CONCAT210(in_stack_0000ffde,
                                                             CONCAT28(in_stack_0000ffdc,
                                                                      CONCAT26(in_stack_0000ffda,
                                                                               CONCAT24(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,puVar9))))))));
    pWVar20 = valist;
    uVar10 = FUN_1028_542c((undefined *)0x0);
    piVar7 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xed410a8,(LPCSTR)CONCAT22(uVar10,0x10a8),
                       valist);
    FUN_1018_55f6(param_1,iVar4,(int)puVar14,(int)&DAT_10a8_86de,piVar7,(int)valist,
                  CONCAT22(unaff_DI,unaff_SI),puVar9,
                  CONCAT212(in_stack_0000ffe2,
                            CONCAT210(iVar19,CONCAT28(in_stack_0000ffde,
                                                      CONCAT26(in_stack_0000ffdc,
                                                               CONCAT24(in_stack_0000ffda,
                                                                        CONCAT22(in_stack_0000ffd8,
                                                                                 in_stack_0000ffd6))
                                                              )))));
    iVar15 = (int)puVar14 - (((DAT_10a8_0a48 & 0x40) >> 6) - (int)PTR_DAT_10a8_0000_10a8_5794);
    if ((*(byte *)((int)param_2 + 0xb) & 0x10) == 0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,(HRGN16)unaff_DI,
                   (int16)CONCAT214(in_stack_0000ffe2,
                                    CONCAT212(iVar19,CONCAT210(in_stack_0000ffde,
                                                               CONCAT28(in_stack_0000ffdc,
                                                                        CONCAT26(in_stack_0000ffda,
                                                                                 CONCAT24(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,puVar9))))))));
      TEXTOUT(10,(int16)CONCAT214(puVar9,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26(iVar3,CONCAT24(iVar15,0x10a80ed7)))))),
              (int16)CONCAT214(in_stack_0000ffe4,
                               CONCAT212(in_stack_0000ffe2,
                                         CONCAT210(iVar19,CONCAT28(in_stack_0000ffde,
                                                                   CONCAT26(in_stack_0000ffdc,
                                                                            CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                              ),(LPCSTR)CONCAT22(iVar12,param_3),
              (int16)CONCAT214(in_stack_0000fff8,
                               CONCAT212(valist_00,
                                         CONCAT210(uVar22,CONCAT28(in_stack_0000fff2,
                                                                   CONCAT26(in_stack_0000fff0,
                                                                            CONCAT24(iVar21,CONCAT22
                                                  (iVar4,pWVar20))))))));
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,(HRGN16)unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffe2,
                                  CONCAT212(iVar19,CONCAT210(in_stack_0000ffde,
                                                             CONCAT28(in_stack_0000ffdc,
                                                                      CONCAT26(in_stack_0000ffda,
                                                                               CONCAT24(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,puVar9))))))));
    uVar10 = FUN_1028_4f92((ulong)&PTR_DAT_10a8_0000_10a8_7b62,0,uVar10,-1,1);
    if (((int)pWVar5 < 0x3b9a) || (((int)pWVar5 < 0x3b9b && (uVar10 < 0xca00)))) {
      piVar7 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xeeb10a8,(LPCSTR)CONCAT22(uVar10,0x10a8),
                         pWVar5);
    }
    else {
      piVar7 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xee210a8,(LPCSTR)CONCAT22(unaff_SI,0x10a8),
                         unaff_DI);
    }
    FUN_1018_55f6(param_1,iVar4,iVar15,(int)&DAT_10a8_86de,piVar7,(int)pWVar20,
                  CONCAT22(unaff_DI,unaff_SI),puVar9,
                  CONCAT212(in_stack_0000ffe2,
                            CONCAT210(iVar19,CONCAT28(in_stack_0000ffde,
                                                      CONCAT26(in_stack_0000ffdc,
                                                               CONCAT24(in_stack_0000ffda,
                                                                        CONCAT22(in_stack_0000ffd8,
                                                                                 in_stack_0000ffd6))
                                                              )))));
    iVar15 = iVar15 + (2 - (((DAT_10a8_0a48 & 0x40) >> 6) - (int)PTR_DAT_10a8_0000_10a8_5794));
    iVar11 = (int)(puVar9 + -0x10) / 3;
    uVar24 = SUB42(&PTR_DAT_10a8_0000_10a8_59b8,0);
    puVar13 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_59b8;
    iVar12 = iVar3;
    do {
      SETWINDOWPOS(0x14,(HWND16)(PTR_DAT_10a8_0000_10a8_5794 +
                                ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1)),
                   (int16)CONCAT214(puVar9,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(*puVar13,(
                                                  qword)CONCAT24(iVar3,CONCAT22(iVar15,iVar11)))))),
                   (int16)CONCAT214(in_stack_0000ffe4,
                                    CONCAT212(in_stack_0000ffe2,
                                              CONCAT210(iVar19,CONCAT28(in_stack_0000ffde,
                                                                        CONCAT26(in_stack_0000ffdc,
                                                                                 CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                                   ),
                   (int16)CONCAT214(uVar22,CONCAT212(pWVar5,CONCAT210(uVar10,CONCAT28(iVar21,
                                                  CONCAT26(iVar4,CONCAT24(pWVar20,CONCAT22(iVar15,
                                                  param_3))))))),
                   (int16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                                    CONCAT28(unaff_BP,CONCAT26(uVar24,CONCAT24(iVar12,CONCAT22(
                                                  iVar11,valist_00))))),(word)param_2);
      SHOWWINDOW(5,(int16)CONCAT214(in_stack_0000ffdc,
                                    CONCAT212(in_stack_0000ffda,
                                              CONCAT210(in_stack_0000ffd8,
                                                        CONCAT28(in_stack_0000ffd6,
                                                                 CONCAT26(puVar9,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,*puVar13))))))));
      iVar3 = iVar3 + iVar11 + 8;
      puVar13 = puVar13 + 1;
    } while (puVar13 < (undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_59bc + 1));
    puVar18 = PTR_DAT_10a8_0000_10a8_59b8;
    HVar23 = FUN_1028_1478(CONCAT22(valist_00,uVar22));
    ENABLEWINDOW(HVar23,(bool16)puVar18);
    puVar18 = PTR_DAT_10a8_0000_10a8_59ba;
    HVar23 = FUN_1028_1498(CONCAT22(valist_00,uVar22));
    ENABLEWINDOW(HVar23,(bool16)puVar18);
    puVar18 = PTR_DAT_10a8_0000_10a8_59bc;
    HVar23 = FUN_1028_14c4(param_3);
    ENABLEWINDOW(HVar23,(bool16)puVar18);
    return;
  }
  SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffdc,
                                CONCAT212(in_stack_0000ffda,
                                          CONCAT210(in_stack_0000ffd8,
                                                    CONCAT28(in_stack_0000ffd6,
                                                             CONCAT26(in_stack_0000ffd4,
                                                                      CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_82c0))))))));
  SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffdc,
                                CONCAT212(in_stack_0000ffda,
                                          CONCAT210(in_stack_0000ffd8,
                                                    CONCAT28(in_stack_0000ffd6,
                                                             CONCAT26(in_stack_0000ffd4,
                                                                      CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59b8))))))));
  SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffdc,
                                CONCAT212(in_stack_0000ffda,
                                          CONCAT210(in_stack_0000ffd8,
                                                    CONCAT28(in_stack_0000ffd6,
                                                             CONCAT26(in_stack_0000ffd4,
                                                                      CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59ba))))))));
  SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffdc,
                                CONCAT212(in_stack_0000ffda,
                                          CONCAT210(in_stack_0000ffd8,
                                                    CONCAT28(in_stack_0000ffd6,
                                                             CONCAT26(in_stack_0000ffd4,
                                                                      CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,PTR_DAT_10a8_0000_10a8_59bc))))))));
  return;
}



undefined2 __cdecl16far FUN_1028_1478(long param_1)

{
  if ((*(int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) !=
       0x200) && (1 < param_1)) {
    return 1;
  }
  return 0;
}



undefined2 __cdecl16far FUN_1028_1498(long param_1)

{
  if ((*(int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) +
       param_1 + -1 < 0x201) && (1 < param_1)) {
    return 1;
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1028_14c4(int param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  int local_14;
  uint *local_10;
  undefined4 local_c;

  local_c = 0;
  iVar4 = 0;
  local_14 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    local_10 = _PTR_DAT_10a8_0000_10a8_006e;
    do {
      uVar2 = *local_10;
      uVar1 = *(uint *)((int)local_10 + 2);
      if ((uVar1 | uVar2) == 0) break;
      if ((*(int *)(uVar2 + 2) == *(int *)(param_1 + 2)) &&
         (*(long *)(uVar2 + 8) == _PTR_DAT_10a8_0000_10a8_7b6a)) {
        local_14 = local_14 + 1;
        iVar3 = 0x10;
        piVar5 = (int *)(uVar2 + 0xc);
        do {
          local_c = local_c + *piVar5;
          iVar3 = iVar3 + -1;
          piVar5 = piVar5 + 1;
        } while (iVar3 != 0);
      }
      local_10 = (uint *)((ulong)local_10 & 0xffff0000 | (ulong)((int)local_10 + 4));
      iVar4 = iVar4 + 1;
    } while (iVar4 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  if (local_14 != 1) {
    uVar2 = 0x7fff - *(int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + *(int *)(param_1 + 2) * 0x76);
    iVar4 = (int)uVar2 >> 0xf;
    if ((local_c._2_2_ <= iVar4) && ((local_c._2_2_ < iVar4 || ((uint)local_c <= uVar2)))) {
      return 1;
    }
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far
FUN_1028_1572(undefined2 param_1_00,undefined2 param_2_00,undefined *param_3,int param_4)

{
  uint *puVar1;
  undefined4 *puVar2;
  long lVar3;
  bool bVar4;
  int16 *piVar5;
  int16 *piVar6;
  uint uVar7;
  HINSTANCE16 HVar8;
  int *piVar9;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  int iVar10;
  undefined4 *puVar11;
  undefined2 uVar12;
  undefined2 unaff_SS;
  LRESULT LVar13;
  void *pvVar14;
  int iVar15;
  undefined uVar16;
  byte *pbVar17;
  undefined uVar18;
  VA_LIST16 valist;
  byte *hwnd;
  byte bVar19;
  undefined uVar20;
  undefined uVar21;
  undefined *puVar22;
  uint uVar23;
  undefined2 in_stack_0000ff72;
  undefined2 in_stack_0000ff74;
  WPARAM16 in_stack_0000ff76;
  undefined2 in_stack_0000ff78;
  undefined2 in_stack_0000ff7a;
  undefined2 in_stack_0000ff7c;
  undefined *local_82;
  byte local_e [4];
  int local_a;
  undefined2 local_8;
  ulong local_6;

  if ((param_3 == PTR_DAT_10a8_0000_10a8_59b2) && (param_4 == 0)) {
    uVar20 = 0xff;
    uVar21 = 0xff;
    local_82 = (undefined *)0x0;
LAB_1028_177f:
    FUN_1028_1c46(CONCAT11(uVar21,uVar20),local_82);
    return;
  }
  if ((param_3 == PTR_DAT_10a8_0000_10a8_59b4) && (param_4 == 0)) {
    uVar20 = 1;
    uVar21 = 0;
    local_82 = (undefined *)0x0;
    goto LAB_1028_177f;
  }
  if ((param_3 == PTR_DAT_10a8_0000_10a8_59b0) && (param_4 == 0)) {
    FUN_1020_24c8(0,PTR_DAT_10a8_0000_10a8_7b68);
    FUN_1028_1dd6((int)PTR_DAT_10a8_0000_10a8_7b62);
    return;
  }
  if ((param_3 == PTR_DAT_10a8_0000_10a8_59b6) && (param_4 == 0)) {
    if (PTR_DAT_10a8_0000_10a8_7b68 != (undefined *)0xffff) {
      bVar19 = 1;
      puVar22 = (undefined *)0x0;
      local_82 = PTR_DAT_10a8_0000_10a8_7b68;
      goto LAB_1028_15ec;
    }
    puVar22 = (undefined *)0x0;
LAB_1028_1600:
    local_82 = (undefined *)0xffff;
    bVar19 = 4;
LAB_1028_15ec:
    FUN_1028_2728(PTR_DAT_10a8_0000_10a8_7b62,2,local_82,(uint)bVar19,puVar22);
    return;
  }
  if (param_3 == PTR_DAT_10a8_0000_10a8_8398) {
    if (param_4 != 1) {
      return;
    }
    uVar23 = 0x8004;
LAB_1028_1b86:
    FUN_1020_0736((int16 *)0x0,uVar23);
    return;
  }
  if (param_3 == PTR_DAT_10a8_0000_10a8_83a0) {
    if (param_4 != 1) {
      return;
    }
    LVar13 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                             CONCAT212(in_stack_0000ff72,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (PTR_DAT_10a8_0000_10a8_83a0,0x40900000000))))),
                         in_stack_0000ff76,CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
    FUN_1030_3a54((undefined *)LVar13);
    return;
  }
  if (param_3 == PTR_DAT_10a8_0000_10a8_82c0) {
    if (param_4 != 1) {
      return;
    }
    local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                              CONCAT212(in_stack_0000ff72,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_82c0,0x40900000000
                                                          ))))),in_stack_0000ff76,
                          CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
    if ((long)local_6 < 0) {
      return;
    }
    iVar10 = 0;
    piVar9 = (int *)&PTR_DAT_10a8_0000_10a8_7b6e;
    do {
      if ((0 < *piVar9) && (lVar3 = local_6 + -1, bVar4 = (long)local_6 < 1, local_6 = lVar3, bVar4)
         ) break;
      iVar10 = iVar10 + 1;
      piVar9 = piVar9 + 1;
    } while (piVar9 < (int *)&PTR_DAT_10a8_0000_10a8_7b8e);
    PTR_DAT_10a8_0000_10a8_1144 = (undefined *)0xb;
    PTR_DAT_10a8_0000_10a8_1146 = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_71e6 + iVar10 * 0x87);
    _DAT_10a8_1148 = (int)s_From___s_c_c_10a8_10a2 + 6;
    PTR_DAT_10a8_0000_10a8_114c = (undefined *)0x0;
    PTR_DAT_10a8_0000_10a8_114a = (undefined *)&DAT_10a8_0001;
    FUN_1058_0832(PTR_DAT_10a8_0000_10a8_82c0,10,10);
    return;
  }
  if ((param_3 == PTR_DAT_10a8_0000_10a8_59aa) && (param_4 == 0)) {
    local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                              CONCAT212(in_stack_0000ff72,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8398,0x40700000000
                                                          ))))),in_stack_0000ff76,
                          CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
    if (((int)local_6 == -1) && ((int)(local_6 >> 0x10) == -1)) {
      return;
    }
    iVar10 = FUN_1010_0f50((int)PTR_DAT_10a8_0000_10a8_7bd6,(int)local_6,(undefined4 *)&local_82,
                           (int)PTR_DAT_10a8_0000_10a8_7b62);
    if (iVar10 == 0) {
      return;
    }
    bVar19 = 2;
    puVar22 = (undefined *)0x0;
    goto LAB_1028_15ec;
  }
  if ((param_3 == PTR_DAT_10a8_0000_10a8_59ac) && (param_4 == 0)) {
    local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                              CONCAT212(in_stack_0000ff72,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8398,0x40700000000
                                                          ))))),in_stack_0000ff76,
                          CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
    if (((int)local_6 == -1) && ((int)(local_6 >> 0x10) == -1)) {
      return;
    }
    iVar10 = FUN_1010_0f50((int)PTR_DAT_10a8_0000_10a8_7bd6,(int)local_6,(undefined4 *)&local_82,
                           (int)PTR_DAT_10a8_0000_10a8_7b62);
    if (iVar10 == 0) {
      return;
    }
    uVar20 = 0;
    uVar21 = 0;
    goto LAB_1028_177f;
  }
  if ((param_3 == PTR_DAT_10a8_0000_10a8_59ae) && (param_4 == 0)) {
    local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                              CONCAT212(in_stack_0000ff72,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8398,0x40700000000
                                                          ))))),in_stack_0000ff76,
                          CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
    if (((int)local_6 == -1) && ((int)(local_6 >> 0x10) == -1)) {
      return;
    }
    iVar10 = FUN_1010_0f50((int)PTR_DAT_10a8_0000_10a8_7bd6,(int)local_6,(undefined4 *)&local_82,
                           (int)PTR_DAT_10a8_0000_10a8_7b62);
    if (iVar10 == 0) {
      return;
    }
    FUN_1028_2728(PTR_DAT_10a8_0000_10a8_7b62,2,local_82,2,(undefined *)&DAT_10a8_0001);
  }
  else {
    if ((param_3 == PTR_DAT_10a8_0000_10a8_59b8) && (param_4 == 0)) {
      puVar22 = (undefined *)&DAT_10a8_0001;
      goto LAB_1028_1600;
    }
    if ((param_3 == PTR_DAT_10a8_0000_10a8_59ba) && (param_4 == 0)) {
      FUN_1010_16ce((undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
      FUN_1020_23f2((uint)PTR_DAT_10a8_0000_10a8_7b62);
      FUN_1010_0cda((uint)PTR_DAT_10a8_0000_10a8_7b62,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
      FUN_1028_47a0();
      FUN_1020_0736((int16 *)0x0,0x83b5);
      goto LAB_1028_17f7;
    }
    if ((param_3 != PTR_DAT_10a8_0000_10a8_59bc) || (param_4 != 0)) {
      if ((param_3 == PTR_DAT_10a8_0000_10a8_5796) && (param_4 == 0)) {
        LVar13 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                                 CONCAT212(in_stack_0000ff72,
                                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_5796,0x40000000000
                                                          ))))),in_stack_0000ff76,
                             CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
        _DAT_10a8_7b66 =
             _DAT_10a8_7b66 ^
             ((byte)((byte)((ulong)(uint)((int)LVar13 << 9) >> 8) ^ DAT_10a8_7b67) & 2) << 8;
LAB_1028_1c35:
        FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
        return;
      }
      if (param_3 == PTR_DAT_10a8_0000_10a8_8846) {
        if (param_4 != 1) {
          return;
        }
        local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                                  CONCAT212(in_stack_0000ff72,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8846,0x40700000000
                                                          ))))),in_stack_0000ff76,
                              CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
        if (((byte)PTR_DAT_10a8_0000_10a8_7bc6[(int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 10] & 0xf)
            == (uint)local_6) {
          return;
        }
        puVar1 = (uint *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 10
                         );
        *puVar1 = *puVar1 ^ (byte)(PTR_DAT_10a8_0000_10a8_7bc6
                                   [(int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 10] ^ (byte)local_6) &
                            0xf;
        uVar12 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_7bc6 >> 0x10);
        puVar11 = (undefined4 *)
                  ((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0xc
                  );
        for (iVar10 = 2; iVar10 != 0; iVar10 = iVar10 + -1) {
          puVar2 = puVar11;
          puVar11 = puVar11 + 1;
          *puVar2 = 0;
        }
        *(undefined2 *)puVar11 = 0;
        if ((uint)local_6 == 2) {
          *(undefined2 *)
           (PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0xc) = 1;
          *(int *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0xe
                  ) = 2 - (uint)(((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0);
        }
        FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
        FUN_1028_4902(1);
        uVar23 = 0x8100;
        goto LAB_1028_1b86;
      }
      if (param_3 == PTR_DAT_10a8_0000_10a8_8848) {
        if (param_4 != 1) {
          return;
        }
        local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                                  CONCAT212(in_stack_0000ff72,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8848,0x40700000000
                                                          ))))),in_stack_0000ff76,
                              CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
        if ((PTR_DAT_10a8_0000_10a8_7bc6[(int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 10] & 0xf) == 2)
        {
          if (((uint)(local_6 >> 0x10) | (uint)local_6) == 0) {
            pvVar14 = MAKEPROCINSTANCE((void *)CONCAT13(4,CONCAT12(0x90,PTR_DAT_10a8_0000_10a8_839a)
                                                       ),(int)s_COMBOBOX_10a8_1085 + 3);
            HVar8 = (HINSTANCE16)((ulong)pvVar14 >> 0x10);
            piVar6 = (int16 *)pvVar14;
            local_6 = (ulong)pvVar14 & 0xffff0000 | local_6 & 0xffff;
            piVar5 = DIALOGBOX(piVar6,HVar8,(LPCSTR)CONCAT22(0x7dd,PTR_DAT_10a8_0000_10a8_58b4),0,
                               PTR_DAT_10a8_0000_10a8_839a);
            FREEPROCINSTANCE((void *)CONCAT22(HVar8,piVar6));
            *(int16 **)
             ((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0xc) =
                 piVar5;
          }
          else {
            *(uint *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0xc) =
                 (uint)local_6 - 1;
          }
LAB_1028_1a56:
          FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
          FUN_1028_4902(1);
          return;
        }
        iVar10 = 2;
      }
      else {
        if (param_3 != PTR_DAT_10a8_0000_10a8_884a) {
          if (param_3 != PTR_DAT_10a8_0000_10a8_0aa4) {
            return;
          }
          if (param_4 != 0x300) {
            return;
          }
          hwnd = local_e;
          uVar20 = (undefined)unaff_SS;
          uVar21 = (undefined)((uint)unaff_SS >> 8);
          valist = (VA_LIST16)0x8;
          puVar22 = PTR_DAT_10a8_0000_10a8_0aa4;
          GETWINDOWTEXT((int16 *)0x8,(HWND16)hwnd,CONCAT22(PTR_DAT_10a8_0000_10a8_0aa4,unaff_SS),
                        (int16)CONCAT214(in_stack_0000ff7c,
                                         CONCAT212(in_stack_0000ff7a,
                                                   CONCAT210(in_stack_0000ff78,
                                                             CONCAT28(in_stack_0000ff76,
                                                                      CONCAT26(in_stack_0000ff74,
                                                                               CONCAT24(
                                                  in_stack_0000ff72,CONCAT22(unaff_DI,unaff_SI))))))
                                        ));
          pbVar17 = local_e;
          iVar15 = (int)s__with_some_work_done_10a8_1343 + 5;
          iVar10 = (int)s__RNA_Scanner_10a8_1bad + 0xc;
          uVar7 = thunk_FUN_10a0_0fdc(pbVar17);
          uVar23 = uVar7;
          if ((int)uVar7 < 0) {
            uVar23 = 0;
          }
          if (4000 < (int)uVar23) {
            uVar23 = 4000;
          }
          if (uVar23 != uVar7) {
            FUN_1018_50b2(0x1c,0x10);
            _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xef410a8,
                      (LPCSTR)CONCAT13((char)(uVar23 >> 8),CONCAT12((char)uVar23,0x10a8)),valist);
            uVar16 = SUB21(PTR_DAT_10a8_0000_10a8_0aa4,0);
            uVar18 = (undefined)((uint)PTR_DAT_10a8_0000_10a8_0aa4 >> 8);
            iVar15 = (int)s_From___s_c_c_10a8_10a2 + 6;
            iVar10 = (int)&DAT_10a8_86de;
            SETWINDOWTEXT((HWND16)&DAT_10a8_86de,CONCAT13(uVar18,CONCAT12(uVar16,0x10a8)));
            pbVar17 = (byte *)CONCAT11(uVar18,uVar16);
          }
          local_6 = SENDMESSAGE(0,(uint16)CONCAT214(valist,CONCAT113((char)((uint)pbVar17 >> 8),
                                                                     CONCAT112((char)pbVar17,
                                                                               CONCAT210(iVar15,
                                                  CONCAT28(iVar10,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8848,0x40700000000)))))),
                                (WPARAM16)hwnd,CONCAT22(puVar22,CONCAT11(uVar21,uVar20)));
          iVar10 = ((int)PTR_DAT_10a8_0000_10a8_7b52 * 9 + (int)local_6) * 2;
          uVar12 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_7bc6 >> 0x10);
          puVar1 = (uint *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + iVar10 + 0xc);
          *puVar1 = *puVar1 ^ (uVar23 ^ *(uint *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + iVar10 + 0xc))
                              & 0xfff;
          goto LAB_1028_1c35;
        }
        if (param_4 != 1) {
          return;
        }
        local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                                  CONCAT212(in_stack_0000ff72,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_884a,0x40700000000
                                                          ))))),in_stack_0000ff76,
                              CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
        uVar23 = (uint)local_6;
        if ((*(byte *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 +
                      10) & 0xf) == 2) {
          if ((((uint)(local_6 >> 0x10) | uVar23) == 0) &&
             (((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0)) {
            pvVar14 = MAKEPROCINSTANCE((void *)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                                       (int)s_COMBOBOX_10a8_1085 + 3);
            HVar8 = (HINSTANCE16)((ulong)pvVar14 >> 0x10);
            piVar5 = (int16 *)pvVar14;
            local_6 = (ulong)pvVar14 & 0xffff0000 | local_6 & 0xffff;
            piVar6 = DIALOGBOX(piVar5,HVar8,(LPCSTR)CONCAT22(0x7d8,PTR_DAT_10a8_0000_10a8_58b4),0,
                               PTR_DAT_10a8_0000_10a8_839a);
            FREEPROCINSTANCE((void *)CONCAT22(HVar8,piVar5));
          }
          else {
            if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0) {
              piVar6 = (int16 *)(uVar23 - 1);
            }
            else {
              piVar6 = (int16 *)(uVar23 + 2);
            }
            if ((int)(PTR_DAT_10a8_0001_10a8_00c0 + 3) <= (int)piVar6) {
              piVar6 = (int16 *)((int)piVar6 + 1);
            }
          }
          *(int16 **)
           ((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0xe) =
               piVar6;
          goto LAB_1028_1a56;
        }
        LVar13 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff74,
                                                 CONCAT212(in_stack_0000ff72,
                                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_8848,0x40700000000
                                                          ))))),in_stack_0000ff76,
                             CONCAT22(in_stack_0000ff7a,in_stack_0000ff78));
        local_8 = (undefined2)((ulong)LVar13 >> 0x10);
        local_a = (int)LVar13;
        iVar10 = ((int)PTR_DAT_10a8_0000_10a8_7b52 * 9 + local_a) * 2;
        uVar12 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_7bc6 >> 0x10);
        uVar23 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + iVar10 + 0xc);
        *(uint *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + iVar10 + 0xc) =
             (uint)local_6 << 0xc ^ (uVar23 & 0xff | ((byte)((ulong)uVar23 >> 8) & 0xf) << 8);
        FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
        iVar10 = 3;
      }
      FUN_1028_4902(iVar10);
      uVar23 = 0x100;
      goto LAB_1028_1b86;
    }
    FUN_1010_155a((uint *)&PTR_DAT_10a8_0000_10a8_7b62);
    FUN_1020_23f2((uint)PTR_DAT_10a8_0000_10a8_7b62);
    FUN_1010_0cda((uint)PTR_DAT_10a8_0000_10a8_7b62,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
    FUN_1028_47a0();
    FUN_1020_0736((int16 *)0x0,0x83b5);
    INVALIDATERECT(1,(RECT16 *)0x0,0);
  }
  if (PTR_DAT_10a8_0000_10a8_07aa != (undefined *)((int)&PTR_LOOP_10a8_0004 + 1)) {
    return;
  }
LAB_1028_17f7:
  INVALIDATERECT(1,(RECT16 *)0x0,0);
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1028_1c46(int param_1,undefined *param_2)

{
  int *piVar1;
  int iVar2;
  undefined *puVar3;
  int *piVar4;
  undefined4 uVar5;
  int **ppiVar6;
  undefined2 unaff_SI;
  int iVar7;
  int iVar8;
  undefined2 unaff_DI;
  undefined2 uVar9;
  int unaff_SS;
  undefined4 uVar10;
  long local_1a;
  undefined2 local_16;
  long local_c;
  int local_8;
  undefined4 local_6;

  iVar8 = (int)s_From___s_c_c_10a8_10a2 + 6;
  uVar10 = CONCAT22(unaff_DI,unaff_SI);
  local_8 = -1;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    if (param_1 != 0) {
      param_2 = PTR_DAT_10a8_0000_10a8_7b62;
    }
    iVar7 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
      ppiVar6 = (int **)_PTR_DAT_10a8_0000_10a8_006e;
      do {
        piVar4 = *ppiVar6;
        local_6._0_2_ = (uint)piVar4;
        if ((((uint)((ulong)piVar4 >> 0x10) | (uint)local_6) == 0) ||
           ((undefined *)*piVar4 == param_2)) break;
        ppiVar6 = ppiVar6 + 1;
        iVar7 = iVar7 + 1;
        piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_83c6;
      } while (*piVar1 != iVar7 && iVar7 <= *piVar1);
      local_6 = (ulong)piVar4 & 0xffff0000 | local_6 & 0xffff;
      iVar8 = unaff_SS;
    }
    if ((*(int *)&PTR_DAT_10a8_0000_10a8_83c6 == iVar7) ||
       (iVar2 = *(int *)&PTR_DAT_10a8_0001_10a8_00c0, *(int *)((uint)local_6 + 2) != iVar2)) {
      if (*(int *)&PTR_DAT_10a8_0000_10a8_83c6 == iVar7) {
        return;
      }
      local_1a = *(long *)((uint)local_6 + 8);
      local_16 = 0x83;
      local_c = local_1a;
      FUN_1030_3a94(&local_1a,0);
    }
    else {
      if (param_1 == 0) {
        if ((*(int *)&PTR_DAT_10a8_0000_10a8_7b4c == 2) &&
           (*(long *)((uint)local_6 + 8) == *(long *)&PTR_DAT_10a8_0000_10a8_7b6a)) {
          local_8 = *(int *)&PTR_DAT_10a8_0000_10a8_7b62;
        }
      }
      else {
        do {
          iVar7 = iVar7 + param_1;
          if (iVar7 < 0) {
            iVar7 = *(int *)&PTR_DAT_10a8_0000_10a8_83c6 + -1;
          }
          else {
            piVar4 = (int *)&PTR_DAT_10a8_0000_10a8_83c6;
            if (*piVar4 == iVar7 || *piVar4 < iVar7) {
              iVar7 = 0;
            }
          }
          uVar5 = *(undefined4 *)(iVar7 * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_006e);
        } while (*(int *)((int)uVar5 + 2) != iVar2);
      }
      uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      uVar9 = (undefined2)((ulong)uVar5 >> 0x10);
      iVar8 = (int)uVar5;
      local_6 = *(ulong *)(iVar7 * 4 + iVar8);
      uVar9 = *(undefined2 *)(iVar7 * 4 + iVar8 + 2);
      puVar3 = (undefined *)*(undefined2 *)local_6;
      local_1a = *(long *)((undefined2 *)local_6 + 4);
      local_16 = 0x82;
      local_c = local_1a;
      FUN_1030_3a94(&local_1a,0);
      FUN_1030_2da8((int16 *)0x0,(undefined *)0x0,uVar10);
      FUN_1020_2164((undefined *)&DAT_10a8_0002,puVar3);
      FUN_1030_2da8((int16 *)0x0,(undefined *)&DAT_10a8_0001,uVar10);
    }
    FUN_1030_2fe2((int)local_c,(int)((ulong)local_c >> 0x10),1);
    FUN_1030_2348((int16 *)0x0,(RECT16 *)0x0,(undefined2 *)0x0,(VA_LIST16)0x0);
    INVALIDATERECT(1,(RECT16 *)0x0,0);
    FUN_1008_97da();
    if (local_8 != -1) {
      FUN_1028_1dd6(local_8);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1028_1dd6(int param_1)

{
  int *piVar1;
  undefined *wparam;
  int iVar2;
  int **ppiVar3;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  undefined4 in_stack_0000ffee;
  ulong in_stack_0000fff4;
  ulong lparam;

  lparam = in_stack_0000fff4 & 0xffff0000;
  wparam = PTR_DAT_10a8_0000_10a8_7b62;
  if (PTR_DAT_10a8_0000_10a8_7b4c != (undefined *)&DAT_10a8_0002) {
    wparam = (undefined *)0xffff;
  }
  iVar2 = 0;
  ppiVar3 = (int **)PTR_DAT_10a8_0000_10a8_006e;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    do {
      piVar1 = *ppiVar3;
      if (*piVar1 == param_1) break;
      if ((*(long *)((int)piVar1 + 8) == _PTR_DAT_10a8_0000_10a8_7b48) &&
         ((undefined *)*piVar1 != wparam)) {
        lparam = lparam & 0xffff0000 | (ulong)((int)lparam + 1);
      }
      iVar2 = iVar2 + 1;
      ppiVar3 = ppiVar3 + 1;
    } while (iVar2 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000ffee,
                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8398,
                                                  CONCAT24(0x40e,lparam << 0x10))))),
              (WPARAM16)wparam,lparam);
  FUN_1020_0736((int16 *)0x0,(int)s_Small_Colonizer_10a8_3ffe + 6);
  return;
}



int __cdecl16far FUN_1028_1e5c(undefined4 param_1,int param_2)

{
  int iVar1;
  ulong uVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  undefined2 uVar7;

  iVar1 = 0;
  uVar7 = (undefined2)((ulong)param_1 >> 0x10);
  iVar5 = (int)param_1;
  if (*(char *)(iVar5 + 4) != '\a') {
    return 32000;
  }
  iVar6 = 0;
  piVar3 = (int *)(iVar5 + 0xc);
  do {
    if (*piVar3 != 0) {
      uVar2 = *(ulong *)(*(int *)(iVar5 + 2) * 4 + 0x72);
      iVar4 = FUN_1028_1ed2((int *)(uVar2 & 0xffff0000 | (ulong)(uint)((int)uVar2 + iVar6)),param_2)
      ;
      iVar1 = iVar1 + iVar4 * *piVar3;
    }
    piVar3 = piVar3 + 1;
    iVar6 = iVar6 + 0x87;
  } while (iVar6 < 0x870);
  return iVar1;
}



int __cdecl16far FUN_1028_1ed2(int *param_1,int param_2)

{
  uint uVar1;
  uint *puVar2;
  int iVar3;
  int iVar4;
  undefined2 uVar5;
  uint local_8;

  uVar5 = (undefined2)((ulong)param_1 >> 0x10);
  iVar3 = (int)param_1;
  if (param_2 == 1) {
    iVar4 = *(int *)(*param_1 * 0x93 + 0x2ee4);
    if (*(char *)(iVar3 + 0x7a) != '\0') {
      puVar2 = (uint *)(iVar3 + 0x3c);
      local_8 = (uint)*(byte *)(iVar3 + 0x7a);
      do {
        if ((puVar2[-1] == 0x1000) && (uVar1 = *puVar2, (char)uVar1 == '\x06')) {
          iVar4 = iVar4 + (uVar1 >> 8) * 0x32;
        }
        puVar2 = puVar2 + 2;
        local_8 = local_8 - 1;
      } while (local_8 != 0);
    }
  }
  else {
    if (param_2 != 2) {
      return 0;
    }
    iVar4 = *(int *)(*param_1 * 0x93 + 0x2ee2);
    if (*(char *)(iVar3 + 0x7a) != '\0') {
      puVar2 = (uint *)(iVar3 + 0x3c);
      local_8 = (uint)*(byte *)(iVar3 + 0x7a);
      do {
        if ((puVar2[-1] == 0x1000) && (uVar1 = *puVar2, (char)uVar1 == '\x05')) {
          iVar4 = iVar4 + (uVar1 >> 8) * 0x32;
        }
        puVar2 = puVar2 + 2;
        local_8 = local_8 - 1;
      } while (local_8 != 0);
    }
  }
  return iVar4;
}



// WARNING: Could not reconcile some variable overlaps

int __cdecl16far FUN_1028_1f8c(int param_1,undefined2 param_2)

{
  byte bVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 local_1e;
  int local_1a;
  undefined2 local_16;
  uint local_14;
  int local_12;
  int local_10;
  int *local_e;
  int local_a;
  uint local_8;
  undefined4 *local_6;
  undefined2 local_4;

  local_12 = 0;
  local_10 = 0;
  local_e = (int *)CONCAT22(param_2,param_1 + 0xc);
  do {
    if (0 < *local_e) {
      uVar2 = *(undefined4 *)(*(int *)(param_1 + 2) * 4 + 0x72);
      local_4 = (undefined2)((ulong)uVar2 >> 0x10);
      iVar3 = (int)uVar2 + local_10;
      bVar1 = *(byte *)(iVar3 + 0x7a);
      local_a = 0;
      local_16 = 0;
      puVar4 = (undefined4 *)(iVar3 + 0x3a);
      local_14 = (uint)bVar1;
      iVar3 = local_a;
      if (bVar1 != 0) {
        iVar3 = 0;
        local_8 = local_14;
        local_6 = puVar4;
        do {
          if ((*(int *)puVar4 == 0x100) && (*(byte *)(int *)((int)puVar4 + 2) < 6)) {
            local_1e = *puVar4;
            FUN_1060_32b2((uint *)&local_1e);
            iVar3 = iVar3 + (uint)*(byte *)((int)puVar4 + 3) * *(int *)(local_1a + 0x34);
          }
          puVar4 = puVar4 + 1;
          local_8 = local_8 - 1;
        } while (local_8 != 0);
      }
      local_a = iVar3;
      local_12 = local_12 + *local_e * local_a;
    }
    local_e = (int *)((ulong)local_e & 0xffff0000 | (ulong)((int)local_e + 2));
    local_10 = local_10 + 0x87;
  } while (local_10 < 0x870);
  return local_12;
}



// WARNING: Could not reconcile some variable overlaps

int __cdecl16far FUN_1028_2058(int param_1,undefined2 param_2)

{
  byte bVar1;
  undefined4 uVar2;
  int iVar3;
  long *plVar4;
  uint uVar5;
  long lStackY_30;
  undefined4 local_1e;
  int local_1a;
  undefined2 local_18;
  uint local_16;
  int local_14;
  uint local_12;
  int *local_10;
  int local_c;
  long *local_a;
  undefined2 local_8;
  long local_6;

  local_c = 100;
  local_14 = 0;
  local_10 = (int *)CONCAT22(param_2,param_1 + 0xc);
  do {
    if (0 < *local_10) {
      uVar2 = *(undefined4 *)(*(int *)(param_1 + 2) * 4 + 0x72);
      local_8 = (undefined2)((ulong)uVar2 >> 0x10);
      iVar3 = (int)uVar2 + local_14;
      bVar1 = *(byte *)(iVar3 + 0x7a);
      local_6 = 10000;
      local_18 = 0;
      plVar4 = (long *)(iVar3 + 0x3a);
      uVar5 = (uint)bVar1;
      local_16 = uVar5;
      local_12 = uVar5;
      local_a = plVar4;
      if (bVar1 != 0) {
        do {
          if (((*(int *)plVar4 == 0x1000) && (*(char *)(int *)((int)plVar4 + 2) != '\0')) &&
             (*(byte *)(int *)((int)plVar4 + 2) < 5)) {
            local_1e = *plVar4;
            FUN_1060_32b2((uint *)&local_1e);
            while( true ) {
              local_1e = (ulong)(local_1e._2_2_ & 0xff |
                                (uint)(byte)((ulong)(local_1e._2_2_ - 0x100) >> 8) << 8) << 0x10;
              local_12 = uVar5;
              local_a = plVar4;
              if (local_1e._3_1_ == '\0') break;
              lStackY_30 = (long)(100 - *(int *)(local_1a + 0x34));
              local_6 = (lStackY_30 * local_6) / 100;
            }
          }
          else if ((*(int *)plVar4 == 2) && (*(char *)(int *)((int)plVar4 + 2) == '\x05')) {
            local_1e = *plVar4;
            while( true ) {
              local_1e = (ulong)(local_1e._2_2_ & 0xff |
                                (uint)(byte)((ulong)(local_1e._2_2_ - 0x100) >> 8) << 8) << 0x10;
              local_12 = uVar5;
              local_a = plVar4;
              if (local_1e._3_1_ == '\0') break;
              local_6 = (local_6 * 0x50) / 100;
            }
          }
          plVar4 = plVar4 + 1;
          uVar5 = uVar5 - 1;
        } while (uVar5 != 0);
      }
      if (local_6 / 100 < (long)local_c) {
        local_6._0_2_ = (int)(local_6 / 100);
        local_c = (int)local_6;
      }
    }
    local_10 = (int *)((ulong)local_10 & 0xffff0000 | (ulong)((int)local_10 + 2));
    local_14 = local_14 + 0x87;
  } while (local_14 < 0x870);
  return 100 - local_c;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1028_21d4(ulong param_1,uint param_2,uint param_3,int param_4)

{
  undefined4 uVar1;
  undefined2 uVar2;
  undefined4 *puVar3;
  uint in_DX;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  undefined4 *puVar4;
  undefined2 unaff_SS;
  ulong *puVar5;
  VA_LIST16 valist;
  uint in_stack_0000ffd4;
  undefined2 in_stack_0000ffd6;
  undefined6 in_stack_0000ffd8;
  undefined2 in_stack_0000ffde;
  undefined4 in_stack_0000ffe0;
  undefined *local_1a [6];
  int local_e;
  uint local_c;
  int16 *local_a;
  int16 *local_8;
  undefined4 local_6;

  if ((param_3 | param_2) == 0) {
    param_2 = (uint)&PTR_DAT_10a8_0000_10a8_7b62;
    param_3 = (int)s_From___s_c_c_10a8_10a2 + 6;
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT412(in_stack_0000ffe0,
                                CONCAT210(in_stack_0000ffde,
                                          CONCAT64(in_stack_0000ffd8,
                                                   CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4)))))
  ;
  local_8 = (int16 *)0x1;
  local_e = FUN_1028_1e5c(CONCAT22(param_3,param_2),2);
  local_c = in_DX;
  if ((param_4 < 0) || (4 < param_4)) {
    if (param_4 == 5) {
      puVar4 = (undefined4 *)&stack0xffd4;
      local_6 = CONCAT22(2,puVar4);
      local_6._2_2_ = 2;
      puVar3 = (undefined4 *)(param_2 + 0x50);
      do {
        *(undefined2 *)((int)local_1a + local_6._2_2_) =
             *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_58a4 + local_6._2_2_);
        *puVar4 = *puVar3;
        puVar4 = puVar4 + 1;
        local_6._2_2_ = local_6._2_2_ + 2;
        puVar3 = puVar3 + 1;
      } while (local_6._2_2_ < 10);
      local_8 = (int16 *)0x4;
      in_DX = param_3;
    }
    else if (param_4 == 6) {
      local_e = 9;
      local_c = 0;
      local_1a[1] = PTR_DAT_10a8_0000_10a8_58a4;
      in_stack_0000ffd4 =
           (uint)(*(byte *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 +
                            (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 10) >> 4);
      in_stack_0000ffd6 = 0;
    }
  }
  else {
    local_1a[1] = (undefined *)*(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_58a4 + param_4 * 2);
    uVar1 = *(undefined4 *)(param_2 + 0x4c + param_4 * 4);
    in_stack_0000ffd4 = (uint)uVar1;
    in_stack_0000ffd6 = (undefined2)((ulong)uVar1 >> 0x10);
    if (param_4 == 0) {
      local_e = FUN_1028_1e5c(CONCAT22(param_3,param_2),1);
      local_c = in_DX;
    }
  }
  puVar5 = (ulong *)(param_1 >> 0x10);
  uVar2 = FUN_1018_5ad6((HRGN16)param_1,puVar5,(int)local_8,(long *)&stack0xffd4,
                        (HDC16 *)(local_1a + 1),CONCAT22(local_c,local_e));
  local_6 = CONCAT22(in_DX,uVar2);
  local_a = SETBKMODE((int16 *)&DAT_10a8_0001,(HRGN16)param_1,
                      (int16)CONCAT214(in_stack_0000ffde,
                                       CONCAT68(in_stack_0000ffd8,
                                                CONCAT26(in_stack_0000ffd6,
                                                         CONCAT24(in_stack_0000ffd4,
                                                                  CONCAT22(unaff_DI,unaff_SI))))));
  valist = (VA_LIST16)(local_6 >> 0x10);
  if (param_4 == 6) {
    if (local_6 == 0) {
      _DAT_10a8_86de = s_Stopped__10a8_0f00._0_4_;
      _DAT_10a8_86e2 = s_Stopped__10a8_0f00._4_4_;
      cRam10a886e6 = s_Stopped__10a8_0f00[8];
      local_8 = (int16 *)0x8;
      goto LAB_1028_2365;
    }
    uVar2 = 0xef7;
  }
  else {
    if ((local_8 != (int16 *)0x1) || (param_4 == 0)) {
      local_8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xf0f10a8,
                          (LPCSTR)CONCAT22((int)local_6,0x10a8),valist);
      goto LAB_1028_2365;
    }
    uVar2 = 0xf09;
  }
  local_8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar2,0x10a8),
                      (LPCSTR)CONCAT22((int)local_6,0x10a8),valist);
LAB_1028_2365:
  local_6 = GETTEXTEXTENT((HDC16)local_8,&DAT_10a8_86de,
                          (int16)CONCAT610(in_stack_0000ffd8,
                                           CONCAT28(in_stack_0000ffd6,
                                                    CONCAT26(in_stack_0000ffd4,
                                                             CONCAT24(unaff_DI,param_1 & 0xffff |
                                                                               (ulong)unaff_SI <<
                                                                               0x10)))));
  if ((int)local_6 < (*(int *)(puVar5 + 1) - *(int *)puVar5) + -3) {
    FUN_1018_5580((HRGN16)param_1,(int *)puVar5,(LPCSTR)CONCAT22(local_8,0x86de),
                  (int16)CONCAT214(in_stack_0000ffde,
                                   CONCAT68(in_stack_0000ffd8,
                                            CONCAT26(in_stack_0000ffd6,
                                                     CONCAT24(in_stack_0000ffd4,
                                                              CONCAT22(unaff_DI,unaff_SI))))));
  }
  SETBKMODE(local_a,(HRGN16)param_1,
            (int16)CONCAT214(in_stack_0000ffde,
                             CONCAT68(in_stack_0000ffd8,
                                      CONCAT26(in_stack_0000ffd6,
                                               CONCAT24(in_stack_0000ffd4,
                                                        CONCAT22(unaff_DI,unaff_SI))))));
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1028_23ac(int param_1,undefined2 param_2,HRGN16 param_3,int param_4,int param_5,int param_6,
             int param_7,void *param_8,bitmapinfo *param_9,undefined2 param_10,undefined2 param_11,
             undefined2 param_12,undefined1 param_13 [10],dword param_14)

{
  int *piVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int *piVar8;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  void *pvVar9;
  undefined2 unaff_SS;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined in_stack_0000002a [12];
  dword in_stack_00000036;
  undefined2 in_stack_0000ffea;
  int in_stack_0000ffec;
  int in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  int iVar10;
  undefined2 in_stack_0000fff2;
  undefined2 uVar11;
  int in_stack_0000fff4;
  int in_stack_0000fff6;
  int iVar12;
  int iVar13;
  undefined2 in_stack_0000fff8;
  undefined2 uVar14;
  int *in_stack_0000fffa;
  int16 *in_stack_0000fffc;

  if (param_6 != 0) {
    in_stack_0000fffc =
         SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,param_3,unaff_SI,unaff_DI,
                      (int16)CONCAT214(in_stack_0000fff8,
                                       CONCAT212(in_stack_0000fff6,
                                                 CONCAT210(in_stack_0000fff4,
                                                           CONCAT28(in_stack_0000fff2,
                                                                    CONCAT26(in_stack_0000fff0,
                                                                             CONCAT24(
                                                  in_stack_0000ffee,
                                                  CONCAT22(in_stack_0000ffec,in_stack_0000ffea))))))
                                      ));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_3,CONCAT28(param_4,
                                                  CONCAT26(param_5,0x44000200f0))))),
           (int16)CONCAT214(in_stack_0000fff8,
                            CONCAT212(in_stack_0000fff6,
                                      CONCAT210(in_stack_0000fff4,
                                                CONCAT28(in_stack_0000fff2,
                                                         CONCAT26(in_stack_0000fff0,
                                                                  CONCAT24(in_stack_0000ffee,
                                                                           CONCAT22(
                                                  in_stack_0000ffec,in_stack_0000ffea))))))),
           (int16)CONCAT88(CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002))),
                           CONCAT26(in_stack_00000000,
                                    CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,in_stack_0000fffa))
                                   )),
           (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,CONCAT26(
                                                  param_7,CONCAT24(param_6,CONCAT22(param_5,param_4)
                                                                  )))))),
           CONCAT22(param_13._0_2_,param_12));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_3,CONCAT28(param_4,
                                                  CONCAT26(param_5,0x2004400f0))))),
           (int16)CONCAT214(in_stack_0000fff8,
                            CONCAT212(in_stack_0000fff6,
                                      CONCAT210(in_stack_0000fff4,
                                                CONCAT28(in_stack_0000fff2,
                                                         CONCAT26(in_stack_0000fff0,
                                                                  CONCAT24(in_stack_0000ffee,
                                                                           CONCAT22(
                                                  in_stack_0000ffec,in_stack_0000ffea))))))),
           (int16)CONCAT88(CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002))),
                           CONCAT26(in_stack_00000000,
                                    CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,in_stack_0000fffa))
                                   )),
           (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,CONCAT26(
                                                  param_7,CONCAT24(param_6,CONCAT22(param_5,param_4)
                                                                  )))))),
           CONCAT22(param_13._0_2_,param_12));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,param_3,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fff8,
                                  CONCAT212(in_stack_0000fff6,
                                            CONCAT210(in_stack_0000fff4,
                                                      CONCAT28(in_stack_0000fff2,
                                                               CONCAT26(in_stack_0000fff0,
                                                                        CONCAT24(in_stack_0000ffee,
                                                                                 CONCAT22(
                                                  in_stack_0000ffec,in_stack_0000ffea))))))));
    in_stack_0000ffee = param_5 + 0x42;
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_3,CONCAT28(param_4 + 2,
                                                                                        CONCAT26(
                                                  in_stack_0000ffee,0x42000100f0))))),
           (int16)CONCAT214(in_stack_0000fff8,
                            CONCAT212(in_stack_0000fff6,
                                      CONCAT210(in_stack_0000fff4,
                                                CONCAT28(in_stack_0000fff2,
                                                         CONCAT26(in_stack_0000fff0,
                                                                  CONCAT24(in_stack_0000ffee,
                                                                           CONCAT22(
                                                  in_stack_0000ffec,in_stack_0000ffea))))))),
           (int16)CONCAT88(CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002))),
                           CONCAT26(in_stack_00000000,
                                    CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,in_stack_0000fffa))
                                   )),
           (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,CONCAT26(
                                                  param_7,CONCAT24(param_6,CONCAT22(param_5,param_4)
                                                                  )))))),
           CONCAT22(param_13._0_2_,param_12));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_3,CONCAT28(param_4 + 3,
                                                                                        CONCAT26(
                                                  in_stack_0000ffee,0x41000100f0))))),
           (int16)CONCAT214(in_stack_0000fff8,
                            CONCAT212(in_stack_0000fff6,
                                      CONCAT210(in_stack_0000fff4,
                                                CONCAT28(in_stack_0000fff2,
                                                         CONCAT26(in_stack_0000fff0,
                                                                  CONCAT24(in_stack_0000ffee,
                                                                           CONCAT22(
                                                  in_stack_0000ffec,in_stack_0000ffea))))))),
           (int16)CONCAT88(CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002))),
                           CONCAT26(in_stack_00000000,
                                    CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,in_stack_0000fffa))
                                   )),
           (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,CONCAT26(
                                                  param_7,CONCAT24(param_6,CONCAT22(param_5,param_4)
                                                                  )))))),
           CONCAT22(param_13._0_2_,param_12));
    iVar3 = param_5 + 2;
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_3,CONCAT28(param_4 +
                                                  0x42,CONCAT26(iVar3,0x1004000f0))))),
           (int16)CONCAT214(in_stack_0000fff8,
                            CONCAT212(in_stack_0000fff6,
                                      CONCAT210(in_stack_0000fff4,
                                                CONCAT28(in_stack_0000fff2,
                                                         CONCAT26(in_stack_0000fff0,
                                                                  CONCAT24(in_stack_0000ffee,
                                                                           CONCAT22(iVar3,
                                                  in_stack_0000ffea))))))),
           (int16)CONCAT88(CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002))),
                           CONCAT26(in_stack_00000000,
                                    CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,in_stack_0000fffa))
                                   )),
           (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,CONCAT26(
                                                  param_7,CONCAT24(param_6,CONCAT22(param_5,param_4)
                                                                  )))))),
           CONCAT22(param_13._0_2_,param_12));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_3,CONCAT28(param_4 +
                                                  0x43,CONCAT26(param_5 + 1,0x1004100f0))))),
           (int16)CONCAT214(in_stack_0000fff8,
                            CONCAT212(in_stack_0000fff6,
                                      CONCAT210(in_stack_0000fff4,
                                                CONCAT28(in_stack_0000fff2,
                                                         CONCAT26(in_stack_0000fff0,
                                                                  CONCAT24(in_stack_0000ffee,
                                                                           CONCAT22(iVar3,
                                                  in_stack_0000ffea))))))),
           (int16)CONCAT88(CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002))),
                           CONCAT26(in_stack_00000000,
                                    CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,in_stack_0000fffa))
                                   )),
           (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,CONCAT26(
                                                  param_7,CONCAT24(param_6,CONCAT22(param_5,param_4)
                                                                  )))))),
           CONCAT22(param_13._0_2_,param_12));
    param_5 = iVar3;
    SELECTOBJECT(in_stack_0000fffc,param_3,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fff8,
                                  CONCAT212(in_stack_0000fff6,
                                            CONCAT210(in_stack_0000fff4,
                                                      CONCAT28(in_stack_0000fff2,
                                                               CONCAT26(in_stack_0000fff0,
                                                                        CONCAT24(in_stack_0000ffee,
                                                                                 CONCAT22(iVar3,
                                                  in_stack_0000ffea))))))));
    param_4 = param_4 + 2;
    in_stack_0000ffec = param_5;
  }
  iVar3 = param_7;
  pvVar9 = param_8;
  if (param_7 < 0) {
    iVar3 = 0;
    in_stack_0000fff4 = 0;
    in_stack_0000fff6 = 0;
    in_stack_0000fff8 = 0;
    in_stack_0000fffa = (int *)(param_1 + 0xc);
    pvVar9 = (void *)0x0;
    piVar8 = in_stack_0000fffa;
    do {
      if ((0 < *piVar8) &&
         (pvVar9 = (void *)((int)pvVar9 + 1), piVar1 = piVar8,
         *piVar1 != in_stack_0000fff6 && in_stack_0000fff6 <= *piVar1)) {
        in_stack_0000fff6 = *piVar8;
        in_stack_0000fff4 = iVar3;
      }
      piVar8 = piVar8 + 1;
      iVar3 = iVar3 + 1;
    } while (iVar3 < 0x10);
    uVar2 = *(undefined4 *)(*(int *)(param_1 + 2) * 4 + 0x72);
    iVar3 = *(int *)(in_stack_0000fff4 * 0x87 + (int)uVar2 + 0x32);
  }
  uVar7 = iVar3 % 0x6c;
  SELECTPALETTE(0,*(HPALETTE16 *)&PTR_DAT_10a8_0000_10a8_839e,param_3);
  REALIZEPALETTE((uint16 *)param_3,unaff_SI);
  if (param_9 == (bitmapinfo *)0x0) {
    FUN_1018_6c46(param_3,param_4,param_5,0x40,0x40,
                  *(HGLOBAL16 *)((int)&PTR_DAT_10a8_0000_10a8_7d46 + ((int)(uVar7 & 0xffef) >> 4)),
                  (uVar7 & 0x1c) << 4,-((uVar7 & 3) * 0x40 + -0xc0),0x40,0x40,0xcc0020,
                  CONCAT210(pvVar9,CONCAT28(in_stack_0000ffee,
                                            CONCAT26(in_stack_0000ffec,
                                                     CONCAT24(in_stack_0000ffea,
                                                              CONCAT22(unaff_DI,unaff_SI))))),
                  CONCAT22(in_stack_0000fff4,in_stack_0000fff2),
                  CONCAT210(in_stack_00000000,
                            CONCAT28(unaff_BP,CONCAT26(in_stack_0000fffc,
                                                       CONCAT24(in_stack_0000fffa,
                                                                CONCAT22(in_stack_0000fff8,
                                                                         in_stack_0000fff6))))),
                  (int16)CONCAT214(param_7,CONCAT212(param_6,CONCAT210(param_5,CONCAT28(param_4,
                                                  CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1
                                                  ,in_stack_00000002))))))),
                  (int16)CONCAT412(param_13._2_4_,
                                   CONCAT210(param_13._0_2_,
                                             CONCAT28(param_12,CONCAT26(param_11,CONCAT24(param_10,
                                                  ZEXT24(param_8)))))),param_13._6_2_,param_13._8_2_
                  ,(uint16)CONCAT124(in_stack_0000002a,param_14),in_stack_00000036);
    iVar3 = 0x40;
    iVar12 = 8;
    uVar11 = 2;
  }
  else {
    FUN_1018_6c46(param_3,param_4,param_5,0x20,0x20,
                  *(HGLOBAL16 *)((int)&PTR_DAT_10a8_0000_10a8_7d46 + ((int)(uVar7 & 0xffef) >> 4)),
                  (uVar7 & 0x1c) << 4,-((uVar7 & 3) * 0x40 + -0xc0),0x40,0x40,0xcc0020,
                  CONCAT210(pvVar9,CONCAT28(in_stack_0000ffee,
                                            CONCAT26(in_stack_0000ffec,
                                                     CONCAT24(in_stack_0000ffea,
                                                              CONCAT22(unaff_DI,unaff_SI))))),
                  CONCAT22(in_stack_0000fff4,in_stack_0000fff2),
                  CONCAT210(in_stack_00000000,
                            CONCAT28(unaff_BP,CONCAT26(in_stack_0000fffc,
                                                       CONCAT24(in_stack_0000fffa,
                                                                CONCAT22(in_stack_0000fff8,
                                                                         in_stack_0000fff6))))),
                  (int16)CONCAT214(param_7,CONCAT212(param_6,CONCAT210(param_5,CONCAT28(param_4,
                                                  CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1
                                                  ,in_stack_00000002))))))),
                  (int16)CONCAT412(param_13._2_4_,
                                   CONCAT210(param_13._0_2_,
                                             CONCAT28(param_12,CONCAT26(param_11,CONCAT24(param_10,
                                                  CONCAT22(param_9,param_8)))))),param_13._6_2_,
                  param_13._8_2_,(uint16)CONCAT124(in_stack_0000002a,param_14),in_stack_00000036);
    iVar3 = 0x20;
    iVar12 = 5;
    uVar11 = 1;
  }
  if (4 < (int)pvVar9) {
    pvVar9 = (void *)&PTR_LOOP_10a8_0004;
  }
  uVar14 = 0;
  iVar10 = (int)pvVar9 + -1;
  if (0 < iVar10) {
    iVar4 = (iVar12 + -1) / 2;
    uVar7 = 0;
    iVar13 = iVar12;
    do {
      if ((uVar7 & 1) == 0) {
        iVar5 = param_4 + 2;
      }
      else {
        iVar5 = (iVar3 - iVar12) + param_4 + -2;
      }
      if ((uVar7 & 2) == 0) {
        iVar6 = param_5 + 2;
      }
      else {
        iVar6 = (iVar3 - iVar12) + param_5 + -2;
      }
      PATBLT(0x62,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_3,CONCAT28(iVar5,
                                                  CONCAT26(iVar4 + iVar6,
                                                           CONCAT24(iVar12,CONCAT22(uVar11,0xff)))))
                                                  )),
             (int16)CONCAT214(uVar14,CONCAT212(iVar13,CONCAT210(iVar3,CONCAT28(uVar11,CONCAT26(
                                                  iVar10,CONCAT24(in_stack_0000ffee,
                                                                  CONCAT22(in_stack_0000ffec,iVar4))
                                                  ))))),
             (int16)CONCAT88(CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002)))
                             ,CONCAT26(in_stack_00000000,CONCAT24(unaff_BP,CONCAT22(iVar6,iVar5)))),
             (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,
                                                  CONCAT26(param_7,CONCAT24(param_6,CONCAT22(param_5
                                                  ,param_4))))))),CONCAT22(param_13._0_2_,param_12))
      ;
      PATBLT(0x62,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_3,CONCAT28(iVar4 +
                                                  iVar5,CONCAT26(iVar6,CONCAT24(uVar11,CONCAT22(
                                                  iVar12,0xff))))))),
             (int16)CONCAT214(uVar14,CONCAT212(iVar13,CONCAT210(iVar3,CONCAT28(uVar11,CONCAT26(
                                                  iVar10,CONCAT24(in_stack_0000ffee,
                                                                  CONCAT22(in_stack_0000ffec,iVar4))
                                                  ))))),
             (int16)CONCAT88(CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1,in_stack_00000002)))
                             ,CONCAT26(in_stack_00000000,CONCAT24(unaff_BP,CONCAT22(iVar6,iVar5)))),
             (int16)CONCAT214(param_11,CONCAT212(param_10,CONCAT210(param_9,CONCAT28(param_8,
                                                  CONCAT26(param_7,CONCAT24(param_6,CONCAT22(param_5
                                                  ,param_4))))))),CONCAT22(param_13._0_2_,param_12))
      ;
      uVar7 = uVar7 + 1;
    } while ((int)uVar7 < iVar10);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far
FUN_1028_266e(uint *param_1,int param_2,undefined2 param_3_00,int param_4,undefined2 param_5,
             uint param_6)

{
  uint *puVar1;
  uint uVar2;
  uint *puVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  undefined2 uVar7;
  uint *local_16;
  int local_e;
  uint *local_c;
  uint local_8;

  if ((param_2 == 1) || (param_2 == 2)) {
    uVar7 = (undefined2)((ulong)param_1 >> 0x10);
    iVar5 = (int)param_1;
    if (((*(byte *)(iVar5 + 1) & 0xe0) == 0x40) &&
       (((*(uint *)(iVar5 + 2) & 0xe000) == 0x8000 &&
        ((*param_1 & 0xff | ((byte)((ulong)*param_1 >> 8) & 0x1f) << 8) == param_6)))) {
      local_8 = (uint)*(byte *)(iVar5 + 4);
      if (param_2 == 2) {
        local_16 = param_1;
      }
      iVar6 = 0;
      local_c = (uint *)((ulong)local_16 & 0xffff0000 | (ulong)((int)local_16 + 5));
      puVar3 = (uint *)(param_4 + 0x22);
      local_e = 5;
      do {
        if ((local_8 & 1) != 0) {
          if (param_2 == 1) {
            uVar4 = (uint)*(char *)(iVar5 + 5 + iVar6);
          }
          else {
            uVar4 = *local_c;
          }
          puVar1 = puVar3;
          uVar2 = *puVar1;
          *puVar1 = *puVar1 - uVar4;
          puVar1 = puVar3 + 1;
          *puVar1 = (*puVar1 - ((int)uVar4 >> 0xf)) - (uint)(uVar2 < uVar4);
          local_c = (uint *)((ulong)local_c & 0xffff0000 | (ulong)((int)local_c + 2));
          iVar6 = iVar6 + 1;
        }
        puVar3 = puVar3 + 2;
        local_8 = (int)local_8 >> 1;
        local_e = local_e + -1;
      } while (local_e != 0);
    }
  }
  return 1;
}



int __cdecl16far
FUN_1028_2728(undefined2 param_1,int param_2,undefined2 param_3,int param_4,undefined *param_5)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  int16 *piVar5;
  int in_DX;
  int *piVar6;
  int *piVar7;
  undefined4 *puVar8;
  uint uVar9;
  undefined4 *puVar10;
  int *piVar11;
  undefined2 unaff_SS;
  void *func;
  undefined local_2be [420];
  undefined2 local_11a;
  int local_118;
  undefined4 local_116 [3];
  int local_10a [16];
  int local_ea [36];
  undefined2 local_a2;
  int local_a0;
  int local_9e;
  int local_92 [16];
  int local_72 [36];
  int local_2a;
  int local_28;
  undefined4 local_26 [7];
  int local_a;
  undefined4 *local_8;
  int local_6;
  undefined4 *local_4;

  local_11a = param_1;
  local_118 = param_2;
  local_a2 = param_3;
  local_a0 = param_4;
  PTR_DAT_10a8_0000_10a8_7c40 = (undefined *)&local_11a;
  PTR_DAT_10a8_0000_10a8_7d5c = param_5;
  local_4 = local_116;
  do {
    if (*(int *)((int)local_4 + -2) == 1) {
      iVar3 = FUN_1010_02b0(*(int *)(local_4 + -1),local_4);
      if (iVar3 == 0) {
        return iVar3;
      }
    }
    else if (*(int *)((int)local_4 + -2) == 2) {
      FUN_1010_0cda(*(uint *)(local_4 + -1),local_4);
    }
    else if (param_5 == (undefined *)&DAT_10a8_0001) {
      puVar4 = FUN_1010_146e((int)local_116);
      local_8 = puVar4;
      local_6 = in_DX;
      puVar10 = (undefined4 *)&local_9e;
      puVar8 = puVar4;
      for (iVar3 = 0x1d; iVar3 != 0; iVar3 = iVar3 + -1) {
        puVar2 = puVar10;
        puVar10 = puVar10 + 1;
        puVar1 = puVar8;
        puVar8 = puVar8 + 1;
        *puVar2 = *puVar1;
      }
      local_a2 = *(undefined2 *)puVar4;
      local_a0 = 2;
    }
    else {
      *(undefined2 *)local_4 = 0xffff;
      puVar10 = (undefined4 *)((int)local_4 + 0x22);
      for (iVar3 = 5; iVar3 != 0; iVar3 = iVar3 + -1) {
        puVar1 = puVar10;
        puVar10 = puVar10 + 1;
        *puVar1 = 0;
      }
      FUN_1020_5f02((undefined *)0x266e,0x1028,local_4,
                    CONCAT13((char)((uint)param_1 >> 8),CONCAT12((char)param_1,unaff_SS)));
    }
    local_4 = local_4 + 0x1e;
  } while (local_4 < local_26);
  if (param_5 == (undefined *)&DAT_10a8_0001) {
    iVar3 = 0;
    PTR_DAT_10a8_0000_10a8_8342 = (undefined *)0x0;
    piVar6 = local_10a;
    piVar7 = &local_2a;
    do {
      if ((*piVar6 != 0) || ((piVar11 = piVar7, local_a0 == 2 && (piVar6[0x3c] != 0)))) {
        piVar11 = piVar7 + 1;
        *piVar7 = iVar3;
        PTR_DAT_10a8_0000_10a8_8342 = PTR_DAT_10a8_0000_10a8_8342 + 1;
      }
      iVar3 = iVar3 + 1;
      piVar6 = piVar6 + 1;
      piVar7 = piVar11;
    } while (piVar6 < local_ea);
    PTR_DAT_10a8_0000_10a8_5914 = (undefined *)&local_2a;
  }
  PTR_DAT_10a8_0000_10a8_5896 = local_2be;
  PTR_DAT_10a8_0000_10a8_7d62 = (undefined *)&PTR_DAT_10a8_0000_10a8_001e;
  func = MAKEPROCINSTANCE((void *)CONCAT22(0x2a2c,PTR_DAT_10a8_0000_10a8_839a),0x1028);
  local_4 = (undefined4 *)((ulong)func >> 0x10);
  piVar5 = DIALOGBOX((int16 *)func,(HINSTANCE16)local_4,
                     (LPCSTR)(ulong)CONCAT12(0x5b,PTR_DAT_10a8_0000_10a8_58b4),0,
                     PTR_DAT_10a8_0000_10a8_839a);
  FREEPROCINSTANCE(func);
  if (piVar5 == (int16 *)0x0) {
    if (param_5 != (undefined *)&DAT_10a8_0001) {
      return 0;
    }
    if (param_4 != 4) {
      return 0;
    }
LAB_1028_2a0c:
    FUN_1010_110c(local_9e,0,(undefined *)0x0);
    FUN_1020_4774();
  }
  else {
    local_6 = -1;
    if (param_5 == (undefined *)&DAT_10a8_0001) {
      iVar3 = 0;
      piVar6 = local_92;
      do {
        if (0 < *piVar6) break;
        iVar3 = iVar3 + 1;
        piVar6 = piVar6 + 1;
      } while (piVar6 < local_72);
      if ((iVar3 == 0x10) && (param_4 == 4)) goto LAB_1028_2a0c;
      FUN_1028_555a((int)local_116,(int)&local_9e);
    }
    local_a = 0;
    piVar6 = &local_118;
    do {
      if ((*piVar6 == 1) || (*piVar6 == 4)) {
        FUN_1010_02b0(-1,(undefined4 *)(piVar6 + 1));
      }
      else if ((*piVar6 == 2) &&
              (FUN_1010_0cda(0xffff,(undefined4 *)(piVar6 + 1)),
              param_5 == (undefined *)&DAT_10a8_0001)) {
        iVar3 = 0;
        piVar7 = piVar6 + 7;
        local_4 = (undefined4 *)piVar6;
        do {
          if (*piVar7 != 0) break;
          piVar7 = piVar7 + 1;
          iVar3 = iVar3 + 1;
        } while (iVar3 < 0x10);
        if (iVar3 == 0x10) {
          local_6 = local_a;
        }
      }
      local_a = local_a + 1;
      piVar6 = piVar6 + 0x3c;
    } while (piVar6 < &local_28);
    if (local_6 != -1) {
      FUN_1010_110c(*(int *)(local_116 + local_6 * 0x1e),2,
                    *(undefined **)(local_116 + (uint)(local_6 == 0) * 0x1e));
    }
    if ((param_5 == (undefined *)&DAT_10a8_0001) &&
       (FUN_1020_23f2((uint)PTR_DAT_10a8_0000_10a8_7b62),
       PTR_DAT_10a8_0000_10a8_07aa == (undefined *)((int)&PTR_LOOP_10a8_0004 + 1))) {
      INVALIDATERECT(1,(RECT16 *)0x0,0);
    }
    if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001) {
      uVar9 = 0x800d;
      FUN_1010_02b0((int)PTR_DAT_10a8_0000_10a8_7bd6,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bd6);
      FUN_1020_3370((undefined *)0x0,0);
    }
    else {
      uVar9 = 0x83b5;
      FUN_1010_0cda((uint)PTR_DAT_10a8_0000_10a8_7b62,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
      FUN_1028_47a0();
    }
    FUN_1020_0736((int16 *)0x0,uVar9);
    if (PTR_DAT_10a8_0000_10a8_7b58 == (undefined *)&DAT_10a8_0002) {
      INVALIDATERECT(1,(RECT16 *)0x0,0);
    }
    else {
      FUN_1008_7bf4();
    }
  }
  return 0;
}



undefined2 __stdcall16far
TRANSFERDLG(undefined2 param_1,undefined4 param_2,uint param_3,HWND16 param_4)

{
  int16 *piVar1;
  HWND16 hwnd;
  undefined2 uVar2;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  PAINTSTRUCT16 *unaff_SS;
  undefined2 in_stack_0000ffd6;
  dword in_stack_0000ffd8;
  undefined4 in_stack_0000ffdc;
  undefined4 in_stack_0000ffe0;
  word in_stack_0000ffe4;
  undefined local_a [8];

  if (param_3 == 0x110) {
    FUN_1018_5a04(param_4,(int *)0xf1c,1,unaff_SI,
                  (int16)CONCAT412(in_stack_0000ffe0,
                                   CONCAT48(in_stack_0000ffdc,
                                            CONCAT44(in_stack_0000ffd8,
                                                     CONCAT22(in_stack_0000ffd6,unaff_DI)))),
                  in_stack_0000ffe4);
    GETCLIENTRECT((HWND16)local_a,(RECT16 *)CONCAT22(param_4,unaff_SS));
    FUN_1028_344a((int)local_a);
    if (PTR_DAT_10a8_0000_10a8_7d5c == (undefined *)&DAT_10a8_0001) {
      SETWINDOWTEXT(0xf20,CONCAT22(param_4,0x10a8));
    }
  }
  else if (param_3 < 0x111) {
    if (param_3 == 0xf) {
      piVar1 = (int16 *)BEGINPAINT((HWND16)&stack0xffd6,(PAINTSTRUCT16 *)CONCAT22(param_4,unaff_SS))
      ;
      GETCLIENTRECT((HWND16)local_a,(RECT16 *)CONCAT22(param_4,unaff_SS));
      FUN_1028_32c4(param_4,piVar1,(int)local_a,-1,CONCAT22(in_stack_0000ffd6,unaff_DI),
                    in_stack_0000ffd8);
      ENDPAINT((HWND16)&stack0xffd6,unaff_SS);
    }
    else {
      if (param_3 != 0x14) {
        return 0;
      }
      GETCLIENTRECT((HWND16)local_a,(RECT16 *)CONCAT22(param_4,unaff_SS));
      FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)local_a,(RECT16 *)unaff_SS,param_2._2_2_)
      ;
    }
  }
  else {
    if (param_3 != 0x111) {
      if ((param_3 != 0x201) && (param_3 != 0x203)) {
        return 0;
      }
      uVar2 = FUN_1028_2b7a(param_4,param_1,(int)param_2,param_2._2_2_);
      return uVar2;
    }
    if ((param_2._2_2_ == 1) || (param_2._2_2_ == 2)) {
      FUN_1018_5a04(param_4,(int *)0xf1c,0,unaff_SI,
                    (int16)CONCAT412(in_stack_0000ffe0,
                                     CONCAT48(in_stack_0000ffdc,
                                              CONCAT44(in_stack_0000ffd8,
                                                       CONCAT22(in_stack_0000ffd6,unaff_DI)))),
                    in_stack_0000ffe4);
      if (param_2._2_2_ != 1) {
        param_2._2_2_ = 0;
      }
      ENDDIALOG(param_2._2_2_,
                (int16)CONCAT412(in_stack_0000ffdc,
                                 CONCAT48(in_stack_0000ffd8,
                                          CONCAT26(in_stack_0000ffd6,
                                                   CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4))))))
      ;
    }
    else {
      if (param_2._2_2_ != 0x76) {
        return 0;
      }
      if (PTR_DAT_10a8_0000_10a8_7d5c == (undefined *)&DAT_10a8_0001) {
        hwnd = 0x9f;
      }
      else {
        hwnd = 0x9a;
      }
      WINHELP(hwnd,(LPCSTR)0x10000,
              (uint16)CONCAT412(in_stack_0000ffd8,
                                CONCAT210(in_stack_0000ffd6,
                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(param_4,
                                                  CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be)))))));
    }
  }
  return 1;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far
FUN_1028_2b7a(HWND16 param_1,undefined2 param_2,undefined2 param_3,uint param_4)

{
  int *piVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  long lVar4;
  ulong uVar5;
  undefined4 uVar6;
  bool16 bVar7;
  uint uVar8;
  uint uVar9;
  long lVar10;
  undefined2 uVar11;
  ulong in_EDX;
  undefined2 unaff_SI;
  int iVar12;
  undefined4 *puVar13;
  undefined2 unaff_DI;
  undefined4 *puVar14;
  undefined2 unaff_SS;
  bool bVar15;
  HWND16 in_stack_0000ffba;
  int16 *in_stack_0000ffbc;
  undefined4 in_stack_0000ffbe;
  int local_2e;
  int local_2a;
  undefined2 local_26;
  byte local_24;
  uint local_22;
  undefined local_20 [8];
  undefined4 local_18;
  undefined4 local_14;
  uint local_10;
  uint local_e;
  uint local_c;
  undefined4 local_a;
  undefined4 local_6;

  GETCLIENTRECT((HWND16)local_20,(RECT16 *)CONCAT22(param_1,unaff_SS));
  local_14 = CONCAT22(param_3,param_2);
  local_6 = (ulong)(uint)local_6;
  local_6._2_2_ = (undefined *)0x0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_7d62) {
    iVar12 = 0;
    do {
      if (((PTR_DAT_10a8_0000_10a8_5896[iVar12 + 8] & 4) == 0) &&
         (bVar7 = PTINRECT((RECT16 *)local_14,SUB41((ulong)local_14 >> 0x10,0)), bVar7 != 0)) break;
      iVar12 = iVar12 + 0xe;
      local_6._2_2_ = local_6._2_2_ + 1;
    } while ((int)local_6._2_2_ < (int)PTR_DAT_10a8_0000_10a8_7d62);
  }
  if (PTR_DAT_10a8_0000_10a8_7d62 == local_6._2_2_) {
    return 0;
  }
  local_6 = local_6 & 0xffff | ZEXT24(local_6._2_2_) << 0x10;
  local_c = (int)local_6._2_2_ >> 1;
  puVar14 = (undefined4 *)&local_2e;
  puVar13 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_5896 + (int)local_6._2_2_ * 0xe);
  for (iVar12 = 3; iVar12 != 0; iVar12 = iVar12 + -1) {
    puVar3 = puVar14;
    puVar14 = puVar14 + 1;
    puVar2 = puVar13;
    puVar13 = puVar13 + 1;
    *puVar3 = *puVar2;
  }
  *(undefined2 *)puVar14 = *(undefined2 *)puVar13;
  local_10 = local_24 & 0x7f;
  if ((local_22 & 1) == 0) {
    if ((local_10 < 5) &&
       (*(undefined **)(PTR_DAT_10a8_0000_10a8_7c40 + (local_22 & 0xc) * 0x1e + 6) ==
        PTR_DAT_10a8_0001_10a8_00c0)) {
      SETCAPTURE(param_1);
      local_18 = 0xffffffff;
      iVar12 = FUN_1018_6506((undefined2 *)&local_14,
                             CONCAT48(in_stack_0000ffbe,
                                      CONCAT26(in_stack_0000ffbc,
                                               CONCAT24(in_stack_0000ffba,
                                                        CONCAT22(unaff_DI,unaff_SI)))));
      uVar9 = local_10;
      uVar6 = local_18;
      local_18 = local_14;
      while (local_14 = local_18, iVar12 != 0) {
        uVar11 = (undefined2)in_EDX;
        local_14._0_2_ = (int)local_18;
        local_18._0_2_ = (int)uVar6;
        if ((int)local_18 == (int)local_14) {
          local_14._2_2_ = (int)((ulong)local_18 >> 0x10);
          local_18._2_2_ = (int)((ulong)uVar6 >> 0x10);
          if (local_18._2_2_ != local_14._2_2_) goto LAB_1028_2c7a;
        }
        else {
LAB_1028_2c7a:
          if (uVar9 == 0) {
            iVar12 = 1;
          }
          else {
            iVar12 = 2;
          }
          iVar12 = FUN_1028_1e5c(CONCAT13(0x10,CONCAT12(0xa8,PTR_DAT_10a8_0000_10a8_7c40 +
                                                             (uint)((byte)local_22 & 0xc) * 0x1e + 4
                                                       )),iVar12);
          lVar10 = (long)((int)local_14 - local_2e) *
                   CONCAT13((char)((uint)uVar11 >> 8),CONCAT12((char)uVar11,iVar12));
          lVar4 = (long)((local_2a - local_2e) + -2);
          local_6 = lVar10 / lVar4;
          iVar12 = (int)(lVar10 % lVar4);
          uVar8 = FUN_1028_2f36(2,*(uint *)(PTR_DAT_10a8_0000_10a8_7c40 +
                                           (uint)((byte)local_22 & 0xc) * 0x1e),uVar9,0,
                                (undefined4 *)
                                ((int)(PTR_DAT_10a8_0000_10a8_7c40 +
                                      (uint)((byte)local_22 & 0xc) * 0x1e) + 4));
          local_e = (uint)local_6 - uVar8;
          local_c = ((int)local_6._2_2_ - iVar12) - (uint)((uint)local_6 < uVar8);
          local_a = CONCAT22(local_c,local_e);
          if ((local_22 & 0xc) != 0) {
            bVar15 = local_e != 0;
            local_e = -local_e;
            local_c = -(local_c + bVar15);
          }
          in_EDX = (ulong)local_c;
          iVar12 = FUN_1028_30d6(uVar9,local_e);
          uVar6 = local_18;
          if (iVar12 != 0) {
            FUN_1028_32c4(param_1,(int16 *)0x0,(int)local_20,uVar9,CONCAT22(unaff_DI,unaff_SI),
                          CONCAT22(in_stack_0000ffbc,in_stack_0000ffba));
            uVar6 = local_18;
          }
        }
        local_18 = uVar6;
        iVar12 = FUN_1018_6506((undefined2 *)&local_14,
                               CONCAT48(in_stack_0000ffbe,
                                        CONCAT26(in_stack_0000ffbc,
                                                 CONCAT24(in_stack_0000ffba,
                                                          CONCAT22(unaff_DI,unaff_SI)))));
        uVar6 = local_18;
        local_18 = local_14;
      }
      local_18 = uVar6;
      RELEASECAPTURE();
    }
  }
  else {
    FUN_1018_5d4c((undefined2 *)&stack0xffba,param_1,0,(undefined4 *)&local_2e,local_26,0x50,0,0);
    if ((param_4 & 8) == 0) {
      if ((param_4 & 4) == 0) {
        uVar9 = 1;
      }
      else {
        uVar9 = 10;
      }
      local_a = (ulong)uVar9;
    }
    else {
      local_a = 100;
    }
    iVar12 = FUN_1018_5dc4((HWND16 *)&stack0xffba);
    uVar9 = local_10;
    while (iVar12 != 0) {
      if (PTR_DAT_10a8_0000_10a8_7d5c == (undefined *)&DAT_10a8_0001) {
        uVar8 = *(uint *)(PTR_DAT_10a8_0000_10a8_7c40 +
                         ((uint)((local_22 & 0xc) == 0) * 0x3c + uVar9) * 2 + 0x10);
        if ((int)(uint)local_a < (int)uVar8) {
          uVar8 = (uint)local_a;
        }
        if (uVar8 != 0) {
          uVar5 = local_6 & 0xffff;
          local_6 = uVar5 | (ulong)uVar8 << 0x10;
          if ((int)(0x7ffe - uVar8) <=
              *(int *)(PTR_DAT_10a8_0000_10a8_7c40 + ((local_22 & 0xc) * 0xf + uVar9) * 2 + 0x10)) {
            local_6._0_2_ = (uint)uVar5;
            local_6 = CONCAT22(1,(uint)local_6);
          }
          piVar1 = (int *)(PTR_DAT_10a8_0000_10a8_7c40 + ((local_22 & 0xc) * 0xf + uVar9) * 2 + 0x10
                          );
          *piVar1 = *piVar1 + (int)local_6._2_2_;
          piVar1 = (int *)(PTR_DAT_10a8_0000_10a8_7c40 +
                          ((uint)((local_22 & 0xc) == 0) * 0x3c + uVar9) * 2 + 0x10);
          *piVar1 = *piVar1 - (int)local_6._2_2_;
          uVar8 = local_c;
LAB_1028_2e89:
          FUN_1028_32c4(param_1,in_stack_0000ffbc,(int)local_20,uVar8,CONCAT22(unaff_DI,unaff_SI),
                        CONCAT22(in_stack_0000ffbc,in_stack_0000ffba));
        }
      }
      else if ((-1 < (int)uVar9) && ((int)uVar9 < 5)) {
        local_a._2_2_ = (int)(local_a >> 0x10);
        if ((local_22 & 0xc) != 0) {
          bVar15 = (uint)local_a != 0;
          local_a._0_2_ = -(uint)local_a;
          local_a._2_2_ = -(local_a._2_2_ + (uint)bVar15);
        }
        local_6 = CONCAT22(local_a._2_2_,(uint)local_a);
        iVar12 = FUN_1028_30d6(uVar9,(uint)local_a);
        uVar8 = uVar9;
        if (iVar12 != 0) goto LAB_1028_2e89;
      }
      iVar12 = FUN_1018_5dc4((HWND16 *)&stack0xffba);
    }
  }
  FUN_1028_319a();
  FUN_1028_32c4(param_1,(int16 *)0x0,(int)local_20,-2,CONCAT22(unaff_DI,unaff_SI),
                CONCAT22(in_stack_0000ffbc,in_stack_0000ffba));
  return 1;
}



// WARNING: Could not reconcile some variable overlaps

int __cdecl16far FUN_1028_2eca(int param_1,undefined2 param_2)

{
  int iVar1;
  long *plVar2;
  long local_6;

  local_6 = 0;
  iVar1 = 4;
  plVar2 = (long *)(param_1 + 0x50);
  do {
    local_6 = local_6 + *plVar2;
    iVar1 = iVar1 + -1;
    plVar2 = plVar2 + 1;
  } while (iVar1 != 0);
  iVar1 = FUN_1028_1e5c(CONCAT22(param_2,param_1),2);
  return iVar1 - (int)local_6;
}



int __cdecl16far FUN_1028_2f10(int param_1,undefined2 param_2)

{
  int iVar1;

  iVar1 = FUN_1028_1e5c(CONCAT22(param_2,param_1),1);
  return iVar1 - *(int *)(param_1 + 0x4c);
}



undefined2 __cdecl16far
FUN_1028_2f36(int param_1,uint param_2,int param_3,long param_4,undefined4 *param_5)

{
  undefined4 *puVar1;
  int *piVar2;
  long *plVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  long *plVar9;
  undefined4 local_b8 [29];
  undefined4 local_44 [15];
  uint local_8;
  int local_6;
  undefined4 *local_4;

  if ((param_1 == 1) || (param_1 == 4)) {
    puVar8 = param_5;
    if (param_5 == (undefined4 *)0x0) {
      FUN_1010_02b0(param_2,local_44);
      puVar8 = local_44;
    }
    if (param_3 < 5) {
      if (param_4 == 0) {
        return *(undefined2 *)((int)puVar8 + param_3 * 4 + 0x22);
      }
      plVar9 = (long *)((int)puVar8 + param_3 * 4 + 0x22);
      if ((int)(*(int *)(puVar8 + param_3 + 9) + param_4._2_2_ +
               (uint)CARRY2(*(uint *)plVar9,(uint)param_4)) < 0) {
        uVar4 = *(uint *)plVar9;
        param_4 = CONCAT22(-(*(int *)(puVar8 + param_3 + 9) + (uint)(uVar4 != 0)),-uVar4);
      }
      plVar3 = plVar9;
      *plVar3 = *plVar3 + param_4;
    }
    if ((param_4 != 0) && (param_5 == (undefined4 *)0x0)) {
      FUN_1010_02b0(-1,local_44);
    }
  }
  else {
    if (param_5 == (undefined4 *)0x0) {
      FUN_1010_0cda(param_2,local_b8);
      local_4 = local_b8;
    }
    else {
      local_4 = param_5;
    }
    puVar8 = local_4;
    if (param_3 < 5) {
      if (param_4 == 0) {
        return *(undefined2 *)(local_4 + param_3 + 0x13);
      }
      puVar7 = local_4 + param_3 + 0x13;
      iVar6 = *(int *)((int)local_4 + param_3 * 4 + 0x4e) + param_4._2_2_ +
              (uint)CARRY2(*(uint *)puVar7,(uint)param_4);
      if (iVar6 < 0) {
        uVar4 = *(uint *)puVar7;
        iVar6 = -(*(int *)((int)local_4 + param_3 * 4 + 0x4e) + (uint)(uVar4 != 0));
        param_4 = CONCAT22(iVar6,-uVar4);
      }
      if (param_3 == 0) {
        local_8 = FUN_1028_2f10((int)local_4,(int)s_From___s_c_c_10a8_10a2 + 6);
      }
      else {
        local_8 = FUN_1028_2eca((int)local_4,(int)s_From___s_c_c_10a8_10a2 + 6);
      }
      local_6 = iVar6;
      if ((iVar6 <= param_4._2_2_) && ((iVar6 < param_4._2_2_ || (local_8 <= (uint)param_4)))) {
        if (param_3 == 0) {
          iVar5 = FUN_1028_2f10((int)local_4,(int)s_From___s_c_c_10a8_10a2 + 6);
        }
        else {
          iVar5 = FUN_1028_2eca((int)local_4,(int)s_From___s_c_c_10a8_10a2 + 6);
        }
        param_4 = CONCAT22(iVar6,iVar5);
      }
      puVar1 = puVar7;
      uVar4 = *(uint *)puVar1;
      *(uint *)puVar1 = *(uint *)puVar1 + (uint)param_4;
      piVar2 = (int *)((int)puVar8 + param_3 * 4 + 0x4e);
      *piVar2 = *piVar2 + param_4._2_2_ + (uint)CARRY2(uVar4,(uint)param_4);
    }
    if ((param_4 != 0) && (param_5 == (undefined4 *)0x0)) {
      FUN_1010_0cda(0xffff,local_4);
    }
  }
  return (uint)param_4;
}



int __cdecl16far FUN_1028_30d6(int param_1,uint param_2)

{
  int iVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int in_DX;

  if (param_2 != 0) {
    iVar1 = (uint)(0 < (int)param_2) * 0x78;
    puVar2 = (uint *)(PTR_DAT_10a8_0000_10a8_7c40 + iVar1);
    uVar3 = FUN_1028_2f36(puVar2[1],*puVar2,param_1,0,(undefined4 *)(puVar2 + 2));
    uVar4 = (param_2 ^ (int)param_2 >> 0xf) - ((int)param_2 >> 0xf);
    if ((in_DX <= (int)uVar4 >> 0xf) && ((in_DX < (int)uVar4 >> 0xf || (uVar3 < uVar4)))) {
      uVar4 = uVar3;
    }
    if (uVar4 != 0) {
      puVar2 = (uint *)(PTR_DAT_10a8_0000_10a8_7c40 + (uint)(0 < (int)param_2 == 0) * 0x78);
      iVar5 = FUN_1028_2f36(puVar2[1],*puVar2,param_1,(long)(int)uVar4,(undefined4 *)(puVar2 + 2));
      if (iVar5 != 0) {
        puVar2 = (uint *)(PTR_DAT_10a8_0000_10a8_7c40 + iVar1);
        FUN_1028_2f36(puVar2[1],*puVar2,param_1,(long)-iVar5,(undefined4 *)(puVar2 + 2));
      }
      return iVar5;
    }
  }
  return 0;
}



void __cdecl16far FUN_1028_319a(void)

{
  byte *pbVar1;
  uint uVar2;
  int iVar3;
  uint *puVar4;
  uint uVar5;
  int iVar6;
  uint in_DX;
  int iVar7;
  int iVar8;
  int local_a;
  long local_8;

  if (PTR_DAT_10a8_0000_10a8_7d5c == (undefined *)&DAT_10a8_0001) {
    iVar3 = (int)PTR_DAT_10a8_0000_10a8_8342 * 2;
  }
  else {
    iVar3 = 4;
  }
  local_a = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_7d62) {
    iVar8 = 0;
    do {
      iVar6 = *(int *)(PTR_DAT_10a8_0000_10a8_5896 + iVar8 + 10);
      uVar2 = *(uint *)(PTR_DAT_10a8_0000_10a8_5896 + iVar8 + 0xc);
      if (((uVar2 & 1) != 0) && (iVar6 <= iVar3)) {
        uVar2 = (uVar2 & 0xc) >> 2;
        if (PTR_DAT_10a8_0000_10a8_7d5c == (undefined *)&DAT_10a8_0001) {
          if (*(int *)(PTR_DAT_10a8_0000_10a8_7c40 + (uVar2 * 0x3c + iVar6) * 2 + 0x10) == 0x7ffe) {
            local_8 = 0;
          }
          else {
            iVar6 = *(int *)(PTR_DAT_10a8_0000_10a8_7c40 +
                            ((uint)(uVar2 == 0) * 0x3c + iVar6) * 2 + 0x10);
            in_DX = iVar6 >> 0xf;
LAB_1028_3291:
            local_8 = CONCAT22(in_DX,iVar6);
          }
        }
        else {
          puVar4 = (uint *)(PTR_DAT_10a8_0000_10a8_7c40 + (uint)(uVar2 == 0) * 0x78);
          uVar5 = FUN_1028_2f36(puVar4[1],*puVar4,iVar6,0,(undefined4 *)(puVar4 + 2));
          local_8 = CONCAT22(in_DX,uVar5);
          in_DX = in_DX | uVar5;
          if ((in_DX != 0) &&
             (iVar7 = uVar2 * 0x78, *(int *)(PTR_DAT_10a8_0000_10a8_7c40 + iVar7 + 2) == 2)) {
            if (iVar6 == 0) {
              iVar6 = FUN_1028_2f10((int)(PTR_DAT_10a8_0000_10a8_7c40 + iVar7 + 4),
                                    (int)s_From___s_c_c_10a8_10a2 + 6);
            }
            else {
              iVar6 = FUN_1028_2eca((int)(PTR_DAT_10a8_0000_10a8_7c40 + iVar7 + 4),
                                    (int)s_From___s_c_c_10a8_10a2 + 6);
            }
            goto LAB_1028_3291;
          }
        }
        if (local_8 == 0) {
          pbVar1 = PTR_DAT_10a8_0000_10a8_5896 + iVar8 + 8;
          *pbVar1 = *pbVar1 | 4;
        }
        else {
          pbVar1 = PTR_DAT_10a8_0000_10a8_5896 + iVar8 + 8;
          *pbVar1 = *pbVar1 & 0xfb;
        }
      }
      iVar8 = iVar8 + 0xe;
      local_a = local_a + 1;
    } while (local_a < (int)PTR_DAT_10a8_0000_10a8_7d62);
  }
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1028_32c4(HWND16 param_1,int16 *param_2,int param_3,int param_4,undefined4 param_5,dword param_6
             )

{
  int iVar1;
  undefined2 unaff_BP;
  HDC16 unaff_SI;
  int iVar2;
  undefined2 unaff_DI;
  int iVar3;
  undefined4 *puVar4;
  undefined4 in_stack_00000000;
  dword in_stack_00000014;
  undefined2 in_stack_0000ffe4;
  undefined4 *in_stack_0000ffe6;
  undefined in_stack_0000ffe8 [12];
  undefined2 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  int iVar5;
  undefined2 in_stack_0000fffa;

  iVar5 = 0;
  if (param_2 == (int16 *)0x0) {
    iVar5 = 1;
    param_2 = (int16 *)GETDC(param_1);
  }
  iVar1 = *(int *)(param_3 + 4) >> 1;
  if (param_4 < 0) {
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_2,CONCAT28(iVar1,(qword
                                                  )CONCAT24(1,(ulong)*(uint *)(param_3 + 6) << 0x10)
                                                  )))),
           (int16)CONCAT124(in_stack_0000ffe8,CONCAT22(in_stack_0000ffe6,in_stack_0000ffe4)),
           (int16)CONCAT412(in_stack_00000000,
                            CONCAT210(unaff_BP,CONCAT28(iVar1,CONCAT26(in_stack_0000fffa,
                                                                       CONCAT24(iVar5,CONCAT22(
                                                  in_stack_0000fff6,in_stack_0000fff4)))))),
           (int16)CONCAT412(param_6,CONCAT48(param_5,CONCAT26(param_4,CONCAT24(param_3,CONCAT22(
                                                  param_2,param_1))))),in_stack_00000014);
    in_stack_0000fffa = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_7d62) {
      iVar1 = 0;
      iVar2 = 0;
      iVar3 = 0;
      do {
        in_stack_0000ffe6 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_5896 + iVar2);
        if ((*(byte *)(in_stack_0000ffe6 + 3) & 1) != 0) {
          FUN_1018_5f08((HRGN16)param_2,in_stack_0000ffe6,*(uint *)(in_stack_0000ffe6 + 2),0,0);
        }
        iVar2 = iVar2 + 0xe;
        iVar3 = iVar3 + 1;
      } while (iVar3 < (int)PTR_DAT_10a8_0000_10a8_7d62);
    }
    if (param_4 == -2) goto LAB_1028_33c2;
  }
  FUN_1028_33d8(param_3,(int *)&stack0xffe8,(int *)&stack0xfff0,CONCAT22(unaff_DI,unaff_SI),
                in_stack_0000ffe4,CONCAT122(in_stack_0000ffe8,in_stack_0000ffe6),in_stack_0000fff4,
                CONCAT410(in_stack_00000000,
                          CONCAT28(unaff_BP,CONCAT26(iVar1,CONCAT24(in_stack_0000fffa,
                                                                    CONCAT22(iVar5,in_stack_0000fff6
                                                                            ))))),param_1);
  puVar4 = (undefined4 *)&stack0xffe8;
  iVar1 = 0;
  do {
    if (PTR_DAT_10a8_0000_10a8_7d5c == (undefined *)&DAT_10a8_0001) {
      FUN_1028_3a58((undefined *)param_2,puVar4,
                    (undefined4 *)(PTR_DAT_10a8_0000_10a8_7c40 + iVar1 + 4),param_4);
    }
    else if (*(int *)(PTR_DAT_10a8_0000_10a8_7c40 + iVar1 + 2) == 2) {
      FUN_1028_373a((undefined *)param_2,puVar4,
                    (undefined4 *)(PTR_DAT_10a8_0000_10a8_7c40 + iVar1 + 4),param_4);
    }
    else {
      FUN_1028_3c5a((undefined *)param_2,puVar4,
                    (undefined4 *)(PTR_DAT_10a8_0000_10a8_7c40 + iVar1 + 4),param_4);
    }
    puVar4 = puVar4 + 2;
    iVar1 = iVar1 + 0x78;
  } while (iVar1 < 0xf0);
LAB_1028_33c2:
  if (iVar5 != 0) {
    RELEASEDC(param_2,param_1,unaff_SI);
  }
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1028_33d8(int param_1,int *param_2,int *param_3,undefined4 param_4,undefined2 param_5,
             undefined param_6 [14],undefined2 param_7,undefined param_8 [14],undefined2 param_9)

{
  int *piVar1;
  int iVar2;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined2 in_stack_00000030;

  SETRECT((RECT16 *)CONCAT22(*(int *)(param_1 + 4) >> 1,*(undefined2 *)(param_1 + 6)),
          (int16)CONCAT214(in_stack_00000000,
                           CONCAT212(unaff_BP,CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,
                                                  ZEXT26(param_2) << 0x20))))),
          (int16)CONCAT214(param_6._0_2_,
                           CONCAT212(param_5,CONCAT48(param_4,CONCAT26(param_3,CONCAT24(param_2,
                                                  CONCAT22(param_1,in_stack_00000002)))))),
          (int16)CONCAT214(param_8._0_2_,CONCAT212(param_7,param_6._2_12_)),
          (int16)CONCAT214(in_stack_00000030,CONCAT212(param_9,param_8._2_12_)));
  FUN_1018_5948(param_2,-7 - (int)PTR_DAT_10a8_0000_10a8_5794,-4);
  piVar1 = param_2;
  *piVar1 = *piVar1 - (int)(PTR_DAT_10a8_0000_10a8_5794 + 1);
  iVar2 = *(int *)(param_1 + 4);
  SETRECT((RECT16 *)CONCAT22(iVar2,*(undefined2 *)(param_1 + 6)),
          (int16)CONCAT214(in_stack_00000000,
                           CONCAT212(unaff_BP,CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,(
                                                  uint6)CONCAT22(param_3,iVar2 >> 1) << 0x10))))),
          (int16)CONCAT214(param_6._0_2_,
                           CONCAT212(param_5,CONCAT48(param_4,CONCAT26(param_3,CONCAT24(param_2,
                                                  CONCAT22(param_1,in_stack_00000002)))))),
          (int16)CONCAT214(param_8._0_2_,CONCAT212(param_7,param_6._2_12_)),
          (int16)CONCAT214(in_stack_00000030,CONCAT212(param_9,param_8._2_12_)));
  FUN_1018_5948(param_3,-7 - (int)PTR_DAT_10a8_0000_10a8_5794,-4);
  piVar1 = param_3 + 2;
  *piVar1 = (int)(PTR_DAT_10a8_0000_10a8_5794 + *piVar1 + 1);
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined2 __cdecl16far FUN_1028_344a(int param_1)

{
  undefined4 *puVar1;
  byte *pbVar2;
  uint *puVar3;
  int iVar4;
  int iVar5;
  undefined *puVar6;
  int iVar7;
  uint uVar8;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  undefined *puVar9;
  undefined2 unaff_SS;
  undefined2 in_stack_00000000;
  int in_stack_0000ffce;
  int in_stack_0000ffd0;
  undefined4 in_stack_0000ffd2;
  undefined4 in_stack_0000ffd6;
  undefined4 in_stack_0000ffda;
  int in_stack_0000ffde;
  undefined2 in_stack_0000ffe0;
  undefined4 in_stack_0000ffe2;
  undefined2 in_stack_0000ffe6;
  undefined2 in_stack_0000ffe8;
  undefined2 in_stack_0000ffea;
  int iVar10;
  undefined2 in_stack_0000ffec;
  undefined2 uVar11;
  undefined *puVar12;
  undefined *in_stack_0000fff4;
  int iVar13;
  int in_stack_0000fffa;
  int in_stack_0000fffc;

  puVar12 = (undefined *)0x0;
  if (PTR_DAT_10a8_0000_10a8_7d5c == (undefined *)&DAT_10a8_0001) {
    iVar4 = 0x8c;
  }
  else {
    iVar4 = 0x4b;
  }
  iVar5 = *(int *)(param_1 + 4) >> 1;
  puVar9 = PTR_DAT_10a8_0000_10a8_5794 + 10;
  iVar13 = 0;
  puVar6 = PTR_DAT_10a8_0000_10a8_8342;
  if (PTR_DAT_10a8_0000_10a8_7d5c != (undefined *)&DAT_10a8_0001) {
    puVar6 = (undefined *)((int)&PTR_LOOP_10a8_0004 + 1);
  }
  if (0 < (int)puVar6) {
    do {
      if ((iVar13 == 1) && (PTR_DAT_10a8_0000_10a8_7d5c != (undefined *)&DAT_10a8_0001)) {
        puVar9 = puVar9 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
      }
      SETRECT((RECT16 *)CONCAT22(iVar5 + 1,PTR_DAT_10a8_0000_10a8_5794 + (int)puVar9 + 3),
              (int16)CONCAT214(in_stack_0000ffd0,
                               CONCAT212(in_stack_0000ffce,
                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT15((char)((uint)&stack0xffde >> 8),
                                                           CONCAT14((char)&stack0xffde,
                                                                    CONCAT22((iVar5 - (int)
                                                  PTR_DAT_10a8_0000_10a8_5794) + -2,puVar9)))))))),
              (int16)CONCAT214(in_stack_0000ffe0,
                               CONCAT212(in_stack_0000ffde,
                                         CONCAT48(in_stack_0000ffda,
                                                  CONCAT44(in_stack_0000ffd6,in_stack_0000ffd2)))),
              (int16)CONCAT214(iVar5,CONCAT212(iVar4,CONCAT210(in_stack_0000ffec,
                                                               CONCAT28(in_stack_0000ffea,
                                                                        CONCAT26(in_stack_0000ffe8,
                                                                                 CONCAT24(
                                                  in_stack_0000ffe6,in_stack_0000ffe2)))))),
              (int16)CONCAT214(in_stack_00000000,
                               CONCAT212(unaff_BP,CONCAT210(in_stack_0000fffc,
                                                            CONCAT28(in_stack_0000fffa,
                                                                     CONCAT26(iVar13,CONCAT24(puVar6
                                                  ,CONCAT22(in_stack_0000fff4,puVar12))))))));
      in_stack_0000fffa = 0;
      in_stack_0000fffc = (int)puVar12 * 0xe;
      puVar12 = puVar12 + 2;
      in_stack_0000fff4 = puVar9;
      do {
        puVar1 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc);
        *puVar1 = CONCAT22(in_stack_0000ffe0,in_stack_0000ffde);
        puVar1[1] = in_stack_0000ffe2;
        *(uint *)(PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc + 8) =
             3 - (uint)(in_stack_0000fffa == 0);
        pbVar2 = PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc + 0xc;
        *pbVar2 = *pbVar2 | 1;
        puVar3 = (uint *)(PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc + 0xc);
        *puVar3 = *puVar3 ^ (byte)(PTR_DAT_10a8_0000_10a8_5896[in_stack_0000fffc + 0xc] ^
                                  (byte)(in_stack_0000fffa << 2)) & 0xc;
        iVar7 = iVar13;
        if (PTR_DAT_10a8_0000_10a8_7d5c == (undefined *)&DAT_10a8_0001) {
          iVar7 = *(int *)(PTR_DAT_10a8_0000_10a8_5914 + iVar13 * 2);
        }
        *(int *)(PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc + 10) = iVar7;
        in_stack_0000fffc = in_stack_0000fffc + 0xe;
        FUN_1018_5962((int *)&stack0xffde,(int)(PTR_DAT_10a8_0000_10a8_5794 + 2),0);
        in_stack_0000fffa = in_stack_0000fffa + 1;
      } while (in_stack_0000fffa < 2);
      puVar9 = in_stack_0000fff4 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
      iVar13 = iVar13 + 1;
    } while (iVar13 < (int)puVar6);
  }
  FUN_1028_33d8(param_1,(int *)&stack0xffce,(int *)&stack0xffd6,CONCAT22(unaff_DI,unaff_SI),
                in_stack_0000ffce,
                CONCAT410(in_stack_0000ffda,
                          CONCAT46(in_stack_0000ffd6,CONCAT42(in_stack_0000ffd2,in_stack_0000ffd0)))
                ,in_stack_0000ffde,
                CONCAT212(in_stack_0000ffec,
                          CONCAT210(in_stack_0000ffea,
                                    CONCAT28(in_stack_0000ffe8,
                                             CONCAT26(in_stack_0000ffe6,
                                                      CONCAT42(in_stack_0000ffe2,in_stack_0000ffe0))
                                            ))),iVar4);
  if (PTR_DAT_10a8_0000_10a8_7d5c != (undefined *)&DAT_10a8_0001) {
    if (*(int *)(PTR_DAT_10a8_0000_10a8_7c40 + 2) == 1) {
      if (*(int *)(PTR_DAT_10a8_0000_10a8_7c40 + 0x7a) == 1) goto LAB_1028_3729;
      iVar13 = (int)in_stack_0000ffd6;
      iVar7 = (int)((ulong)in_stack_0000ffd6 >> 0x10);
      iVar10 = (int)in_stack_0000ffda;
      uVar11 = (undefined2)((ulong)in_stack_0000ffda >> 0x10);
      uVar8 = 1;
    }
    else {
      iVar10 = (int)in_stack_0000ffd2;
      uVar11 = (undefined2)((ulong)in_stack_0000ffd2 >> 0x10);
      uVar8 = 0;
      iVar13 = in_stack_0000ffce;
      iVar7 = in_stack_0000ffd0;
    }
    if (uVar8 < 2) {
      do {
        SETRECT((RECT16 *)CONCAT22(iVar10 + -4,(int)(PTR_DAT_10a8_0000_10a8_5794 + 3) * 2 + iVar7),
                (int16)CONCAT214(in_stack_0000ffd0,
                                 CONCAT212(in_stack_0000ffce,
                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT15((char)((uint)&stack0xffde >> 8),
                                                           CONCAT14((char)&stack0xffde,
                                                                    CONCAT22(iVar4 + iVar13 + 10,

                                                  PTR_DAT_10a8_0000_10a8_5794 + iVar7 + 6)))))))),
                (int16)CONCAT214(in_stack_0000ffe0,
                                 CONCAT212(in_stack_0000ffde,
                                           CONCAT48(in_stack_0000ffda,
                                                    CONCAT44(in_stack_0000ffd6,in_stack_0000ffd2))))
                ,(int16)CONCAT214(iVar5,CONCAT212(iVar4,CONCAT210(uVar11,CONCAT28(iVar10,CONCAT26(
                                                  iVar7,CONCAT24(iVar13,in_stack_0000ffe2)))))),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(in_stack_0000fffc,
                                                              CONCAT28(in_stack_0000fffa,
                                                                       CONCAT26(uVar8,CONCAT24(
                                                  puVar6,CONCAT22(in_stack_0000fff4,puVar12))))))));
        puVar9 = PTR_DAT_10a8_0000_10a8_8342;
        if (PTR_DAT_10a8_0000_10a8_7d5c != (undefined *)&DAT_10a8_0001) {
          puVar9 = (undefined *)((int)&PTR_LOOP_10a8_0004 + 1);
        }
        in_stack_0000fffc = 0;
        if (0 < (int)puVar9) {
          in_stack_0000fffc = (int)puVar12 * 0xe;
          puVar12 = puVar12 + (int)puVar9;
          in_stack_0000fffa = 0;
          puVar6 = puVar9;
          do {
            if ((in_stack_0000fffa == 1) &&
               (PTR_DAT_10a8_0000_10a8_7d5c != (undefined *)&DAT_10a8_0001)) {
              FUN_1018_5962((int *)&stack0xffde,0,(int)(PTR_DAT_10a8_0000_10a8_5794 + 6));
            }
            puVar1 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc);
            *puVar1 = CONCAT22(in_stack_0000ffe0,in_stack_0000ffde);
            puVar1[1] = in_stack_0000ffe2;
            *(undefined2 *)(PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc + 8) = 0;
            pbVar2 = PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc + 0xc;
            *pbVar2 = *pbVar2 & 0xfe;
            puVar3 = (uint *)(PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc + 0xc);
            *puVar3 = *puVar3 ^ (byte)(PTR_DAT_10a8_0000_10a8_5896[in_stack_0000fffc + 0xc] ^
                                      (byte)(uVar8 << 2)) & 0xc;
            *(int *)(PTR_DAT_10a8_0000_10a8_5896 + in_stack_0000fffc + 10) =
                 in_stack_0000fffa + 0x80;
            in_stack_0000fffc = in_stack_0000fffc + 0xe;
            FUN_1018_5962((int *)&stack0xffde,0,(int)(PTR_DAT_10a8_0000_10a8_5794 + 6));
            in_stack_0000fffa = in_stack_0000fffa + 1;
          } while (in_stack_0000fffa < (int)puVar6);
        }
        if (*(int *)(PTR_DAT_10a8_0000_10a8_7c40 + 0x7a) == 1) break;
        iVar13 = (int)in_stack_0000ffd6;
        iVar7 = (int)((ulong)in_stack_0000ffd6 >> 0x10);
        iVar10 = (int)in_stack_0000ffda;
        uVar11 = (undefined2)((ulong)in_stack_0000ffda >> 0x10);
        uVar8 = uVar8 + 1;
      } while ((int)uVar8 < 2);
    }
  }
LAB_1028_3729:
  PTR_DAT_10a8_0000_10a8_7d62 = puVar12;
  FUN_1028_319a();
  return 1;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far
FUN_1028_373a(undefined *param_1,undefined4 *param_2,undefined4 *param_3,int param_4)

{
  undefined4 *puVar1;
  ulong uVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  undefined2 uVar5;
  int16 *piVar6;
  int iVar7;
  HRGN16 unaff_SI;
  int iVar8;
  HRGN16 unaff_DI;
  undefined4 *puVar9;
  undefined *puVar10;
  uint unaff_SS;
  undefined2 uVar11;
  uint in_stack_0000ff70;
  undefined2 in_stack_0000ff72;
  undefined2 in_stack_0000ff74;
  undefined2 in_stack_0000ff76;
  undefined2 in_stack_0000ff78;
  undefined2 in_stack_0000ff7a;
  undefined2 in_stack_0000ff7c;
  undefined2 in_stack_0000ff7e;
  undefined2 in_stack_0000ff80;
  undefined2 in_stack_0000ff82;
  undefined in_stack_0000ff84 [16];
  undefined in_stack_0000ff94 [16];
  undefined4 local_44;
  undefined4 local_40 [4];
  undefined4 local_30 [5];
  int local_1c [4];
  undefined4 local_14;
  undefined4 local_10;
  undefined *local_c;
  int local_a;
  undefined *local_8;
  undefined4 *local_6;
  undefined2 local_4;

  local_6 = (undefined4 *)
            (uint)((undefined *)*(int *)((int)param_3 + 2) != PTR_DAT_10a8_0001_10a8_00c0);
  local_4 = 0x4b;
  puVar9 = (undefined4 *)&stack0xff70;
  for (iVar7 = 0x1d; iVar7 != 0; iVar7 = iVar7 + -1) {
    puVar3 = puVar9;
    puVar9 = puVar9 + 1;
    puVar1 = param_3;
    param_3 = param_3 + 1;
    *puVar3 = *puVar1;
  }
  local_14 = *param_2;
  uVar2 = param_2[1];
  local_14._2_2_ = (int)((ulong)local_14 >> 0x10);
  local_10._0_2_ = (int)uVar2;
  local_10 = uVar2 & 0xffff |
             (ulong)(uint)((local_14._2_2_ - (int)local_14) + (int)local_10) << 0x10;
  SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
               (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
  SETBKCOLOR((HDC16)_DAT_10a8_5714,(COLORREF)CONCAT22(param_1,(int)((ulong)_DAT_10a8_5714 >> 0x10)))
  ;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff7e,
                                CONCAT212(in_stack_0000ff7c,
                                          CONCAT210(in_stack_0000ff7a,
                                                    CONCAT28(in_stack_0000ff78,
                                                             CONCAT26(in_stack_0000ff76,
                                                                      CONCAT24(in_stack_0000ff74,
                                                                               CONCAT22(
                                                  in_stack_0000ff72,in_stack_0000ff70))))))));
  if (param_4 == -1) {
    FUN_1018_5bba(param_1,&local_14,0,unaff_SI,unaff_DI,in_stack_0000ff70,in_stack_0000ff72,
                  in_stack_0000ff74,in_stack_0000ff76,in_stack_0000ff78,in_stack_0000ff7a,
                  in_stack_0000ff7c,in_stack_0000ff7e,in_stack_0000ff80,in_stack_0000ff82);
  }
  FUN_1018_5948((int *)&local_14,-1,-1);
  local_10 = local_10 & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_5794 + local_14._2_2_ + 2) << 0x10;
  if (param_4 == -1) {
    FUN_1018_5bba(param_1,&local_14,0,unaff_SI,unaff_DI,in_stack_0000ff70,in_stack_0000ff72,
                  in_stack_0000ff74,in_stack_0000ff76,in_stack_0000ff78,in_stack_0000ff7a,
                  in_stack_0000ff7c,in_stack_0000ff7e,in_stack_0000ff80,in_stack_0000ff82);
    uVar11 = 0;
    uVar5 = FUN_1010_0ffa(in_stack_0000ff70);
    FUN_1018_5580(param_1,(int *)&local_14,(LPCSTR)CONCAT22(uVar11,uVar5),
                  (int16)CONCAT214(in_stack_0000ff7a,
                                   CONCAT212(in_stack_0000ff78,
                                             CONCAT210(in_stack_0000ff76,
                                                       CONCAT28(in_stack_0000ff74,
                                                                CONCAT26(in_stack_0000ff72,
                                                                         CONCAT24(in_stack_0000ff70,
                                                                                  CONCAT22(unaff_DI,
                                                  unaff_SI))))))));
  }
  iVar7 = *(int *)param_2 + 4;
  local_c = (undefined *)(*(int *)(param_2 + 1) + -4);
  local_8 = (undefined *)(local_10._2_2_ + 3);
  if (param_4 == -1) {
    local_a = iVar7;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff7e,
                                  CONCAT212(in_stack_0000ff7c,
                                            CONCAT210(in_stack_0000ff7a,
                                                      CONCAT28(in_stack_0000ff78,
                                                               CONCAT26(in_stack_0000ff76,
                                                                        CONCAT24(in_stack_0000ff74,
                                                                                 CONCAT22(
                                                  in_stack_0000ff72,in_stack_0000ff70))))))));
    local_4 = 0;
    iVar8 = 0;
    puVar10 = local_8;
    do {
      if ((iVar8 != 1) || (local_6 == (undefined4 *)0x0)) {
        piVar6 = (int16 *)0x0;
        iVar7 = 0;
        uVar5 = FUN_1018_5112(iVar8 + 0x104);
        FUN_1018_55f6(param_1,local_a + 0x4b,(int)puVar10,uVar5,piVar6,iVar7,
                      CONCAT22(unaff_DI,unaff_SI),in_stack_0000ff70,
                      CONCAT212(in_stack_0000ff7e,
                                CONCAT210(in_stack_0000ff7c,
                                          CONCAT28(in_stack_0000ff7a,
                                                   CONCAT26(in_stack_0000ff78,
                                                            CONCAT24(in_stack_0000ff76,
                                                                     CONCAT22(in_stack_0000ff74,
                                                                              in_stack_0000ff72)))))
                               ));
      }
      puVar10 = puVar10 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
      iVar8 = iVar8 + 1;
      iVar7 = local_a;
    } while (iVar8 < 6);
  }
  puVar10 = (undefined *)(local_10._2_2_ + 3);
  iVar8 = iVar7 + 0x51;
  if (local_6 == (undefined4 *)0x0) {
    local_a = iVar8;
    SETRECT((RECT16 *)CONCAT22(local_c,PTR_DAT_10a8_0000_10a8_5794 + (int)puVar10),
            (int16)CONCAT214(in_stack_0000ff72,
                             CONCAT212(in_stack_0000ff70,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(local_1c,CONCAT22(iVar8,puVar10))))))),
            (int16)CONCAT214(in_stack_0000ff82,
                             CONCAT212(in_stack_0000ff80,
                                       CONCAT210(in_stack_0000ff7e,
                                                 CONCAT28(in_stack_0000ff7c,
                                                          CONCAT26(in_stack_0000ff7a,
                                                                   CONCAT24(in_stack_0000ff78,
                                                                            CONCAT22(
                                                  in_stack_0000ff76,in_stack_0000ff74))))))),
            (int16)in_stack_0000ff84,(int16)in_stack_0000ff94);
    if ((param_4 == -1) || (param_4 == 0)) {
      FUN_1028_21d4(CONCAT22(local_1c,param_1),(uint)&stack0xff70,unaff_SS,0);
    }
    if (param_4 != 0) {
      puVar10 = puVar10 + (int)PTR_DAT_10a8_0000_10a8_5794;
      FUN_1018_5962(local_1c,0,(int)(PTR_DAT_10a8_0000_10a8_5794 + 6));
      FUN_1028_21d4(CONCAT22(local_1c,param_1),(uint)&stack0xff70,unaff_SS,5);
      local_8 = puVar10 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 0xc);
      local_4 = 1;
      iVar7 = 1;
      do {
        FUN_1018_5962(local_1c,0,(int)(PTR_DAT_10a8_0000_10a8_5794 + 6));
        if (((param_4 == -1) || (iVar7 == param_4)) &&
           (FUN_1028_21d4(CONCAT22(local_1c,param_1),(uint)&stack0xff70,unaff_SS,iVar7),
           iVar7 == param_4)) {
          return;
        }
        local_8 = local_8 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
        iVar7 = iVar7 + 1;
      } while (iVar7 < 5);
    }
    return;
  }
  local_c = PTR_DAT_10a8_0000_10a8_5924 + iVar8;
  SETRECT((RECT16 *)CONCAT22(local_c + 2,PTR_DAT_10a8_0000_10a8_5794 + (int)puVar10 + 1),
          (int16)CONCAT214(in_stack_0000ff72,
                           CONCAT212(in_stack_0000ff70,
                                     CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,CONCAT24
                                                  (&local_14,
                                                   CONCAT22(iVar7 + 0x4f,local_10._2_2_ + 2))))))),
          (int16)CONCAT214(in_stack_0000ff82,
                           CONCAT212(in_stack_0000ff80,
                                     CONCAT210(in_stack_0000ff7e,
                                               CONCAT28(in_stack_0000ff7c,
                                                        CONCAT26(in_stack_0000ff7a,
                                                                 CONCAT24(in_stack_0000ff78,
                                                                          CONCAT22(in_stack_0000ff76
                                                                                   ,
                                                  in_stack_0000ff74))))))),(int16)in_stack_0000ff84,
          (int16)in_stack_0000ff94);
  local_4 = 0;
  local_6 = &local_44;
  iVar7 = 0;
  do {
    if (local_6 == local_40) {
      puVar10 = puVar10 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
      FUN_1018_5962((int *)&local_14,0,(int)(PTR_DAT_10a8_0000_10a8_5794 + 6));
    }
    if ((param_4 == -1) || (param_4 == iVar7)) {
      FUN_1018_5bba(param_1,&local_14,(uint)(param_4 == iVar7),unaff_SI,unaff_DI,in_stack_0000ff70,
                    in_stack_0000ff72,in_stack_0000ff74,in_stack_0000ff76,in_stack_0000ff78,
                    in_stack_0000ff7a,in_stack_0000ff7c,in_stack_0000ff7e,in_stack_0000ff80,
                    in_stack_0000ff82);
      iVar8 = 0;
      uVar4 = *local_6;
      piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xf2e10a8,
                         (LPCSTR)CONCAT22((int)uVar4,0x10a8),(VA_LIST16)((ulong)uVar4 >> 0x10));
      FUN_1018_55f6(param_1,(int)local_c,(int)puVar10,(int)&DAT_10a8_86de,piVar6,iVar8,
                    CONCAT22(unaff_DI,unaff_SI),in_stack_0000ff70,
                    CONCAT212(in_stack_0000ff7e,
                              CONCAT210(in_stack_0000ff7c,
                                        CONCAT28(in_stack_0000ff7a,
                                                 CONCAT26(in_stack_0000ff78,
                                                          CONCAT24(in_stack_0000ff76,
                                                                   CONCAT22(in_stack_0000ff74,
                                                                            in_stack_0000ff72)))))))
      ;
      if (param_4 == iVar7) {
        return;
      }
    }
    FUN_1018_5962((int *)&local_14,0,(int)(PTR_DAT_10a8_0000_10a8_5794 + 6));
    iVar7 = iVar7 + 1;
    puVar10 = puVar10 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
    local_6 = local_6 + 1;
  } while (local_6 < local_30);
  return;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far
FUN_1028_3a58(undefined *param_1,undefined4 *param_2,undefined4 *param_3,int param_4)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined2 uVar3;
  int16 *piVar4;
  int iVar5;
  HRGN16 unaff_SI;
  undefined4 *puVar6;
  undefined *puVar7;
  HRGN16 unaff_DI;
  undefined4 *puVar8;
  undefined2 unaff_SS;
  undefined2 uVar9;
  int iVar10;
  uint in_stack_0000ff7a;
  undefined2 in_stack_0000ff7c;
  undefined2 in_stack_0000ff7e;
  undefined2 in_stack_0000ff80;
  undefined2 in_stack_0000ff82;
  undefined2 in_stack_0000ff84;
  undefined2 in_stack_0000ff86;
  undefined2 in_stack_0000ff88;
  undefined2 in_stack_0000ff8a;
  undefined2 in_stack_0000ff8c;
  undefined in_stack_0000ff8e [16];
  undefined in_stack_0000ff9e [16];
  undefined4 local_12;
  undefined4 uStack_e;
  undefined *local_a;
  int local_8;
  undefined *local_6;
  int local_4;

  puVar8 = (undefined4 *)&stack0xff7a;
  puVar6 = param_3;
  for (iVar5 = 0x1d; iVar5 != 0; iVar5 = iVar5 + -1) {
    puVar2 = puVar8;
    puVar8 = puVar8 + 1;
    puVar1 = puVar6;
    puVar6 = puVar6 + 1;
    *puVar2 = *puVar1;
  }
  local_12 = *param_2;
  uStack_e = param_2[1];
  SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
               (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
  SETBKCOLOR((HDC16)_DAT_10a8_5714,(COLORREF)CONCAT22(param_1,(int)((ulong)_DAT_10a8_5714 >> 0x10)))
  ;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff88,
                                CONCAT212(in_stack_0000ff86,
                                          CONCAT210(in_stack_0000ff84,
                                                    CONCAT28(in_stack_0000ff82,
                                                             CONCAT26(in_stack_0000ff80,
                                                                      CONCAT24(in_stack_0000ff7e,
                                                                               CONCAT22(
                                                  in_stack_0000ff7c,in_stack_0000ff7a))))))));
  if (param_4 == -1) {
    FUN_1018_5bba(param_1,&local_12,0,unaff_SI,unaff_DI,in_stack_0000ff7a,in_stack_0000ff7c,
                  in_stack_0000ff7e,in_stack_0000ff80,in_stack_0000ff82,in_stack_0000ff84,
                  in_stack_0000ff86,in_stack_0000ff88,in_stack_0000ff8a,in_stack_0000ff8c);
  }
  FUN_1018_5948((int *)&local_12,-1,-1);
  uStack_e = uStack_e & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_5794 + local_12._2_2_ + 2) << 0x10;
  if (param_4 == -1) {
    FUN_1018_5bba(param_1,&local_12,0,unaff_SI,unaff_DI,in_stack_0000ff7a,in_stack_0000ff7c,
                  in_stack_0000ff7e,in_stack_0000ff80,in_stack_0000ff82,in_stack_0000ff84,
                  in_stack_0000ff86,in_stack_0000ff88,in_stack_0000ff8a,in_stack_0000ff8c);
    uVar9 = 0;
    uVar3 = FUN_1010_0ffa(in_stack_0000ff7a);
    FUN_1018_5580(param_1,(int *)&local_12,(LPCSTR)CONCAT22(uVar9,uVar3),
                  (int16)CONCAT214(in_stack_0000ff84,
                                   CONCAT212(in_stack_0000ff82,
                                             CONCAT210(in_stack_0000ff80,
                                                       CONCAT28(in_stack_0000ff7e,
                                                                CONCAT26(in_stack_0000ff7c,
                                                                         CONCAT24(in_stack_0000ff7a,
                                                                                  CONCAT22(unaff_DI,
                                                  unaff_SI))))))));
  }
  local_8 = (*(int *)(param_2 + 1) - (int)PTR_DAT_10a8_0000_10a8_5924) + -6;
  local_a = PTR_DAT_10a8_0000_10a8_5924 + local_8;
  local_6 = (undefined *)(uStack_e._2_2_ + 3);
  if (param_4 == -1) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff88,
                                  CONCAT212(in_stack_0000ff86,
                                            CONCAT210(in_stack_0000ff84,
                                                      CONCAT28(in_stack_0000ff82,
                                                               CONCAT26(in_stack_0000ff80,
                                                                        CONCAT24(in_stack_0000ff7e,
                                                                                 CONCAT22(
                                                  in_stack_0000ff7c,in_stack_0000ff7a))))))));
    local_4 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_8342) {
      iVar5 = 0;
      puVar7 = local_6;
      do {
        FUN_1018_55f6(param_1,local_8 + -8,(int)puVar7,
                      *(int *)(PTR_DAT_10a8_0000_10a8_5914 + iVar5) * 0x87 + 0x71ee,(int16 *)0x0,0,
                      CONCAT22(unaff_DI,unaff_SI),in_stack_0000ff7a,
                      CONCAT212(in_stack_0000ff88,
                                CONCAT210(in_stack_0000ff86,
                                          CONCAT28(in_stack_0000ff84,
                                                   CONCAT26(in_stack_0000ff82,
                                                            CONCAT24(in_stack_0000ff80,
                                                                     CONCAT22(in_stack_0000ff7e,
                                                                              in_stack_0000ff7c)))))
                               ));
        puVar7 = puVar7 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
        iVar5 = iVar5 + 2;
        local_4 = local_4 + 1;
      } while (local_4 < (int)PTR_DAT_10a8_0000_10a8_8342);
    }
  }
  local_6 = (undefined *)(uStack_e._2_2_ + 3);
  SETRECT((RECT16 *)
          CONCAT22(PTR_DAT_10a8_0000_10a8_5924 + local_8 + 2,
                   PTR_DAT_10a8_0000_10a8_5794 + uStack_e._2_2_ + 4),
          (int16)CONCAT214(in_stack_0000ff7c,
                           CONCAT212(in_stack_0000ff7a,
                                     CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,CONCAT24
                                                  (&local_12,
                                                   CONCAT22(local_8 + -2,uStack_e._2_2_ + 2))))))),
          (int16)CONCAT214(in_stack_0000ff8c,
                           CONCAT212(in_stack_0000ff8a,
                                     CONCAT210(in_stack_0000ff88,
                                               CONCAT28(in_stack_0000ff86,
                                                        CONCAT26(in_stack_0000ff84,
                                                                 CONCAT24(in_stack_0000ff82,
                                                                          CONCAT22(in_stack_0000ff80
                                                                                   ,
                                                  in_stack_0000ff7e))))))),(int16)in_stack_0000ff8e,
          (int16)in_stack_0000ff9e);
  if (0 < (int)PTR_DAT_10a8_0000_10a8_8342) {
    local_4 = 0;
    iVar5 = 0;
    do {
      if ((param_4 == -1) || (iVar5 == param_4)) {
        FUN_1018_5bba(param_1,&local_12,(uint)(iVar5 == param_4),unaff_SI,unaff_DI,in_stack_0000ff7a
                      ,in_stack_0000ff7c,in_stack_0000ff7e,in_stack_0000ff80,in_stack_0000ff82,
                      in_stack_0000ff84,in_stack_0000ff86,in_stack_0000ff88,in_stack_0000ff8a,
                      in_stack_0000ff8c);
        iVar10 = 0;
        piVar4 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xf3310a8,
                           (LPCSTR)CONCAT22(*(undefined2 *)
                                             ((int)param_3 +
                                             *(int *)(PTR_DAT_10a8_0000_10a8_5914 + iVar5 * 2) * 2 +
                                             0xc),0x10a8),(VA_LIST16)0x0);
        FUN_1018_55f6(param_1,(int)local_a,(int)local_6,(int)&DAT_10a8_86de,piVar4,iVar10,
                      CONCAT22(unaff_DI,unaff_SI),in_stack_0000ff7a,
                      CONCAT212(in_stack_0000ff88,
                                CONCAT210(in_stack_0000ff86,
                                          CONCAT28(in_stack_0000ff84,
                                                   CONCAT26(in_stack_0000ff82,
                                                            CONCAT24(in_stack_0000ff80,
                                                                     CONCAT22(in_stack_0000ff7e,
                                                                              in_stack_0000ff7c)))))
                               ));
        if (iVar5 == param_4) {
          return;
        }
      }
      FUN_1018_5962((int *)&local_12,0,(int)(PTR_DAT_10a8_0000_10a8_5794 + 6));
      local_6 = local_6 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
      iVar5 = iVar5 + 1;
    } while (iVar5 < (int)PTR_DAT_10a8_0000_10a8_8342);
  }
  return;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far
FUN_1028_3c5a(undefined *param_1,undefined4 *param_2,undefined4 *param_3,int param_4)

{
  undefined4 *puVar1;
  ulong uVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  undefined2 uVar5;
  int16 *piVar6;
  int iVar7;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  undefined4 *puVar8;
  undefined *puVar9;
  undefined2 unaff_SS;
  undefined2 uVar10;
  int iVar11;
  uint in_stack_0000ffb0;
  undefined2 in_stack_0000ffb2;
  undefined2 in_stack_0000ffb4;
  undefined2 in_stack_0000ffb6;
  undefined2 in_stack_0000ffb8;
  undefined2 in_stack_0000ffba;
  undefined2 in_stack_0000ffbc;
  undefined2 in_stack_0000ffbe;
  undefined2 in_stack_0000ffc0;
  undefined2 in_stack_0000ffc2;
  undefined in_stack_0000ffc4 [16];
  undefined in_stack_0000ffd4 [16];
  undefined4 local_1a;
  undefined4 local_14;
  undefined4 local_10;
  undefined *local_c;
  int local_a;
  undefined *local_8;
  undefined4 *local_6;
  undefined2 local_4;

  puVar8 = (undefined4 *)&stack0xffb0;
  for (iVar7 = 0xf; iVar7 != 0; iVar7 = iVar7 + -1) {
    puVar3 = puVar8;
    puVar8 = puVar8 + 1;
    puVar1 = param_3;
    param_3 = param_3 + 1;
    *puVar3 = *puVar1;
  }
  local_14 = *param_2;
  uVar2 = param_2[1];
  local_14._2_2_ = (int)((ulong)local_14 >> 0x10);
  local_10._0_2_ = (int)uVar2;
  local_10 = uVar2 & 0xffff |
             (ulong)(uint)((local_14._2_2_ - (int)local_14) + (int)local_10) << 0x10;
  SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
               (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
  SETBKCOLOR((HDC16)_DAT_10a8_5714,(COLORREF)CONCAT22(param_1,(int)((ulong)_DAT_10a8_5714 >> 0x10)))
  ;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffbe,
                                CONCAT212(in_stack_0000ffbc,
                                          CONCAT210(in_stack_0000ffba,
                                                    CONCAT28(in_stack_0000ffb8,
                                                             CONCAT26(in_stack_0000ffb6,
                                                                      CONCAT24(in_stack_0000ffb4,
                                                                               CONCAT22(
                                                  in_stack_0000ffb2,in_stack_0000ffb0))))))));
  if (param_4 == -1) {
    FUN_1018_5bba(param_1,&local_14,0,unaff_SI,unaff_DI,in_stack_0000ffb0,in_stack_0000ffb2,
                  in_stack_0000ffb4,in_stack_0000ffb6,in_stack_0000ffb8,in_stack_0000ffba,
                  in_stack_0000ffbc,in_stack_0000ffbe,in_stack_0000ffc0,in_stack_0000ffc2);
  }
  FUN_1018_5948((int *)&local_14,-1,-1);
  local_10 = local_10 & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_5794 + local_14._2_2_ + 2) << 0x10;
  if (param_4 == -1) {
    FUN_1018_5bba(param_1,&local_14,0,unaff_SI,unaff_DI,in_stack_0000ffb0,in_stack_0000ffb2,
                  in_stack_0000ffb4,in_stack_0000ffb6,in_stack_0000ffb8,in_stack_0000ffba,
                  in_stack_0000ffbc,in_stack_0000ffbe,in_stack_0000ffc0,in_stack_0000ffc2);
    uVar10 = 0;
    if (in_stack_0000ffb0 == 0xffff) {
      uVar5 = 0xf36;
    }
    else {
      uVar5 = FUN_1010_1074(in_stack_0000ffb0);
    }
    FUN_1018_5580(param_1,(int *)&local_14,(LPCSTR)CONCAT22(uVar10,uVar5),
                  (int16)CONCAT214(in_stack_0000ffba,
                                   CONCAT212(in_stack_0000ffb8,
                                             CONCAT210(in_stack_0000ffb6,
                                                       CONCAT28(in_stack_0000ffb4,
                                                                CONCAT26(in_stack_0000ffb2,
                                                                         CONCAT24(in_stack_0000ffb0,
                                                                                  CONCAT22(unaff_DI,
                                                  unaff_SI))))))));
  }
  local_a = *(int *)param_2 + 4;
  local_8 = (undefined *)(local_10._2_2_ + 3);
  if (param_4 == -1) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffbe,
                                  CONCAT212(in_stack_0000ffbc,
                                            CONCAT210(in_stack_0000ffba,
                                                      CONCAT28(in_stack_0000ffb8,
                                                               CONCAT26(in_stack_0000ffb6,
                                                                        CONCAT24(in_stack_0000ffb4,
                                                                                 CONCAT22(
                                                  in_stack_0000ffb2,in_stack_0000ffb0))))))));
    iVar7 = 0;
    puVar9 = local_8;
    do {
      if (iVar7 != 1) {
        piVar6 = (int16 *)0x0;
        iVar11 = 0;
        uVar10 = FUN_1018_5112(iVar7 + 0x104);
        FUN_1018_55f6(param_1,local_a + 0x4b,(int)puVar9,uVar10,piVar6,iVar11,
                      CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffb0,
                      CONCAT212(in_stack_0000ffbe,
                                CONCAT210(in_stack_0000ffbc,
                                          CONCAT28(in_stack_0000ffba,
                                                   CONCAT26(in_stack_0000ffb8,
                                                            CONCAT24(in_stack_0000ffb6,
                                                                     CONCAT22(in_stack_0000ffb4,
                                                                              in_stack_0000ffb2)))))
                               ));
      }
      puVar9 = puVar9 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
      iVar7 = iVar7 + 1;
    } while (iVar7 < 6);
  }
  local_c = PTR_DAT_10a8_0000_10a8_5924 + local_a + 0x51;
  puVar9 = (undefined *)(local_10._2_2_ + 3);
  SETRECT((RECT16 *)CONCAT22(local_c + 2,PTR_DAT_10a8_0000_10a8_5794 + local_10._2_2_ + 4),
          (int16)CONCAT214(in_stack_0000ffb2,
                           CONCAT212(in_stack_0000ffb0,
                                     CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,CONCAT24
                                                  (&local_14,
                                                   CONCAT22(local_a + 0x4f,local_10._2_2_ + 2)))))))
          ,(int16)CONCAT214(in_stack_0000ffc2,
                            CONCAT212(in_stack_0000ffc0,
                                      CONCAT210(in_stack_0000ffbe,
                                                CONCAT28(in_stack_0000ffbc,
                                                         CONCAT26(in_stack_0000ffba,
                                                                  CONCAT24(in_stack_0000ffb8,
                                                                           CONCAT22(
                                                  in_stack_0000ffb6,in_stack_0000ffb4))))))),
          (int16)in_stack_0000ffc4,(int16)in_stack_0000ffd4);
  local_4 = 0;
  local_6 = (undefined4 *)&stack0xffd2;
  iVar7 = 0;
  do {
    if (local_6 == (undefined4 *)&stack0xffd6) {
      puVar9 = puVar9 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
      FUN_1018_5962((int *)&local_14,0,(int)(PTR_DAT_10a8_0000_10a8_5794 + 6));
    }
    if ((param_4 == -1) || (param_4 == iVar7)) {
      FUN_1018_5bba(param_1,&local_14,(uint)(param_4 == iVar7),unaff_SI,unaff_DI,in_stack_0000ffb0,
                    in_stack_0000ffb2,in_stack_0000ffb4,in_stack_0000ffb6,in_stack_0000ffb8,
                    in_stack_0000ffba,in_stack_0000ffbc,in_stack_0000ffbe,in_stack_0000ffc0,
                    in_stack_0000ffc2);
      iVar11 = 0;
      uVar4 = *local_6;
      piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xf4110a8,
                         (LPCSTR)CONCAT22((int)uVar4,0x10a8),(VA_LIST16)((ulong)uVar4 >> 0x10));
      FUN_1018_55f6(param_1,(int)local_c,(int)puVar9,(int)&DAT_10a8_86de,piVar6,iVar11,
                    CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffb0,
                    CONCAT212(in_stack_0000ffbe,
                              CONCAT210(in_stack_0000ffbc,
                                        CONCAT28(in_stack_0000ffba,
                                                 CONCAT26(in_stack_0000ffb8,
                                                          CONCAT24(in_stack_0000ffb6,
                                                                   CONCAT22(in_stack_0000ffb4,
                                                                            in_stack_0000ffb2)))))))
      ;
      if (param_4 == iVar7) {
        return;
      }
    }
    FUN_1018_5962((int *)&local_14,0,(int)(PTR_DAT_10a8_0000_10a8_5794 + 6));
    iVar7 = iVar7 + 1;
    puVar9 = puVar9 + (int)(PTR_DAT_10a8_0000_10a8_5794 + 6);
    local_6 = local_6 + 1;
  } while (local_6 < &local_1a);
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int16 * __cdecl16far FUN_1028_3e74(undefined4 param_1,undefined2 param_2_00,int param_3,int param_4)

{
  byte *pbVar1;
  uint *puVar2;
  long *plVar3;
  undefined4 uVar4;
  bool16 bVar5;
  undefined *puVar6;
  uint *puVar7;
  uint *puVar8;
  undefined4 *puVar9;
  undefined *puVar10;
  int iVar11;
  int16 *piVar12;
  uint uVar13;
  ulong uVar14;
  undefined4 *puVar15;
  undefined4 *puVar16;
  undefined2 in_DX;
  undefined2 uVar17;
  undefined2 unaff_SI;
  undefined *puVar18;
  HDC16 unaff_DI;
  uint unaff_SS;
  uint uVar19;
  LRESULT LVar20;
  undefined uVar21;
  undefined uVar22;
  undefined uVar23;
  char cVar24;
  undefined uVar25;
  byte bVar26;
  undefined uVar27;
  uint in_stack_0000fe50;
  undefined2 in_stack_0000fe52;
  WPARAM16 in_stack_0000fe54;
  undefined2 in_stack_0000fe56;
  undefined2 in_stack_0000fe58;
  undefined2 local_15c;
  undefined4 local_e8;
  undefined4 local_9c;
  undefined4 local_74 [8];
  long local_52;
  long local_38 [2];
  uint local_30;
  undefined4 local_2a;
  undefined *local_26;
  undefined4 local_24;
  int local_20;
  undefined4 local_1e;
  undefined4 local_1a;
  uint local_16;
  undefined4 *local_14;
  undefined *local_12;
  int16 *local_10;
  undefined4 local_e;
  uint **local_a;
  ulong local_6;

  uVar19 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_2a._0_2_ = (undefined *)0x0;
  local_2a._2_2_ = (undefined4 *)0x0;
  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)0x0) {
    return (int16 *)0x0;
  }
  bVar5 = PTINRECT((RECT16 *)param_1,SUB41((ulong)param_1 >> 0x10,0));
  uVar21 = (undefined)(unaff_SS >> 8);
  if (bVar5 == 0) {
    bVar5 = PTINRECT((RECT16 *)param_1,SUB41((ulong)param_1 >> 0x10,0));
    puVar18 = PTR_DAT_10a8_0000_10a8_7b52;
    if (bVar5 == 0) {
      if (param_4 != 0) {
        return (int16 *)0x0;
      }
      bVar5 = PTINRECT((RECT16 *)param_1,SUB41((ulong)param_1 >> 0x10,0));
      if (bVar5 == 0) {
        bVar5 = PTINRECT((RECT16 *)param_1,SUB41((ulong)param_1 >> 0x10,0));
        if (bVar5 == 0) {
          bVar5 = PTINRECT((RECT16 *)param_1,SUB41((ulong)param_1 >> 0x10,0));
          if (bVar5 == 0) {
            bVar5 = PTINRECT((RECT16 *)param_1,SUB41((ulong)param_1 >> 0x10,0));
            if (bVar5 != 0) {
              if (param_3 == 0) {
                if (PTR_DAT_10a8_0000_10a8_7b68 == (undefined *)0xffff) {
                  bVar26 = 4;
                  uVar23 = 0xff;
                  uVar25 = 0xff;
                }
                else {
                  bVar26 = 1;
                  uVar23 = SUB21(PTR_DAT_10a8_0000_10a8_7b68,0);
                  uVar25 = (undefined)((uint)PTR_DAT_10a8_0000_10a8_7b68 >> 8);
                }
                uVar21 = SUB21(PTR_DAT_10a8_0000_10a8_7b62,0);
                uVar22 = (undefined)((uint)PTR_DAT_10a8_0000_10a8_7b62 >> 8);
                puVar18 = (undefined *)&DAT_10a8_0002;
LAB_1028_4429:
                FUN_1028_2728(CONCAT11(uVar22,uVar21),(int)puVar18,CONCAT11(uVar25,uVar23),
                              (uint)bVar26,(undefined *)0x0);
                return (int16 *)0x0;
              }
              goto LAB_1028_440f;
            }
            bVar5 = PTINRECT((RECT16 *)param_1,SUB41((ulong)param_1 >> 0x10,0));
            puVar18 = (undefined *)0xffff;
            if (bVar5 != 0) {
              if (param_3 == 0) {
                local_6 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000fe52,
                                                          CONCAT212(in_stack_0000fe50,
                                                                    CONCAT210(unaff_DI,CONCAT28(
                                                  unaff_SI,CONCAT17((char)((uint)
                                                  PTR_DAT_10a8_0000_10a8_8398 >> 8),
                                                  CONCAT16((char)PTR_DAT_10a8_0000_10a8_8398,
                                                           0x40700000000)))))),in_stack_0000fe54,
                                      CONCAT22(in_stack_0000fe58,in_stack_0000fe56));
                if (((int)local_6 == -1) && ((int)(local_6 >> 0x10) == -1)) {
                  return (int16 *)0x0;
                }
                if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
                  puVar18 = PTR_DAT_10a8_0000_10a8_7b62;
                }
                iVar11 = FUN_1010_0f50((int)PTR_DAT_10a8_0000_10a8_7bd6,(int)local_6,
                                       (undefined4 *)&local_15c,(int)puVar18);
                if (iVar11 == 0) {
                  return (int16 *)0x0;
                }
                bVar26 = 2;
                uVar23 = (undefined)local_15c;
                uVar25 = (undefined)((uint)local_15c >> 8);
                uVar21 = SUB21(PTR_DAT_10a8_0000_10a8_7b50,0);
                uVar22 = (undefined)((uint)PTR_DAT_10a8_0000_10a8_7b50 >> 8);
                puVar18 = PTR_DAT_10a8_0000_10a8_7b4c;
                goto LAB_1028_4429;
              }
              goto LAB_1028_440f;
            }
          }
          else {
            puVar18 = PTR_DAT_10a8_0000_10a8_7b68;
            puVar10 = PTR_DAT_10a8_0000_10a8_7b62;
            if (PTR_DAT_10a8_0000_10a8_7b4c != (undefined *)&DAT_10a8_0002) {
              puVar18 = PTR_DAT_10a8_0000_10a8_7bd6;
              puVar10 = (undefined *)0xffff;
            }
            uVar22 = SUB21(puVar10,0);
            uVar23 = (undefined)((uint)puVar10 >> 8);
            puVar9 = &local_e8;
            LVar20 = SENDMESSAGE(0,(uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT111(uVar23,
                                                  CONCAT110(uVar22,CONCAT19((char)((uint)puVar9 >> 8
                                                                                  ),CONCAT18((char)
                                                  puVar9,CONCAT17((char)((uint)
                                                  PTR_DAT_10a8_0000_10a8_8398 >> 8),
                                                  CONCAT16((char)PTR_DAT_10a8_0000_10a8_8398,
                                                           0x40700000000)))))))),in_stack_0000fe50,
                                 CONCAT22(in_stack_0000fe54,in_stack_0000fe52));
            uVar17 = (undefined2)((ulong)LVar20 >> 0x10);
            FUN_1010_0f50((int)puVar18,(int)LVar20,puVar9,CONCAT11(uVar23,uVar22));
            if (local_e8._2_2_ != PTR_DAT_10a8_0001_10a8_00c0) {
              return (int16 *)0x0;
            }
            iVar11 = FUN_1028_1e5c(CONCAT13(uVar21,CONCAT12((char)unaff_SS,&local_e8)),1);
            local_1e = CONCAT22(uVar17,iVar11);
            local_16 = (uint)local_9c;
            local_20 = 0;
            puVar18 = (undefined *)&DAT_10a8_0001;
            local_14 = local_9c._2_2_;
            if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
              puVar10 = (undefined *)((int)local_9c._2_2_ + (int)PTR_DAT_10a8_0000_10a8_7bb0) +
                        CARRY2(local_16,(uint)PTR_DAT_10a8_0000_10a8_7bae);
              local_1a = CONCAT22(puVar10,PTR_DAT_10a8_0000_10a8_7bae + local_16);
              uVar13 = FUN_1028_1e5c(&PTR_DAT_10a8_0000_10a8_7b62,1);
              local_2a._0_2_ = PTR_DAT_10a8_0000_10a8_7bae + (local_16 - uVar13);
              local_2a._2_2_ =
                   (undefined4 *)
                   (PTR_DAT_10a8_0000_10a8_7bb0 +
                   (int)local_14 +
                   (uint)CARRY2(local_16 - uVar13,(uint)PTR_DAT_10a8_0000_10a8_7bae) +
                   (-(uint)(local_16 < uVar13) - (int)puVar10));
            }
            else {
              local_1a = local_9c + _PTR_DAT_10a8_0000_10a8_7bf8;
            }
          }
        }
        else {
          if (PTR_DAT_10a8_0000_10a8_7b68 == (undefined *)0xffff) {
            return (int16 *)0x0;
          }
          iVar11 = FUN_1028_1e5c(&PTR_DAT_10a8_0000_10a8_7b62,1);
          local_1e = CONCAT22(in_DX,iVar11);
          iVar11 = FUN_1010_02b0((int)PTR_DAT_10a8_0000_10a8_7b68,local_74);
          if (iVar11 == 0) {
            return (int16 *)0x0;
          }
          local_16 = (uint)_PTR_DAT_10a8_0000_10a8_7bae;
          local_14 = (undefined4 *)((ulong)_PTR_DAT_10a8_0000_10a8_7bae >> 0x10);
          uVar14 = _PTR_DAT_10a8_0000_10a8_7bae + local_52;
          local_1e._2_2_ = (uint)(uVar14 >> 0x10);
          if ((long)local_1e < (long)uVar14) {
            uVar14 = local_1e & 0xffff;
          }
          local_1a = uVar14 & 0xffff | (ulong)local_1e._2_2_ << 0x10;
          local_20 = 0;
          puVar18 = (undefined *)&DAT_10a8_0002;
        }
      }
      else {
        if ((PTR_DAT_10a8_0000_10a8_7b4c != (undefined *)&DAT_10a8_0002) && (param_3 != 0)) {
          return (int16 *)0x0;
        }
        local_1a = 9;
        local_1e = 9;
        local_16 = (uint)(*(byte *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 +
                                    (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 10) >> 4);
        local_14 = (undefined4 *)0x0;
        local_20 = 6;
        puVar18 = (undefined *)0x0;
      }
    }
    else {
      local_26 = (undefined *)0xffff;
      if (param_3 != 0) {
        return (int16 *)PTR_DAT_10a8_0000_10a8_7ad0;
      }
      if (param_4 == 0) {
        _PTR_DAT_10a8_0000_10a8_1144 = 0xb4000a;
        _DAT_10a8_1148 = 0x7c44;
        FUN_1018_50de(0xf0,(char *)0x7c44);
        goto LAB_1028_424d;
      }
      local_10 = (int16 *)0xffff;
      puVar9 = (undefined4 *)
               (PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 4);
      local_12 = PTR_DAT_10a8_0000_10a8_7bc8;
      uVar4 = *puVar9;
      FUN_1010_18d2((int)uVar4,(int)((ulong)uVar4 >> 0x10),0x87,local_38);
      in_stack_0000fe50 = local_30;
      if (local_30 == 0xffff) {
        in_stack_0000fe50 = 0xe000;
      }
      in_stack_0000fe52 = 0xffff;
      if (((PTR_DAT_10a8_0000_10a8_7bc6[(int)puVar18 * 0x12 + 0xb] & 3) == 1) ||
         ((PTR_DAT_10a8_0000_10a8_7bc6[(int)puVar18 * 0x12 + 0xb] & 3) == 4)) {
        local_10 = (int16 *)0x0;
      }
      local_e._0_2_ = 2;
      local_e._2_2_ = 0;
      if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
        puVar15 = (undefined4 *)&stack0xfe54;
        local_a = _PTR_DAT_10a8_0000_10a8_006e;
        local_e._0_2_ = 2;
        local_14 = puVar9;
        do {
          puVar7 = *local_a;
          uVar13 = *(uint *)((int)local_a + 2);
          local_6 = local_6 & 0xffff | (ulong)uVar13 << 0x10;
          puVar9 = local_14;
          if ((uVar13 | (uint)puVar7) == 0) break;
          if ((*(long *)(puVar7 + 4) == local_38[0]) &&
             ((undefined *)*puVar7 != PTR_DAT_10a8_0000_10a8_7b62)) {
            if (((*(byte *)((int)local_14 + 7) & 3) == 2) && (*puVar7 == *(uint *)(local_14 + 1))) {
              local_10 = (int16 *)(HMENU16)local_e;
            }
            uVar13 = *puVar7;
            puVar16 = (undefined4 *)((int)puVar15 + 2);
            *(uint *)puVar15 = uVar13 & 0xff | (uint)(byte)((ulong)uVar13 >> 8) << 8 | 0x8000;
            local_e._0_2_ = (HMENU16)local_e + 1;
            puVar9 = local_14;
            puVar15 = puVar16;
            if (&local_e8 <= puVar16) break;
          }
          local_a = (uint **)((ulong)local_a & 0xffff0000 | (ulong)((int)local_a + 4));
          local_e._2_2_ = local_e._2_2_ + 1;
          puVar9 = local_14;
        } while (local_e._2_2_ < (int)PTR_DAT_10a8_0000_10a8_83c6);
      }
      if ((HMENU16)local_e == 2) {
        local_e._0_2_ = 1;
      }
      puVar10 = FUN_1058_0cc6((int)PTR_DAT_10a8_0000_10a8_00ca,(int)param_1,
                              (int)((ulong)param_1 >> 0x10),(HMENU16)local_e,(int)&stack0xfe50,0,
                              (HMENU16)local_10);
      puVar18 = local_26;
      if (-1 < (int)puVar10) {
        if ((puVar10 == (undefined *)0x0) && (in_stack_0000fe50 == 0xe000)) {
          pbVar1 = (byte *)((int)puVar9 + 7);
          *pbVar1 = *pbVar1 & 0xfc;
          *(undefined2 *)(puVar9 + 1) = 0xffff;
        }
        else {
          if (((&stack0xfe51)[(int)puVar10 * 2] & 0x80) == 0) {
            uVar13 = *(uint *)((int)puVar9 + 6);
            *(uint *)((int)puVar9 + 6) =
                 uVar13 & 0xff | (uint)((byte)((ulong)uVar13 >> 8) & 0xfd) << 8 | 0x100;
            uVar13 = in_stack_0000fe50;
          }
          else {
            uVar13 = *(uint *)((int)puVar9 + 6);
            *(uint *)((int)puVar9 + 6) =
                 uVar13 & 0xff | (uint)((byte)((ulong)uVar13 >> 8) & 0xfe) << 8 | 0x200;
            uVar13 = *(uint *)(&stack0xfe50 + (int)puVar10 * 2);
            uVar13 = uVar13 & 0xff | ((byte)((ulong)uVar13 >> 8) & 0x7f) << 8;
          }
          *(uint *)(puVar9 + 1) = uVar13;
        }
        FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
        FUN_1028_4834();
        FUN_1028_48dc((uint)PTR_DAT_10a8_0000_10a8_7b52,CONCAT22(unaff_DI,unaff_SI));
        puVar18 = local_26;
      }
    }
  }
  else {
    local_26 = (undefined *)0xffff;
    if (param_3 != 0) {
      return (int16 *)PTR_DAT_10a8_0000_10a8_7ad0;
    }
    if (param_4 == 0) {
      _PTR_DAT_10a8_0000_10a8_1144 = CONCAT22(PTR_DAT_10a8_0000_10a8_1146,6);
LAB_1028_424d:
      FUN_1058_0832((char)PTR_DAT_10a8_0000_10a8_00ca,(char)param_1,(char)((ulong)param_1 >> 0x10));
      puVar18 = local_26;
    }
    else {
      local_14 = (undefined4 *)s_QuikLoad_10a8_0f50;
      local_12 = (undefined *)0xf62;
      local_10 = (int16 *)0xf74;
      local_e = 0xf970f87;
      puVar6 = FUN_1058_0cc6((int)PTR_DAT_10a8_0000_10a8_00ca,(RECT16 *)param_1,
                             (int)((ulong)param_1 >> 0x10),5,0,(int)&local_14,0xffff);
      uVar14 = _PTR_DAT_10a8_0000_10a8_7bc6;
      puVar10 = PTR_DAT_10a8_0000_10a8_7b52;
      puVar18 = local_26;
      if (puVar6 != (undefined *)0xffff) {
        puVar7 = (uint *)(PTR_DAT_10a8_0000_10a8_7bc6 +
                         (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0xc);
        if (puVar6 == (undefined *)0x0) {
          uVar19 = *puVar7;
          *puVar7 = uVar19 & 0xff | (uint)((byte)((ulong)uVar19 >> 8) & 0xf) << 8 | 0x8000;
          puVar8 = (uint *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)puVar10 * 0x12 + 0xe);
          iVar11 = 3;
          local_6 = uVar14 & 0xffff0000 | ZEXT24(puVar8);
          local_a = (uint **)(uVar14 & 0xffff0000 | ZEXT24(puVar7));
          do {
            uVar19 = *puVar8;
            *puVar8 = uVar19 & 0xff | (uint)((byte)((ulong)uVar19 >> 8) & 0xf) << 8 | 0x1000;
            puVar8 = puVar8 + 1;
            iVar11 = iVar11 + -1;
          } while (iVar11 != 0);
LAB_1028_3f60:
          pbVar1 = PTR_DAT_10a8_0000_10a8_7bc6 + (int)puVar10 * 0x12 + 0x15;
          *pbVar1 = *pbVar1 & 0xf;
          uVar19 = unaff_SS;
        }
        else {
          if (puVar6 == (undefined *)&DAT_10a8_0001) {
            uVar19 = *puVar7;
            *puVar7 = uVar19 & 0xff | (uint)((byte)((ulong)uVar19 >> 8) & 0xf) << 8 | 0x8000;
            puVar8 = (uint *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)puVar10 * 0x12 + 0xe);
            iVar11 = 3;
            local_6 = local_6 & 0xffff0000 | ZEXT24(puVar8);
            local_a = (uint **)(uVar14 & 0xffff0000 | ZEXT24(puVar7));
            do {
              uVar19 = *puVar8;
              *puVar8 = uVar19 & 0xff | (uint)((byte)((ulong)uVar19 >> 8) & 0xf) << 8 | 0x5000;
              puVar8 = puVar8 + 1;
              iVar11 = iVar11 + -1;
            } while (iVar11 != 0);
            goto LAB_1028_3f60;
          }
          if (puVar6 == (undefined *)&DAT_10a8_0002) {
            uVar19 = *puVar7;
            *puVar7 = uVar19 & 0xff | (uint)((byte)((ulong)uVar19 >> 8) & 0xf) << 8 | 0x8000;
            puVar8 = (uint *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)puVar10 * 0x12 + 0xe);
            iVar11 = 3;
            local_6 = local_6 & 0xffff0000 | ZEXT24(puVar8);
            local_a = (uint **)(uVar14 & 0xffff0000 | ZEXT24(puVar7));
            do {
              uVar19 = *puVar8;
              *puVar8 = uVar19 & 0xff | (uint)((byte)((ulong)uVar19 >> 8) & 0xf) << 8 | 0x4000;
              *puVar8 = 0x4fa0;
              puVar8 = puVar8 + 1;
              iVar11 = iVar11 + -1;
            } while (iVar11 != 0);
            goto LAB_1028_3f60;
          }
          if (puVar6 == (undefined *)&DAT_10a8_0003) {
            iVar11 = 4;
            local_a = (uint **)(_PTR_DAT_10a8_0000_10a8_7bc6 & 0xffff0000 | ZEXT24(puVar7));
            do {
              uVar19 = *puVar7;
              *puVar7 = uVar19 & 0xff | (uint)((byte)((ulong)uVar19 >> 8) & 0xf) << 8 | 0xa000;
              puVar7 = puVar7 + 1;
              iVar11 = iVar11 + -1;
            } while (iVar11 != 0);
            goto LAB_1028_3f60;
          }
          if (puVar6 == (undefined *)&PTR_LOOP_10a8_0004) {
            local_a = (uint **)(_PTR_DAT_10a8_0000_10a8_7bc6 & 0xffff0000 | ZEXT24(puVar7));
            iVar11 = 5;
            do {
              pbVar1 = (byte *)((int)puVar7 + 1);
              *pbVar1 = *pbVar1 & 0xf;
              puVar7 = puVar7 + 1;
              iVar11 = iVar11 + -1;
              uVar19 = unaff_SS;
            } while (iVar11 != 0);
          }
        }
        FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
        FUN_1028_4902(1);
        FUN_1020_0736((int16 *)0x0,0x100);
        puVar18 = local_26;
      }
    }
  }
  if (puVar18 == (undefined *)0xffff) {
    return (int16 *)0x0;
  }
  if (param_3 != 0) {
LAB_1028_440f:
    return *(int16 **)&PTR_DAT_10a8_0000_10a8_834a;
  }
  iVar11 = (*(int *)((int)puVar18 * 8 + 0x7ad6) - *(int *)((int)puVar18 * 8 + 0x7ad2)) + -2;
  local_a = (uint **)(long)iVar11;
  cVar24 = (char)(iVar11 >> 0xf);
  local_e = CONCAT13(cVar24,CONCAT12(cVar24,iVar11)) / (long)(local_1e + 1) >> 1;
  piVar12 = (int16 *)GETDC(*(HWND16 *)&PTR_DAT_10a8_0000_10a8_00ca);
  SETCAPTURE(*(HWND16 *)&PTR_DAT_10a8_0000_10a8_00ca);
  local_24 = 0xffffffff;
  if ((long)local_1e < (long)local_1a) {
    local_1a = local_1e & 0xffff;
    local_1a._2_2_ = (undefined4 *)local_1e._2_2_;
  }
  local_1a = local_1a & 0xffff | ZEXT24(local_1a._2_2_) << 0x10;
  if (((int)local_2a._2_2_ < 1) && ((int)local_2a._2_2_ < 0)) {
    local_2a._2_2_ = (undefined4 *)0x0;
    local_2a._0_2_ = (undefined *)0x0;
  }
  local_12 = (undefined *)0x1;
  local_26 = puVar18;
  local_10 = piVar12;
LAB_1028_453e:
  if ((local_12 != (undefined *)0x0) ||
     (iVar11 = FUN_1018_6506((undefined2 *)&param_1,
                             CONCAT210(in_stack_0000fe56,
                                       CONCAT28(in_stack_0000fe54,
                                                CONCAT26(in_stack_0000fe52,
                                                         CONCAT24(in_stack_0000fe50,
                                                                  CONCAT22(unaff_DI,unaff_SI)))))),
     iVar11 != 0)) {
    local_12 = (undefined *)0x0;
    if ((int)local_24 == (int)param_1) goto code_r0x10284563;
    goto LAB_1028_456b;
  }
  if (*(int *)&PTR_DAT_10a8_0000_10a8_7b58 == 4) {
    uVar13 = *(uint *)&PTR_DAT_10a8_0000_10a8_7b5a;
  }
  else {
    uVar13 = *(uint *)&PTR_DAT_10a8_0000_10a8_7b58;
  }
  if (puVar18 == (undefined *)&DAT_10a8_0002) {
    FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
    FUN_1010_02b0(-1,local_74);
    FUN_1020_0736((int16 *)0x0,(int)s_Maxed_Out_10a8_421a + 6);
    if (((uVar13 & 1) == 0) ||
       (*(int *)&PTR_DAT_10a8_0000_10a8_7b5c != *(int *)&PTR_DAT_10a8_0000_10a8_7b68)) {
      if (((uVar13 & 2) != 0) &&
         (uVar4 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e,
         **(int **)(*(int *)&PTR_DAT_10a8_0000_10a8_7b5e * 4 + (int)uVar4) ==
         *(int *)&PTR_DAT_10a8_0000_10a8_7b62)) {
        INVALIDATERECT(1,(RECT16 *)0x0,0);
      }
      goto LAB_1028_478b;
    }
  }
  else {
    if (puVar18 != (undefined *)&DAT_10a8_0001) {
      if (puVar18 == (undefined *)0x0) {
        FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
      }
      goto LAB_1028_478b;
    }
    FUN_1010_0cda(0xffff,&local_e8);
    if (*(int *)&PTR_DAT_10a8_0000_10a8_7b4c == 2) {
      FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
      FUN_1020_0736((int16 *)0x0,(int)s_Maxed_Out_10a8_421a + 6);
      goto LAB_1028_478b;
    }
    FUN_1010_02b0(-1,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bd6);
    if (((uVar13 & 1) == 0) ||
       (*(int *)&PTR_DAT_10a8_0000_10a8_7b5c != *(int *)&PTR_DAT_10a8_0000_10a8_7bd6))
    goto LAB_1028_478b;
  }
  FUN_1008_7bf4();
LAB_1028_478b:
  RELEASECAPTURE();
  piVar12 = RELEASEDC(local_10,*(HWND16 *)&PTR_DAT_10a8_0000_10a8_00ca,unaff_DI);
  return piVar12;
code_r0x10284563:
  if (local_24._2_2_ == param_1._2_2_) goto LAB_1028_453e;
LAB_1028_456b:
  local_24 = param_1;
  uVar13 = (int)param_1 - *(int *)((int)puVar18 * 8 + 0x7ad2);
  iVar11 = ((int)uVar13 >> 0xf) + local_e._2_2_ + (uint)CARRY2(uVar13,(HMENU16)local_e);
  uVar14 = (long)(CONCAT13((char)((uint)iVar11 >> 8),
                           CONCAT12((char)iVar11,uVar13 + (HMENU16)local_e)) * local_1e) /
           (long)local_a;
  local_1a._2_2_ = (undefined4 *)(uVar14 >> 0x10);
  if ((long)local_1a < (long)uVar14) {
    uVar14 = local_1a & 0xffff;
  }
  uVar13 = (uint)uVar14;
  if (((int)local_1a._2_2_ <= (int)local_2a._2_2_) &&
     (((int)local_1a._2_2_ < (int)local_2a._2_2_ || (uVar13 < (undefined *)local_2a)))) {
    uVar13 = (uint)(undefined *)local_2a;
    local_1a._2_2_ = local_2a._2_2_;
  }
  local_6 = CONCAT22(local_1a._2_2_,uVar13);
  if ((uVar13 == local_16) && (local_1a._2_2_ == local_14)) goto LAB_1028_453e;
  if (puVar18 == (undefined *)0x0) {
    iVar11 = *(int *)&PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + *(int *)&PTR_DAT_10a8_0000_10a8_7bc6;
    uVar17 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_7bc8;
    puVar2 = (uint *)(iVar11 + 10);
    *puVar2 = *puVar2 ^ (byte)(*(byte *)(iVar11 + 10) ^ (byte)(uVar13 << 4)) & 0xf0;
    FUN_1020_0736((int16 *)0x0,0x4020);
  }
  else {
    uVar22 = (undefined)local_20;
    uVar23 = (undefined)((uint)local_20 >> 8);
    if (puVar18 == (undefined *)&DAT_10a8_0002) {
      local_52 = local_52 + (CONCAT22(local_14,local_16) - local_6);
      *(ulong *)&PTR_DAT_10a8_0000_10a8_7bae = local_6;
      puVar9 = (undefined4 *)0x0;
      uVar25 = 0;
      uVar27 = 0;
    }
    else {
      if (puVar18 != (undefined *)&DAT_10a8_0001) goto LAB_1028_4694;
      if (*(int *)&PTR_DAT_10a8_0000_10a8_7b4c == 2) {
        plVar3 = (long *)&PTR_DAT_10a8_0000_10a8_7bae;
        *plVar3 = *plVar3 + (CONCAT22(local_14,local_16) - local_6);
        FUN_1028_21d4(CONCAT22(0x7ae2,piVar12),(uint)&PTR_DAT_10a8_0000_10a8_7b62,uVar19,local_20);
      }
      else {
        plVar3 = (long *)&PTR_DAT_10a8_0000_10a8_7bf8;
        *plVar3 = *plVar3 + (CONCAT22(local_14,local_16) - local_6);
        FUN_1020_0736((int16 *)0x0,(int)s_Small_Colonizer_10a8_3ffe + 3);
      }
      local_9c = local_6;
      uVar22 = (undefined)local_20;
      uVar23 = (undefined)((uint)local_20 >> 8);
      puVar9 = &local_e8;
      uVar25 = (char)unaff_SS;
      uVar27 = uVar21;
    }
    FUN_1028_21d4(CONCAT22((int)puVar18 * 8 + 0x7ad2,piVar12),(uint)puVar9,CONCAT11(uVar27,uVar25),
                  CONCAT11(uVar23,uVar22));
  }
LAB_1028_4694:
  local_16 = (uint)local_6;
  local_14 = (undefined4 *)(local_6 >> 0x10);
  goto LAB_1028_453e;
}



undefined2 __cdecl16far FUN_1028_47a0(void)

{
  VA_LIST16 pWVar1;
  WPARAM16 unaff_BP;
  undefined2 unaff_SI;
  VA_LIST16 *ppWVar2;
  undefined2 unaff_DI;
  uint *puVar3;
  ulong uVar4;
  LPARAM in_stack_00000000;
  undefined2 in_stack_0000fffa;
  undefined2 in_stack_0000fffc;

  uVar4 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000fffc,
                                          CONCAT212(in_stack_0000fffa,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_82c0,0x40500000000))))),
                      unaff_BP,in_stack_00000000);
  uVar4 = uVar4 & 0xffff;
  puVar3 = (uint *)&PTR_DAT_10a8_0000_10a8_721e;
  ppWVar2 = (VA_LIST16 *)&PTR_DAT_10a8_0000_10a8_7b6e;
  do {
    if (0 < (int)*ppWVar2) {
      pWVar1 = ppWVar2[0x10];
      if (0 < (int)pWVar1) {
        pWVar1 = (VA_LIST16)(((long)(int)pWVar1 * 100) / (long)(ulong)*puVar3);
      }
      _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xf9d10a8,
                (LPCSTR)CONCAT22((-(uint)(pWVar1 == (VA_LIST16)0x0) & 0xffa8) + 0x78,0x10a8),
                *ppWVar2);
      uVar4 = SENDMESSAGE((HWND16)&DAT_10a8_86de,
                          (uint16)CONCAT214(pWVar1,CONCAT212(in_stack_0000fffa,
                                                             CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_82c0,0x401000010a8
                                                          ))))),unaff_BP,in_stack_00000000);
      uVar4 = uVar4 & 0xffff;
    }
    puVar3 = (uint *)((int)puVar3 + 0x87);
    ppWVar2 = ppWVar2 + 1;
  } while (ppWVar2 < (VA_LIST16 *)&PTR_DAT_10a8_0000_10a8_7b8e);
  return (int)uVar4;
}



void __cdecl16far FUN_1028_4834(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  HWND16 hwnd;
  int iVar3;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  undefined4 *puVar4;
  undefined2 unaff_SS;
  undefined4 in_stack_0000ffe6;
  WPARAM16 in_stack_0000ffea;
  LPARAM in_stack_0000ffec;
  int local_8;
  int local_6;

  SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000ffe6,
                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_83a0,0x40500000000)))),
              in_stack_0000ffea,in_stack_0000ffec);
  local_8 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_7bc4) {
    local_6 = 0;
    do {
      puVar2 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_7bc6 + local_6);
      puVar4 = (undefined4 *)&stack0xffe6;
      for (iVar3 = 4; puVar2 = puVar2 + 1, iVar3 != 0; iVar3 = iVar3 + -1) {
        puVar1 = puVar4;
        puVar4 = puVar4 + 1;
        *puVar1 = *puVar2;
      }
      *(undefined2 *)puVar4 = *(undefined2 *)puVar2;
      hwnd = FUN_1010_1784((byte)((ulong)in_stack_0000ffec >> 8) & 3,in_stack_0000ffea,
                           in_stack_0000ffe6);
      SENDMESSAGE(hwnd,(uint16)CONCAT412(in_stack_0000ffe6,
                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_83a0,0x401000010a8)))),
                  in_stack_0000ffea,in_stack_0000ffec);
      local_6 = local_6 + 0x12;
      local_8 = local_8 + 1;
    } while (local_8 < (int)PTR_DAT_10a8_0000_10a8_7bc4);
  }
  FUN_1028_48dc((uint)PTR_DAT_10a8_0000_10a8_7b52,CONCAT22(unaff_DI,unaff_SI));
  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
    FUN_1020_0736((int16 *)0x0,0x120);
  }
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1028_48dc(uint param_1,LPARAM param_2)

{
  undefined2 unaff_BP;
  undefined4 in_stack_00000000;
  undefined2 in_stack_0000000a;

  SENDMESSAGE(0,(uint16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                                  CONCAT28(unaff_BP,CONCAT26(PTR_DAT_10a8_0000_10a8_83a0,
                                                             CONCAT24(0x407,(ulong)param_1 << 0x10))
                                          )),(WPARAM16)param_2,
              CONCAT22(in_stack_0000000a,param_2._2_2_));
  UPDATEWINDOW((HWND16)PTR_DAT_10a8_0000_10a8_83a0);
  FUN_1028_4902(0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: ram

bool16 __cdecl16far FUN_1028_4902(int param_1)

{
  undefined2 *puVar1;
  undefined4 *puVar2;
  char *pcVar3;
  undefined2 *puVar4;
  undefined4 *puVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  HWND16 HVar9;
  bool16 bVar10;
  VA_LIST16 unaff_SI;
  char *pcVar11;
  undefined4 *puVar12;
  undefined *puVar13;
  undefined2 unaff_DI;
  undefined2 *puVar14;
  undefined2 *puVar15;
  undefined4 *puVar16;
  LRESULT LVar17;
  LRESULT LVar18;
  undefined2 uVar19;
  undefined2 uVar20;
  undefined *puVar21;
  undefined2 in_stack_0000ffea;
  undefined2 in_stack_0000ffec;
  uint in_stack_0000ffee;
  LPARAM in_stack_0000fff0;
  uint local_a;
  char **local_6;
  uint local_4;

  local_a = 0xffff;
  if (param_1 == 0) {
    uVar19 = 0x40e;
    uVar6 = (byte)PTR_DAT_10a8_0000_10a8_7bc6[(int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 10] & 0xf;
  }
  else {
    uVar6 = 0;
    uVar19 = 0x407;
  }
  LVar17 = SENDMESSAGE(0,(uint16)(ZEXT1416(CONCAT212(in_stack_0000ffec,
                                                     CONCAT210(in_stack_0000ffea,
                                                               CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(PTR_DAT_10a8_0000_10a8_8846,
                                                           CONCAT22(uVar19,uVar6))))))) << 0x10),
                       in_stack_0000ffee,in_stack_0000fff0);
  if (param_1 < 2) {
LAB_1028_4974:
    LVar18 = SENDMESSAGE(0,(uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                             CONCAT212((int)LVar17,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (PTR_DAT_10a8_0000_10a8_8848,0x40b00000000))))),
                         in_stack_0000ffee,in_stack_0000fff0);
    uVar6 = (uint)((ulong)LVar18 >> 0x10);
    if (LVar17 == 1) {
      local_4 = 0;
      uVar7 = FUN_1028_1e5c(&PTR_DAT_10a8_0000_10a8_7b62,2);
      if ((uVar6 | uVar7) == 0) {
        iVar8 = 1;
      }
      else {
        iVar8 = 5;
      }
      if (iVar8 != 0) {
        local_6 = (char **)0x60a;
        do {
          pcVar11 = *local_6;
          uVar6 = 0xffff;
          do {
            if (uVar6 == 0) break;
            uVar6 = uVar6 - 1;
            pcVar3 = pcVar11;
            pcVar11 = pcVar11 + 1;
          } while (*pcVar3 != '\0');
          uVar6 = ~uVar6;
          puVar14 = (undefined2 *)(pcVar11 + -uVar6);
          puVar15 = (undefined2 *)&DAT_10a8_86df;
          for (uVar7 = uVar6 >> 1; uVar7 != 0; uVar7 = uVar7 - 1) {
            puVar4 = puVar15;
            puVar15 = puVar15 + 1;
            puVar1 = puVar14;
            puVar14 = puVar14 + 1;
            *puVar4 = *puVar1;
          }
          for (uVar6 = (uint)((uVar6 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
            puVar4 = puVar15;
            puVar15 = (undefined2 *)((int)puVar15 + 1);
            puVar1 = puVar14;
            puVar14 = (undefined2 *)((int)puVar14 + 1);
            *(undefined *)puVar4 = *(undefined *)puVar1;
          }
          if ((*(byte *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 +
                         ((int)PTR_DAT_10a8_0000_10a8_7b52 * 9 + local_4) * 2 + 0xd) & 0xf0) == 0) {
            DAT_10a8_86de = 0x20;
          }
          else {
            DAT_10a8_86de = 0x2a;
            if (local_a == 0xffff) {
              local_a = local_4;
            }
          }
          SENDMESSAGE((HWND16)&DAT_10a8_86de,
                      (uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                        CONCAT212((int)LVar17,
                                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8848,0x403000010a8))))),
                      in_stack_0000ffee,in_stack_0000fff0);
          local_6 = local_6 + 1;
          local_4 = local_4 + 1;
        } while ((int)local_4 < iVar8);
      }
      if ((int)local_a < 0) {
        local_a = 0;
      }
    }
    else {
      if (LVar17 != 2) goto LAB_1028_4b30;
      DAT_10a8_86de = 0x20;
      puVar16 = (undefined4 *)&DAT_10a8_86df;
      puVar12 = (undefined4 *)s_Battle_Plans____10a8_0fa5;
      for (iVar8 = 4; iVar8 != 0; iVar8 = iVar8 + -1) {
        puVar5 = puVar16;
        puVar16 = puVar16 + 1;
        puVar2 = puVar12;
        puVar12 = puVar12 + 1;
        *puVar5 = *puVar2;
      }
      SENDMESSAGE((HWND16)&DAT_10a8_86de,
                  (uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                    CONCAT212((int)LVar17,
                                              CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8848,0x403000010a8))))),
                  in_stack_0000ffee,in_stack_0000fff0);
      local_4 = 0;
      if (PTR_DAT_10a8_0001_10a8_00c0[0x7a56] != '\0') {
        local_6 = (char **)0x0;
        do {
          if (*(int *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 +
                      0xc) == local_4) {
            DAT_10a8_86de = 0x2a;
          }
          else {
            DAT_10a8_86de = 0x20;
          }
          uVar19 = *(undefined2 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fa);
          pcVar11 = (char *)(*(int *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc) + (int)local_6
                            + 0xe);
          uVar6 = 0xffff;
          do {
            if (uVar6 == 0) break;
            uVar6 = uVar6 - 1;
            pcVar3 = pcVar11;
            pcVar11 = pcVar11 + 1;
          } while (*pcVar3 != '\0');
          uVar6 = ~uVar6;
          puVar14 = (undefined2 *)(pcVar11 + -uVar6);
          puVar15 = (undefined2 *)&DAT_10a8_86df;
          for (uVar7 = uVar6 >> 1; uVar7 != 0; uVar7 = uVar7 - 1) {
            puVar4 = puVar15;
            puVar15 = puVar15 + 1;
            puVar1 = puVar14;
            puVar14 = puVar14 + 1;
            *puVar4 = *puVar1;
          }
          for (uVar6 = (uint)((uVar6 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
            puVar4 = puVar15;
            puVar15 = (undefined2 *)((int)puVar15 + 1);
            puVar1 = puVar14;
            puVar14 = (undefined2 *)((int)puVar14 + 1);
            *(undefined *)puVar4 = *(undefined *)puVar1;
          }
          SENDMESSAGE((HWND16)&DAT_10a8_86de,
                      (uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                        CONCAT212((int)LVar17,
                                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_8848,0x403000010a8))))),
                      in_stack_0000ffee,in_stack_0000fff0);
          local_6 = (char **)((int)local_6 + 0x2e);
          local_4 = local_4 + 1;
        } while ((int)local_4 < (int)(uint)(byte)PTR_DAT_10a8_0001_10a8_00c0[0x7a56]);
      }
      local_a = *(int *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12
                        + 0xc) + 1;
    }
    LVar18 = SENDMESSAGE(0,(uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                             CONCAT212((int)LVar17,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (PTR_DAT_10a8_0000_10a8_8848,
                                                   CONCAT24(0x40e,(ulong)local_a << 0x10)))))),
                         in_stack_0000ffee,in_stack_0000fff0);
    in_stack_0000ffee = (uint)LVar18;
  }
  else {
    LVar18 = SENDMESSAGE(0,(uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                             CONCAT212((int)LVar17,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (PTR_DAT_10a8_0000_10a8_8848,0x40700000000))))),
                         in_stack_0000ffee,in_stack_0000fff0);
    local_a = (uint)LVar18;
    in_stack_0000ffee = local_a;
    if ((LVar17 == 1) && (param_1 < 4)) goto LAB_1028_4974;
  }
LAB_1028_4b30:
  if (param_1 < 3) {
    LVar18 = SENDMESSAGE(0,(uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                             CONCAT212((int)LVar17,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (PTR_DAT_10a8_0000_10a8_884a,0x40b00000000))))),
                         in_stack_0000ffee,in_stack_0000fff0);
    bVar10 = (bool16)LVar18;
    if (LVar17 == 1) {
      uVar6 = 0x57;
      do {
        HVar9 = FUN_1018_5112(uVar6);
        SENDMESSAGE(HVar9,(uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                            CONCAT212((int)LVar17,
                                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_884a,0x403000010a8))))),
                    in_stack_0000ffee,in_stack_0000fff0);
        uVar6 = uVar6 + 1;
      } while ((int)uVar6 < 99);
      uVar19 = 0x40e;
      uVar6 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 +
                        ((int)PTR_DAT_10a8_0000_10a8_7b52 * 9 + in_stack_0000ffee) * 2 + 0xc) >> 0xc
      ;
    }
    else {
      if (LVar17 != 2) goto LAB_1028_4ca0;
      if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0) {
        DAT_10a8_86de = 0x20;
        puVar16 = (undefined4 *)&DAT_10a8_86df;
        puVar12 = (undefined4 *)s_Relations____10a8_0fb5;
        for (iVar8 = 3; iVar8 != 0; iVar8 = iVar8 + -1) {
          puVar5 = puVar16;
          puVar16 = puVar16 + 1;
          puVar2 = puVar12;
          puVar12 = puVar12 + 1;
          *puVar5 = *puVar2;
        }
        *(undefined *)puVar16 = *(undefined *)puVar12;
        SENDMESSAGE((HWND16)&DAT_10a8_86de,
                    (uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                      CONCAT212((int)LVar17,
                                                CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_884a,0x403000010a8))))),
                    in_stack_0000ffee,in_stack_0000fff0);
        uVar6 = 99;
        do {
          HVar9 = FUN_1018_5112(uVar6);
          SENDMESSAGE(HVar9,(uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                              CONCAT212((int)LVar17,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_884a,0x403000010a8
                                                          ))))),in_stack_0000ffee,in_stack_0000fff0)
          ;
          uVar6 = uVar6 + 1;
        } while ((int)uVar6 < 0x65);
      }
      HVar9 = FUN_1018_5112(0x65);
      SENDMESSAGE(HVar9,(uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                          CONCAT212((int)LVar17,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_884a,0x403000010a8))))),
                  in_stack_0000ffee,in_stack_0000fff0);
      puVar13 = (undefined *)0x0;
      if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
        do {
          if (PTR_DAT_10a8_0001_10a8_00c0 != puVar13) {
            uVar19 = 0;
            uVar20 = 0x403;
            puVar21 = PTR_DAT_10a8_0000_10a8_884a;
            HVar9 = FUN_1010_0792((int)puVar13,0,1,0,0,0);
            SENDMESSAGE(HVar9,(uint16)CONCAT214((int)((ulong)LVar17 >> 0x10),
                                                CONCAT212((int)LVar17,
                                                          CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(puVar21,CONCAT24(uVar20,CONCAT22(uVar19,
                                                  0x10a8))))))),in_stack_0000ffee,in_stack_0000fff0)
            ;
          }
          puVar13 = puVar13 + 1;
        } while ((int)puVar13 < (int)PTR_DAT_10a8_0002_10a8_0038);
      }
      uVar6 = ((-(uint)(((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0) & 3) - 2) +
              *(int *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 +
                      0xe);
      if ((int)(PTR_DAT_10a8_0001_10a8_00c0 +
               (-(uint)(((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0) & 3) + 1) <= (int)uVar6) {
        uVar6 = uVar6 - 1;
      }
      uVar19 = 0x40e;
    }
  }
  else {
    uVar6 = 0;
    uVar19 = 0x407;
  }
  LVar18 = SENDMESSAGE(0,(uint16)(ZEXT1416(CONCAT212((int)((ulong)LVar17 >> 0x10),
                                                     CONCAT210((int)LVar17,
                                                               CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(PTR_DAT_10a8_0000_10a8_884a,
                                                           CONCAT22(uVar19,uVar6))))))) << 0x10),
                       in_stack_0000ffee,in_stack_0000fff0);
  bVar10 = (bool16)LVar18;
LAB_1028_4ca0:
  if ((param_1 < 4) && (LVar17 == 1)) {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xfc210a8,
              (LPCSTR)(CONCAT22(*(undefined2 *)
                                 ((int)_PTR_DAT_10a8_0000_10a8_7bc6 +
                                  ((int)PTR_DAT_10a8_0000_10a8_7b52 * 9 + in_stack_0000ffee) * 2 +
                                 0xc),0x10a8) & 0xfffffff),unaff_SI);
    bVar10 = SETWINDOWTEXT((HWND16)&DAT_10a8_86de,CONCAT22(PTR_DAT_10a8_0000_10a8_0aa4,0x10a8));
  }
  return bVar10;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1028_4cea(int param_1)

{
  char *pcVar1;
  undefined4 uVar2;
  undefined2 unaff_SI;
  undefined4 *puVar3;
  int iVar4;
  undefined2 unaff_DI;
  int iVar5;
  bool16 unaff_SS;
  undefined2 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  undefined6 in_stack_0000ffd2;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  int local_14 [4];
  long local_c;
  undefined2 local_8;
  int local_6;
  undefined4 *local_4;

  if (((int)PTR_DAT_10a8_0000_10a8_7bc4 < 2) || (PTR_DAT_10a8_0000_10a8_7b52 == (undefined *)0x0)) {
    MESSAGEBEEP((uint16)CONCAT610(in_stack_0000ffd2,
                                  CONCAT28(in_stack_0000ffd0,
                                           CONCAT26(in_stack_0000ffce,
                                                    CONCAT24(unaff_DI,CONCAT22(unaff_SI,0x40))))));
  }
  else {
    iVar5 = local_6;
    if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)((int)&PTR_LOOP_10a8_0004 + 1)) {
      local_20 = *(undefined4 *)
                  (PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 4);
      local_1c = *(undefined4 *)
                  (PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + -0xe);
      if ((int)PTR_DAT_10a8_0000_10a8_7b52 < (int)(PTR_DAT_10a8_0000_10a8_7bc4 + -1)) {
        local_18 = *(undefined4 *)
                    (PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0x16);
        iVar5 = 3;
      }
      else {
        iVar5 = 2;
      }
    }
    FUN_1030_2da8((int16 *)0x0,(undefined *)0x0,CONCAT22(unaff_DI,unaff_SI));
    FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_7bc6 & 0xffff0000 |
                  ZEXT24(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 4),
                  _PTR_DAT_10a8_0000_10a8_7bc6 & 0xffff0000 |
                  ZEXT24(PTR_DAT_10a8_0000_10a8_7bc6 +
                         (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0x16),
                  ((int)PTR_DAT_10a8_0000_10a8_7bc4 - (int)PTR_DAT_10a8_0000_10a8_7b52) * 0x12 -
                  0x12);
    PTR_DAT_10a8_0000_10a8_7bc4 = PTR_DAT_10a8_0000_10a8_7bc4 + -1;
    pcVar1 = (char *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 3);
    *pcVar1 = *pcVar1 + -1;
    PTR_DAT_10a8_0000_10a8_7b52 = PTR_DAT_10a8_0000_10a8_7b52 + -1;
    if ((int)PTR_DAT_10a8_0000_10a8_7b52 < (int)(PTR_DAT_10a8_0000_10a8_7bc4 + -1)) {
      local_c = *(long *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 4)
      ;
      if (*(long *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0x16) ==
          local_c) {
        FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_7bc6 & 0xffff0000 |
                      ZEXT24(PTR_DAT_10a8_0000_10a8_7bc6 +
                             (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0x16),
                      _PTR_DAT_10a8_0000_10a8_7bc6 & 0xffff0000 |
                      ZEXT24(PTR_DAT_10a8_0000_10a8_7bc6 +
                             (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0x28),
                      ((int)PTR_DAT_10a8_0000_10a8_7bc4 - (int)PTR_DAT_10a8_0000_10a8_7b52) * 0x12 -
                      0x24);
        PTR_DAT_10a8_0000_10a8_7bc4 = PTR_DAT_10a8_0000_10a8_7bc4 + -1;
        pcVar1 = (char *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 3);
        *pcVar1 = *pcVar1 + -1;
      }
    }
    if ((param_1 == 0) &&
       ((int)PTR_DAT_10a8_0000_10a8_7b52 < (int)(PTR_DAT_10a8_0000_10a8_7bc4 + -1))) {
      PTR_DAT_10a8_0000_10a8_7b52 = PTR_DAT_10a8_0000_10a8_7b52 + 1;
    }
    FUN_1030_2da8((int16 *)0x0,(undefined *)0x0,CONCAT22(unaff_DI,unaff_SI));
    FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
    uVar2 = *(undefined4 *)
             ((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 4);
    FUN_1010_18d2((int)uVar2,(int)((ulong)uVar2 >> 0x10),0x87,(long *)&stack0xffd2);
    PTR_DAT_10a8_0000_10a8_7b52 = (undefined *)0xfffe;
    FUN_1030_3a94((long *)&stack0xffd2,1);
    if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)((int)&PTR_LOOP_10a8_0004 + 1)) {
      local_8 = 0;
      iVar4 = iVar5;
      if (0 < iVar5) {
        puVar3 = &local_20;
        local_6 = iVar5;
        local_4 = puVar3;
        do {
          FUN_1030_3110((int *)puVar3);
          puVar3 = puVar3 + 1;
          iVar5 = iVar5 + -1;
          iVar4 = local_6;
        } while (iVar5 != 0);
      }
      FUN_1018_597c(local_14,(int *)&local_20,iVar4);
      INVALIDATERECT(1,(RECT16 *)local_14,unaff_SS);
      return;
    }
  }
  return;
}



void __cdecl16far FUN_1028_4eb0(undefined4 param_1,int param_2,int param_3)

{
  int *piVar1;
  char *pcVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  int iVar11;
  undefined2 uVar12;
  undefined2 uVar13;
  undefined2 unaff_SS;
  undefined4 local_14 [4];

  iVar6 = (int)param_1;
  uVar12 = (undefined2)((ulong)param_1 >> 0x10);
  if (param_3 != 0) {
    if (param_2 != 0x56) {
      if (*(int *)(iVar6 + 0x62) != 2) {
        uVar5 = *(undefined4 *)(iVar6 + 100);
        uVar13 = (undefined2)((ulong)uVar5 >> 0x10);
        iVar7 = (int)uVar5;
        iVar8 = iVar7 + param_2 * 0x12;
        puVar9 = (undefined4 *)(iVar8 + 4);
        iVar11 = *(int *)(iVar6 + 0x62) * 0x12;
        if ((*(int *)(iVar7 + iVar11 + -0xe) != *(int *)puVar9) ||
           (*(int *)(iVar7 + iVar11 + -0xc) != *(int *)(iVar8 + 6))) {
          puVar10 = local_14;
          for (iVar7 = 4; iVar7 != 0; iVar7 = iVar7 + -1) {
            puVar4 = puVar10;
            puVar10 = puVar10 + 1;
            puVar3 = puVar9;
            puVar9 = puVar9 + 1;
            *puVar4 = *puVar3;
          }
          *(undefined2 *)puVar10 = *(undefined2 *)puVar9;
          goto LAB_1028_4f25;
        }
      }
    }
    param_3 = 0;
  }
LAB_1028_4f25:
  uVar13 = *(undefined2 *)(iVar6 + 0x66);
  iVar7 = *(int *)(iVar6 + 100) + param_2 * 0x12;
  FUN_10a0_0ac6(CONCAT22(uVar13,iVar7 + 4),CONCAT22(uVar13,iVar7 + 0x16),
                (*(int *)(iVar6 + 0x62) - param_2) * 0x12 - 0x12);
  if (param_3 != 0) {
    uVar5 = *(undefined4 *)(iVar6 + 100);
    uVar13 = (undefined2)((ulong)uVar5 >> 0x10);
    puVar9 = (undefined4 *)((int)uVar5 + *(int *)(iVar6 + 0x62) * 0x12 + -0xe);
    puVar10 = local_14;
    for (iVar6 = 4; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar4 = puVar9;
      puVar9 = puVar9 + 1;
      puVar3 = puVar10;
      puVar10 = puVar10 + 1;
      *puVar4 = *puVar3;
    }
    *(undefined2 *)puVar9 = *(undefined2 *)puVar10;
    return;
  }
  piVar1 = (int *)(iVar6 + 0x62);
  *piVar1 = *piVar1 + -1;
  uVar5 = *(undefined4 *)(iVar6 + 100);
  pcVar2 = (char *)((int)uVar5 + 3);
  *pcVar2 = *pcVar2 + -1;
  return;
}



// WARNING: Removing unreachable block (ram,0x102852dd)
// WARNING: Removing unreachable block (ram,0x102852f3)
// WARNING: Could not reconcile some variable overlaps

uint __cdecl16far FUN_1028_4f92(ulong param_1,int param_2,uint param_3,long param_4,int param_5)

{
  byte *pbVar1;
  ulong *puVar2;
  undefined2 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  uint uVar7;
  uint uVar8;
  ulong uVar9;
  ulong uVar10;
  int iVar11;
  byte bVar12;
  long *plVar13;
  int iVar14;
  int *piVar15;
  int *piVar16;
  ulong *puVar17;
  undefined2 unaff_SS;
  long local_88;
  long local_7e;
  char local_72;
  ulong local_70 [16];
  undefined local_30 [6];
  undefined4 local_2a;
  undefined4 local_26;
  undefined4 local_22;
  undefined4 local_1e;
  uint local_1a;
  int local_18;
  uint local_16;
  uint local_14;
  ulong *local_12;
  uint local_10;
  int *local_e;
  int *local_c;
  undefined4 uStack_a;
  ulong local_6;

  local_22 = 0;
  DAT_10a8_0a47 = DAT_10a8_0a47 & 0xfd;
  if (param_3 == 0xffff) {
    uVar5 = *(undefined4 *)((int)param_1 + 100);
    param_3 = (uint)(*(byte *)(param_2 * 0x12 + (int)uVar5 + 0x1c) >> 4);
  }
  local_14 = FUN_1078_1d84(*(int *)((int)param_1 + 2) * 0x76 + -0x77a2,1);
  uVar5 = *(undefined4 *)(*(int *)((int)param_1 + 2) * 4 + 0x72);
  local_c = (int *)uVar5;
  uStack_a._0_2_ = (undefined2)((ulong)uVar5 >> 0x10);
  local_12 = local_70;
  local_10 = (int)param_1 + 0xc;
  local_e = (int *)param_1._2_2_;
  piVar16 = local_c;
  do {
    if (*(int *)(param_1 & 0xffff0000 | (ulong)local_10) != 0) {
      uStack_a._2_2_ = 0;
      if (*(char *)(piVar16 + 0x3d) == '\0') {
        uStack_a._2_2_ = 0;
      }
      else {
        piVar15 = piVar16 + 0x1d;
        local_6 = local_6 & 0xffff0000 | ZEXT24(piVar15);
        do {
          if (*piVar15 == 1) break;
          piVar15 = piVar15 + 2;
          uStack_a._2_2_ = uStack_a._2_2_ + 1;
        } while ((int)uStack_a._2_2_ < (int)(uint)*(byte *)(piVar16 + 0x3d));
        local_c = piVar16;
      }
      if ((*(byte *)(piVar16 + 0x3d) == uStack_a._2_2_) ||
         (uVar8 = piVar16[uStack_a._2_2_ * 2 + 0x1e],
         pbVar1 = (byte *)(uStack_a._2_2_ * 4 + *piVar16 * 0x93 + 0x2eeb),
         bVar12 = (byte)((ulong)uVar8 >> 8), bVar12 <= *pbVar1 && *pbVar1 != bVar12)) {
        *local_12 = 99999;
      }
      else {
        local_72 = (char)uVar8;
        *local_12 = (long)*(int *)(((uVar8 & 0xff) * 0x25 + param_3) * 2 + 0x14bc);
        if (local_14 != 0) {
          uVar8 = *(uint *)local_12;
          puVar2 = local_12;
          *puVar2 = *puVar2 + CONCAT22((*(int *)((int)local_12 + 2) * 0xf +
                                        (uint)CARRY2(uVar8,uVar8) * 8 +
                                        (uint)CARRY2(uVar8 * 2,uVar8 * 2) * 4 +
                                        (uint)CARRY2(uVar8 * 4,uVar8 * 4) * 2 +
                                       (uint)CARRY2(uVar8 * 8,uVar8 * 8)) -
                                       (uint)(uVar8 * 0x10 < uVar8),uVar8 * 0xf) / -100;
        }
        if (local_72 == '\a') {
          pbVar1 = (byte *)&DAT_10a8_0a47;
          *pbVar1 = *pbVar1 | 2;
        }
      }
    }
    local_10 = local_10 + 2;
    piVar16 = (int *)((int)piVar16 + 0x87);
    local_12 = local_12 + 1;
    if (local_30 <= local_12) {
      local_2a = *(ulong *)((int)param_1 + 0x4c);
      local_26 = 0;
      iVar11 = 4;
      plVar13 = (long *)((int)param_1 + 0x50);
      do {
        local_26 = local_26 + *plVar13;
        iVar11 = iVar11 + -1;
        plVar13 = plVar13 + 1;
      } while (iVar11 != 0);
      if (param_4 == -1) {
        uVar3 = *(undefined2 *)((int)param_1 + 0x66);
        iVar11 = *(int *)((int)param_1 + 100) + param_2 * 0x12;
        puVar6 = (undefined4 *)(iVar11 + 4);
        local_6 = CONCAT22(uVar3,puVar6);
        if (param_5 == 0) {
          uVar5 = *(undefined4 *)(iVar11 + 0x16);
          uVar4 = *puVar6;
          FUN_1010_186e((int)uVar4,(int)((ulong)uVar4 >> 0x10),(int)uVar5,
                        (int)((ulong)uVar5 >> 0x10));
          iVar11 = FUN_10a0_0c14();
          param_4 = (long)iVar11;
        }
        else {
          param_4 = 1000;
        }
      }
      local_30._2_4_ = 0;
      uVar5 = *(undefined4 *)(*(int *)((int)param_1 + 2) * 4 + 0x72);
      while( true ) {
        local_1e = 999999;
        local_12 = (ulong *)uVar5;
        local_10 = (uint)((ulong)uVar5 >> 0x10);
        puVar17 = local_70;
        piVar16 = (int *)((int)param_1 + 0xc);
        local_c = (int *)param_1._2_2_;
        local_e = piVar16;
        do {
          iVar11 = *piVar16;
          if (0 < iVar11) {
            uVar9 = *puVar17;
            uVar8 = *(uint *)((int)puVar17 + 2);
            if (local_22 == uVar9) {
              iVar14 = *(int *)CONCAT22(local_10,local_12) * 0x93;
              local_7e = (long)iVar11;
              uVar9 = (ulong)*(uint *)(iVar14 + 0x2ee4) * (long)iVar11;
              local_2a._2_2_ = (uint)(uVar9 >> 0x10);
              if (uVar9 - local_2a != 0 && (long)local_2a <= (long)uVar9) {
                uVar9 = local_2a & 0xffff;
              }
              local_16 = (uint)uVar9;
              local_14 = local_2a._2_2_;
              uVar10 = (ulong)*(uint *)(iVar14 + 0x2ee2) * local_7e;
              local_18 = (int)(uVar10 >> 0x10);
              if (uVar10 - local_26 != 0 && (long)local_26 <= (long)uVar10) {
                uVar10 = local_26 & 0xffff;
                local_18 = local_26._2_2_;
              }
              local_1a = (uint)uVar10;
              local_2a = local_2a - (uVar9 & 0xffff | (ulong)local_2a._2_2_ << 0x10);
              local_26 = CONCAT22((local_26._2_2_ - local_18) - (uint)((uint)local_26 < local_1a),
                                  (uint)local_26 - local_1a);
              if (0 < (long)*puVar17) {
                uVar8 = iVar11 * *(int *)((int)local_12 + 0x28);
                uVar7 = uVar8 + local_1a;
                iVar11 = uVar7 + local_16;
                iVar14 = local_18 + (uint)CARRY2(uVar8,local_1a) + local_2a._2_2_ +
                         (uint)CARRY2(uVar7,local_16);
                local_6 = CONCAT22(iVar14,iVar11);
                local_88 = CONCAT22(iVar14,iVar11);
                uStack_a = local_22 * param_4;
                iVar11 = (int)((ulong)uStack_a >> 0x10);
                uStack_a._0_2_ = (int)uStack_a;
                uStack_a._2_2_ = iVar11;
                if (((local_88 < 200) || ((uStack_a < 500000 && ((long)local_6 < 4000)))) ||
                   ((uStack_a < 100000 && ((long)local_6 < 20000)))) {
                  uVar9 = (long)(uStack_a * local_6) / 10000;
                  iVar11 = (int)(uVar9 >> 0x10);
                }
                else {
                  uVar8 = FUN_10a0_0c14();
                  uVar9 = (ulong)uVar8;
                }
                local_30._2_4_ =
                     CONCAT22((int)((ulong)local_30._2_4_ >> 0x10) + iVar11 +
                              (uint)CARRY2(local_30._2_2_,(uint)uVar9),local_30._2_2_ + (uint)uVar9)
                ;
              }
            }
            else if ((local_22._2_2_ <= (int)uVar8) &&
                    ((((local_22._2_2_ < (int)uVar8 || ((uint)local_22 < (uint)uVar9)) &&
                      ((int)uVar8 <= local_1e._2_2_)) &&
                     (((int)uVar8 < local_1e._2_2_ || ((uint)uVar9 < (uint)local_1e)))))) {
              local_1e = uVar9 & 0xffff | (ulong)uVar8 << 0x10;
            }
          }
          local_12 = (ulong *)((int)local_12 + 0x87);
          piVar16 = piVar16 + 1;
          puVar17 = puVar17 + 1;
        } while (puVar17 < local_30);
        if (local_1e == 999999) break;
        local_22 = local_1e;
      }
      if (param_5 == 0) {
        local_30._2_4_ =
             CONCAT22((int)((ulong)local_30._2_4_ >> 0x10) + (uint)(0xfff6 < local_30._2_2_),
                      local_30._2_2_ + 9);
      }
      local_30._2_4_ = local_30._2_4_ / 10;
      if (param_5 != 0) {
        if (((uint)((ulong)local_30._2_4_ >> 0x10) | local_30._2_2_) == 0) {
          local_30._2_2_ = 0xca00;
        }
        else {
          local_30._2_2_ = (uint)((*(long *)((int)param_1 + 0x4c) * 1000) / local_30._2_4_);
        }
      }
      return local_30._2_2_;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

LRESULT __stdcall16far
FAKEEDITPROC(HWND16 param_1,HWND16 param_2,uint param_3_00,undefined4 param_4)

{
  undefined2 unaff_BP;
  LRESULT LVar1;
  undefined4 in_stack_00000000;

  if (((int)param_4 == 0x102) && (((param_3_00 < 0x30 || (0x39 < param_3_00)) && (param_3_00 != 8)))
     ) {
    return 0;
  }
  LVar1 = CALLWINDOWPROC((void *)param_1,param_2,
                         (uint16)CONCAT412(in_stack_00000000,
                                           CONCAT210(unaff_BP,CONCAT46(_PTR_DAT_10a8_0000_10a8_571c,
                                                                       CONCAT42(param_4,param_3_00))
                                                    )),param_1,_param_2);
  return LVar1;
}



// WARNING: Could not reconcile some variable overlaps

int __cdecl16far FUN_1028_542c(undefined *param_1)

{
  byte bVar1;
  ulong uVar2;
  undefined4 uVar3;
  int iVar4;
  int *piVar5;
  uint uVar6;
  int local_1a;
  undefined2 uStack_18;
  int *local_14;
  int local_10;
  int local_e;
  undefined4 local_c;

  local_e = 9;
  if (param_1 == (undefined *)0x0) {
    param_1._0_2_ = (int)&PTR_DAT_10a8_0000_10a8_7b62;
    param_1 = &DAT_10a8_0000;
  }
  local_10 = 0;
  uVar2 = *(ulong *)(*(int *)((int)param_1 + 2) * 4 + 0x72);
  local_c = (byte *)(uVar2 & 0xffff0000 | (ulong)((int)uVar2 + 0x7a));
  local_14 = (int *)((ulong)param_1 & 0xffff0000 | (ulong)((int)param_1 + 0xc));
  do {
    if (0 < *local_14) {
      uVar6 = 0;
      uVar3 = *(undefined4 *)(*(int *)((int)param_1 + 2) * 4 + 0x72);
      bVar1 = *local_c;
      if (bVar1 != 0) {
        piVar5 = (int *)((int)local_c + -0x40);
        do {
          if (*piVar5 == 1) break;
          piVar5 = piVar5 + 2;
          uVar6 = uVar6 + 1;
        } while ((int)uVar6 < (int)(uint)bVar1);
      }
      if (bVar1 == uVar6) {
        return 0;
      }
      local_1a = (int)uVar3;
      uStack_18 = (undefined2)((ulong)uVar3 >> 0x10);
      uVar6 = (uint)*(byte *)(uVar6 * 4 + local_1a + local_10 + 0x3c);
      if (0 < local_e) {
        piVar5 = (int *)((uVar6 * 0x25 + local_e) * 2 + 0x14bc);
        do {
          if (*piVar5 < 0x79) {
            iVar4 = (uVar6 * 0x25 + local_e) * 2;
            if (0 < *(int *)(iVar4 + 0x14bc)) {
              if ((local_e < 5) || (*(int *)(iVar4 + 0x14ba) != 0)) {
                if ((5 < local_e) && (*(int *)(iVar4 + 0x14b8) == 0)) {
                  local_e = local_e + -2;
                }
              }
              else {
                local_e = local_e + -1;
              }
            }
            break;
          }
          piVar5 = piVar5 + -1;
          local_e = local_e + -1;
        } while (0 < local_e);
      }
    }
    local_c = (byte *)((ulong)local_c & 0xffff0000 | (ulong)((int)local_c + 0x87));
    local_14 = (int *)((ulong)local_14 & 0xffff0000 | (ulong)((int)local_14 + 2));
    local_10 = local_10 + 0x87;
    if (0x86f < local_10) {
      return local_e;
    }
  } while( true );
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1028_555a(int param_1,int param_2)

{
  uint *puVar1;
  int *piVar2;
  long *plVar3;
  undefined4 *puVar4;
  int *piVar5;
  undefined4 uVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  ulong uVar11;
  int iVar13;
  uint *puVar14;
  uint *puVar15;
  ulong in_EDX;
  long *plVar16;
  undefined4 *puVar17;
  int *piVar18;
  long *plVar19;
  undefined4 *puVar20;
  undefined2 unaff_SS;
  undefined uVar21;
  long local_1a2;
  long local_19e;
  undefined4 local_194 [3];
  int local_188 [58];
  int local_114 [52];
  int local_ac [32];
  long local_6c [10];
  long local_44 [2];
  undefined4 local_3c;
  long local_34 [2];
  undefined4 local_2c;
  int local_24 [4];
  int *local_1c;
  long *local_1a;
  int local_18;
  long *local_16;
  int local_14;
  undefined4 local_12;
  undefined4 local_e;
  undefined4 local_a;
  undefined4 local_6;
  ulong uVar12;

  local_24[0] = param_1;
  local_24[1] = param_2;
  local_18 = *(int *)(param_1 + 2);
  puVar17 = local_194;
  local_6 = CONCAT22(local_24,local_6c);
  puVar20 = &local_2c;
  for (iVar13 = 2; iVar13 != 0; iVar13 = iVar13 + -1) {
    puVar4 = puVar20;
    puVar20 = puVar20 + 1;
    *puVar4 = 0;
  }
  plVar16 = local_34;
  for (iVar13 = 4; iVar13 != 0; iVar13 = iVar13 + -1) {
    plVar3 = plVar16;
    plVar16 = (long *)((int)plVar16 + 2);
    *(undefined2 *)plVar3 = 0;
  }
  puVar20 = &local_3c;
  for (iVar13 = 4; iVar13 != 0; iVar13 = iVar13 + -1) {
    puVar4 = puVar20;
    puVar20 = (undefined4 *)((int)puVar20 + 2);
    *(undefined2 *)puVar4 = 0;
  }
  plVar16 = local_44;
  for (iVar13 = 4; iVar13 != 0; iVar13 = iVar13 + -1) {
    plVar3 = plVar16;
    plVar16 = (long *)((int)plVar16 + 2);
    *(undefined2 *)plVar3 = 0;
  }
  do {
    if ((*(byte *)((int)*local_6._2_2_ + 5) & 4) == 0) {
      FUN_1010_0cda(**local_6._2_2_,puVar17);
    }
    else {
      puVar20 = puVar17;
      for (iVar13 = 0x1d; iVar13 != 0; iVar13 = iVar13 + -1) {
        puVar4 = puVar20;
        puVar20 = puVar20 + 1;
        *puVar4 = 0;
      }
      *(int *)((int)puVar17 + 2) = local_18;
    }
    puVar20 = (undefined4 *)local_6;
    for (iVar13 = 5; iVar13 != 0; iVar13 = iVar13 + -1) {
      puVar4 = puVar20;
      puVar20 = puVar20 + 1;
      *puVar4 = 0;
    }
    puVar17 = puVar17 + 0x1d;
    piVar18 = (int *)((int)(local_6 >> 0x10) + 2);
    local_6 = CONCAT22(piVar18,(undefined4 *)local_6 + 5);
  } while (piVar18 < local_24 + 2);
  iVar13 = 0;
  local_16 = (long *)0x0;
  do {
    if ((*(int *)((int)local_188 + iVar13) != 0) || (*(int *)((int)local_114 + iVar13) != 0)) {
      uVar9 = *(uint *)(local_18 * 4 + 0x74);
      in_EDX = (ulong)uVar9;
      iVar7 = *(int *)(local_18 * 4 + 0x72) + (int)local_16;
      local_12 = local_12 & 0xffff | (ulong)uVar9 << 0x10;
      uVar21 = (undefined)(uVar9 >> 8);
      uVar8 = FUN_1028_1ed2((int *)CONCAT13(uVar21,CONCAT12((char)uVar9,iVar7)),1);
      local_e = local_e & 0xffff | (ulong)uVar8 << 0x10;
      uVar9 = FUN_1028_1ed2((int *)CONCAT13(uVar21,CONCAT12((char)uVar9,iVar7)),2);
      local_e = local_e & 0xffff0000 | (ulong)uVar9;
      local_a = CONCAT22((int)local_188 + iVar13,local_24);
      piVar18 = (int *)((int)local_ac + iVar13);
      local_6._2_2_ = (uint **)0x0;
      local_6 = ZEXT24(piVar18);
      local_14 = iVar13;
      do {
        iVar13 = *local_a._2_2_;
        *piVar18 = iVar13 - *(int *)(*(int *)local_a + local_14 + 0xc);
        if (iVar13 != 0) {
          local_19e = (long)iVar13;
          plVar3 = (long *)((int)&local_2c + (int)local_6._2_2_);
          *plVar3 = *plVar3 + (long)iVar13 *
                              CONCAT22((int)local_e._2_2_ >> 0xf,
                                       local_e._2_2_ & 0xff |
                                       (uint)(byte)((ulong)(long)(int)local_e._2_2_ >> 8) << 8);
          uVar11 = local_19e * (int)local_e;
          in_EDX = uVar11 >> 0x10;
          puVar1 = (uint *)((int)&local_3c + (int)local_6._2_2_);
          uVar9 = *puVar1;
          *puVar1 = *puVar1 + (uint)uVar11;
          piVar2 = (int *)((int)&local_3c + (int)local_6._2_2_ + 2);
          *piVar2 = *piVar2 + (int)(uVar11 >> 0x10) + (uint)CARRY2(uVar9,(uint)uVar11);
          if (0 < *piVar18) {
            iVar13 = *piVar18;
            local_1a2 = (long)iVar13;
            plVar3 = (long *)((int)local_34 + (int)local_6._2_2_);
            *plVar3 = *plVar3 + (long)(int)local_e._2_2_ * (long)iVar13;
            plVar3 = (long *)((int)local_44 + (int)local_6._2_2_);
            *plVar3 = *plVar3 + (int)local_e * local_1a2;
            in_EDX = (ulong)((int)local_e * local_1a2) >> 0x10;
          }
        }
        local_6._2_2_ = (uint **)((int)local_6._2_2_ + 4);
        piVar18 = piVar18 + 0x10;
        piVar5 = (int *)((int)local_a + 2);
        local_a = CONCAT22((int)local_a._2_2_ + 0x74,piVar5);
        iVar13 = local_14;
      } while (piVar5 < local_24 + 2);
    }
    iVar13 = iVar13 + 2;
    local_16 = (long *)((int)local_16 + 0x87);
  } while ((int)local_16 < 0x870);
  local_1a = local_6c;
  iVar13 = 0;
  piVar18 = local_24;
  do {
    if ((*(uint *)((int)&local_2c + iVar13 + 2) | *(uint *)((int)&local_2c + iVar13)) != 0) {
      iVar7 = *piVar18;
      if ((*(long *)(iVar7 + 0x4c) < 0xafc9) && (*(long *)((int)local_34 + iVar13) < 0xafc9)) {
        uVar11 = (*(long *)((int)local_34 + iVar13) * *(long *)(iVar7 + 0x4c)) /
                 *(long *)((int)&local_2c + iVar13);
        in_EDX = uVar11 >> 0x10;
      }
      else {
        uVar9 = FUN_10a0_0c14();
        uVar11 = (ulong)uVar9;
      }
      local_12 = uVar11 & 0xffff | in_EDX << 0x10;
      plVar3 = local_1a;
      uVar9 = *(uint *)plVar3;
      *(uint *)plVar3 = *(uint *)plVar3 - (uint)uVar11;
      puVar1 = (uint *)((int)local_1a + 2);
      *puVar1 = (*puVar1 - (int)in_EDX) - (uint)(uVar9 < (uint)uVar11);
    }
    local_1c = piVar18;
    if (*(long *)((int)&local_3c + iVar13) != 0) {
      local_24[2] = iVar13;
      local_6 = 0;
      puVar14 = (uint *)(*piVar18 + 0x50);
      local_a = CONCAT22(puVar14,4);
      local_a._0_2_ = (int *)0x4;
      do {
        uVar9 = *puVar14;
        uVar8 = puVar14[1];
        puVar14 = puVar14 + 2;
        local_6 = CONCAT22((int)(local_6 >> 0x10) + uVar8 +
                           (uint)CARRY2((uint)(undefined4 *)local_6,uVar9),
                           (int)(undefined4 *)local_6 + uVar9);
        local_a._0_2_ = (int *)((int)(int *)local_a + -1);
      } while ((int *)local_a != (int *)0x0);
      if (((long)local_6 < 0xafc9) && (*(long *)((int)local_44 + iVar13) < 0xafc9)) {
        uVar11 = (long)(*(long *)((int)local_44 + iVar13) * local_6) /
                 *(long *)((int)&local_3c + iVar13);
        uVar8 = (uint)(uVar11 >> 0x10);
      }
      else {
        uVar9 = FUN_10a0_0c14();
        uVar11 = (ulong)uVar9;
      }
      local_e = uVar11 & 0xffff | (ulong)uVar8 << 0x10;
      local_12 = uVar11 & 0xffff | (ulong)uVar8 << 0x10;
      uVar8 = uVar8 | (uint)uVar11;
      in_EDX = (ulong)uVar8;
      if (uVar8 != 0) {
        if (((uint)local_6._2_2_ | (uint)(undefined4 *)local_6) != 0) {
          plVar16 = local_1a + 1;
          in_EDX = ZEXT24(plVar16);
          plVar19 = (long *)(*local_1c + 0x50);
          local_18 = 4;
          local_16 = plVar16;
          do {
            uVar9 = (uint)in_EDX;
            if ((*plVar19 < 0xafc9) && ((long)local_e < 0xafc9)) {
              uVar11 = (long)(local_e * *plVar19) / (long)local_6;
              uVar9 = (uint)(uVar11 >> 0x10);
            }
            else {
              uVar8 = FUN_10a0_0c14();
              uVar11 = (ulong)uVar8;
            }
            uVar12 = local_12;
            uVar8 = local_12._2_2_;
            if ((long)(uVar11 & 0xffff | (ulong)uVar9 << 0x10) < (long)local_12) {
              uVar12 = uVar11 & 0xffff;
              uVar8 = uVar9;
            }
            in_EDX = (ulong)uVar8;
            uVar10 = (uint)uVar12;
            local_a = uVar12 & 0xffff | (ulong)uVar8 << 0x10;
            plVar3 = plVar16;
            uVar9 = *(uint *)plVar3;
            *(uint *)plVar3 = *(uint *)plVar3 - uVar10;
            puVar1 = (uint *)((int)plVar16 + 2);
            *puVar1 = (*puVar1 - uVar8) - (uint)(uVar9 < uVar10);
            local_12 = CONCAT22((local_12._2_2_ - uVar8) - (uint)((uint)local_12 < uVar10),
                                (uint)local_12 - uVar10);
            plVar16 = plVar16 + 1;
            plVar19 = plVar19 + 1;
            local_18 = local_18 + -1;
          } while (local_18 != 0);
          iVar13 = local_24[2];
          if (0 < (long)local_12) {
            in_EDX = 1;
            plVar19 = (long *)(*local_1c + 0x50);
            local_6 = local_6 & 0xffff | ZEXT24(plVar19) << 0x10;
            iVar7 = 1;
            local_14 = 1;
            plVar16 = local_1a;
            do {
              plVar16 = plVar16 + 1;
              if ((long)local_12 < 1) break;
              uVar11 = *plVar19 + *plVar16;
              in_EDX = uVar11 >> 0x10;
              if (0 < (long)uVar11) {
                plVar3 = plVar16;
                *plVar3 = *plVar3 + -1;
                local_12 = local_12 - 1;
              }
              plVar19 = plVar19 + 1;
              iVar7 = iVar7 + 1;
            } while (iVar7 < 5);
          }
        }
      }
    }
    local_1a = local_1a + 5;
    iVar13 = iVar13 + 4;
    local_1c = local_1c + 1;
    piVar18 = local_1c;
    if (local_24 + 2 <= local_1c) {
      local_24[3] = 0;
      local_a._0_2_ = local_24;
      plVar16 = local_6c;
      do {
        puVar15 = (uint *)(local_24[local_24[3] == 0] + 0x4c);
        puVar14 = (uint *)(*(int *)local_a + 0x4c);
        local_a._2_2_ = (int *)0x5;
        local_6 = CONCAT22(puVar15,puVar14);
        do {
          uVar9 = *(uint *)plVar16;
          uVar8 = *(uint *)((int)plVar16 + 2);
          puVar1 = puVar14;
          uVar10 = *puVar1;
          *puVar1 = *puVar1 + uVar9;
          puVar1 = puVar14 + 1;
          *puVar1 = *puVar1 + uVar8 + (uint)CARRY2(uVar10,uVar9);
          puVar1 = puVar15;
          uVar10 = *puVar1;
          *puVar1 = *puVar1 - uVar9;
          puVar1 = puVar15 + 1;
          *puVar1 = (*puVar1 - uVar8) - (uint)(uVar10 < uVar9);
          puVar15 = puVar15 + 2;
          plVar16 = plVar16 + 1;
          puVar14 = puVar14 + 2;
          local_a._2_2_ = (int *)((int)local_a._2_2_ + -1);
        } while (local_a._2_2_ != (int *)0x0);
        local_24[3] = local_24[3] + 1;
        local_a._0_2_ = (int *)local_a + 1;
      } while ((int *)local_a < local_24 + 2);
      if (((*(byte *)(local_24[0] + 5) & 4) == 0) && ((*(byte *)(local_24[1] + 5) & 4) == 0)) {
        puVar14 = (uint *)(local_24[1] + 0x2c);
        puVar15 = (uint *)(local_24[0] + 0x2c);
        iVar13 = 0;
        do {
          if ((*puVar15 != 0) || (*puVar14 != 0)) {
            uVar6 = *(undefined4 *)(*(int *)(local_24[0] + 2) * 4 + 0x72);
            uVar9 = *(uint *)((int)uVar6 + iVar13 + 0x38);
            if ((puVar15[-0x10] == 0) && (*puVar15 != 0)) {
              puVar1 = puVar14;
              *puVar1 = *puVar1 + *puVar15;
              *puVar15 = 0;
            }
            else if ((puVar14[-0x10] == 0) && (*puVar14 != 0)) {
              puVar1 = puVar15;
              *puVar1 = *puVar1 + *puVar14;
              *puVar14 = 0;
            }
            else if ((*puVar15 < uVar9) || (uVar9 <= *puVar14)) {
              if ((uVar9 <= *puVar14) && (*puVar15 < uVar9)) {
                iVar7 = (*puVar14 - uVar9) + 1;
                puVar1 = puVar14;
                *puVar1 = *puVar1 - iVar7;
                puVar1 = puVar15;
                *puVar1 = *puVar1 + iVar7;
              }
            }
            else {
              iVar7 = (*puVar15 - uVar9) + 1;
              puVar1 = puVar15;
              *puVar1 = *puVar1 - iVar7;
              puVar1 = puVar14;
              *puVar1 = *puVar1 + iVar7;
            }
          }
          puVar14 = puVar14 + 1;
          puVar15 = puVar15 + 1;
          iVar13 = iVar13 + 0x87;
        } while (iVar13 < 0x870);
      }
      return;
    }
  } while( true );
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1028_5a3e(int param_1,int param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  ulong uVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  undefined2 unaff_SI;
  uint uVar7;
  undefined4 *puVar8;
  undefined2 unaff_DI;
  undefined4 *puVar9;
  undefined2 uVar10;
  undefined2 unaff_SS;
  undefined4 uVar11;
  undefined *local_f8;
  undefined2 local_ec [52];
  undefined2 local_84;
  byte local_7f;
  int local_78 [52];
  int local_10;
  int local_e;
  int local_c;
  int local_a;
  undefined4 local_8;
  undefined2 local_4;

  uVar11 = CONCAT22(unaff_DI,unaff_SI);
  uVar7 = *_PTR_DAT_10a8_0000_10a8_006e;
  uVar6 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + 2);
  local_8 = (int *)CONCAT22(uVar6,(undefined4 *)local_8);
  local_10 = 0;
  local_a = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    local_c = 0;
    do {
      if ((*(int *)(uVar7 + 2) == param_2) &&
         (iVar5 = param_1 * 2, 0 < *(int *)(uVar7 + 0xc + iVar5))) {
        puVar8 = (undefined4 *)&local_84;
        for (iVar4 = 0x1d; iVar4 != 0; iVar4 = iVar4 + -1) {
          puVar1 = puVar8;
          puVar8 = puVar8 + 1;
          *puVar1 = 0;
        }
        local_e = *(int *)(uVar7 + 0xc + iVar5);
        local_10 = local_10 + local_e;
        iVar4 = 0;
        local_4 = 0;
        uVar3 = (ulong)local_8 & 0xffff0000;
        local_8 = (int *)(uVar3 | uVar7);
        do {
          local_8._2_2_ = (undefined2)(uVar3 >> 0x10);
          if ((iVar4 != param_1) && (*(int *)(uVar7 + 0xc + iVar4 * 2) != 0)) break;
          iVar4 = iVar4 + 1;
        } while (iVar4 < 0x10);
        if (iVar4 != 0x10) {
          local_84 = local_84 ^
                     ((byte)((byte)((ulong)(uint)(param_2 << 9) >> 8) ^ local_84._1_1_) & 0x1e) << 8
          ;
          local_7f = local_7f | 4;
          local_78[param_1] = local_e;
          puVar8 = (undefined4 *)&local_f8;
          for (iVar5 = 0x1d; iVar5 != 0; iVar5 = iVar5 + -1) {
            puVar2 = puVar8;
            puVar8 = puVar8 + 1;
            puVar1 = (undefined4 *)local_8;
            local_8._0_2_ = (undefined4 *)local_8 + 1;
            *puVar2 = *puVar1;
          }
          local_ec[param_1] = 0;
          FUN_1028_555a((int)&local_f8,(int)&local_84);
          puVar8 = (undefined4 *)&local_f8;
          puVar9 = (undefined4 *)local_8;
          for (iVar5 = 0x1d; iVar5 != 0; iVar5 = iVar5 + -1) {
            puVar2 = puVar9;
            puVar9 = puVar9 + 1;
            puVar1 = puVar8;
            puVar8 = puVar8 + 1;
            *puVar2 = *puVar1;
          }
          if ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) &&
             (local_f8 == PTR_DAT_10a8_0000_10a8_7b62)) {
            FUN_1010_0cda((uint)local_f8,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
            FUN_1030_2da8((int16 *)0x0,(undefined *)0x0,uVar11);
            FUN_1020_23f2((uint)PTR_DAT_10a8_0000_10a8_7b62);
            FUN_1010_0cda((uint)PTR_DAT_10a8_0000_10a8_7b62,
                          (undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
            FUN_1028_47a0();
            FUN_1020_0736((int16 *)0x0,0x83b5);
            INVALIDATERECT(1,(RECT16 *)0x0,0);
          }
          goto LAB_1028_5bc8;
        }
        *(undefined2 *)(uVar7 + iVar5 + 0xc) = 0;
        FUN_1010_110c(*local_8,0,(undefined *)0xffff);
      }
      else {
LAB_1028_5bc8:
        local_c = local_c + 4;
        local_a = local_a + 1;
      }
      uVar10 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
      uVar7 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + local_c);
      uVar6 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + local_c + 2);
      local_8 = (int *)((ulong)local_8 & 0xffff | (ulong)uVar6 << 0x10);
    } while (local_a < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  FUN_1028_5bfa(param_1);
  return;
}



void __cdecl16far FUN_1028_5bfa(int param_1)

{
  ulong *puVar1;
  undefined2 uVar2;
  undefined4 uVar3;
  undefined *puVar4;
  undefined *puVar5;
  ulong *puVar6;
  undefined *puVar7;
  int iVar8;
  int unaff_SS;
  int iVar9;
  int local_e;
  int local_8;

  puVar4 = PTR_DAT_10a8_0000_10a8_006c;
  iVar9 = (int)s_From___s_c_c_10a8_10a2 + 6;
  puVar5 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
  puVar7 = PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a < puVar5) {
    do {
      if (((*(long *)(puVar7 + 0x38) != 0) &&
          (uVar3 = *(undefined4 *)(puVar7 + 0x38), *(char *)((int)uVar3 + 3) != '\0')) &&
         (*(int *)(puVar7 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0)) {
        iVar8 = 0;
        local_e = 0;
        puVar1 = *(ulong **)(puVar7 + 0x38);
        uVar2 = *(undefined2 *)(puVar7 + 0x3a);
        if (*(char *)((int)puVar1 + 3) != '\0') {
          local_8 = 0;
          do {
            puVar6 = puVar1 + 1;
            if (((*(uint *)((int)puVar1 + 6) & 0xe) != 4) ||
               ((int)((*puVar6 & 0x1fc00) >> 10) != param_1)) {
              if (local_e != iVar8) {
                uVar3 = *(undefined4 *)(puVar7 + 0x38);
                *(ulong *)((int)uVar3 + local_8 + 4) = *puVar6;
              }
              local_8 = local_8 + 4;
              iVar8 = iVar8 + 1;
            }
            uVar3 = *(undefined4 *)(puVar7 + 0x38);
            local_e = local_e + 1;
            iVar9 = unaff_SS;
            puVar1 = puVar6;
          } while (local_e < (int)(uint)*(byte *)((int)uVar3 + 3));
        }
        if (iVar8 == 0) {
          uVar3 = *(undefined4 *)(puVar7 + 0x38);
          FUN_1038_05b8((uint)uVar3,(uint)((ulong)uVar3 >> 0x10));
          *(undefined4 *)(puVar7 + 0x38) = 0;
        }
        else if (local_e != iVar8) {
          uVar3 = *(undefined4 *)(puVar7 + 0x38);
          *(undefined *)((int)uVar3 + 3) = (char)iVar8;
        }
      }
      puVar7 = puVar7 + 0x3c;
    } while (puVar7 < puVar5);
  }
  if ((*(int *)&PTR_DAT_10a8_0000_10a8_7b4c == 1) && (*(long *)&PTR_DAT_10a8_0000_10a8_7c0e != 0)) {
    FUN_1010_02b0(*(int *)&PTR_DAT_10a8_0000_10a8_7bd6,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bd6);
    FUN_1020_3370((undefined *)*(undefined2 *)&PTR_DAT_10a8_0000_10a8_8346,
                  *(long *)&PTR_DAT_10a8_0000_10a8_7c0e);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1028_5d44(int param_1,undefined2 *param_2)

{
  undefined2 uVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined *puVar4;
  ulong *puVar5;
  ulong *puVar6;
  int iVar7;
  int unaff_SS;
  int iVar8;
  int local_e;
  undefined4 local_c;

  iVar8 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_e = 0;
  *param_2 = 0;
  puVar4 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
  local_c = _PTR_DAT_10a8_0000_10a8_006a;
  for (; PTR_DAT_10a8_0000_10a8_006a < puVar4;
      PTR_DAT_10a8_0000_10a8_006a = PTR_DAT_10a8_0000_10a8_006a + 0x3c) {
    local_c._2_2_ = (undefined2)(local_c >> 0x10);
    if (((*(long *)(PTR_DAT_10a8_0000_10a8_006a + 0x38) != 0) &&
        (uVar3 = *(undefined4 *)(PTR_DAT_10a8_0000_10a8_006a + 0x38),
        *(char *)((int)uVar3 + 3) != '\0')) &&
       (*(int *)(PTR_DAT_10a8_0000_10a8_006a + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0)) {
      uVar3 = *(undefined4 *)(PTR_DAT_10a8_0000_10a8_006a + 0x38);
      uVar1 = *(undefined2 *)(PTR_DAT_10a8_0000_10a8_006a + 0x3a);
      puVar5 = (ulong *)uVar3;
      if (*(char *)((int)puVar5 + 3) != '\0') {
        local_c = local_c & 0xffff0000;
        iVar7 = 0;
        do {
          puVar6 = puVar5 + 1;
          if ((((*(uint *)((int)puVar5 + 6) & 0xe) == 4) &&
              ((int)((*puVar6 & 0x1fc00) >> 10) == param_1)) &&
             (uVar2 = *(uint *)puVar6,
             local_e = local_e + (uVar2 & 0xff | ((byte)((ulong)uVar2 >> 8) & 3) << 8),
             (*(uint *)((int)puVar5 + 6) & 0x7f0) != 0)) {
            *param_2 = 1;
          }
          uVar3 = *(undefined4 *)(PTR_DAT_10a8_0000_10a8_006a + 0x38);
          iVar7 = iVar7 + 1;
          iVar8 = unaff_SS;
          puVar5 = puVar6;
        } while (iVar7 < (int)(uint)*(byte *)((int)uVar3 + 3));
      }
    }
  }
  return local_e;
}



void __cdecl16far
FUN_1028_5e2e(undefined4 *param_1,undefined2 param_2,undefined4 *param_3,undefined2 param_4)

{
  int *piVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  int *piVar5;
  undefined4 *puVar6;
  undefined2 unaff_SS;
  undefined4 local_ec [3];
  int local_e0 [16];
  int local_c0 [36];
  undefined4 local_78 [29];
  int *local_4;

  puVar6 = local_ec;
  for (iVar4 = 0x1d; iVar4 != 0; iVar4 = iVar4 + -1) {
    puVar3 = puVar6;
    puVar6 = puVar6 + 1;
    puVar2 = param_1;
    param_1 = param_1 + 1;
    *puVar3 = *puVar2;
  }
  puVar6 = local_78;
  for (iVar4 = 0x1d; iVar4 != 0; iVar4 = iVar4 + -1) {
    puVar3 = puVar6;
    puVar6 = puVar6 + 1;
    puVar2 = param_3;
    param_3 = param_3 + 1;
    *puVar3 = *puVar2;
  }
  piVar5 = local_e0;
  local_4 = piVar5;
  do {
    piVar1 = piVar5;
    *piVar1 = *piVar1 + piVar5[0x3a];
    piVar5[0x3a] = 0;
    piVar5 = piVar5 + 1;
  } while (piVar5 < local_c0);
  FUN_1028_555a((int)local_ec,(int)local_78);
  puVar6 = local_ec;
  do {
    FUN_1010_0cda(0xffff,puVar6);
    puVar6 = puVar6 + 0x1d;
  } while (puVar6 < &local_4);
  FUN_1010_110c((int)local_78[0],2,(undefined *)local_ec[0]);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1028_5ec4(int *param_1)

{
  int *piVar1;
  uint *puVar2;
  uint uVar3;
  undefined4 uVar4;
  bool bVar5;
  int iVar6;
  undefined3 extraout_var;
  byte bVar7;
  int iVar8;
  undefined2 uVar9;
  long local_22;
  byte local_1c;
  int local_1a;
  int local_18;
  undefined4 local_14;
  int local_10;
  int local_e;
  int local_c;
  int local_a;
  uint local_8;
  uint local_6;
  int local_4;

  local_10 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    local_e = 0;
    do {
      uVar9 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
      uVar3 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + local_e);
      local_6 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + local_e + 2);
      if ((local_6 | uVar3) == 0) {
        return;
      }
      if (((*(uint *)(uVar3 + 0x66) | *(uint *)(uVar3 + 100)) != 0) &&
         (local_a = *(int *)(uVar3 + 0x62) + -1, -1 < local_a)) {
        iVar6 = local_a * 0x12;
        local_8 = uVar3;
        local_4 = iVar6;
        do {
          uVar4 = *(undefined4 *)(uVar3 + 100);
          if (((*(byte *)((int)uVar4 + iVar6 + 0xb) & 3) == 2) &&
             (uVar4 = *(undefined4 *)(uVar3 + 100), *(int *)((int)uVar4 + iVar6 + 8) == *param_1)) {
            uVar9 = (undefined2)((ulong)param_1 >> 0x10);
            iVar8 = (int)param_1;
            local_14 = *(undefined4 *)(iVar8 + 8);
            piVar1 = (int *)(iVar8 + 8);
            *piVar1 = *piVar1 + 1;
            bVar5 = FUN_1010_18d2((int)local_14,(int)((ulong)local_14 >> 0x10),0x83,&local_22);
            if ((int)CONCAT31(extraout_var,bVar5) == 0) {
              bVar7 = 0;
              local_c = local_a;
            }
            else if ((local_1c & 2) == 0) {
              bVar7 = 1;
              local_c = local_1a;
            }
            else {
              bVar7 = 2;
              local_c = **(int **)(PTR_DAT_10a8_0000_10a8_006e + local_18 * 4);
            }
            piVar1 = (int *)(iVar8 + 8);
            *piVar1 = *piVar1 + -1;
            uVar4 = *(undefined4 *)(uVar3 + 100);
            *(int *)((int)uVar4 + iVar6 + 8) = local_c;
            uVar4 = *(undefined4 *)(uVar3 + 100);
            uVar9 = (undefined2)((ulong)uVar4 >> 0x10);
            iVar8 = (int)uVar4;
            puVar2 = (uint *)(iVar8 + iVar6 + 10);
            *puVar2 = *puVar2 ^ ((*(byte *)(iVar8 + iVar6 + 0xb) ^ bVar7) & 3) << 8;
          }
          local_a = local_a + -1;
          iVar6 = iVar6 + -0x12;
        } while (-1 < iVar6);
      }
      local_e = local_e + 4;
      local_10 = local_10 + 1;
    } while (local_10 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  return;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulong __stdcall16far SCANNERWNDPROC(int param_1,ulong param_2,ulong param_3)

{
  undefined2 *puVar1;
  undefined4 *puVar2;
  undefined2 *puVar3;
  undefined4 *puVar4;
  uint *puVar5;
  undefined4 uVar6;
  undefined *puVar7;
  char cVar8;
  bool bVar9;
  int16 *piVar10;
  HCURSOR16 HVar11;
  int iVar12;
  bool16 bVar13;
  undefined3 extraout_var;
  undefined *puVar14;
  int *piVar15;
  int *piVar16;
  undefined *puVar17;
  undefined2 unaff_SI;
  undefined4 *puVar18;
  undefined2 *puVar19;
  undefined2 unaff_DI;
  undefined2 *puVar20;
  undefined4 *puVar21;
  PAINTSTRUCT16 *unaff_SS;
  bool bVar22;
  ulong uVar23;
  undefined uVar24;
  undefined uVar25;
  undefined4 *in_stack_0000fe74;
  uint uVar26;
  undefined in_stack_0000fe76;
  undefined in_stack_0000fe77;
  undefined uVar27;
  undefined uVar28;
  WPARAM16 in_stack_0000fe7c;
  undefined2 in_stack_0000fe7e;
  WPARAM16 in_stack_0000fe80;
  undefined2 in_stack_0000fe82;
  bool16 in_stack_0000fe84;
  bool16 in_stack_0000fe86;
  undefined in_stack_0000fe88 [12];
  bool16 in_stack_0000fe94;
  undefined4 local_ba;
  undefined4 local_7e [3];
  undefined2 uStack_72;
  undefined *puStack_70;
  int aiStack_6e [18];
  undefined local_4a [4];
  ulong local_46 [7];
  long local_2a;
  undefined *local_26;
  byte local_24;
  undefined *local_22;
  int local_20;
  undefined2 local_1e;
  undefined local_1c [6];
  int local_16;
  undefined4 local_14;
  undefined *local_10;
  undefined *local_e;
  undefined *local_c;
  undefined4 local_a;
  int local_6;
  uint *local_4;

  puVar7 = PTR_DAT_10a8_0000_10a8_589e;
                    // Segment:    7
                    // Offset:     00027340
                    // Length:     3fde
                    // Min Alloc:  3fde
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  puVar14 = PTR_DAT_10a8_0000_10a8_589c;
  uVar24 = (undefined)(param_3 >> 0x10);
  uVar27 = SUB21(unaff_SS,0);
  uVar28 = (undefined)((uint)unaff_SS >> 8);
  if ((uint)param_3 == 0x20) {
    in_stack_0000fe74 = &local_14;
    GETCURSORPOS((POINT16 *)in_stack_0000fe74);
    SCREENTOCLIENT((HWND16)&local_14,
                   (POINT16 *)
                   CONCAT13((char)((uint)PTR_DAT_10a8_0000_10a8_00c4 >> 8),
                            CONCAT12((char)PTR_DAT_10a8_0000_10a8_00c4,unaff_SS)));
    GETCLIENTRECT((HWND16)local_1c,
                  (RECT16 *)(param_3 & 0xff000000 | (ulong)CONCAT12(uVar24,unaff_SS)));
    bVar13 = PTINRECT((RECT16 *)local_14,SUB41((ulong)local_14 >> 0x10,0));
    in_stack_0000fe76 = uVar27;
    in_stack_0000fe77 = uVar28;
    if (bVar13 != 0) {
      local_16 = local_16 - (int)PTR_DAT_10a8_0000_10a8_5762;
      bVar13 = PTINRECT((RECT16 *)local_14,SUB41((ulong)local_14 >> 0x10,0));
      if (bVar13 == 0) {
        bVar13 = PTINRECT((RECT16 *)local_14,SUB41((ulong)local_14 >> 0x10,0));
        if (bVar13 == 0) {
          HVar11 = LOADCURSOR(0x7f00,(LPCSTR)0x0);
          uVar24 = (undefined)HVar11;
          uVar25 = (undefined)(HVar11 >> 8);
        }
        else {
          uVar24 = SUB21(PTR_DAT_10a8_0000_10a8_834a,0);
          uVar25 = (undefined)((uint)PTR_DAT_10a8_0000_10a8_834a >> 8);
        }
      }
      else {
        if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
          uVar24 = 0x10;
          uVar25 = 0;
          piVar10 = GETASYNCKEYSTATE((int16 *)&PTR_DAT_10a8_0000_10a8_0010,
                                     (int16)CONCAT214(in_stack_0000fe82,
                                                      CONCAT212(in_stack_0000fe80,
                                                                CONCAT210(in_stack_0000fe7e,
                                                                          CONCAT28(in_stack_0000fe7c
                                                                                   ,CONCAT26(
                                                  unaff_DI,CONCAT24(unaff_SI,CONCAT13(uVar28,
                                                  CONCAT12(uVar27,in_stack_0000fe74)))))))));
          if ((((uint)piVar10 & 0xfffe) != 0) ||
             (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&DAT_10a8_0001)) goto LAB_1030_01dc;
        }
        iVar12 = FUN_1030_345a(local_14,0);
        if (iVar12 == 0) {
          uVar24 = SUB21(PTR_DAT_10a8_0000_10a8_7c3e,0);
          uVar25 = (undefined)((uint)PTR_DAT_10a8_0000_10a8_7c3e >> 8);
        }
        else {
          uVar24 = SUB21(PTR_DAT_10a8_0000_10a8_7d50,0);
          uVar25 = (undefined)((uint)PTR_DAT_10a8_0000_10a8_7d50 >> 8);
        }
      }
LAB_1030_01dc:
      SETCURSOR(CONCAT11(uVar25,uVar24));
      return 1;
    }
LAB_1030_0844:
    uVar23 = DEFWINDOWPROC(param_1,(uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT111(
                                                  in_stack_0000fe77,
                                                  CONCAT110(in_stack_0000fe76,
                                                            CONCAT28(in_stack_0000fe74,
                                                                     CONCAT17((char)(param_3 >> 0x18
                                                                                    ),CONCAT16(
                                                  uVar24,CONCAT24((uint)param_3,param_2)))))))),
                           in_stack_0000fe7c,CONCAT22(in_stack_0000fe80,in_stack_0000fe7e));
    return uVar23;
  }
  if ((uint)param_3 < 0x21) {
    if ((uint)param_3 == 0x14) {
      GETCLIENTRECT((HWND16)local_1c,
                    (RECT16 *)(param_3 & 0xff000000 | (ulong)CONCAT12(uVar24,unaff_SS)));
      uVar24 = (undefined)(param_2 >> 0x10);
      uVar27 = (undefined)(param_2 >> 0x18);
      puVar14 = local_1c;
      piVar10 = (int16 *)GETSTOCKOBJECT((int16)CONCAT214(in_stack_0000fe7e,
                                                         CONCAT212(in_stack_0000fe7c,
                                                                   CONCAT210(unaff_DI,CONCAT28(
                                                  unaff_SI,CONCAT17(uVar27,CONCAT16(uVar24,CONCAT24(
                                                  unaff_SS,CONCAT13((char)((uint)puVar14 >> 8),
                                                                    CONCAT12((char)puVar14,4))))))))
                                                  ));
      FILLRECT(piVar10,(HDC16)puVar14,(RECT16 *)unaff_SS,CONCAT11(uVar27,uVar24));
      return 1;
    }
    if ((uint)param_3 < 0x15) {
      cVar8 = (char)param_3;
      if (cVar8 == '\x01') {
        FUN_1030_2b48();
        PTR_DAT_10a8_0000_10a8_589c = (undefined *)((int)s__s___s_computer_player__10a8_03d3 + 0x15)
        ;
        PTR_DAT_10a8_0000_10a8_589e = (undefined *)((int)s__s___s_computer_player__10a8_03d3 + 0x15)
        ;
        return 0;
      }
      if (cVar8 == '\x05') {
        FUN_1030_2b72(param_3._2_2_,
                      CONCAT210(in_stack_0000fe82,
                                CONCAT28(in_stack_0000fe80,
                                         CONCAT26(in_stack_0000fe7e,
                                                  CONCAT24(in_stack_0000fe7c,
                                                           CONCAT22(unaff_DI,unaff_SI))))),
                      in_stack_0000fe84,in_stack_0000fe86);
        in_stack_0000fe76 = SUB21(PTR_DAT_10a8_0000_10a8_58b4,0);
        in_stack_0000fe77 = (undefined)((uint)PTR_DAT_10a8_0000_10a8_58b4 >> 8);
        in_stack_0000fe74 = (undefined4 *)0x111;
        POSTMESSAGE(0,(uint16)CONCAT214(in_stack_0000fe7e,
                                        CONCAT212(in_stack_0000fe7c,
                                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17(
                                                  in_stack_0000fe77,
                                                  CONCAT16(in_stack_0000fe76,
                                                           CONCAT24(0x111,ZEXT24(
                                                  PTR_DAT_10a8_0000_10a8_08b2 + 0xf40) << 0x10))))))
                                       ),in_stack_0000fe80,
                    CONCAT22(in_stack_0000fe84,in_stack_0000fe82));
      }
      else if (cVar8 == '\x0f') {
        piVar10 = (int16 *)BEGINPAINT((HWND16)local_4a,
                                      (PAINTSTRUCT16 *)
                                      (param_3 & 0xff000000 | (ulong)CONCAT12(uVar24,unaff_SS)));
        if (_PTR_DAT_10a8_0000_10a8_006e != (uint **)0x0) {
          GETCLIENTRECT((HWND16)local_1c,(RECT16 *)(param_3 & 0xffff0000 | ZEXT24(unaff_SS)));
          FUN_1030_2348(piVar10,(RECT16 *)local_46,(undefined2 *)0x0,(VA_LIST16)&DAT_10a8_0001);
          local_16 = local_16 - (int)PTR_DAT_10a8_0000_10a8_5762;
          FUN_1030_0968(piVar10,local_46,0);
        }
        ENDPAINT((HWND16)local_4a,unaff_SS);
        return 0;
      }
    }
    goto LAB_1030_0844;
  }
  if ((uint)param_3 == 0x201) {
LAB_1030_02f8:
    SETFOCUS((HWND16)PTR_DAT_10a8_0000_10a8_58b4);
    local_14 = CONCAT22((undefined2)param_2,param_1);
    GETCLIENTRECT((HWND16)local_1c,
                  (RECT16 *)(param_3 & 0xff000000 | (ulong)CONCAT12(uVar24,unaff_SS)));
    if (local_16 - (int)PTR_DAT_10a8_0000_10a8_5762 <= local_14._2_2_) {
      bVar13 = PTINRECT((RECT16 *)local_14,SUB41((ulong)local_14 >> 0x10,0));
      if (bVar13 == 0) {
        if ((uint)param_3 == 0x204) {
          return 0;
        }
        if (-(((int)PTR_DAT_10a8_0000_10a8_5762 >> 1) - local_16) <= local_14._2_2_) {
          return 0;
        }
        if ((int)local_14 < 0x33) {
          return 0;
        }
        if (((byte)PTR_DAT_10a8_0000_10a8_7b5a & 3) == 0) {
          return 0;
        }
        if (PTR_DAT_10a8_0000_10a8_7b58 == (undefined *)&DAT_10a8_0002) {
          PTR_DAT_10a8_0000_10a8_1144 = (undefined *)&DAT_10a8_0003;
          _PTR_DAT_10a8_0000_10a8_1146 =
               *(undefined4 *)
                ((int)PTR_DAT_10a8_0000_10a8_7b5e * 4 + (int)_PTR_DAT_10a8_0000_10a8_006e);
        }
        else {
          PTR_DAT_10a8_0000_10a8_1144 = (undefined *)&PTR_LOOP_10a8_0004;
        }
      }
      else {
        if ((uint)param_3 == 0x204) {
          local_c = PTR_DAT_10a8_0000_10a8_07aa;
          puVar21 = local_7e;
          puVar18 = (undefined4 *)&PTR_s_Normal_View_10a8_082e_10a8_0892;
          for (iVar12 = 3; iVar12 != 0; iVar12 = iVar12 + -1) {
            puVar4 = puVar21;
            puVar21 = puVar21 + 1;
            puVar2 = puVar18;
            puVar18 = puVar18 + 1;
            *puVar4 = *puVar2;
          }
          local_a._0_2_ = 6;
          local_6 = 0;
          uVar26 = 0x7261;
          do {
            if ((*(byte *)(uVar26 + 1) & 2) == 0) break;
            local_6 = local_6 + 1;
            uVar26 = uVar26 + 0x87;
          } while (uVar26 < 0x7ad1);
          if (local_6 < 0x10) {
            if (local_c == (undefined *)0x6) {
              local_c = PTR_DAT_10a8_0000_10a8_8348 + 8;
            }
            uStack_72 = 0;
            puStack_70 = PTR_s_Ship_Filter_10a8_0879_10a8_089e;
            local_a._0_2_ = 8;
            if (local_6 < 0x10) {
              uVar26 = local_6 * 0x87 + 0x7261;
              local_a = (uint **)(ZEXT24(aiStack_6e) << 0x10);
              piVar15 = aiStack_6e;
              do {
                piVar16 = piVar15;
                if ((*(byte *)(uVar26 + 1) & 2) == 0) {
                  piVar16 = piVar15 + 1;
                  *piVar15 = uVar26 - 0x73;
                  local_a._0_2_ = (int)local_a + 1;
                }
                uVar26 = uVar26 + 0x87;
                piVar15 = piVar16;
              } while (uVar26 < 0x7ad1);
            }
            *(undefined2 *)((int)local_7e + (int)local_a * 2) = 0;
            local_a._0_2_ = (int)local_a + 1;
          }
          local_4 = (uint *)(int)local_a;
          if (6 < (int)PTR_DAT_10a8_0000_10a8_07aa) {
            local_c = PTR_DAT_10a8_0000_10a8_07aa + (int)local_a + -6;
          }
          puVar20 = (undefined2 *)((int)local_7e + (int)local_a * 2);
          puVar19 = (undefined2 *)&PTR_s_Planets_Only_10a8_0885_10a8_08a0;
          for (iVar12 = 1; iVar12 != 0; iVar12 = iVar12 + -1) {
            puVar3 = puVar20;
            puVar20 = puVar20 + 1;
            puVar1 = puVar19;
            puVar19 = puVar19 + 1;
            *puVar3 = *puVar1;
          }
          local_a._0_2_ = (int)local_a + 1;
          local_c = FUN_1058_0cc6((int)param_3._2_2_,(int)local_14,(int)((ulong)local_14 >> 0x10),
                                  (int)local_a,0,(int)local_7e,(HMENU16)local_c);
          if (local_c == (undefined *)0xffff) {
            return 0;
          }
          if (local_c == PTR_DAT_10a8_0000_10a8_07aa) {
            return 0;
          }
          if ((int)local_c < (int)local_4) {
            PTR_DAT_10a8_0000_10a8_07aa = local_c;
            if (5 < (int)local_c) {
              PTR_DAT_10a8_0000_10a8_07aa = (undefined *)0x6;
              PTR_DAT_10a8_0000_10a8_8348 = local_c + -8;
            }
          }
          else {
            PTR_DAT_10a8_0000_10a8_07aa = local_c + (7 - (int)local_4);
          }
          INVALIDATERECT(1,(RECT16 *)0x0,0);
          if ((DAT_10a8_0a47 & 0x40) == 0) {
            return 0;
          }
          FUN_1090_88fa();
          return 0;
        }
        PTR_DAT_10a8_0000_10a8_1144 = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_000c + 1);
        uVar24 = SUB21(PTR_DAT_10a8_0000_10a8_00c4,0);
      }
      FUN_1058_0832(uVar24,(int)local_14,(char)((ulong)local_14 >> 0x10));
      return 0;
    }
    FUN_1030_3140((int *)&local_14);
    FUN_1010_18d2((int)local_14,(int)((ulong)local_14 >> 0x10),7,&local_2a);
    if ((uint)param_3 == 0x204) {
      local_10 = (undefined *)0xffff;
      local_14 = local_2a;
      if ((local_24 & 1) == 0) {
        local_e = (undefined *)0x0;
      }
      else {
        if ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001) &&
           (local_22 == PTR_DAT_10a8_0000_10a8_7b50)) {
          local_10 = (undefined *)0x0;
        }
        local_e = (undefined *)&DAT_10a8_0002;
      }
      local_c = (undefined *)0x0;
      if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
        puVar21 = (undefined4 *)(&stack0xfe7e + (int)local_e * 2);
        local_a = _PTR_DAT_10a8_0000_10a8_006e;
        do {
          puVar5 = *local_a;
          local_4 = *(uint **)((int)local_a + 2);
          if (((uint)local_4 | (uint)puVar5) == 0) break;
          if (*(long *)(puVar5 + 4) == local_14) {
            if ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) &&
               ((undefined *)*puVar5 == PTR_DAT_10a8_0000_10a8_7b50)) {
              local_10 = local_e;
            }
            uVar26 = *puVar5;
            *(uint *)puVar21 = uVar26 & 0xff | (uint)(byte)((ulong)uVar26 >> 8) << 8 | 0x8000;
            puVar21 = (undefined4 *)((int)puVar21 + 2);
            local_e = local_e + 1;
            if (&local_ba <= puVar21) break;
          }
          local_a = (uint **)((ulong)local_a & 0xffff0000 | (ulong)((int)local_a + 4));
          local_c = (undefined *)((int)local_c + 1);
        } while ((int)local_c < (int)PTR_DAT_10a8_0000_10a8_83c6);
      }
      puVar14 = local_e;
      if ((local_e == (undefined *)&DAT_10a8_0002) && ((local_24 & 1) != 0)) {
        puVar14 = (undefined *)&DAT_10a8_0001;
      }
      FUN_1030_3110((int *)&local_14);
      puVar14 = FUN_1058_0cc6((int)param_3._2_2_,(int)local_14,(int)((ulong)local_14 >> 0x10),
                              (int)puVar14,(int)&stack0xfe7e,0,(HMENU16)local_10);
      if ((int)puVar14 < 0) {
        return 0;
      }
      uVar26 = *(uint *)(&stack0xfe7e + (int)puVar14 * 2);
      if ((uVar26 & 0x8000) == 0) {
        local_26 = (undefined *)&DAT_10a8_0001;
      }
      else {
        local_26 = (undefined *)&DAT_10a8_0002;
        uVar26 = uVar26 & 0xff | ((byte)((ulong)uVar26 >> 8) & 0x7f) << 8;
        local_a = (uint **)((ulong)local_a & 0xffff | (ulong)uVar26 << 0x10);
        local_20 = 0;
        if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
          local_e = PTR_DAT_10a8_0000_10a8_0070;
          do {
            puVar5 = *(uint **)PTR_DAT_10a8_0000_10a8_006e;
            local_4 = *(uint **)((int)PTR_DAT_10a8_0000_10a8_006e + 2);
            if ((((uint)local_4 | (uint)puVar5) == 0) || (*puVar5 == uVar26)) break;
            PTR_DAT_10a8_0000_10a8_006e = (undefined *)((int)PTR_DAT_10a8_0000_10a8_006e + 4);
            local_20 = local_20 + 1;
          } while (local_20 < (int)PTR_DAT_10a8_0000_10a8_83c6);
        }
      }
      FUN_1030_3a94(&local_2a,2);
      if (local_26 == (undefined *)&DAT_10a8_0001) {
        iVar12 = FUN_1010_02b0((int)local_22,&local_ba);
        if (iVar12 == 0) {
          return 0;
        }
        if (local_ba._2_2_ != PTR_DAT_10a8_0001_10a8_00c0) {
          return 0;
        }
      }
    }
    else {
      if ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) &&
         (((param_2 & 0x40000) != 0 || (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&DAT_10a8_0001))
         )) {
        FUN_1030_3170(local_14,&local_2a);
        return 0;
      }
      bVar22 = local_2a != _PTR_DAT_10a8_0000_10a8_7b54;
      FUN_1030_3a94(&local_2a,1);
      iVar12 = FUN_1030_345a(local_14,1);
      if ((iVar12 != 0) && (bVar9 = FUN_1030_34d6(local_14), (int)CONCAT31(extraout_var,bVar9) != 0)
         ) {
        return 0;
      }
      if (bVar22) {
        return 0;
      }
      if ((local_26 != (undefined *)&DAT_10a8_0002) && (local_26 != (undefined *)&DAT_10a8_0001)) {
        return 0;
      }
      if (local_2a == _PTR_DAT_10a8_0000_10a8_7b48) {
        iVar12 = FUN_1030_3bbc(&local_2a,1);
        if (iVar12 == 0) {
          return 0;
        }
      }
      else if (local_26 == (undefined *)&DAT_10a8_0001) {
        iVar12 = FUN_1010_02b0((int)local_22,&local_ba);
        if (iVar12 == 0) {
          return 0;
        }
        if ((local_ba._2_2_ != PTR_DAT_10a8_0001_10a8_00c0) ||
           ((((local_24 & 2) != 0 && (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001))
            && (local_22 == PTR_DAT_10a8_0000_10a8_7b50)))) {
          if ((local_24 & 2) == 0) {
            return 0;
          }
          local_26 = (undefined *)&DAT_10a8_0002;
        }
      }
    }
    if ((local_26 == (undefined *)&DAT_10a8_0002) &&
       (uVar6 = *(undefined4 *)(local_20 * 4 + (int)_PTR_DAT_10a8_0000_10a8_006e),
       (undefined *)*(int *)((int)uVar6 + 2) != PTR_DAT_10a8_0001_10a8_00c0)) {
      return 0;
    }
    if (local_26 == (undefined *)&DAT_10a8_0002) {
      local_1e = 0xffff;
    }
    FUN_1030_3a94(&local_2a,1);
    FUN_1030_2da8((int16 *)0x0,(undefined *)0x0,CONCAT22(unaff_DI,unaff_SI));
    if (local_26 != (undefined *)&DAT_10a8_0001) {
      local_22 = *(undefined **)*(undefined4 *)(local_20 * 4 + (int)_PTR_DAT_10a8_0000_10a8_006e);
    }
    FUN_1020_2164(local_26,local_22);
    FUN_1030_2da8((int16 *)0x0,(undefined *)&DAT_10a8_0001,CONCAT22(unaff_DI,unaff_SI));
    if (local_26 != (undefined *)&DAT_10a8_0002) {
      return 0;
    }
    if ((local_24 & 1) == 0) {
      return 0;
    }
    local_26 = (undefined *)0x1;
    FUN_1030_3a94(&local_2a,1);
    return 0;
  }
  if (0x201 < (uint)param_3) {
    if (0x202 < (uint)param_3) {
      if ((uint)param_3 == 0x203 || (uint)param_3 == 0x204) goto LAB_1030_02f8;
      if ((uint)param_3 == 0x222) {
        if (param_2._2_2_ != 0) {
          PTR_DAT_10a8_0000_10a8_00c6 = param_3._2_2_;
          return 0;
        }
        PTR_DAT_10a8_0000_10a8_00c6 = (undefined *)0x0;
        return 0;
      }
    }
    goto LAB_1030_0844;
  }
  if ((uint)param_3 == 0x102) {
    if (param_2._2_2_ == 0x2d) {
      puVar14 = PTR_DAT_10a8_0000_10a8_08b2 + -1;
      if ((int)puVar14 < -3) {
        puVar14 = (undefined *)0xfffd;
      }
    }
    else {
      puVar14 = PTR_DAT_10a8_0000_10a8_08b2 + 1;
      if (4 < (int)puVar14) {
        puVar14 = (undefined *)&PTR_LOOP_10a8_0004;
      }
    }
    if (PTR_DAT_10a8_0000_10a8_08b2 == puVar14) {
      return 0;
    }
    SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000fe7e,
                                    CONCAT212(in_stack_0000fe7c,
                                              CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((char)((
                                                  uint)PTR_DAT_10a8_0000_10a8_58b4 >> 8),
                                                  CONCAT16((char)PTR_DAT_10a8_0000_10a8_58b4,
                                                           CONCAT24(0x111,ZEXT24(puVar14 + 0xf40) <<
                                                                          0x10))))))),
                in_stack_0000fe80,CONCAT22(in_stack_0000fe84,in_stack_0000fe82));
    return 0;
  }
  if (((uint)param_3 - 0x102 < 0x12) || (1 < (uint)param_3 - 0x114)) goto LAB_1030_0844;
  if (0x5ffff < param_2) {
    local_4 = (uint *)0x0;
    goto LAB_1030_027e;
  }
  switch((undefined4)*(undefined2 *)(param_2._2_2_ * 2 + 0x236)) {
  case 0x1030024a:
    puVar17 = PTR_DAT_10a8_0000_10a8_7a6c;
    goto LAB_1030_0259;
  case 0x10300250:
    local_4 = (uint *)PTR_DAT_10a8_0000_10a8_7a6c;
    break;
  case 0x10300256:
    puVar17 = PTR_DAT_10a8_0000_10a8_5a56;
LAB_1030_0259:
    local_4 = (uint *)-(int)puVar17;
    break;
  case 0x1030025e:
    local_4 = (uint *)PTR_DAT_10a8_0000_10a8_5a56;
    break;
  case 0x10300264:
    puVar17 = PTR_DAT_10a8_0000_10a8_589e;
    if ((uint)param_3 == 0x115) {
      puVar17 = PTR_DAT_10a8_0000_10a8_589c;
    }
    local_4 = (uint *)(param_1 - (int)puVar17 & 0xfffc);
  }
LAB_1030_027e:
  if (local_4 != (uint *)0x0) {
    if ((uint)param_3 == 0x115) {
      SETSCROLLPOS((int16 *)&DAT_10a8_0001,(HWND16)(PTR_DAT_10a8_0000_10a8_589c + (int)local_4),
                   (int16)CONCAT214(in_stack_0000fe82,
                                    CONCAT212(in_stack_0000fe80,
                                              CONCAT210(in_stack_0000fe7e,
                                                        CONCAT28(in_stack_0000fe7c,
                                                                 CONCAT26(unaff_DI,CONCAT24(unaff_SI
                                                  ,param_3 & 0xff000000 | (ulong)CONCAT12(uVar24,1))
                                                  ))))),
                   (int16)CONCAT124(in_stack_0000fe88,CONCAT22(in_stack_0000fe86,in_stack_0000fe84))
                   ,in_stack_0000fe94);
      PTR_DAT_10a8_0000_10a8_589c =
           (undefined *)
           GETSCROLLPOS((int16 *)&DAT_10a8_0001,(HWND16)param_3._2_2_,
                        (int16)CONCAT214(in_stack_0000fe86,
                                         CONCAT212(in_stack_0000fe84,
                                                   CONCAT210(in_stack_0000fe82,
                                                             CONCAT28(in_stack_0000fe80,
                                                                      CONCAT26(in_stack_0000fe7e,
                                                                               CONCAT24(
                                                  in_stack_0000fe7c,CONCAT22(unaff_DI,unaff_SI))))))
                                        ));
      iVar12 = FUN_1030_085a((int)puVar14 - (int)PTR_DAT_10a8_0000_10a8_589c);
      uVar24 = (undefined)iVar12;
      uVar27 = (undefined)((uint)iVar12 >> 8);
      uVar26 = 0;
    }
    else {
      SETSCROLLPOS((int16 *)&DAT_10a8_0001,(HWND16)(PTR_DAT_10a8_0000_10a8_589e + (int)local_4),
                   (int16)(ZEXT1416(CONCAT212(in_stack_0000fe82,
                                              CONCAT210(in_stack_0000fe80,
                                                        CONCAT28(in_stack_0000fe7e,
                                                                 CONCAT26(in_stack_0000fe7c,
                                                                          CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,param_3._2_2_))))))) << 0x10),
                   (int16)CONCAT124(in_stack_0000fe88,CONCAT22(in_stack_0000fe86,in_stack_0000fe84))
                   ,in_stack_0000fe94);
      PTR_DAT_10a8_0000_10a8_589e =
           (undefined *)
           GETSCROLLPOS((int16 *)0x0,(HWND16)param_3._2_2_,
                        (int16)CONCAT214(in_stack_0000fe86,
                                         CONCAT212(in_stack_0000fe84,
                                                   CONCAT210(in_stack_0000fe82,
                                                             CONCAT28(in_stack_0000fe80,
                                                                      CONCAT26(in_stack_0000fe7e,
                                                                               CONCAT24(
                                                  in_stack_0000fe7c,CONCAT22(unaff_DI,unaff_SI))))))
                                        ));
      uVar24 = 0;
      uVar27 = 0;
      uVar26 = FUN_1030_085a((int)puVar7 - (int)PTR_DAT_10a8_0000_10a8_589e);
    }
    FUN_1030_2c36(uVar26,CONCAT11(uVar27,uVar24),
                  CONCAT210(in_stack_0000fe82,
                            CONCAT28(in_stack_0000fe80,
                                     CONCAT26(in_stack_0000fe7e,
                                              CONCAT24(in_stack_0000fe7c,CONCAT22(unaff_DI,unaff_SI)
                                                      )))));
  }
  return 0;
}



int __cdecl16far FUN_1030_085a(int param_1)

{
  int iVar1;

  if (PTR_DAT_10a8_0000_10a8_08b2 == (undefined *)0x0) {
    return param_1;
  }
  switch(PTR_DAT_10a8_0000_10a8_08b2) {
  case (undefined *)0x1:
    iVar1 = param_1 << 2;
LAB_1030_08ab:
    param_1 = iVar1 + param_1 >> 2;
    break;
  case (undefined *)0x2:
    param_1 = param_1 * 3 >> 1;
    break;
  case (undefined *)0x3:
    param_1 = param_1 * 2;
    break;
  case (undefined *)0x4:
    param_1 = param_1 << 2;
    break;
  case (undefined *)0xfffd:
  case (undefined *)0xfffe:
    param_1 = param_1 >> (-(char)PTR_DAT_10a8_0000_10a8_08b2 - 1U & 0x1f);
    break;
  case (undefined *)0xffff:
    iVar1 = param_1 * 2;
    goto LAB_1030_08ab;
  }
  return param_1;
}



int __cdecl16far FUN_1030_08e0(int param_1)

{
  int iVar1;
  int iVar2;

  if (PTR_DAT_10a8_0000_10a8_08b2 == (undefined *)0x0) {
    return param_1;
  }
  switch(PTR_DAT_10a8_0000_10a8_08b2) {
  case (undefined *)0x1:
    iVar1 = param_1 << 2;
    iVar2 = 5;
    goto LAB_1030_0935;
  case (undefined *)0x2:
    iVar1 = param_1 * 2;
LAB_1030_0932:
    iVar2 = 3;
LAB_1030_0935:
    param_1 = iVar1 / iVar2;
    break;
  case (undefined *)0x3:
    param_1 = param_1 >> 1;
    break;
  case (undefined *)0x4:
    param_1 = param_1 >> 2;
    break;
  case (undefined *)0xfffd:
  case (undefined *)0xfffe:
    param_1 = param_1 << (-(char)PTR_DAT_10a8_0000_10a8_08b2 - 1U & 0x1f);
    break;
  case (undefined *)0xffff:
    iVar1 = param_1 << 2;
    goto LAB_1030_0932;
  }
  return param_1;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1030_0968(int16 *param_1,ulong *param_2,int param_3)

{
  char *pcVar1;
  int *piVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  uint *puVar5;
  ulong uVar6;
  int16 *__return_storage_ptr__;
  int iVar7;
  int16 *piVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  undefined *puVar12;
  int iVar13;
  HRGN16 unaff_SI;
  ulong *puVar14;
  HRGN16 unaff_DI;
  int16 **ppiVar15;
  undefined4 *puVar16;
  undefined2 uVar17;
  undefined2 unaff_SS;
  bool bVar18;
  COLORREF CVar19;
  HDC16 hdcdst;
  undefined2 uVar20;
  undefined2 uVar21;
  undefined2 uVar22;
  undefined2 uVar23;
  RECT16 *rect;
  char in_stack_0000fa40;
  undefined in_stack_0000fa41;
  int in_stack_0000fa42;
  int in_stack_0000fa44;
  int in_stack_0000fa46;
  int in_stack_0000fa48;
  undefined6 in_stack_0000fa4a;
  undefined4 in_stack_0000fa50;
  undefined2 in_stack_0000fa54;
  undefined2 in_stack_0000fa56;
  undefined2 in_stack_0000fa58;
  undefined6 in_stack_0000fa5a;
  undefined4 in_stack_0000fa60;
  undefined2 in_stack_0000fa64;
  undefined4 in_stack_0000fa66;
  HDC16 in_stack_0000fa6a;
  undefined4 in_stack_0000fa6c;
  dword in_stack_0000fa70;
  undefined2 in_stack_0000fa74;
  undefined6 in_stack_0000fa76;
  undefined in_stack_0000fa7c [16];
  dword in_stack_0000fa8c;
  undefined local_1ce [120];
  undefined local_156 [120];
  undefined local_de [120];
  undefined *local_66;
  undefined *local_64;
  undefined *local_62;
  undefined2 local_60;
  undefined2 local_5e;
  int16 *local_5c;
  ulong local_5a;
  ulong uStack_56;
  undefined2 local_52;
  int16 *local_50;
  int16 *local_4e;
  int16 *local_4c;
  int16 *local_4a;
  undefined4 local_48;
  undefined4 local_44;
  ulong local_40;
  ulong uStack_3c;
  int local_38;
  int local_36;
  HDC16 local_34;
  int16 *local_32;
  int local_30;
  int local_2e;
  undefined *local_2c;
  undefined *local_2a;
  ulong local_28;
  undefined4 local_24;
  int local_20;
  int local_1e;
  int local_1c;
  int16 *local_1a;
  undefined4 local_18;
  uint local_14;
  undefined4 local_12;
  int local_e;
  byte local_c;
  undefined uStack_b;
  int16 *local_a;
  int16 *local_8;
  undefined *local_6;
  int16 *local_4;

  local_4c = (int16 *)0x0;
  local_4a = (int16 *)0x0;
  if (_PTR_DAT_10a8_0000_10a8_006e == 0) {
    return 0;
  }
  local_4 = (int16 *)PTR_DAT_10a8_0000_10a8_589e;
  local_6 = PTR_DAT_10a8_0000_10a8_589c;
  GETCLIENTRECT((HWND16)&local_38,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00c4,unaff_SS));
  EXCLUDECLIPRECT(local_32,local_34,
                  (int16)CONCAT214(in_stack_0000fa44,
                                   CONCAT212(in_stack_0000fa42,
                                             CONCAT111(in_stack_0000fa41,
                                                       CONCAT110(in_stack_0000fa40,
                                                                 CONCAT28(unaff_DI,CONCAT26(unaff_SI
                                                  ,CONCAT24(param_1,(ulong)(uint)((int)local_32 -
                                                                                 (int)
                                                  PTR_DAT_10a8_0000_10a8_5762)))))))),
                  (int16)CONCAT214(in_stack_0000fa54,
                                   CONCAT410(in_stack_0000fa50,
                                             CONCAT64(in_stack_0000fa4a,
                                                      CONCAT22(in_stack_0000fa48,in_stack_0000fa46))
                                            )),
                  (int16)CONCAT214(in_stack_0000fa64,
                                   CONCAT410(in_stack_0000fa60,
                                             CONCAT64(in_stack_0000fa5a,
                                                      CONCAT22(in_stack_0000fa58,in_stack_0000fa56))
                                            )),
                  (int16)CONCAT214(in_stack_0000fa74,
                                   CONCAT410(in_stack_0000fa70,
                                             CONCAT46(in_stack_0000fa6c,
                                                      CONCAT24(in_stack_0000fa6a,in_stack_0000fa66))
                                            )));
  if ((*(int *)(param_2 + 1) - *(int *)param_2 < 0x29) &&
     (*(int *)((int)param_2 + 6) - *(int *)((int)param_2 + 2) < 0x29)) {
    local_1a = (int16 *)CREATECOMPATIBLEDC((HDC16)param_1);
    if ((local_1a != (int16 *)0x0) &&
       (local_4a = (int16 *)CREATECOMPATIBLEBITMAP
                                      (*(int *)((int)param_2 + 6) - *(int *)((int)param_2 + 2),
                                       (int16)CONCAT214(in_stack_0000fa46,
                                                        CONCAT212(in_stack_0000fa44,
                                                                  CONCAT210(in_stack_0000fa42,
                                                                            CONCAT19(
                                                  in_stack_0000fa41,
                                                  CONCAT18(in_stack_0000fa40,
                                                           CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(param_1,*(int *)(param_2 + 1) -
                                                                   *(int *)param_2)))))))),
                                       (int16)CONCAT214(in_stack_0000fa56,
                                                        CONCAT212(in_stack_0000fa54,
                                                                  CONCAT48(in_stack_0000fa50,
                                                                           CONCAT62(
                                                  in_stack_0000fa4a,in_stack_0000fa48))))),
       local_4a == (int16 *)0x0)) {
      DELETEDC((HDC16)local_1a);
    }
    if (local_4a != (int16 *)0x0) {
      local_4c = param_1;
      param_1 = local_1a;
      local_50 = SELECTOBJECT(local_4a,(HRGN16)local_1a,unaff_SI,unaff_DI,
                              (int16)CONCAT610(in_stack_0000fa4a,
                                               CONCAT28(in_stack_0000fa48,
                                                        CONCAT26(in_stack_0000fa46,
                                                                 CONCAT24(in_stack_0000fa44,
                                                                          CONCAT22(in_stack_0000fa42
                                                                                   ,CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
      SETWINDOWORG(*(int16 **)((int)param_2 + 2),*(HWND16 *)param_2,(HRGN16)local_1a,unaff_SI);
      local_40 = *param_2;
      uStack_3c = param_2[1];
    }
  }
  if ((param_3 != 0) || (local_4c != (int16 *)0x0)) {
    rect = (RECT16 *)((int)s_From___s_c_c_10a8_10a2 + 6);
    puVar14 = param_2;
    piVar8 = param_1;
    __return_storage_ptr__ =
         (int16 *)GETSTOCKOBJECT((int16)CONCAT214(in_stack_0000fa42,
                                                  CONCAT113(in_stack_0000fa41,
                                                            CONCAT112(in_stack_0000fa40,
                                                                      CONCAT210(unaff_DI,CONCAT28(
                                                  unaff_SI,CONCAT26(param_1,CONCAT24(0x10a8,CONCAT22
                                                  (param_2,4)))))))));
    FILLRECT(__return_storage_ptr__,(HDC16)puVar14,rect,(HBRUSH16)piVar8);
  }
  local_48 = *param_2;
  local_44 = param_2[1];
  FUN_1018_5948((int *)param_2,9,9);
  piVar2 = (int *)((int)param_2 + 6);
  *piVar2 = *piVar2 + 0xe;
  local_8 = (int16 *)FUN_1030_08e0(*(int *)(param_2 + 1) - *(int *)param_2);
  local_a = (int16 *)FUN_1030_08e0(*(int *)((int)param_2 + 6) - *(int *)((int)param_2 + 2));
  iVar7 = FUN_1030_08e0(*(int *)param_2);
  local_2a = (undefined *)(iVar7 + (int)local_4);
  local_2c = local_2a + (int)local_8;
  iVar7 = FUN_1030_08e0(*(int *)((int)param_2 + 2));
  local_2e = -(int)local_6 - (iVar7 - (int)PTR_PTR_10a8_0066);
  local_30 = local_2e - (int)local_a;
  local_1c = -(int)local_4;
  local_1e = (int)PTR_PTR_10a8_0066 - (int)local_6;
  local_1a = (int16 *)CREATECOMPATIBLEDC((HDC16)param_1);
  local_4e = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_7c34,(HRGN16)local_1a,unaff_SI,unaff_DI,
                          (int16)CONCAT610(in_stack_0000fa4a,
                                           CONCAT28(in_stack_0000fa48,
                                                    CONCAT26(in_stack_0000fa46,
                                                             CONCAT24(in_stack_0000fa44,
                                                                      CONCAT22(in_stack_0000fa42,
                                                                               CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)0x0) {
    local_28 = 0xfffefffe;
  }
  else {
    local_28 = _PTR_DAT_10a8_0000_10a8_7b48;
  }
  if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&DAT_10a8_0002) {
    local_66 = local_de;
    local_64 = local_156;
    local_62 = local_1ce;
    local_c = 0;
    uStack_b = 0;
    local_60 = 0;
    local_5e = 0x3c;
    local_5c = param_1;
    local_5a = *param_2;
    uStack_56 = param_2[1];
    local_52 = 0;
    INTERSECTCLIPRECT(local_44._2_2_,(HDC16)local_44,
                      (int16)CONCAT214(in_stack_0000fa44,
                                       CONCAT212(in_stack_0000fa42,
                                                 CONCAT111(in_stack_0000fa41,
                                                           CONCAT110(in_stack_0000fa40,
                                                                     CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(param_1,CONCAT22((undefined2)
                                                                                     local_48,
                                                  local_48._2_2_)))))))),
                      (int16)CONCAT214(in_stack_0000fa54,
                                       CONCAT410(in_stack_0000fa50,
                                                 CONCAT64(in_stack_0000fa4a,
                                                          CONCAT22(in_stack_0000fa48,
                                                                   in_stack_0000fa46)))),
                      (int16)CONCAT214(in_stack_0000fa64,
                                       CONCAT410(in_stack_0000fa60,
                                                 CONCAT64(in_stack_0000fa5a,
                                                          CONCAT22(in_stack_0000fa58,
                                                                   in_stack_0000fa56)))),
                      (int16)CONCAT214(in_stack_0000fa74,
                                       CONCAT410(in_stack_0000fa70,
                                                 CONCAT46(in_stack_0000fa6c,
                                                          CONCAT24(in_stack_0000fa6a,
                                                                   in_stack_0000fa66)))));
    local_12._2_2_ =
         SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_589a,(HRGN16)param_1,unaff_SI,unaff_DI,
                      (int16)CONCAT610(in_stack_0000fa4a,
                                       CONCAT28(in_stack_0000fa48,
                                                CONCAT26(in_stack_0000fa46,
                                                         CONCAT24(in_stack_0000fa44,
                                                                  CONCAT22(in_stack_0000fa42,
                                                                           CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
    piVar8 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_8802,(HRGN16)param_1,unaff_SI,unaff_DI,
                          (int16)CONCAT610(in_stack_0000fa4a,
                                           CONCAT28(in_stack_0000fa48,
                                                    CONCAT26(in_stack_0000fa46,
                                                             CONCAT24(in_stack_0000fa44,
                                                                      CONCAT22(in_stack_0000fa42,
                                                                               CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
    local_12 = (uint *)CONCAT22(local_12._2_2_,piVar8);
    local_8 = (int16 *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
    local_6 = PTR_DAT_10a8_0000_10a8_006c;
    local_18 = (int *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,PTR_DAT_10a8_0000_10a8_006a);
    piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_006a;
    if (PTR_DAT_10a8_0000_10a8_006a < local_8) {
      do {
        if ((undefined *)*(int *)((int)piVar8 + 2) == PTR_DAT_10a8_0001_10a8_00c0) {
          local_4 = (int16 *)FUN_1010_1df4((int)piVar8,local_18._2_2_,(int *)&local_a);
          if (0 < (int)local_a) {
            local_c = 1;
            uStack_b = 0;
          }
          in_stack_0000fa48 = *(int *)piVar8 * 4;
          local_38 = FUN_1030_085a((*(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + in_stack_0000fa48)
                                   - (int)local_4) + local_1c);
          local_36 = FUN_1030_085a((local_1e -
                                   *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + in_stack_0000fa48))
                                   - (int)local_4);
          local_34 = FUN_1030_085a((int)((int)local_4 +
                                        local_1c +
                                        *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 +
                                                in_stack_0000fa48)));
          local_32 = (int16 *)FUN_1030_085a((int)((int)local_4 +
                                                 (local_1e -
                                                 *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a +
                                                         in_stack_0000fa48))));
          FUN_1030_1dee((int *)&local_66,&local_38);
        }
        piVar8 = (int16 *)((int)piVar8 + 0x3c);
      } while (piVar8 < local_8);
    }
    local_14 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
      local_6 = (undefined *)0x0;
      do {
        uVar17 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
        uVar11 = *(uint *)(local_6 + (int)_PTR_DAT_10a8_0000_10a8_006e);
        local_8 = *(int16 **)(local_6 + (int)_PTR_DAT_10a8_0000_10a8_006e + 2);
        if (((uint)local_8 | uVar11) == 0) break;
        if ((undefined *)*(int *)(uVar11 + 2) == PTR_DAT_10a8_0001_10a8_00c0) {
          iVar7 = FUN_1010_1e9a(uVar11,local_8,&local_e);
          if (0 < local_e) {
            local_c = local_c | 2;
          }
          if (0 < iVar7) {
            local_38 = FUN_1030_085a((*(int *)(uVar11 + 8) - iVar7) + local_1c);
            local_36 = FUN_1030_085a((local_1e - *(int *)(uVar11 + 10)) - iVar7);
            local_34 = FUN_1030_085a(*(int *)(uVar11 + 8) + local_1c + iVar7);
            local_32 = (int16 *)FUN_1030_085a((local_1e - *(int *)(uVar11 + 10)) + iVar7);
            FUN_1030_1dee((int *)&local_66,&local_38);
          }
        }
        local_6 = local_6 + 4;
        local_14 = local_14 + 1;
      } while ((int)local_14 < (int)PTR_DAT_10a8_0000_10a8_83c6);
    }
    FUN_1030_1dee((int *)&local_66,(int *)0x0);
    if (PTR_DAT_10a8_0000_10a8_85c8 == (undefined *)0x0) {
      PTR_DAT_10a8_0000_10a8_85c8 = (undefined *)FUN_1018_66a6(0x7f7f);
      PTR_DAT_10a8_0000_10a8_85b8 =
           (undefined *)
           CREATEPEN((int16)CONCAT214(in_stack_0000fa42,
                                      CONCAT113(in_stack_0000fa41,
                                                CONCAT112(in_stack_0000fa40,
                                                          CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  0x100007f7f))))),
                     (int16)CONCAT412(in_stack_0000fa50,
                                      CONCAT66(in_stack_0000fa4a,
                                               CONCAT24(in_stack_0000fa48,
                                                        CONCAT22(in_stack_0000fa46,in_stack_0000fa44
                                                                )))),
                     (COLORREF)CONCAT22(in_stack_0000fa56,in_stack_0000fa54));
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_85c8,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_85b8,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
    if ((local_c & 1) != 0) {
      local_18 = (int *)((ulong)local_18 & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_006c) << 0x10);
      local_8 = (int16 *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
      local_6 = PTR_DAT_10a8_0000_10a8_006c;
      piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_006a;
      if (PTR_DAT_10a8_0000_10a8_006a < local_8) {
        do {
          if (((undefined *)*(int *)((int)piVar8 + 2) == PTR_DAT_10a8_0001_10a8_00c0) &&
             (local_4 = (int16 *)FUN_1010_1df4((int)piVar8,local_18._2_2_,(int *)&local_a),
             0 < (int)local_a)) {
            in_stack_0000fa46 = (int)local_4 >> 1;
            in_stack_0000fa44 = *(int *)piVar8 * 4;
            local_38 = FUN_1030_085a(local_1c -
                                     (in_stack_0000fa46 -
                                     *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + in_stack_0000fa44)
                                     ));
            local_36 = FUN_1030_085a((local_1e -
                                     *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + in_stack_0000fa44)
                                     ) - in_stack_0000fa46);
            local_34 = FUN_1030_085a(*(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + in_stack_0000fa44)
                                     + in_stack_0000fa46 + local_1c);
            local_32 = (int16 *)FUN_1030_085a((in_stack_0000fa46 -
                                              *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a +
                                                      in_stack_0000fa44)) + local_1e);
            FUN_1030_1dee((int *)&local_66,&local_38);
          }
          piVar8 = (int16 *)((int)piVar8 + 0x3c);
        } while (piVar8 < local_8);
      }
    }
    if (((local_c & 2) != 0) && (local_14 = 0, 0 < (int)PTR_DAT_10a8_0000_10a8_83c6)) {
      iVar7 = 0;
      do {
        uVar17 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
        uVar11 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar7);
        local_8 = *(int16 **)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar7 + 2);
        if (((uint)local_8 | uVar11) == 0) break;
        if (((undefined *)*(int *)(uVar11 + 2) == PTR_DAT_10a8_0001_10a8_00c0) &&
           (FUN_1010_1e9a(uVar11,local_8,&local_4), 0 < (int)local_4)) {
          local_38 = FUN_1030_085a((*(int *)(uVar11 + 8) - (int)local_4) + local_1c);
          local_36 = FUN_1030_085a((local_1e - *(int *)(uVar11 + 10)) - (int)local_4);
          local_34 = FUN_1030_085a((int)((int)local_4 + local_1c + *(int *)(uVar11 + 8)));
          local_32 = (int16 *)FUN_1030_085a((int)((int)local_4 + (local_1e - *(int *)(uVar11 + 10)))
                                           );
          FUN_1030_1dee((int *)&local_66,&local_38);
        }
        iVar7 = iVar7 + 4;
        local_14 = local_14 + 1;
      } while ((int)local_14 < (int)PTR_DAT_10a8_0000_10a8_83c6);
    }
    FUN_1030_1dee((int *)&local_66,(int *)0x0);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_589a,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_8802,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
    local_14 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
      local_4 = (int16 *)0x0;
      iVar7 = 0;
      do {
        uVar17 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
        uVar11 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar7);
        local_8 = *(int16 **)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar7 + 2);
        if (((uint)local_8 | uVar11) == 0) break;
        if (*(int *)(uVar11 + 6) == -1) {
          local_24 = *(ulong *)(uVar11 + 8);
          iVar10 = *(int *)(uVar11 + 10);
          if (((((int)local_2a <= (int)local_24) && ((int)local_24 < (int)local_2c)) &&
              (local_30 <= iVar10)) && (iVar10 < local_2e)) {
            uVar9 = FUN_1030_085a((int)local_24 + local_1c);
            uVar6 = local_24 & 0xffff0000;
            local_24 = uVar6 | uVar9;
            local_24._2_2_ = (int)(uVar6 >> 0x10);
            uVar9 = FUN_1030_085a(local_1e - local_24._2_2_);
            uVar6 = local_24 & 0xffff;
            local_24 = uVar6 | (ulong)uVar9 << 0x10;
            local_24._0_2_ = (int)uVar6;
            if (*(ulong *)(uVar11 + 8) == local_28) {
              local_24._0_2_ = (int)local_24 + -4;
              iVar10 = uVar9 - 4;
              uVar20 = 0xb;
              uVar21 = 0xb;
              uVar17 = 0x50;
            }
            else {
              local_24._0_2_ = (int)local_24 + -2;
              iVar10 = uVar9 - 2;
              uVar20 = 5;
              uVar21 = 5;
              uVar17 = 0x45;
            }
            BITBLT(0xc6,(int16)CONCAT214((int)local_24,
                                         CONCAT212(iVar10,CONCAT210(uVar21,CONCAT28(uVar20,CONCAT26(
                                                  local_1a,CONCAT24(0xb,CONCAT22(uVar17,0x88))))))),
                   (int16)CONCAT214(in_stack_0000fa48,
                                    CONCAT212(in_stack_0000fa46,
                                              CONCAT210(in_stack_0000fa44,
                                                        CONCAT28(in_stack_0000fa42,
                                                                 CONCAT17(in_stack_0000fa41,
                                                                          CONCAT16(in_stack_0000fa40
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_1)))))))),
                   (int16)CONCAT214(in_stack_0000fa58,
                                    CONCAT212(in_stack_0000fa56,
                                              CONCAT210(in_stack_0000fa54,
                                                        CONCAT46(in_stack_0000fa50,in_stack_0000fa4a
                                                                )))),
                   (int16)CONCAT412(in_stack_0000fa66,
                                    CONCAT210(in_stack_0000fa64,
                                              CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                   in_stack_0000fa6a,
                   (int16)CONCAT610(in_stack_0000fa76,
                                    CONCAT28(in_stack_0000fa74,
                                             CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                   (int16)in_stack_0000fa7c,in_stack_0000fa8c);
          }
        }
        iVar7 = iVar7 + 4;
        local_14 = local_14 + 1;
      } while ((int)local_14 < (int)PTR_DAT_10a8_0000_10a8_83c6);
    }
    SELECTOBJECT((int16 *)local_12,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
    SELECTOBJECT(local_12._2_2_,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
  }
  if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)((int)&PTR_LOOP_10a8_0004 + 1)) {
    piVar8 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_8844,(HRGN16)param_1,unaff_SI,unaff_DI,
                          (int16)CONCAT610(in_stack_0000fa4a,
                                           CONCAT28(in_stack_0000fa48,
                                                    CONCAT26(in_stack_0000fa46,
                                                             CONCAT24(in_stack_0000fa44,
                                                                      CONCAT22(in_stack_0000fa42,
                                                                               CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
    local_12 = (uint *)((ulong)local_12 & 0xffff0000 | ZEXT24(piVar8));
    local_14 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
      local_c = 0;
      uStack_b = 0;
      iVar7 = 0;
      do {
        uVar17 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
        ppiVar15 = (int16 **)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar7);
        piVar8 = *ppiVar15;
        local_8 = ppiVar15[1];
        if (((uint)local_8 | (uint)piVar8) == 0) break;
        if ((((*(byte *)((int)piVar8 + 5) & 4) == 0) && (6 < *(byte *)((int)piVar8 + 4))) &&
           ((1 < *(int *)((int)piVar8 + 0x62) &&
            (local_6 = (undefined *)0x0, 0 < *(int *)((int)piVar8 + 0x62))))) {
          local_c = (byte)iVar7;
          uStack_b = (undefined)((uint)iVar7 >> 8);
          local_4 = (int16 *)0x0;
          iVar10 = 0;
          iVar7 = 0;
          local_a = piVar8;
          do {
            uVar4 = *(undefined4 *)((int)local_a + 100);
            local_24 = *(ulong *)((int)uVar4 + iVar10 + 4);
            uVar11 = FUN_1030_085a((int)local_24 + local_1c);
            uVar6 = local_24 & 0xffff0000;
            local_24 = uVar6 | uVar11;
            local_24._2_2_ = (int)(uVar6 >> 0x10);
            uVar11 = FUN_1030_085a(local_1e - local_24._2_2_);
            uVar6 = local_24 & 0xffff;
            local_24 = uVar6 | (ulong)uVar11 << 0x10;
            if (iVar10 == 0) {
              MOVETO(uVar11,(int16)CONCAT214(in_stack_0000fa46,
                                             CONCAT212(in_stack_0000fa44,
                                                       CONCAT210(in_stack_0000fa42,
                                                                 CONCAT19(in_stack_0000fa41,
                                                                          CONCAT18(in_stack_0000fa40
                                                                                   ,CONCAT26(
                                                  unaff_DI,CONCAT24(unaff_SI,uVar6 | ZEXT24(param_1)
                                                                                     << 0x10))))))),
                     (int16)CONCAT214(in_stack_0000fa56,
                                      CONCAT212(in_stack_0000fa54,
                                                CONCAT48(in_stack_0000fa50,
                                                         CONCAT62(in_stack_0000fa4a,
                                                                  in_stack_0000fa48)))));
            }
            else {
              LINETO(uVar11,(int16)CONCAT214(in_stack_0000fa46,
                                             CONCAT212(in_stack_0000fa44,
                                                       CONCAT210(in_stack_0000fa42,
                                                                 CONCAT19(in_stack_0000fa41,
                                                                          CONCAT18(in_stack_0000fa40
                                                                                   ,CONCAT26(
                                                  unaff_DI,CONCAT24(unaff_SI,uVar6 | ZEXT24(param_1)
                                                                                     << 0x10))))))),
                     (int16)CONCAT214(in_stack_0000fa56,
                                      CONCAT212(in_stack_0000fa54,
                                                CONCAT48(in_stack_0000fa50,
                                                         CONCAT62(in_stack_0000fa4a,
                                                                  in_stack_0000fa48)))));
            }
            iVar10 = iVar10 + 0x12;
            iVar7 = iVar7 + 1;
            piVar2 = (int *)((int)local_a + 0x62);
          } while (*piVar2 != iVar7 && iVar7 <= *piVar2);
          iVar7 = CONCAT11(uStack_b,local_c);
        }
        iVar7 = iVar7 + 4;
        local_14 = local_14 + 1;
      } while ((int)local_14 < (int)PTR_DAT_10a8_0000_10a8_83c6);
    }
    SELECTOBJECT((int16 *)local_12,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
  }
  if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)0x6) {
    local_20 = 0;
    uVar11 = 0x7261;
    puVar12 = PTR_DAT_10a8_0000_10a8_8348;
    do {
      if (((*(byte *)(uVar11 + 1) & 2) == 0) &&
         (bVar18 = (int)puVar12 < 1, puVar12 = puVar12 + -1, bVar18)) break;
      local_20 = local_20 + 1;
      uVar11 = uVar11 + 0x87;
    } while (uVar11 < 0x7ad1);
    if (0xf < local_20) goto LAB_1030_119e;
  }
  else {
LAB_1030_119e:
    local_20 = -1;
  }
  SELECTCLIPRGN((int16 *)PTR_DAT_10a8_0000_10a8_8344,(HDC16)param_1,unaff_SI);
  GETCLIENTRECT((HWND16)&local_38,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00c4,unaff_SS));
  EXCLUDECLIPRECT(local_32,local_34,
                  (int16)CONCAT214(in_stack_0000fa44,
                                   CONCAT212(in_stack_0000fa42,
                                             CONCAT111(in_stack_0000fa41,
                                                       CONCAT110(in_stack_0000fa40,
                                                                 CONCAT28(unaff_DI,CONCAT26(unaff_SI
                                                  ,CONCAT24(param_1,(ulong)(uint)((int)local_32 -
                                                                                 (int)
                                                  PTR_DAT_10a8_0000_10a8_5762)))))))),
                  (int16)CONCAT214(in_stack_0000fa54,
                                   CONCAT410(in_stack_0000fa50,
                                             CONCAT64(in_stack_0000fa4a,
                                                      CONCAT22(in_stack_0000fa48,in_stack_0000fa46))
                                            )),
                  (int16)CONCAT214(in_stack_0000fa64,
                                   CONCAT410(in_stack_0000fa60,
                                             CONCAT64(in_stack_0000fa5a,
                                                      CONCAT22(in_stack_0000fa58,in_stack_0000fa56))
                                            )),
                  (int16)CONCAT214(in_stack_0000fa74,
                                   CONCAT410(in_stack_0000fa70,
                                             CONCAT46(in_stack_0000fa6c,
                                                      CONCAT24(in_stack_0000fa6a,in_stack_0000fa66))
                                            )));
  puVar16 = (undefined4 *)&stack0xfa4a;
  for (iVar7 = 0xf9; iVar7 != 0; iVar7 = iVar7 + -1) {
    puVar3 = puVar16;
    puVar16 = puVar16 + 1;
    *puVar3 = 0;
  }
  *(undefined2 *)puVar16 = 0;
  *(undefined *)(undefined2 *)((int)puVar16 + 2) = 0;
  if ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)0x0) ||
     (_PTR_DAT_10a8_0000_10a8_7b54 != _PTR_DAT_10a8_0000_10a8_7b48)) {
    if (PTR_DAT_10a8_0000_10a8_7b58 != (undefined *)0x0) {
      local_24 = _PTR_DAT_10a8_0000_10a8_7b54;
      FUN_1030_3110((int *)&local_24);
      BITBLT(0xc6,(int16)CONCAT214((int)local_24 + -3,
                                   CONCAT212(local_24._2_2_ + 7,
                                             CONCAT210(7,CONCAT28(8,CONCAT26(local_1a,0x1600500088))
                                                      ))),
             (int16)CONCAT214(in_stack_0000fa48,
                              CONCAT212(in_stack_0000fa46,
                                        CONCAT210(in_stack_0000fa44,
                                                  CONCAT28(in_stack_0000fa42,
                                                           CONCAT17(in_stack_0000fa41,
                                                                    CONCAT16(in_stack_0000fa40,
                                                                             CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1)))))))),
             (int16)CONCAT214(in_stack_0000fa58,
                              CONCAT212(in_stack_0000fa56,
                                        CONCAT210(in_stack_0000fa54,
                                                  CONCAT46(in_stack_0000fa50,in_stack_0000fa4a)))),
             (int16)CONCAT412(in_stack_0000fa66,
                              CONCAT210(in_stack_0000fa64,
                                        CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
             in_stack_0000fa6a,
             (int16)CONCAT610(in_stack_0000fa76,
                              CONCAT28(in_stack_0000fa74,
                                       CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
             (int16)in_stack_0000fa7c,in_stack_0000fa8c);
      local_24._0_2_ = (int)local_24 + -3;
      local_24._2_2_ = local_24._2_2_ + 7;
      uVar21 = 8;
      uVar22 = 7;
      uVar17 = 0x31;
      uVar20 = 0x16;
      goto LAB_1030_12b3;
    }
  }
  else {
    local_24 = _PTR_DAT_10a8_0000_10a8_7b48;
    FUN_1030_3110((int *)&local_24);
    BITBLT(0xc6,(int16)CONCAT214((int)local_24 + -5,
                                 CONCAT212(local_24._2_2_ + 0xb,
                                           CONCAT210(0xb,CONCAT28(0xc,CONCAT26(local_1a,0x500088))))
                                ),
           (int16)CONCAT214(in_stack_0000fa48,
                            CONCAT212(in_stack_0000fa46,
                                      CONCAT210(in_stack_0000fa44,
                                                CONCAT28(in_stack_0000fa42,
                                                         CONCAT17(in_stack_0000fa41,
                                                                  CONCAT16(in_stack_0000fa40,
                                                                           CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1)))))))),
           (int16)CONCAT214(in_stack_0000fa58,
                            CONCAT212(in_stack_0000fa56,
                                      CONCAT210(in_stack_0000fa54,
                                                CONCAT46(in_stack_0000fa50,in_stack_0000fa4a)))),
           (int16)CONCAT412(in_stack_0000fa66,
                            CONCAT210(in_stack_0000fa64,
                                      CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
           in_stack_0000fa6a,
           (int16)CONCAT610(in_stack_0000fa76,
                            CONCAT28(in_stack_0000fa74,CONCAT44(in_stack_0000fa70,in_stack_0000fa6c)
                                    )),(int16)in_stack_0000fa7c,in_stack_0000fa8c);
    local_24._0_2_ = (int)local_24 + -5;
    local_24._2_2_ = local_24._2_2_ + 0xb;
    uVar21 = 0xc;
    uVar22 = 0xb;
    uVar17 = 0x39;
    uVar20 = 0;
LAB_1030_12b3:
    BITBLT(0x86,(int16)CONCAT214((int)local_24,
                                 CONCAT212(local_24._2_2_,
                                           CONCAT210(uVar22,CONCAT28(uVar21,CONCAT26(local_1a,
                                                  CONCAT24(uVar20,CONCAT22(uVar17,0xee))))))),
           (int16)CONCAT214(in_stack_0000fa48,
                            CONCAT212(in_stack_0000fa46,
                                      CONCAT210(in_stack_0000fa44,
                                                CONCAT28(in_stack_0000fa42,
                                                         CONCAT17(in_stack_0000fa41,
                                                                  CONCAT16(in_stack_0000fa40,
                                                                           CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1)))))))),
           (int16)CONCAT214(in_stack_0000fa58,
                            CONCAT212(in_stack_0000fa56,
                                      CONCAT210(in_stack_0000fa54,
                                                CONCAT46(in_stack_0000fa50,in_stack_0000fa4a)))),
           (int16)CONCAT412(in_stack_0000fa66,
                            CONCAT210(in_stack_0000fa64,
                                      CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
           in_stack_0000fa6a,
           (int16)CONCAT610(in_stack_0000fa76,
                            CONCAT28(in_stack_0000fa74,CONCAT44(in_stack_0000fa70,in_stack_0000fa6c)
                                    )),(int16)in_stack_0000fa7c,in_stack_0000fa8c);
  }
  piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_59ce;
  if (PTR_DAT_10a8_0000_10a8_08b2 != (undefined *)0x0) {
    if ((((int)PTR_DAT_10a8_0000_10a8_08b2 < 1) || (SBORROW2((int)PTR_DAT_10a8_0000_10a8_08b2,1)))
       || ((piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_59c4,
           PTR_DAT_10a8_0000_10a8_08b2 != (undefined *)&DAT_10a8_0002 &&
           0 < (int)(PTR_DAT_10a8_0000_10a8_08b2 + -1) &&
           ((piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_59c6,
            PTR_DAT_10a8_0000_10a8_08b2 != (undefined *)&DAT_10a8_0003 &&
            (piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_7a66,
            PTR_DAT_10a8_0000_10a8_08b2 != (undefined *)&PTR_LOOP_10a8_0004))))))
    goto LAB_1030_12f8;
  }
  SELECTOBJECT(piVar8,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT610(in_stack_0000fa4a,
                                CONCAT28(in_stack_0000fa48,
                                         CONCAT26(in_stack_0000fa46,
                                                  CONCAT24(in_stack_0000fa44,
                                                           CONCAT22(in_stack_0000fa42,
                                                                    CONCAT11(in_stack_0000fa41,
                                                                             in_stack_0000fa40))))))
              );
LAB_1030_12f8:
  CVar19 = SETTEXTCOLOR(0xffff,CONCAT22(param_1,0xff));
  local_6 = (undefined *)(CVar19.value >> 0x10);
  local_8 = (int16 *)CVar19.value;
  CVar19 = SETBKCOLOR(0,(COLORREF)(ZEXT24(param_1) << 0x10));
  local_a = (int16 *)(CVar19.value >> 0x10);
  local_c = (byte)CVar19.value;
  uStack_b = (undefined)(CVar19.value >> 8);
  local_14 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_003a) {
    local_4 = (int16 *)&PTR_DAT_10a8_0000_10a8_6238;
    puVar14 = (ulong *)&PTR_DAT_10a8_0000_10a8_6238;
    do {
      iVar7 = *(int *)puVar14;
      if ((((((int)local_2a <= iVar7) && (iVar7 < (int)local_2c)) &&
           (local_30 <= *(int *)((int)puVar14 + 2))) && (*(int *)((int)puVar14 + 2) < local_2e)) ||
         (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)0x7)) {
        uVar11 = FUN_1030_085a(local_1c + *(int *)puVar14);
        local_24 = local_24 & 0xffff0000 | (ulong)uVar11;
        uVar11 = FUN_1030_085a(local_1e - *(int *)((int)puVar14 + 2));
        uVar6 = local_24 & 0xffff;
        local_24 = uVar6 | (ulong)uVar11 << 0x10;
        local_24._0_2_ = (int)uVar6;
        if (((local_28 == *puVar14) && (PTR_DAT_10a8_0000_10a8_07aa != (undefined *)0x7)) &&
           ((PTR_DAT_10a8_0000_10a8_07aa != (undefined *)&DAT_10a8_0003 &&
            (PTR_DAT_10a8_0000_10a8_07aa != (undefined *)&PTR_LOOP_10a8_0004)))) {
          BITBLT(0xc6,(int16)CONCAT214((int)local_24 + -5,
                                       CONCAT212(uVar11 - 5,
                                                 CONCAT210(0xb,CONCAT28(0xb,CONCAT26(local_1a,
                                                  0x450088))))),
                 (int16)CONCAT214(in_stack_0000fa48,
                                  CONCAT212(in_stack_0000fa46,
                                            CONCAT210(in_stack_0000fa44,
                                                      CONCAT28(in_stack_0000fa42,
                                                               CONCAT17(in_stack_0000fa41,
                                                                        CONCAT16(in_stack_0000fa40,
                                                                                 CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1)))))))),
                 (int16)CONCAT214(in_stack_0000fa58,
                                  CONCAT212(in_stack_0000fa56,
                                            CONCAT210(in_stack_0000fa54,
                                                      CONCAT46(in_stack_0000fa50,in_stack_0000fa4a))
                                           )),
                 (int16)CONCAT412(in_stack_0000fa66,
                                  CONCAT210(in_stack_0000fa64,
                                            CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                 in_stack_0000fa6a,
                 (int16)CONCAT610(in_stack_0000fa76,
                                  CONCAT28(in_stack_0000fa74,
                                           CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                 (int16)in_stack_0000fa7c,in_stack_0000fa8c);
          local_24._0_2_ = (int)local_24 + -5;
          local_24._2_2_ = local_24._2_2_ + -5;
          uVar22 = 0xb;
          uVar23 = 0xb;
          uVar20 = 0x21;
          uVar21 = 0;
          hdcdst = 0x86;
          uVar17 = 0xee;
        }
        else {
          local_24._0_2_ = (int)local_24 + -1;
          local_24._2_2_ = uVar11 - 1;
          uVar22 = 3;
          uVar23 = 3;
          uVar20 = 0xf;
          uVar21 = 0xb;
          hdcdst = 0x20;
          uVar17 = 0xcc;
        }
        BITBLT(hdcdst,(int16)CONCAT214((int)local_24,
                                       CONCAT212(local_24._2_2_,
                                                 CONCAT210(uVar23,CONCAT28(uVar22,CONCAT26(local_1a,
                                                  CONCAT24(uVar21,CONCAT22(uVar20,uVar17))))))),
               (int16)CONCAT214(in_stack_0000fa48,
                                CONCAT212(in_stack_0000fa46,
                                          CONCAT210(in_stack_0000fa44,
                                                    CONCAT28(in_stack_0000fa42,
                                                             CONCAT17(in_stack_0000fa41,
                                                                      CONCAT16(in_stack_0000fa40,
                                                                               CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1)))))))),
               (int16)CONCAT214(in_stack_0000fa58,
                                CONCAT212(in_stack_0000fa56,
                                          CONCAT210(in_stack_0000fa54,
                                                    CONCAT46(in_stack_0000fa50,in_stack_0000fa4a))))
               ,(int16)CONCAT412(in_stack_0000fa66,
                                 CONCAT210(in_stack_0000fa64,
                                           CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
               in_stack_0000fa6a,
               (int16)CONCAT610(in_stack_0000fa76,
                                CONCAT28(in_stack_0000fa74,
                                         CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
               (int16)in_stack_0000fa7c,in_stack_0000fa8c);
        if (((PTR_DAT_10a8_0000_10a8_07aa == (undefined *)0x7) &&
            (-1 < (int)PTR_DAT_10a8_0000_10a8_08b2)) &&
           (((int)(local_2a + -0x32) <= *(int *)puVar14 &&
            (((*(int *)puVar14 < (int)(local_2c + 0x32) &&
              (local_30 + -0x14 <= *(int *)((int)puVar14 + 2))) &&
             (*(int *)((int)puVar14 + 2) < local_2e + 0x14)))))) {
          FUN_1010_1074(local_14);
          FUN_1018_52da(param_1,(int)local_24,local_24._2_2_ + 5,(int)&DAT_10a8_86de,(int16 *)0x0,
                        (LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                        (int16)CONCAT610(in_stack_0000fa4a,
                                         CONCAT28(in_stack_0000fa48,
                                                  CONCAT26(in_stack_0000fa46,
                                                           CONCAT24(in_stack_0000fa44,
                                                                    CONCAT22(in_stack_0000fa42,
                                                                             CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
        }
      }
      puVar14 = puVar14 + 1;
      local_14 = local_14 + 1;
    } while ((int)local_14 < (int)PTR_DAT_10a8_0000_10a8_003a);
  }
  SETBKCOLOR(CONCAT11(uStack_b,local_c),(COLORREF)CONCAT22(param_1,local_a));
  SETTEXTCOLOR((HDC16)local_8,(COLORREF)CONCAT22(param_1,local_6));
  if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&PTR_LOOP_10a8_0004) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_5738,(HRGN16)local_1a,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
  }
  if ((PTR_DAT_10a8_0000_10a8_7d52 != (undefined *)0x0) &&
     (PTR_DAT_10a8_0000_10a8_07aa != (undefined *)0x7)) {
    local_18 = (int *)((ulong)local_18 & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_006c) << 0x10);
    local_14 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_7d52) {
      local_18 = (int *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,PTR_DAT_10a8_0000_10a8_006a);
      do {
        iVar7 = *local_18;
        local_6 = (undefined *)(((*(byte *)((int)local_18 + 5) & 2) << 8) >> 9);
        if (((*(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *local_18 * 4) < (int)local_2a) ||
            (in_stack_0000fa42 = iVar7 * 4,
            (int)local_2c <= *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + in_stack_0000fa42))) ||
           ((*(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + in_stack_0000fa42) < local_30 ||
            (local_2e <= *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + in_stack_0000fa42))))) {
LAB_1030_1747:
        }
        else {
          uVar11 = FUN_1030_085a(*(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + in_stack_0000fa42) +
                                 local_1c);
          local_24 = local_24 & 0xffff0000 | (ulong)uVar11;
          uVar11 = FUN_1030_085a(local_1e -
                                 *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + in_stack_0000fa42));
          uVar6 = local_24 & 0xffff;
          local_24 = uVar6 | (ulong)uVar11 << 0x10;
          if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&DAT_10a8_0003) {
            local_6 = (undefined *)0x0;
            if (2 < *(byte *)((int)local_18 + 4)) {
              local_4 = (int16 *)FUN_1020_3626((int)local_18,local_18._2_2_,
                                               (int)PTR_DAT_10a8_0001_10a8_00c0);
              if ((int)local_4 < 0) {
                local_4 = (int16 *)FUN_1020_3506((int)local_18,local_18._2_2_,
                                                 (int)PTR_DAT_10a8_0001_10a8_00c0);
                if (-1 < (int)local_4) {
                  local_6 = (undefined *)0x1;
                }
              }
              piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_589a;
              if ((-1 < (int)local_4) &&
                 (piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_0026, local_6 != (undefined *)0x0)) {
                piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_82b8;
              }
              piVar8 = SELECTOBJECT(piVar8,(HRGN16)param_1,unaff_SI,unaff_DI,
                                    (int16)CONCAT610(in_stack_0000fa4a,
                                                     CONCAT28(in_stack_0000fa48,
                                                              CONCAT26(in_stack_0000fa46,
                                                                       CONCAT24(in_stack_0000fa44,
                                                                                CONCAT22(
                                                  in_stack_0000fa42,
                                                  CONCAT11(in_stack_0000fa41,in_stack_0000fa40))))))
                                   );
              local_12 = (uint *)((ulong)local_12 & 0xffff | ZEXT24(piVar8) << 0x10);
              local_8 = (int16 *)PTR_DAT_10a8_0000_10a8_8802;
              if ((-1 < (int)local_4) &&
                 (local_8 = (int16 *)PTR_DAT_10a8_0000_10a8_83c8, local_6 != (undefined *)0x0)) {
                local_8 = (int16 *)PTR_DAT_10a8_0000_10a8_5764;
              }
              piVar8 = SELECTOBJECT(local_8,(HRGN16)param_1,unaff_SI,unaff_DI,
                                    (int16)CONCAT610(in_stack_0000fa4a,
                                                     CONCAT28(in_stack_0000fa48,
                                                              CONCAT26(in_stack_0000fa46,
                                                                       CONCAT24(in_stack_0000fa44,
                                                                                CONCAT22(
                                                  in_stack_0000fa42,
                                                  CONCAT11(in_stack_0000fa41,in_stack_0000fa40))))))
                                   );
              local_12 = (uint *)((ulong)local_12 & 0xffff0000 | ZEXT24(piVar8));
              if ((int)local_4 < 0) {
                iVar7 = -5;
              }
              else {
                iVar7 = 0xb;
              }
              iVar7 = (int)local_4 / iVar7 + 2;
              if (10 < iVar7) {
                iVar7 = 10;
              }
              ELLIPSE(local_24._2_2_ + iVar7 + 1,
                      (int16)CONCAT214(in_stack_0000fa42,
                                       CONCAT113(in_stack_0000fa41,
                                                 CONCAT112(in_stack_0000fa40,
                                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(param_1,CONCAT24((int)local_24 - iVar7,
                                                                            CONCAT22(local_24._2_2_
                                                                                     - iVar7,(int)
                                                  local_24 + iVar7 + 1)))))))),
                      (int16)CONCAT412(in_stack_0000fa50,
                                       CONCAT66(in_stack_0000fa4a,
                                                CONCAT24(in_stack_0000fa48,
                                                         CONCAT22(in_stack_0000fa46,
                                                                  in_stack_0000fa44)))),
                      (int16)CONCAT412(in_stack_0000fa60,
                                       CONCAT66(in_stack_0000fa5a,
                                                CONCAT24(in_stack_0000fa58,
                                                         CONCAT22(in_stack_0000fa56,
                                                                  in_stack_0000fa54)))),
                      (int16)CONCAT412(in_stack_0000fa70,
                                       CONCAT48(in_stack_0000fa6c,
                                                CONCAT26(in_stack_0000fa6a,
                                                         CONCAT42(in_stack_0000fa66,
                                                                  in_stack_0000fa64)))));
              iVar10 = iVar7 + -2;
              if (iVar10 < 3) {
                iVar10 = iVar7 + -1;
              }
              if (iVar10 < 1) {
                iVar10 = 1;
              }
              local_8 = (int16 *)PTR_DAT_10a8_0000_10a8_8852;
              if ((-1 < (int)local_4) &&
                 (local_8 = (int16 *)PTR_DAT_10a8_0000_10a8_83a2, local_6 != (undefined *)0x0)) {
                local_8 = (int16 *)PTR_DAT_10a8_0000_10a8_5720;
              }
              SELECTOBJECT(local_8,(HRGN16)param_1,unaff_SI,unaff_DI,
                           (int16)CONCAT610(in_stack_0000fa4a,
                                            CONCAT28(in_stack_0000fa48,
                                                     CONCAT26(in_stack_0000fa46,
                                                              CONCAT24(in_stack_0000fa44,
                                                                       CONCAT22(in_stack_0000fa42,
                                                                                CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
              local_a = (int16 *)PTR_DAT_10a8_0000_10a8_85c6;
              if ((-1 < (int)local_4) &&
                 (local_a = (int16 *)PTR_DAT_10a8_0000_10a8_8fbe, local_6 != (undefined *)0x0)) {
                local_a = (int16 *)PTR_DAT_10a8_0000_10a8_59d0;
              }
              SELECTOBJECT(local_a,(HRGN16)param_1,unaff_SI,unaff_DI,
                           (int16)CONCAT610(in_stack_0000fa4a,
                                            CONCAT28(in_stack_0000fa48,
                                                     CONCAT26(in_stack_0000fa46,
                                                              CONCAT24(in_stack_0000fa44,
                                                                       CONCAT22(in_stack_0000fa42,
                                                                                CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
              ELLIPSE(iVar10 + local_24._2_2_ + 1,
                      (int16)CONCAT214(in_stack_0000fa42,
                                       CONCAT113(in_stack_0000fa41,
                                                 CONCAT112(in_stack_0000fa40,
                                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(param_1,CONCAT24(-(iVar10 - (int)local_24
                                                                             ),CONCAT22(-(iVar10 -
                                                  local_24._2_2_),iVar10 + (int)local_24 + 1))))))))
                      ,(int16)CONCAT412(in_stack_0000fa50,
                                        CONCAT66(in_stack_0000fa4a,
                                                 CONCAT24(in_stack_0000fa48,
                                                          CONCAT22(in_stack_0000fa46,
                                                                   in_stack_0000fa44)))),
                      (int16)CONCAT412(in_stack_0000fa60,
                                       CONCAT66(in_stack_0000fa5a,
                                                CONCAT24(in_stack_0000fa58,
                                                         CONCAT22(in_stack_0000fa56,
                                                                  in_stack_0000fa54)))),
                      (int16)CONCAT412(in_stack_0000fa70,
                                       CONCAT48(in_stack_0000fa6c,
                                                CONCAT26(in_stack_0000fa6a,
                                                         CONCAT42(in_stack_0000fa66,
                                                                  in_stack_0000fa64)))));
              if (*(int *)((int)local_18 + 2) != -1) {
                local_4 = (int16 *)PTR_DAT_10a8_0000_10a8_578a;
                if ((((undefined *)*(int *)((int)local_18 + 2) != PTR_DAT_10a8_0001_10a8_00c0) &&
                    (in_stack_0000fa40 =
                          *(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 +
                                    *(int *)((int)local_18 + 2) + -0x775c),
                    local_4 = (int16 *)PTR_DAT_10a8_0000_10a8_87de, in_stack_0000fa40 != '\x01')) &&
                   (local_4 = (int16 *)PTR_DAT_10a8_0000_10a8_8852, in_stack_0000fa40 == '\0')) {
                  local_4 = (int16 *)PTR_DAT_10a8_0000_10a8_589a;
                }
                SELECTOBJECT(local_4,(HRGN16)param_1,unaff_SI,unaff_DI,
                             (int16)CONCAT610(in_stack_0000fa4a,
                                              CONCAT28(in_stack_0000fa48,
                                                       CONCAT26(in_stack_0000fa46,
                                                                CONCAT24(in_stack_0000fa44,
                                                                         CONCAT22(in_stack_0000fa42,
                                                                                  CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
                PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  (int)local_24,
                                                  CONCAT26(local_24._2_2_ + -0x14,0x1001500f0))))),
                       (int16)CONCAT610(in_stack_0000fa4a,
                                        CONCAT28(in_stack_0000fa48,
                                                 CONCAT26(in_stack_0000fa46,
                                                          CONCAT24(in_stack_0000fa44,
                                                                   CONCAT22(in_stack_0000fa42,
                                                                            CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))),
                       (int16)CONCAT610(in_stack_0000fa5a,
                                        CONCAT28(in_stack_0000fa58,
                                                 CONCAT26(in_stack_0000fa56,
                                                          CONCAT24(in_stack_0000fa54,
                                                                   in_stack_0000fa50)))),
                       (int16)CONCAT412(in_stack_0000fa6c,
                                        CONCAT210(in_stack_0000fa6a,
                                                  CONCAT46(in_stack_0000fa66,
                                                           CONCAT24(in_stack_0000fa64,
                                                                    in_stack_0000fa60)))),
                       in_stack_0000fa70);
                PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  (int)local_24,
                                                  CONCAT26(local_24._2_2_ + -0x14,0x7000700f0))))),
                       (int16)CONCAT610(in_stack_0000fa4a,
                                        CONCAT28(in_stack_0000fa48,
                                                 CONCAT26(in_stack_0000fa46,
                                                          CONCAT24(in_stack_0000fa44,
                                                                   CONCAT22(in_stack_0000fa42,
                                                                            CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))),
                       (int16)CONCAT610(in_stack_0000fa5a,
                                        CONCAT28(in_stack_0000fa58,
                                                 CONCAT26(in_stack_0000fa56,
                                                          CONCAT24(in_stack_0000fa54,
                                                                   in_stack_0000fa50)))),
                       (int16)CONCAT412(in_stack_0000fa6c,
                                        CONCAT210(in_stack_0000fa6a,
                                                  CONCAT46(in_stack_0000fa66,
                                                           CONCAT24(in_stack_0000fa64,
                                                                    in_stack_0000fa60)))),
                       in_stack_0000fa70);
              }
              SELECTOBJECT((int16 *)local_12,(HRGN16)param_1,unaff_SI,unaff_DI,
                           (int16)CONCAT610(in_stack_0000fa4a,
                                            CONCAT28(in_stack_0000fa48,
                                                     CONCAT26(in_stack_0000fa46,
                                                              CONCAT24(in_stack_0000fa44,
                                                                       CONCAT22(in_stack_0000fa42,
                                                                                CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
              SELECTOBJECT(local_12._2_2_,(HRGN16)param_1,unaff_SI,unaff_DI,
                           (int16)CONCAT610(in_stack_0000fa4a,
                                            CONCAT28(in_stack_0000fa48,
                                                     CONCAT26(in_stack_0000fa46,
                                                              CONCAT24(in_stack_0000fa44,
                                                                       CONCAT22(in_stack_0000fa42,
                                                                                CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
            }
            goto LAB_1030_1747;
          }
          if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&PTR_LOOP_10a8_0004) {
            uVar11 = 0;
            local_e = (int)local_18 + 0x22;
            local_c = (byte)((ulong)local_18 >> 0x10);
            uStack_b = (undefined)((ulong)local_18 >> 0x18);
            local_12 = (uint *)((ulong)local_18 & 0xffff0000 | (ulong)((int)local_18 + 6));
            do {
              puVar5 = (uint *)CONCAT13(uStack_b,CONCAT12(local_c,local_e));
              uVar9 = *puVar5;
              local_6 = (undefined *)(uVar9 + *local_12);
              local_4 = (int16 *)(*(int *)(local_e + 2) + (uint)CARRY2(uVar9,*local_12));
              if (((int)local_4 < 0) || (((int)local_4 < 1 && (local_6 < 0x9c4)))) {
                iVar7 = 6;
                local_8 = (int16 *)&PTR_DAT_10a8_0000_10a8_0012;
                if (((int)local_4 < 0) || (((int)local_4 < 1 && (local_6 < 500)))) {
                  if (((int)local_4 < 0) || (((int)local_4 < 1 && (local_6 < 100))))
                  goto LAB_1030_17be;
                  local_a = (int16 *)&PTR_DAT_10a8_0000_10a8_0018;
                }
                else if (((int)local_4 < 0) || (((int)local_4 < 1 && (local_6 < 1000)))) {
                  local_a = (int16 *)&PTR_DAT_10a8_0000_10a8_000c;
                }
                else {
                  local_a = (int16 *)0x0;
                }
              }
              else {
                iVar7 = 9;
                local_8 = (int16 *)0x0;
                if (((int)local_4 < 0) || (((int)local_4 < 1 && (local_6 < 10000)))) {
                  if (((int)local_4 < 0) ||
                     (((int)local_4 < 1 && (local_6 < (int)s__d_of__d_10a8_1381 + 7U)))) {
LAB_1030_17be:
                    local_a = (int16 *)&PTR_DAT_10a8_0000_10a8_0024;
                  }
                  else {
                    local_a = (int16 *)&PTR_DAT_10a8_0000_10a8_0012;
                  }
                }
                else {
                  local_a = (int16 *)0x0;
                }
              }
              if ((-1 < (int)local_4) && ((0 < (int)local_4 || (0x19 < local_6)))) {
                if ((uVar11 & 1) == 0) {
                  local_6 = (undefined *)((int)local_24 - iVar7);
                }
                else {
                  local_6 = (undefined *)((int)local_24 + 1);
                  local_8 = (int16 *)((int)local_8 + iVar7);
                }
                if ((int)uVar11 < 2) {
                  local_4 = (int16 *)(local_24._2_2_ - iVar7);
                }
                else {
                  local_4 = (int16 *)(local_24._2_2_ + 1);
                  local_a = (int16 *)((int)local_a + iVar7);
                }
                BITBLT(0x86,(int16)CONCAT214(local_6,CONCAT212(local_4,CONCAT210(iVar7,CONCAT28(
                                                  iVar7,CONCAT26(local_1a,CONCAT24(local_8,CONCAT22(
                                                  local_a,0xee))))))),
                       (int16)CONCAT214(in_stack_0000fa48,
                                        CONCAT212(in_stack_0000fa46,
                                                  CONCAT210(in_stack_0000fa44,
                                                            CONCAT28(in_stack_0000fa42,
                                                                     CONCAT17(in_stack_0000fa41,
                                                                              CONCAT16(
                                                  in_stack_0000fa40,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                       ),
                       (int16)CONCAT214(in_stack_0000fa58,
                                        CONCAT212(in_stack_0000fa56,
                                                  CONCAT210(in_stack_0000fa54,
                                                            CONCAT46(in_stack_0000fa50,
                                                                     in_stack_0000fa4a)))),
                       (int16)CONCAT412(in_stack_0000fa66,
                                        CONCAT210(in_stack_0000fa64,
                                                  CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                       in_stack_0000fa6a,
                       (int16)CONCAT610(in_stack_0000fa76,
                                        CONCAT28(in_stack_0000fa74,
                                                 CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                       (int16)in_stack_0000fa7c,in_stack_0000fa8c);
              }
              local_e = local_e + 4;
              local_12 = (uint *)((ulong)local_12 & 0xffff0000 | (ulong)((int)(int16 *)local_12 + 2)
                                 );
              uVar11 = uVar11 + 1;
            } while ((int)uVar11 < 4);
            uVar17 = (undefined2)((ulong)local_18 >> 0x10);
            if (*(int *)((int)local_18 + 2) != -1) {
              local_4 = (int16 *)PTR_DAT_10a8_0000_10a8_578a;
              if ((((undefined *)*(int *)((int)local_18 + 2) != PTR_DAT_10a8_0001_10a8_00c0) &&
                  (in_stack_0000fa40 =
                        *(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 +
                                  *(int *)((int)local_18 + 2) + -0x775c),
                  local_4 = (int16 *)PTR_DAT_10a8_0000_10a8_87de, in_stack_0000fa40 != '\x01')) &&
                 (local_4 = (int16 *)PTR_DAT_10a8_0000_10a8_8852, in_stack_0000fa40 == '\0')) {
                local_4 = (int16 *)PTR_DAT_10a8_0000_10a8_589a;
              }
              piVar8 = SELECTOBJECT(local_4,(HRGN16)param_1,unaff_SI,unaff_DI,
                                    (int16)CONCAT610(in_stack_0000fa4a,
                                                     CONCAT28(in_stack_0000fa48,
                                                              CONCAT26(in_stack_0000fa46,
                                                                       CONCAT24(in_stack_0000fa44,
                                                                                CONCAT22(
                                                  in_stack_0000fa42,
                                                  CONCAT11(in_stack_0000fa41,in_stack_0000fa40))))))
                                   );
              local_12 = (uint *)((ulong)local_12 & 0xffff | ZEXT24(piVar8) << 0x10);
              PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28((
                                                  int)local_24,
                                                  CONCAT26(local_24._2_2_ + -0x14,0x1001500f0))))),
                     (int16)CONCAT610(in_stack_0000fa4a,
                                      CONCAT28(in_stack_0000fa48,
                                               CONCAT26(in_stack_0000fa46,
                                                        CONCAT24(in_stack_0000fa44,
                                                                 CONCAT22(in_stack_0000fa42,
                                                                          CONCAT11(in_stack_0000fa41
                                                                                   ,
                                                  in_stack_0000fa40)))))),
                     (int16)CONCAT610(in_stack_0000fa5a,
                                      CONCAT28(in_stack_0000fa58,
                                               CONCAT26(in_stack_0000fa56,
                                                        CONCAT24(in_stack_0000fa54,in_stack_0000fa50
                                                                )))),
                     (int16)CONCAT412(in_stack_0000fa6c,
                                      CONCAT210(in_stack_0000fa6a,
                                                CONCAT46(in_stack_0000fa66,
                                                         CONCAT24(in_stack_0000fa64,
                                                                  in_stack_0000fa60)))),
                     in_stack_0000fa70);
              PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28((
                                                  int)local_24,
                                                  CONCAT26(local_24._2_2_ + -0x14,0x7000700f0))))),
                     (int16)CONCAT610(in_stack_0000fa4a,
                                      CONCAT28(in_stack_0000fa48,
                                               CONCAT26(in_stack_0000fa46,
                                                        CONCAT24(in_stack_0000fa44,
                                                                 CONCAT22(in_stack_0000fa42,
                                                                          CONCAT11(in_stack_0000fa41
                                                                                   ,
                                                  in_stack_0000fa40)))))),
                     (int16)CONCAT610(in_stack_0000fa5a,
                                      CONCAT28(in_stack_0000fa58,
                                               CONCAT26(in_stack_0000fa56,
                                                        CONCAT24(in_stack_0000fa54,in_stack_0000fa50
                                                                )))),
                     (int16)CONCAT412(in_stack_0000fa6c,
                                      CONCAT210(in_stack_0000fa6a,
                                                CONCAT46(in_stack_0000fa66,
                                                         CONCAT24(in_stack_0000fa64,
                                                                  in_stack_0000fa60)))),
                     in_stack_0000fa70);
LAB_1030_1a58:
              SELECTOBJECT(local_12._2_2_,(HRGN16)param_1,unaff_SI,unaff_DI,
                           (int16)CONCAT610(in_stack_0000fa4a,
                                            CONCAT28(in_stack_0000fa48,
                                                     CONCAT26(in_stack_0000fa46,
                                                              CONCAT24(in_stack_0000fa44,
                                                                       CONCAT22(in_stack_0000fa42,
                                                                                CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
            }
          }
          else {
            local_24._0_2_ = (int)uVar6;
            local_e = iVar7;
            if (*(int *)((int)local_18 + 2) == -1) {
              if (*(ulong *)((int)&PTR_DAT_10a8_0000_10a8_6238 + in_stack_0000fa42) != local_28) {
                BITBLT(0x20,(int16)CONCAT214((int)local_24 + -1,
                                             CONCAT212(uVar11 - 1,
                                                       CONCAT210(3,CONCAT28(3,CONCAT26(local_1a,
                                                  0xb001200cc))))),
                       (int16)CONCAT214(in_stack_0000fa48,
                                        CONCAT212(in_stack_0000fa46,
                                                  CONCAT210(in_stack_0000fa44,
                                                            CONCAT28(in_stack_0000fa42,
                                                                     CONCAT17(in_stack_0000fa41,
                                                                              CONCAT16(
                                                  in_stack_0000fa40,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                       ),
                       (int16)CONCAT214(in_stack_0000fa58,
                                        CONCAT212(in_stack_0000fa56,
                                                  CONCAT210(in_stack_0000fa54,
                                                            CONCAT46(in_stack_0000fa50,
                                                                     in_stack_0000fa4a)))),
                       (int16)CONCAT412(in_stack_0000fa66,
                                        CONCAT210(in_stack_0000fa64,
                                                  CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                       in_stack_0000fa6a,
                       (int16)CONCAT610(in_stack_0000fa76,
                                        CONCAT28(in_stack_0000fa74,
                                                 CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                       (int16)in_stack_0000fa7c,in_stack_0000fa8c);
              }
            }
            else if (*(ulong *)((int)&PTR_DAT_10a8_0000_10a8_6238 + in_stack_0000fa42) == local_28)
            {
              if ((undefined *)*(int *)((int)local_18 + 2) == PTR_DAT_10a8_0001_10a8_00c0) {
                local_4 = (int16 *)0x0;
              }
              else {
                local_4 = (int16 *)0xb;
              }
              BITBLT(0xc6,(int16)CONCAT214((int)local_24 + -5,
                                           CONCAT212(uVar11 - 5,
                                                     CONCAT210(0xb,CONCAT28(0xb,CONCAT26(local_1a,
                                                  0x450088))))),
                     (int16)CONCAT214(in_stack_0000fa48,
                                      CONCAT212(in_stack_0000fa46,
                                                CONCAT210(in_stack_0000fa44,
                                                          CONCAT28(in_stack_0000fa42,
                                                                   CONCAT17(in_stack_0000fa41,
                                                                            CONCAT16(
                                                  in_stack_0000fa40,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                     ),
                     (int16)CONCAT214(in_stack_0000fa58,
                                      CONCAT212(in_stack_0000fa56,
                                                CONCAT210(in_stack_0000fa54,
                                                          CONCAT46(in_stack_0000fa50,
                                                                   in_stack_0000fa4a)))),
                     (int16)CONCAT412(in_stack_0000fa66,
                                      CONCAT210(in_stack_0000fa64,
                                                CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                     in_stack_0000fa6a,
                     (int16)CONCAT610(in_stack_0000fa76,
                                      CONCAT28(in_stack_0000fa74,
                                               CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                     (int16)in_stack_0000fa7c,in_stack_0000fa8c);
              BITBLT(0x86,(int16)CONCAT214((int)local_24 + -5,
                                           CONCAT212(local_24._2_2_ + -5,
                                                     CONCAT210(0xb,CONCAT28(0xb,CONCAT26(local_1a,(
                                                  uint6)CONCAT22(local_4,0xee)))))),
                     (int16)CONCAT214(in_stack_0000fa48,
                                      CONCAT212(in_stack_0000fa46,
                                                CONCAT210(in_stack_0000fa44,
                                                          CONCAT28(in_stack_0000fa42,
                                                                   CONCAT17(in_stack_0000fa41,
                                                                            CONCAT16(
                                                  in_stack_0000fa40,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                     ),
                     (int16)CONCAT214(in_stack_0000fa58,
                                      CONCAT212(in_stack_0000fa56,
                                                CONCAT210(in_stack_0000fa54,
                                                          CONCAT46(in_stack_0000fa50,
                                                                   in_stack_0000fa4a)))),
                     (int16)CONCAT412(in_stack_0000fa66,
                                      CONCAT210(in_stack_0000fa64,
                                                CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                     in_stack_0000fa6a,
                     (int16)CONCAT610(in_stack_0000fa76,
                                      CONCAT28(in_stack_0000fa74,
                                               CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                     (int16)in_stack_0000fa7c,in_stack_0000fa8c);
              if (local_6 != (undefined *)0x0) {
                piVar8 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_5720,(HRGN16)param_1,unaff_SI,
                                      unaff_DI,(int16)CONCAT610(in_stack_0000fa4a,
                                                                CONCAT28(in_stack_0000fa48,
                                                                         CONCAT26(in_stack_0000fa46,
                                                                                  CONCAT24(
                                                  in_stack_0000fa44,
                                                  CONCAT22(in_stack_0000fa42,
                                                           CONCAT11(in_stack_0000fa41,
                                                                    in_stack_0000fa40)))))));
                local_12 = (uint *)((ulong)local_12 & 0xffff | ZEXT24(piVar8) << 0x10);
                local_24._0_2_ = (int)local_24 + 6;
                local_24._2_2_ = local_24._2_2_ + -7;
LAB_1030_1a43:
                PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  (int)local_24,CONCAT26(local_24._2_2_,0x3000300f0)
                                                  )))),
                       (int16)CONCAT610(in_stack_0000fa4a,
                                        CONCAT28(in_stack_0000fa48,
                                                 CONCAT26(in_stack_0000fa46,
                                                          CONCAT24(in_stack_0000fa44,
                                                                   CONCAT22(in_stack_0000fa42,
                                                                            CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))),
                       (int16)CONCAT610(in_stack_0000fa5a,
                                        CONCAT28(in_stack_0000fa58,
                                                 CONCAT26(in_stack_0000fa56,
                                                          CONCAT24(in_stack_0000fa54,
                                                                   in_stack_0000fa50)))),
                       (int16)CONCAT412(in_stack_0000fa6c,
                                        CONCAT210(in_stack_0000fa6a,
                                                  CONCAT46(in_stack_0000fa66,
                                                           CONCAT24(in_stack_0000fa64,
                                                                    in_stack_0000fa60)))),
                       in_stack_0000fa70);
                goto LAB_1030_1a58;
              }
            }
            else {
              if ((undefined *)*(int *)((int)local_18 + 2) == PTR_DAT_10a8_0001_10a8_00c0) {
                uVar17 = 0;
              }
              else {
                uVar17 = 5;
              }
              BITBLT(0x20,(int16)CONCAT214((int)local_24 + -2,
                                           CONCAT212(uVar11 - 2,
                                                     CONCAT210(5,CONCAT28(5,CONCAT26(local_1a,
                                                  CONCAT24(0xb,CONCAT22(uVar17,0xcc))))))),
                     (int16)CONCAT214(in_stack_0000fa48,
                                      CONCAT212(in_stack_0000fa46,
                                                CONCAT210(in_stack_0000fa44,
                                                          CONCAT28(in_stack_0000fa42,
                                                                   CONCAT17(in_stack_0000fa41,
                                                                            CONCAT16(
                                                  in_stack_0000fa40,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                     ),
                     (int16)CONCAT214(in_stack_0000fa58,
                                      CONCAT212(in_stack_0000fa56,
                                                CONCAT210(in_stack_0000fa54,
                                                          CONCAT46(in_stack_0000fa50,
                                                                   in_stack_0000fa4a)))),
                     (int16)CONCAT412(in_stack_0000fa66,
                                      CONCAT210(in_stack_0000fa64,
                                                CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                     in_stack_0000fa6a,
                     (int16)CONCAT610(in_stack_0000fa76,
                                      CONCAT28(in_stack_0000fa74,
                                               CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                     (int16)in_stack_0000fa7c,in_stack_0000fa8c);
              if (local_6 != (undefined *)0x0) {
                piVar8 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_5720,(HRGN16)param_1,unaff_SI,
                                      unaff_DI,(int16)CONCAT610(in_stack_0000fa4a,
                                                                CONCAT28(in_stack_0000fa48,
                                                                         CONCAT26(in_stack_0000fa46,
                                                                                  CONCAT24(
                                                  in_stack_0000fa44,
                                                  CONCAT22(in_stack_0000fa42,
                                                           CONCAT11(in_stack_0000fa41,
                                                                    in_stack_0000fa40)))))));
                local_12 = (uint *)((ulong)local_12 & 0xffff | ZEXT24(piVar8) << 0x10);
                local_24._0_2_ = (int)local_24 + 3;
                local_24._2_2_ = local_24._2_2_ + -4;
                goto LAB_1030_1a43;
              }
            }
          }
        }
        local_14 = local_14 + 1;
        if ((int)PTR_DAT_10a8_0000_10a8_7d52 <= (int)local_14) break;
        local_18 = (int *)((ulong)local_18 & 0xffff0000 | (ulong)((int)local_18 + 0x3c));
      } while( true );
    }
  }
  if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&PTR_LOOP_10a8_0004) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_7c34,(HRGN16)local_1a,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
  }
  if ((PTR_DAT_10a8_0000_10a8_83c6 != (undefined *)0x0) &&
     (PTR_DAT_10a8_0000_10a8_07aa != (undefined *)0x7)) {
    local_6 = (undefined *)*(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + 2);
    piVar8 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_83a2,(HRGN16)param_1,unaff_SI,unaff_DI,
                          (int16)CONCAT610(in_stack_0000fa4a,
                                           CONCAT28(in_stack_0000fa48,
                                                    CONCAT26(in_stack_0000fa46,
                                                             CONCAT24(in_stack_0000fa44,
                                                                      CONCAT22(in_stack_0000fa42,
                                                                               CONCAT11(
                                                  in_stack_0000fa41,in_stack_0000fa40)))))));
    local_12 = (uint *)((ulong)local_12 & 0xffff | ZEXT24(piVar8) << 0x10);
    local_14 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
      local_a = (int16 *)0x0;
      do {
        uVar17 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
        uVar11 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + (int)local_a);
        local_6 = (undefined *)*(uint *)((int)local_a + (int)_PTR_DAT_10a8_0000_10a8_006e + 2);
        if (((uint)local_6 | uVar11) == 0) break;
        if (((local_20 == -1) || ((undefined *)*(int *)(uVar11 + 2) != PTR_DAT_10a8_0001_10a8_00c0))
           || (*(int *)(uVar11 + 0xc + local_20 * 2) != 0)) {
          iVar7 = *(int *)(uVar11 + 6);
          if (iVar7 == -1) {
            iVar10 = *(int *)(uVar11 + 8);
            iVar13 = *(int *)(uVar11 + 10);
          }
          else {
            iVar10 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar7 * 4);
            iVar13 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar7 * 4);
          }
          local_24 = CONCAT22(iVar13,iVar10);
          if (((((int)local_2a <= iVar10) && (iVar10 < (int)local_2c)) && (local_30 <= iVar13)) &&
             (iVar13 < local_2e)) {
            uVar9 = FUN_1030_085a(iVar10 + local_1c);
            uVar6 = local_24 & 0xffff0000;
            local_24 = uVar6 | uVar9;
            local_24._2_2_ = (int)(uVar6 >> 0x10);
            uVar9 = FUN_1030_085a(local_1e - local_24._2_2_);
            uVar6 = local_24 & 0xffff;
            local_24 = uVar6 | (ulong)uVar9 << 0x10;
            bVar18 = (undefined *)*(int *)(uVar11 + 2) != PTR_DAT_10a8_0001_10a8_00c0;
            local_4 = (int16 *)(uint)bVar18;
            local_c = *(ulong *)(uVar11 + 8) == local_28;
            uStack_b = 0;
            if (iVar7 == -1) {
              local_24._0_2_ = (int)uVar6;
              if ((bool)local_c) {
                local_24._0_2_ = (int)local_24 + -4;
                local_24._2_2_ = uVar9 - 4;
                uVar20 = 0xb;
                uVar21 = 0xb;
                uVar17 = 0xb;
                iVar7 = (int)local_4 * 0xb + 0x24;
              }
              else {
                local_24._0_2_ = (int)local_24 + -2;
                local_24._2_2_ = uVar9 - 2;
                uVar20 = 5;
                uVar21 = 5;
                uVar17 = 0xb;
                iVar7 = (int)local_4 * 5 + 0x15;
              }
            }
            else {
              if ((((&stack0xfa4a)[iVar7] == '\x03') ||
                  ((int)(char)(&stack0xfa4a)[iVar7] - (int)local_4 == 1)) ||
                 ((PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&DAT_10a8_0003 ||
                  (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&PTR_LOOP_10a8_0004))))
              goto LAB_1030_1cf7;
              pcVar1 = &stack0xfa4a + iVar7;
              *pcVar1 = *pcVar1 + bVar18 + '\x01';
              local_4 = (int16 *)((char)(&stack0xfa4a)[iVar7] + -1);
              if (CONCAT11(uStack_b,local_c) == 0) {
                BITBLT(0xc6,(int16)CONCAT214((int)local_24 + -5,
                                             CONCAT212(local_24._2_2_ + -5,
                                                       CONCAT210(0xb,CONCAT28(0xb,CONCAT26(local_1a,
                                                  0x1000450088))))),
                       (int16)CONCAT214(in_stack_0000fa48,
                                        CONCAT212(in_stack_0000fa46,
                                                  CONCAT210(in_stack_0000fa44,
                                                            CONCAT28(in_stack_0000fa42,
                                                                     CONCAT17(in_stack_0000fa41,
                                                                              CONCAT16(
                                                  in_stack_0000fa40,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                       ),
                       (int16)CONCAT214(in_stack_0000fa58,
                                        CONCAT212(in_stack_0000fa56,
                                                  CONCAT210(in_stack_0000fa54,
                                                            CONCAT46(in_stack_0000fa50,
                                                                     in_stack_0000fa4a)))),
                       (int16)CONCAT412(in_stack_0000fa66,
                                        CONCAT210(in_stack_0000fa64,
                                                  CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                       in_stack_0000fa6a,
                       (int16)CONCAT610(in_stack_0000fa76,
                                        CONCAT28(in_stack_0000fa74,
                                                 CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                       (int16)in_stack_0000fa7c,in_stack_0000fa8c);
                local_24._0_2_ = (int)local_24 + -5;
                local_24._2_2_ = local_24._2_2_ + -5;
                uVar20 = 0xb;
                uVar21 = 0xb;
                uVar17 = 0x10;
                iVar7 = (int)local_4 * 0xb;
              }
              else {
                BITBLT(0xc6,(int16)CONCAT214((int)local_24 + -9,
                                             CONCAT212(local_24._2_2_ + -9,
                                                       CONCAT210(0x13,CONCAT28(0x13,CONCAT26(
                                                  local_1a,0x1d00450088))))),
                       (int16)CONCAT214(in_stack_0000fa48,
                                        CONCAT212(in_stack_0000fa46,
                                                  CONCAT210(in_stack_0000fa44,
                                                            CONCAT28(in_stack_0000fa42,
                                                                     CONCAT17(in_stack_0000fa41,
                                                                              CONCAT16(
                                                  in_stack_0000fa40,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                       ),
                       (int16)CONCAT214(in_stack_0000fa58,
                                        CONCAT212(in_stack_0000fa56,
                                                  CONCAT210(in_stack_0000fa54,
                                                            CONCAT46(in_stack_0000fa50,
                                                                     in_stack_0000fa4a)))),
                       (int16)CONCAT412(in_stack_0000fa66,
                                        CONCAT210(in_stack_0000fa64,
                                                  CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                       in_stack_0000fa6a,
                       (int16)CONCAT610(in_stack_0000fa76,
                                        CONCAT28(in_stack_0000fa74,
                                                 CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                       (int16)in_stack_0000fa7c,in_stack_0000fa8c);
                local_24._0_2_ = (int)local_24 + -9;
                local_24._2_2_ = local_24._2_2_ + -9;
                uVar20 = 0x13;
                uVar21 = 0x13;
                uVar17 = 0x1d;
                iVar7 = (int)local_4 * 0x13;
              }
            }
            BITBLT(0x86,(int16)CONCAT214((int)local_24,
                                         CONCAT212(local_24._2_2_,
                                                   CONCAT210(uVar21,CONCAT28(uVar20,CONCAT26(
                                                  local_1a,CONCAT24(uVar17,CONCAT22(iVar7,0xee))))))
                                        ),
                   (int16)CONCAT214(in_stack_0000fa48,
                                    CONCAT212(in_stack_0000fa46,
                                              CONCAT210(in_stack_0000fa44,
                                                        CONCAT28(in_stack_0000fa42,
                                                                 CONCAT17(in_stack_0000fa41,
                                                                          CONCAT16(in_stack_0000fa40
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_1)))))))),
                   (int16)CONCAT214(in_stack_0000fa58,
                                    CONCAT212(in_stack_0000fa56,
                                              CONCAT210(in_stack_0000fa54,
                                                        CONCAT46(in_stack_0000fa50,in_stack_0000fa4a
                                                                )))),
                   (int16)CONCAT412(in_stack_0000fa66,
                                    CONCAT210(in_stack_0000fa64,
                                              CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
                   in_stack_0000fa6a,
                   (int16)CONCAT610(in_stack_0000fa76,
                                    CONCAT28(in_stack_0000fa74,
                                             CONCAT44(in_stack_0000fa70,in_stack_0000fa6c))),
                   (int16)in_stack_0000fa7c,in_stack_0000fa8c);
          }
        }
LAB_1030_1cf7:
        local_a = (int16 *)((int)local_a + 4);
        local_14 = local_14 + 1;
      } while ((int)local_14 < (int)PTR_DAT_10a8_0000_10a8_83c6);
    }
    SELECTOBJECT(local_12._2_2_,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
  }
  FUN_1018_5948((int *)param_2,-9,-9);
  piVar2 = (int *)((int)param_2 + 6);
  *piVar2 = *piVar2 + -0xe;
  CVar19 = SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_1) << 0x10));
  local_6 = (undefined *)(CVar19.value >> 0x10);
  local_8 = (int16 *)CVar19.value;
  CVar19 = GETBKCOLOR((HDC16)param_1);
  local_a = (int16 *)(CVar19.value >> 0x10);
  local_c = (byte)CVar19.value;
  uStack_b = (undefined)(CVar19.value >> 8);
  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
    INTERSECTCLIPRECT(*(int16 **)((int)param_2 + 6),*(HDC16 *)(param_2 + 1),
                      (int16)CONCAT214(in_stack_0000fa44,
                                       CONCAT212(in_stack_0000fa42,
                                                 CONCAT111(in_stack_0000fa41,
                                                           CONCAT110(in_stack_0000fa40,
                                                                     CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(param_1,CONCAT22(*(undefined2 *)
                                                                                      param_2,*(
                                                  undefined2 *)((int)param_2 + 2))))))))),
                      (int16)CONCAT214(in_stack_0000fa54,
                                       CONCAT410(in_stack_0000fa50,
                                                 CONCAT64(in_stack_0000fa4a,
                                                          CONCAT22(in_stack_0000fa48,
                                                                   in_stack_0000fa46)))),
                      (int16)CONCAT214(in_stack_0000fa64,
                                       CONCAT410(in_stack_0000fa60,
                                                 CONCAT64(in_stack_0000fa5a,
                                                          CONCAT22(in_stack_0000fa58,
                                                                   in_stack_0000fa56)))),
                      (int16)CONCAT214(in_stack_0000fa74,
                                       CONCAT410(in_stack_0000fa70,
                                                 CONCAT46(in_stack_0000fa6c,
                                                          CONCAT24(in_stack_0000fa6a,
                                                                   in_stack_0000fa66)))));
    PTR_DAT_10a8_0000_10a8_07a0 = (undefined *)0x0;
    FUN_1030_20a4(param_1,(undefined *)&DAT_10a8_0001);
    SELECTCLIPRGN((int16 *)PTR_DAT_10a8_0000_10a8_8344,(HDC16)param_1,unaff_SI);
  }
  SETBKCOLOR(CONCAT11(uStack_b,local_c),(COLORREF)CONCAT22(param_1,local_a));
  SETTEXTCOLOR((HDC16)local_8,(COLORREF)CONCAT22(param_1,local_6));
  SELECTOBJECT(local_4e,(HRGN16)local_1a,unaff_SI,unaff_DI,
               (int16)CONCAT610(in_stack_0000fa4a,
                                CONCAT28(in_stack_0000fa48,
                                         CONCAT26(in_stack_0000fa46,
                                                  CONCAT24(in_stack_0000fa44,
                                                           CONCAT22(in_stack_0000fa42,
                                                                    CONCAT11(in_stack_0000fa41,
                                                                             in_stack_0000fa40))))))
              );
  DELETEDC((HDC16)local_1a);
  if (local_4c != (int16 *)0x0) {
    SETWINDOWORG((int16 *)0x0,0,(HRGN16)param_1,unaff_SI);
    BITBLT(0x20,(int16)CONCAT214(*(undefined2 *)param_2,
                                 CONCAT212(*(undefined2 *)((int)param_2 + 2),
                                           CONCAT210(*(int *)(param_2 + 1) - *(int *)param_2,
                                                     CONCAT28(*(int *)((int)param_2 + 6) -
                                                              *(int *)((int)param_2 + 2),
                                                              CONCAT26(param_1,0xcc))))),
           (int16)CONCAT214(in_stack_0000fa48,
                            CONCAT212(in_stack_0000fa46,
                                      CONCAT210(in_stack_0000fa44,
                                                CONCAT28(in_stack_0000fa42,
                                                         CONCAT17(in_stack_0000fa41,
                                                                  CONCAT16(in_stack_0000fa40,
                                                                           CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,local_4c)))))))),
           (int16)CONCAT214(in_stack_0000fa58,
                            CONCAT212(in_stack_0000fa56,
                                      CONCAT210(in_stack_0000fa54,
                                                CONCAT46(in_stack_0000fa50,in_stack_0000fa4a)))),
           (int16)CONCAT412(in_stack_0000fa66,
                            CONCAT210(in_stack_0000fa64,
                                      CONCAT46(in_stack_0000fa60,in_stack_0000fa5a))),
           in_stack_0000fa6a,
           (int16)CONCAT610(in_stack_0000fa76,
                            CONCAT28(in_stack_0000fa74,CONCAT44(in_stack_0000fa70,in_stack_0000fa6c)
                                    )),(int16)in_stack_0000fa7c,in_stack_0000fa8c);
    SELECTOBJECT(local_50,(HRGN16)param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000fa4a,
                                  CONCAT28(in_stack_0000fa48,
                                           CONCAT26(in_stack_0000fa46,
                                                    CONCAT24(in_stack_0000fa44,
                                                             CONCAT22(in_stack_0000fa42,
                                                                      CONCAT11(in_stack_0000fa41,
                                                                               in_stack_0000fa40))))
                                          )));
    DELETEOBJECT((HGDIOBJ16)local_4a);
    DELETEDC((HDC16)param_1);
  }
  return 0;
}



// WARNING: Removing unreachable block (ram,0x10301e96)
// WARNING: Removing unreachable block (ram,0x10301eab)
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1030_1dee(int *param_1,int *param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  bool16 bVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  long lVar12;
  int *piVar13;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  int iVar14;
  undefined2 unaff_DI;
  int iVar15;
  longdouble lVar16;
  undefined4 in_stack_00000000;
  undefined2 in_stack_00000008;
  undefined2 in_stack_0000ffd6;
  undefined2 in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  long in_stack_0000ffdc;
  int in_stack_0000ffe0;
  int in_stack_0000ffe2;
  undefined6 in_stack_0000ffe4;
  undefined2 in_stack_0000ffea;
  undefined2 in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined2 in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  undefined2 in_stack_0000fff8;
  undefined2 in_stack_0000fffc;

  if ((param_2 == (int *)0x0) ||
     ((param_1[10] == 0 &&
      (bVar5 = INTERSECTRECT((RECT16 *)CONCAT22(0x10a8,param_1 + 6),(RECT16 *)param_2,
                             (RECT16 *)((int)s_From___s_c_c_10a8_10a2 + 6)), bVar5 != 0)))) {
    if (param_2 != (int *)0x0) {
      iVar6 = (param_2[2] - *param_2) / 2;
      iVar7 = iVar6 + *param_2;
      iVar8 = (param_2[3] - param_2[1]) / 2 + param_2[1];
      lVar12 = (long)iVar6 * (long)iVar6;
      uVar4 = 0;
      do {
        if ((int)uVar4 < 2) {
          iVar10 = param_1[6];
        }
        else {
          iVar10 = param_1[8];
        }
        if ((uVar4 & 1) == 0) {
          iVar15 = param_1[9];
        }
        else {
          iVar15 = param_1[7];
        }
        iVar9 = iVar10 - iVar7;
        iVar15 = iVar15 - iVar8;
      } while ((((iVar9 <= lVar12) &&
                (in_stack_0000ffe2 = iVar15 >> 0xf, in_stack_0000ffe0 = iVar15, iVar15 <= lVar12))
               && (in_stack_0000ffdc = (long)iVar9 * (long)iVar9,
                  (long)iVar15 * (long)iVar15 + in_stack_0000ffdc <= lVar12)) &&
              (uVar4 = uVar4 + 1, (int)uVar4 < 4));
      if (uVar4 == 4) {
        param_1[10] = 1;
        param_1[3] = 0;
      }
      else if (param_1[3] != param_1[4]) {
        iVar10 = param_1[3];
        iVar15 = 0;
        if (0 < param_1[3]) {
          iVar14 = 0;
          iVar9 = iVar10;
          do {
            piVar13 = (int *)(param_1[2] + iVar14);
            iVar10 = iVar15;
            if (0 < *piVar13) {
              iVar2 = *(int *)(*param_1 + iVar14);
              iVar3 = *(int *)(param_1[1] + iVar14);
              iVar10 = iVar8 - iVar3;
              iVar11 = iVar7 - iVar2;
              lVar12 = (long)iVar10 * (long)iVar10 + (long)iVar11 * (long)iVar11;
              if (*piVar13 < iVar6) {
                lVar16 = (longdouble)lVar12;
                FUN_10a0_0b96();
                iVar10 = iVar9;
                if (lVar16 + (longdouble)*piVar13 <= (longdouble)iVar6) {
                  *piVar13 = 0;
                  iVar10 = iVar15;
                }
              }
              else {
                piVar1 = piVar13;
                if (*piVar1 == iVar6 || *piVar1 < iVar6) {
                  iVar10 = iVar9;
                  if ((iVar2 == iVar7) && (iVar3 == iVar8)) {
                    return;
                  }
                }
                else {
                  lVar16 = (longdouble)lVar12;
                  FUN_10a0_0b96();
                  iVar10 = iVar9;
                  if ((longdouble)iVar6 <= (longdouble)*piVar13 - lVar16) {
                    return;
                  }
                }
              }
            }
            iVar14 = iVar14 + 2;
            iVar15 = iVar15 + 1;
            piVar1 = param_1 + 3;
            iVar9 = iVar10;
          } while (*piVar1 != iVar15 && iVar15 <= *piVar1);
        }
        iVar15 = iVar10 * 2;
        *(int *)(iVar15 + *param_1) = iVar7;
        *(int *)(iVar15 + param_1[1]) = iVar8;
        *(int *)(iVar15 + param_1[2]) = iVar6;
        if (param_1[3] != iVar10) {
          return;
        }
        piVar1 = param_1 + 3;
        *piVar1 = *piVar1 + 1;
        return;
      }
      iVar15 = *param_2;
      ELLIPSE(param_2[3],
              (int16)CONCAT214(in_stack_0000ffd8,
                               CONCAT212(in_stack_0000ffd6,
                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(param_1[5],
                                                                                       CONCAT15((
                                                  char)((uint)iVar15 >> 8),
                                                  CONCAT14((char)iVar15,
                                                           CONCAT22(param_2[1],param_2[2])))))))),
              (int16)CONCAT610(in_stack_0000ffe4,
                               CONCAT28(in_stack_0000ffe2,
                                        CONCAT26(in_stack_0000ffe0,
                                                 CONCAT42(in_stack_0000ffdc,in_stack_0000ffda)))),
              (int16)CONCAT214((int)((ulong)lVar12 >> 0x10),
                               CONCAT212((int)lVar12,
                                         CONCAT210(iVar10,CONCAT28(in_stack_0000fff2,
                                                                   CONCAT26(iVar7,CONCAT24(iVar8,
                                                  CONCAT22(iVar6,in_stack_0000ffea))))))),
              (int16)CONCAT106(CONCAT28(in_stack_00000008,
                                        CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000))),
                               CONCAT24(unaff_BP,CONCAT22(iVar9,uVar4))));
      return;
    }
    iVar6 = 0;
    if (0 < param_1[3]) {
      iVar7 = 0;
      do {
        piVar13 = (int *)(param_1[2] + iVar7);
        if (0 < *piVar13) {
          iVar8 = *(int *)(*param_1 + iVar7);
          iVar15 = iVar8 - *piVar13;
          iVar10 = *(int *)(param_1[1] + iVar7);
          ELLIPSE(iVar10 + *piVar13,
                  (int16)CONCAT214(in_stack_0000ffd8,
                                   CONCAT212(in_stack_0000ffd6,
                                             CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(param_1[5
                                                  ],CONCAT15((char)((uint)iVar15 >> 8),
                                                             CONCAT14((char)iVar15,
                                                                      CONCAT22(iVar10 - *piVar13,
                                                                               iVar8 + *piVar13)))))
                                                  ))),
                  (int16)CONCAT610(in_stack_0000ffe4,
                                   CONCAT28(in_stack_0000ffe2,
                                            CONCAT26(in_stack_0000ffe0,
                                                     CONCAT42(in_stack_0000ffdc,piVar13)))),
                  (int16)CONCAT214(in_stack_0000fff8,
                                   CONCAT212(in_stack_0000fff6,
                                             CONCAT210(in_stack_0000fff4,
                                                       CONCAT28(in_stack_0000fff2,
                                                                CONCAT26(in_stack_0000fff0,
                                                                         CONCAT24(in_stack_0000ffee,
                                                                                  CONCAT22(
                                                  in_stack_0000ffec,in_stack_0000ffea))))))),
                  (int16)CONCAT106(CONCAT28(in_stack_00000008,
                                            (qword)CONCAT24(param_1,in_stack_00000000)),
                                   CONCAT24(unaff_BP,CONCAT22(in_stack_0000fffc,iVar6))));
        }
        iVar7 = iVar7 + 2;
        iVar6 = iVar6 + 1;
        piVar1 = param_1 + 3;
      } while (*piVar1 != iVar6 && iVar6 <= *piVar1);
    }
    param_1[10] = 0;
    param_1[3] = 0;
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x103020fb)
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1030_20a4(int16 *param_1,undefined *param_2)

{
  undefined2 *puVar1;
  undefined4 uVar2;
  int16 *__return_storage_ptr__;
  uint uVar3;
  int iVar4;
  int iVar5;
  HRGN16 unaff_SI;
  ulong *puVar6;
  HRGN16 unaff_DI;
  int iVar7;
  undefined2 *puVar8;
  int *piVar9;
  int unaff_SS;
  int iVar10;
  bool bVar11;
  int16 *hdest;
  undefined6 in_stack_0000ff2c;
  undefined2 in_stack_0000ff32;
  undefined4 in_stack_0000ff34;
  undefined4 in_stack_0000ff38;
  undefined6 in_stack_0000ff3c;
  undefined2 in_stack_0000ff42;
  undefined in_stack_0000ff44 [14];
  undefined in_stack_0000ff52 [16];
  undefined2 local_26 [2];
  HDC16 local_22;
  int16 *local_20;
  undefined4 local_1e;
  undefined4 local_1a;
  uint local_16;
  int local_14;
  ulong local_12;
  int local_e;
  int *local_c;
  int16 *local_a;
  int16 *local_8;
  int local_6;
  int local_4;

  iVar10 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_16 = 0;
  if ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) &&
     (PTR_DAT_10a8_0000_10a8_07a0 != param_2)) {
    PTR_DAT_10a8_0000_10a8_07a0 = param_2;
    bVar11 = param_1 == (int16 *)0x0;
    if (bVar11) {
      param_1 = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_00c4);
    }
    local_16 = (uint)bVar11;
    if (1 < (int)PTR_DAT_10a8_0000_10a8_7bc4) {
      puVar8 = (undefined2 *)&stack0xff2c;
      for (uVar3 = (uint)PTR_DAT_10a8_0000_10a8_7bc4 & 0x7fff; uVar3 != 0; uVar3 = uVar3 - 1) {
        puVar1 = puVar8;
        puVar8 = puVar8 + 1;
        *puVar1 = 0;
      }
      puVar6 = (ulong *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 4);
      local_12 = _PTR_DAT_10a8_0000_10a8_7bc6 & 0xffff0000 | local_12 & 0xffff;
      local_1a = *puVar6;
      local_e = 1;
      if (1 < (int)PTR_DAT_10a8_0000_10a8_7bc4) {
        local_12 = _PTR_DAT_10a8_0000_10a8_7bc6 & 0xffff0000 | ZEXT24(puVar6);
        local_c = (int *)&stack0xff2e;
        iVar5 = 1;
        do {
          local_4 = (int)(local_12 >> 0x10);
          puVar6 = (ulong *)((int)local_12 + 0x12);
          local_1e = *puVar6;
          if ((*local_c == 0) && (iVar7 = iVar5 + 1, iVar7 < *(int *)&PTR_DAT_10a8_0000_10a8_7bc4))
          {
            local_8 = (int16 *)(&stack0xff2c + iVar7 * 2);
            local_a = (int16 *)(*(int *)&PTR_DAT_10a8_0000_10a8_7bc4 - iVar7);
            iVar4 = (int)local_a;
            puVar8 = (undefined2 *)local_8;
            do {
              if (((*puVar6 == local_1a) && (*(ulong *)((int)puVar6 + 0x12) == local_1e)) ||
                 ((*puVar6 == local_1e && (*(ulong *)((int)puVar6 + 0x12) == local_1a)))) {
                *local_c = 1;
                *puVar8 = 2;
              }
              puVar8 = puVar8 + 1;
              puVar6 = (ulong *)((int)puVar6 + 0x12);
              iVar4 = iVar4 + -1;
              iVar10 = unaff_SS;
              local_14 = iVar7;
              local_e = iVar5;
            } while (iVar4 != 0);
          }
          local_c = local_c + 1;
          local_12 = local_12 & 0xffff0000 | (ulong)((int)local_12 + 0x12);
          iVar5 = iVar5 + 1;
          local_1a = local_1e;
        } while (iVar5 < *(int *)&PTR_DAT_10a8_0000_10a8_7bc4);
      }
      GETCLIENTRECT((HWND16)local_26,
                    (RECT16 *)CONCAT22(*(undefined2 *)&PTR_DAT_10a8_0000_10a8_00c4,unaff_SS));
      EXCLUDECLIPRECT(local_20,local_22,
                      (int16)CONCAT610(in_stack_0000ff2c,
                                       CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(param_1,CONCAT22
                                                  (local_26[0],
                                                   (int)local_20 -
                                                   *(int *)&PTR_DAT_10a8_0000_10a8_5762))))),
                      (int16)CONCAT610(in_stack_0000ff3c,
                                       CONCAT46(in_stack_0000ff38,
                                                CONCAT42(in_stack_0000ff34,in_stack_0000ff32))),
                      (int16)CONCAT142(in_stack_0000ff44,in_stack_0000ff42),(int16)in_stack_0000ff52
                     );
      local_a = SELECTOBJECT(*(int16 **)&PTR_DAT_10a8_0000_10a8_8fbe,(HRGN16)param_1,unaff_SI,
                             unaff_DI,(int16)CONCAT412(in_stack_0000ff38,
                                                       CONCAT48(in_stack_0000ff34,
                                                                CONCAT26(in_stack_0000ff32,
                                                                         in_stack_0000ff2c))));
      local_8 = SETROP2((int16 *)0x7,(HDC16)param_1,
                        (int16)CONCAT412(in_stack_0000ff34,
                                         CONCAT210(in_stack_0000ff32,
                                                   CONCAT64(in_stack_0000ff2c,
                                                            CONCAT22(unaff_DI,unaff_SI)))));
      uVar2 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
      local_1a = *(ulong *)((int)uVar2 + 4);
      FUN_1030_3110((int *)&local_1a);
      EXCLUDECLIPRECT((int16 *)(local_1a._2_2_ + 6),(int)local_1a + 6,
                      (int16)CONCAT610(in_stack_0000ff2c,
                                       CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(param_1,CONCAT22
                                                  (-(5 - (int)local_1a),-(5 - local_1a._2_2_)))))),
                      (int16)CONCAT610(in_stack_0000ff3c,
                                       CONCAT46(in_stack_0000ff38,
                                                CONCAT42(in_stack_0000ff34,in_stack_0000ff32))),
                      (int16)CONCAT142(in_stack_0000ff44,in_stack_0000ff42),(int16)in_stack_0000ff52
                     );
      MOVETO(local_1a._2_2_,
             (int16)CONCAT214(in_stack_0000ff32,
                              CONCAT68(in_stack_0000ff2c,
                                       CONCAT26(unaff_DI,CONCAT24(unaff_SI,local_1a & 0xffff |
                                                                           ZEXT24(param_1) << 0x10))
                                      )),
             (int16)CONCAT214(in_stack_0000ff42,
                              CONCAT68(in_stack_0000ff3c,
                                       CONCAT44(in_stack_0000ff38,in_stack_0000ff34))));
      local_e = 1;
      if (1 < *(int *)&PTR_DAT_10a8_0000_10a8_7bc4) {
        piVar9 = (int *)&stack0xff2e;
        local_6 = 0x12;
        do {
          uVar2 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
          local_1e = *(ulong *)((int)uVar2 + local_6 + 4);
          local_4 = 5;
          FUN_1030_3110((int *)&local_1e);
          EXCLUDECLIPRECT((int16 *)(local_4 + local_1e._2_2_ + 1),local_4 + (int)local_1e + 1,
                          (int16)CONCAT610(in_stack_0000ff2c,
                                           CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(param_1,
                                                  CONCAT22((int)local_1e - local_4,
                                                           local_1e._2_2_ - local_4))))),
                          (int16)CONCAT610(in_stack_0000ff3c,
                                           CONCAT46(in_stack_0000ff38,
                                                    CONCAT42(in_stack_0000ff34,in_stack_0000ff32))),
                          (int16)CONCAT142(in_stack_0000ff44,in_stack_0000ff42),
                          (int16)in_stack_0000ff52);
          if (*piVar9 == 2) {
            MOVETO(local_1e._2_2_,
                   (int16)CONCAT214(in_stack_0000ff32,
                                    CONCAT68(in_stack_0000ff2c,
                                             CONCAT26(unaff_DI,CONCAT24(unaff_SI,local_1e & 0xffff |
                                                                                 ZEXT24(param_1) <<
                                                                                 0x10)))),
                   (int16)CONCAT214(in_stack_0000ff42,
                                    CONCAT68(in_stack_0000ff3c,
                                             CONCAT44(in_stack_0000ff38,in_stack_0000ff34))));
          }
          else {
            if (*piVar9 == 1) {
              hdest = param_1;
              __return_storage_ptr__ =
                   (int16 *)GETSTOCKOBJECT((int16)CONCAT214(in_stack_0000ff32,
                                                            CONCAT68(in_stack_0000ff2c,
                                                                     CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(param_1,6))))));
              SELECTOBJECT(__return_storage_ptr__,(HRGN16)hdest,unaff_SI,unaff_DI,
                           (int16)CONCAT412(in_stack_0000ff38,
                                            CONCAT48(in_stack_0000ff34,
                                                     CONCAT26(in_stack_0000ff32,in_stack_0000ff2c)))
                          );
            }
            LINETO(local_1e._2_2_,
                   (int16)CONCAT214(in_stack_0000ff32,
                                    CONCAT68(in_stack_0000ff2c,
                                             CONCAT26(unaff_DI,CONCAT24(unaff_SI,local_1e & 0xffff |
                                                                                 ZEXT24(param_1) <<
                                                                                 0x10)))),
                   (int16)CONCAT214(in_stack_0000ff42,
                                    CONCAT68(in_stack_0000ff3c,
                                             CONCAT44(in_stack_0000ff38,in_stack_0000ff34))));
            if (*piVar9 == 1) {
              SELECTOBJECT(*(int16 **)&PTR_DAT_10a8_0000_10a8_8fbe,(HRGN16)param_1,unaff_SI,unaff_DI
                           ,(int16)CONCAT412(in_stack_0000ff38,
                                             CONCAT48(in_stack_0000ff34,
                                                      CONCAT26(in_stack_0000ff32,in_stack_0000ff2c))
                                            ));
            }
          }
          local_1a = local_1e;
          piVar9 = piVar9 + 1;
          local_6 = local_6 + 0x12;
          local_e = local_e + 1;
        } while (local_e < *(int *)&PTR_DAT_10a8_0000_10a8_7bc4);
      }
      SETROP2(local_8,(HDC16)param_1,
              (int16)CONCAT412(in_stack_0000ff34,
                               CONCAT210(in_stack_0000ff32,
                                         CONCAT64(in_stack_0000ff2c,CONCAT22(unaff_DI,unaff_SI)))));
      SELECTOBJECT(local_a,(HRGN16)param_1,unaff_SI,unaff_DI,
                   (int16)CONCAT412(in_stack_0000ff38,
                                    CONCAT48(in_stack_0000ff34,
                                             CONCAT26(in_stack_0000ff32,in_stack_0000ff2c))));
      SELECTCLIPRGN(*(int16 **)&PTR_DAT_10a8_0000_10a8_8344,(HDC16)param_1,unaff_SI);
      if (local_16 != 0) {
        RELEASEDC(param_1,*(HWND16 *)&PTR_DAT_10a8_0000_10a8_00c4,unaff_SI);
      }
    }
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far
FUN_1030_2348(int16 *param_1,RECT16 *param_2,undefined2 *param_3,VA_LIST16 param_4)

{
  undefined2 *puVar1;
  undefined4 *puVar2;
  char *pcVar3;
  undefined2 *puVar4;
  undefined4 *puVar5;
  char cVar6;
  int iVar7;
  bool16 bVar8;
  int16 *piVar9;
  char *pcVar10;
  char *pcVar11;
  int16 *piVar12;
  uint uVar13;
  uint uVar14;
  int iVar15;
  undefined *puVar16;
  undefined *puVar17;
  VA_LIST16 unaff_SI;
  undefined4 *puVar18;
  undefined4 *puVar19;
  HRGN16 unaff_DI;
  undefined2 *puVar20;
  undefined2 *puVar21;
  undefined2 unaff_SS;
  dword dVar22;
  undefined2 uVar23;
  int16 *piVar24;
  ulong *puVar25;
  undefined2 uVar26;
  undefined2 uVar27;
  undefined2 in_stack_0000ff62;
  int iVar28;
  char in_stack_0000ff64;
  undefined in_stack_0000ff65;
  undefined2 in_stack_0000ff66;
  undefined2 in_stack_0000ff68;
  undefined2 in_stack_0000ff6a;
  undefined2 in_stack_0000ff6c;
  undefined2 in_stack_0000ff6e;
  undefined2 in_stack_0000ff70;
  undefined2 in_stack_0000ff72;
  undefined2 in_stack_0000ff74;
  undefined2 in_stack_0000ff76;
  undefined2 in_stack_0000ff78;
  undefined8 in_stack_0000ff7a;
  undefined6 in_stack_0000ff82;
  unkbyte10 in_stack_0000ff88;
  dword in_stack_0000ff92;
  ulong local_38;
  ulong local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  int16 *local_18;
  int16 *local_16;
  int16 *local_14;
  int local_12;
  COLORREF local_10;
  int local_c;
  int16 *local_a;
  undefined *local_8;
  int local_6;
  char *local_4;

  local_12 = 0;
  local_c = 1;
  GETCLIENTRECT((HWND16)&local_30,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00c4,unaff_SS));
  local_30 = CONCAT22(local_2c._2_2_ - (int)PTR_DAT_10a8_0000_10a8_5762,(int)local_30);
  if ((param_2 != (RECT16 *)0x0) &&
     (bVar8 = INTERSECTRECT((RECT16 *)CONCAT22(unaff_SS,&local_30),param_2,
                            (RECT16 *)((int)s_From___s_c_c_10a8_10a2 + 6)), bVar8 == 0)) {
    return;
  }
  if (param_1 == (int16 *)0x0) {
    local_12 = 1;
    param_1 = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_00c4);
  }
  local_14 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,
                          unaff_DI,(int16)CONCAT214(in_stack_0000ff70,
                                                    CONCAT212(in_stack_0000ff6e,
                                                              CONCAT210(in_stack_0000ff6c,
                                                                        CONCAT28(in_stack_0000ff6a,
                                                                                 CONCAT26(
                                                  in_stack_0000ff68,
                                                  CONCAT24(in_stack_0000ff66,
                                                           CONCAT13(in_stack_0000ff65,
                                                                    CONCAT12(in_stack_0000ff64,
                                                                             in_stack_0000ff62))))))
                                                  )));
  local_8 = PTR_DAT_10a8_0000_10a8_7b58;
  if (param_3 != (undefined2 *)0x0) {
    local_8 = (undefined *)*param_3;
  }
  local_16 = SETBKMODE((int16 *)&DAT_10a8_0001,(HDC16)param_1,
                       (int16)CONCAT214(in_stack_0000ff6c,
                                        CONCAT212(in_stack_0000ff6a,
                                                  CONCAT210(in_stack_0000ff68,
                                                            CONCAT28(in_stack_0000ff66,
                                                                     CONCAT17(in_stack_0000ff65,
                                                                              CONCAT16(
                                                  in_stack_0000ff64,
                                                  CONCAT24(in_stack_0000ff62,
                                                           CONCAT22(unaff_DI,unaff_SI)))))))));
  local_10 = SETBKCOLOR((HDC16)_DAT_10a8_5714,CONCAT22(param_1,(int)((ulong)_DAT_10a8_5714 >> 0x10))
                       );
  SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
               (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
  local_18 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HRGN16)param_1,(HRGN16)unaff_SI,
                          unaff_DI,(int16)CONCAT214(in_stack_0000ff70,
                                                    CONCAT212(in_stack_0000ff6e,
                                                              CONCAT210(in_stack_0000ff6c,
                                                                        CONCAT28(in_stack_0000ff6a,
                                                                                 CONCAT26(
                                                  in_stack_0000ff68,
                                                  CONCAT24(in_stack_0000ff66,
                                                           CONCAT13(in_stack_0000ff65,
                                                                    CONCAT12(in_stack_0000ff64,
                                                                             in_stack_0000ff62))))))
                                                  )));
  if (param_4 != (VA_LIST16)0x0) {
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28((int)
                                                  local_30,CONCAT26(local_30._2_2_,
                                                                    CONCAT24((int)local_2c -
                                                                             (int)local_30,
                                                                             CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_5762,0xf0))))))),
           (int16)CONCAT214(in_stack_0000ff70,
                            CONCAT212(in_stack_0000ff6e,
                                      CONCAT210(in_stack_0000ff6c,
                                                CONCAT28(in_stack_0000ff6a,
                                                         CONCAT26(in_stack_0000ff68,
                                                                  CONCAT24(in_stack_0000ff66,
                                                                           CONCAT13(
                                                  in_stack_0000ff65,
                                                  CONCAT12(in_stack_0000ff64,in_stack_0000ff62))))))
                                     )),
           (int16)CONCAT88(in_stack_0000ff7a,
                           CONCAT26(in_stack_0000ff78,
                                    CONCAT24(in_stack_0000ff76,
                                             CONCAT22(in_stack_0000ff74,in_stack_0000ff72)))),
           (int16)CONCAT106(in_stack_0000ff88,in_stack_0000ff82),in_stack_0000ff92);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff70,
                                  CONCAT212(in_stack_0000ff6e,
                                            CONCAT210(in_stack_0000ff6c,
                                                      CONCAT28(in_stack_0000ff6a,
                                                               CONCAT26(in_stack_0000ff68,
                                                                        CONCAT24(in_stack_0000ff66,
                                                                                 CONCAT13(
                                                  in_stack_0000ff65,
                                                  CONCAT12(in_stack_0000ff64,in_stack_0000ff62))))))
                                           )));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28((int)
                                                  local_30,CONCAT26(local_30._2_2_,
                                                                    CONCAT24(1,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_5762,0xf0))))))),
           (int16)CONCAT214(in_stack_0000ff70,
                            CONCAT212(in_stack_0000ff6e,
                                      CONCAT210(in_stack_0000ff6c,
                                                CONCAT28(in_stack_0000ff6a,
                                                         CONCAT26(in_stack_0000ff68,
                                                                  CONCAT24(in_stack_0000ff66,
                                                                           CONCAT13(
                                                  in_stack_0000ff65,
                                                  CONCAT12(in_stack_0000ff64,in_stack_0000ff62))))))
                                     )),
           (int16)CONCAT88(in_stack_0000ff7a,
                           CONCAT26(in_stack_0000ff78,
                                    CONCAT24(in_stack_0000ff76,
                                             CONCAT22(in_stack_0000ff74,in_stack_0000ff72)))),
           (int16)CONCAT106(in_stack_0000ff88,in_stack_0000ff82),in_stack_0000ff92);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28((int)
                                                  local_30,CONCAT26(local_30._2_2_,
                                                                    CONCAT24((int)local_2c -
                                                                             (int)local_30,0x100f0))
                                                  )))),
           (int16)CONCAT214(in_stack_0000ff70,
                            CONCAT212(in_stack_0000ff6e,
                                      CONCAT210(in_stack_0000ff6c,
                                                CONCAT28(in_stack_0000ff6a,
                                                         CONCAT26(in_stack_0000ff68,
                                                                  CONCAT24(in_stack_0000ff66,
                                                                           CONCAT13(
                                                  in_stack_0000ff65,
                                                  CONCAT12(in_stack_0000ff64,in_stack_0000ff62))))))
                                     )),
           (int16)CONCAT88(in_stack_0000ff7a,
                           CONCAT26(in_stack_0000ff78,
                                    CONCAT24(in_stack_0000ff76,
                                             CONCAT22(in_stack_0000ff74,in_stack_0000ff72)))),
           (int16)CONCAT106(in_stack_0000ff88,in_stack_0000ff82),in_stack_0000ff92);
  }
  _PTR_DAT_10a8_0000_10a8_07a2 = local_30;
  PTR_DAT_10a8_0000_10a8_07a2 = (undefined *)local_30;
  _PTR_DAT_10a8_0000_10a8_07a6 =
       local_2c & 0xffff0000 |
       ZEXT24(PTR_DAT_10a8_0000_10a8_07a2 + (int)PTR_DAT_10a8_0000_10a8_8858 + 4);
  FUN_1018_5948((int *)&PTR_DAT_10a8_0000_10a8_07a2,-4,-4);
  FUN_1030_2a7c((HRGN16)param_1,(int *)&PTR_DAT_10a8_0000_10a8_07a2,(int)param_4,unaff_SI,unaff_DI,
                in_stack_0000ff62,CONCAT11(in_stack_0000ff65,in_stack_0000ff64),
                (undefined1  [10])
                CONCAT28(in_stack_0000ff6e,
                         CONCAT26(in_stack_0000ff6c,
                                  CONCAT24(in_stack_0000ff6a,
                                           CONCAT22(in_stack_0000ff68,in_stack_0000ff66)))),
                in_stack_0000ff70,in_stack_0000ff72,in_stack_0000ff74,in_stack_0000ff76,
                in_stack_0000ff78);
  SETBKMODE((int16 *)&DAT_10a8_0001,(HDC16)param_1,
            (int16)CONCAT214(in_stack_0000ff6c,
                             CONCAT212(in_stack_0000ff6a,
                                       CONCAT210(in_stack_0000ff68,
                                                 CONCAT28(in_stack_0000ff66,
                                                          CONCAT17(in_stack_0000ff65,
                                                                   CONCAT16(in_stack_0000ff64,
                                                                            CONCAT24(
                                                  in_stack_0000ff62,CONCAT22(unaff_DI,unaff_SI))))))
                                      )));
  local_a = (int16 *)(PTR_DAT_10a8_0000_10a8_07a2 +
                     ((int)PTR_DAT_10a8_0000_10a8_07a6 - (int)PTR_DAT_10a8_0000_10a8_07a2) / 2);
  FUN_1018_52da(param_1,(int)local_a,PTR_DAT_10a8_0000_10a8_07a4 + 2,
                *(undefined2 *)((int)PTR_DAT_10a8_0000_10a8_07aa * 2 + 0x7de),(int16 *)0x0,
                (LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                (int16)CONCAT214(in_stack_0000ff70,
                                 CONCAT212(in_stack_0000ff6e,
                                           CONCAT210(in_stack_0000ff6c,
                                                     CONCAT28(in_stack_0000ff6a,
                                                              CONCAT26(in_stack_0000ff68,
                                                                       CONCAT24(in_stack_0000ff66,
                                                                                CONCAT13(
                                                  in_stack_0000ff65,
                                                  CONCAT12(in_stack_0000ff64,in_stack_0000ff62))))))
                                          )));
  iVar28 = *(int *)((int)PTR_DAT_10a8_0000_10a8_07aa * 2 + 0x81e);
  if (iVar28 != 0) {
    FUN_1018_52da(param_1,(int)local_a,
                  PTR_DAT_10a8_0000_10a8_07a4 + (int)PTR_DAT_10a8_0000_10a8_5794,iVar28,(int16 *)0x0
                  ,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                  (int16)CONCAT214(in_stack_0000ff70,
                                   CONCAT212(in_stack_0000ff6e,
                                             CONCAT210(in_stack_0000ff6c,
                                                       CONCAT28(in_stack_0000ff6a,
                                                                CONCAT26(in_stack_0000ff68,
                                                                         CONCAT24(in_stack_0000ff66,
                                                                                  CONCAT13(
                                                  in_stack_0000ff65,
                                                  CONCAT12(in_stack_0000ff64,iVar28)))))))));
  }
  local_24 = CONCAT22(PTR_DAT_10a8_0000_10a8_07a8 + -1,(undefined *)((int)local_a + 8));
  local_28 = CONCAT22(PTR_DAT_10a8_0000_10a8_07a8 + -0x10,(undefined *)((int)local_a + -7));
  FUN_1008_9946((HRGN16)param_1,(int *)&local_28,(int16 *)PTR_DAT_10a8_0000_10a8_58a6,
                (undefined1  [10])
                CONCAT28(in_stack_0000ff66,
                         CONCAT17(in_stack_0000ff65,
                                  CONCAT16(in_stack_0000ff64,
                                           CONCAT24(iVar28,CONCAT22(unaff_DI,unaff_SI))))),
                in_stack_0000ff68,in_stack_0000ff6a,in_stack_0000ff6c,in_stack_0000ff6e,
                in_stack_0000ff70);
  uVar13 = local_2c._2_2_ - ((int)PTR_DAT_10a8_0000_10a8_5762 >> 1);
  local_24 = local_2c & 0xffff;
  local_2c = local_24 | (ulong)uVar13 << 0x10;
  local_28._2_2_ = (int)((ulong)local_30 >> 0x10);
  local_24 = local_24 | (ulong)(uVar13 - 4) << 0x10;
  local_28 = CONCAT22(local_28._2_2_ + 4,PTR_DAT_10a8_0000_10a8_8858 + (int)local_30 + 4);
  if (0x167 < (int)local_24) {
    dVar22 = GETTEXTEXTENT(7,(LPCSTR)0x10a808b4,
                           (int16)CONCAT214(in_stack_0000ff6a,
                                            CONCAT212(in_stack_0000ff68,
                                                      CONCAT210(in_stack_0000ff66,
                                                                CONCAT19(in_stack_0000ff65,
                                                                         CONCAT18(in_stack_0000ff64,
                                                                                  CONCAT26(iVar28,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                           ));
    local_4 = (char *)(dVar22 >> 0x10);
    iVar15 = (int)dVar22;
    local_24 = local_24 & 0xffff0000 | (ulong)(uint)(iVar15 + 6 + (int)local_28);
    local_6 = iVar15;
    FUN_1030_2a7c((HRGN16)param_1,(int *)&local_28,(int)param_4,unaff_SI,unaff_DI,iVar28,
                  CONCAT11(in_stack_0000ff65,in_stack_0000ff64),
                  (undefined1  [10])
                  CONCAT28(in_stack_0000ff6e,
                           CONCAT26(in_stack_0000ff6c,
                                    CONCAT24(in_stack_0000ff6a,
                                             CONCAT22(in_stack_0000ff68,in_stack_0000ff66)))),
                  in_stack_0000ff70,in_stack_0000ff72,in_stack_0000ff74,in_stack_0000ff76,
                  in_stack_0000ff78);
    if (((uint)local_8 & 1) == 0) {
      if (local_8 == (undefined *)&PTR_LOOP_10a8_0004) {
        local_4 = PTR_DAT_10a8_0000_10a8_7b60;
        if (param_3 != (undefined2 *)0x0) {
          local_4 = (undefined *)param_3[1];
        }
        local_a = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x8c310a8,
                            (LPCSTR)CONCAT22(local_4,0x10a8),unaff_SI);
        goto LAB_1030_2614;
      }
    }
    else {
      local_4 = PTR_DAT_10a8_0000_10a8_7b5c;
      if (param_3 != (undefined2 *)0x0) {
        local_4 = (undefined *)param_3[1];
      }
      if (local_4 != (undefined *)0xffff) {
        local_a = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x8bc10a8,
                            (LPCSTR)CONCAT22(local_4 + 1,0x10a8),unaff_SI);
        SETBKMODE((int16 *)&DAT_10a8_0002,(HDC16)param_1,
                  (int16)CONCAT214(in_stack_0000ff6c,
                                   CONCAT212(in_stack_0000ff6a,
                                             CONCAT210(in_stack_0000ff68,
                                                       CONCAT28(in_stack_0000ff66,
                                                                CONCAT17(in_stack_0000ff65,
                                                                         CONCAT16(in_stack_0000ff64,
                                                                                  CONCAT24(iVar28,
                                                  CONCAT22(unaff_DI,unaff_SI)))))))));
LAB_1030_2614:
        TEXTOUT((HDC16)local_a,
                (int16)CONCAT214(iVar28,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26((int)local_28 + 3,
                                                           CONCAT24(local_28._2_2_ + 2,0x10a886de)))
                                                  ))),
                (int16)CONCAT214(in_stack_0000ff72,
                                 CONCAT212(in_stack_0000ff70,
                                           CONCAT210(in_stack_0000ff6e,
                                                     CONCAT28(in_stack_0000ff6c,
                                                              CONCAT26(in_stack_0000ff6a,
                                                                       CONCAT24(in_stack_0000ff68,
                                                                                CONCAT22(
                                                  in_stack_0000ff66,
                                                  CONCAT11(in_stack_0000ff65,in_stack_0000ff64))))))
                                          )),(LPCSTR)CONCAT22(in_stack_0000ff76,in_stack_0000ff74),
                (int16)CONCAT610(in_stack_0000ff82,CONCAT82(in_stack_0000ff7a,in_stack_0000ff78)));
      }
    }
    dVar22 = GETTEXTEXTENT(7,(LPCSTR)0x10a808ca,
                           (int16)CONCAT214(in_stack_0000ff6a,
                                            CONCAT212(in_stack_0000ff68,
                                                      CONCAT210(in_stack_0000ff66,
                                                                CONCAT19(in_stack_0000ff65,
                                                                         CONCAT18(in_stack_0000ff64,
                                                                                  CONCAT26(iVar28,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                           ));
    local_4 = (char *)(dVar22 >> 0x10);
    iVar7 = (int)dVar22;
    uVar13 = (int)local_28 + iVar15 + 10;
    local_28 = local_28 & 0xffff0000 | (ulong)uVar13;
    local_24 = local_24 & 0xffff0000 | (ulong)(iVar7 + 6 + uVar13);
    local_6 = iVar7;
    FUN_1030_2a7c((HRGN16)param_1,(int *)&local_28,(int)param_4,unaff_SI,unaff_DI,iVar28,
                  CONCAT11(in_stack_0000ff65,in_stack_0000ff64),
                  (undefined1  [10])
                  CONCAT28(in_stack_0000ff6e,
                           CONCAT26(in_stack_0000ff6c,
                                    CONCAT24(in_stack_0000ff6a,
                                             CONCAT22(in_stack_0000ff68,in_stack_0000ff66)))),
                  in_stack_0000ff70,in_stack_0000ff72,in_stack_0000ff74,in_stack_0000ff76,
                  in_stack_0000ff78);
    if (param_3 == (undefined2 *)0x0) {
      puVar16 = PTR_DAT_10a8_0000_10a8_7b56;
      puVar17 = PTR_DAT_10a8_0000_10a8_7b54;
      if (local_8 != (undefined *)0x0) goto LAB_1030_2679;
      puVar17 = (undefined *)0x0;
      local_1c = 0;
    }
    else {
      puVar16 = (undefined *)param_3[3];
      puVar17 = (undefined *)param_3[2];
LAB_1030_2679:
      local_1c = CONCAT22(puVar16,puVar17);
    }
    if (0 < (int)puVar17) {
      local_a = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x8d210a8,(LPCSTR)CONCAT22(puVar17,0x10a8),
                          unaff_SI);
      SETBKMODE((int16 *)&DAT_10a8_0002,(HDC16)param_1,
                (int16)CONCAT214(in_stack_0000ff6c,
                                 CONCAT212(in_stack_0000ff6a,
                                           CONCAT210(in_stack_0000ff68,
                                                     CONCAT28(in_stack_0000ff66,
                                                              CONCAT17(in_stack_0000ff65,
                                                                       CONCAT16(in_stack_0000ff64,
                                                                                CONCAT24(iVar28,
                                                  CONCAT22(unaff_DI,unaff_SI)))))))));
      TEXTOUT((HDC16)local_a,
              (int16)CONCAT214(iVar28,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26((int)local_28 + 3,
                                                           CONCAT24(local_28._2_2_ + 2,0x10a886de)))
                                                  ))),
              (int16)CONCAT214(in_stack_0000ff72,
                               CONCAT212(in_stack_0000ff70,
                                         CONCAT210(in_stack_0000ff6e,
                                                   CONCAT28(in_stack_0000ff6c,
                                                            CONCAT26(in_stack_0000ff6a,
                                                                     CONCAT24(in_stack_0000ff68,
                                                                              CONCAT22(
                                                  in_stack_0000ff66,
                                                  CONCAT11(in_stack_0000ff65,in_stack_0000ff64))))))
                                        )),(LPCSTR)CONCAT22(in_stack_0000ff76,in_stack_0000ff74),
              (int16)CONCAT610(in_stack_0000ff82,CONCAT82(in_stack_0000ff7a,in_stack_0000ff78)));
    }
    iVar15 = local_6;
    uVar13 = (int)local_28 + iVar7 + 10;
    local_28 = local_28 & 0xffff0000 | (ulong)uVar13;
    local_24 = local_24 & 0xffff0000 | (ulong)(local_6 + 6 + uVar13);
    FUN_1030_2a7c((HRGN16)param_1,(int *)&local_28,(int)param_4,unaff_SI,unaff_DI,iVar28,
                  CONCAT11(in_stack_0000ff65,in_stack_0000ff64),
                  (undefined1  [10])
                  CONCAT28(in_stack_0000ff6e,
                           CONCAT26(in_stack_0000ff6c,
                                    CONCAT24(in_stack_0000ff6a,
                                             CONCAT22(in_stack_0000ff68,in_stack_0000ff66)))),
                  in_stack_0000ff70,in_stack_0000ff72,in_stack_0000ff74,in_stack_0000ff76,
                  in_stack_0000ff78);
    if (0 < local_1c._2_2_) {
      local_a = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x8d810a8,
                          (LPCSTR)(local_1c & 0xffff0000 | 0x10a8),unaff_SI);
      SETBKMODE((int16 *)&DAT_10a8_0002,(HDC16)param_1,
                (int16)CONCAT214(in_stack_0000ff6c,
                                 CONCAT212(in_stack_0000ff6a,
                                           CONCAT210(in_stack_0000ff68,
                                                     CONCAT28(in_stack_0000ff66,
                                                              CONCAT17(in_stack_0000ff65,
                                                                       CONCAT16(in_stack_0000ff64,
                                                                                CONCAT24(iVar28,
                                                  CONCAT22(unaff_DI,unaff_SI)))))))));
      TEXTOUT((HDC16)local_a,
              (int16)CONCAT214(iVar28,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26((int)local_28 + 3,
                                                           CONCAT24(local_28._2_2_ + 2,0x10a886de)))
                                                  ))),
              (int16)CONCAT214(in_stack_0000ff72,
                               CONCAT212(in_stack_0000ff70,
                                         CONCAT210(in_stack_0000ff6e,
                                                   CONCAT28(in_stack_0000ff6c,
                                                            CONCAT26(in_stack_0000ff6a,
                                                                     CONCAT24(in_stack_0000ff68,
                                                                              CONCAT22(
                                                  in_stack_0000ff66,
                                                  CONCAT11(in_stack_0000ff65,in_stack_0000ff64))))))
                                        )),(LPCSTR)CONCAT22(in_stack_0000ff76,in_stack_0000ff74),
              (int16)CONCAT610(in_stack_0000ff82,CONCAT82(in_stack_0000ff7a,in_stack_0000ff78)));
    }
    local_28 = local_28 & 0xffff0000 | (ulong)(uint)((int)local_28 + iVar15 + 10);
  }
  local_24 = local_24 & 0xffff0000 | (ulong)((int)local_2c - 4);
  FUN_1030_2a7c((HRGN16)param_1,(int *)&local_28,(int)param_4,unaff_SI,unaff_DI,iVar28,
                CONCAT11(in_stack_0000ff65,in_stack_0000ff64),
                (undefined1  [10])
                CONCAT28(in_stack_0000ff6e,
                         CONCAT26(in_stack_0000ff6c,
                                  CONCAT24(in_stack_0000ff6a,
                                           CONCAT22(in_stack_0000ff68,in_stack_0000ff66)))),
                in_stack_0000ff70,in_stack_0000ff72,in_stack_0000ff74,in_stack_0000ff76,
                in_stack_0000ff78);
  local_38 = local_28;
  local_34 = local_24;
  FUN_1018_5948((int *)&local_38,-2,-2);
  puVar17 = local_8;
  if (local_8 == (undefined *)&PTR_LOOP_10a8_0004) {
    puVar17 = PTR_DAT_10a8_0000_10a8_7b5a;
  }
  if ((param_3 == (undefined2 *)0x0) || (param_3[4] == 0)) {
    if (((uint)puVar17 & 1) == 0) {
      if (((uint)puVar17 & 2) == 0) {
        if ((puVar17 == (undefined *)0x0) && (local_8 == (undefined *)&PTR_LOOP_10a8_0004)) {
          puVar19 = (undefined4 *)&DAT_10a8_86de;
          puVar18 = (undefined4 *)s_Deep_Space_Waypoint_10a8_08de;
          for (iVar15 = 5; iVar15 != 0; iVar15 = iVar15 + -1) {
            puVar5 = puVar19;
            puVar19 = puVar19 + 1;
            puVar2 = puVar18;
            puVar18 = puVar18 + 1;
            *puVar5 = *puVar2;
          }
        }
        else {
          local_c = 0;
        }
      }
      else {
        if (param_3 == (undefined2 *)0x0) {
          local_4 = *(char **)*(undefined4 *)
                               ((int)PTR_DAT_10a8_0000_10a8_7b5e * 4 +
                               (int)_PTR_DAT_10a8_0000_10a8_006e);
        }
        else {
          local_4 = (char *)param_3[1];
        }
        FUN_1010_0ffa((uint)local_4);
      }
    }
    else {
      local_4 = PTR_DAT_10a8_0000_10a8_7b5c;
      if (param_3 != (undefined2 *)0x0) {
        local_4 = (char *)param_3[1];
      }
      FUN_1010_1074((uint)local_4);
    }
  }
  else {
    pcVar10 = (char *)param_3[4];
    uVar13 = 0xffff;
    do {
      if (uVar13 == 0) break;
      uVar13 = uVar13 - 1;
      pcVar3 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar3 != '\0');
    uVar13 = ~uVar13;
    puVar20 = (undefined2 *)(pcVar10 + -uVar13);
    puVar21 = (undefined2 *)&DAT_10a8_86de;
    for (uVar14 = uVar13 >> 1; uVar14 != 0; uVar14 = uVar14 - 1) {
      puVar4 = puVar21;
      puVar21 = puVar21 + 1;
      puVar1 = puVar20;
      puVar20 = puVar20 + 1;
      *puVar4 = *puVar1;
    }
    for (uVar13 = (uint)((uVar13 & 1) != 0); uVar13 != 0; uVar13 = uVar13 - 1) {
      puVar4 = puVar21;
      puVar21 = (undefined2 *)((int)puVar21 + 1);
      puVar1 = puVar20;
      puVar20 = (undefined2 *)((int)puVar20 + 1);
      *(undefined *)puVar4 = *(undefined *)puVar1;
    }
  }
  if (local_c != 0) {
    local_28._0_2_ = (int)local_28 + 3;
    local_28._2_2_ = local_28._2_2_ + 2;
    uVar27 = 4;
    puVar25 = &local_38;
    iVar15 = (int)s_From___s_c_c_10a8_10a2 + 6;
    uVar23 = SUB42(&DAT_10a8_86de,0);
    uVar26 = unaff_SS;
    piVar24 = param_1;
    piVar9 = LSTRLEN((int16 *)&DAT_10a8_86de,(LPCSTR)0x86de10a8);
    EXTTEXTOUT(0,(int16)(ZEXT1416(CONCAT212(local_28._2_2_,
                                            CONCAT210(uVar27,CONCAT28(uVar26,CONCAT26(puVar25,
                                                  CONCAT24(iVar15,CONCAT22(uVar23,piVar9))))))) <<
                        0x10),
               (int16)CONCAT214(in_stack_0000ff68,
                                CONCAT212(in_stack_0000ff66,
                                          CONCAT111(in_stack_0000ff65,
                                                    CONCAT110(in_stack_0000ff64,
                                                              CONCAT28(iVar28,CONCAT26(unaff_DI,
                                                  CONCAT24(unaff_SI,CONCAT22(piVar24,(int)local_28))
                                                  )))))),
               (uint16)CONCAT214(in_stack_0000ff78,
                                 CONCAT212(in_stack_0000ff76,
                                           CONCAT210(in_stack_0000ff74,
                                                     CONCAT28(in_stack_0000ff72,
                                                              CONCAT26(in_stack_0000ff70,
                                                                       CONCAT24(in_stack_0000ff6e,
                                                                                CONCAT22(
                                                  in_stack_0000ff6c,in_stack_0000ff6a))))))));
  }
  FUN_1018_5962((int *)&local_30,0,(int)PTR_DAT_10a8_0000_10a8_5762 >> 1);
  local_28._2_2_ = (int)((ulong)local_30 >> 0x10);
  local_24._2_2_ = (int)(local_2c >> 0x10);
  local_24 = CONCAT22(local_24._2_2_ + -4,(int)local_2c + -4);
  local_28 = CONCAT22(local_28._2_2_ + 4,PTR_DAT_10a8_0000_10a8_8858 + (int)local_30 + 4);
  FUN_1030_2a7c((HRGN16)param_1,(int *)&local_28,(int)param_4,unaff_SI,unaff_DI,iVar28,
                CONCAT11(in_stack_0000ff65,in_stack_0000ff64),
                (undefined1  [10])
                CONCAT28(in_stack_0000ff6e,
                         CONCAT26(in_stack_0000ff6c,
                                  CONCAT24(in_stack_0000ff6a,
                                           CONCAT22(in_stack_0000ff68,in_stack_0000ff66)))),
                in_stack_0000ff70,in_stack_0000ff72,in_stack_0000ff74,in_stack_0000ff76,
                in_stack_0000ff78);
  local_38 = local_28;
  local_34 = local_24;
  FUN_1018_5948((int *)&local_38,-2,-2);
  if (param_3 == (undefined2 *)0x0) {
    puVar17 = PTR_DAT_10a8_0000_10a8_7b56;
    puVar16 = PTR_DAT_10a8_0000_10a8_7b54;
    if (local_8 == (undefined *)0x0) {
      local_1c = 0;
      goto LAB_1030_290e;
    }
  }
  else {
    puVar17 = (undefined *)param_3[3];
    puVar16 = (undefined *)param_3[2];
  }
  local_1c = CONCAT22(puVar17,puVar16);
LAB_1030_290e:
  if ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) ||
     (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001)) {
    local_20 = _PTR_DAT_10a8_0000_10a8_7b48;
  }
  else {
    local_20 = CONCAT22(local_20._2_2_,0xffff);
  }
  if ((((int)local_1c != -1) && ((int)local_20 != -1)) && (local_20 != local_1c)) {
    pcVar10 = (char *)FUN_1010_17f4(local_1c,local_20);
    puVar20 = (undefined2 *)&stack0xff64;
    uVar13 = 0xffff;
    do {
      if (uVar13 == 0) break;
      uVar13 = uVar13 - 1;
      pcVar3 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar3 != '\0');
    uVar13 = ~uVar13;
    puVar21 = (undefined2 *)(pcVar10 + -uVar13);
    for (uVar14 = uVar13 >> 1; uVar14 != 0; uVar14 = uVar14 - 1) {
      puVar4 = puVar20;
      puVar20 = puVar20 + 1;
      puVar1 = puVar21;
      puVar21 = puVar21 + 1;
      *puVar4 = *puVar1;
    }
    for (uVar13 = (uint)((uVar13 & 1) != 0); uVar13 != 0; uVar13 = uVar13 - 1) {
      puVar4 = puVar20;
      puVar20 = (undefined2 *)((int)puVar20 + 1);
      puVar1 = puVar21;
      puVar21 = (undefined2 *)((int)puVar21 + 1);
      *(undefined *)puVar4 = *(undefined *)puVar1;
    }
    local_4 = &stack0xff64;
    cVar6 = in_stack_0000ff64;
    while (cVar6 != ' ') {
      local_4 = local_4 + 1;
      cVar6 = *local_4;
    }
    if ((int)local_2c < 0x15e) {
      *(undefined4 *)(local_4 + 1) = s_ly_from_10a8_08f2._0_4_;
      *(undefined4 *)(local_4 + 5) = s_ly_from_10a8_08f2._4_4_;
      local_4[9] = s_ly_from_10a8_08f2[8];
    }
    else {
      puVar18 = (undefined4 *)(local_4 + 1);
      puVar19 = (undefined4 *)s_light_years_from_10a8_08fb;
      for (iVar15 = 4; iVar15 != 0; iVar15 = iVar15 + -1) {
        puVar5 = puVar18;
        puVar18 = puVar18 + 1;
        puVar2 = puVar19;
        puVar19 = puVar19 + 1;
        *puVar5 = *puVar2;
      }
      *(undefined2 *)puVar18 = *(undefined2 *)puVar19;
    }
    pcVar11 = (char *)FUN_1010_1784((int)PTR_DAT_10a8_0000_10a8_7b4c,
                                    (uint)PTR_DAT_10a8_0000_10a8_7b50,local_20);
    pcVar10 = local_4 + 8;
    uVar13 = 0xffff;
    do {
      if (uVar13 == 0) break;
      uVar13 = uVar13 - 1;
      pcVar3 = pcVar11;
      pcVar11 = pcVar11 + 1;
    } while (*pcVar3 != '\0');
    uVar13 = ~uVar13;
    puVar20 = (undefined2 *)(pcVar11 + -uVar13);
    iVar15 = -1;
    do {
      if (iVar15 == 0) break;
      iVar15 = iVar15 + -1;
      pcVar3 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar3 != '\0');
    puVar21 = (undefined2 *)(pcVar10 + -1);
    for (uVar14 = uVar13 >> 1; uVar14 != 0; uVar14 = uVar14 - 1) {
      puVar4 = puVar21;
      puVar21 = puVar21 + 1;
      puVar1 = puVar20;
      puVar20 = puVar20 + 1;
      *puVar4 = *puVar1;
    }
    for (uVar13 = (uint)((uVar13 & 1) != 0); uVar13 != 0; uVar13 = uVar13 - 1) {
      puVar4 = puVar21;
      puVar21 = (undefined2 *)((int)puVar21 + 1);
      puVar1 = puVar20;
      puVar20 = (undefined2 *)((int)puVar20 + 1);
      *(undefined *)puVar4 = *(undefined *)puVar1;
    }
    local_28._0_2_ = (int)local_28 + 3;
    local_28._2_2_ = local_28._2_2_ + 2;
    uVar23 = 4;
    puVar25 = &local_38;
    piVar24 = (int16 *)&stack0xff64;
    uVar26 = unaff_SS;
    piVar9 = param_1;
    piVar12 = LSTRLEN(piVar24,(LPCSTR)CONCAT22(piVar24,unaff_SS));
    EXTTEXTOUT(0,(int16)(ZEXT1416(CONCAT212(local_28._2_2_,
                                            CONCAT210(uVar23,CONCAT28(uVar26,CONCAT26(puVar25,
                                                  CONCAT24(unaff_SS,CONCAT22(piVar24,piVar12)))))))
                        << 0x10),
               (int16)CONCAT214(in_stack_0000ff68,
                                CONCAT212(in_stack_0000ff66,
                                          CONCAT111(in_stack_0000ff65,
                                                    CONCAT110(in_stack_0000ff64,
                                                              CONCAT28(iVar28,CONCAT26(unaff_DI,
                                                  CONCAT24(unaff_SI,CONCAT22(piVar9,(int)local_28)))
                                                  ))))),
               (uint16)CONCAT214(in_stack_0000ff78,
                                 CONCAT212(in_stack_0000ff76,
                                           CONCAT210(in_stack_0000ff74,
                                                     CONCAT28(in_stack_0000ff72,
                                                              CONCAT26(in_stack_0000ff70,
                                                                       CONCAT24(in_stack_0000ff6e,
                                                                                CONCAT22(
                                                  in_stack_0000ff6c,in_stack_0000ff6a))))))));
  }
  SELECTOBJECT(local_18,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff70,
                                CONCAT212(in_stack_0000ff6e,
                                          CONCAT210(in_stack_0000ff6c,
                                                    CONCAT28(in_stack_0000ff6a,
                                                             CONCAT26(in_stack_0000ff68,
                                                                      CONCAT24(in_stack_0000ff66,
                                                                               CONCAT13(
                                                  in_stack_0000ff65,
                                                  CONCAT12(in_stack_0000ff64,iVar28)))))))));
  SETBKMODE(local_16,(HDC16)param_1,
            (int16)CONCAT214(in_stack_0000ff6c,
                             CONCAT212(in_stack_0000ff6a,
                                       CONCAT210(in_stack_0000ff68,
                                                 CONCAT28(in_stack_0000ff66,
                                                          CONCAT17(in_stack_0000ff65,
                                                                   CONCAT16(in_stack_0000ff64,
                                                                            CONCAT24(iVar28,CONCAT22
                                                  (unaff_DI,unaff_SI)))))))));
  SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
               (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
  SETBKCOLOR((HDC16)local_10.value,(COLORREF)CONCAT22(param_1,(int)(local_10.value >> 0x10)));
  SELECTOBJECT(local_14,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff70,
                                CONCAT212(in_stack_0000ff6e,
                                          CONCAT210(in_stack_0000ff6c,
                                                    CONCAT28(in_stack_0000ff6a,
                                                             CONCAT26(in_stack_0000ff68,
                                                                      CONCAT24(in_stack_0000ff66,
                                                                               CONCAT13(
                                                  in_stack_0000ff65,
                                                  CONCAT12(in_stack_0000ff64,iVar28)))))))));
  if (local_12 != 0) {
    RELEASEDC(param_1,(HWND16)PTR_DAT_10a8_0000_10a8_00c4,(HDC16)unaff_SI);
  }
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1030_2a7c(HRGN16 param_1,int *param_2,int param_3,undefined2 param_4,undefined2 param_5,
             undefined2 param_6,undefined2 param_7,undefined1 param_8 [10],undefined2 param_9,
             undefined2 param_10,undefined2 param_11,undefined2 param_12,undefined2 param_13)

{
  undefined4 uVar1;
  int iVar2;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  int iVar3;
  RECT16 *unaff_SS;
  undefined4 in_stack_00000000;
  undefined2 in_stack_00000026;
  undefined4 in_stack_0000fff4;
  undefined4 in_stack_0000fff8;

  iVar3 = param_2[2] - *param_2;
  iVar2 = param_2[3] - param_2[1];
  if (param_3 != 0) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT412(in_stack_00000000,
                                  CONCAT210(unaff_BP,CONCAT28(iVar2,CONCAT44(in_stack_0000fff8,
                                                                             in_stack_0000fff4)))));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(*param_2,
                                                  CONCAT26(param_2[1],
                                                           CONCAT24(1,CONCAT22(iVar2,0xf0))))))),
           (int16)CONCAT412(in_stack_00000000,
                            CONCAT210(unaff_BP,CONCAT28(iVar2,CONCAT44(in_stack_0000fff8,
                                                                       in_stack_0000fff4)))),
           (int16)CONCAT214(param_8._0_2_,
                            CONCAT212(param_7,CONCAT210(param_6,CONCAT28(param_5,CONCAT26(param_4,
                                                  CONCAT24(param_3,CONCAT22(param_2,param_1))))))),
           (int16)CONCAT214(param_12,CONCAT212(param_11,CONCAT210(param_10,CONCAT28(param_9,param_8.
                                                  _2_8_)))),_param_13);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(*param_2,
                                                  CONCAT26(param_2[1],CONCAT24(iVar3,0x100f0)))))),
           (int16)CONCAT412(in_stack_00000000,
                            CONCAT210(unaff_BP,CONCAT28(iVar2,CONCAT44(in_stack_0000fff8,
                                                                       in_stack_0000fff4)))),
           (int16)CONCAT214(param_8._0_2_,
                            CONCAT212(param_7,CONCAT210(param_6,CONCAT28(param_5,CONCAT26(param_4,
                                                  CONCAT24(param_3,CONCAT22(param_2,param_1))))))),
           (int16)CONCAT214(param_12,CONCAT212(param_11,CONCAT210(param_10,CONCAT28(param_9,param_8.
                                                  _2_8_)))),_param_13);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,param_1,unaff_SI,unaff_DI,
                 (int16)CONCAT412(in_stack_00000000,
                                  CONCAT210(unaff_BP,CONCAT28(iVar2,CONCAT44(in_stack_0000fff8,
                                                                             in_stack_0000fff4)))));
    uVar1 = *(undefined4 *)(param_2 + 1);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28((int)((ulong
                                                  )uVar1 >> 0x10),
                                                  CONCAT26((int)uVar1,
                                                           CONCAT24(1,CONCAT22(iVar2 + 1,0xf0)))))))
           ,(int16)CONCAT412(in_stack_00000000,
                             CONCAT210(unaff_BP,CONCAT28(iVar2,CONCAT44(in_stack_0000fff8,
                                                                        in_stack_0000fff4)))),
           (int16)CONCAT214(param_8._0_2_,
                            CONCAT212(param_7,CONCAT210(param_6,CONCAT28(param_5,CONCAT26(param_4,
                                                  CONCAT24(param_3,CONCAT22(param_2,param_1))))))),
           (int16)CONCAT214(param_12,CONCAT212(param_11,CONCAT210(param_10,CONCAT28(param_9,param_8.
                                                  _2_8_)))),_param_13);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(*param_2,
                                                  CONCAT26(param_2[3],CONCAT24(iVar3,0x100f0)))))),
           (int16)CONCAT412(in_stack_00000000,
                            CONCAT210(unaff_BP,CONCAT28(iVar2,CONCAT44(in_stack_0000fff8,
                                                                       in_stack_0000fff4)))),
           (int16)CONCAT214(param_8._0_2_,
                            CONCAT212(param_7,CONCAT210(param_6,CONCAT28(param_5,CONCAT26(param_4,
                                                  CONCAT24(param_3,CONCAT22(param_2,param_1))))))),
           (int16)CONCAT214(param_12,CONCAT212(param_11,CONCAT210(param_10,CONCAT28(param_9,param_8.
                                                  _2_8_)))),_param_13);
    return;
  }
  FUN_1018_5948((int *)&stack0xfff4,-2,-2);
  FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xfff4,unaff_SS,param_1);
  return;
}



void __cdecl16far FUN_1030_2b48(void)

{
  VA_LIST16 unaff_BP;
  undefined2 in_stack_00000004;

  _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x90d10a8,
            (LPCSTR)CONCAT22(*(undefined2 *)((int)PTR_DAT_10a8_0000_10a8_08b2 * 2 + 0x8a8),0x10a8),
            unaff_BP);
  SETWINDOWTEXT((HWND16)&DAT_10a8_86de,CONCAT22(in_stack_00000004,0x10a8));
  return;
}


/*
Unable to decompile 'FUN_1030_2b72'
Cause:
Low-level Error: Overlapping input varnodes
*/


// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1030_2c36(uint param_1,uint param_2,undefined param_3 [12])

{
  int16 *__return_storage_ptr__;
  undefined2 unaff_BP;
  HDC16 unaff_SI;
  undefined2 unaff_DI;
  RECT16 *unaff_SS;
  undefined4 in_stack_00000000;
  undefined4 in_stack_00000014;
  ulong in_stack_0000ffe4;
  undefined4 in_stack_0000ffe8;
  undefined2 in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  undefined4 in_stack_0000fff0;
  RECT16 *in_stack_0000fff4;
  uint in_stack_0000fff6;
  int in_stack_0000fff8;
  int in_stack_0000fffa;

  if ((param_1 != 0) || (param_2 != 0)) {
    __return_storage_ptr__ = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_00c4);
    GETCLIENTRECT((HWND16)&stack0xfff4,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00c4,unaff_SS));
    if ((in_stack_0000fff8 >> 1 < (int)((param_1 ^ (int)param_1 >> 0xf) - ((int)param_1 >> 0xf))) ||
       (((in_stack_0000fffa >> 1 < (int)((param_2 ^ (int)param_2 >> 0xf) - ((int)param_2 >> 0xf)) ||
         (PTR_DAT_10a8_0000_10a8_4188 != (undefined *)0x0)) ||
        (PTR_DAT_10a8_0000_10a8_00c2 != (undefined *)0x0)))) {
      FUN_1030_0968(__return_storage_ptr__,(ulong *)&stack0xfff4,1);
    }
    else {
      in_stack_0000fffa = in_stack_0000fffa - (int)PTR_DAT_10a8_0000_10a8_5762;
      UPDATEWINDOW((HWND16)PTR_DAT_10a8_0000_10a8_00c4);
      SCROLLWINDOW((HWND16)&stack0xfff4,
                   (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(
                                                  PTR_DAT_10a8_0000_10a8_00c4,
                                                  CONCAT28(param_1,CONCAT26(param_2,CONCAT24(
                                                  unaff_SS,CONCAT22(&stack0xfff4,unaff_SS))))))),
                   (int16)CONCAT412(in_stack_0000fff0,
                                    CONCAT210(in_stack_0000ffee,
                                              CONCAT28(in_stack_0000ffec,
                                                       CONCAT44(in_stack_0000ffe8,in_stack_0000ffe4)
                                                      ))),in_stack_0000fff4);
      if ((int)param_2 < 1) {
        if ((int)param_2 < 0) {
          SETRECT((RECT16 *)CONCAT22(in_stack_0000fff8,in_stack_0000fffa),
                  (int16)CONCAT412(in_stack_0000ffe4,
                                   CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,CONCAT24(&
                                                  stack0xffe4,(ulong)(in_stack_0000fffa + param_2)))
                                                  ))),
                  (int16)CONCAT214(in_stack_0000fff6,
                                   CONCAT212(in_stack_0000fff4,
                                             CONCAT48(in_stack_0000fff0,
                                                      CONCAT26(in_stack_0000ffee,
                                                               CONCAT24(in_stack_0000ffec,
                                                                        in_stack_0000ffe8))))),
                  (int16)CONCAT88(CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000)),
                                  CONCAT26(unaff_BP,CONCAT24(__return_storage_ptr__,
                                                             CONCAT22(in_stack_0000fffa,
                                                                      in_stack_0000fff8)))),
                  (int16)CONCAT412(in_stack_00000014,param_3));
          in_stack_0000fffa = in_stack_0000fffa + param_2;
        }
      }
      else {
        SETRECT((RECT16 *)CONCAT22(in_stack_0000fff8,param_2),
                (int16)(ZEXT1216(CONCAT48(in_stack_0000ffe4,
                                          CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(unaff_SS,&
                                                  stack0xffe4))))) << 0x20),
                (int16)CONCAT214(in_stack_0000fff6,
                                 CONCAT212(in_stack_0000fff4,
                                           CONCAT48(in_stack_0000fff0,
                                                    CONCAT26(in_stack_0000ffee,
                                                             CONCAT24(in_stack_0000ffec,
                                                                      in_stack_0000ffe8))))),
                (int16)CONCAT88(CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000)),
                                CONCAT26(unaff_BP,CONCAT24(__return_storage_ptr__,
                                                           CONCAT22(in_stack_0000fffa,
                                                                    in_stack_0000fff8)))),
                (int16)CONCAT412(in_stack_00000014,param_3));
        in_stack_0000fff6 = in_stack_0000fff6 + param_2;
      }
      if (0 < (int)param_1) {
        SETRECT((RECT16 *)CONCAT22(param_1,in_stack_0000fffa),
                (int16)CONCAT412(in_stack_0000ffe4,
                                 CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,CONCAT24(&
                                                  stack0xffec,(ulong)in_stack_0000fff6))))),
                (int16)CONCAT214(in_stack_0000fff6,
                                 CONCAT212(in_stack_0000fff4,
                                           CONCAT48(in_stack_0000fff0,
                                                    CONCAT26(in_stack_0000ffee,
                                                             CONCAT24(in_stack_0000ffec,
                                                                      in_stack_0000ffe8))))),
                (int16)CONCAT88(CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000)),
                                CONCAT26(unaff_BP,CONCAT24(__return_storage_ptr__,
                                                           CONCAT22(in_stack_0000fffa,
                                                                    in_stack_0000fff8)))),
                (int16)CONCAT412(in_stack_00000014,param_3));
      }
      if (param_1 != 0) {
        VALIDATERECT((HWND16)&stack0xffec,unaff_SS);
      }
      if (param_2 != 0) {
        VALIDATERECT((HWND16)&stack0xffe4,unaff_SS);
      }
      if (param_1 != 0) {
        FUN_1030_0968(__return_storage_ptr__,(ulong *)&stack0xffec,1);
      }
      if (param_2 != 0) {
        FUN_1030_0968(__return_storage_ptr__,(ulong *)&stack0xffe4,1);
      }
      UPDATEWINDOW((HWND16)PTR_DAT_10a8_0000_10a8_00c4);
    }
    RELEASEDC(__return_storage_ptr__,(HWND16)PTR_DAT_10a8_0000_10a8_00c4,unaff_SI);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1030_2da8(int16 *param_1,undefined *param_2,undefined4 param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined2 unaff_BP;
  HDC16 unaff_SI;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined2 unaff_DI;
  undefined2 unaff_SS;
  undefined4 in_stack_00000000;
  undefined4 in_stack_0000000c;
  long in_stack_0000ffdc;
  int in_stack_0000ffe0;
  undefined in_stack_0000ffe2 [14];
  undefined2 in_stack_0000fff0;
  int iVar6;
  int iVar7;
  undefined *puVar8;
  undefined *puVar9;

  iVar7 = 0;
  puVar5 = (undefined4 *)&stack0xffdc;
  puVar4 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_7b54;
  puVar8 = PTR_DAT_10a8_0000_10a8_7b50;
  puVar9 = PTR_DAT_10a8_0000_10a8_7b4c;
  for (iVar3 = 3; iVar3 != 0; iVar3 = iVar3 + -1) {
    puVar2 = puVar5;
    puVar5 = puVar5 + 1;
    puVar1 = puVar4;
    puVar4 = puVar4 + 1;
    *puVar2 = *puVar1;
  }
  *(undefined2 *)puVar5 = *(undefined2 *)puVar4;
  if (param_1 == (int16 *)0x0) {
    iVar7 = 1;
    param_1 = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_00c4);
  }
  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
    FUN_1030_20a4(param_1,param_2);
  }
  if (param_2 == (undefined *)0x0) {
    _PTR_DAT_10a8_0000_10a8_7b5e = 0xffffffff;
    PTR_DAT_10a8_0000_10a8_7b5c = (undefined *)0xffff;
    PTR_DAT_10a8_0000_10a8_7b50 = (undefined *)0xffff;
    _PTR_DAT_10a8_0000_10a8_7b4c = 0;
    _PTR_DAT_10a8_0000_10a8_7b58 = 0;
  }
  if (puVar9 != (undefined *)0x0) {
    iVar3 = (int)_PTR_DAT_10a8_0000_10a8_7b48;
    iVar6 = (int)((ulong)_PTR_DAT_10a8_0000_10a8_7b48 >> 0x10);
    FUN_1030_3110((int *)&stack0xfff2);
    SETRECT((RECT16 *)CONCAT22(iVar3 + 10,iVar6 + 0x17),
            (int16)CONCAT412(in_stack_0000ffdc,
                             CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,CONCAT24(&
                                                  stack0xffea,CONCAT22(iVar3 + -9,iVar6 + -9)))))),
            (int16)CONCAT142(in_stack_0000ffe2,in_stack_0000ffe0),
            (int16)CONCAT214(unaff_BP,CONCAT212(puVar9,CONCAT210(puVar8,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_7b4e,
                                                  CONCAT26(iVar7,CONCAT24(iVar6,CONCAT22(iVar3,
                                                  in_stack_0000fff0))))))),
            (int16)CONCAT412(in_stack_0000000c,
                             CONCAT48(param_3,CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000)))
                            ));
    FUN_1030_0968(param_1,(ulong *)&stack0xffea,1);
  }
  if ((in_stack_0000ffe0 != 0) && (in_stack_0000ffdc != _PTR_DAT_10a8_0000_10a8_7b48)) {
    iVar3 = (int)in_stack_0000ffdc;
    iVar6 = (int)((ulong)in_stack_0000ffdc >> 0x10);
    FUN_1030_3110((int *)&stack0xfff2);
    SETRECT((RECT16 *)CONCAT22(iVar3 + 6,iVar6 + 0xf),
            (int16)CONCAT412(in_stack_0000ffdc,
                             CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,CONCAT24(&
                                                  stack0xffea,CONCAT22(iVar3 + -5,iVar6 + -5)))))),
            (int16)CONCAT142(in_stack_0000ffe2,in_stack_0000ffe0),
            (int16)CONCAT214(unaff_BP,CONCAT212(puVar9,CONCAT210(puVar8,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_7b4e,
                                                  CONCAT26(iVar7,CONCAT24(iVar6,CONCAT22(iVar3,
                                                  in_stack_0000fff0))))))),
            (int16)CONCAT412(in_stack_0000000c,
                             CONCAT48(param_3,CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000)))
                            ));
    FUN_1030_0968(param_1,(ulong *)&stack0xffea,1);
  }
  if (param_2 == (undefined *)0x0) {
    _PTR_DAT_10a8_0000_10a8_7b4c = CONCAT22(PTR_DAT_10a8_0000_10a8_7b4e,puVar9);
    puVar4 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_7b54;
    puVar5 = (undefined4 *)&stack0xffdc;
    PTR_DAT_10a8_0000_10a8_7b50 = puVar8;
    for (iVar3 = 3; iVar3 != 0; iVar3 = iVar3 + -1) {
      puVar2 = puVar4;
      puVar4 = puVar4 + 1;
      puVar1 = puVar5;
      puVar5 = puVar5 + 1;
      *puVar2 = *puVar1;
    }
    *(undefined2 *)puVar4 = *(undefined2 *)puVar5;
  }
  if (iVar7 != 0) {
    RELEASEDC(param_1,(HWND16)PTR_DAT_10a8_0000_10a8_00c4,unaff_SI);
  }
  return;
}



undefined2 __cdecl16far FUN_1030_2f0c(undefined4 param_1,int param_2)

{
  undefined *puVar1;
  int iVar2;
  int iVar3;
  bool16 bVar4;
  undefined *puVar5;
  undefined2 unaff_SS;
  RECT16 *rect;
  undefined *local_e;
  undefined *local_c;
  undefined *local_a;
  undefined *local_8;
  undefined4 local_6;

  GETCLIENTRECT((HWND16)&local_e,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00c4,unaff_SS));
  local_8 = (undefined *)((int)local_8 - (int)PTR_DAT_10a8_0000_10a8_5762);
  iVar2 = FUN_1030_08e0((int)local_a);
  iVar3 = FUN_1030_08e0((int)local_8);
  local_e = PTR_DAT_10a8_0000_10a8_589e + 10;
  local_a = PTR_DAT_10a8_0000_10a8_589e + iVar2 + -0x14;
  local_8 = PTR_PTR_10a8_0066 + (-10 - (int)PTR_DAT_10a8_0000_10a8_589c);
  local_c = local_8 + (0x14 - iVar3);
  rect = (RECT16 *)param_1;
  bVar4 = PTINRECT(rect,SUB41((ulong)param_1 >> 0x10,0));
  if (bVar4 == 0) {
    puVar5 = PTR_DAT_10a8_0000_10a8_589e + (iVar2 >> 1);
    iVar2 = -(int)PTR_DAT_10a8_0000_10a8_589c - ((iVar3 >> 1) - (int)PTR_PTR_10a8_0066);
    puVar1 = local_e;
    if (((int)rect < (int)local_e) || (puVar1 = local_a, (int)local_a < (int)rect)) {
      puVar5 = puVar5 + ((int)rect - (int)puVar1);
    }
    puVar1 = local_c;
    if ((param_1._2_2_ < (int)local_c) || (puVar1 = local_8, (int)local_8 < param_1._2_2_)) {
      iVar2 = iVar2 + (param_1._2_2_ - (int)puVar1);
    }
    local_6 = CONCAT22(iVar2,puVar5);
    FUN_1030_2fe2((int)puVar5,iVar2,param_2);
    return 0;
  }
  return 1;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1030_2fe2(int param_1,int param_2,int param_3)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  undefined *puVar6;
  int iVar7;
  undefined *hwnd;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  undefined2 unaff_SS;
  undefined4 in_stack_00000000;
  undefined4 in_stack_0000ffee;
  int in_stack_0000fff2;
  int in_stack_0000fff4;
  undefined *puVar8;
  undefined *puVar9;

  if (PTR_DAT_10a8_0000_10a8_00c4 != (undefined *)0x0) {
    GETCLIENTRECT((HWND16)&stack0xffee,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00c4,unaff_SS));
    in_stack_0000fff4 = in_stack_0000fff4 - (int)PTR_DAT_10a8_0000_10a8_5762;
    iVar2 = FUN_1030_08e0(in_stack_0000fff2);
    iVar3 = FUN_1030_08e0(in_stack_0000fff4);
    puVar6 = (undefined *)((iVar3 >> 1) + param_2);
    if ((int)(PTR_PTR_10a8_0066 + -1000) < (int)puVar6) {
      puVar6 = PTR_PTR_10a8_0066 + -1000;
    }
    if ((int)puVar6 < (int)(undefined *)(iVar3 + 1000)) {
      puVar6 = (undefined *)(iVar3 + 1000);
    }
    iVar7 = -((int)puVar6 - (int)PTR_PTR_10a8_0066);
    if (iVar7 < 1000) {
      iVar7 = 1000;
    }
    hwnd = (undefined *)(iVar7 + 2U & 0xfffc);
    puVar6 = (undefined *)(param_1 - (iVar2 >> 1));
    if ((int)puVar6 < 1000) {
      puVar6 = (undefined *)0x3e8;
    }
    if ((int)(PTR_PTR_10a8_0066 + (-1000 - iVar2)) < (int)puVar6) {
      puVar6 = PTR_PTR_10a8_0066 + (-1000 - iVar2);
    }
    if ((int)puVar6 < 1000) {
      puVar6 = (undefined *)0x3e8;
    }
    puVar6 = (undefined *)((uint)(puVar6 + 2) & 0xfffc);
    if ((puVar6 != PTR_DAT_10a8_0000_10a8_589e) || (PTR_DAT_10a8_0000_10a8_589c != hwnd)) {
      uVar1 = CONCAT22(iVar3,PTR_DAT_10a8_0000_10a8_589e);
      puVar8 = PTR_DAT_10a8_0000_10a8_589e;
      PTR_DAT_10a8_0000_10a8_589e = puVar6;
      puVar9 = PTR_DAT_10a8_0000_10a8_589c;
      SETSCROLLPOS((int16 *)&DAT_10a8_0001,(HWND16)puVar6,
                   (int16)(ZEXT1416(CONCAT212(in_stack_0000fff4,
                                              CONCAT210(in_stack_0000fff2,
                                                        CONCAT46(in_stack_0000ffee,
                                                                 CONCAT24(unaff_DI,CONCAT22(unaff_SI
                                                  ,PTR_DAT_10a8_0000_10a8_00c4)))))) << 0x10),
                   (int16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                                    CONCAT28(unaff_BP,CONCAT26(PTR_DAT_10a8_0000_10a8_589c,
                                                               CONCAT24(iVar2,uVar1)))),param_2);
      PTR_DAT_10a8_0000_10a8_589c = hwnd;
      SETSCROLLPOS((int16 *)&DAT_10a8_0001,(HWND16)hwnd,
                   (int16)CONCAT214(in_stack_0000fff4,
                                    CONCAT212(in_stack_0000fff2,
                                              CONCAT48(in_stack_0000ffee,
                                                       CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_00c4,1)))))),
                   (int16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                                    CONCAT28(unaff_BP,CONCAT26(puVar9,CONCAT24(iVar2,CONCAT22(iVar3,
                                                  puVar8))))),param_2);
      if (param_3 != 0) {
        uVar4 = FUN_1030_085a((int)puVar9 - (int)hwnd);
        uVar5 = FUN_1030_085a((int)puVar8 - (int)puVar6);
        FUN_1030_2c36(uVar5,uVar4,
                      CONCAT210(in_stack_0000fff4,
                                CONCAT28(in_stack_0000fff2,
                                         CONCAT44(in_stack_0000ffee,CONCAT22(unaff_DI,unaff_SI)))));
        return;
      }
      INVALIDATERECT(1,(RECT16 *)0x0,0);
    }
  }
  return;
}



void __cdecl16far FUN_1030_3110(int *param_1)

{
  int iVar1;

  iVar1 = FUN_1030_085a(*param_1 - (int)PTR_DAT_10a8_0000_10a8_589e);
  *param_1 = iVar1;
  iVar1 = FUN_1030_085a((int)(PTR_PTR_10a8_0066 + (-(int)PTR_DAT_10a8_0000_10a8_589c - param_1[1])))
  ;
  param_1[1] = iVar1;
  return;
}



void __cdecl16far FUN_1030_3140(int *param_1)

{
  int iVar1;

  iVar1 = FUN_1030_08e0(*param_1);
  *param_1 = (int)(PTR_DAT_10a8_0000_10a8_589e + iVar1);
  iVar1 = FUN_1030_08e0(param_1[1]);
  param_1[1] = -(int)PTR_DAT_10a8_0000_10a8_589c - (iVar1 - (int)PTR_PTR_10a8_0066);
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: ram

undefined2 __cdecl16far FUN_1030_3170(long param_1,long *param_2)

{
  uint *puVar1;
  char *pcVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  byte bVar5;
  HWND16 HVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  VA_LIST16 unaff_SI;
  int *piVar10;
  undefined2 unaff_DI;
  undefined4 *puVar11;
  undefined2 uVar12;
  bool16 unaff_SS;
  undefined *puVar13;
  undefined2 in_stack_0000ffde;
  undefined2 in_stack_0000ffe0;
  undefined4 in_stack_0000ffe2;
  undefined2 in_stack_0000ffe6;
  undefined2 in_stack_0000ffe8;
  int local_12 [4];
  int local_a;
  undefined4 local_8;
  int16 *local_4;

  if (PTR_DAT_10a8_0000_10a8_7bc4 == (undefined *)0x57) {
    MESSAGEBEEP((uint16)CONCAT214(in_stack_0000ffe6,
                                  CONCAT410(in_stack_0000ffe2,
                                            CONCAT28(in_stack_0000ffe0,
                                                     CONCAT26(in_stack_0000ffde,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  0x40)))))));
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x92010a8,(LPCSTR)0x5610a8,unaff_SI);
    HVar6 = GETFOCUS();
    MESSAGEBOX((int16 *)&PTR_DAT_10a8_0000_10a8_0010,0x947,(LPCSTR)0x86de10a8,
               (LPCSTR)CONCAT22(HVar6,0x10a8),
               (uint16)CONCAT214(in_stack_0000ffe8,
                                 CONCAT212(in_stack_0000ffe6,
                                           CONCAT48(in_stack_0000ffe2,
                                                    CONCAT26(in_stack_0000ffe0,
                                                             CONCAT24(in_stack_0000ffde,
                                                                      CONCAT22(unaff_DI,unaff_SI))))
                                          )));
  }
  else {
    if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)((int)&PTR_LOOP_10a8_0004 + 1)) {
      if ((int)PTR_DAT_10a8_0000_10a8_7b52 < (int)(PTR_DAT_10a8_0000_10a8_7bc4 + -1)) {
        local_a = 3;
      }
      else {
        local_a = 2;
      }
    }
    iVar7 = param_1._2_2_ - *(int *)((int)param_2 + 2);
    iVar8 = (int)param_1 - *(int *)param_2;
    if (0xe1 < (long)iVar8 * (long)iVar8 + (long)iVar7 * (long)iVar7) {
      param_2[1] = 0x40004;
      *(undefined2 *)(param_2 + 2) = 0xffff;
      *(undefined2 *)((int)param_2 + 10) = 0xffff;
      *(undefined **)(param_2 + 3) = PTR_DAT_10a8_0000_10a8_7b52 + 1;
      *param_2 = param_1;
    }
    local_8 = (long *)(_PTR_DAT_10a8_0000_10a8_7bc6 & 0xffff0000 |
                      ZEXT24(PTR_DAT_10a8_0000_10a8_7bc6 +
                             (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 4));
    iVar7 = *(int *)((int)param_2 + 2);
    if ((*(long *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 4) !=
         *param_2) &&
       ((((int)(PTR_DAT_10a8_0000_10a8_7bc4 + -1) <= (int)PTR_DAT_10a8_0000_10a8_7b52 ||
         (*(int *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0x16) !=
          *(int *)param_2)) ||
        (*(int *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0x18) !=
         iVar7)))) {
      puVar13 = (undefined *)0x0;
      local_4 = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_00c4);
      FUN_1030_20a4(local_4,puVar13);
      uVar12 = (undefined2)(_PTR_DAT_10a8_0000_10a8_7bc6 >> 0x10);
      puVar13 = (undefined *)(uint)*(byte *)((uint *)_PTR_DAT_10a8_0000_10a8_7bc6 + 1);
      if (puVar13 == PTR_DAT_10a8_0000_10a8_7bc4) {
        iVar8 = FUN_1038_0522((uint *)_PTR_DAT_10a8_0000_10a8_7bc6,uVar12,(uint)(puVar13 + 3));
        _PTR_DAT_10a8_0000_10a8_7bc6 = CONCAT22(iVar7,iVar8);
        local_8 = (long *)CONCAT22(iVar7,(int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + iVar8 + 0x16);
      }
      else {
        local_8 = (long *)((ulong)local_8 & 0xffff0000 | (ulong)((int)(undefined4 *)local_8 + 0x12))
        ;
      }
      if ((int)PTR_DAT_10a8_0000_10a8_7bc4 - (int)PTR_DAT_10a8_0000_10a8_7b52 != 1) {
        FUN_10a0_0ac6((ulong)local_8 & 0xffff0000 | (ulong)((int)(undefined4 *)local_8 + 0x12),
                      local_8,((int)PTR_DAT_10a8_0000_10a8_7bc4 - (int)PTR_DAT_10a8_0000_10a8_7b52)
                              * 0x12 - 0x12);
      }
      puVar9 = (undefined4 *)((int)(undefined4 *)local_8 + -0x12);
      puVar11 = (undefined4 *)local_8;
      for (iVar7 = 4; iVar7 != 0; iVar7 = iVar7 + -1) {
        puVar4 = puVar11;
        puVar11 = puVar11 + 1;
        puVar3 = puVar9;
        puVar9 = puVar9 + 1;
        *puVar4 = *puVar3;
      }
      *(undefined2 *)puVar11 = *(undefined2 *)puVar9;
      *local_8 = *param_2;
      if (*(int *)(param_2 + 1) == 1) {
        uVar12 = *(undefined2 *)(param_2 + 2);
      }
      else if (*(int *)(param_2 + 1) == 4) {
        uVar12 = *(undefined2 *)(param_2 + 3);
      }
      else {
        uVar12 = **(undefined2 **)(PTR_DAT_10a8_0000_10a8_006e + *(int *)((int)param_2 + 10) * 4);
      }
      *(undefined2 *)((undefined4 *)local_8 + 1) = uVar12;
      puVar1 = (uint *)((int)(undefined4 *)local_8 + 6);
      *puVar1 = *puVar1 ^ ((*(byte *)(param_2 + 1) ^ *(byte *)((int)(undefined4 *)local_8 + 7)) & 3)
                          << 8;
      if (PTR_DAT_10a8_0000_10a8_7b52 == (undefined *)0x0) {
        iVar7 = FUN_1028_542c((undefined *)0x0);
        local_8._2_2_ = (undefined2)((ulong)local_8 >> 0x10);
        bVar5 = (char)iVar7 << 4 ^ *(byte *)(undefined2 *)((int)(undefined4 *)local_8 + 6);
      }
      else {
        bVar5 = *(byte *)(undefined2 *)((int)(undefined4 *)local_8 + 6) ^
                *(byte *)((undefined4 *)local_8 + -3);
      }
      puVar1 = (uint *)((int)(undefined4 *)local_8 + 6);
      *puVar1 = *puVar1 ^ bVar5 & 0xf0;
      PTR_DAT_10a8_0000_10a8_7bc4 = PTR_DAT_10a8_0000_10a8_7bc4 + 1;
      pcVar2 = (char *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 3);
      *pcVar2 = *pcVar2 + '\x01';
      *(undefined2 *)(param_2 + 1) = 4;
      puVar1 = (uint *)((int)param_2 + 6);
      *puVar1 = *puVar1 | 4;
      *(undefined **)(param_2 + 3) = PTR_DAT_10a8_0000_10a8_7b52 + 1;
      FUN_1030_2da8((int16 *)0x0,(undefined *)0x0,CONCAT22(unaff_DI,unaff_SI));
      FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
      FUN_1030_3a94(param_2,1);
      RELEASEDC(local_4,(HWND16)PTR_DAT_10a8_0000_10a8_00c4,(HDC16)unaff_SI);
      if (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)((int)&PTR_LOOP_10a8_0004 + 1)) {
        local_4 = (int16 *)0x0;
        if (0 < local_a) {
          piVar10 = (int *)&stack0xffe2;
          iVar7 = local_a;
          do {
            FUN_1030_3110(piVar10);
            piVar10 = piVar10 + 2;
            iVar7 = iVar7 + -1;
          } while (iVar7 != 0);
        }
        FUN_1018_597c(local_12,(int *)&stack0xffe2,local_a);
        INVALIDATERECT(1,(RECT16 *)local_12,unaff_SS);
      }
      return 1;
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1030_345a(undefined4 param_1,int param_2)

{
  bool bVar1;
  long *plVar2;
  undefined3 extraout_var;
  undefined *puVar3;
  long local_10;
  byte local_a;

  if (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) {
    if (param_2 == 0) {
      FUN_1030_3140((int *)&param_1);
    }
    bVar1 = FUN_1010_18d2((int)param_1,(int)((ulong)param_1 >> 0x10),0x47,&local_10);
    if (((int)CONCAT31(extraout_var,bVar1) != 0) && ((local_a & 4) != 0)) {
      if (local_10 == _PTR_DAT_10a8_0000_10a8_7b48) {
        plVar2 = (long *)(PTR_DAT_10a8_0000_10a8_7bc6 + 0x16);
        puVar3 = (undefined *)&DAT_10a8_0001;
        if (1 < (int)PTR_DAT_10a8_0000_10a8_7bc4) {
          do {
            if (*plVar2 == local_10) break;
            plVar2 = (long *)((int)plVar2 + 0x12);
            puVar3 = puVar3 + 1;
          } while ((int)puVar3 < (int)PTR_DAT_10a8_0000_10a8_7bc4);
        }
        if (PTR_DAT_10a8_0000_10a8_7bc4 == puVar3) {
          return 0;
        }
      }
      return 1;
    }
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool __cdecl16far FUN_1030_34d6(long param_1)

{
  uint *puVar1;
  long *plVar2;
  int16 *piVar3;
  int16 *piVar4;
  undefined *puVar5;
  int iVar6;
  undefined *unaff_SI;
  int *piVar7;
  undefined2 unaff_DI;
  bool16 unaff_SS;
  bool bVar8;
  undefined2 uVar9;
  long lVar10;
  long lVar11;
  undefined2 uVar12;
  undefined2 uVar13;
  undefined4 in_stack_0000ffbc;
  long local_40;
  int local_3c;
  byte local_3a;
  undefined *local_38;
  int local_36;
  undefined *local_34;
  int local_32;
  undefined *local_30;
  long local_2e;
  undefined2 local_2a;
  int local_28 [2];
  int local_24;
  int local_22;
  undefined4 local_20;
  long local_1c;
  long local_18;
  long local_14;
  int local_10;
  HCURSOR16 local_e;
  int local_c;
  undefined *local_a;
  undefined *local_6;
  int16 *local_4;

  local_10 = 1;
  FUN_1030_3110((int *)&param_1);
  if (PTR_DAT_10a8_0000_10a8_7b52 == (undefined *)0x0) {
    plVar2 = (long *)(PTR_DAT_10a8_0000_10a8_7bc6 + 0x16);
    puVar5 = (undefined *)&DAT_10a8_0001;
    if (1 < (int)PTR_DAT_10a8_0000_10a8_7bc4) {
      do {
        if (_PTR_DAT_10a8_0000_10a8_7b6a == *plVar2) break;
        plVar2 = (long *)((int)plVar2 + 0x12);
        puVar5 = puVar5 + 1;
      } while ((int)puVar5 < (int)PTR_DAT_10a8_0000_10a8_7bc4);
    }
    FUN_1030_3a54(puVar5);
  }
  puVar5 = PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12;
  local_1c = *(long *)(puVar5 + -0xe);
  uVar12 = (undefined2)local_1c;
  uVar13 = (undefined2)((ulong)local_1c >> 0x10);
  if ((int)PTR_DAT_10a8_0000_10a8_7bc4 - (int)PTR_DAT_10a8_0000_10a8_7b52 == 1) {
    iVar6 = 3;
  }
  else {
    iVar6 = 4;
    in_stack_0000ffbc = *(undefined4 *)(puVar5 + 0x16);
    local_20 = in_stack_0000ffbc;
  }
  lVar10 = *(long *)(puVar5 + 4);
  local_a = (undefined *)0x0;
  lVar11 = lVar10;
  local_c = iVar6;
  if (iVar6 != 0) {
    piVar7 = (int *)&stack0xffb0;
    local_4 = (int16 *)piVar7;
    do {
      FUN_1030_3110(piVar7);
      piVar7 = piVar7 + 2;
      iVar6 = iVar6 + -1;
    } while (iVar6 != 0);
  }
  GETCLIENTRECT((HWND16)local_28,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00c4,unaff_SS));
  local_22 = local_22 - (int)PTR_DAT_10a8_0000_10a8_5762;
  piVar3 = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_00c4);
  local_e = SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_8390);
  SETCAPTURE((HWND16)PTR_DAT_10a8_0000_10a8_00c4);
  local_14 = param_1;
  iVar6 = FUN_1018_6506((undefined2 *)&local_14,
                        CONCAT48(lVar10,CONCAT26(PTR_DAT_10a8_0000_10a8_7bc8,
                                                 CONCAT24(puVar5,CONCAT22(unaff_DI,unaff_SI)))));
  uVar9 = (undefined2)in_stack_0000ffbc;
  local_4 = piVar3;
  while (iVar6 != 0) {
    if (local_24 < (int)local_14) {
      local_14._0_2_ = local_24;
    }
    if ((int)local_14 < 0) {
      local_14._0_2_ = 0;
    }
    iVar6 = (int)((ulong)local_14 >> 0x10);
    if (local_22 < iVar6) {
      iVar6 = local_22;
    }
    if (iVar6 < 0) {
      iVar6 = 0;
    }
    local_14 = CONCAT22(iVar6,(int)local_14);
    if (local_14 != param_1) {
      if ((local_10 == 0) || (iVar6 = FUN_1030_345a(local_14,0), iVar6 == 0)) {
        local_10 = 0;
        local_18 = local_14;
        FUN_1030_3140((int *)&local_18);
        uVar9 = 0x10;
        piVar4 = GETASYNCKEYSTATE((int16 *)&PTR_DAT_10a8_0000_10a8_0010,
                                  (int16)CONCAT412(lVar11,CONCAT48(lVar10,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_7bc8,
                                                  CONCAT24(puVar5,CONCAT22(unaff_DI,unaff_SI))))));
        FUN_1010_18d2((int)local_18,(int)((ulong)local_18 >> 0x10),
                      (-(uint)(((uint)piVar4 & 0xfffe) == 0) & 0xffc0) + 0x87,&local_40);
        FUN_1030_3954((HRGN16)piVar3,(HRGN16 *)&stack0xffb0,local_c,CONCAT22(unaff_SI,uVar9),
                      unaff_DI,CONCAT212(uVar12,CONCAT48(lVar11,CONCAT44(lVar10,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_7bc8,puVar5)))),uVar13);
        if (local_3c == 0) {
          local_30 = (undefined *)0xffff;
          local_2a = 0x94e;
          lVar10 = local_18;
        }
        else {
          local_30 = local_38;
          if ((local_3c != 1) && (local_30 = local_34, local_3c != 4)) {
            local_30 = (undefined *)**(int **)(local_36 * 4 + (int)_PTR_DAT_10a8_0000_10a8_006e);
          }
          local_2a = 0;
          lVar10 = local_40;
        }
        local_32 = local_3c;
        local_2e = lVar10;
        FUN_1030_3110((int *)&stack0xffb0);
        FUN_1030_3954((HRGN16)piVar3,(HRGN16 *)&stack0xffb0,local_c,CONCAT22(unaff_SI,uVar9),
                      unaff_DI,CONCAT212(uVar12,CONCAT48(lVar11,CONCAT44(lVar10,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_7bc8,puVar5)))),uVar13);
        FUN_1030_2348(piVar3,(RECT16 *)0x0,&local_32,(VA_LIST16)0x0);
      }
      param_1 = local_14;
    }
    iVar6 = FUN_1018_6506((undefined2 *)&local_14,
                          CONCAT48(lVar10,CONCAT26(PTR_DAT_10a8_0000_10a8_7bc8,
                                                   CONCAT24(puVar5,CONCAT22(unaff_DI,unaff_SI)))));
    uVar9 = (undefined2)in_stack_0000ffbc;
  }
  bVar8 = lVar11 != lVar10;
  if (bVar8) {
    if (local_3c == 0) {
      local_3c = 4;
      local_40 = local_18;
      local_34 = PTR_DAT_10a8_0000_10a8_7b52;
    }
    local_6 = (undefined *)(uint)(local_40 == local_1c);
    if ((local_6 == (undefined *)0x0) &&
       ((int)PTR_DAT_10a8_0000_10a8_7b52 < (int)(PTR_DAT_10a8_0000_10a8_7bc4 + -1))) {
      local_6 = (undefined *)
                ((uint)(*(long *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 +
                                  (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0x16) == local_40) * 2);
    }
    if (local_6 != (undefined *)0x0) {
      iVar6 = FUN_1018_50b2(0x4e,(HWND16)s_Robo_Miner_10a8_2024);
      FUN_1030_3954((HRGN16)local_4,(HRGN16 *)&stack0xffb0,local_c,CONCAT22(unaff_DI,unaff_SI),
                    puVar5,CONCAT212(uVar13,CONCAT210(uVar12,CONCAT46(lVar11,CONCAT42(lVar10,
                                                  PTR_DAT_10a8_0000_10a8_7bc8)))),uVar9);
      FUN_1030_3954((HRGN16)local_4,(HRGN16 *)&stack0xffb0,local_c,CONCAT22(unaff_DI,unaff_SI),
                    puVar5,CONCAT212(uVar13,CONCAT210(uVar12,CONCAT46(lVar11,CONCAT42(lVar11,
                                                  PTR_DAT_10a8_0000_10a8_7bc8)))),uVar9);
      if (iVar6 == 6) {
        FUN_1028_4cea((uint)(local_6 == (undefined *)&DAT_10a8_0001));
      }
      goto LAB_1030_390c;
    }
    FUN_1030_3954((HRGN16)local_4,(HRGN16 *)&stack0xffb0,local_c,CONCAT22(unaff_DI,unaff_SI),puVar5,
                  CONCAT212(uVar13,CONCAT210(uVar12,CONCAT46(lVar11,CONCAT42(lVar10,
                                                  PTR_DAT_10a8_0000_10a8_7bc8)))),uVar9);
    FUN_1030_3954((HRGN16)local_4,(HRGN16 *)&stack0xffb0,local_c,CONCAT22(unaff_DI,unaff_SI),puVar5,
                  CONCAT212(uVar13,CONCAT210(uVar12,CONCAT46(lVar11,CONCAT42(lVar11,
                                                  PTR_DAT_10a8_0000_10a8_7bc8)))),uVar9);
    FUN_1030_2da8((int16 *)0x0,(undefined *)0x0,CONCAT22(unaff_DI,unaff_SI));
    puVar5 = PTR_DAT_10a8_0000_10a8_7b52;
    local_a = local_38;
    if ((local_3c != 1) && (local_a = local_34, local_3c != 4)) {
      local_a = (undefined *)**(int **)(local_36 * 4 + (int)_PTR_DAT_10a8_0000_10a8_006e);
    }
    iVar6 = (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12;
    local_6 = PTR_DAT_10a8_0000_10a8_7bc8;
    puVar1 = (uint *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 10);
    *puVar1 = *puVar1 ^ ((PTR_DAT_10a8_0000_10a8_7bc6[(int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12 + 0xb]
                         ^ (byte)local_3c) & 3) << 8;
    *(undefined **)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)puVar5 * 0x12 + 8) = local_a;
    *(long *)(PTR_DAT_10a8_0000_10a8_7bc6 + iVar6 + 4) = local_40;
    FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
    local_34 = PTR_DAT_10a8_0000_10a8_7b52;
    local_3a = local_3a | 4;
    PTR_DAT_10a8_0000_10a8_7b52 = (undefined *)0xfffe;
    FUN_1030_3a94(&local_40,1);
  }
  FUN_1030_2348(local_4,(RECT16 *)0x0,(undefined2 *)0x0,(VA_LIST16)0x0);
  RELEASECAPTURE();
  SETCURSOR(local_e);
  INVALIDATERECT(1,(RECT16 *)0x0,0);
  unaff_SI = PTR_DAT_10a8_0000_10a8_00c8;
  FUN_1008_97da();
LAB_1030_390c:
  RELEASEDC(local_4,(HWND16)PTR_DAT_10a8_0000_10a8_00c4,(HDC16)unaff_SI);
  if ((bVar8) && (PTR_DAT_10a8_0000_10a8_07aa == (undefined *)((int)&PTR_LOOP_10a8_0004 + 1))) {
    FUN_1018_597c(local_28,(int *)&stack0xffb0,local_c);
    INVALIDATERECT(1,(RECT16 *)local_28,unaff_SS);
  }
  return bVar8;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1030_3954(HRGN16 param_1,HRGN16 *param_2,int param_3,undefined4 param_4,undefined2 param_5,
             undefined param_6 [14],undefined2 param_7)

{
  int16 *piVar1;
  int16 *__return_storage_ptr__;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  HRGN16 *pHVar2;
  HRGN16 unaff_DI;
  int iVar3;
  undefined2 unaff_SS;
  undefined4 in_stack_00000000;
  undefined4 in_stack_00000020;
  undefined4 in_stack_0000ffee;
  HDC16 in_stack_0000fff2;
  int16 *in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  undefined2 uVar4;
  undefined2 in_stack_0000fff8;
  int in_stack_0000fffa;
  HRGN16 *in_stack_0000fffc;

  GETCLIENTRECT((HWND16)&stack0xffee,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_00c4,unaff_SS));
  EXCLUDECLIPRECT(in_stack_0000fff4,in_stack_0000fff2,
                  (int16)CONCAT214(in_stack_0000fff2,
                                   CONCAT410(in_stack_0000ffee,
                                             CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(param_1,(
                                                  ulong)(uint)((int)in_stack_0000fff4 -
                                                              (int)PTR_DAT_10a8_0000_10a8_5762))))))
                  ,(int16)CONCAT412(in_stack_00000000,
                                    CONCAT210(unaff_BP,CONCAT28(in_stack_0000fffc,
                                                                CONCAT26(in_stack_0000fffa,
                                                                         CONCAT24(in_stack_0000fff8,
                                                                                  CONCAT22(
                                                  in_stack_0000fff6,in_stack_0000fff4)))))),
                  (int16)CONCAT412(param_6._0_4_,
                                   CONCAT210(param_5,CONCAT46(param_4,CONCAT24(param_3,CONCAT22(
                                                  param_2,param_1))))),
                  (int16)CONCAT412(in_stack_00000020,CONCAT210(param_7,param_6._4_10_)));
  piVar1 = (int16 *)PTR_DAT_10a8_0000_10a8_8fbe;
  if ((param_3 == 4) && (*(long *)(param_2 + 4) == *(long *)(param_2 + 6))) {
    param_3 = 3;
    piVar1 = (int16 *)GETSTOCKOBJECT((int16)CONCAT214(in_stack_0000fff6,
                                                      CONCAT212(in_stack_0000fff4,
                                                                CONCAT210(in_stack_0000fff2,
                                                                          CONCAT46(in_stack_0000ffee
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,6)))))));
  }
  uVar4 = 1;
  if (1 < param_3) {
    pHVar2 = param_2 + 2;
    iVar3 = param_3 + -1;
    in_stack_0000fffa = iVar3;
    in_stack_0000fffc = pHVar2;
    do {
      EXCLUDECLIPRECT((int16 *)(pHVar2[1] + 6),*pHVar2 + 6,
                      (int16)CONCAT214(in_stack_0000fff2,
                                       CONCAT410(in_stack_0000ffee,
                                                 CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(
                                                  param_1,CONCAT22(*pHVar2 - 5,pHVar2[1] - 5)))))),
                      (int16)CONCAT412(in_stack_00000000,
                                       CONCAT210(unaff_BP,CONCAT28(in_stack_0000fffc,
                                                                   CONCAT26(in_stack_0000fffa,
                                                                            CONCAT24(piVar1,CONCAT22
                                                  (uVar4,in_stack_0000fff4)))))),
                      (int16)CONCAT412(param_6._0_4_,
                                       CONCAT210(param_5,CONCAT46(param_4,CONCAT24(param_3,CONCAT22(
                                                  param_2,param_1))))),
                      (int16)CONCAT412(in_stack_00000020,CONCAT210(param_7,param_6._4_10_)));
      pHVar2 = pHVar2 + 2;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  }
  piVar1 = SELECTOBJECT(piVar1,param_1,unaff_SI,unaff_DI,
                        (int16)CONCAT214(in_stack_0000fffc,
                                         CONCAT212(in_stack_0000fffa,
                                                   CONCAT210(piVar1,CONCAT28(uVar4,CONCAT26(
                                                  in_stack_0000fff4,
                                                  CONCAT24(in_stack_0000fff2,in_stack_0000ffee))))))
                       );
  __return_storage_ptr__ =
       SETROP2((int16 *)0x7,param_1,
               (int16)CONCAT214(piVar1,CONCAT212(uVar4,CONCAT210(in_stack_0000fff4,
                                                                 CONCAT28(in_stack_0000fff2,
                                                                          CONCAT44(in_stack_0000ffee
                                                                                   ,CONCAT22(
                                                  unaff_DI,unaff_SI)))))));
  MOVETO(param_2[5],
         (int16)CONCAT214(in_stack_0000fff4,
                          CONCAT212(in_stack_0000fff2,
                                    CONCAT48(in_stack_0000ffee,
                                             CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(param_1,
                                                  param_2[4])))))),
         (int16)CONCAT214(param_1,CONCAT410(in_stack_00000000,
                                            CONCAT28(unaff_BP,CONCAT26(__return_storage_ptr__,
                                                                       CONCAT24(in_stack_0000fffa,
                                                                                CONCAT22(piVar1,
                                                  uVar4)))))));
  LINETO(param_2[1],
         (int16)CONCAT214(in_stack_0000fff4,
                          CONCAT212(in_stack_0000fff2,
                                    CONCAT48(in_stack_0000ffee,
                                             CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(param_1,*
                                                  param_2)))))),
         (int16)CONCAT214(param_1,CONCAT410(in_stack_00000000,
                                            CONCAT28(unaff_BP,CONCAT26(__return_storage_ptr__,
                                                                       CONCAT24(in_stack_0000fffa,
                                                                                CONCAT22(piVar1,
                                                  uVar4)))))));
  if (3 < param_3) {
    LINETO(param_2[7],
           (int16)CONCAT214(in_stack_0000fff4,
                            CONCAT212(in_stack_0000fff2,
                                      CONCAT48(in_stack_0000ffee,
                                               CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(param_1,
                                                  param_2[6])))))),
           (int16)CONCAT214(param_1,CONCAT410(in_stack_00000000,
                                              CONCAT28(unaff_BP,CONCAT26(__return_storage_ptr__,
                                                                         CONCAT24(in_stack_0000fffa,
                                                                                  CONCAT22(piVar1,
                                                  uVar4)))))));
  }
  SETROP2(__return_storage_ptr__,param_1,
          (int16)CONCAT214(piVar1,CONCAT212(uVar4,CONCAT210(in_stack_0000fff4,
                                                            CONCAT28(in_stack_0000fff2,
                                                                     CONCAT44(in_stack_0000ffee,
                                                                              CONCAT22(unaff_DI,
                                                  unaff_SI)))))));
  SELECTOBJECT(piVar1,param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(__return_storage_ptr__,
                                CONCAT212(in_stack_0000fffa,
                                          CONCAT210(piVar1,CONCAT28(uVar4,CONCAT26(in_stack_0000fff4
                                                                                   ,CONCAT24(
                                                  in_stack_0000fff2,in_stack_0000ffee)))))));
  SELECTCLIPRGN((int16 *)PTR_DAT_10a8_0000_10a8_8344,param_1,unaff_SI);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined * __cdecl16far FUN_1030_3a54(undefined *param_1)

{
  undefined4 uVar1;
  long local_10 [3];
  undefined *local_4;

  if (PTR_DAT_10a8_0000_10a8_7b52 != param_1) {
    uVar1 = *(undefined4 *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + (int)param_1 * 0x12 + 4);
    FUN_1010_18d2((int)uVar1,(int)((ulong)uVar1 >> 0x10),4,local_10);
    local_4 = param_1;
    FUN_1030_3a94(local_10,1);
  }
  return param_1;
}



void __cdecl16far FUN_1030_3a94(long *param_1,int param_2)

{
  long *plVar1;
  byte *pbVar2;
  long *plVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  undefined2 unaff_SI;
  long *plVar7;
  undefined2 unaff_DI;
  byte *pbVar8;
  long *plVar9;
  bool bVar10;
  bool bVar11;

  if (param_2 == 0) {
    uVar4 = *(undefined4 *)((int)param_1 + 2);
    FUN_1010_18d2(*(int *)param_1,(int)uVar4,(uint)((ulong)uVar4 >> 0x10),param_1);
  }
  iVar6 = 0xe;
  pbVar8 = (byte *)&PTR_DAT_10a8_0000_10a8_7b54;
  bVar10 = false;
  iVar5 = 0;
  bVar11 = true;
  plVar7 = param_1;
  do {
    if (iVar6 == 0) break;
    iVar6 = iVar6 + -1;
    pbVar2 = pbVar8;
    pbVar8 = pbVar8 + 1;
    plVar1 = plVar7;
    plVar7 = (long *)((int)plVar7 + 1);
    bVar10 = *(byte *)plVar1 < *pbVar2;
    bVar11 = *(byte *)plVar1 == *pbVar2;
  } while (bVar11);
  if (!bVar11) {
    iVar5 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
  }
  if (iVar5 != 0) {
    if ((*(int *)(param_1 + 3) == -1) ||
       (*(undefined **)(param_1 + 3) == PTR_DAT_10a8_0000_10a8_7b52)) {
      bVar10 = false;
    }
    else {
      bVar10 = true;
    }
    FUN_1030_2da8((int16 *)0x0,(undefined *)0x0,CONCAT22(unaff_DI,unaff_SI));
    plVar9 = (long *)&PTR_DAT_10a8_0000_10a8_7b54;
    plVar7 = param_1;
    for (iVar5 = 3; iVar5 != 0; iVar5 = iVar5 + -1) {
      plVar3 = plVar9;
      plVar9 = plVar9 + 1;
      plVar1 = plVar7;
      plVar7 = plVar7 + 1;
      *plVar3 = *plVar1;
    }
    *(undefined2 *)plVar9 = *(undefined2 *)plVar7;
    if ((((byte)PTR_DAT_10a8_0000_10a8_7b5a & 1) != 0) && (param_2 != 2)) {
      PTR_DAT_10a8_0000_10a8_7b58 = (undefined *)&DAT_10a8_0001;
    }
    if (bVar10) {
      PTR_DAT_10a8_0000_10a8_7b52 = *(undefined **)(param_1 + 3);
      FUN_1028_4834();
      FUN_1028_48dc(*(uint *)(param_1 + 3),CONCAT22(unaff_DI,unaff_SI));
      FUN_1028_4902(0);
      FUN_1020_0736((int16 *)0x0,0x122);
    }
    FUN_1030_2da8((int16 *)0x0,(undefined *)&DAT_10a8_0001,CONCAT22(unaff_DI,unaff_SI));
    if (bVar10) {
      FUN_1030_2f0c(*param_1,1);
    }
    FUN_1030_2348((int16 *)0x0,(RECT16 *)0x0,(undefined2 *)0x0,(VA_LIST16)0x0);
    INVALIDATERECT(1,(RECT16 *)0x0,0);
    FUN_1008_97da();
    if (PTR_DAT_10a8_0000_10a8_7bd6 != (undefined *)0xffff) {
      FUN_1020_0736((int16 *)0x0,(int)s_Small_Colonizer_10a8_3ffe + 4);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1030_3bbc(long *param_1,int param_2)

{
  int *piVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  int iVar4;
  int **ppiVar5;
  undefined4 *puVar6;
  int unaff_SS;
  int iVar7;
  bool bVar8;
  int *local_8;
  uint local_6;

  bVar8 = PTR_DAT_10a8_0000_10a8_7b4c != (undefined *)&DAT_10a8_0002;
  iVar4 = 0;
  iVar7 = (int)s_From___s_c_c_10a8_10a2 + 6;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    ppiVar5 = (int **)_PTR_DAT_10a8_0000_10a8_006e;
    while( true ) {
      piVar1 = *ppiVar5;
      local_6 = (uint)((ulong)piVar1 >> 0x10);
      local_8 = (int *)piVar1;
      iVar7 = unaff_SS;
      if ((local_6 | (uint)local_8) == 0) break;
      if (bVar8) {
        if ((*(long *)(local_8 + 4) == *(long *)&PTR_DAT_10a8_0000_10a8_7b48) &&
           ((param_2 == 0 || (local_8[1] == *(int *)&PTR_DAT_10a8_0001_10a8_00c0)))) break;
      }
      else if (*(int *)&PTR_DAT_10a8_0000_10a8_7b50 == *piVar1) {
        bVar8 = true;
      }
      ppiVar5 = ppiVar5 + 1;
      iVar4 = iVar4 + 1;
      piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_83c6;
      if (*piVar1 == iVar4 || *piVar1 < iVar4) break;
    }
  }
  if (!bVar8) {
    return 0;
  }
  piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_83c6;
  if (*piVar1 == iVar4 || *piVar1 < iVar4) {
    if (((*(byte *)&PTR_DAT_10a8_0000_10a8_7b4e & 1) != 0) &&
       (*(int *)&PTR_DAT_10a8_0000_10a8_7bd8 == *(int *)&PTR_DAT_10a8_0001_10a8_00c0)) {
      *(undefined2 *)(param_1 + 1) = 1;
      *(undefined2 *)(param_1 + 2) = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_7bd6;
      return 1;
    }
    iVar4 = 0;
    if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
      uVar3 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      puVar6 = (undefined4 *)uVar3;
      do {
        uVar2 = *puVar6;
        local_6 = (uint)((ulong)uVar2 >> 0x10);
        local_8 = (int *)uVar2;
        iVar7 = unaff_SS;
        if (((local_6 | (uint)local_8) == 0) ||
           ((*(long *)(local_8 + 4) == *param_1 &&
            ((param_2 == 0 || (local_8[1] == *(int *)&PTR_DAT_10a8_0001_10a8_00c0)))))) break;
        puVar6 = puVar6 + 1;
        iVar4 = iVar4 + 1;
        piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_83c6;
      } while (*piVar1 != iVar4 && iVar4 <= *piVar1);
    }
    piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_83c6;
    if (*piVar1 == iVar4 || *piVar1 < iVar4) {
      return 0;
    }
    if (*local_8 == *(int *)&PTR_DAT_10a8_0000_10a8_7b50) {
      return 0;
    }
  }
  *(int *)((int)param_1 + 10) = iVar4;
  *(undefined2 *)(param_1 + 1) = 2;
  return 1;
}



ulong __stdcall16far
FINDDLG(undefined2 param_1_00,int param_2,int param_3,int param_4,WPARAM16 param_5)

{
  int iVar1;
  HWND16 hwnd;
  uint in_DX;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  RECT16 *unaff_SS;
  COLORREF CVar2;
  LRESULT LVar3;
  undefined2 uVar4;
  undefined2 in_stack_0000ffce;
  WPARAM16 in_stack_0000ffd0;
  undefined2 in_stack_0000ffd2;
  undefined2 in_stack_0000ffd4;
  undefined2 in_stack_0000ffd6;
  undefined4 in_stack_0000ffd8;
  word in_stack_0000ffdc;
  unkbyte10 in_stack_0000ffde;
  undefined local_a [8];

  if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)local_a,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)local_a,unaff_SS,param_3);
  }
  else {
    if (param_4 == 0x19) {
      if (param_2 == 6) {
        uVar4 = 0xf;
        CVar2 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffd4,
                                             CONCAT212(in_stack_0000ffd2,
                                                       CONCAT210(in_stack_0000ffd0,
                                                                 CONCAT28(in_stack_0000ffce,
                                                                          CONCAT26(unaff_DI,CONCAT24
                                                  (unaff_SI,CONCAT22(param_3,0xf))))))));
        CVar2 = SETBKCOLOR((HDC16)CVar2.value,CONCAT22(uVar4,(int)(CVar2.value >> 0x10)));
        return CVar2.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
LAB_1030_3e06:
      return (ulong)in_DX << 0x10;
    }
    if (param_4 == 0x110) {
      FUN_1018_5a04(param_5,(int *)0x95a,1,unaff_SI,
                    (int16)CONCAT412(in_stack_0000ffd8,
                                     CONCAT210(in_stack_0000ffd6,
                                               CONCAT28(in_stack_0000ffd4,
                                                        CONCAT26(in_stack_0000ffd2,
                                                                 CONCAT24(in_stack_0000ffd0,
                                                                          CONCAT22(in_stack_0000ffce
                                                                                   ,unaff_DI)))))),
                    in_stack_0000ffdc);
      LVar3 = SENDDLGITEMMESSAGE(0,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  param_5,0x10c041500270000)))),in_stack_0000ffd0,
                                 CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2));
      in_DX = (uint)((ulong)LVar3 >> 0x10);
    }
    else {
      if (param_4 != 0x111) goto LAB_1030_3e06;
      if ((param_3 == 1) || (param_3 == 2)) {
        if (param_3 == 1) {
          GETDLGITEMTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0028,(HWND16)&stack0xffce,
                         (int16)CONCAT214(in_stack_0000ffd2,
                                          CONCAT212(in_stack_0000ffd0,
                                                    CONCAT210(in_stack_0000ffce,
                                                              CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_5,CONCAT22(0x10c,unaff_SS))))))),
                         CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4),
                         (uint16)CONCAT106(in_stack_0000ffde,
                                           CONCAT24(in_stack_0000ffdc,in_stack_0000ffd8)));
          iVar1 = FUN_1030_3e0e(&stack0xffce);
          if (iVar1 == 0) {
            FUN_1018_50b2(0x168,0x10);
            hwnd = GETDLGITEM(0x10c,(int16)CONCAT214(in_stack_0000ffd6,
                                                     CONCAT212(in_stack_0000ffd4,
                                                               CONCAT210(in_stack_0000ffd2,
                                                                         CONCAT28(in_stack_0000ffd0,
                                                                                  CONCAT26(
                                                  in_stack_0000ffce,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                             );
            SETFOCUS(hwnd);
            LVar3 = SENDDLGITEMMESSAGE(0,(int16)CONCAT214(in_stack_0000ffce,
                                                          CONCAT212(unaff_DI,CONCAT210(unaff_SI,
                                                  CONCAT28(param_5,0x10c04010000ffff)))),
                                       in_stack_0000ffd0,
                                       CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2));
            in_DX = (uint)((ulong)LVar3 >> 0x10);
            goto LAB_1030_3e06;
          }
        }
        FUN_1018_5a04(param_5,(int *)0x95a,0,unaff_SI,
                      (int16)CONCAT412(in_stack_0000ffd8,
                                       CONCAT210(in_stack_0000ffd6,
                                                 CONCAT28(in_stack_0000ffd4,
                                                          CONCAT26(in_stack_0000ffd2,
                                                                   CONCAT24(in_stack_0000ffd0,
                                                                            CONCAT22(
                                                  in_stack_0000ffce,unaff_DI)))))),in_stack_0000ffdc
                     );
        if (param_3 != 1) {
          param_3 = 0;
        }
        ENDDIALOG(param_3,(int16)CONCAT214(in_stack_0000ffd6,
                                           CONCAT212(in_stack_0000ffd4,
                                                     CONCAT210(in_stack_0000ffd2,
                                                               CONCAT28(in_stack_0000ffd0,
                                                                        CONCAT26(in_stack_0000ffce,
                                                                                 CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5))))))));
      }
      else {
        if (param_3 != 0x76) goto LAB_1030_3e06;
        WINHELP(0xa7,(LPCSTR)0x10000,
                (uint16)CONCAT214(in_stack_0000ffd2,
                                  CONCAT212(in_stack_0000ffd0,
                                            CONCAT210(in_stack_0000ffce,
                                                      CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(
                                                  param_5,CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be))))))));
      }
    }
  }
  return CONCAT22(in_DX,1);
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1030_3e0e(byte *param_1)

{
  byte *pbVar1;
  byte bVar2;
  byte *pbVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  uint in_DX;
  undefined *puVar7;
  byte *pbVar8;
  int iVar9;
  long local_16;
  undefined4 local_12;
  undefined *local_e;
  int local_c;
  undefined4 local_a;
  undefined4 local_6;

  local_a = 0xffffffff;
  local_a._2_2_ = (undefined *)0x0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_003a) {
    local_6 = (uint *)CONCAT22(0x5a6a,(int *)local_6);
    puVar7 = (undefined *)0x0;
    do {
      pbVar8 = param_1;
      pbVar3 = (byte *)FUN_1018_4e74(*local_6._2_2_);
      iVar4 = FUN_10a0_047a(pbVar3,pbVar8);
      local_a._2_2_ = puVar7;
      if (iVar4 == 0) break;
      if (local_a._2_2_ == (undefined *)0xffff) {
        uVar6 = 0xffff;
        pbVar8 = param_1;
        do {
          if (uVar6 == 0) break;
          uVar6 = uVar6 - 1;
          pbVar1 = pbVar8;
          pbVar8 = pbVar8 + 1;
        } while (*pbVar1 != 0);
        uVar6 = ~uVar6 - 1;
        pbVar8 = param_1;
        pbVar3 = (byte *)FUN_1018_4e74(*local_6._2_2_);
        uVar6 = FUN_10a0_04bc(pbVar3,pbVar8,uVar6);
        if (uVar6 == 0) {
          local_a = local_a & 0xffff | ZEXT24(puVar7) << 0x10;
        }
      }
      local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)((int)local_6._2_2_ + 2) << 0x10);
      local_a._2_2_ = puVar7 + 1;
      puVar7 = local_a._2_2_;
    } while ((int)local_a._2_2_ < (int)PTR_DAT_10a8_0000_10a8_003a);
  }
  do {
    if (PTR_DAT_10a8_0000_10a8_003a != local_a._2_2_) {
      local_12 = 0x10001;
      local_16 = *(long *)((int)&PTR_DAT_10a8_0000_10a8_6238 + (int)local_a._2_2_ * 4);
      local_e = local_a._2_2_;
LAB_1030_3fbc:
      FUN_1030_3a94(&local_16,1);
      FUN_1030_2f0c(local_16,1);
      return 1;
    }
    uVar6 = FUN_10a0_04bc(param_1,(byte *)s_Fleet_10a8_095e,5);
    pbVar8 = param_1;
    if (uVar6 == 0) {
      pbVar8 = param_1 + 6;
    }
    bVar2 = *pbVar8;
    while (bVar2 == 0x20) {
      pbVar8 = pbVar8 + 1;
      bVar2 = *pbVar8;
    }
    if (*pbVar8 == 0x23) {
      pbVar8 = pbVar8 + 1;
    }
    bVar2 = *pbVar8;
    while (bVar2 == 0x20) {
      pbVar8 = pbVar8 + 1;
      bVar2 = *pbVar8;
    }
    if (('0' < (char)*pbVar8) && ((char)*pbVar8 < ':')) {
      iVar4 = (char)*pbVar8 + -0x30;
      do {
        pbVar8 = pbVar8 + 1;
        bVar2 = *pbVar8;
        if ((*(byte *)((char)bVar2 + 0x4ca5) & 4) == 0) {
          local_6._0_2_ = FUN_1010_0c48((int)PTR_DAT_10a8_0001_10a8_00c0 << 9 | iVar4 - 1U);
          local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)in_DX << 0x10);
          in_DX = in_DX | (uint)(int *)local_6;
          if (in_DX != 0) goto LAB_1030_3f6f;
          break;
        }
        iVar4 = iVar4 * 10 + (int)(char)bVar2 + -0x30;
      } while (iVar4 < 0x201);
    }
    iVar4 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
      iVar9 = 0;
      do {
        local_6 = *(uint **)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar9);
        if (local_6 == (uint *)0x0) break;
        pbVar8 = param_1;
        pbVar3 = (byte *)FUN_1010_0ffa(*local_6);
        iVar5 = FUN_10a0_047a(pbVar3,pbVar8);
        if (iVar5 == 0) {
LAB_1030_3f6f:
          local_12._2_2_ = 2;
          local_c = FUN_1010_10d2((int)(int *)local_6,(int)local_6._2_2_);
          local_12 = CONCAT22(local_12._2_2_,2);
          local_16 = *(long *)((int *)local_6 + 4);
          goto LAB_1030_3fbc;
        }
        iVar9 = iVar9 + 4;
        iVar4 = iVar4 + 1;
      } while (iVar4 < (int)PTR_DAT_10a8_0000_10a8_83c6);
    }
    if (local_a._2_2_ == (undefined *)0xffff) {
      return 0;
    }
  } while( true );
}



int __cdecl16far FUN_1038_0000(int param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  HGLOBAL16 handle;
  undefined2 uVar3;
  int iVar4;
  uint flags;
  int *piVar5;

                    // Segment:    8
                    // Offset:     0002b5c0
                    // Length:     05e0
                    // Min Alloc:  05e0
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  uVar1 = *(uint *)(param_2 * 2 + 0x4432);
  flags = param_1 + 0x10U;
  if (param_1 + 0x10U < uVar1) {
    flags = uVar1;
  }
  handle = GLOBALALLOC(flags,0x220000);
  if (handle == 0) {
    FUN_1018_50b2(0x16,0x10);
    FUN_10a0_0729((int)PTR_DAT_10a8_0000_10a8_002e,-1);
  }
  piVar5 = (int *)GLOBALLOCK(handle);
  uVar3 = (undefined2)((ulong)piVar5 >> 0x10);
  iVar2 = (int)piVar5;
  *(HGLOBAL16 *)(iVar2 + 0xc) = handle;
  *(word *)(iVar2 + 2) = flags;
  *(int *)(iVar2 + 4) = flags - 0x10;
  *piVar5 = flags - 0x10;
  *(undefined2 *)(iVar2 + 6) = 0x10;
  *(undefined *)(iVar2 + 0xe) = (undefined)param_2;
  iVar4 = param_2 * 4;
  *(undefined4 *)(iVar2 + 8) = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_440e + iVar4);
  *(int *)((int)&PTR_DAT_10a8_0000_10a8_440e + iVar4) = iVar2;
  *(undefined2 *)(iVar4 + 0x4410) = uVar3;
  return iVar2;
}



uint __cdecl16far FUN_1038_0098(long param_1)

{
  int *piVar1;
  uint uVar2;
  undefined4 uVar3;
  HGLOBAL16 handle;
  undefined2 uVar4;
  uint uVar5;
  int iVar6;
  uint *puVar7;
  uint uVar8;
  uint uVar9;
  int *piVar10;
  int local_8;

  if (param_1 == 0) {
    return 0;
  }
  handle = *(HGLOBAL16 *)((uint)param_1 + 0xc);
  uVar2 = *(uint *)((uint)param_1 + 2);
  local_8 = *(int *)((uint)*(byte *)((uint)param_1 + 0xe) * 2 + 0x4432);
  if (*(uint *)((uint)param_1 + 2) < 0xffdc) {
    if (-local_8 - 0x24U < uVar2) {
      local_8 = -0x24 - uVar2;
    }
    GLOBALUNLOCK(handle);
    handle = GLOBALREALLOC(CONCAT22(*(int *)((uint)param_1 + 2) + local_8,0x22),0);
    if (handle != 0) goto LAB_1038_0122;
  }
  FUN_1018_50b2(0x16,0x10);
  FUN_10a0_0729((int)PTR_DAT_10a8_0000_10a8_002e,-1);
LAB_1038_0122:
  piVar10 = (int *)GLOBALLOCK(handle);
  uVar4 = (undefined2)((ulong)piVar10 >> 0x10);
  uVar2 = (uint)piVar10;
  *(HGLOBAL16 *)(uVar2 + 0xc) = handle;
  iVar6 = (uint)*(byte *)(uVar2 + 0xe) * 4;
  puVar7 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_440e + iVar6);
  if ((*puVar7 == (uint)param_1) && (*(int *)(iVar6 + 0x4410) == param_1._2_2_)) {
    *puVar7 = uVar2;
    *(undefined2 *)(iVar6 + 0x4410) = uVar4;
  }
  else {
    uVar8 = *puVar7;
    uVar9 = *(uint *)(iVar6 + 0x4410);
    uVar5 = uVar9 | uVar8;
    while ((uVar5 != 0 && (*(long *)(uVar8 + 8) != param_1))) {
      uVar3 = *(undefined4 *)(uVar8 + 8);
      uVar9 = (uint)((ulong)uVar3 >> 0x10);
      uVar8 = (uint)uVar3;
      uVar5 = uVar9 | uVar8;
    }
    *(uint *)(uVar8 + 8) = uVar2;
    *(undefined2 *)(uVar8 + 10) = uVar4;
  }
  piVar1 = (int *)(uVar2 + 2);
  *piVar1 = *piVar1 + local_8;
  *piVar10 = *piVar10 + local_8;
  piVar10 = (int *)(uVar2 + 4);
  *piVar10 = *piVar10 + local_8;
  return uVar2;
}



void __cdecl16far FUN_1038_01b0(uint param_1,uint param_2)

{
  uint uVar1;
  uint uVar2;
  HGLOBAL16 handle;
  uint uVar3;

  if ((param_2 | param_1) != 0) {
    uVar3 = param_2 | param_1;
    while (uVar3 != 0) {
      uVar1 = *(uint *)(param_1 + 8);
      uVar2 = *(uint *)(param_1 + 10);
      handle = *(HGLOBAL16 *)(param_1 + 0xc);
      GLOBALUNLOCK(handle);
      GLOBALFREE(handle);
      param_1 = uVar1;
      param_2 = uVar2;
      uVar3 = uVar2 | uVar1;
    }
  }
  return;
}



void __cdecl16far FUN_1038_01fc(int param_1)

{
  undefined4 uVar1;
  uint uVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;

  uVar1 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_440e + param_1 * 4);
  uVar5 = (uint)((ulong)uVar1 >> 0x10);
  piVar4 = (int *)uVar1;
  uVar2 = uVar5 | (uint)piVar4;
  while (uVar2 != 0) {
    piVar4[3] = 0x10;
    iVar3 = piVar4[1] + -0x10;
    piVar4[2] = iVar3;
    *piVar4 = iVar3;
    uVar1 = *(undefined4 *)(piVar4 + 4);
    uVar5 = (uint)((ulong)uVar1 >> 0x10);
    piVar4 = (int *)uVar1;
    uVar2 = uVar5 | (uint)piVar4;
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

uint * __cdecl16far FUN_1038_0232(int param_1,int param_2)

{
  uint *puVar1;
  uint uVar2;
  uint *puVar3;
  uint *puVar4;
  uint uVar5;
  uint *puVar6;
  uint *puVar7;
  uint uVar8;
  undefined4 local_12;

  uVar5 = *(uint *)(param_2 * 4 + 0x4410);
  uVar2 = param_1 + 3U & 0xfffe;
  puVar3 = *(uint **)((int)&PTR_DAT_10a8_0000_10a8_440e + param_2 * 4);
  do {
    local_12 = (int *)((ulong)uVar5 << 0x10);
    if (((uVar5 | (uint)puVar3) == 0) || (uVar2 <= *puVar3)) {
      if ((uVar5 | (uint)puVar3) == 0) {
        puVar3 = (uint *)FUN_1038_0000(uVar2,param_2);
        local_12 = (int *)((ulong)uVar5 << 0x10);
      }
      puVar4 = (uint *)(puVar3[3] + (int)puVar3);
      if (uVar2 <= puVar3[2]) {
        *puVar4 = uVar2 - 2;
        puVar1 = puVar3 + 3;
        *puVar1 = *puVar1 + uVar2;
        puVar1 = puVar3;
        *puVar1 = *puVar1 - uVar2;
        puVar1 = puVar3 + 2;
        *puVar1 = *puVar1 - uVar2;
        return puVar4 + 1;
      }
      local_12 = (int *)((ulong)local_12 | ZEXT24(puVar3));
      puVar7 = puVar3 + 8;
      while (puVar6 = puVar7, puVar6 < puVar4) {
        uVar8 = *puVar6;
        puVar7 = (uint *)((int)puVar6 + (uVar8 & 0xfffe) + 2);
        if ((uVar8 & 1) != 0) {
          for (; ((puVar7 < puVar4 && ((*(byte *)puVar7 & 1) != 0)) &&
                 ((uint)((int)puVar7 - (int)puVar6) < uVar2));
              puVar7 = (uint *)((int)puVar7 + (*puVar7 & 0xfffe) + 2)) {
          }
          uVar8 = (int)puVar7 - (int)puVar6;
          *puVar6 = uVar8 - 2 | 1;
          if (uVar2 <= uVar8) {
            puVar1 = puVar6;
            *(byte *)puVar1 = *(byte *)puVar1 & 0xfe;
            *local_12 = *local_12 - uVar8;
            return puVar6 + 1;
          }
        }
      }
    }
    uVar5 = puVar3[5];
    puVar3 = (uint *)puVar3[4];
  } while( true );
}



uint __cdecl16far FUN_1038_0372(uint param_1,uint param_2,int param_3)

{
  undefined4 uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;

  if ((-1 < param_3) && (param_3 < 9)) {
    uVar3 = *(uint *)((int)&PTR_DAT_10a8_0000_10a8_440e + param_3 * 4);
    uVar4 = *(uint *)(param_3 * 4 + 0x4410);
    uVar2 = uVar4 | uVar3;
    while (uVar2 != 0) {
      if ((uVar4 <= param_2) && ((uVar4 < param_2 || (uVar3 < param_1)))) {
        if ((param_2 < uVar4) || ((param_2 <= uVar4 && (param_1 < *(int *)(uVar3 + 2) + uVar3))))
        break;
      }
      uVar1 = *(undefined4 *)(uVar3 + 8);
      uVar4 = (uint)((ulong)uVar1 >> 0x10);
      uVar3 = (uint)uVar1;
      uVar2 = uVar4 | uVar3;
    }
    if ((uVar4 | uVar3) != 0) {
      return uVar3;
    }
  }
  return 0;
}



undefined2 __cdecl16far FUN_1038_03ec(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  uint *puVar2;
  uint *puVar3;
  int iVar4;
  int *piVar5;
  uint *puVar6;
  uint uVar7;
  uint uVar8;
  uint in_DX;
  uint *puVar9;
  uint uVar10;
  uint local_a;
  undefined4 local_6;

  uVar10 = (uint)((ulong)param_1 >> 0x10);
  uVar8 = *(uint *)((uint)param_1 - 2);
  uVar7 = (uint)param_2 + 1;
  iVar4 = (int)((ulong)param_2 >> 0x10);
  param_2._0_2_ = uVar7 & 0xfffe;
  uVar7 = (uVar7 & 0xfffe) - uVar8;
  if (uVar8 < (uint)param_2) {
    piVar5 = (int *)FUN_1038_0372((uint)param_1,uVar10,iVar4);
    local_a = in_DX;
    while( true ) {
      if ((((undefined *)(piVar5[3] + (int)piVar5) == (undefined *)((int)(uint *)param_1 + uVar8))
          && (local_a == param_1._2_2_)) && (uVar7 <= (uint)piVar5[2])) {
        piVar1 = piVar5 + 2;
        *piVar1 = *piVar1 - uVar7;
        piVar1 = piVar5;
        *piVar1 = *piVar1 - uVar7;
        piVar1 = piVar5 + 3;
        *piVar1 = *piVar1 + uVar7;
        ((uint *)param_1)[-1] = (uint)param_2;
        goto LAB_1038_04bf;
      }
      if (iVar4 != 3) break;
      piVar5 = (int *)FUN_1038_0098(CONCAT22(local_a,piVar5));
      param_1 = CONCAT22(param_1._2_2_,piVar5 + 9);
      local_a = param_1._2_2_;
    }
    uVar7 = param_1._2_2_;
    puVar6 = FUN_1038_0232((uint)param_2,iVar4);
    local_6 = CONCAT22(uVar7,puVar6);
    puVar9 = (uint *)param_1;
    for (uVar10 = uVar8 >> 1; uVar10 != 0; uVar10 = uVar10 - 1) {
      puVar3 = puVar6;
      puVar6 = puVar6 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar3 = *puVar2;
    }
    for (uVar8 = (uint)((uVar8 & 1) != 0); uVar8 != 0; uVar8 = uVar8 - 1) {
      puVar3 = puVar6;
      puVar6 = (uint *)((int)puVar6 + 1);
      puVar2 = puVar9;
      puVar9 = (uint *)((int)puVar9 + 1);
      *(undefined *)puVar3 = *(undefined *)puVar2;
    }
    FUN_1038_04ca((uint)(uint *)param_1,param_1._2_2_,iVar4);
    param_1 = local_6;
  }
LAB_1038_04bf:
  return (uint *)param_1;
}



void __cdecl16far FUN_1038_04ca(uint param_1,uint param_2,int param_3)

{
  byte *pbVar1;
  int *piVar2;
  int *piVar3;
  undefined2 in_DX;
  int iVar4;

  if (CONCAT22(param_2,param_1) != 0) {
    piVar3 = (int *)FUN_1038_0372(param_1,param_2,param_3);
    iVar4 = *(int *)(param_1 - 2) + 2;
    pbVar1 = (byte *)(param_1 - 2);
    *pbVar1 = *pbVar1 | 1;
    piVar2 = piVar3;
    *piVar2 = *piVar2 + iVar4;
    if ((-piVar3[3] - ((int)piVar3 - param_1)) + iVar4 == 2) {
      piVar2 = piVar3 + 3;
      *piVar2 = *piVar2 - iVar4;
      piVar2 = piVar3 + 2;
      *piVar2 = *piVar2 + iVar4;
    }
  }
  return;
}



int __cdecl16far FUN_1038_0522(uint *param_1,undefined2 param_2,uint param_3)

{
  uint uVar1;
  long lVar2;
  int iVar3;
  undefined2 uVar4;

  uVar1 = *param_1;
  lVar2 = (ulong)(uVar1 & 0xff) * (ulong)param_3;
  uVar4 = (undefined2)((ulong)lVar2 >> 0x10);
  iVar3 = FUN_1038_03ec(CONCAT22(param_2,param_1),CONCAT22((uVar1 & 0xe00) >> 9,(int)lVar2 + 4));
  *(undefined *)(iVar3 + 2) = (char)param_3;
  return iVar3;
}



uint * __cdecl16far FUN_1038_0562(uint param_1,uint param_2,int param_3)

{
  byte bVar1;
  uint *puVar2;
  uint uVar3;
  undefined2 uVar4;

  uVar4 = (undefined2)((ulong)param_2 * (ulong)param_1 >> 0x10);
  puVar2 = FUN_1038_0232((int)((ulong)param_2 * (ulong)param_1) + 4,param_3);
  *(undefined *)(puVar2 + 1) = (undefined)param_2;
  *(undefined *)((int)puVar2 + 3) = 0;
  *puVar2 = *puVar2 & 0xfeff;
  bVar1 = *(byte *)((int)puVar2 + 1);
  uVar3 = param_1 & 0xff | (uint)bVar1 << 8;
  *puVar2 = uVar3;
  *puVar2 = uVar3 ^ ((byte)(bVar1 ^ (byte)((uint)(param_3 << 9) >> 8)) & 0xe) << 8;
  return puVar2;
}



void __cdecl16far FUN_1038_05b8(uint param_1,uint param_2)

{
  if ((param_2 | param_1) != 0) {
    FUN_1038_04ca(param_1,param_2,((*(byte *)(param_1 + 1) & 0xe) << 8) >> 9);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1040_0000(undefined2 *param_1,undefined2 param_2,ulong param_3)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  byte *pbVar6;
  undefined2 *puVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  undefined4 *puVar11;
  undefined4 *puVar12;
  char *pcVar13;
  undefined2 *puVar14;
  undefined2 unaff_SS;
  uint local_b8;
  undefined2 local_b0 [16];
  undefined2 local_90;
  uint local_86;
  undefined2 local_80;
  undefined local_7e [64];
  undefined local_3e;
  undefined2 local_3d;
  undefined2 local_3b;
  undefined2 local_39;
  undefined2 local_37;
  byte local_30 [40];
  int local_8;
  byte *local_6;

  puVar11 = (undefined4 *)&local_b8;
                    // Segment:    9
                    // Offset:     0002bc00
                    // Length:     5f34
                    // Min Alloc:  5f34
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  for (iVar8 = 0x21; iVar8 != 0; iVar8 = iVar8 + -1) {
    puVar4 = puVar11;
    puVar11 = puVar11 + 1;
    *puVar4 = 0;
  }
  *(undefined2 *)puVar11 = 0;
  *(undefined *)(undefined2 *)((int)puVar11 + 2) = 0;
  local_b8 = (uint)*(byte *)(param_1 + 1);
  local_3d = *param_1;
  local_3e = *(undefined *)(param_1 + 3);
  local_86 = (uint)*(byte *)((int)param_1 + 3);
  if ((char)local_3d == '\a') {
    local_80 = param_1[2];
    local_3b = *(undefined2 *)((int)param_1 + 7);
    local_39 = *(undefined2 *)((int)param_1 + 9);
    local_37 = *(undefined2 *)((int)param_1 + 0xb);
    FUN_10a0_0ac6(CONCAT22(unaff_SS,local_7e),CONCAT22(param_2,(int)param_1 + 0xd),
                  (uint)*(byte *)(param_1 + 3) << 2);
    puVar7 = (undefined2 *)((uint)*(byte *)(param_1 + 3) * 4 + (int)param_1 + 0xd);
  }
  else {
    local_90 = param_1[2];
    puVar7 = param_1 + 3;
  }
  local_6 = (byte *)CONCAT22(param_2,puVar7);
  pbVar6 = local_6;
  uVar9 = *(uint *)(local_b8 * 0x93 + 12000);
  if (((int)local_86 < (int)uVar9) || ((int)(uVar9 + 4) <= (int)local_86)) {
    local_86 = local_86 & 3 | uVar9;
  }
  pcVar13 = (char *)((int)puVar7 + 1);
  local_6 = (byte *)CONCAT22(param_2,pcVar13);
  uVar9 = (uint)*pbVar6;
  if (uVar9 == 0) {
    puVar7 = local_b0;
    uVar9 = 0xffff;
    do {
      if (uVar9 == 0) break;
      uVar9 = uVar9 - 1;
      pcVar2 = pcVar13;
      pcVar13 = pcVar13 + 1;
    } while (*pcVar2 != '\0');
    uVar9 = ~uVar9;
    puVar14 = (undefined2 *)(pcVar13 + -uVar9);
    for (uVar10 = uVar9 >> 1; uVar10 != 0; uVar10 = uVar10 - 1) {
      puVar3 = puVar7;
      puVar7 = puVar7 + 1;
      puVar1 = puVar14;
      puVar14 = puVar14 + 1;
      *puVar3 = *puVar1;
    }
    for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
      puVar3 = puVar7;
      puVar7 = (undefined2 *)((int)puVar7 + 1);
      puVar1 = puVar14;
      puVar14 = (undefined2 *)((int)puVar14 + 1);
      *(undefined *)puVar3 = *(undefined *)puVar1;
    }
  }
  else {
    local_8 = 0x20;
    FUN_10a0_0ac6(CONCAT22(unaff_SS,local_30),CONCAT22(param_2,pcVar13),uVar9);
    FUN_1018_685e(local_30,unaff_SS,uVar9,CONCAT22(unaff_SS,local_b0),&local_8);
  }
  if ((((char)local_3d == '\a') ||
      (puVar11 = (undefined4 *)((((local_3d._1_1_ & 0x3c) << 8) >> 10) * 0x87 + (int)param_3),
      (*(byte *)(puVar11 + 0x1f) & 2) != 0)) || (*(byte *)((int)puVar11 + 0x7b) < 7)) {
    puVar11 = (undefined4 *)((((local_3d._1_1_ & 0x3c) << 8) >> 10) * 0x87 + (int)param_3);
  }
  else if ((*(uint *)puVar11 == local_b8) && (*(uint *)((int)puVar11 + 0x32) == local_86))
  goto LAB_1040_01ad;
  puVar12 = (undefined4 *)&local_b8;
  for (iVar8 = 0x21; iVar8 != 0; iVar8 = iVar8 + -1) {
    puVar5 = puVar11;
    puVar11 = puVar11 + 1;
    puVar4 = puVar12;
    puVar12 = puVar12 + 1;
    *puVar5 = *puVar4;
  }
  *(undefined2 *)puVar11 = *(undefined2 *)puVar12;
  *(undefined *)(undefined2 *)((int)puVar11 + 2) = *(undefined *)(undefined2 *)((int)puVar12 + 2);
LAB_1040_01ad:
  if ((char)local_3d == '\a') {
    FUN_1010_1c24((int *)(param_3 & 0xffff0000 |
                         (ulong)((((local_3d._1_1_ & 0x3c) << 8) >> 10) * 0x87 + (int)param_3)));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1040_01d4(undefined4 *param_1,undefined2 *param_2)

{
  uint *puVar1;
  undefined2 *puVar2;
  byte *pbVar3;
  undefined2 *puVar4;
  undefined4 *puVar5;
  byte bVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  byte *pbVar10;
  undefined4 *puVar11;
  undefined2 *puVar12;
  undefined2 *puVar13;
  int local_6;
  int local_4;

  puVar11 = param_1;
  for (iVar7 = 0x1d; iVar7 != 0; iVar7 = iVar7 + -1) {
    puVar5 = puVar11;
    puVar11 = puVar11 + 1;
    *puVar5 = 0;
  }
  *(undefined2 *)puVar11 = 0;
  if ((*(byte *)(param_2 + 3) & 7) == 7) {
    FUN_10a0_055a((undefined2 *)param_1,param_2,0x46);
    FUN_10a0_055a((undefined2 *)((int)param_1 + 0x46),(undefined2 *)((int)param_2 + 0x47),
                  (uint)*(byte *)(param_2 + 0x23));
    local_4 = *(byte *)(param_2 + 0x23) + 0x47;
  }
  else {
    FUN_10a0_055a((undefined2 *)param_1,param_2,8);
    local_4 = 8;
  }
  pbVar10 = (byte *)(local_4 + (int)param_2);
  if (*pbVar10 == 0) {
    pbVar10 = pbVar10 + 1;
    puVar13 = (undefined2 *)((int)param_1 + 0x56);
    uVar8 = 0xffff;
    do {
      if (uVar8 == 0) break;
      uVar8 = uVar8 - 1;
      pbVar3 = pbVar10;
      pbVar10 = pbVar10 + 1;
    } while (*pbVar3 != 0);
    uVar8 = ~uVar8;
    puVar12 = (undefined2 *)(pbVar10 + -uVar8);
    for (uVar9 = uVar8 >> 1; uVar9 != 0; uVar9 = uVar9 - 1) {
      puVar4 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar12;
      puVar12 = puVar12 + 1;
      *puVar4 = *puVar2;
    }
    for (uVar8 = (uint)((uVar8 & 1) != 0); uVar8 != 0; uVar8 = uVar8 - 1) {
      puVar4 = puVar13;
      puVar13 = (undefined2 *)((int)puVar13 + 1);
      puVar2 = puVar12;
      puVar12 = (undefined2 *)((int)puVar12 + 1);
      *(undefined *)puVar4 = *(undefined *)puVar2;
    }
  }
  else {
    local_6 = 0x20;
    FUN_1018_685e(pbVar10 + 1,(int)s_From___s_c_c_10a8_10a2 + 6,(uint)*pbVar10,
                  CONCAT22(0x10a8,(int)param_1 + 0x56),&local_6);
  }
  if (((_DAT_10a8_0a32 & 0xf000) == 0) &&
     ((((_DAT_10a8_0a32 & 0xfe0) < 0xbe0 ||
       (((_DAT_10a8_0a32 & 0xfe0) == 0xbe0 && ((DAT_10a8_0a32 & 0x1f) < 9)))) &&
      ((*(byte *)((int)param_1 + 6) & 0xf8) != 0)))) {
    bVar6 = (byte)*(undefined2 *)((int)param_1 + 6);
    puVar1 = (uint *)((int)param_1 + 6);
    *puVar1 = *puVar1 ^ (byte)(bVar6 - 8 ^ bVar6) & 0xf8;
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x10400493)
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1040_02ec(VA_LIST16 param_1,byte *param_2)

{
  byte *pbVar1;
  char *pcVar2;
  int *piVar3;
  undefined2 *puVar4;
  undefined4 *puVar5;
  WORD *pWVar6;
  undefined2 *puVar7;
  undefined4 *puVar8;
  ulong uVar9;
  undefined4 uVar10;
  long lVar11;
  int iVar12;
  undefined4 *puVar13;
  uint *puVar14;
  int16 *piVar15;
  HWND16 HVar16;
  uint uVar17;
  uint uVar18;
  undefined *in_DX;
  undefined *puVar19;
  char *pcVar20;
  undefined *puVar21;
  VA_LIST16 unaff_SI;
  undefined4 *puVar22;
  undefined2 unaff_DI;
  VA_LIST16 pWVar23;
  undefined2 *puVar24;
  undefined2 *puVar25;
  undefined *puVar26;
  undefined2 uVar27;
  int unaff_SS;
  int iVar28;
  byte bVar29;
  int in_stack_0000ffba;
  undefined2 in_stack_0000ffbc;
  int in_stack_0000ffbe;
  ulong *in_stack_0000ffc0;
  undefined4 in_stack_0000ffc2;
  int local_2c;
  undefined *local_2a;
  uint local_28;
  uint local_24;
  undefined *local_20;
  uint local_1e;
  uint local_1c;
  int local_1a;
  undefined *local_18;
  int local_16;
  undefined *local_14;
  undefined4 local_12;
  uint local_e;
  undefined *local_c;
  undefined4 local_a;
  undefined4 local_6;

  iVar28 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_24 = 0;
  local_2c = 0;
  uVar17 = 0xffff;
  pWVar23 = param_1;
  do {
    if (uVar17 == 0) break;
    uVar17 = uVar17 - 1;
    pWVar6 = pWVar23;
    pWVar23 = (VA_LIST16)((int)pWVar23 + 1);
  } while (*(char *)pWVar6 != '\0');
  uVar17 = ~uVar17;
  puVar24 = (undefined2 *)((int)pWVar23 - uVar17);
  puVar25 = (undefined2 *)&DAT_10a8_85dc;
  for (uVar18 = uVar17 >> 1; uVar18 != 0; uVar18 = uVar18 - 1) {
    puVar7 = puVar25;
    puVar25 = puVar25 + 1;
    puVar4 = puVar24;
    puVar24 = puVar24 + 1;
    *puVar7 = *puVar4;
  }
  for (uVar17 = (uint)((uVar17 & 1) != 0); uVar17 != 0; uVar17 = uVar17 - 1) {
    puVar7 = puVar25;
    puVar25 = (undefined2 *)((int)puVar25 + 1);
    puVar4 = puVar24;
    puVar24 = (undefined2 *)((int)puVar24 + 1);
    *(undefined *)puVar7 = *(undefined *)puVar4;
  }
  local_c = PTR_DAT_10a8_0000_10a8_002e;
  PTR_DAT_10a8_0000_10a8_002e = &stack0xffc2;
  iVar12 = FUN_10a0_0704((int *)PTR_DAT_10a8_0000_10a8_002e);
  if ((iVar12 != 0) || (iVar12 = FUN_1040_1ae4(0,-1,0x20), iVar12 == 0)) goto LAB_1040_104d;
  FUN_1040_1e24();
  if ((DAT_10a8_59a9 & 0xfc) == 0x1c) {
    puVar13 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_0030;
    puVar22 = (undefined4 *)&DAT_10a8_7d64;
    for (iVar12 = 0xd; iVar12 != 0; iVar12 = iVar12 + -1) {
      puVar8 = puVar13;
      puVar13 = puVar13 + 1;
      puVar5 = puVar22;
      puVar22 = puVar22 + 1;
      *puVar8 = *puVar5;
    }
    DAT_10a8_0064 = (int)(PTR_DAT_10a8_0002_10a8_0034 + 1) * 400;
    PTR_PTR_10a8_0066 = (undefined *)(DAT_10a8_0064 + 2000);
    local_e = 1000;
    PTR_DAT_10a8_0000_10a8_003e = (undefined *)0x0;
    local_14 = (undefined *)0x0;
    PTR_DAT_10a8_0000_10a8_006c = in_DX;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_003a) {
      local_6._0_2_ = (ulong *)0x5a6a;
      local_6._2_2_ = (uint *)&PTR_DAT_10a8_0000_10a8_623a;
      do {
        FUN_1040_1fb4((LPVOID)CONCAT13((char)((uint)unaff_SS >> 8),
                                       CONCAT12((char)unaff_SS,&local_1e)),
                      (uint16 *)&PTR_LOOP_10a8_0004);
        local_e = local_e + (local_1e & 0xff | ((byte)((ulong)local_1e >> 8) & 3) << 8);
        local_6._2_2_[-1] = local_e;
        PTR_DAT_10a8_0000_10a8_006c = (undefined *)(local_1c >> 10);
        uVar17 = CONCAT11((char)local_1c,(char)((ulong)local_1e >> 8)) >> 2;
        *local_6._2_2_ = uVar17 & 0xff | ((byte)((ulong)uVar17 >> 8) & 0xf) << 8;
        *(uint *)(ulong *)local_6 =
             local_1c >> 6 & 0xff | (uint)(byte)((ulong)(local_1c >> 6) >> 8) << 8;
        if (((DAT_10a8_0064 + 1000 <= (int)local_e) || (DAT_10a8_0064 + 1000 <= (int)*local_6._2_2_)
            ) || (999 < (int)*(uint *)(ulong *)local_6)) {
          goto LAB_1040_103f;
        }
        local_6._0_2_ = (ulong *)((int)(ulong *)local_6 + 2);
        local_6._2_2_ = local_6._2_2_ + 2;
        local_14 = local_14 + 1;
      } while ((int)local_14 < (int)PTR_DAT_10a8_0000_10a8_003a);
    }
    FUN_1040_1e24();
    if ((_DAT_10a8_59a8 & 0xfc00) == 0) {
      FUN_1040_1f9c();
      if (((*param_2 == 0x68) || (*param_2 == 0x48)) &&
         ((param_2[1] == 0x73 || (param_2[1] == 0x53)))) {
        local_28 = 2;
        puVar26 = (undefined *)0xffff;
      }
      else {
        local_28 = 3;
        local_24 = 0x3000;
        iVar12 = thunk_FUN_10a0_0fdc(param_2 + 1);
        puVar26 = (undefined *)(iVar12 + -1);
      }
      FUN_1010_7786();
      local_6 = local_6 & 0xffff | (ulong)(uint)((int)PTR_DAT_10a8_0002_10a8_0038 * 0x76) << 0x10;
      puVar24 = (undefined2 *)0x885e;
      for (uVar17 = (uint)((int)PTR_DAT_10a8_0002_10a8_0038 * 0x76) >> 1; uVar17 != 0;
          uVar17 = uVar17 - 1) {
        puVar4 = puVar24;
        puVar24 = puVar24 + 1;
        *puVar4 = 0;
      }
      FUN_1038_01fc(7);
      puVar19 = PTR_DAT_10a8_0000_10a8_0a30;
      PTR_DAT_10a8_0000_10a8_0a30 = (undefined *)&DAT_10a8_0001;
      PTR_DAT_10a8_0001_10a8_00c0 = puVar26;
      if ((puVar26 == (undefined *)0xffff) ||
         (iVar12 = FUN_1040_1ae4(4,(int)puVar26,0x20), iVar12 == 0)) {
LAB_1040_076b:
        local_20 = (undefined *)0x0;
        FUN_1038_04ca((uint)_PTR_DAT_10a8_0000_10a8_006a,
                      (uint)((ulong)_PTR_DAT_10a8_0000_10a8_006a >> 0x10),3);
        _PTR_DAT_10a8_0000_10a8_006a = (int *)0x0;
      }
      else {
        FUN_1040_1e24();
        if ((DAT_10a8_59a9 & 0xfc) != 0x80) {
LAB_1040_0759:
          FUN_1040_1f9c();
          FUN_1018_50b2(2,0x10);
          goto LAB_1040_076b;
        }
        local_2a = DAT_10a8_7d64 + _DAT_10a8_7d66;
        local_20 = DAT_10a8_7d64;
        if (1000 < (int)local_2a) {
          local_2a = (undefined *)((int)s__s___s_computer_player__10a8_03d3 + 0x15);
        }
        puVar21 = local_2a;
        if ((int)local_2a < 1) {
          puVar21 = (undefined *)&DAT_10a8_0001;
        }
        puVar14 = FUN_1038_0232((int)puVar21 * 0x3c,3);
        _PTR_DAT_10a8_0000_10a8_006a = (int *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,puVar14);
        FUN_1040_1e24();
        local_14 = (undefined *)0x0;
        local_12 = _PTR_DAT_10a8_0000_10a8_006a;
        if (0 < (int)DAT_10a8_7d64) {
          uVar17 = (uint)_PTR_DAT_10a8_0000_10a8_006a;
          do {
            if (((DAT_10a8_59a9 & 0xfc) != 0x38) && ((DAT_10a8_59a9 & 0xfc) != 0x3c)) {
              local_12 = (int *)((ulong)local_12 & 0xffff0000 | (ulong)uVar17);
              goto LAB_1040_0759;
            }
            uVar9 = (ulong)local_12 & 0xffff0000;
            local_12 = (int *)(uVar9 | uVar17);
            iVar12 = FUN_1040_1062((int)puVar26,(uint *)(uVar9 | uVar17),1,0);
            if (iVar12 == 0) goto LAB_1040_0759;
            if ((undefined *)*(int *)((int)(int *)local_12 + 2) == puVar26) {
              *(undefined2 *)((int)(int *)local_12 + 2) = 0xffff;
              *(undefined2 *)((int)(int *)local_12 + 4) =
                   (int)CONCAT31((uint3)(byte)((uint)*(undefined2 *)((int)(int *)local_12 + 4) >> 8)
                                 ,3);
            }
            FUN_1040_1e24();
            uVar17 = (int)(int *)local_12 + 0x3c;
            local_14 = local_14 + 1;
          } while ((int)local_14 < (int)DAT_10a8_7d64);
          local_12 = (int *)((ulong)local_12 & 0xffff0000 | (ulong)uVar17);
        }
        if ((DAT_10a8_59a9 & 0xfc) == 0x84) {
          if (PTR_PTR_DAT_10a8_0000_10a8_0018_10a8_1042 <
              (undefined *)(_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8))
          goto LAB_1040_0759;
          puVar25 = (undefined2 *)&DAT_10a8_83ae;
          puVar24 = (undefined2 *)&DAT_10a8_7d64;
          uVar17 = _DAT_10a8_59a8 & 1;
          for (uVar18 = (_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8) >> 1
              ; uVar18 != 0; uVar18 = uVar18 - 1) {
            puVar7 = puVar25;
            puVar25 = puVar25 + 1;
            puVar4 = puVar24;
            puVar24 = puVar24 + 1;
            *puVar7 = *puVar4;
          }
          for (uVar17 = (uint)(uVar17 != 0); uVar17 != 0; uVar17 = uVar17 - 1) {
            puVar7 = puVar25;
            puVar25 = (undefined2 *)((int)puVar25 + 1);
            puVar4 = puVar24;
            puVar24 = (undefined2 *)((int)puVar24 + 1);
            *(undefined *)puVar7 = *(undefined *)puVar4;
          }
          FUN_1040_1e24();
        }
        while ((DAT_10a8_59a9 & 0xfc) == 0x18) {
          local_14 = (undefined *)(int)(char)DAT_10a8_7d64;
          FUN_1040_01d4((undefined4 *)((int)local_14 * 0x76 + -0x77a2),(undefined2 *)&DAT_10a8_7d64)
          ;
          *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_8860 + (int)local_14 * 0x76) = 0;
          *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_8862 + (int)local_14 * 0x76) = 0;
          FUN_1040_1e24();
        }
        local_14 = (undefined *)0x0;
        while ((DAT_10a8_59a9 & 0xfc) == 0x68) {
          if (*(char *)((int)&DAT_10a8_885f + (int)local_14 * 0x76) == '\0') {
            pcVar20 = (char *)((int)&DAT_10a8_885f + (int)local_14 * 0x76);
            do {
              local_14 = local_14 + 1;
              pcVar20 = pcVar20 + 0x76;
            } while (*pcVar20 == '\0');
            local_6 = local_6 & 0xffff | ZEXT24(pcVar20) << 0x10;
          }
          in_stack_0000ffc0 = (ulong *)((int)local_14 * 4 + 0x72);
          if (*in_stack_0000ffc0 == 0) {
            puVar14 = FUN_1038_0232(0x870,7);
            *(uint **)in_stack_0000ffc0 = puVar14;
            *(undefined2 *)((int)in_stack_0000ffc0 + 2) = PTR_DAT_10a8_0000_10a8_006c;
            uVar17 = 0;
            local_16 = 0;
            do {
              uVar9 = *in_stack_0000ffc0;
              pbVar1 = (byte *)(uVar17 + (int)uVar9 + 0x7c);
              *pbVar1 = *pbVar1 | 2;
              local_16 = local_16 + 1;
              uVar17 = uVar17 + 0x87;
            } while ((int)uVar17 < 0x870);
            local_6 = local_6 & 0xffff | (ulong)uVar17 << 0x10;
          }
          local_18 = PTR_DAT_10a8_0001_10a8_00c0;
          if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) {
            PTR_DAT_10a8_0001_10a8_00c0 = local_14;
          }
          FUN_1040_0000((undefined2 *)&DAT_10a8_7d64,(int)s_From___s_c_c_10a8_10a2 + 6,
                        *in_stack_0000ffc0);
          PTR_DAT_10a8_0001_10a8_00c0 = local_18;
          pcVar2 = (char *)((int)&DAT_10a8_885f + (int)local_14 * 0x76);
          *pcVar2 = *pcVar2 + -1;
          FUN_1040_1e24();
        }
        if ((DAT_10a8_59a9 & 0xfc) == 0xa4) {
          if (_PTR_DAT_10a8_0000_10a8_4b84 == 0) {
            puVar14 = FUN_1038_0232(0x1fa0,6);
            _PTR_DAT_10a8_0000_10a8_4b84 = CONCAT22(PTR_DAT_10a8_0000_10a8_006c,puVar14);
            if (((uint)PTR_DAT_10a8_0000_10a8_006c | (uint)puVar14) == 0) goto LAB_1040_0759;
          }
          local_6 = _PTR_DAT_10a8_0000_10a8_4b84;
          while ((DAT_10a8_59a9 & 0xfc) == 0xa4) {
            FUN_10a0_0ac6(local_6,&DAT_10a8_7d64,
                          _DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8);
            local_6 = local_6 & 0xffff0000 |
                      (ulong)((int)(ulong *)local_6 +
                             (_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8)
                             );
            FUN_1040_1e24();
          }
        }
        do {
        } while ((DAT_10a8_59a9 & 0xfc) == 0x68);
        FUN_1040_1f9c();
      }
      PTR_DAT_10a8_0000_10a8_0a30 = puVar19;
      FUN_1040_1ab6(local_28);
      iVar12 = FUN_1040_1ae4(local_24 | local_28,(int)puVar26,0x20);
      if (iVar12 != 0) {
        if (puVar26 == (undefined *)0xffff) {
          _DAT_10a8_0a48 = _DAT_10a8_0a48 ^ ((byte)PTR_DAT_10a8_0000_10a8_7d73 ^ DAT_10a8_0a48) & 8;
        }
        do {
          local_2c = local_2c + 1;
          PTR_DAT_10a8_0000_10a8_7d52 = (undefined *)0x0;
          PTR_DAT_10a8_0000_10a8_83c6 = (undefined *)0x0;
          while( true ) {
            FUN_1040_1e24();
            if (((DAT_10a8_59a9 & 0xfc) != 0x7c) &&
               (puVar19 = PTR_DAT_10a8_0000_10a8_006c, (DAT_10a8_59a9 & 0xfc) != 0x9c)) break;
            if (_PTR_DAT_10a8_0000_10a8_4444 == 0) {
              puVar14 = FUN_1038_0232(-0x38,6);
              _PTR_DAT_10a8_0000_10a8_4444 = CONCAT22(PTR_DAT_10a8_0000_10a8_006c,puVar14);
              _PTR_DAT_10a8_0000_10a8_4448 = CONCAT22(PTR_DAT_10a8_0000_10a8_006c,puVar14);
            }
            if (PTR_DAT_10a8_0000_10a8_4448 <
                (undefined *)
                (-0x38 - ((_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8) -
                         (int)PTR_DAT_10a8_0000_10a8_4444))) {
              FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_4448,&DAT_10a8_7d64,
                            _DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8);
              _PTR_DAT_10a8_0000_10a8_4448 =
                   _PTR_DAT_10a8_0000_10a8_4448 & 0xffff0000 |
                   ZEXT24(PTR_DAT_10a8_0000_10a8_4448 +
                          (_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8));
            }
          }
          while ((DAT_10a8_59a9 & 0xfc) == 0x18) {
            local_14 = (undefined *)(int)(char)DAT_10a8_7d64;
            FUN_1040_01d4((undefined4 *)((int)local_14 * 0x76 + -0x77a2),
                          (undefined2 *)&DAT_10a8_7d64);
            iVar12 = (int)local_14 * 0x76;
            PTR_DAT_10a8_0000_10a8_7d52 =
                 PTR_DAT_10a8_0000_10a8_7d52 + *(int *)((int)&PTR_DAT_10a8_0000_10a8_8860 + iVar12);
            *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_8860 + iVar12) = 0;
            PTR_DAT_10a8_0000_10a8_83c6 =
                 PTR_DAT_10a8_0000_10a8_83c6 + *(int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + iVar12);
            *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_8862 + iVar12) = 0;
            FUN_1040_1e24();
          }
          if (local_28 == 2) {
            DAT_10a8_59a9 = (byte)(_DAT_10a8_59a8 >> 8);
            if ((DAT_10a8_59a9 & 0xfc) == 0x90) {
              _PTR_DAT_10a8_0000_10a8_024c = _DAT_10a8_7d64;
              FUN_1040_1e24();
            }
            else {
              _PTR_DAT_10a8_0000_10a8_024c = 0;
            }
          }
          else {
            _PTR_DAT_10a8_0000_10a8_024c = *(ulong *)((int)puVar26 * 0x76 + -0x7796);
          }
          piVar15 = FUN_1010_26a0();
          if (piVar15 == (int16 *)0x0) break;
          FUN_1010_77be();
          FUN_1038_01fc(5);
          FUN_1038_01fc(0);
          FUN_1038_04ca((uint)_PTR_DAT_10a8_0000_10a8_006e,
                        (uint)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10),6);
          _PTR_DAT_10a8_0000_10a8_006e = 0;
          if (((uint)PTR_DAT_10a8_0000_10a8_006c | (uint)PTR_DAT_10a8_0000_10a8_006a) == 0) {
            local_2a = PTR_DAT_10a8_0000_10a8_7d52;
            if ((int)PTR_DAT_10a8_0000_10a8_7d52 < 1) {
              local_2a = (undefined *)&DAT_10a8_0001;
            }
            puVar14 = FUN_1038_0232((int)local_2a * 0x3c,3);
            _PTR_DAT_10a8_0000_10a8_006a = (int *)CONCAT22(puVar19,puVar14);
          }
          local_12 = _PTR_DAT_10a8_0000_10a8_006a;
          local_16 = 0;
          local_14 = (undefined *)0x0;
          if (0 < (int)PTR_DAT_10a8_0000_10a8_7d52) {
            local_6 = local_6 & 0xffff | (ulong)(uint)((int)local_2a * 0x3c) << 0x10;
            do {
              local_1a = 0;
              if (local_20 != (undefined *)0x0) {
                if (local_16 < (int)local_20) {
                  in_stack_0000ffbe = ((int)DAT_10a8_7d64 << 5) >> 5;
                  do {
                    if (in_stack_0000ffbe <= *(int *)local_12) break;
                    local_12._0_2_ = (int *)local_12 + 0x1e;
                    local_16 = local_16 + 1;
                  } while (local_16 < (int)local_20);
                  local_12 = (int *)((ulong)local_12 & 0xffff0000 | ZEXT24((int *)local_12));
                }
                if ((local_16 < (int)local_20) && (((int)DAT_10a8_7d64 << 5) >> 5 == *local_12)) {
                  local_1a = 1;
                }
                else {
                  local_12._2_2_ = puVar19;
                  if (local_2a == local_20) {
                    local_6 = local_6 & 0xffff | (ulong)((int)local_6._2_2_ + 0x1e0U) << 0x10;
                    local_2a = local_2a + 8;
                    iVar12 = FUN_1038_03ec(_PTR_DAT_10a8_0000_10a8_006a,
                                           CONCAT22(3,(int)local_6._2_2_ + 0x1e0U));
                    _PTR_DAT_10a8_0000_10a8_006a = (int *)CONCAT22(puVar19,iVar12);
                    local_12._0_2_ = (int *)(local_16 * 0x3c + iVar12);
                    local_12 = (int *)(ZEXT24(puVar19) << 0x10);
                    local_12._2_2_ = puVar19;
                  }
                  piVar3 = local_12;
                  if (local_16 < (int)local_20) {
                    uVar9 = (ulong)local_12 & 0xffff0000;
                    local_12 = (int *)(uVar9 | ZEXT24((int *)local_12));
                    local_12._2_2_ = (undefined *)(uVar9 >> 0x10);
                    FUN_10a0_0ac6(uVar9 | ZEXT24((int *)local_12 + 0x1e),
                                  (ulong)piVar3 & 0xff000000 |
                                  (ulong)CONCAT12((char)(uVar9 >> 0x10),(int *)local_12),
                                  ((int)local_20 - local_16) * 0x3c);
                  }
                  local_20 = local_20 + 1;
                  puVar19 = local_12._2_2_;
                }
              }
              uVar9 = (ulong)local_12 & 0xffff0000;
              local_12 = (int *)(uVar9 | ZEXT24((int *)local_12));
              iVar12 = FUN_1040_1062((int)puVar26,(uint *)(uVar9 | ZEXT24((int *)local_12)),0,
                                     local_1a);
              if (iVar12 == 0) goto LAB_1040_0ef4;
              uVar27 = (undefined2)((ulong)local_12 >> 0x10);
              if (*(int *)((int)local_12 + 2) != -1) {
                piVar3 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8860 +
                                *(int *)((int)local_12 + 2) * 0x76);
                *piVar3 = *piVar3 + 1;
              }
              FUN_1040_1e24();
              if ((DAT_10a8_59a9 & 0xfc) == 0x70) {
                uVar27 = (undefined2)((ulong)local_12 >> 0x10);
                iVar12 = (int)local_12;
                if ((*(long *)(iVar12 + 0x38) != 0) &&
                   (uVar10 = *(undefined4 *)(iVar12 + 0x38),
                   (uint)*(byte *)((int)uVar10 + 2) <= (_DAT_10a8_59a8 & 0x3fc) >> 2)) {
                  uVar10 = *(undefined4 *)(iVar12 + 0x38);
                  FUN_1038_05b8((uint)uVar10,(uint)((ulong)uVar10 >> 0x10));
                  *(undefined4 *)((int)local_12 + 0x38) = 0;
                }
                if (*(long *)((int)local_12 + 0x38) == 0) {
                  puVar14 = FUN_1038_0562(4,((_DAT_10a8_59a8 & 0x3fc) >> 2) + 2,0);
                  uVar27 = (undefined2)((ulong)local_12 >> 0x10);
                  *(uint **)((int)local_12 + 0x38) = puVar14;
                  *(undefined2 *)((int)local_12 + 0x3a) = puVar19;
                }
                uVar9 = *(ulong *)((int)local_12 + 0x38);
                FUN_10a0_0ac6(uVar9 & 0xffff0000 | (ulong)((int)uVar9 + 4),&DAT_10a8_7d64,
                              _DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8)
                ;
                uVar10 = *(undefined4 *)((int)local_12 + 0x38);
                *(undefined *)((int)uVar10 + 3) = (char)(_DAT_10a8_59a8 >> 2);
                FUN_1040_1e24();
              }
              if (local_20 == (undefined *)0x0) {
                local_12 = (int *)((ulong)local_12 & 0xffff0000 |
                                  (ulong)((int)(int *)local_12 + 0x3c));
              }
              local_14 = local_14 + 1;
            } while ((int)local_14 < (int)PTR_DAT_10a8_0000_10a8_7d52);
          }
          if (local_20 != (undefined *)0x0) {
            PTR_DAT_10a8_0000_10a8_7d52 = local_20;
          }
          local_14 = (undefined *)0x0;
          if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
            local_a = CONCAT22(0x885f,(undefined2)local_a);
            local_6._0_2_ = (ulong *)&PTR_DAT_10a8_0000_10a8_0072;
            do {
              if (local_14 == puVar26) {
                *(int *)(ulong *)local_6 = (int)&PTR_DAT_10a8_0000_10a8_71e6;
                *(int *)((int)(ulong *)local_6 + 2) = (int)s_From___s_c_c_10a8_10a2 + 6;
LAB_1040_0b9d:
                iVar12 = 0;
                do {
                  uVar9 = *(ulong *)local_6;
                  pbVar1 = (byte *)(iVar12 + (int)uVar9 + 0x7c);
                  *pbVar1 = *pbVar1 | 2;
                  iVar12 = iVar12 + 0x87;
                } while (iVar12 < 0x870);
                local_6 = CONCAT22(iVar12,(ulong *)local_6);
LAB_1040_0bb9:
                local_18 = PTR_DAT_10a8_0001_10a8_00c0;
                if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) {
                  PTR_DAT_10a8_0001_10a8_00c0 = local_14;
                }
                local_16 = 0;
                if ('\0' < *local_a._2_2_) {
                  do {
                    if ((DAT_10a8_59a9 & 0xfc) != 0x68) {
                      PTR_DAT_10a8_0001_10a8_00c0 = local_18;
                      goto LAB_1040_0ef4;
                    }
                    FUN_1040_0000((undefined2 *)&DAT_10a8_7d64,(int)s_From___s_c_c_10a8_10a2 + 6,
                                  *(ulong *)local_6);
                    FUN_1040_1e24();
                    local_16 = local_16 + 1;
                  } while (local_16 < *local_a._2_2_);
                }
                PTR_DAT_10a8_0001_10a8_00c0 = local_18;
              }
              else if ((*(byte *)((int)local_a._2_2_ + 6) & 1) != 0) {
                if (*(ulong *)local_6 == 0) {
                  local_6 = local_6 & 0xffff0000 | ZEXT24((ulong *)local_6);
                  puVar14 = FUN_1038_0232(0x870,7);
                  *(uint **)(ulong *)local_6 = puVar14;
                  *(undefined2 *)((int)(ulong *)local_6 + 2) = puVar19;
                  goto LAB_1040_0b9d;
                }
                local_6 = local_6 & 0xffff0000 | ZEXT24((ulong *)local_6);
                goto LAB_1040_0bb9;
              }
              local_a = local_a & 0xffff | (ulong)((int)local_a._2_2_ + 0x76) << 0x10;
              local_6._0_2_ = (ulong *)local_6 + 1;
              local_14 = local_14 + 1;
            } while ((int)local_14 < (int)PTR_DAT_10a8_0002_10a8_0038);
            local_6 = local_6 & 0xffff0000 | ZEXT24((ulong *)local_6);
          }
          local_14 = (undefined *)0x0;
          if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
            pcVar20 = (char *)&DAT_10a8_885f;
            local_6 = CONCAT22(local_6._2_2_,0x72);
            do {
              *pcVar20 = '\0';
              if (*(ulong *)local_6 != 0) {
                puVar19 = (undefined *)0x0;
                uVar17 = 0;
                local_a = local_a & 0xffff;
                local_16 = 0;
                do {
                  lVar11 = *(ulong *)local_6;
                  in_stack_0000ffbc = (undefined2)((ulong)lVar11 >> 0x10);
                  iVar12 = (int)lVar11 + uVar17;
                  in_stack_0000ffba = iVar12 + 0x7b;
                  if ((*(byte *)(iVar12 + 0x7c) & 2) == 0) {
                    if (((local_14 == PTR_DAT_10a8_0001_10a8_00c0) || ((DAT_10a8_0a46 & 2) != 0)) ||
                       ((pcVar20[0x43] & 0x40U) == 0)) {
                      pcVar2 = pcVar20;
                      *pcVar2 = *pcVar2 + '\x01';
                    }
                    else {
                      pbVar1 = (byte *)(iVar12 + 0x7c);
                      *pbVar1 = *pbVar1 | 2;
                    }
                  }
                  local_16 = local_16 + 1;
                  uVar17 = uVar17 + 0x87;
                } while ((int)uVar17 < 0x870);
                local_6 = local_6 & 0xffff | (ulong)uVar17 << 0x10;
              }
              pcVar20 = pcVar20 + 0x76;
              local_6 = local_6 & 0xffff0000 | (ulong)((int)(ulong *)local_6 + 4);
              local_14 = local_14 + 1;
            } while ((int)local_14 < (int)PTR_DAT_10a8_0002_10a8_0038);
            local_a = local_a & 0xffff | ZEXT24(pcVar20) << 0x10;
          }
          puVar21 = PTR_DAT_10a8_0000_10a8_83c6;
          if ((int)PTR_DAT_10a8_0000_10a8_83c6 < 1) {
            puVar21 = (undefined *)&DAT_10a8_0001;
          }
          puVar14 = FUN_1038_0232((int)puVar21 << 2,6);
          _PTR_DAT_10a8_0000_10a8_006e = CONCAT22(puVar19,puVar14);
          local_14 = (undefined *)0x0;
          if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
            uVar17 = 0;
            do {
              local_6 = local_6 & 0xffff | (ulong)uVar17 << 0x10;
              puVar14 = FUN_1038_0232(0x74,5);
              uVar27 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
              iVar12 = (int)_PTR_DAT_10a8_0000_10a8_006e;
              *(uint **)(iVar12 + (int)local_6._2_2_) = puVar14;
              *(undefined2 *)(iVar12 + (int)local_6._2_2_ + 2) = puVar19;
              uVar27 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
              puVar24 = (undefined2 *)((int)_PTR_DAT_10a8_0000_10a8_006e + (int)local_6._2_2_);
              puVar22 = (undefined4 *)*puVar24;
              puVar19 = (undefined *)puVar24[1];
              local_a = CONCAT22(puVar19,puVar22);
              iVar12 = FUN_1040_148a(puVar22,puVar19);
              if (iVar12 == 0) goto LAB_1040_104d;
              piVar3 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + *(int *)((int)local_a + 2) * 0x76
                              );
              *piVar3 = *piVar3 + 1;
              FUN_1040_1e24();
              uVar17 = (int)local_6._2_2_ + 4;
              local_6 = local_6 & 0xffff | (ulong)uVar17 << 0x10;
              local_14 = local_14 + 1;
            } while ((int)local_14 < (int)PTR_DAT_10a8_0000_10a8_83c6);
          }
          if ((DAT_10a8_59a9 & 0xfc) == 0x58) {
            FUN_1040_1e24();
          }
          while ((DAT_10a8_59a9 & 0xfc) == 0x78) {
            local_6._2_2_ = (uint *)((uint)DAT_10a8_7d64 & 0xf);
            if ((*(uint *)((int)local_6._2_2_ * 4 + -0x77fa) |
                *(uint *)((int)local_6._2_2_ * 4 + -0x77fc)) == 0) {
              local_6 = local_6 & 0xffff | (_DAT_10a8_7d64 & 0xf) << 0x10;
              puVar14 = FUN_1038_0232(0x2e0,7);
              *(uint **)((int)local_6._2_2_ * 4 + -0x77fc) = puVar14;
              *(undefined2 *)((int)local_6._2_2_ * 4 + -0x77fa) = puVar19;
            }
            bVar29 = *(byte *)((int)&DAT_10a8_7a56 + (int)local_6._2_2_);
            pcVar2 = (char *)((int)&DAT_10a8_7a56 + (int)local_6._2_2_);
            *pcVar2 = *pcVar2 + '\x01';
            local_6._0_2_ = (ulong *)CONCAT11(bVar29,(undefined)local_6);
            uVar9 = *(ulong *)((int)local_6._2_2_ * 4 + -0x77fc);
            FUN_1040_16fc((byte *)&DAT_10a8_7d64,
                          uVar9 & 0xffff0000 | (ulong)((int)uVar9 + (uint)bVar29 * 0x2e));
            FUN_1040_1e24();
          }
          if ((_DAT_10a8_59a8 & 0xfc00) != 0) {
LAB_1040_0ef4:
            bVar29 = 3;
            goto LAB_1040_1045;
          }
          uVar17 = FUN_10a0_039a(DAT_10a8_1030);
          puVar21 = puVar19;
          uVar18 = FUN_10a0_03b6(DAT_10a8_1030);
          if ((uVar17 == uVar18) && (puVar19 == puVar21)) goto LAB_1040_0f0c;
          FUN_1040_1e24();
          puVar19 = PTR_DAT_10a8_0002_10a8_0038;
          if ((DAT_10a8_59a9 & 0xfc) != 0x20) goto LAB_1040_0efe;
          PTR_DAT_10a8_0000_10a8_0042 = _DAT_10a8_7d6e;
          local_14 = (undefined *)0x0;
          if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
            puVar21 = (undefined *)&DAT_10a8_885f;
            puVar24 = (undefined2 *)&DAT_10a8_7a56;
            uVar17 = (uint)PTR_DAT_10a8_0002_10a8_0038 & 1;
            for (uVar18 = (uint)PTR_DAT_10a8_0002_10a8_0038 >> 1; uVar18 != 0; uVar18 = uVar18 - 1)
            {
              puVar4 = puVar24;
              puVar24 = puVar24 + 1;
              *puVar4 = 0;
            }
            if (uVar17 != 0) {
              *(undefined *)puVar24 = 0;
            }
            local_14 = (undefined *)0x0;
            do {
              *puVar21 = 0;
              *(undefined2 *)(puVar21 + 3) = 0;
              *(undefined2 *)(puVar21 + 1) = 0;
              puVar21 = puVar21 + 0x76;
              local_14 = local_14 + 1;
              puVar19 = puVar19 + -1;
            } while (puVar19 != (undefined *)0x0);
          }
          local_12 = (int *)(ZEXT24(PTR_DAT_10a8_0000_10a8_006c) << 0x10);
          local_12._2_2_ = PTR_DAT_10a8_0000_10a8_006c;
          local_6 = (ulong)_PTR_DAT_10a8_0000_10a8_006a & 0xffff0000 |
                    ZEXT24(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
          local_12._0_2_ = (int *)PTR_DAT_10a8_0000_10a8_006a;
          if (PTR_DAT_10a8_0000_10a8_006a <
              PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c) {
            do {
              if ((undefined *)*(int *)((int)(int *)local_12 + 2) == puVar26) {
                *(undefined2 *)((int)(int *)local_12 + 2) = 0xffff;
                *(undefined2 *)((int)(int *)local_12 + 4) =
                     (int)CONCAT31((uint3)(byte)((uint)*(undefined2 *)((int)(int *)local_12 + 4) >>
                                                8),3);
                if (*(long *)((int)(int *)local_12 + 0x38) != 0) {
                  uVar9 = (ulong)local_12 & 0xffff0000;
                  local_12 = (int *)(uVar9 | ZEXT24((int *)local_12));
                  local_12._2_2_ = (undefined *)(uVar9 >> 0x10);
                  uVar10 = *(undefined4 *)((int)(int *)local_12 + 0x38);
                  FUN_1038_05b8((uint)uVar10,(uint)((ulong)uVar10 >> 0x10));
                  *(undefined4 *)((int)(int *)local_12 + 0x38) = 0;
                }
              }
              PTR_DAT_10a8_0000_10a8_006a = (undefined *)((int)(int *)local_12 + 0x3c);
              local_12._0_2_ = (int *)PTR_DAT_10a8_0000_10a8_006a;
            } while (PTR_DAT_10a8_0000_10a8_006a < (ulong *)local_6);
          }
          local_12 = (int *)CONCAT22(local_12._2_2_,PTR_DAT_10a8_0000_10a8_006a);
          local_20 = PTR_DAT_10a8_0000_10a8_7d52;
        } while( true );
      }
      goto LAB_1040_104d;
    }
  }
LAB_1040_103f:
  bVar29 = 0;
LAB_1040_1045:
  FUN_1018_50b2((uint)bVar29,0x10);
LAB_1040_104d:
  PTR_DAT_10a8_0000_10a8_003e = (undefined *)0x0;
  FUN_1040_190c();
  FUN_1040_1f9c();
  return 0;
LAB_1040_0efe:
  FUN_1018_50b2(0x188,0x10);
LAB_1040_0f0c:
  FUN_1040_1f9c();
  if (1 < local_2c) {
    uVar27 = FUN_1018_5112(0x172);
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar27,0x10a8),
              (LPCSTR)CONCAT22(local_2c,0x10a8),unaff_SI);
    HVar16 = GETFOCUS();
    MESSAGEBOX((int16 *)&PTR_DAT_10a8_0000_10a8_0040,0xa34,(LPCSTR)0x86de10a8,
               (LPCSTR)CONCAT22(HVar16,0x10a8),
               (uint16)CONCAT412(in_stack_0000ffc2,
                                 CONCAT210(in_stack_0000ffc0,
                                           CONCAT28(in_stack_0000ffbe,
                                                    CONCAT26(in_stack_0000ffbc,
                                                             CONCAT24(in_stack_0000ffba,
                                                                      CONCAT22(unaff_DI,unaff_SI))))
                                          )));
  }
  uVar17 = FUN_10a0_04bc(param_2,(byte *)0xa3b,3);
  if (uVar17 == 0) goto LAB_1040_1017;
  if ((_DAT_10a8_0a48 & 0x10) == 0) {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xa3f10a8,(LPCSTR)CONCAT22(param_1,0x10a8),
              (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
    iVar12 = FUN_1020_5848((int)&DAT_10a8_86de);
    if ((iVar12 == 0) || (uVar17 = FUN_1020_48b0(), uVar17 == 0)) {
      bVar29 = 1;
      goto LAB_1040_1045;
    }
  }
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    iVar12 = (int)&PTR_DAT_10a8_0000_10a8_8862;
    puVar19 = PTR_DAT_10a8_0002_10a8_0038;
    do {
      *(undefined4 *)(iVar12 + -2) = 0;
      iVar12 = iVar12 + 0x76;
      puVar19 = puVar19 + -1;
    } while (puVar19 != (undefined *)0x0);
  }
  puVar19 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
  for (; PTR_DAT_10a8_0000_10a8_006a < puVar19;
      PTR_DAT_10a8_0000_10a8_006a = PTR_DAT_10a8_0000_10a8_006a + 0x3c) {
    if (*(int *)(PTR_DAT_10a8_0000_10a8_006a + 2) != -1) {
      piVar3 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8860 +
                      *(int *)(PTR_DAT_10a8_0000_10a8_006a + 2) * 0x76);
      *piVar3 = *piVar3 + 1;
    }
    iVar28 = unaff_SS;
  }
  iVar12 = 0;
  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
    uVar10 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
    uVar27 = (undefined2)((ulong)uVar10 >> 0x10);
    puVar14 = (uint *)uVar10;
    do {
      uVar17 = *puVar14;
      uVar18 = puVar14[1];
      iVar28 = unaff_SS;
      if ((uVar18 | uVar17) == 0) break;
      piVar3 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + *(int *)(uVar17 + 2) * 0x76);
      *piVar3 = *piVar3 + 1;
      puVar14 = puVar14 + 2;
      iVar12 = iVar12 + 1;
      piVar3 = (int *)&PTR_DAT_10a8_0000_10a8_83c6;
    } while (*piVar3 != iVar12 && iVar12 <= *piVar3);
  }
LAB_1040_1017:
  *(undefined2 *)&PTR_DAT_10a8_0001_10a8_00c0 = puVar26;
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1040_1062(int param_1,uint *param_2,int param_3,int param_4)

{
  byte *pbVar1;
  undefined2 *puVar2;
  ulong *puVar3;
  uint *puVar4;
  undefined4 *puVar5;
  bool bVar6;
  byte bVar7;
  uint uVar8;
  int iVar9;
  undefined4 *puVar10;
  uint *puVar11;
  int iVar12;
  uint uVar13;
  undefined4 *local_c;
  int local_a;
  byte bStack_7;
  uint local_6;
  int local_4;

  bVar6 = false;
  if (param_4 == 0) {
    puVar10 = (undefined4 *)param_2;
    for (iVar9 = 0xf; iVar9 != 0; iVar9 = iVar9 + -1) {
      puVar5 = puVar10;
      puVar10 = puVar10 + 1;
      *puVar5 = 0;
    }
  }
  if ((param_3 == 0) && (param_1 != -1)) {
    if (param_4 == 0) {
      bVar6 = true;
      pbVar1 = (byte *)((int)(undefined4 *)param_2 + 5);
      *pbVar1 = *pbVar1 | 0x10;
    }
    else if ((*(byte *)((int)(undefined4 *)param_2 + 5) & 0x10) != 0) {
      if ((undefined *)*(int *)((int)(undefined4 *)param_2 + 0x36) == PTR_DAT_10a8_0000_10a8_0042) {
        bVar6 = true;
      }
      else {
        pbVar1 = (byte *)((int)(undefined4 *)param_2 + 5);
        *pbVar1 = *pbVar1 & 0xef;
      }
    }
  }
  else {
    puVar5 = (undefined4 *)param_2 + 1;
    *(uint *)puVar5 =
         *(uint *)puVar5 ^
         ((byte)(*(byte *)((int)(undefined4 *)param_2 + 5) ^
                (byte)((ulong)(_DAT_10a8_7d66 >> 3) >> 8)) & 0x10) << 8;
  }
  *param_2 = (DAT_10a8_7d64 << 5) >> 5;
  *(int *)((int)(undefined4 *)param_2 + 2) = DAT_10a8_7d64 >> 0xb;
  puVar5 = (undefined4 *)param_2 + 1;
  *(uint *)puVar5 = *(uint *)puVar5 | _DAT_10a8_7d66 & 0xff;
  puVar5 = (undefined4 *)param_2 + 1;
  *(uint *)puVar5 =
       *(uint *)puVar5 ^ ((*(byte *)((int)(undefined4 *)param_2 + 5) ^ DAT_10a8_7d67) & 1) << 8;
  puVar5 = (undefined4 *)param_2 + 1;
  *(uint *)puVar5 =
       *(uint *)puVar5 ^ ((*(byte *)((int)(undefined4 *)param_2 + 5) ^ DAT_10a8_7d67) & 2) << 8;
  if (param_3 == 0) {
    *(undefined2 *)((int)(undefined4 *)param_2 + 0x36) = PTR_DAT_10a8_0000_10a8_0042;
  }
  if ((DAT_10a8_59a9 & 0xfc) == 0x3c) {
    if (param_3 != 0) {
      *(uint *)((int)(undefined4 *)param_2 + 0x36) = DAT_10a8_7d68;
      return 1;
    }
    if (!bVar6) {
      return 1;
    }
    if (*(int *)((int)(undefined4 *)param_2 + 2) == -1) {
      uVar8 = *param_2;
      uVar13 = 0xae;
    }
    else {
      uVar8 = *param_2;
      uVar13 = 0xab;
    }
    FUN_1010_6d40(uVar13,uVar8);
    return 1;
  }
  uVar8 = DAT_10a8_7d68 & 0xff;
  local_4 = 0;
  puVar11 = (uint *)((int)(undefined4 *)param_2 + 6);
  puVar10 = (undefined4 *)((int)&DAT_10a8_7d68 + 1);
  do {
    bStack_7 = (byte)uVar8;
    bVar7 = bStack_7 & 3;
    if ((uVar8 & 3) == 0) {
      *puVar11 = 0;
    }
    else {
      if (bVar7 == 1) {
        puVar5 = puVar10;
        puVar10 = (undefined4 *)((int)puVar10 + 1);
        uVar8 = (uint)*(byte *)puVar5;
      }
      else {
        if (bVar7 != 2) {
          if (bVar7 == 3) {
            return 0;
          }
          goto LAB_1040_11d0;
        }
        puVar5 = puVar10;
        puVar10 = (undefined4 *)((int)puVar10 + 2);
        uVar8 = *(uint *)puVar5;
      }
      *puVar11 = uVar8;
    }
LAB_1040_11d0:
    puVar11 = puVar11 + 1;
    uVar8 = (uint)(bStack_7 >> 2);
    local_4 = local_4 + 1;
  } while (local_4 < 4);
  local_c = puVar10 + 1;
  *(undefined4 *)((int)(undefined4 *)param_2 + 0xe) = *puVar10;
  iVar9 = 0;
  do {
    if ('d' < *(char *)((int)(undefined4 *)param_2 + iVar9 + 0xe)) {
      return 0;
    }
    iVar9 = iVar9 + 1;
  } while (iVar9 < 4);
  iVar9 = 0;
  do {
    if (100 < *(byte *)local_c) {
      return 0;
    }
    puVar5 = local_c;
    local_c = (undefined4 *)((int)local_c + 1);
    *(byte *)((int)(undefined4 *)param_2 + iVar9 + 0x15) = *(byte *)puVar5;
    iVar12 = iVar9 + 1;
    *(undefined *)((int)(undefined4 *)param_2 + iVar9 + 0x12) =
         *(undefined *)((int)(undefined4 *)param_2 + iVar9 + 0x15);
    iVar9 = iVar12;
  } while (iVar12 < 3);
  if ((_DAT_10a8_7d66 & 0x400) != 0) {
    iVar9 = 0;
    do {
      if (100 < *(byte *)local_c) {
        return 0;
      }
      *(byte *)((int)(undefined4 *)param_2 + iVar9 + 0x15) = *(byte *)local_c;
      local_c = (undefined4 *)((int)local_c + 1);
      iVar9 = iVar9 + 1;
    } while (iVar9 < 3);
  }
  if ((DAT_10a8_7d64._1_1_ & 0xf8) != 0xf8) {
    *(undefined2 *)((undefined4 *)param_2 + 6) = *(undefined2 *)local_c;
    local_c = (undefined4 *)((int)local_c + 2);
  }
  if (param_3 == 0) {
    if (bVar6) {
      if (*(int *)((int)(undefined4 *)param_2 + 2) == -1) {
        iVar9 = FUN_1020_3626((int)(undefined4 *)param_2,param_2._2_2_,param_1);
        if (iVar9 < 1) {
          iVar9 = FUN_1020_3506((int)(undefined4 *)param_2,param_2._2_2_,param_1);
          if (iVar9 < 1) {
            local_6 = 0xac;
          }
          else {
            local_6 = 0xaf;
          }
        }
        else {
          local_6 = 0xad;
        }
        uVar8 = *param_2;
      }
      else if (*(int *)((int)(undefined4 *)param_2 + 2) == param_1) {
        if ((*(uint *)((int)&PTR_DAT_10a8_0000_10a8_8865 + 1 + param_1 * 0x76) != *param_2) ||
           (PTR_DAT_10a8_0000_10a8_0042 != (undefined *)0x0)) goto LAB_1040_1366;
        uVar8 = *param_2;
        local_6 = 0xaa;
      }
      else {
        uVar8 = *param_2;
        local_6 = 0xab;
      }
      FUN_1010_6d40(local_6,uVar8);
    }
  }
  else {
    *(undefined2 *)((int)(undefined4 *)param_2 + 0x36) = *(undefined2 *)local_c;
    local_c = (undefined4 *)((int)local_c + 2);
  }
LAB_1040_1366:
  if ((DAT_10a8_59a9 & 0xfc) != 0x38) {
    if ((DAT_10a8_59a9 & 0xfc) != 0x34) {
      return 0;
    }
    if ((_DAT_10a8_7d66 & 0x800) == 0) {
      uVar8 = *(uint *)((undefined4 *)param_2 + 8);
      puVar2 = (undefined2 *)((int)(undefined4 *)param_2 + 0x1e);
      *puVar2 = *puVar2;
      puVar5 = (undefined4 *)param_2 + 8;
      *(uint *)puVar5 =
           *(uint *)puVar5 ^
           ((int)((((ulong)DAT_10a8_7d67 & 0xffff10) << 8) >> 0xc) << 6 ^ uVar8) & 0x40;
      puVar3 = (ulong *)((int)(undefined4 *)param_2 + 0x1e);
      *puVar3 = *puVar3 | 0x3ff000;
    }
    else {
      FUN_10a0_0ac6((ulong)param_2 & 0xffff0000 | (ulong)((int)(undefined4 *)param_2 + 0x1a),
                    CONCAT22(0x10a8,local_c),8);
      local_c = local_c + 2;
    }
    if ((*(uint *)((undefined4 *)param_2 + 8) & 0x3e) == 0x3e) {
      puVar4 = (uint *)((int)(undefined4 *)param_2 + 0x1e);
      *puVar4 = *puVar4 & 0xf000;
    }
    if ((_DAT_10a8_7d66 & 0x2000) != 0) {
      bStack_7 = *(byte *)local_c;
      local_c = (undefined4 *)((int)local_c + 1);
      puVar10 = (undefined4 *)((int)(undefined4 *)param_2 + 0x22);
      local_a = 4;
      do {
        bVar7 = bStack_7 & 3;
        if ((bStack_7 & 3) == 0) {
          *puVar10 = 0;
        }
        else {
          if (bVar7 == 1) {
            puVar5 = local_c;
            local_c = (undefined4 *)((int)local_c + 1);
            uVar8 = (uint)*(byte *)puVar5;
          }
          else {
            if (bVar7 != 2) {
              if (bVar7 == 3) {
                puVar5 = local_c;
                local_c = local_c + 1;
                *puVar10 = *puVar5;
              }
              goto LAB_1040_144b;
            }
            puVar5 = local_c;
            local_c = (undefined4 *)((int)local_c + 2);
            uVar8 = *(uint *)puVar5;
          }
          *(uint *)puVar10 = uVar8;
          *(undefined2 *)((int)puVar10 + 2) = 0;
        }
LAB_1040_144b:
        puVar10 = puVar10 + 1;
        bStack_7 = bStack_7 >> 2;
        local_a = local_a + -1;
      } while (local_a != 0);
    }
    if (*(int *)((int)(undefined4 *)param_2 + 2) != -1) {
      if ((_DAT_10a8_7d66 & 0x4000) == 0) {
        uVar8 = *(uint *)local_c;
      }
      else {
        uVar8 = (uint)*(byte *)local_c;
      }
      *(uint *)((int)(undefined4 *)param_2 + 0x32) = uVar8;
      *(undefined2 *)((undefined4 *)param_2 + 0xd) = 0;
    }
  }
  return 1;
}



// WARNING: Removing unreachable block (ram,0x1040166e)
// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1040_148a(undefined4 *param_1,undefined2 param_2)

{
  undefined2 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  ulong uVar4;
  undefined4 uVar5;
  uint *puVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  undefined *puVar10;
  uint uVar11;
  undefined2 *puVar12;
  undefined4 *puVar13;
  undefined2 uVar14;
  uint *local_c;
  uint *local_a;
  undefined4 local_6;

  puVar9 = param_1;
  for (iVar7 = 0x1d; iVar7 != 0; iVar7 = iVar7 + -1) {
    puVar2 = puVar9;
    puVar9 = puVar9 + 1;
    *puVar2 = 0;
  }
  FUN_10a0_0ac6(CONCAT22(param_2,param_1),&DAT_10a8_7d64,0xc);
  local_c = (uint *)&DAT_10a8_7d72;
  if ((*(byte *)((int)param_1 + 5) & 8) == 0) {
    local_a = (uint *)&DAT_10a8_7d72;
    if (PTR_DAT_10a8_0000_10a8_7d70 != (undefined *)0x0) {
      puVar9 = param_1 + 3;
      puVar10 = PTR_DAT_10a8_0000_10a8_7d70;
      do {
        if (((uint)puVar10 & 1) != 0) {
          *(uint *)puVar9 = *local_a;
          local_a = local_a + 1;
        }
        puVar9 = (undefined4 *)((int)puVar9 + 2);
        puVar10 = (undefined *)((uint)puVar10 >> 1);
      } while (puVar10 != (undefined *)0x0);
    }
    local_c = local_a;
  }
  else if (PTR_DAT_10a8_0000_10a8_7d70 != (undefined *)0x0) {
    puVar9 = param_1 + 3;
    puVar10 = PTR_DAT_10a8_0000_10a8_7d70;
    do {
      if (((uint)puVar10 & 1) != 0) {
        *(uint *)puVar9 = (uint)*(byte *)local_c;
        local_c = (uint *)((int)local_c + 1);
      }
      puVar9 = (undefined4 *)((int)puVar9 + 2);
      puVar10 = (undefined *)((uint)puVar10 >> 1);
    } while (puVar10 != (undefined *)0x0);
  }
  if ((DAT_10a8_59a9 & 0xfc) != 0x44) {
    if ((DAT_10a8_59a9 & 0xfc) != 0x40) {
LAB_1040_16e8:
      FUN_1018_50b2(3,0x10);
      return 0;
    }
    uVar11 = *local_c;
    local_a = local_c + 1;
    if ((*(byte *)((int)param_1 + 5) & 0x10) == 0) {
      if (uVar11 != 0) {
        puVar9 = param_1 + 0xb;
        do {
          if ((uVar11 & 1) != 0) {
            *(uint *)puVar9 = *local_a;
            local_a = local_a + 1;
          }
          puVar9 = (undefined4 *)((int)puVar9 + 2);
          uVar11 = uVar11 >> 1;
        } while (uVar11 != 0);
      }
    }
    else if (uVar11 != 0) {
      puVar9 = param_1 + 0xb;
      local_c = local_a;
      do {
        if ((uVar11 & 1) != 0) {
          *(uint *)puVar9 = (uint)*(byte *)local_c;
          local_c = (uint *)((int)local_c + 1);
        }
        puVar9 = (undefined4 *)((int)puVar9 + 2);
        uVar11 = uVar11 >> 1;
        local_a = local_c;
      } while (uVar11 != 0);
    }
    puVar9 = (undefined4 *)(local_a + 1);
    puVar13 = param_1 + 0x13;
    local_6 = CONCAT22(*local_a,5);
    do {
      local_6._2_1_ = local_6._2_1_ & 3;
      if (local_6._2_1_ == 1) {
        puVar2 = puVar9;
        puVar9 = (undefined4 *)((int)puVar9 + 1);
        uVar11 = (uint)*(byte *)puVar2;
LAB_1040_15f9:
        *(uint *)puVar13 = uVar11;
        *(int *)((int)puVar13 + 2) = 0;
      }
      else {
        if (local_6._2_1_ == 2) {
          puVar2 = puVar9;
          puVar9 = (undefined4 *)((int)puVar9 + 2);
          uVar11 = *(uint *)puVar2;
          goto LAB_1040_15f9;
        }
        if (local_6._2_1_ == 3) {
          puVar2 = puVar9;
          puVar9 = puVar9 + 1;
          *puVar13 = *puVar2;
        }
      }
      puVar13 = puVar13 + 1;
      uVar11 = (int)local_6 - 1;
      local_6 = (local_6 >> 0x12) << 0x10 | (ulong)uVar11;
    } while (uVar11 != 0);
    *(byte *)(param_1 + 0x18) = *(byte *)puVar9;
    uVar11 = (uint)*(byte *)((int)puVar9 + 1);
    *(uint *)((int)param_1 + 0x62) = uVar11;
    uVar14 = param_2;
    puVar6 = FUN_1038_0562(0x12,uVar11 + 1,0);
    *(uint **)(param_1 + 0x19) = puVar6;
    *(undefined2 *)((int)param_1 + 0x66) = uVar14;
    uVar5 = param_1[0x19];
    puVar12 = (undefined2 *)((int)uVar5 + 4);
    for (uVar11 = (uint)((*(int *)((int)param_1 + 0x62) + 1) * 0x12) >> 1; uVar11 != 0;
        uVar11 = uVar11 - 1) {
      puVar1 = puVar12;
      puVar12 = puVar12 + 1;
      *puVar1 = 0;
    }
    uVar4 = param_1[0x19];
    local_6 = uVar4 & 0xffff0000 | (ulong)((int)uVar4 + 4);
    for (iVar7 = *(int *)((int)param_1 + 0x62); iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar9 = (undefined4 *)&DAT_10a8_7d64;
      for (iVar8 = 4; iVar8 != 0; iVar8 = iVar8 + -1) {
        puVar2 = puVar9;
        puVar9 = puVar9 + 1;
        *puVar2 = 0;
      }
      *(undefined2 *)puVar9 = 0;
      FUN_1040_1e24();
      if (((DAT_10a8_59a9 & 0xfc) != 0x4c) && ((DAT_10a8_59a9 & 0xfc) != 0x50)) goto LAB_1040_16e8;
      puVar9 = (undefined4 *)&DAT_10a8_7d64;
      uVar14 = (undefined2)(local_6 >> 0x10);
      puVar13 = (undefined4 *)local_6;
      for (iVar8 = 4; iVar8 != 0; iVar8 = iVar8 + -1) {
        puVar3 = puVar13;
        puVar13 = puVar13 + 1;
        puVar2 = puVar9;
        puVar9 = puVar9 + 1;
        *puVar3 = *puVar2;
      }
      *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
      local_6 = local_6 & 0xffff0000 | ZEXT24((undefined2 *)((int)(undefined4 *)local_6 + 0x12));
    }
    uVar5 = param_1[0x19];
    *(undefined *)((int)uVar5 + 3) = *(undefined *)((int)param_1 + 0x62);
  }
  return 1;
}



void __cdecl16far FUN_1040_16fc(byte *param_1,ulong param_2)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  byte bVar4;
  ulong uVar5;
  undefined2 uVar6;
  uint uVar7;
  uint uVar8;
  undefined2 *puVar9;
  char *pcVar10;
  undefined2 *puVar11;
  undefined2 uVar12;
  undefined2 unaff_SS;
  undefined local_48 [34];
  byte local_26 [34];
  uint local_4;

  FUN_10a0_0ac6(param_2,param_1,0xe);
  uVar5 = (ulong)param_1 & 0xffff0000;
  param_1 = (byte *)(uVar5 | (int)param_1 + 0xe);
  uVar12 = (undefined2)(uVar5 >> 0x10);
  bVar4 = *param_1;
  pcVar10 = (char *)((int)param_1 + 0xf);
  if (bVar4 != 0) {
    local_4 = 0x20;
    FUN_10a0_0ac6(CONCAT22(unaff_SS,local_26),uVar5 | ZEXT24(pcVar10),0x20);
    FUN_1018_685e(local_26,unaff_SS,(uint)bVar4,CONCAT22(unaff_SS,local_48),(int *)&local_4);
    FUN_10a0_0ac6(param_2 & 0xffff0000 | (ulong)((int)param_2 + 0xe),CONCAT22(unaff_SS,local_48),
                  local_4);
    return;
  }
  puVar9 = (undefined2 *)((int)param_2 + 0xe);
  uVar7 = 0xffff;
  do {
    if (uVar7 == 0) break;
    uVar7 = uVar7 - 1;
    pcVar2 = pcVar10;
    pcVar10 = pcVar10 + 1;
  } while (*pcVar2 != '\0');
  uVar7 = ~uVar7;
  puVar11 = (undefined2 *)(pcVar10 + -uVar7);
  uVar6 = (undefined2)(param_2 >> 0x10);
  for (uVar8 = uVar7 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
    puVar3 = puVar9;
    puVar9 = puVar9 + 1;
    puVar1 = puVar11;
    puVar11 = puVar11 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
    puVar3 = puVar9;
    puVar9 = (undefined2 *)((int)puVar9 + 1);
    puVar1 = puVar11;
    puVar11 = (undefined2 *)((int)puVar11 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  return;
}



void __cdecl16far FUN_1040_17a6(int param_1)

{
  HWND16 hwnd;
  HWND16 *pHVar1;

  pHVar1 = (HWND16 *)(param_1 * 2 + 0x238);
  hwnd = *pHVar1;
  if (hwnd != 0) {
    DESTROYWINDOW(hwnd);
    *pHVar1 = 0;
    if (param_1 == 0) {
      PTR_DAT_10a8_0000_10a8_58b4 = (undefined *)0x0;
      return;
    }
    if (param_1 == 1) {
      PTR_DAT_10a8_0000_10a8_00ca = (undefined *)0x0;
      return;
    }
    if (param_1 == 2) {
      PTR_DAT_10a8_0000_10a8_00c4 = (undefined *)0x0;
      return;
    }
    if (param_1 == 3) {
      PTR_DAT_10a8_0000_10a8_00cc = (undefined *)0x0;
      return;
    }
    if (param_1 != 4) {
      return;
    }
    PTR_DAT_10a8_0000_10a8_00c8 = (undefined *)0x0;
  }
  return;
}


/*
Unable to decompile 'FUN_1040_1814'
Cause:
Low-level Error: Overlapping input varnodes
*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1040_1882(void)

{
  undefined2 uVar1;
  int16 *piVar2;
  void *func;

  func = MAKEPROCINSTANCE((void *)CONCAT22(0x1814,PTR_DAT_10a8_0000_10a8_839a),
                          (HANDLE16)&PTR_DAT_10a8_0000_10a8_1040);
  if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0) {
    uVar1 = 0x42c;
  }
  else {
    uVar1 = 0x7e9;
  }
  piVar2 = DIALOGBOX((int16 *)func,(HINSTANCE16)((ulong)func >> 0x10),
                     (LPCSTR)CONCAT22(uVar1,PTR_DAT_10a8_0000_10a8_58b4),0,
                     PTR_DAT_10a8_0000_10a8_839a);
  FREEPROCINSTANCE(func);
  if (piVar2 != (int16 *)0x0) {
    _DAT_10a8_0a46 =
         _DAT_10a8_0a46 ^ (byte)((piVar2 == (int16 *)0xffff) << 4 ^ DAT_10a8_0a46) & 0x10;
    FUN_1020_5b78((char *)&DAT_10a8_85dc,PTR_DAT_10a8_0001_10a8_00c0);
    FUN_1020_5cd2((uint16 *)PTR_DAT_10a8_0001_10a8_00c0);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1040_190c(void)

{
  undefined2 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined *in_DX;
  undefined4 *puVar4;
  undefined2 *puVar5;

  if ((_DAT_10a8_0a46 & 0x800) != 0) {
    FUN_1010_799e(0);
  }
  if ((PTR_DAT_10a8_0001_10a8_00c0 != (undefined *)0xffff) &&
     (PTR_DAT_10a8_0000_10a8_003e != (undefined *)0x0)) {
    FUN_1040_1882();
  }
  FUN_1038_01fc(3);
  _PTR_DAT_10a8_0000_10a8_006a = 0;
  PTR_DAT_10a8_0000_10a8_7d52 = (undefined *)0x0;
  FUN_1038_01fc(5);
  _PTR_DAT_10a8_0000_10a8_006e = 0;
  _PTR_DAT_10a8_0000_10a8_4444 = 0;
  _PTR_DAT_10a8_0000_10a8_4448 = 0;
  PTR_DAT_10a8_0000_10a8_83c6 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_444c = (undefined *)0x0;
  _DAT_10a8_0a46 = _DAT_10a8_0a46 & 0x5fff;
  FUN_1038_01fc(6);
  FUN_1038_01fc(1);
  FUN_1038_01fc(7);
  FUN_1038_01fc(0);
  FUN_1038_01fc(8);
  PTR_DAT_10a8_0000_10a8_8312 = (undefined *)FUN_1038_0232(0x800,8);
  puVar4 = (undefined4 *)&DAT_10a8_7a56;
  PTR_DAT_10a8_0000_10a8_8314 = in_DX;
  for (iVar3 = 4; iVar3 != 0; iVar3 = iVar3 + -1) {
    puVar2 = puVar4;
    puVar4 = puVar4 + 1;
    *puVar2 = 0;
  }
  puVar5 = (undefined2 *)0x8804;
  for (iVar3 = 0x20; iVar3 != 0; iVar3 = iVar3 + -1) {
    puVar1 = puVar5;
    puVar5 = puVar5 + 1;
    *puVar1 = 0;
  }
  puVar5 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_0072;
  for (iVar3 = 0x20; iVar3 != 0; iVar3 = iVar3 + -1) {
    puVar1 = puVar5;
    puVar5 = puVar5 + 1;
    *puVar1 = 0;
  }
  if (PTR_DAT_10a8_0000_10a8_7b4c != (undefined *)0x0) {
    PTR_DAT_10a8_0000_10a8_56fa =
         (undefined *)
         ((uint)PTR_DAT_10a8_0000_10a8_56fa ^
         (byte)((char)PTR_DAT_10a8_0000_10a8_7b4c << 5 ^ (byte)PTR_DAT_10a8_0000_10a8_56fa) & 0xe0);
    PTR_DAT_10a8_0000_10a8_56fe = PTR_DAT_10a8_0000_10a8_7b50;
    PTR_DAT_10a8_0000_10a8_5700 = PTR_DAT_10a8_0001_10a8_00c0;
    _PTR_DAT_10a8_0000_10a8_5702 = _PTR_DAT_10a8_0000_10a8_0030;
  }
  PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
  DAT_10a8_0fd4 = 0xffff;
  PTR_DAT_10a8_0000_10a8_0fd2 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_1046 = (undefined *)0x0;
  _PTR_DAT_10a8_0000_10a8_4b84 = 0;
  FUN_1010_7786();
  _PTR_DAT_10a8_0000_10a8_024c = 0;
  _PTR_DAT_10a8_0000_10a8_00d4 = 0;
  _PTR_DAT_10a8_0000_10a8_0030 = 0;
  PTR_DAT_10a8_0002_10a8_0038 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_003a = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_003e = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_0042 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_0044._0_1_ = 0;
  _DAT_10a8_0a48 = _DAT_10a8_0a48 & 0xfff7;
  _DAT_10a8_0a46 = _DAT_10a8_0a46 & 0xf7ff;
  if (PTR_DAT_10a8_0000_10a8_00c2 != (undefined *)0x0) {
    DESTROYWINDOW((HWND16)PTR_DAT_10a8_0000_10a8_00c2);
  }
  PTR_DAT_10a8_0000_10a8_00c6 = (undefined *)0x0;
  _PTR_DAT_10a8_0000_10a8_7b58 = 0;
  _PTR_DAT_10a8_0000_10a8_7b5e = 0xffffffff;
  PTR_DAT_10a8_0000_10a8_7b5c = (undefined *)0xffff;
  PTR_DAT_10a8_0000_10a8_07a0 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_7b4e = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_7b4c = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_7b50 = (undefined *)0xffff;
  PTR_DAT_10a8_0000_10a8_7b4a = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_7b48 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_7bd6 = (undefined *)0xffff;
  PTR_DAT_10a8_0000_10a8_7b62 = (undefined *)0xffff;
  _PTR_DAT_10a8_0000_10a8_7bc6 = 0;
  _PTR_DAT_10a8_0000_10a8_7c0e = 0;
  PTR_DAT_10a8_0000_10a8_0a9e = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_0aa2 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_0a9a = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_0a96 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_578e = (undefined *)0x0;
  puVar5 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_0a90;
  for (iVar3 = 3; iVar3 != 0; iVar3 = iVar3 + -1) {
    puVar1 = puVar5;
    puVar5 = puVar5 + 1;
    *puVar1 = 0;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1040_1ab6(int param_1)

{
  int iVar1;

  FUN_1040_3d68(param_1);
  iVar1 = FUN_10a0_0752();
  _DAT_10a8_0a48 = _DAT_10a8_0a48 ^ ((byte)(1U - (iVar1 == 0) ^ DAT_10a8_0a49) & 1) << 8;
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1040_1ae4(uint param_1,int param_2,uint param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  uint uVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  int iVar7;
  undefined2 unaff_SS;
  undefined4 uVar8;
  int local_2c [9];
  undefined4 local_1a;
  long local_16;
  undefined2 local_12;
  undefined *local_10;
  int local_e;
  undefined2 local_c;
  undefined *local_a;
  int local_8;
  uint local_6;
  undefined *local_4;

  local_6 = param_1 & 0x2000;
  local_8 = (param_1 >> 8 & 0x10) << 8;
  local_4 = PTR_DAT_10a8_0000_10a8_0a30;
  FUN_1040_3d68(param_1 & 0xff);
  local_a = PTR_DAT_10a8_0000_10a8_002e;
  iVar7 = (int)s_Everybody_10a8_1098 + 8;
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_2c;
  iVar4 = FUN_10a0_0704(local_2c);
  if (iVar4 == 0) {
    PTR_DAT_10a8_0000_10a8_0a30 = (undefined *)&DAT_10a8_0001;
    FUN_1040_1ece((int)&DAT_10a8_86de,param_3);
    PTR_DAT_10a8_0000_10a8_0a30 = local_4;
    FUN_1040_1e24();
    if ((DAT_10a8_59a9 & 0xfc) == 0x20) {
      uVar3 = _DAT_10a8_7d6c >> 8 & 0xf0;
      if (((uVar3 == 0x10) ||
          ((uVar3 << 8 < (uint)s_backup_d_10a8_1001 && (0x77f < (_DAT_10a8_7d6c & 0xfe0))))) &&
         ((uVar3 != 0x10 || ((_DAT_10a8_7d6c & 0xfe0) < 0x280)))) {
        puVar6 = &local_1a;
        puVar5 = (undefined4 *)&DAT_10a8_7d64;
        for (iVar4 = 4; iVar4 != 0; iVar4 = iVar4 + -1) {
          puVar2 = puVar6;
          puVar6 = puVar6 + 1;
          puVar1 = puVar5;
          puVar5 = puVar5 + 1;
          *puVar2 = *puVar1;
        }
        if (_PTR_DAT_10a8_0000_10a8_0030 == 0) goto LAB_1040_1ca2;
        if (local_16 == _PTR_DAT_10a8_0000_10a8_0030) {
          if ((param_1 & 0xff) == 4) {
            if ((local_e << 0xb) >> 0xb != param_2) goto LAB_1040_1cf9;
LAB_1040_1ca2:
            if (local_8 != 0) {
              FUN_10a0_027e(iVar7,DAT_10a8_1030,0,0,0);
              FUN_1040_1e24();
            }
            PTR_DAT_10a8_0000_10a8_002e = local_a;
            _DAT_10a8_0a32 = local_12;
            _DAT_10a8_0a48 =
                 _DAT_10a8_0a48 ^ (byte)((local_c._1_1_ >> 4) << 5 ^ DAT_10a8_0a48) & 0x20;
            return 1;
          }
          if ((local_6 != 0) && ((local_c & 0x400) != 0)) {
            FUN_10a0_027e((int)s_Everybody_10a8_1098 + 8,DAT_10a8_1030,0xfffc,0xffff,2);
            FUN_1040_1e24();
            if (((_DAT_10a8_59a8 & 0xfc00) != 0) &&
               ((_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8) != 2))
            goto LAB_1040_1cf9;
            local_10 = DAT_10a8_7d64;
          }
          iVar7 = (int)s_Everybody_10a8_1098 + 8;
          if ((PTR_DAT_10a8_0000_10a8_0042 == (undefined *)0x0) && (local_10 != (undefined *)0x0)) {
            PTR_DAT_10a8_0000_10a8_0042 = local_10;
            goto LAB_1040_1ca2;
          }
          if (local_10 == PTR_DAT_10a8_0000_10a8_0042) {
            if ((((param_1 & 0xff) == 2) && ((DAT_10a8_0a46 & 8) == 0)) && ((local_c & 0x200) != 0))
            {
              iVar7 = 0x1018;
              iVar4 = FUN_1018_50b2(0xe,(HWND16)s_Robo_Miner_10a8_2024);
              if (iVar4 == 6) goto LAB_1040_1ca2;
            }
            else if ((((local_c & 0x100) != 0) || ((DAT_10a8_0a46 & 2) == 0)) ||
                    ((DAT_10a8_0a46 & 4) != 0)) goto LAB_1040_1ca2;
            goto LAB_1040_1cf9;
          }
          if (PTR_DAT_10a8_0000_10a8_0a30 != (undefined *)0x0) goto LAB_1040_1cf9;
          uVar8 = 0x100019;
        }
        else {
          if (PTR_DAT_10a8_0000_10a8_0a30 != (undefined *)0x0) goto LAB_1040_1cf9;
          uVar8 = 0x10001a;
        }
        goto LAB_1040_1cf1;
      }
    }
    if (PTR_DAT_10a8_0000_10a8_0a30 != (undefined *)0x0) goto LAB_1040_1cf9;
    uVar8 = 0x100005;
  }
  else {
    PTR_DAT_10a8_0000_10a8_0a30 = local_4;
    if (local_4 != (undefined *)0x0) goto LAB_1040_1cf9;
    uVar8 = 0x100003;
  }
LAB_1040_1cf1:
  FUN_1018_50b2((uint)uVar8,(HWND16)((ulong)uVar8 >> 0x10));
LAB_1040_1cf9:
  FUN_1040_1f9c();
  PTR_DAT_10a8_0000_10a8_002e = local_a;
  return 0;
}



int __cdecl16far FUN_1040_1d0a(int param_1)

{
  undefined *puVar1;
  int iVar2;

  puVar1 = PTR_DAT_10a8_0000_10a8_0042;
  PTR_DAT_10a8_0000_10a8_0a30 = (undefined *)&DAT_10a8_0001;
  PTR_DAT_10a8_0000_10a8_0042 = (undefined *)0x0;
  iVar2 = FUN_1040_1ae4(0x2003,param_1,0x20);
  if (iVar2 != 0) {
    FUN_1040_1f9c();
    if (puVar1 < PTR_DAT_10a8_0000_10a8_0042) {
      iVar2 = 1;
    }
    else {
      iVar2 = 0;
    }
  }
  PTR_DAT_10a8_0000_10a8_0042 = puVar1;
  return iVar2;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint __cdecl16far FUN_1040_1d52(undefined4 param_1,int param_2)

{
  byte bVar1;
  undefined *puVar2;
  int iVar3;
  int iVar4;
  char local_a;
  uint local_4;

  puVar2 = PTR_DAT_10a8_0000_10a8_0a30;
  if ((uint)param_1 == 2) {
    local_a = (char)((_DAT_10a8_0a46 & 8) >> 3);
    _DAT_10a8_0a46 = _DAT_10a8_0a46 | 8;
  }
  PTR_DAT_10a8_0000_10a8_0a30 = (undefined *)&DAT_10a8_0001;
  iVar4 = (int)((ulong)param_1 >> 0x10);
  iVar3 = FUN_1040_1ae4((uint)param_1,iVar4,0x20);
  if (param_2 == 1) {
    if (iVar3 != 0) {
      bVar1 = (byte)PTR_DAT_10a8_0000_10a8_7d73 & 2;
joined_r0x10401dab:
      if (bVar1 == 0) goto LAB_1040_1dad;
    }
    local_4 = 1;
  }
  else {
    if (param_2 == 2) {
      if (iVar3 != 0) {
        bVar1 = (byte)PTR_DAT_10a8_0000_10a8_7d73 & 1;
        goto joined_r0x10401dab;
      }
    }
    else if (param_2 == 4) {
      if (iVar3 != 0) {
        bVar1 = (byte)PTR_DAT_10a8_0000_10a8_7d73 & 4;
        goto joined_r0x10401dab;
      }
    }
    else {
      if (param_2 != 8) goto LAB_1040_1df8;
      if (iVar3 != 0) {
        do {
          FUN_1040_1e24();
          if ((DAT_10a8_59a9 & 0xfc) == 0x18) break;
        } while ((char)DAT_10a8_7d64 != iVar4);
        local_4 = (DAT_10a8_7d6a & 0x200) >> 9;
        goto LAB_1040_1df8;
      }
    }
LAB_1040_1dad:
    local_4 = 0;
  }
LAB_1040_1df8:
  if (iVar3 != 0) {
    FUN_1040_1f9c();
  }
  if ((uint)param_1 == 2) {
    _DAT_10a8_0a46 = _DAT_10a8_0a46 ^ (byte)(local_a << 3 ^ DAT_10a8_0a46) & 8;
  }
  PTR_DAT_10a8_0000_10a8_0a30 = puVar2;
  return local_4;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1040_1e24(void)

{
  FUN_1040_1fb4(&DAT_10a8_59a8,(uint16 *)&DAT_10a8_0002);
  if ((_DAT_10a8_59a8 & 0x3ff) != 0) {
    FUN_1040_1fb4(&DAT_10a8_7d64,(uint16 *)(_DAT_10a8_59a8 & 0x3ff));
  }
  if ((DAT_10a8_59a9 & 0xfc) == 0x20) {
    if (((_DAT_10a8_7d6c & 0xf000) == 0) &&
       (((_DAT_10a8_7d6c & 0xfe0) < 0xb40 ||
        (((_DAT_10a8_7d6c & 0xfe0) == 0xb40 && ((DAT_10a8_7d6c & 0x1f) < 0x15)))))) {
      PTR_DAT_10a8_0000_10a8_7d73._0_1_ = (byte)PTR_DAT_10a8_0000_10a8_7d73 & 0xef;
    }
    FUN_1018_4cc8((byte)_DAT_10a8_7d68,(int)((ulong)_DAT_10a8_7d68 >> 0x10),
                  (int)PTR_DAT_10a8_0000_10a8_7d70 >> 5,(byte)_DAT_10a8_7d6e,
                  (byte)(((int)PTR_DAT_10a8_0000_10a8_7d70 << 0xb) >> 0xb),
                  (((byte)PTR_DAT_10a8_0000_10a8_7d73 & 0x10) << 8) >> 0xc);
    return;
  }
  if ((_DAT_10a8_59a8 & 0xfc00) != 0) {
    FUN_1018_4e04((uint *)&DAT_10a8_7d64,_DAT_10a8_59a8 & 0x3ff);
  }
  return;
}



void __cdecl16far FUN_1040_1ece(undefined2 param_1,uint param_2)

{
  uint uVar1;
  uint uVar2;
  undefined2 unaff_SI;
  OFSTRUCT *unaff_SS;
  dword dVar3;
  dword dVar4;
  undefined2 in_stack_0000ff6c;
  int in_stack_0000ff6e;
  undefined6 in_stack_0000ff70;
  ulong local_a;
  uint local_6;
  uint local_4;

  local_a = 0;
  do {
    DAT_10a8_1030 =
         OPENFILE((LPCSTR)(CONCAT22(&stack0xff6c,param_2) & 0xffffbfff),unaff_SS,
                  (uint16)CONCAT610(in_stack_0000ff70,
                                    CONCAT28(in_stack_0000ff6e,
                                             CONCAT26(in_stack_0000ff6c,
                                                      CONCAT24(unaff_SI,CONCAT22(0x10a8,param_1)))))
                 );
    if (DAT_10a8_1030 != 0xffff) {
      return;
    }
    if (((DAT_10a8_0a47 & 0x10) == 0) || (in_stack_0000ff6e == 2)) {
LAB_1040_1f70:
      if (((param_2 & 0x4000) == 0) && (PTR_DAT_10a8_0000_10a8_0a30 == (undefined *)0x0)) {
        FUN_1018_50b2(4,0x10);
      }
      FUN_10a0_0729((int)PTR_DAT_10a8_0000_10a8_002e,-1);
      return;
    }
    dVar3 = GETTICKCOUNT();
    if (local_a == 0) {
      local_a = CONCAT22((int)(dVar3 >> 0x10) + (uint)(0xf05f < (uint)dVar3),(uint)dVar3 + 4000);
    }
    if (local_a <= dVar3) goto LAB_1040_1f70;
    dVar4 = GETTICKCOUNT();
    uVar2 = (uint)(dVar4 >> 0x10);
    uVar1 = (uint)dVar4;
    local_4 = (uint)(dVar3 + 500 >> 0x10);
    if (uVar2 <= local_4) {
      local_6 = (uint)(dVar3 + 500);
      if (uVar2 < local_4) goto LAB_1040_1f5c;
      do {
        if (local_6 <= uVar1) break;
LAB_1040_1f5c:
        do {
          dVar3 = GETTICKCOUNT();
          uVar2 = (uint)(dVar3 >> 0x10);
          uVar1 = (uint)dVar3;
        } while (uVar2 < local_4);
      } while (uVar2 <= local_4);
    }
  } while( true );
}



void __cdecl16far FUN_1040_1f9c(void)

{
  if (DAT_10a8_1030 != 0xffff) {
    _LCLOSE(DAT_10a8_1030);
    DAT_10a8_1030 = 0xffff;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1040_1fb4(LPVOID param_1,uint16 *param_2)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  uint16 *puVar3;
  uint uVar4;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  undefined2 *hfile;
  undefined2 uVar5;
  undefined4 in_stack_00000000;

  if (param_2 != (uint16 *)0x0) {
    hfile = (undefined2 *)param_1;
    uVar5 = (undefined2)((ulong)param_1 >> 0x10);
    if (_PTR_DAT_10a8_0000_10a8_0fca != 0) {
      for (uVar4 = (uint)param_2 >> 1; uVar4 != 0; uVar4 = uVar4 - 1) {
        puVar2 = hfile;
        hfile = hfile + 1;
        puVar1 = (undefined2 *)PTR_DAT_10a8_0000_10a8_0fca;
        PTR_DAT_10a8_0000_10a8_0fca = (undefined *)((int)PTR_DAT_10a8_0000_10a8_0fca + 2);
        *puVar2 = *puVar1;
      }
      for (uVar4 = (uint)(((uint)param_2 & 1) != 0); uVar4 != 0; uVar4 = uVar4 - 1) {
        puVar2 = hfile;
        hfile = (undefined2 *)((int)hfile + 1);
        puVar1 = (undefined2 *)PTR_DAT_10a8_0000_10a8_0fca;
        PTR_DAT_10a8_0000_10a8_0fca = (undefined *)((int)PTR_DAT_10a8_0000_10a8_0fca + 1);
        *(undefined *)puVar2 = *(undefined *)puVar1;
      }
                    // WARNING: Ignoring partial resolution of indirect
      PTR_DAT_10a8_0000_10a8_0fca = PTR_DAT_10a8_0000_10a8_0fca + (int)param_2;
      return;
    }
    puVar3 = _LREAD(param_2,(HFILE16)hfile,(LPVOID)CONCAT22(DAT_10a8_1030,uVar5),
                    (uint16)CONCAT106(CONCAT28(param_2,CONCAT44(param_1,in_stack_00000000)),
                                      CONCAT24(unaff_BP,CONCAT22(unaff_DI,unaff_SI))));
    if (puVar3 != param_2) {
      if (PTR_DAT_10a8_0000_10a8_0a30 == (undefined *)0x0) {
        FUN_1018_50b2(0x12,0x10);
      }
      FUN_10a0_0729((int)PTR_DAT_10a8_0000_10a8_002e,-1);
    }
  }
  return;
}



void __cdecl16far FUN_1040_202a(undefined4 param_1)

{
  undefined2 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined2 uVar5;
  undefined4 uVar6;

  uVar5 = (undefined2)((ulong)param_1 >> 0x10);
  iVar3 = (int)param_1;
  if (*(int *)(iVar3 + 0x62) != 0) {
    iVar4 = *(int *)(iVar3 + 0x62);
    uVar1 = *(undefined2 *)(iVar3 + 0x66);
    iVar2 = *(int *)(iVar3 + 100) + 4;
    iVar3 = *(int *)(iVar3 + 0x62);
    while (iVar3 != 0) {
      if ((*(byte *)(iVar2 + 6) & 0xf) == 0) {
        uVar6 = 0x80014;
      }
      else {
        uVar6 = 0x120013;
      }
      FUN_1040_422c((int)uVar6,(uint16 *)((ulong)uVar6 >> 0x10),CONCAT22(uVar1,iVar2));
      iVar2 = iVar2 + 0x12;
      iVar4 = iVar4 + -1;
      iVar3 = iVar4;
    }
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1040_2086(undefined2 *param_1,undefined2 *param_2)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  uint uVar3;
  uint uVar4;
  char *pcVar5;
  int iVar6;
  undefined2 *puVar7;
  undefined2 *puVar8;
  undefined2 *puVar9;
  undefined2 local_a2 [77];
  uint local_8;
  undefined2 local_6;
  undefined2 *local_4;

  if (param_2 == (undefined2 *)0x0) {
    param_2 = local_a2;
  }
  FUN_10a0_055a(param_2,param_1,0x76);
  if ((*(byte *)(param_1 + 0x22) & 0x40) != 0) {
    puVar1 = param_1 + 3;
    *(byte *)puVar1 = *(byte *)puVar1 | 7;
  }
  if ((*(byte *)(param_1 + 3) & 7) == 7) {
    pcVar5 = (char *)((int)param_1 + 0x55);
    local_6 = 0xf;
    iVar6 = 0xf;
    do {
      if (*pcVar5 != '\0') break;
      pcVar5 = pcVar5 + -1;
      iVar6 = iVar6 + -1;
    } while (-1 < iVar6);
    uVar3 = iVar6 + 1;
    *(char *)(param_2 + 0x23) = (char)uVar3;
    FUN_10a0_055a((undefined2 *)((int)param_2 + 0x47),param_1 + 0x23,uVar3);
    local_4 = (undefined2 *)((int)(undefined2 *)((int)param_2 + 0x47) + uVar3);
  }
  else {
    local_4 = param_2 + 4;
  }
  local_8 = 0x1f;
  if (*(char *)(param_1 + 0x2b) != '\0') {
    iVar6 = FUN_1018_6776((char *)(param_1 + 0x2b),(int)s_From___s_c_c_10a8_10a2 + 6,
                          CONCAT22(0x10a8,(undefined *)((int)local_4 + 1)),&local_8);
    if (iVar6 != 0) {
      *(undefined *)local_4 = (undefined)local_8;
      local_4 = (undefined2 *)((int)local_4 + local_8 + 1);
      goto LAB_1040_217b;
    }
  }
  puVar9 = param_1 + 0x2b;
  puVar8 = (undefined2 *)((int)local_4 + 1);
  uVar3 = 0xffff;
  puVar7 = puVar9;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    puVar1 = puVar7;
    puVar7 = (undefined2 *)((int)puVar7 + 1);
  } while (*(char *)puVar1 != '\0');
  uVar3 = ~uVar3;
  puVar7 = (undefined2 *)((int)puVar7 - uVar3);
  for (uVar4 = uVar3 >> 1; uVar4 != 0; uVar4 = uVar4 - 1) {
    puVar2 = puVar8;
    puVar8 = puVar8 + 1;
    puVar1 = puVar7;
    puVar7 = puVar7 + 1;
    *puVar2 = *puVar1;
  }
  for (uVar3 = (uint)((uVar3 & 1) != 0); uVar3 != 0; uVar3 = uVar3 - 1) {
    puVar2 = puVar8;
    puVar8 = (undefined2 *)((int)puVar8 + 1);
    puVar1 = puVar7;
    puVar7 = (undefined2 *)((int)puVar7 + 1);
    *(undefined *)puVar2 = *(undefined *)puVar1;
  }
  *(undefined *)local_4 = 0;
  uVar3 = 0xffff;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    puVar1 = puVar9;
    puVar9 = (undefined2 *)((int)puVar9 + 1);
  } while (*(char *)puVar1 != '\0');
  local_4 = (undefined2 *)((int)local_4 + ~uVar3 + 1);
LAB_1040_217b:
  FUN_1040_422c(6,(uint16 *)((int)local_4 + -(int)param_2),CONCAT22(0x10a8,param_2));
  return;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1040_2194(int *param_1,undefined2 *param_2)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  byte bVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  char *pcVar8;
  undefined2 *puVar9;
  undefined2 *puVar10;
  undefined2 unaff_SS;
  undefined2 local_ae;
  undefined local_ac;
  undefined local_ab;
  undefined2 local_aa;
  uint3 local_a8;
  undefined2 local_a5;
  undefined2 local_a3;
  uint3 local_a1 [41];
  undefined2 local_26 [16];
  uint local_6;
  uint3 *local_4;

  local_ac = *(undefined *)param_1;
  local_ae = *(undefined2 *)((int)param_1 + 0x7b);
  bVar4 = *(byte *)((int)param_1 + 0x7a);
  local_a8 = local_a8 & 0xffff00 | (uint3)bVar4;
  local_ab = *(undefined *)((int)param_1 + 0x32);
  if (*(char *)((int)param_1 + 0x7b) == '\a') {
    local_aa = *(undefined2 *)((int)param_1 + 0x38);
    local_a8 = CONCAT21(*(undefined2 *)((int)param_1 + 0x7d),bVar4);
    local_a5 = *(undefined2 *)((int)param_1 + 0x7f);
    local_a3 = *(undefined2 *)((int)param_1 + 0x81);
    FUN_10a0_0ac6(CONCAT22(0x10a8,local_a1),
                  (ulong)param_1 & 0xffff0000 | (ulong)((int)param_1 + 0x3a),(uint)bVar4 << 2);
    local_4 = (uint3 *)((int)local_a1 + ((uint)local_a8 & 0xff) * 4);
  }
  else {
    local_aa = *(undefined2 *)((int)param_1 + 0x28);
    local_4 = &local_a8;
  }
  if (*(char *)((int)param_1 + 0x7b) == '\a') {
    pcVar8 = (char *)((int)param_1 + 8);
  }
  else {
    pcVar8 = (char *)((int)s_Small_Freighter_10a8_2eb6 + *param_1 * 0x93);
    param_1._2_2_ = (int)s_From___s_c_c_10a8_10a2 + 6;
  }
  puVar10 = local_26;
  uVar6 = 0xffff;
  do {
    if (uVar6 == 0) break;
    uVar6 = uVar6 - 1;
    pcVar2 = pcVar8;
    pcVar8 = pcVar8 + 1;
  } while (*pcVar2 != '\0');
  uVar6 = ~uVar6;
  puVar9 = (undefined2 *)(pcVar8 + -uVar6);
  for (uVar7 = uVar6 >> 1; uVar7 != 0; uVar7 = uVar7 - 1) {
    puVar3 = puVar10;
    puVar10 = puVar10 + 1;
    puVar1 = puVar9;
    puVar9 = puVar9 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar6 = (uint)((uVar6 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar3 = puVar10;
    puVar10 = (undefined2 *)((int)puVar10 + 1);
    puVar1 = puVar9;
    puVar9 = (undefined2 *)((int)puVar9 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  local_6 = 0x1f;
  if ((char)local_26[0] != '\0') {
    iVar5 = FUN_1018_6776((char *)local_26,unaff_SS,CONCAT22(0x10a8,(undefined *)((int)local_4 + 1))
                          ,&local_6);
    if (iVar5 != 0) {
      *(undefined *)local_4 = (undefined)local_6;
      local_4 = (uint3 *)((int)local_4 + local_6 + 1);
      goto LAB_1040_22cf;
    }
  }
  pcVar8 = (char *)local_26;
  puVar10 = (undefined2 *)((int)local_4 + 1);
  uVar6 = 0xffff;
  do {
    if (uVar6 == 0) break;
    uVar6 = uVar6 - 1;
    pcVar2 = pcVar8;
    pcVar8 = pcVar8 + 1;
  } while (*pcVar2 != '\0');
  uVar6 = ~uVar6;
  puVar9 = (undefined2 *)(pcVar8 + -uVar6);
  for (uVar7 = uVar6 >> 1; uVar7 != 0; uVar7 = uVar7 - 1) {
    puVar3 = puVar10;
    puVar10 = puVar10 + 1;
    puVar1 = puVar9;
    puVar9 = puVar9 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar6 = (uint)((uVar6 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar3 = puVar10;
    puVar10 = (undefined2 *)((int)puVar10 + 1);
    puVar1 = puVar9;
    puVar9 = (undefined2 *)((int)puVar9 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  *(undefined *)local_4 = 0;
  pcVar8 = (char *)local_26;
  uVar6 = 0xffff;
  do {
    if (uVar6 == 0) break;
    uVar6 = uVar6 - 1;
    pcVar2 = pcVar8;
    pcVar8 = pcVar8 + 1;
  } while (*pcVar2 != '\0');
  local_4 = (uint3 *)((int)local_4 + ~uVar6 + 1);
LAB_1040_22cf:
  if (param_2 != (undefined2 *)0x0) {
    FUN_10a0_055a(param_2,&local_ae,(int)local_4 - (int)&local_ae);
    return;
  }
  FUN_1040_422c(0x1a,(uint16 *)-((int)&local_ae - (int)local_4),CONCAT22(unaff_SS,&local_ae));
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1040_230a(VA_LIST16 param_1,undefined *param_2,int param_3)

{
  byte *pbVar1;
  uint *puVar2;
  uint uVar3;
  undefined4 uVar4;
  ulong uVar5;
  ulong uVar6;
  bool bVar7;
  int *piVar8;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  uint uVar9;
  uint uVar10;
  undefined *puVar11;
  int iVar12;
  uint *puVar13;
  undefined2 uVar14;
  byte bVar15;
  undefined uVar16;
  undefined uVar17;
  int local_3a [9];
  long local_28 [2];
  undefined2 local_20;
  undefined2 local_1a;
  undefined4 local_18;
  undefined4 local_14;
  undefined *local_10;
  undefined4 local_e;
  undefined4 local_a;
  undefined4 local_6;

  local_1a = 1;
  FUN_1040_3398(_PTR_DAT_10a8_0000_10a8_006a,(uint)param_2);
  if ((((DAT_10a8_0a46 & 2) != 0) && (param_2 != (undefined *)0xffff)) &&
     (local_10 = (undefined *)0x0, 0 < (int)PTR_DAT_10a8_0000_10a8_83c6)) {
    local_14 = local_14 & 0xffff0000;
    do {
      uVar14 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
      uVar9 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + (int)local_14);
      uVar3 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + (int)local_14 + 2);
      uVar10 = uVar3 | uVar9;
      if (uVar10 == 0) {
        local_e = (uint *)CONCAT22(uVar3,uVar9);
        break;
      }
      local_e = (uint *)CONCAT22(uVar3,uVar9);
      if (((*(byte *)(uVar9 + 5) & 4) == 0) &&
         ((undefined *)(((*(byte *)(uVar9 + 1) & 0x1e) << 8) >> 9) == param_2)) {
        uVar5 = *(ulong *)(uVar9 + 100);
        local_18 = (undefined4 *)(uVar5 & 0xffff0000 | (ulong)((int)uVar5 + 4));
        if ((*(byte *)((int)uVar5 + 0xb) & 3) == 2) {
          bVar7 = FUN_1010_18d2((int)*local_18,(int)((ulong)*local_18 >> 0x10),0x81,local_28);
          if ((int)CONCAT31(extraout_var,bVar7) == 0) {
            pbVar1 = (byte *)((int)local_18 + 7);
            *pbVar1 = *pbVar1 & 0xfc;
            *(undefined2 *)((int)local_18 + 4) = 0;
          }
          else {
            uVar9 = *(uint *)((int)local_18 + 6);
            *(uint *)((int)local_18 + 6) =
                 uVar9 & 0xff | (uint)((byte)((ulong)uVar9 >> 8) & 0xfd) << 8 | 0x100;
            *(undefined2 *)((int)local_18 + 4) = local_20;
          }
        }
        if ((*(byte *)((int)local_18 + 6) & 0xf) != 1) {
          uVar14 = (undefined2)((ulong)local_e >> 0x10);
          if (1 < *(int *)((int)local_e + 0x62)) {
            local_14 = CONCAT22(1,(int)local_14);
            if (1 < *(int *)((int)local_e + 0x62)) {
              local_a._0_2_ = (uint *)((int)local_18 + 0x18);
              local_a = (uint *)((ulong)local_18 & 0xffff0000);
              do {
                if ((*(byte *)((int)(uint *)local_a + 1) & 3) == 2) {
                  local_a = (uint *)((ulong)local_a & 0xffff0000 | ZEXT24((uint *)local_a));
                  piVar8 = FUN_1010_0c48(*(uint *)((int)(uint *)local_a - 2));
                  local_6 = CONCAT22(uVar10,piVar8);
                  if (((uVar10 | (uint)piVar8) == 0) || ((*(byte *)((int)piVar8 + 5) & 4) != 0)) {
                    uVar9 = *local_e & 0xff | (uint)(byte)((ulong)*local_e >> 8) << 8 | 0x8000;
                    uVar14 = 0x29;
                  }
                  else {
                    if ((*(byte *)((int)piVar8 + 5) & 1) != 0) goto LAB_1040_254a;
                    if (piVar8[3] == -1) {
                      uVar9 = *local_e & 0xff | (uint)(byte)((ulong)*local_e >> 8) << 8 | 0x8000;
                      uVar14 = 0x2b;
                    }
                    else {
                      uVar9 = *local_e & 0xff | (uint)(byte)((ulong)*local_e >> 8) << 8 | 0x8000;
                      uVar14 = 0x2a;
                    }
                  }
                  FUN_1010_6b58(CONCAT22(uVar14,param_2),uVar9);
                  uVar14 = (undefined2)((ulong)local_a >> 0x10);
                  iVar12 = (int)local_a;
                  pbVar1 = (byte *)(iVar12 + 1);
                  *pbVar1 = *pbVar1 & 0xfc;
                  *(undefined2 *)(iVar12 + -2) = local_14._2_2_;
                  uVar4 = *(undefined4 *)(iVar12 + -6);
                  bVar7 = FUN_1010_18d2((int)uVar4,(int)((ulong)uVar4 >> 0x10),0x81,local_28);
                  if ((int)CONCAT31(extraout_var_00,bVar7) != 0) {
                    *local_a = *local_a & 0xff | (uint)((byte)((ulong)*local_a >> 8) & 0xfd) << 8 |
                               0x100;
                    *(undefined2 *)((int)(uint *)local_a - 2) = local_20;
                  }
                }
LAB_1040_254a:
                local_a._0_2_ = (uint *)((int)(uint *)local_a + 0x12);
                uVar9 = local_14._2_2_ + 1;
                local_14 = local_14 & 0xffff | (ulong)uVar9 << 0x10;
                puVar2 = (uint *)((int)local_e + 0x62);
              } while (*puVar2 != uVar9 && (int)uVar9 <= (int)*puVar2);
              local_a = (uint *)((ulong)local_a & 0xffff0000 | ZEXT24((uint *)local_a));
            }
          }
        }
      }
      local_14 = local_14 & 0xffff0000 | (ulong)((int)local_14 + 4);
      local_10 = local_10 + 1;
    } while ((int)local_10 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  FUN_1010_7608((int)param_2);
  FUN_1010_7540((uint)param_2);
  if (param_2 == (undefined *)0xffff) {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x100c10a8,
              (LPCSTR)CONCAT13((char)((uint)param_1 >> 8),CONCAT12((char)param_1,0x10a8)),
              (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
  }
  else {
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x101310a8,(LPCSTR)CONCAT22(param_1,0x10a8),
              (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
  }
  local_6 = local_6 & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_002e) << 0x10;
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_3a;
  iVar12 = FUN_10a0_0704((int *)PTR_DAT_10a8_0000_10a8_002e);
  if (iVar12 == 0) {
    if ((param_3 == 0) || (iVar12 = FUN_1040_28f2((int)param_2), iVar12 == 0)) {
      if (param_2 == (undefined *)0xffff) {
        uVar14 = 2;
      }
      else {
        uVar14 = 3;
      }
      iVar12 = FUN_1040_3e38(CONCAT13((char)((uint)param_2 >> 8),CONCAT12((char)param_2,uVar14)),
                             iVar12);
      if (iVar12 == 0) goto LAB_1040_289c;
    }
    FUN_1040_2922((uint)param_2);
    local_10 = (undefined *)0x0;
    if ((int)PTR_DAT_10a8_0002_10a8_0038 < 1) {
      local_10 = (undefined *)0x0;
    }
    else {
      local_6._2_2_ = (uint)&DAT_10a8_8864;
      do {
        if (((*(byte *)(local_6._2_2_ + 1) & 1) != 0) ||
           ((*(byte *)(local_6._2_2_ + 0x3e) & 0x40) != 0)) {
          local_6 = local_6 & 0xffff | (ulong)local_6._2_2_ << 0x10;
          FUN_1040_2086((undefined2 *)(local_6._2_2_ - 6),(undefined2 *)0x0);
        }
        local_6._2_2_ = local_6._2_2_ + 0x76;
        local_10 = (undefined *)((int)local_10 + 1);
      } while ((int)local_10 < (int)PTR_DAT_10a8_0002_10a8_0038);
      local_6 = local_6 & 0xffff | (ulong)local_6._2_2_ << 0x10;
    }
    if ((param_2 == (undefined *)0xffff) && (_PTR_DAT_10a8_0000_10a8_024c != 0)) {
      FUN_1040_422c(0x24,(uint16 *)&PTR_LOOP_10a8_0004,&PTR_DAT_10a8_0000_10a8_024c);
    }
    FUN_1010_7672((uint)param_2);
    local_10 = (undefined *)0x0;
    local_6 = _PTR_DAT_10a8_0000_10a8_006a & 0xffff0000;
    local_6._2_2_ = (uint)(_PTR_DAT_10a8_0000_10a8_006a >> 0x10);
    local_6._0_2_ = (uint *)PTR_DAT_10a8_0000_10a8_006a;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_7d52) {
      do {
        uVar5 = local_6;
        if ((*(byte *)((int)(uint *)local_6 + 5) & 1) != 0) {
          if (*(char *)((int)(uint *)local_6 + 4) == '\a') {
            local_6 = local_6 & 0xffff0000 | ZEXT24((uint *)local_6);
            FUN_1040_2c62((uint *)(uVar5 & 0xffff0000 | ZEXT24((uint *)local_6)),0xd,0);
            if (*(long *)((int)(uint *)local_6 + 0x38) == 0) goto LAB_1040_26cb;
            iVar12 = *(int *)((int)(uint *)local_6 + 0x38);
            uVar14 = *(undefined2 *)((int)(uint *)local_6 + 0x3a);
            FUN_1040_422c(0x1c,(uint16 *)((uint)*(byte *)(iVar12 + 3) << 2),
                          CONCAT22(uVar14,iVar12 + 4));
          }
          else {
            if (*(char *)((int)(uint *)local_6 + 4) == '\x03') {
              local_6 = local_6 & 0xffff0000 | ZEXT24((uint *)local_6);
              bVar15 = 0xe;
            }
            else {
              local_6 = local_6 & 0xffff0000 | ZEXT24((uint *)local_6);
              bVar15 = 0xf;
            }
            FUN_1040_2c62((uint *)(uVar5 & 0xffff0000 | ZEXT24((uint *)local_6)),(uint)bVar15,0);
          }
        }
LAB_1040_26cb:
        local_6._0_2_ = (uint *)((int)(uint *)local_6 + 0x3c);
        local_10 = (undefined *)((int)local_10 + 1);
        PTR_DAT_10a8_0000_10a8_006a = (undefined *)(uint *)local_6;
      } while ((int)local_10 < (int)PTR_DAT_10a8_0000_10a8_7d52);
    }
    local_6 = CONCAT22(local_6._2_2_,PTR_DAT_10a8_0000_10a8_006a);
    local_10 = (undefined *)0x0;
    if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
      local_e._0_2_ = (ulong *)&PTR_DAT_10a8_0000_10a8_0072;
      local_e = (uint *)0x88640000;
      do {
        if ((*(byte *)(local_e._2_2_ + 1) & 1) != 0) {
          local_14 = *(ulong *)local_e;
          local_6._0_2_ = (uint *)((int)local_14 + 0x7b);
          local_6 = local_14 & 0xffff0000;
          local_a._2_2_ = 0;
          local_a = (uint *)0x10;
          local_e = (uint *)((ulong)local_e | ZEXT24((ulong *)local_e));
          do {
            uVar5 = local_6;
            uVar9 = *(uint *)local_6;
            if (((uVar9 & 0x200) == 0) && ((uVar9 & 0x100) != 0)) {
              local_a = (uint *)((ulong)local_a | (ulong)local_a._2_2_ << 0x10);
              local_6 = local_6 & 0xffff0000 | ZEXT24((uint *)local_6);
              FUN_1040_2194((int *)(uVar5 & 0xff000000 |
                                   (ulong)CONCAT12((char)(uVar5 >> 0x10),
                                                   (int)(uint *)local_6 + -0x7b)),(undefined2 *)0x0)
              ;
            }
            local_6._0_2_ = (uint *)((int)(uint *)local_6 + 0x87);
            local_a._2_2_ = local_a._2_2_ + 1;
            local_a = (uint *)(ulong)((int)(uint *)local_a - 1U);
          } while ((int)(uint *)local_a - 1U != 0);
          local_a = (uint *)((ulong)local_a._2_2_ << 0x10);
          local_6 = local_6 & 0xffff0000 | ZEXT24((uint *)local_6);
        }
        local_e._0_2_ = (ulong *)local_e + 1;
        local_e = (uint *)((ulong)(local_e._2_2_ + 0x76U) << 0x10);
        local_10 = (undefined *)((int)local_10 + 1);
      } while ((int)local_10 < (int)PTR_DAT_10a8_0002_10a8_0038);
      local_e = (uint *)CONCAT22(local_e._2_2_ + 0x76U,(ulong *)local_e);
    }
    local_10 = (undefined *)0x0;
    if ((int)PTR_DAT_10a8_0000_10a8_83c6 < 1) {
      local_10 = (undefined *)0x0;
    }
    else {
      local_a._2_2_ = 0;
      do {
        uVar14 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
        puVar13 = (uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + local_a._2_2_);
        uVar9 = *puVar13;
        uVar3 = puVar13[1];
        local_a = (uint *)((ulong)local_a & 0xffff | (ulong)local_a._2_2_ << 0x10);
        if ((uVar3 | uVar9) == 0) {
          local_6 = CONCAT22(uVar3,uVar9);
          goto LAB_1040_27c3;
        }
        local_6 = CONCAT22(uVar3,uVar9);
        if ((*(byte *)(uVar9 + 5) & 1) != 0) {
          FUN_1040_2f6a(CONCAT22(uVar3,uVar9));
        }
        local_a._2_2_ = local_a._2_2_ + 4;
        local_10 = (undefined *)((int)local_10 + 1);
      } while ((int)local_10 < (int)PTR_DAT_10a8_0000_10a8_83c6);
      local_a = (uint *)((ulong)local_a & 0xffff | (ulong)local_a._2_2_ << 0x10);
    }
LAB_1040_27c3:
    FUN_1040_422c(0x16,(uint16 *)&PTR_DAT_10a8_0000_10a8_001a,&PTR_DAT_10a8_0000_10a8_7b48);
    if (param_2 == (undefined *)0xffff) {
      local_10 = (undefined *)0x0;
      puVar11 = PTR_DAT_10a8_0002_10a8_0038;
    }
    else {
      puVar11 = param_2 + 1;
      local_10 = param_2;
    }
    local_e = (uint *)((ulong)local_e & 0xffff | ZEXT24(puVar11) << 0x10);
    if ((int)local_10 < (int)puVar11) {
      local_a = (uint *)(ulong)((int)local_10 * 4 + 0x8804);
      do {
        uVar9 = *(uint *)local_a;
        uVar3 = ((uint *)local_a)[1];
        local_6 = (ulong)uVar3 << 0x10;
        local_a = (uint *)((ulong)local_a & 0xffff);
        if (local_10[0x7a56] == '\0') {
          local_6 = CONCAT22(uVar3,uVar9);
        }
        else {
          do {
            uVar6 = local_6;
            uVar5 = local_6 & 0xffff0000;
            local_6 = uVar5 | uVar9;
            FUN_1040_3258(uVar6 & 0xff000000 | (ulong)CONCAT12((char)(uVar5 >> 0x10),uVar9),0);
            uVar9 = (int)(uint *)local_6 + 0x2e;
            local_a = (uint *)((ulong)local_a & 0xffff | (ulong)(local_a._2_2_ + 1) << 0x10);
          } while ((int)(local_a._2_2_ + 1) < (int)(uint)(byte)local_10[0x7a56]);
          local_6 = local_6 & 0xffff0000 | (ulong)uVar9;
        }
        local_a = (uint *)((ulong)local_a & 0xffff0000 | (ulong)((int)(uint *)local_a + 4));
        local_10 = local_10 + 1;
      } while ((int)local_10 < local_e._2_2_);
    }
    FUN_1040_422c(0,(uint16 *)&DAT_10a8_0002,&PTR_DAT_10a8_0000_10a8_0042);
    FUN_1040_1f9c();
  }
  else {
LAB_1040_289c:
    PTR_DAT_10a8_0001_10a8_00c0 = param_2;
    if (param_3 == 0) {
      if (param_2 == (undefined *)0xffff) {
        PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
        uVar16 = 0xc;
        uVar17 = 0;
      }
      else {
        uVar16 = 0x70;
        uVar17 = 1;
      }
    }
    else {
      uVar16 = 0x71;
      uVar17 = 1;
    }
    FUN_1018_50b2(CONCAT11(uVar17,uVar16),0x10);
    PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
    local_1a = 0;
  }
  FUN_1040_3398(_PTR_DAT_10a8_0000_10a8_006a,0xffff);
  return local_1a;
}



int __cdecl16far FUN_1040_28f2(int param_1)

{
  int iVar1;

  iVar1 = FUN_1040_3f78(0x2003,param_1,4,1);
  if (iVar1 != 0) {
    FUN_1040_3ea4((byte)param_1,3);
    iVar1 = 1;
  }
  return iVar1;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1040_2922(uint param_1)

{
  byte *pbVar1;
  char *pcVar2;
  int *piVar3;
  int iVar4;
  ulong uVar5;
  int *piVar6;
  uint16 *puVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  uint *puVar11;
  int iVar12;
  int iVar13;
  uint uVar14;
  undefined2 uVar15;
  int unaff_SS;
  undefined4 uVar16;
  undefined2 local_1a;
  undefined2 local_18;
  ulong local_14;
  undefined4 local_10;
  uint16 *local_a;
  undefined4 local_8;
  uint local_4;

  iVar13 = (int)s_From___s_c_c_10a8_10a2 + 6;
  if ((param_1 != 0xffff) && (_PTR_DAT_10a8_0000_10a8_4448 != _PTR_DAT_10a8_0000_10a8_4444)) {
    local_14 = _PTR_DAT_10a8_0000_10a8_4444;
    if ((undefined *)_PTR_DAT_10a8_0000_10a8_4444 < PTR_DAT_10a8_0000_10a8_4448) {
      do {
        uVar14 = (uint)(local_14 >> 0x10);
        iVar8 = (int)local_14;
        local_10 = local_14 & 0xffff0000;
        local_10._2_2_ = (undefined2)(local_10 >> 0x10);
        if ((*(uint *)(iVar8 + 4) & 1 << ((byte)param_1 & 0x1f)) == 0) {
          local_14 = local_14 & 0xffff0000 | (ulong)(uint)(iVar8 + *(int *)(iVar8 + 6));
        }
        else {
          uVar9 = 0;
          if (0 < *(int *)&PTR_DAT_10a8_0002_10a8_0038) {
            local_10 = local_14;
            PTR_DAT_10a8_0000_10a8_4446 = (undefined *)&DAT_10a8_8864;
            puVar11 = (uint *)&DAT_10a8_8864;
            do {
              if (((param_1 != uVar9) && ((*(byte *)((int)puVar11 + 1) & 1) == 0)) &&
                 ((*(uint *)(iVar8 + 4) & 1 << ((byte)uVar9 & 0x1f)) != 0)) {
                pbVar1 = (byte *)((int)puVar11 + 1);
                *pbVar1 = *pbVar1 | 1;
                *puVar11 = *puVar11 & 0xfffb | 3;
              }
              puVar11 = puVar11 + 0x3b;
              uVar9 = uVar9 + 1;
            } while ((int)uVar9 < *(int *)&PTR_DAT_10a8_0002_10a8_0038);
          }
          iVar4 = 0;
          uVar15 = local_10._2_2_;
          if (*(char *)(iVar8 + 2) != '\0') {
            iVar12 = iVar8 + 0x10;
            local_10 = local_10 & 0xffff0000;
            do {
              if (((*(byte *)(iVar12 + -1) & 0x1e) << 8) >> 9 != param_1) {
                piVar6 = FUN_1010_0c48(*(uint *)(iVar12 + -2));
                uVar16 = *(undefined4 *)(piVar6[1] * 4 + 0x72);
                uVar15 = (undefined2)((ulong)uVar16 >> 0x10);
                iVar10 = (int)uVar16 + (uint)(*(byte *)(iVar12 + 1) & 0xf) * 0x87;
                if ((*(byte *)(iVar10 + 0x7c) & 1) == 0) {
                  pbVar1 = (byte *)(iVar10 + 0x7c);
                  *pbVar1 = *pbVar1 | 1;
                  pcVar2 = (char *)((int)&DAT_10a8_885f + piVar6[1] * 0x76);
                  *pcVar2 = *pcVar2 + '\x01';
                }
                uVar16 = *(undefined4 *)(piVar6[1] * 4 + 0x72);
                uVar15 = (undefined2)((ulong)uVar16 >> 0x10);
                iVar10 = (int)uVar16 + (uint)(*(byte *)(iVar12 + 1) & 0xf) * 0x87;
                *(undefined2 *)(iVar10 + 0x7b) =
                     (int)CONCAT31((uint3)(byte)((uint)*(undefined2 *)(iVar10 + 0x7b) >> 8),7);
                if ((*(byte *)((int)piVar6 + 5) & 4) == 0) {
                  if ((*(byte *)((int)piVar6 + 5) & 1) == 0) {
                    piVar3 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + piVar6[1] * 0x76);
                    *piVar3 = *piVar3 + 1;
                    pbVar1 = (byte *)((int)piVar6 + 5);
                    *pbVar1 = *pbVar1 | 1;
                    *(undefined *)(piVar6 + 2) = 0;
                  }
                  piVar3 = piVar6 + 2;
                  *(byte *)piVar3 = *(byte *)piVar3 | 3;
                }
              }
              iVar12 = iVar12 + 8;
              uVar15 = (undefined2)(local_10 >> 0x10);
              iVar4 = iVar4 + 1;
            } while (iVar4 < (int)(uint)*(byte *)(iVar8 + 2));
          }
          if (*(int *)(iVar8 + 8) != -1) {
            uVar16 = CONCAT22(3,param_1);
            piVar6 = FUN_1010_018e(*(int *)(iVar8 + 8));
            FUN_1040_3340(CONCAT22(PTR_DAT_10a8_0000_10a8_4446,piVar6),(int)uVar16,
                          (byte)((ulong)uVar16 >> 0x10));
          }
          if (*(uint *)(iVar8 + 6) < 0x400) {
            FUN_1040_422c(0x1f,*(uint16 **)(iVar8 + 6),local_14 & 0xffff | (ulong)uVar14 << 0x10);
            local_14._0_2_ = iVar8 + *(int *)(iVar8 + 6);
          }
          else {
            puVar7 = (uint16 *)((uint)*(byte *)(iVar8 + 2) * 8 + 0xe);
            uVar9 = (int)puVar7 + iVar8;
            uVar5 = local_14 & 0xffff0000;
            local_8 = uVar5 | uVar9;
            if (puVar7 < (uint16 *)0x400) {
              FUN_1040_422c(0x1f,puVar7,local_14 & 0xffff | (ulong)uVar14 << 0x10);
              local_14._0_2_ = iVar8 + (int)puVar7;
              local_10 = local_10 & 0xffff0000 | local_14 & 0xffff;
            }
            else {
              FUN_1040_422c(0x1f,(uint16 *)((int)&PTR_PTR_DAT_10a8_0000_10a8_782e_10a8_03fd + 1),
                            local_14 & 0xffff | (ulong)uVar14 << 0x10);
              local_14._0_2_ = iVar8 + 0x3fe;
              local_4 = *(byte *)(iVar8 + 2) - 0x7e;
              local_10 = local_10 & 0xffff0000 | local_14 & 0xffff;
              if (local_4 != 0) {
                local_14 = local_14 & 0xffff0000 | (ulong)(uint)local_14;
                do {
                  if (local_4 < 0x80) {
                    FUN_1040_422c(0x27,(uint16 *)(local_4 << 3),CONCAT22(local_18,local_1a));
                    local_4 = 0;
                  }
                  else {
                    FUN_1040_422c(0x27,(uint16 *)0x3f8,CONCAT22(local_18,local_1a));
                    local_14 = local_14 & 0xffff0000 | (ulong)((uint)local_14 + 0x3f8);
                    local_4 = local_4 - 0x7f;
                  }
                } while (local_4 != 0);
              }
              local_14._0_2_ = (uint)local_14 + local_4 * 8;
            }
            local_a = (uint16 *)
                      (-0xe - ((uint)*(byte *)((int)local_10 + 2) * 8 - *(int *)((int)local_10 + 6))
                      );
            if (0x3ff < (int)local_a) {
              local_14 = local_14 & 0xffff0000 | (ulong)(uint)local_14;
              while (local_a != (uint16 *)0x0) {
                local_8._2_2_ = (undefined2)(uVar5 >> 0x10);
                iVar13 = (*(byte *)(uVar9 + 3) + 2) * 3;
                puVar7 = (uint16 *)0x0;
                do {
                  puVar7 = (uint16 *)((int)puVar7 + iVar13);
                  uVar9 = uVar9 + iVar13;
                  local_a = (uint16 *)((int)local_a - iVar13);
                  if (local_a == (uint16 *)0x0) break;
                  iVar13 = (*(byte *)(uVar9 + 3) + 2) * 3;
                } while (iVar13 + (int)puVar7 < 0x400);
                FUN_1040_422c(0x27,puVar7,local_14);
                local_14 = uVar5 | uVar9;
                iVar13 = unaff_SS;
              }
              goto LAB_1040_2c54;
            }
            FUN_1040_422c(0x27,local_a,local_8);
            local_14._0_2_ = (uint)local_14 + (int)local_a;
          }
          local_14 = local_14 & 0xffff0000 | (ulong)(uint)local_14;
        }
LAB_1040_2c54:
      } while ((uint)local_14 < *(uint *)&PTR_DAT_10a8_0000_10a8_4448);
    }
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1040_2c62(uint *param_1,int param_2,int param_3)

{
  long *plVar1;
  undefined4 *puVar2;
  byte bVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  undefined2 *puVar7;
  uint16 *puVar8;
  long *plVar9;
  long *plVar10;
  undefined4 *puVar11;
  long *plVar12;
  undefined2 unaff_SS;
  uint local_5e;
  undefined2 local_5c;
  undefined local_5a [2];
  undefined2 local_58 [37];
  int local_e;
  long *local_c;
  byte local_7;
  long *local_6;

  puVar11 = (undefined4 *)&local_5e;
  for (iVar6 = 0x14; iVar6 != 0; iVar6 = iVar6 + -1) {
    puVar2 = puVar11;
    puVar11 = puVar11 + 1;
    *puVar2 = 0;
  }
  uVar5 = local_5e ^
          ((*param_1 ^ local_5e) & 0xff | ((byte)((ulong)(*param_1 ^ local_5e) >> 8) & 7) << 8);
  local_5e = *(int *)((int)param_1 + 2) << 0xb ^
             (uVar5 & 0xff | ((byte)((ulong)uVar5 >> 8) & 7) << 8);
  bVar3 = (byte)(local_5c >> 8);
  if (param_2 == 0xd) {
    uVar5 = (uint)CONCAT31((uint3)bVar3,7);
  }
  else if (param_2 == 0xe) {
    uVar5 = (uint)CONCAT31((uint3)bVar3,3);
  }
  else {
    uVar5 = (uint)CONCAT31((uint3)bVar3,1);
  }
  local_5c._1_1_ = (byte)(uVar5 >> 8);
  uVar5 = uVar5 ^ ((*(byte *)((int)param_1 + 5) ^ local_5c._1_1_) & 1) << 8;
  local_5c._1_1_ = (byte)(uVar5 >> 8);
  uVar4 = *(int *)((int)param_1 + 4) << 3;
  uVar5 = uVar4 ^ uVar5 ^ ((*(byte *)((int)param_1 + 5) ^ local_5c._1_1_) & 2) << 8;
  local_5c = uVar4 ^ (uVar5 & 0xff | ((byte)((ulong)uVar5 >> 8) & 0x7f) << 8);
  puVar7 = (undefined2 *)local_5a;
  if (param_2 == 0xf) {
    if (param_3 != 0) {
      local_5a = (undefined  [2])*(uint *)((int)param_1 + 0x36);
      puVar7 = local_58;
    }
    puVar8 = (uint16 *)((int)puVar7 - (int)&local_5e);
    iVar6 = 0xf;
  }
  else {
    puVar11 = (undefined4 *)(local_5a + 1);
    local_7 = 3;
    plVar9 = (long *)((int)param_1 + 6);
    local_c = (long *)&PTR_LOOP_10a8_0004;
    local_6 = plVar9;
    do {
      if (*(uint *)plVar9 != 0) {
        if (*(uint *)plVar9 < 0x100) {
          local_5a = (undefined  [2])
                     ((uint)local_5a & 0xff00 | (uint)(local_5a[0] | local_7 & 0x55));
          *(byte *)puVar11 = *(byte *)plVar9;
          puVar11 = (undefined4 *)((int)puVar11 + 1);
        }
        else {
          local_5a = (undefined  [2])
                     ((uint)local_5a & 0xff00 | (uint)(local_5a[0] | local_7 & 0xaa));
          *(uint *)puVar11 = *(uint *)plVar9;
          puVar11 = (undefined4 *)((int)puVar11 + 2);
        }
      }
      plVar9 = (long *)((int)plVar9 + 2);
      local_7 = local_7 << 2;
      local_c = (long *)((int)local_c + -1);
    } while (local_c != (long *)0x0);
    *puVar11 = *(undefined4 *)((int)param_1 + 0xe);
    plVar9 = puVar11 + 1;
    iVar6 = 0;
    do {
      *(byte *)plVar9 = *(byte *)((int)param_1 + iVar6 + 0x12);
      plVar9 = (long *)((int)plVar9 + 1);
      if (*(char *)((int)param_1 + iVar6 + 0x12) != *(char *)((int)param_1 + 0x15 + iVar6)) {
        local_5c = local_5c | 0x400;
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < 3);
    if ((local_5c & 0x400) != 0) {
      iVar6 = 0;
      do {
        *(byte *)plVar9 = *(byte *)((int)param_1 + 0x15 + iVar6);
        plVar9 = (long *)((int)plVar9 + 1);
        iVar6 = iVar6 + 1;
      } while (iVar6 < 3);
    }
    if (*(int *)((int)param_1 + 2) != -1) {
      *(uint *)plVar9 = *(uint *)((int)param_1 + 0x18);
      plVar9 = (long *)((int)plVar9 + 2);
    }
    if (param_3 != 0) {
      *(uint *)plVar9 = *(uint *)((int)param_1 + 0x36);
      plVar9 = (long *)((int)plVar9 + 2);
    }
    if (param_2 == 0xe) {
      puVar8 = (uint16 *)((int)plVar9 - (int)&local_5e);
      iVar6 = 0xe;
    }
    else {
      local_5c = local_5c ^
                 ((byte)((byte)((ulong)((*(uint *)((int)param_1 + 0x20) >> 6) << 0xc) >> 8) ^
                        local_5c._1_1_) & 0x10) << 8;
      if ((((*(int *)((int)param_1 + 2) != -1) &&
           ((*(char *)((int)param_1 + 0x1a) != '\0' ||
            ((*(uint *)((int)param_1 + 0x20) & 0x780) != 0)))) ||
          ((*(ulong *)((int)param_1 + 0x1a) & 0xfff00) != 0)) ||
         (((((*(uint *)((int)param_1 + 0x1c) & 0xfff0) != 0 ||
            ((*(uint *)((int)param_1 + 0x1e) & 0xfff) != 0)) ||
           ((*(ulong *)((int)param_1 + 0x1e) & 0x1f000) != 0x1f000)) ||
          ((*(uint *)((int)param_1 + 0x20) & 0x3e) != 0x3e)))) {
        local_5c = local_5c | 0x800;
        FUN_10a0_0ac6(CONCAT22(0x10a8,plVar9),
                      (ulong)param_1 & 0xffff0000 | (ulong)((int)param_1 + 0x1a),8);
        plVar9 = plVar9 + 2;
      }
      plVar12 = (long *)((int)plVar9 + 1);
      local_7 = 3;
      plVar10 = (long *)((int)param_1 + 0x22);
      local_e = 4;
      local_c = plVar9;
      local_6 = plVar10;
      do {
        if (0 < *plVar10) {
          if (*plVar10 < 0x100) {
            plVar1 = local_c;
            *(byte *)plVar1 = *(byte *)plVar1 | local_7 & 0x55;
            *(byte *)plVar12 = *(byte *)plVar10;
            plVar12 = (long *)((int)plVar12 + 1);
          }
          else {
            uVar5 = *(uint *)((int)plVar10 + 2);
            if (((int)uVar5 < 0) || ((int)uVar5 < 1)) {
              plVar1 = local_c;
              *(byte *)plVar1 = *(byte *)plVar1 | local_7 & 0xaa;
              *(uint *)plVar12 = *(uint *)plVar10;
              plVar12 = (long *)((int)plVar12 + 2);
            }
            else {
              plVar1 = local_c;
              *(byte *)plVar1 = *(byte *)plVar1 | local_7;
              *plVar12 = *plVar10;
              plVar12 = plVar12 + 1;
            }
          }
        }
        plVar10 = plVar10 + 1;
        local_7 = local_7 << 2;
        local_e = local_e + -1;
      } while (local_e != 0);
      plVar9 = local_c;
      if (*(byte *)local_c != 0) {
        local_5c = local_5c | 0x2000;
        plVar9 = plVar12;
      }
      if (*(int *)((int)param_1 + 2) != -1) {
        if (*(long *)((int)param_1 + 0x32) < 0x100) {
          *(byte *)plVar9 = *(byte *)((int)param_1 + 0x32);
          plVar9 = (long *)((int)plVar9 + 1);
          local_5c = local_5c | 0x4000;
        }
        else {
          iVar6 = *(int *)((int)param_1 + 0x34);
          if ((-1 < iVar6) && (0 < iVar6)) {
            *(undefined4 *)((int)param_1 + 0x32) = 0xff98;
          }
          *(uint *)plVar9 = *(uint *)((int)param_1 + 0x32);
          plVar9 = (long *)((int)plVar9 + 2);
        }
      }
      puVar8 = (uint16 *)((int)plVar9 - (int)&local_5e);
      iVar6 = 0xd;
    }
  }
  FUN_1040_422c(iVar6,puVar8,CONCAT22(unaff_SS,&local_5e));
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1040_2f6a(undefined4 param_1)

{
  int *piVar1;
  uint *puVar2;
  uint *puVar3;
  int iVar4;
  long *plVar5;
  uint uVar6;
  long *plVar7;
  undefined2 unaff_SS;
  undefined local_90 [4];
  undefined2 local_8c;
  uint local_84;
  uint local_82 [56];
  long *local_12;
  uint *local_10;
  int local_e;
  uint local_c;
  uint local_8;
  long *local_6;
  undefined2 local_4;

  FUN_10a0_0ac6(CONCAT22(unaff_SS,local_90),param_1,0xc);
  uVar6 = 1;
  local_10 = (uint *)0x1;
  local_c = 0;
  local_6 = (long *)((int)param_1 + 0xc);
  local_4 = param_1._2_2_;
  local_e = 0x10;
  piVar1 = (int *)local_6;
  do {
    if ((0 < *piVar1) && (local_c = local_c | uVar6, 0xff < *piVar1)) {
      local_10 = (uint *)0x0;
    }
    piVar1 = piVar1 + 1;
    uVar6 = uVar6 * 2;
    local_e = local_e + -1;
  } while (local_e != 0);
  local_8c = local_8c ^
             ((byte)((byte)((uint)((int)local_10 << 0xb) >> 8) ^ local_8c._1_1_) & 8) << 8;
  local_84 = local_c;
  local_12 = (long *)local_82;
  if (local_10 == (uint *)0x0) {
    puVar2 = (uint *)((int)param_1 + 0xc);
    iVar4 = 0x10;
    do {
      if (0 < (int)*puVar2) {
        *(uint *)local_12 = *puVar2;
        local_12 = (long *)((int)local_12 + 2);
      }
      puVar2 = puVar2 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
  }
  else {
    piVar1 = (int *)((int)param_1 + 0xc);
    iVar4 = 0x10;
    do {
      if (0 < *piVar1) {
        *(undefined *)local_12 = *(undefined *)piVar1;
        local_12 = (long *)((int)local_12 + 1);
      }
      piVar1 = piVar1 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
  }
  if (*(char *)((int)param_1 + 4) == '\a') {
    uVar6 = 1;
    local_10 = (uint *)0x1;
    local_c = 0;
    puVar2 = (uint *)((int)param_1 + 0x2c);
    local_e = 0x10;
    do {
      if ((*puVar2 != 0) && (local_c = local_c | uVar6, 0xff < *puVar2)) {
        local_10 = (uint *)0x0;
      }
      puVar2 = puVar2 + 1;
      uVar6 = uVar6 * 2;
      local_e = local_e + -1;
    } while (local_e != 0);
    local_8c._1_1_ = (byte)(local_8c >> 8);
    local_8c = local_8c ^
               ((byte)((byte)((uint)((int)local_10 << 0xc) >> 8) ^ local_8c._1_1_) & 0x10) << 8;
    *(uint *)local_12 = local_c;
    puVar2 = (uint *)((int)local_12 + 2);
    if (local_10 == (uint *)0x0) {
      puVar3 = (uint *)((int)param_1 + 0x2c);
      local_4 = 0x10;
      iVar4 = 0x10;
      do {
        if (*puVar3 != 0) {
          *puVar2 = *puVar3;
          puVar2 = puVar2 + 1;
        }
        puVar3 = puVar3 + 1;
        iVar4 = iVar4 + -1;
      } while (iVar4 != 0);
    }
    else {
      piVar1 = (int *)((int)param_1 + 0x2c);
      iVar4 = 0x10;
      do {
        if (*piVar1 != 0) {
          *(undefined *)puVar2 = *(undefined *)piVar1;
          puVar2 = (uint *)((int)puVar2 + 1);
        }
        piVar1 = piVar1 + 1;
        iVar4 = iVar4 + -1;
        local_4 = param_1._2_2_;
      } while (iVar4 != 0);
    }
    local_8 = 3;
    local_12 = (long *)(puVar2 + 1);
    local_c = 0;
    local_6 = (long *)((int)param_1 + 0x4c);
    local_e = 5;
    plVar5 = local_6;
    plVar7 = local_12;
    do {
      if (0 < *plVar5) {
        if (*plVar5 < 0x100) {
          local_c = local_c | local_8 & 0x155;
          *(undefined *)plVar7 = *(undefined *)plVar5;
          plVar7 = (long *)((int)plVar7 + 1);
        }
        else {
          uVar6 = *(uint *)((int)plVar5 + 2);
          if (((int)uVar6 < 0) || ((int)uVar6 < 1)) {
            local_c = local_c | local_8 & 0x2aa;
            *(uint *)plVar7 = *(uint *)plVar5;
            plVar7 = (long *)((int)plVar7 + 2);
          }
          else {
            local_c = local_c | local_8 & 0xff | ((byte)((ulong)local_8 >> 8) & 3) << 8;
            *plVar7 = *plVar5;
            plVar7 = plVar7 + 1;
          }
        }
      }
      plVar5 = plVar5 + 1;
      local_8 = local_8 << 2;
      local_e = local_e + -1;
    } while (local_e != 0);
    *puVar2 = local_c;
    *(undefined *)plVar7 = *(undefined *)((int)param_1 + 0x60);
    *(undefined *)((int)plVar7 + 1) = *(undefined *)((int)param_1 + 0x62);
    local_10 = puVar2;
    FUN_1040_422c(0x10,(uint16 *)((int)plVar7 + (2 - (int)local_90)),CONCAT22(unaff_SS,local_90));
    FUN_1040_202a(param_1);
    return;
  }
  FUN_1040_422c(0x11,(uint16 *)-((int)local_90 - (int)local_12),CONCAT22(unaff_SS,local_90));
  return;
}



void __cdecl16far FUN_1040_31de(undefined4 param_1)

{
  byte *pbVar1;
  int *piVar2;
  undefined2 uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  undefined2 uVar8;

  uVar8 = (undefined2)((ulong)param_1 >> 0x10);
  iVar4 = (int)param_1;
  iVar6 = *(int *)(iVar4 + 2) * 4;
  iVar5 = *(int *)(iVar6 + 0x72);
  uVar3 = *(undefined2 *)(iVar6 + 0x74);
  if ((*(byte *)(iVar4 + 5) & 1) == 0) {
    pbVar1 = (byte *)(iVar4 + 5);
    *pbVar1 = *pbVar1 | 1;
    *(undefined *)(iVar4 + 4) = 0;
  }
  pbVar1 = (byte *)(iVar4 + 4);
  *pbVar1 = *pbVar1 | 3;
  piVar2 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + *(int *)(iVar4 + 2) * 0x76);
  *piVar2 = *piVar2 + 1;
  iVar5 = iVar5 + 0x7b;
  piVar7 = (int *)(iVar4 + 0xc);
  iVar4 = 0x10;
  do {
    if (*piVar7 != 0) {
      pbVar1 = (byte *)(iVar5 + 1);
      *pbVar1 = *pbVar1 | 1;
    }
    iVar5 = iVar5 + 0x87;
    piVar7 = piVar7 + 1;
    iVar4 = iVar4 + -1;
  } while (iVar4 != 0);
  return;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1040_3258(undefined4 param_1,int param_2)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  undefined2 *puVar8;
  undefined2 *puVar9;
  undefined2 unaff_SS;
  undefined2 uVar10;
  undefined2 local_54 [7];
  undefined local_46;
  undefined2 local_45 [15];
  undefined2 local_26 [16];
  uint local_6;
  undefined *local_4;

  uVar10 = (undefined2)((ulong)param_1 >> 0x10);
  FUN_10a0_0ac6(CONCAT22(unaff_SS,local_54),param_1,0xe);
  local_4 = &local_46;
  pcVar7 = (char *)((int)param_1 + 0xe);
  puVar9 = local_26;
  uVar5 = 0xffff;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar2 = pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (*pcVar2 != '\0');
  uVar5 = ~uVar5;
  puVar8 = (undefined2 *)(pcVar7 + -uVar5);
  for (uVar6 = uVar5 >> 1; uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar3 = puVar9;
    puVar9 = puVar9 + 1;
    puVar1 = puVar8;
    puVar8 = puVar8 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar5 = (uint)((uVar5 & 1) != 0); uVar5 != 0; uVar5 = uVar5 - 1) {
    puVar3 = puVar9;
    puVar9 = (undefined2 *)((int)puVar9 + 1);
    puVar1 = puVar8;
    puVar8 = (undefined2 *)((int)puVar8 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  local_6 = 0x1f;
  if ((char)local_26[0] != '\0') {
    iVar4 = FUN_1018_6776((char *)local_26,unaff_SS,CONCAT22(0x10a8,local_45),&local_6);
    if (iVar4 != 0) {
      local_46 = (undefined)local_6;
      local_4 = (undefined *)((int)local_45 + local_6);
      goto LAB_1040_3306;
    }
  }
  pcVar7 = (char *)local_26;
  puVar9 = local_45;
  uVar5 = 0xffff;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar2 = pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (*pcVar2 != '\0');
  uVar5 = ~uVar5;
  puVar8 = (undefined2 *)(pcVar7 + -uVar5);
  for (uVar6 = uVar5 >> 1; uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar3 = puVar9;
    puVar9 = puVar9 + 1;
    puVar1 = puVar8;
    puVar8 = puVar8 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar5 = (uint)((uVar5 & 1) != 0); uVar5 != 0; uVar5 = uVar5 - 1) {
    puVar3 = puVar9;
    puVar9 = (undefined2 *)((int)puVar9 + 1);
    puVar1 = puVar8;
    puVar8 = (undefined2 *)((int)puVar8 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  local_46 = 0;
  pcVar7 = (char *)local_26;
  uVar5 = 0xffff;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar2 = pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (*pcVar2 != '\0');
  local_4 = (undefined *)((int)local_45 + ~uVar5);
LAB_1040_3306:
  if (param_2 != 0) {
    FUN_1020_4788(0x1e,-((int)local_54 - (int)local_4),local_54);
    return;
  }
  FUN_1040_422c(0x1e,(uint16 *)-((int)local_54 - (int)local_4),CONCAT22(unaff_SS,local_54));
  return;
}



void __cdecl16far FUN_1040_3340(undefined4 param_1,int param_2,byte param_3)

{
  byte *pbVar1;
  int *piVar2;
  uint *puVar3;
  int iVar4;
  undefined2 uVar5;

  uVar5 = (undefined2)((ulong)param_1 >> 0x10);
  iVar4 = (int)param_1;
  if ((*(byte *)(iVar4 + 5) & 1) == 0) {
    pbVar1 = (byte *)(iVar4 + 5);
    *pbVar1 = *pbVar1 | 1;
    *(undefined *)(iVar4 + 4) = 0;
    piVar2 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8860 + param_2 * 0x76);
    *piVar2 = *piVar2 + 1;
  }
  puVar3 = (uint *)(iVar4 + 4);
  *puVar3 = *puVar3 | (uint)param_3;
  iVar4 = *(int *)(iVar4 + 2);
  if ((iVar4 != -1) && ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + iVar4 * 0x76) & 1) == 0)) {
    pbVar1 = (byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + iVar4 * 0x76);
    *pbVar1 = *pbVar1 | 1;
    *(uint *)((int)&DAT_10a8_8864 + iVar4 * 0x76) =
         *(uint *)((int)&DAT_10a8_8864 + iVar4 * 0x76) & 0xfffb | 3;
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1040_3398(ulong param_1,uint param_2)

{
  byte *pbVar1;
  char *pcVar2;
  int *piVar3;
  uint *puVar4;
  undefined4 *puVar5;
  undefined4 uVar6;
  int iVar7;
  int iVar8;
  undefined *puVar9;
  uint uVar10;
  undefined2 *puVar11;
  uint uVar12;
  int iVar13;
  int *piVar14;
  int *piVar15;
  undefined4 *puVar16;
  int iVar17;
  uint *puVar18;
  undefined2 uVar19;
  undefined2 uVar20;
  int unaff_SS;
  long lStackY_448;
  char cVar21;
  char cVar22;
  long local_424;
  undefined4 local_418 [250];
  undefined4 local_30;
  int *local_2c;
  uint local_2a;
  int local_28;
  int local_26;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_1a;
  int local_16;
  ulong local_14;
  ulong local_10;
  undefined4 local_c;
  undefined4 *local_8;
  undefined4 local_6;

  if (param_2 != 0xffff) {
    puVar16 = local_418;
    for (iVar8 = 0xf9; iVar8 != 0; iVar8 = iVar8 + -1) {
      puVar5 = puVar16;
      puVar16 = puVar16 + 1;
      *puVar5 = 0x31313131;
    }
    *(undefined2 *)puVar16 = 0x3131;
    *(undefined *)(undefined2 *)((int)puVar16 + 2) = 0x31;
  }
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    puVar11 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_8860;
    puVar9 = PTR_DAT_10a8_0002_10a8_0038;
    do {
      *puVar11 = 0;
      puVar11 = puVar11 + 0x3b;
      puVar9 = puVar9 + -1;
    } while (puVar9 != (undefined *)0x0);
  }
  uVar12 = 0;
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    local_8 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_0072;
    puVar18 = (uint *)&DAT_10a8_8864;
    do {
      if ((param_2 == 0xffff) || (uVar12 == param_2)) {
        puVar4 = puVar18;
        *puVar4 = *puVar4 | 0x107;
      }
      else {
        pbVar1 = (byte *)((int)puVar18 + 1);
        *pbVar1 = *pbVar1 & 0xfe;
      }
      puVar18[-1] = 0;
      *(undefined *)((int)puVar18 + -5) = 0;
      local_6 = ZEXT24(puVar18);
      iVar8 = 0;
      do {
        if ((param_2 == 0xffff) || (uVar12 == param_2)) {
          uVar6 = *local_8;
          uVar19 = (undefined2)((ulong)uVar6 >> 0x10);
          iVar13 = (int)uVar6 + iVar8;
          if ((*(byte *)(iVar13 + 0x7c) & 2) != 0) goto LAB_1040_3462;
          pbVar1 = (byte *)(iVar13 + 0x7c);
          *pbVar1 = *pbVar1 | 1;
          uVar6 = *local_8;
          uVar19 = (undefined2)((ulong)uVar6 >> 0x10);
          iVar13 = (int)uVar6;
          *(undefined2 *)(iVar13 + iVar8 + 0x7b) =
               (int)CONCAT31((uint3)(byte)((uint)*(undefined2 *)(iVar13 + iVar8 + 0x7b) >> 8),7);
          uVar6 = *local_8;
          *(undefined2 *)((int)uVar6 + iVar8 + 0x81) = 0;
          pcVar2 = (char *)((int)puVar18 + -5);
          *pcVar2 = *pcVar2 + '\x01';
        }
        else {
LAB_1040_3462:
          uVar6 = *local_8;
          pbVar1 = (byte *)((int)uVar6 + iVar8 + 0x7c);
          *pbVar1 = *pbVar1 & 0xfe;
        }
        iVar8 = iVar8 + 0x87;
      } while (iVar8 < 0x870);
      puVar18 = puVar18 + 0x3b;
      local_8 = local_8 + 1;
      uVar12 = uVar12 + 1;
    } while ((int)uVar12 < (int)PTR_DAT_10a8_0002_10a8_0038);
  }
  uVar19 = (undefined2)(param_1 >> 0x10);
  piVar15 = (int *)param_1;
  local_1a._0_2_ = 0;
  piVar14 = piVar15;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_7d52) {
    do {
      if ((param_2 == 0xffff) || (piVar14[1] == param_2)) {
        pbVar1 = (byte *)((int)piVar14 + 5);
        *pbVar1 = *pbVar1 | 1;
        piVar14[2] = (int)CONCAT31((uint3)(byte)((uint)piVar14[2] >> 8),7);
        if (param_2 != 0xffff) {
          piVar3 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8860 + param_2 * 0x76);
          *piVar3 = *piVar3 + 1;
          *(undefined *)((int)local_418 + *piVar14) = *(undefined *)(piVar14 + 1);
        }
      }
      else {
        pbVar1 = (byte *)((int)piVar14 + 5);
        *pbVar1 = *pbVar1 & 0xfe;
      }
      local_1a._0_2_ = (int)local_1a + 1;
      piVar14 = piVar14 + 0x1e;
    } while ((int)local_1a < (int)PTR_DAT_10a8_0000_10a8_7d52);
  }
  local_1a._0_2_ = 0;
  iVar8 = (int)s_From___s_c_c_10a8_10a2 + 6;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    local_c = local_c & 0xffff;
    do {
      uVar6 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      uVar20 = (undefined2)((ulong)uVar6 >> 0x10);
      iVar8 = (int)uVar6;
      uVar12 = *(uint *)(iVar8 + local_c._2_2_);
      uVar10 = *(uint *)(iVar8 + local_c._2_2_ + 2);
      local_20 = local_20 & 0xffff | (ulong)uVar10 << 0x10;
      iVar8 = unaff_SS;
      if ((uVar10 | uVar12) == 0) break;
      if (((param_2 == 0xffff) || (*(uint *)(uVar12 + 2) == param_2)) &&
         ((*(byte *)(uVar12 + 5) & 4) == 0)) {
        pbVar1 = (byte *)(uVar12 + 5);
        *pbVar1 = *pbVar1 | 1;
        *(undefined2 *)(uVar12 + 4) =
             (int)CONCAT31((uint3)(byte)((uint)*(undefined2 *)(uVar12 + 4) >> 8),7);
        piVar3 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + *(int *)(uVar12 + 2) * 0x76);
        *piVar3 = *piVar3 + 1;
        local_8 = (undefined4 *)0x0;
        piVar14 = (int *)(uVar12 + 0xc);
        local_6 = local_6 & 0xffff0000 | ZEXT24(piVar14);
        local_20 = CONCAT22(uVar10,uVar12);
        iVar13 = 0;
        do {
          if (*piVar14 != 0) {
            uVar6 = *(undefined4 *)(*(int *)(uVar12 + 2) * 4 + 0x72);
            piVar3 = (int *)((int)uVar6 + iVar13 + 0x81);
            *piVar3 = *piVar3 + *piVar14;
          }
          piVar14 = piVar14 + 1;
          iVar13 = iVar13 + 0x87;
        } while (iVar13 < 0x870);
        if ((param_2 != 0xffff) && (*(int *)(uVar12 + 6) != -1)) {
          iVar13 = *(int *)(uVar12 + 6);
          local_24 = (int *)(param_1 & 0xffff0000 | (ulong)local_24 & 0xffff);
          if ((*(byte *)((int)piVar15 + iVar13 * 0x3c + 5) & 1) == 0) {
            pbVar1 = (byte *)((int)piVar15 + iVar13 * 0x3c + 5);
            *pbVar1 = *pbVar1 | 1;
            *(undefined *)(piVar15 + iVar13 * 0x1e + 2) = 0;
            piVar3 = (int *)((int)&PTR_DAT_10a8_0000_10a8_8860 + param_2 * 0x76);
            *piVar3 = *piVar3 + 1;
          }
          iVar17 = FUN_1010_1e9a(uVar12,uVar10,(undefined2 *)0x0);
          if (iVar17 < 0) {
            uVar10 = 1;
          }
          else {
            uVar10 = 3;
          }
          local_6 = local_6 & 0xffff | (ulong)uVar10 << 0x10;
          if (((uVar10 == 1) && ((*(byte *)(uVar12 + 5) & 0x20) != 0)) &&
             ((uVar6 = *(undefined4 *)(uVar12 + 100), (*(byte *)((int)uVar6 + 10) & 0xf) == 4 &&
              (iVar17 = FUN_1028_1f8c(uVar12,local_20._2_2_), 0 < iVar17)))) {
            local_6 = CONCAT22(3,(int *)local_6);
          }
          if ((((*(byte *)(piVar15 + iVar13 * 0x1e + 2) & local_6._2_1_) != local_6._2_2_) &&
              (puVar4 = (uint *)(piVar15 + iVar13 * 0x1e + 2),
              *puVar4 = *puVar4 | (uint)local_6._2_1_, piVar15[iVar13 * 0x1e + 1] != -1)) &&
             ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + piVar15[iVar13 * 0x1e + 1] * 0x76) & 1)
              == 0)) {
            pbVar1 = (byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + piVar15[iVar13 * 0x1e + 1] * 0x76)
            ;
            *pbVar1 = *pbVar1 | 1;
            iVar13 = piVar15[iVar13 * 0x1e + 1] * 0x76;
            *(uint *)((int)&DAT_10a8_8864 + iVar13) =
                 *(uint *)((int)&DAT_10a8_8864 + iVar13) & 0xfffb | 3;
          }
          *(undefined *)((int)local_418 + *(int *)(uVar12 + 6)) = 0x32;
        }
      }
      else {
        pbVar1 = (byte *)(uVar12 + 5);
        *pbVar1 = *pbVar1 & 0xfe;
      }
      local_c = local_c & 0xffff | (ulong)(local_c._2_2_ + 4) << 0x10;
      local_1a._0_2_ = (int)local_1a + 1;
    } while ((int)local_1a < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  if (param_2 == 0xffff) {
    *(undefined2 *)&PTR_DAT_10a8_0000_10a8_8860 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_003a;
    return;
  }
  local_1a = (ulong)local_1a._2_2_ << 0x10;
  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
    local_28 = 0;
    do {
      uVar6 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      uVar19 = (undefined2)((ulong)uVar6 >> 0x10);
      iVar13 = (int)uVar6;
      uVar12 = *(uint *)(iVar13 + local_28);
      uVar10 = *(uint *)(iVar13 + local_28 + 2);
      local_20 = local_20 & 0xffff | (ulong)uVar10 << 0x10;
      if ((uVar10 | uVar12) == 0) break;
      if ((*(byte *)(uVar12 + 5) & 4) == 0) {
        if (*(uint *)(uVar12 + 2) == param_2) {
          if (((*(byte *)(uVar12 + 5) & 0x10) != 0) && (*(int *)(uVar12 + 6) != -1)) {
            FUN_1040_3340(CONCAT22(*(undefined2 *)&PTR_DAT_10a8_0000_10a8_006c,
                                   *(int *)(uVar12 + 6) * 0x3c +
                                   *(int *)&PTR_DAT_10a8_0000_10a8_006a),param_2,3);
          }
          local_1c = FUN_1010_1e9a(uVar12,local_20._2_2_,&local_26);
          if (local_1c < 0) {
            local_1c = 0;
          }
          cVar21 = (char)(local_1c >> 0xf);
          local_10 = (long)local_1c * CONCAT13(cVar21,CONCAT12(cVar21,local_1c));
          cVar21 = (char)(local_26 >> 0xf);
          local_14 = (long)local_26 * CONCAT13(cVar21,CONCAT12(cVar21,local_26));
          local_30 = *(undefined4 *)(uVar12 + 8);
          local_16 = 0;
          local_20 = local_20 & 0xffff0000 | (ulong)uVar12;
          if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
            local_1a = local_1a & 0xffff;
            iVar13 = 0;
            do {
              uVar6 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
              local_6 = *(ulong *)((int)uVar6 + iVar13);
              if (local_6 == 0) break;
              uVar19 = (undefined2)(local_6 >> 0x10);
              iVar17 = (int)local_6;
              if ((*(byte *)(iVar17 + 5) & 5) == 0) {
                uVar12 = (int)local_30 - *(int *)(iVar17 + 8);
                uVar10 = (int)uVar12 >> 0xf;
                iVar7 = (uVar12 ^ uVar10) - uVar10;
                if (iVar7 <= local_1c) {
                  uVar12 = local_30._2_2_ - *(int *)(iVar17 + 10);
                  uVar10 = (int)uVar12 >> 0xf;
                  local_8 = (undefined4 *)((uVar12 ^ uVar10) - uVar10);
                  if ((int)local_8 <= local_1c) {
                    cVar21 = (char)(iVar7 >> 0xf);
                    cVar22 = (char)((int)local_8 >> 0xf);
                    local_c = (long)(int)local_8 * CONCAT13(cVar22,CONCAT12(cVar22,local_8)) +
                              (long)iVar7 * CONCAT13(cVar21,CONCAT12(cVar21,iVar7));
                    if (((long)local_c <= (long)local_10) &&
                       ((*(int *)(iVar17 + 6) == -1 || ((long)local_c <= (long)local_14)))) {
                      iVar17 = FUN_1028_2058(iVar17,uVar19);
                      if (iVar17 != 0) {
                        iVar17 = 100 - iVar17;
                        local_424 = (long)iVar17;
                        lStackY_448 = (long)iVar17;
                        if (((((long)(lStackY_448 * local_10) / 100) * (long)iVar17) / 100 <
                             (long)local_c) ||
                           ((*(int *)((int)local_6 + 6) != -1 &&
                            ((((long)(local_424 * local_14) / 100) * local_424) / 100 <
                             (long)local_c)))) goto LAB_1040_38d6;
                      }
                      FUN_1040_31de(local_6);
                    }
                  }
                }
              }
LAB_1040_38d6:
              iVar13 = iVar13 + 4;
              local_16 = local_16 + 1;
            } while (local_16 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
          }
          if (0 < local_26) {
            local_1c = local_26;
            cVar21 = (char)(local_26 >> 0xf);
            local_10 = (long)local_26 * CONCAT13(cVar21,CONCAT12(cVar21,local_26));
            local_30 = *(undefined4 *)((int)local_20 + 8);
            piVar14 = *(int **)&PTR_DAT_10a8_0000_10a8_006a;
            local_2a = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
            local_24 = (int *)((ulong)local_24 & 0xffff | (ulong)local_2a << 0x10);
            if (piVar14 < piVar14 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e) {
              local_2c = piVar14 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e;
              do {
                if (((*(byte *)((int)piVar14 + 5) & 1) == 0) || (*(byte *)(piVar14 + 2) < 3)) {
                  uVar12 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *piVar14 * 4) -
                           (int)local_30;
                  uVar10 = (int)uVar12 >> 0xf;
                  iVar13 = (uVar12 ^ uVar10) - uVar10;
                  if (iVar13 <= local_1c) {
                    uVar12 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + *piVar14 * 4) -
                             local_30._2_2_;
                    uVar10 = (int)uVar12 >> 0xf;
                    local_8 = (undefined4 *)((uVar12 ^ uVar10) - uVar10);
                    if (((int)local_8 <= local_1c) &&
                       (cVar21 = (char)(iVar13 >> 0xf), cVar22 = (char)((int)local_8 >> 0xf),
                       (long)(int)local_8 * CONCAT13(cVar22,CONCAT12(cVar22,local_8)) +
                       (long)iVar13 * CONCAT13(cVar21,CONCAT12(cVar21,iVar13)) <= (long)local_10)) {
                      FUN_1040_3340((ulong)local_24 & 0xffff0000 | ZEXT24(piVar14),param_2,3);
                    }
                  }
                }
                piVar14 = piVar14 + 0x1e;
              } while (piVar14 < local_2c);
            }
          }
        }
        else if ((((*(byte *)(uVar12 + 5) & 1) == 0) && (*(int *)(uVar12 + 6) != -1)) &&
                (*(byte *)((int)local_418 + *(int *)(uVar12 + 6)) == param_2)) {
          FUN_1040_31de((ulong)uVar10 << 0x10 & 0xff000000 | (ulong)CONCAT12((char)uVar10,uVar12));
        }
      }
      local_28 = local_28 + 4;
      local_1a = local_1a & 0xffff0000 | (ulong)((int)local_1a + 1U);
    } while ((int)((int)local_1a + 1U) < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  uVar12 = *(uint *)&PTR_DAT_10a8_0000_10a8_006a;
  local_2a = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_006c;
  local_24 = (int *)((ulong)local_24 & 0xffff);
  local_2c = (int *)(uVar12 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  if (uVar12 < local_2c) {
    local_24 = (int *)CONCAT22(local_2a,uVar12);
    do {
      uVar19 = (undefined2)((ulong)local_24 >> 0x10);
      if (*(uint *)((int)local_24 + 2) == param_2) {
        iVar13 = FUN_1010_1df4((int)local_24,uVar19,(int *)&local_14);
        cVar21 = (char)(iVar13 >> 0xf);
        local_10 = (long)iVar13 * CONCAT13(cVar21,CONCAT12(cVar21,iVar13));
        cVar21 = (char)(local_14 >> 8) >> 7;
        local_1a = (local_14 & 0xffff | (ulong)(uint)((int)local_14 >> 0xf) << 0x10) *
                   CONCAT13(cVar21,CONCAT12(cVar21,(int)local_14));
        local_30 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *local_24 * 4);
        local_16 = 0;
        if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
          iVar17 = 0;
          local_14 = local_14 & 0xffff;
          local_1c = iVar13;
          do {
            uVar6 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
            local_6 = *(ulong *)((int)uVar6 + iVar17);
            if (local_6 == 0) break;
            uVar19 = (undefined2)(local_6 >> 0x10);
            iVar13 = (int)local_6;
            if ((*(byte *)(iVar13 + 5) & 5) == 0) {
              uVar12 = (int)local_30 - *(int *)(iVar13 + 8);
              uVar10 = (int)uVar12 >> 0xf;
              iVar7 = (uVar12 ^ uVar10) - uVar10;
              if (iVar7 <= local_1c) {
                uVar12 = local_30._2_2_ - *(int *)(iVar13 + 10);
                uVar10 = (int)uVar12 >> 0xf;
                local_8 = (undefined4 *)((uVar12 ^ uVar10) - uVar10);
                if ((((int)local_8 <= local_1c) &&
                    (cVar21 = (char)(iVar7 >> 0xf), cVar22 = (char)((int)local_8 >> 0xf),
                    local_c = (long)(int)local_8 * CONCAT13(cVar22,CONCAT12(cVar22,local_8)) +
                              (long)iVar7 * CONCAT13(cVar21,CONCAT12(cVar21,iVar7)),
                    (long)local_c <= (long)local_10)) &&
                   ((*(int *)(iVar13 + 6) == -1 || ((long)local_c <= (long)local_1a)))) {
                  iVar13 = FUN_1028_2058(iVar13,uVar19);
                  if (iVar13 != 0) {
                    iVar13 = 100 - iVar13;
                    local_424 = (long)iVar13;
                    lStackY_448 = (long)iVar13;
                    if (((((long)(lStackY_448 * local_10) / 100) * (long)iVar13) / 100 <
                         (long)local_c) ||
                       ((*(int *)((int)local_6 + 6) != -1 &&
                        ((((long)(local_424 * local_1a) / 100) * local_424) / 100 < (long)local_c)))
                       ) goto LAB_1040_3b96;
                  }
                  FUN_1040_31de(local_6);
                }
              }
            }
LAB_1040_3b96:
            iVar17 = iVar17 + 4;
            local_16 = local_16 + 1;
          } while (local_16 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
        }
        if (0 < (int)local_14) {
          local_1c = (int)local_14;
          local_10 = local_1a;
          piVar14 = *(int **)&PTR_DAT_10a8_0000_10a8_006a;
          uVar12 = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
          local_c = local_c & 0xffff | (ulong)uVar12 << 0x10;
          local_6 = local_6 & 0xffff | (ulong)uVar12 << 0x10;
          if (piVar14 < piVar14 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e) {
            local_6 = CONCAT22(uVar12,piVar14 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e);
            do {
              if (((*(byte *)((int)piVar14 + 5) & 1) == 0) || (*(byte *)(piVar14 + 2) < 3)) {
                uVar12 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *piVar14 * 4) - (int)local_30;
                uVar10 = (int)uVar12 >> 0xf;
                iVar13 = (uVar12 ^ uVar10) - uVar10;
                if (iVar13 <= local_1c) {
                  uVar12 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + *piVar14 * 4) -
                           local_30._2_2_;
                  uVar10 = (int)uVar12 >> 0xf;
                  local_8 = (undefined4 *)((uVar12 ^ uVar10) - uVar10);
                  if (((int)local_8 <= local_1c) &&
                     (cVar21 = (char)(iVar13 >> 0xf), cVar22 = (char)((int)local_8 >> 0xf),
                     (long)(int)local_8 * CONCAT13(cVar22,CONCAT12(cVar22,local_8)) +
                     (long)iVar13 * CONCAT13(cVar21,CONCAT12(cVar21,iVar13)) <= (long)local_10)) {
                    FUN_1040_3340(local_c & 0xffff0000 | ZEXT24(piVar14),param_2,3);
                  }
                }
              }
              piVar14 = piVar14 + 0x1e;
            } while (piVar14 < (int *)local_6);
          }
        }
      }
      local_24 = (int *)((ulong)local_24 & 0xffff0000 | (ulong)((int)local_24 + 0x3cU));
    } while ((int)local_24 + 0x3cU < local_2c);
  }
  uVar12 = 0;
  if (0 < *(int *)&PTR_DAT_10a8_0002_10a8_0038) {
    puVar18 = (uint *)&DAT_10a8_8864;
    puVar16 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_0072;
    do {
      if (param_2 != uVar12) {
        local_1a = local_1a & 0xffff0000 | (ulong)uVar12;
        iVar13 = 0;
        local_6 = CONCAT22(puVar18,puVar16);
        do {
          uVar6 = *puVar16;
          uVar19 = (undefined2)((ulong)uVar6 >> 0x10);
          iVar17 = (int)uVar6 + iVar13;
          puVar11 = (undefined2 *)(iVar17 + 0x7b);
          if ((*(byte *)(iVar17 + 0x7c) & 1) != 0) {
            *puVar11 = (int)CONCAT31((uint3)(byte)((uint)*puVar11 >> 8),3);
            pbVar1 = (byte *)((int)puVar18 + 1);
            *pbVar1 = *pbVar1 | 1;
            *puVar18 = *puVar18 & 0xfffb | 3;
            pcVar2 = (char *)((int)puVar18 + -5);
            *pcVar2 = *pcVar2 + '\x01';
          }
          iVar13 = iVar13 + 0x87;
        } while (iVar13 < 0x870);
      }
      puVar18 = puVar18 + 0x3b;
      puVar16 = puVar16 + 1;
      uVar12 = uVar12 + 1;
    } while ((int)uVar12 < *(int *)&PTR_DAT_10a8_0002_10a8_0038);
  }
  if ((*(int *)&PTR_DAT_10a8_0000_10a8_0042 == 0) && (param_2 != 0xffff)) {
    uVar12 = *(uint *)&PTR_DAT_10a8_0000_10a8_006a;
    local_2a = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
    local_24 = (int *)((ulong)local_24 & 0xffff | (ulong)local_2a << 0x10);
    local_2c = (int *)(uVar12 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
    if (uVar12 < local_2c) {
      do {
        if (((*(uint *)(uVar12 + 0x24) | *(uint *)(uVar12 + 0x22)) != 0) &&
           ((((*(byte *)(uVar12 + 5) & 1) == 0 || (*(byte *)(uVar12 + 4) < 3)) &&
            (iVar8 = FUN_1078_1d84(*(int *)(uVar12 + 2) * 0x76 + -0x77a2,0x15), iVar8 != 0)))) {
          FUN_1040_3340((ulong)local_24 & 0xffff0000 | (ulong)uVar12,param_2,3);
        }
        uVar12 = uVar12 + 0x3c;
      } while (uVar12 < local_2c);
    }
  }
  return;
}



void __cdecl16far FUN_1040_3d68(int param_1)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  char *pcVar4;
  char *pcVar5;
  int16 *piVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  undefined2 *puVar10;
  undefined2 *puVar11;
  int in_stack_00000006;
  undefined2 local_4;

  pcVar4 = FUN_10a0_0514((char *)&DAT_10a8_85dc,'.');
  if ((pcVar4 != (char *)0x0) &&
     ((pcVar5 = FUN_10a0_0514((char *)&DAT_10a8_85dc,'\\'), pcVar5 == (char *)0x0 ||
      (pcVar5 < pcVar4)))) {
    *pcVar4 = '\0';
  }
  piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x101a10a8,(LPCSTR)0x85dc10a8,
                     (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
  if (param_1 == 1) {
LAB_1040_3dca:
    if (param_1 == 1) {
      local_4 = 0x78;
    }
    else if (param_1 == 4) {
      local_4 = 0x68;
    }
    else {
      local_4 = 0x6d;
    }
    _WSPRINTF((int16 *)((int)piVar6 + -0x7922),(LPSTR)0x102510a8,(LPCSTR)CONCAT22(local_4,0x10a8),
              (VA_LIST16)(in_stack_00000006 + 1));
    return;
  }
  if (param_1 == 2) {
    pcVar4 = (char *)&PTR_PTR_DAT_10a8_0000_10a8_7368_10a8_1021;
  }
  else {
    if ((param_1 != 2) && (param_1 == 3 || param_1 == 4)) goto LAB_1040_3dca;
    pcVar4 = (char *)&PTR_PTR_DAT_10a8_0000_10a8_7978_10a8_101e;
  }
  uVar7 = 0xffff;
  do {
    if (uVar7 == 0) break;
    uVar7 = uVar7 - 1;
    pcVar2 = pcVar4;
    pcVar4 = pcVar4 + 1;
  } while (*pcVar2 != '\0');
  uVar7 = ~uVar7;
  puVar10 = (undefined2 *)(pcVar4 + -uVar7);
  pcVar4 = (char *)&DAT_10a8_86de;
  iVar8 = -1;
  do {
    if (iVar8 == 0) break;
    iVar8 = iVar8 + -1;
    pcVar2 = pcVar4;
    pcVar4 = pcVar4 + 1;
  } while (*pcVar2 != '\0');
  puVar11 = (undefined2 *)(pcVar4 + -1);
  for (uVar9 = uVar7 >> 1; uVar9 != 0; uVar9 = uVar9 - 1) {
    puVar3 = puVar11;
    puVar11 = puVar11 + 1;
    puVar1 = puVar10;
    puVar10 = puVar10 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
    puVar3 = puVar11;
    puVar11 = (undefined2 *)((int)puVar11 + 1);
    puVar1 = puVar10;
    puVar10 = (undefined2 *)((int)puVar10 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  return;
}



undefined2 __cdecl16far FUN_1040_3e38(undefined4 param_1,int param_2)

{
  int iVar1;
  int local_18 [9];
  int local_6;
  undefined *local_4;

  if (param_2 == 0) {
    FUN_1040_3d68((uint)param_1);
    param_2 = (int)&DAT_10a8_86de;
  }
  local_4 = PTR_DAT_10a8_0000_10a8_002e;
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_18;
  local_6 = param_2;
  iVar1 = FUN_10a0_0704(local_18);
  if (iVar1 == 0) {
    FUN_1040_1ece(local_6,0x1012);
    FUN_1040_3ea4((byte)((ulong)param_1 >> 0x10),(uint)param_1);
    PTR_DAT_10a8_0000_10a8_002e = local_4;
    return 1;
  }
  PTR_DAT_10a8_0000_10a8_002e = local_4;
  return 0;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1040_3ea4(byte param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined2 unaff_SS;
  dword dVar4;
  undefined4 local_12;
  undefined4 local_e;
  undefined2 local_a;
  undefined *local_8;
  uint local_6;
  undefined2 local_4;

  puVar3 = &local_12;
  for (iVar2 = 4; iVar2 != 0; iVar2 = iVar2 + -1) {
    puVar1 = puVar3;
    puVar3 = puVar3 + 1;
    *puVar1 = 0;
  }
  FUN_10a0_0352((char *)&local_12,(char *)0x102a,4);
  local_e = _PTR_DAT_10a8_0000_10a8_0030;
  local_a = 0x1000;
  local_8 = PTR_DAT_10a8_0000_10a8_0042;
  local_4 = local_4 | 0x1000;
  local_6 = local_6 ^ ((byte)local_6 ^ param_1) & 0x1f;
  iVar2 = FUN_1018_4a4a(2000);
  dVar4 = GETTICKCOUNT();
  local_6 = (iVar2 + (int)dVar4) * 0x20 | local_6 & 0x1f;
  local_4 = param_2 & 0xff | local_4 & 0xff00;
  local_4 = local_4 ^ ((byte)((byte)((ulong)local_4 >> 8) ^
                             (byte)((ulong)(_DAT_10a8_0a46 << 4) >> 8)) & 1) << 8;
  local_4._1_1_ = (byte)(local_4 >> 8);
  local_4 = local_4 ^ ((byte)(local_4._1_1_ ^ (byte)((ulong)((_DAT_10a8_0a46 >> 3) << 9) >> 8)) & 2)
                      << 8;
  if ((param_2 == 2) && ((DAT_10a8_0a48 & 8) != 0)) {
    local_4 = local_4 | 0x800;
  }
  else {
    local_4 = local_4 & 0xf7ff;
  }
  FUN_1040_422c(8,(uint16 *)&PTR_DAT_10a8_0000_10a8_0010,CONCAT22(unaff_SS,&local_12));
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1040_3f78(uint param_1,int param_2,int param_3,uint param_4)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined2 unaff_SS;
  byte bVar8;
  char cVar9;
  int local_34 [9];
  undefined4 local_22;
  long local_1e;
  undefined2 local_14;
  undefined4 local_12;
  undefined4 local_e;
  undefined *local_a;
  uint local_8;
  int local_6;
  undefined *local_4;

  local_6 = 0;
  local_4 = PTR_DAT_10a8_0000_10a8_0a30;
  FUN_1040_3d68(param_1 & 0xff);
  local_a = PTR_DAT_10a8_0000_10a8_002e;
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_34;
  iVar3 = FUN_10a0_0704(local_34);
  if (iVar3 != 0) {
    PTR_DAT_10a8_0000_10a8_0a30 = local_4;
    if (local_4 == (undefined *)0x0) {
      FUN_1018_50b2(4,0x10);
    }
    FUN_1040_1f9c();
    PTR_DAT_10a8_0000_10a8_002e = local_a;
    return 0;
  }
  PTR_DAT_10a8_0000_10a8_0a30 = (undefined *)&DAT_10a8_0001;
  FUN_1040_1ece((int)&DAT_10a8_86de,0x12);
  PTR_DAT_10a8_0000_10a8_0a30 = local_4;
  iVar3 = (int)&PTR_DAT_10a8_0000_10a8_1040;
  FUN_1040_1e24();
  if ((DAT_10a8_59a9 & 0xfc) == 0x20) {
    uVar4 = _DAT_10a8_7d6c >> 8 & 0xf0;
    if (((uVar4 != 0x10) && ((0x1000 < uVar4 << 8 || ((_DAT_10a8_7d6c & 0xfe0) < 0x780)))) ||
       ((uVar4 == 0x10 && (0x27f < (_DAT_10a8_7d6c & 0xfe0))))) goto LAB_1040_41e2;
    puVar7 = &local_22;
    puVar6 = (undefined4 *)&DAT_10a8_7d64;
    for (iVar5 = 4; iVar5 != 0; iVar5 = iVar5 + -1) {
      puVar2 = puVar7;
      puVar7 = puVar7 + 1;
      puVar1 = puVar6;
      puVar6 = puVar6 + 1;
      *puVar2 = *puVar1;
    }
    if (_PTR_DAT_10a8_0000_10a8_0030 == 0) goto LAB_1040_41f7;
    if (local_1e == _PTR_DAT_10a8_0000_10a8_0030) {
      local_8 = 0;
      if (param_3 == 1) {
        if (((local_14._1_1_ & 2) << 8) >> 9 != param_4) {
          uVar4 = ((byte)((byte)((ulong)(param_4 << 9) >> 8) ^ local_14._1_1_) & 2) << 8;
LAB_1040_40af:
          local_14 = local_14 ^ uVar4;
          local_8 = 1;
        }
      }
      else if (param_3 == 2) {
        if ((local_14._1_1_ & 1) != param_4) {
          uVar4 = ((byte)((byte)param_4 ^ local_14._1_1_) & 1) << 8;
          goto LAB_1040_40af;
        }
      }
      else if (param_3 == 4) {
        if (((local_14._1_1_ & 4) << 8) >> 10 != param_4) {
          uVar4 = ((byte)((byte)((ulong)(param_4 << 10) >> 8) ^ local_14._1_1_) & 4) << 8;
          goto LAB_1040_40af;
        }
      }
      else if (param_3 == 8) {
        do {
          do {
            FUN_1018_4c8e((undefined2 *)&local_12,(undefined2 *)&local_e);
            iVar3 = (int)&PTR_DAT_10a8_0000_10a8_1040;
            FUN_1040_1e24();
          } while ((DAT_10a8_59a9 & 0xfc) != 0x18);
        } while ((char)DAT_10a8_7d64 != param_2);
        if (((DAT_10a8_7d6a._1_1_ & 2) << 8) >> 9 != param_4) {
          if ((DAT_10a8_7d6a._1_1_ & 2) == 0) {
            DAT_10a8_7d6a._1_1_ = DAT_10a8_7d6a._1_1_ | 0xe2;
          }
          else {
            if ((DAT_10a8_7d6a._1_1_ & 0xe0) != 0xe0) goto LAB_1040_41f7;
            DAT_10a8_7d6a._1_1_ = DAT_10a8_7d6a._1_1_ & 0xfd;
          }
          PTR_DAT_10a8_0000_10a8_7d70 = (undefined *)~(uint)PTR_DAT_10a8_0000_10a8_7d70;
          _DAT_10a8_7d72 = ~_DAT_10a8_7d72;
          uVar4 = -(_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8) - 2;
          cVar9 = (char)((int)uVar4 >> 0xf);
          FUN_10a0_027e((int)&PTR_DAT_10a8_0000_10a8_1040,DAT_10a8_1030,uVar4,CONCAT11(cVar9,cVar9),
                        1);
          iVar3 = 0x1018;
          FUN_1018_4cb2(local_12,local_e);
          FUN_1040_422c(6,(uint16 *)
                          (_DAT_10a8_59a8 & 0xff | ((byte)((ulong)_DAT_10a8_59a8 >> 8) & 3) << 8),
                        &DAT_10a8_7d64);
          local_8 = (uint)(param_1 == 3);
          local_14 = local_14 & 0xfeff;
        }
      }
      if (local_8 != 0) {
        FUN_10a0_027e(iVar3,DAT_10a8_1030,0,0,0);
        FUN_1040_422c(8,(uint16 *)&PTR_DAT_10a8_0000_10a8_0010,
                      CONCAT13((char)((uint)unaff_SS >> 8),CONCAT12((char)unaff_SS,&local_22)));
        iVar3 = (int)s_Everybody_10a8_1098 + 8;
      }
      local_6 = 1;
      goto LAB_1040_41f7;
    }
    if (PTR_DAT_10a8_0000_10a8_0a30 != (undefined *)0x0) goto LAB_1040_41f7;
    bVar8 = 0x1a;
  }
  else {
LAB_1040_41e2:
    if (PTR_DAT_10a8_0000_10a8_0a30 != (undefined *)0x0) goto LAB_1040_41f7;
    bVar8 = 5;
  }
  iVar3 = 0x1018;
  FUN_1018_50b2((uint)bVar8,0x10);
LAB_1040_41f7:
  if (((param_1 & 0x2000) == 0) || (local_6 == 0)) {
    FUN_1040_1f9c();
  }
  else {
    FUN_10a0_027e(iVar3,DAT_10a8_1030,0,0,2);
  }
  PTR_DAT_10a8_0000_10a8_002e = local_a;
  return local_6;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1040_422c(int param_1,uint16 *param_2,undefined4 param_3)

{
  undefined2 unaff_SS;
  uint local_4;

  FUN_10a0_0ac6(&DAT_10a8_7d64,param_3,(uint)param_2);
  if (param_1 == 8) {
    FUN_1018_4cc8((byte)_DAT_10a8_7d68,(int)((ulong)_DAT_10a8_7d68 >> 0x10),
                  (int)PTR_DAT_10a8_0000_10a8_7d70 >> 5,(byte)_DAT_10a8_7d6e,
                  (byte)(((int)PTR_DAT_10a8_0000_10a8_7d70 << 0xb) >> 0xb),
                  (((byte)PTR_DAT_10a8_0000_10a8_7d73 & 0x10) << 8) >> 0xc);
  }
  else if (param_1 != 0) {
    FUN_1018_4e04((uint *)&DAT_10a8_7d64,(uint)param_2);
  }
  local_4 = param_1 << 10 ^ (local_4 ^ (local_4 ^ (uint)param_2) & 0x3ff) & 0x3ff;
  FUN_1040_42c8((LPCSTR)CONCAT22(unaff_SS,&local_4),(uint16 *)&DAT_10a8_0002);
  FUN_1040_42c8((LPCSTR)&DAT_10a8_7d64,param_2);
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1040_42c8(LPCSTR param_1,uint16 *param_2)

{
  uint16 *puVar1;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined4 in_stack_00000000;
  undefined2 in_stack_0000000a;

  if (param_2 != (uint16 *)0x0) {
    puVar1 = _LWRITE(param_2,(HFILE16)param_1,
                     (LPCSTR)CONCAT22(DAT_10a8_1030,(int)((ulong)param_1 >> 0x10)),
                     (uint16)CONCAT124(CONCAT210(in_stack_0000000a,
                                                 CONCAT28(param_2,CONCAT44(param_1,in_stack_00000000
                                                                          ))),
                                       CONCAT22(unaff_BP,unaff_SI)));
    if (puVar1 != param_2) {
      FUN_1018_50b2(0x12,0x10);
      FUN_10a0_0729((int)PTR_DAT_10a8_0000_10a8_002e,-1);
    }
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x10404cdb)
// WARNING: Removing unreachable block (ram,0x10404ce7)
// WARNING: Removing unreachable block (ram,0x10404df7)
// WARNING: Removing unreachable block (ram,0x10404e03)
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1040_4304(void)

{
  byte *pbVar1;
  ulong *puVar2;
  undefined2 *puVar3;
  uint *puVar4;
  char *pcVar5;
  int **ppiVar6;
  long *plVar7;
  int *piVar8;
  uint *puVar9;
  undefined4 *puVar10;
  undefined4 *puVar11;
  int *piVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  char cVar15;
  int iVar16;
  uint uVar17;
  uint *puVar18;
  int **ppiVar19;
  int16 *piVar20;
  int *piVar21;
  uint uVar22;
  undefined2 *puVar23;
  undefined4 *puVar24;
  long lVar25;
  ulong uVar26;
  long lVar27;
  long lVar28;
  ulong uVar29;
  long lVar30;
  ulong uVar31;
  long *plVar32;
  uint uVar33;
  int iVar34;
  int **ppiVar35;
  int iVar36;
  VA_LIST16 unaff_SI;
  undefined2 unaff_DI;
  undefined4 *puVar37;
  undefined4 *puVar38;
  uint *puVar39;
  undefined2 uVar40;
  undefined2 uVar41;
  VA_LIST16 unaff_SS;
  VA_LIST16 valist;
  dword dVar42;
  int16 *__return_storage_ptr__;
  byte bVar43;
  undefined uVar44;
  undefined uVar45;
  undefined uVar46;
  undefined uVar47;
  undefined uVar48;
  undefined2 in_stack_0000fe72;
  uint in_stack_0000fe74;
  WPARAM16 in_stack_0000fe76;
  uint in_stack_0000fe78;
  uint in_stack_0000fe7a;
  undefined2 in_stack_0000fe7c;
  undefined2 in_stack_0000fe7e;
  undefined2 in_stack_0000fe80;
  undefined2 in_stack_0000fe82;
  undefined2 in_stack_0000fe84;
  uint *in_stack_0000fe86;
  undefined2 in_stack_0000fe88;
  undefined2 in_stack_0000fe8a;
  uint *in_stack_0000fe8c;
  undefined2 in_stack_0000fe8e;
  undefined2 in_stack_0000fe90;
  int *in_stack_0000fe92;
  uint *in_stack_0000fe94;
  undefined4 in_stack_0000fe96;
  undefined2 local_ea;
  int local_e8;
  byte local_e5;
  int *local_e4;
  undefined2 local_e2;
  undefined2 local_e0;
  undefined local_de [6];
  undefined4 local_d8 [14];
  int local_9e;
  uint local_9c;
  undefined2 local_88;
  undefined4 local_86;
  undefined4 local_7e;
  int *local_76;
  undefined local_74 [30];
  undefined4 local_56;
  int *local_52;
  undefined2 local_50;
  int local_44 [9];
  undefined4 *local_32;
  uint local_30;
  uint local_2e;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 *local_24;
  int **local_22;
  undefined4 *local_20;
  undefined4 local_1e;
  undefined4 local_1a;
  undefined4 local_16;
  undefined4 local_12;
  undefined4 local_e;
  undefined4 *local_a;
  undefined4 local_8;
  uint **local_4;

  valist = (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6);
  local_12 = 0;
  if (3 < (int)PTR_DAT_10a8_0002_10a8_0034) {
    PTR_DAT_10a8_0002_10a8_0034 = (undefined *)&DAT_10a8_0003;
  }
  if (1 < (int)PTR_DAT_10a8_0001_10a8_0036) {
    PTR_DAT_10a8_0001_10a8_0036 = (undefined *)&DAT_10a8_0001;
  }
  if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 8) == 0) {
    PTR_DAT_10a8_0000_10a8_0040._0_1_ = (byte)PTR_DAT_10a8_0000_10a8_0040 & 0xfc;
    PTR_DAT_10a8_0001_10a8_003c = (undefined *)&DAT_10a8_0002;
  }
  DAT_10a8_0064 = (int)(PTR_DAT_10a8_0002_10a8_0034 + 1) * 400;
  PTR_PTR_10a8_0066 = (undefined *)(DAT_10a8_0064 + 2000);
  iVar16 = (int)(((long)(int)DAT_10a8_0064 * (long)(int)DAT_10a8_0064) / 5000);
  local_32 = (undefined4 *)
             (iVar16 + ((int)(iVar16 + (iVar16 >> 0xf & 3U)) >> 2) *
                       (int)(PTR_DAT_10a8_0001_10a8_0036 + -1));
  if (999 < (int)local_32) {
    local_32 = (undefined4 *)0x3e7;
  }
  local_16 = CONCAT22((int)PTR_PTR_DAT_10a8_0000_10a8_000c_10a8_0068 *
                      (int)PTR_PTR_DAT_10a8_0000_10a8_000c_10a8_0068,(undefined2)local_16);
  local_e._2_2_ = (int *)(DAT_10a8_0064 - 0x13);
  local_e._0_2_ = (uint *)0x3f2;
  puVar18 = (uint *)local_e;
  local_e._0_2_ = (uint *)0x3f2;
  local_24 = (undefined4 *)0x0;
  uVar26 = (long)(int)local_32 % 7 & 0xffff;
  local_12._2_2_ = (int)local_32 / 7 + (int)local_32;
  if (999 < (int)local_12._2_2_) {
    local_12._2_2_ = 999;
  }
  if (0 < (int)local_12._2_2_) {
    local_4 = (uint **)&PTR_DAT_10a8_0000_10a8_6238;
    local_12 = (ulong)local_12._2_2_ << 0x10;
    local_8._2_2_ = (long *)local_12._2_2_;
    do {
      iVar16 = FUN_1018_4a4a((int)local_e._2_2_);
      *local_4 = (uint *)(iVar16 + (int)(uint *)local_e);
      iVar16 = FUN_1018_4a4a((int)local_e._2_2_);
      local_4[1] = (uint *)(iVar16 + (int)(uint *)local_e);
      local_4 = local_4 + 2;
      local_24 = (undefined4 *)((int)local_24 + 1);
      local_8._2_2_ = (long *)((int)local_8._2_2_ - 1);
    } while (local_8._2_2_ != (long *)0x0);
    puVar18 = (uint *)local_e;
  }
  local_e._0_2_ = puVar18;
  local_12 = local_12 & 0xffff | (ulong)local_12._2_2_ << 0x10;
  FUN_10a0_05a2((uint)&PTR_DAT_10a8_0000_10a8_6238,local_12._2_2_,4,(undefined *)0x4e64);
  local_a = (undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + local_12._2_2_ * 4);
  puVar37 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_6238;
  puVar38 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_6238;
  while (puVar38 < local_a) {
    if (-1 < *(int *)puVar37) {
      local_8._0_2_ = (undefined4 *)(PTR_PTR_DAT_10a8_0000_10a8_000c_10a8_0068 + *(int *)puVar37);
      puVar38 = puVar37;
      while ((puVar24 = puVar38, puVar38 = puVar24 + 1, puVar38 < local_a &&
             (*(int *)puVar38 <= (int)(undefined4 *)local_8))) {
        uVar17 = *(int *)((int)puVar37 + 2) - *(int *)((int)puVar24 + 6);
        uVar33 = (int)uVar17 >> 0xf;
        uVar26 = (ulong)uVar33;
        local_e._2_2_ = (int *)((uVar17 ^ uVar33) - uVar33);
        if ((int)local_e._2_2_ <= (int)PTR_PTR_DAT_10a8_0000_10a8_000c_10a8_0068) {
          in_stack_0000fe94 = (uint *)(*(int *)puVar37 - *(int *)puVar38);
          uVar26 = (ulong)((long)(int)in_stack_0000fe94 * (long)(int)in_stack_0000fe94) >> 0x10;
          local_e._0_2_ = in_stack_0000fe94;
          if ((int)((long)(int)in_stack_0000fe94 * (long)(int)in_stack_0000fe94) +
              (int)local_e._2_2_ * (int)local_e._2_2_ <= local_16._2_2_) {
            *(int *)((int)puVar24 + 6) = -100;
            local_12 = local_12 & 0xffff0000 | (ulong)((uint)local_12 + 1);
          }
        }
      }
    }
    puVar37 = puVar37 + 1;
    puVar38 = puVar37;
  }
  local_8._2_1_ = (char)puVar37;
  local_8._3_1_ = (undefined)((uint)puVar37 >> 8);
  local_12._2_2_ = (uint)(local_12 >> 0x10);
  local_4 = (uint **)(local_12._2_2_ - (int)local_32);
  if ((int)(uint)local_12 < (int)local_4) {
    uVar26 = local_12 & 0xffff;
    do {
      uVar29 = local_12 & 0xffff0000;
      local_12 = uVar29 | uVar26;
      local_12._2_2_ = (uint)(uVar29 >> 0x10);
      local_24 = (undefined4 *)FUN_1018_4a4a(local_12._2_2_);
      in_stack_0000fe92 = (int *)((int)&PTR_DAT_10a8_0000_10a8_623a + (int)local_24 * 4);
      if (-1 < *in_stack_0000fe92) {
        *in_stack_0000fe92 = -100;
        local_12._0_2_ = (uint)local_12 + 1;
      }
      uVar26 = (ulong)(uint)local_12;
    } while ((int)(uint)local_12 < (int)local_4);
    local_12 = local_12 & 0xffff0000 | (ulong)(uint)local_12;
  }
  piVar21 = (int *)uVar26;
  puVar37 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_6238;
  puVar38 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_6238;
  puVar24 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_6238;
  while (puVar24 < local_a) {
    if (-1 < *(int *)((int)puVar37 + 2)) {
      *puVar38 = *puVar37;
      puVar38 = puVar38 + 1;
    }
    puVar37 = puVar37 + 1;
    puVar24 = puVar37;
  }
  local_8._2_1_ = (char)puVar37;
  local_8._3_1_ = (undefined)((uint)puVar37 >> 8);
  local_32 = (undefined4 *)(local_12._2_2_ - (uint)local_12);
  puVar37 = (undefined4 *)&stack0xfe96;
  for (iVar16 = 0x20; iVar16 != 0; iVar16 = iVar16 + -1) {
    puVar10 = puVar37;
    puVar37 = puVar37 + 1;
    *puVar10 = 0;
  }
  local_24 = (undefined4 *)0x0;
  if (0 < (int)local_32) {
    local_4 = (uint **)0x5a6a;
    local_8._2_2_ = local_32;
    do {
      local_e._0_2_ = (uint *)FUN_1018_4a4a(999);
      piVar21 = (int *)uVar26;
      uVar17 = *(uint *)(((uint)(uint *)local_e & 7) * 2 + 0x964) &
               (int)(char)(&stack0xfe96)[(int)(uint *)local_e >> 3];
      while (uVar17 != 0) {
        local_e._0_2_ = (uint *)((int)(uint *)local_e + 1);
        if (999 < (int)(uint *)local_e) {
          local_e._0_2_ = (uint *)0x0;
        }
        uVar17 = *(uint *)(((uint)(uint *)local_e & 7) * 2 + 0x964) &
                 (int)(char)(&stack0xfe96)[(int)(uint *)local_e >> 3];
      }
      pbVar1 = &stack0xfe96 + ((int)(uint *)local_e >> 3);
      *pbVar1 = *pbVar1 | *(byte *)(((uint)(uint *)local_e & 7) * 2 + 0x964);
      *local_4 = (uint *)local_e;
      local_24 = (undefined4 *)((int)local_24 + 1);
      local_8._2_2_ = (long *)((int)local_8._2_2_ + -1);
      local_4 = local_4 + 1;
    } while (local_8._2_2_ != (undefined4 *)0x0);
  }
  PTR_DAT_10a8_0000_10a8_7d52 = (undefined *)local_32;
  local_4 = (uint **)PTR_DAT_10a8_0000_10a8_002e;
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_44;
  iVar16 = FUN_10a0_0704((int *)PTR_DAT_10a8_0000_10a8_002e);
  if (iVar16 != 0) {
LAB_1040_45d7:
    FUN_1040_190c();
    return 0;
  }
  local_e._0_2_ = FUN_1038_0232((int)local_32 * 0x3c,3);
  _PTR_DAT_10a8_0000_10a8_006a = CONCAT22(piVar21,(uint *)local_e);
  local_24 = (undefined4 *)0x0;
  local_e = ZEXT24(piVar21) << 0x10;
  local_e._2_2_ = piVar21;
  if (0 < (int)local_32) {
    do {
      *(uint *)local_e = (uint)local_24;
      ((uint *)local_e)[1] = 0xffff;
      ((uint *)local_e)[2] = (uint)CONCAT31((uint3)(byte)(((uint *)local_e)[2] >> 8),7);
      puVar2 = (ulong *)((uint *)local_e + 0xf);
      *puVar2 = *puVar2 | 0x3ff000;
      local_e = local_e & 0xffff0000 | ZEXT24((uint *)local_e);
      iVar16 = FUN_1018_4a4a(3);
      uVar40 = (undefined2)(local_e >> 0x10);
      iVar34 = (int)local_e;
      uVar17 = *(uint *)(iVar34 + 0x20);
      puVar3 = (undefined2 *)(iVar34 + 0x1e);
      *puVar3 = *puVar3;
      puVar4 = (uint *)(iVar34 + 0x20);
      *puVar4 = *puVar4 ^ ((uint)(iVar16 == 0) << 6 ^ uVar17) & 0x40;
      *(undefined *)(iVar34 + 0x1b) = 0;
      *(undefined2 *)(iVar34 + 0x1c) = 0;
      puVar4 = (uint *)(iVar34 + 0x1e);
      *puVar4 = *puVar4 & 0xf000;
      uVar40 = FUN_1018_4a4a(0x5a);
      *(char *)((int)local_e + 0x12) = (char)uVar40 + '\x01';
      uVar40 = FUN_1018_4a4a(10);
      uVar41 = (undefined2)(local_e >> 0x10);
      iVar16 = (int)local_e;
      pcVar5 = (char *)(iVar16 + 0x12);
      *pcVar5 = *pcVar5 + (char)uVar40;
      *(undefined *)(iVar16 + 0x15) = *(undefined *)(iVar16 + 0x12);
      uVar40 = FUN_1018_4a4a(0x5a);
      *(char *)((int)local_e + 0x13) = (char)uVar40 + '\x01';
      uVar40 = FUN_1018_4a4a(10);
      uVar41 = (undefined2)(local_e >> 0x10);
      iVar16 = (int)local_e;
      pcVar5 = (char *)(iVar16 + 0x13);
      *pcVar5 = *pcVar5 + (char)uVar40;
      *(undefined *)(iVar16 + 0x16) = *(undefined *)(iVar16 + 0x13);
      uVar40 = FUN_1018_4a4a(99);
      local_8._0_2_ = (undefined4 *)(local_e >> 0x10);
      iVar16 = (int)local_e;
      *(char *)(iVar16 + 0x17) = (char)uVar40 + '\x01';
      *(undefined *)(iVar16 + 0x14) = *(undefined *)(iVar16 + 0x17);
      puVar4 = (uint *)(iVar16 + 4);
      *puVar4 = *puVar4 & 0xfdff;
      puVar4 = (uint *)(iVar16 + 0x20);
      *puVar4 = *puVar4 & 0xf87f;
      *(undefined4 *)(iVar16 + 0x38) = 0;
      *(undefined4 *)(iVar16 + 0x32) = 0;
      *(undefined *)(iVar16 + 0x1a) = 0;
      local_12._0_2_ = 0;
      local_a = (undefined4 *)(iVar16 + 0x22);
      local_8._2_2_ = (long *)(iVar16 + 6);
      local_4 = (uint **)(undefined4 *)local_8;
      do {
        if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 8) == 0) {
          iVar16 = (-(uint)((uint)local_12 == 0) & 0xec78) + 15000;
        }
        else {
          iVar16 = 15000;
        }
        iVar16 = FUN_1018_4a4a(iVar16);
        *(int *)CONCAT22(local_4,local_8._2_2_) = iVar16 + 0x32;
        if ('Y' < *(char *)((int)local_e + 0x14)) {
          local_12 = local_12 & 0xffff0000 | (ulong)(uint)local_12;
          iVar16 = FUN_1018_4a4a(3);
          *(int *)CONCAT22(local_4,local_8._2_2_) =
               (iVar16 + 1) * *(int *)CONCAT22(local_4,local_8._2_2_);
        }
        *(undefined4 *)CONCAT22((undefined4 *)local_8,local_a) = 0;
        local_12 = local_12 & 0xffff0000 | (ulong)(uint)local_12;
        uVar40 = FUN_1018_4a4a(0x62);
        *(char *)((int)local_e + (uint)local_12 + 0xe) = (char)uVar40 + '\x01';
        local_a = local_a + 1;
        local_8._2_2_ = (long *)((int)local_8._2_2_ + 2);
        local_12._0_2_ = (uint)local_12 + 1;
      } while ((int)(uint)local_12 < 4);
      local_12 = local_12 & 0xffff0000 | (ulong)(uint)local_12;
      puVar37 = (undefined4 *)FUN_1018_4a4a(0x1b);
      local_8._2_2_ = puVar37;
      if ((int)puVar37 < 0x12) {
        if ((int)puVar37 < 9) {
          for (local_8._2_2_ = (long *)((int)puVar37 + 1); (int)local_8._2_2_ < 0x10;
              local_8._2_2_ = (long *)((int)local_8._2_2_ << 1)) {
            local_4 = (uint **)FUN_1018_4a4a(0x65);
            uVar17 = FUN_1018_4a4a(4);
            local_12 = local_12 & 0xffff0000 | (ulong)uVar17;
            *(undefined2 *)((int)(uint *)local_e + uVar17 * 2 + 6) = local_4;
          }
        }
        else {
          local_4 = (uint **)FUN_1018_4a4a(900);
          uVar17 = FUN_1018_4a4a(4);
          local_12 = local_12 & 0xffff0000 | (ulong)uVar17;
          *(undefined2 *)(uVar17 * 2 + (int)(uint *)local_e + 6) = local_4 + 0x32;
        }
      }
      if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 1) != 0) {
        if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 8) == 0) {
          uVar17 = (uint)(*(int *)((int)(uint *)local_e + 6) << 2) / 3;
        }
        else {
          uVar17 = (uint)(*(int *)((int)(uint *)local_e + 6) * 3) >> 1;
        }
        *(uint *)((int)(uint *)local_e + 6) = uVar17;
        *(undefined4 *)((int)(uint *)local_e + 0x22) = 0;
      }
      local_e._0_2_ = (uint *)((int)(uint *)local_e + 0x3c);
      local_24 = (undefined4 *)((int)local_24 + 1);
    } while ((int)local_24 < (int)local_32);
  }
  ppiVar35 = (int **)0x0;
  local_12._0_2_ = 0;
  local_8._2_2_ = (long *)0x0;
  do {
    local_12 = local_12 & 0xffff0000 | (ulong)(uint)local_12;
    local_8._3_1_ = (undefined)((uint)local_8._2_2_ >> 8);
    uVar17 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006a + 6 + (int)local_8._2_2_);
    local_4 = (uint **)ppiVar35;
    iVar16 = FUN_1018_4a4a(uVar17 >> 3 & 0xff | (uVar17 >> 0xb) << 8);
    iVar34 = iVar16 + 10 >> 0xf;
    uVar40 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006a >> 0x10);
    iVar36 = (int)_PTR_DAT_10a8_0000_10a8_006a;
    *(int *)((int)local_4 + iVar36 + 0x22) = iVar16 + 10;
    *(int *)((int)local_4 + iVar36 + 0x24) = iVar34;
    if (*(long *)((int)local_4 + (int)_PTR_DAT_10a8_0000_10a8_006a + 0x22) < 100) {
      iVar16 = FUN_1018_4a4a(0x96);
      uVar17 = iVar16 + 0x37;
      uVar40 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006a >> 0x10);
      iVar16 = (int)_PTR_DAT_10a8_0000_10a8_006a;
      puVar4 = (uint *)(iVar16 + 0x22 + (int)local_4);
      iVar34 = ((int)uVar17 >> 0xf) + *(int *)((int)local_4 + iVar16 + 0x24) +
               (uint)CARRY2(uVar17,*puVar4);
      *(int *)((int)local_4 + iVar16 + 0x22) = uVar17 + *puVar4;
      *(int *)((int)local_4 + iVar16 + 0x24) = iVar34;
    }
    local_8._2_2_ = (long *)(CONCAT11(local_8._3_1_,local_8._2_1_) + 2);
    local_12._0_2_ = (uint)local_12 + 1;
    local_12 = local_12 & 0xffff0000 | (ulong)(uint)local_12;
    ppiVar35 = (int **)(local_4 + 2);
  } while ((int)ppiVar35 < 0x10);
  PTR_DAT_10a8_0000_10a8_83c6 = (undefined *)((int)PTR_DAT_10a8_0002_10a8_0038 * 2);
  puVar18 = FUN_1038_0232((int)PTR_DAT_10a8_0002_10a8_0038 << 3,6);
  _PTR_DAT_10a8_0000_10a8_006e = (undefined4 *)CONCAT22(iVar34,puVar18);
  local_50._1_1_ = (byte)((ulong)local_50 >> 8) & 0xfd | 5;
  local_50 = (uint)local_50._1_1_ << 8;
  FUN_10a0_0ac6(&PTR_DAT_10a8_0000_10a8_71e6,0x10a83ee8,0x195);
  lVar30 = CONCAT22(in_stack_0000fe84,in_stack_0000fe82);
  lVar27 = CONCAT22(in_stack_0000fe90,in_stack_0000fe8e);
  lVar28 = CONCAT22(in_stack_0000fe8a,in_stack_0000fe88);
  puVar37 = (undefined4 *)&local_ea;
  for (iVar16 = 0x1d; iVar16 != 0; iVar16 = iVar16 + -1) {
    puVar10 = puVar37;
    puVar37 = puVar37 + 1;
    *puVar10 = 0;
  }
  local_88 = 1;
  local_e5 = local_e5 & 0xfd;
  local_8._0_2_ = (undefined4 *)(DAT_10a8_0064 * 6);
  iVar16 = (((int)DAT_10a8_0064 >> 0xf) * 3 + (uint)CARRY2(DAT_10a8_0064,DAT_10a8_0064) +
           (uint)CARRY2(DAT_10a8_0064 * 2,DAT_10a8_0064)) * 2 +
           (uint)CARRY2(DAT_10a8_0064 * 3,DAT_10a8_0064 * 3);
  local_8._2_1_ = (char)iVar16;
  local_8._3_1_ = (undefined)((uint)iVar16 >> 8);
  lVar25 = ((long)(int)DAT_10a8_0064 * (long)(int)DAT_10a8_0064) /
           CONCAT13((undefined)((int)PTR_DAT_10a8_0002_10a8_0038 >> 0xf),
                    CONCAT12((undefined)((int)PTR_DAT_10a8_0002_10a8_0038 >> 0xf),
                             (uint)PTR_DAT_10a8_0002_10a8_0038 & 0xff |
                             (uint)(byte)((ulong)(long)(int)PTR_DAT_10a8_0002_10a8_0038 >> 8) << 8))
  ;
  ppiVar35 = (int **)lVar25;
  ppiVar19 = ppiVar35 + DAT_10a8_0064 * -3;
  iVar34 = ((int)((ulong)lVar25 >> 0x10) - iVar16) - (uint)(ppiVar35 < (undefined4 *)local_8);
  if (iVar34 < 0) {
    uVar26 = 0;
    uVar17 = 0;
  }
  else {
    uVar26 = CONCAT22(iVar34 * 9 + (uint)CARRY2((uint)ppiVar19,(uint)ppiVar19) * 4 +
                      (uint)CARRY2((int)ppiVar19 * 2,(int)ppiVar19 * 2) * 2 +
                      (uint)CARRY2((int)ppiVar19 * 4,(int)ppiVar19 * 4) +
                      (uint)CARRY2((int)ppiVar19 * 8,(uint)ppiVar19),(int)ppiVar19 * 9) / 10;
    uVar17 = (uint)(uVar26 >> 0x10);
  }
  local_16 = (long)((long)(int)PTR_DAT_10a8_0001_10a8_003c *
                   (uVar26 & 0xffff | (ulong)uVar17 << 0x10)) / 3 +
             CONCAT13(local_8._3_1_,CONCAT12(local_8._2_1_,(undefined4 *)local_8));
  local_16._2_2_ = (int)(local_16 >> 0x10);
  uVar17 = (uint)local_16;
  local_1a = CONCAT22(local_16._2_2_ * 9 + (uint)CARRY2(uVar17,uVar17) * 4 +
                      (uint)CARRY2(uVar17 * 2,uVar17 * 2) * 2 + (uint)CARRY2(uVar17 * 4,uVar17 * 4)
                      + (uint)CARRY2(uVar17 * 8,uVar17),uVar17 * 9) / 10;
  local_1e = CONCAT22(local_16._2_2_ * 7 + (uint)CARRY2(uVar17,uVar17) * 2 +
                      (uint)CARRY2(uVar17 * 2,uVar17) * 2 + (uint)CARRY2(uVar17 * 3,uVar17 * 3) +
                      (uint)CARRY2(uVar17 * 6,uVar17),uVar17 * 7) / 6;
LAB_1040_4a73:
  local_8 = CONCAT22(iVar16,(undefined4 *)local_8);
  local_12 = 100000000;
  local_20 = (undefined4 *)(((int)(DAT_10a8_0064 + ((int)DAT_10a8_0064 >> 0xf & 3U)) >> 2) + 1000);
  uVar17 = (int)(DAT_10a8_0064 * 3) >> 0xf & 3;
  uVar26 = (ulong)uVar17;
  local_22 = (int **)(((int)(DAT_10a8_0064 * 3 + uVar17) >> 2) + 1000);
  local_24 = (undefined4 *)0x0;
  do {
    local_76 = (int *)FUN_1018_4a4a((int)local_32);
    local_2c = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + (int)local_76 * 4);
    if ((int)local_2c < (int)local_20) {
      local_e._0_2_ = (uint *)((int)local_20 - (int)local_2c);
    }
    else if ((int)local_22 < (int)local_2c) {
      local_e._0_2_ = (uint *)((int)local_2c - (int)local_22);
    }
    else {
      local_e._0_2_ = (uint *)0x0;
    }
    local_2c._2_2_ = (int)((ulong)local_2c >> 0x10);
    if (local_2c._2_2_ < (int)local_20) {
      local_e._2_2_ = (int *)((int)local_20 - local_2c._2_2_);
    }
    else if ((int)local_22 < local_2c._2_2_) {
      local_e._2_2_ = (int *)(local_2c._2_2_ - (int)local_22);
    }
    else {
      local_e._2_2_ = (int *)0x0;
    }
    if (((uint *)local_e == (uint *)0x0) && (local_e._2_2_ == (int *)0x0)) break;
    cVar15 = (char)((int)local_e._2_2_ >> 0xf);
    lVar27 = (long)(int)local_e._2_2_ * CONCAT13(cVar15,CONCAT12(cVar15,local_e._2_2_));
    cVar15 = (char)((int)(uint *)local_e >> 0xf);
    local_8 = (long)(int)(uint *)local_e * CONCAT13(cVar15,CONCAT12(cVar15,(uint *)local_e)) +
              lVar27;
    uVar26 = local_8 >> 0x10;
    if ((long)local_8 < (long)local_12) {
      local_28 = local_28 & 0xffff0000 | ZEXT24(local_76);
      local_12 = local_8;
    }
    local_24 = (undefined4 *)((int)local_24 + 1);
  } while ((int)local_24 < 0x32);
  if (local_24 == (undefined4 *)0x32) {
    local_76 = (int *)local_28;
  }
  uVar45 = (undefined)DAT_10a8_0064;
  uVar47 = (undefined)(DAT_10a8_0064 >> 8);
  if ((int)PTR_DAT_10a8_0002_10a8_0038 < 5) {
    if (2 < (int)PTR_DAT_10a8_0002_10a8_0038) {
      __return_storage_ptr__ = (int16 *)0xa;
      piVar20 = (int16 *)((int)DAT_10a8_0064 / 10);
      uVar26 = (long)(int)DAT_10a8_0064 % 10;
      bVar43 = 9;
      goto LAB_1040_4ba5;
    }
    piVar20 = MULDIV((int16 *)&PTR_DAT_10a8_0000_10a8_0014,
                     (int16)CONCAT214(in_stack_0000fe78,
                                      CONCAT212(in_stack_0000fe76,
                                                CONCAT210(in_stack_0000fe74,
                                                          CONCAT28(in_stack_0000fe72,
                                                                   CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT13(uVar47,CONCAT12(uVar45,3))))))))
                     ,(int16)CONCAT214((int)lVar28,
                                       CONCAT212(in_stack_0000fe86,
                                                 CONCAT210((int)((ulong)lVar30 >> 0x10),
                                                           CONCAT28((int)lVar30,
                                                                    CONCAT26(in_stack_0000fe80,
                                                                             CONCAT24(
                                                  in_stack_0000fe7e,
                                                  CONCAT22(in_stack_0000fe7c,in_stack_0000fe7a))))))
                                      ),
                     (int16)CONCAT412(in_stack_0000fe96,
                                      CONCAT210(in_stack_0000fe94,
                                                CONCAT28(in_stack_0000fe92,
                                                         CONCAT26((int)((ulong)lVar27 >> 0x10),
                                                                  CONCAT24((int)lVar27,
                                                                           CONCAT22(
                                                  in_stack_0000fe8c,(int)((ulong)lVar28 >> 0x10)))))
                                               )));
    uVar45 = (undefined)DAT_10a8_0064;
    uVar47 = (undefined)(DAT_10a8_0064 >> 8);
    __return_storage_ptr__ = (int16 *)&PTR_DAT_10a8_0000_10a8_0014;
    bVar43 = 0x11;
  }
  else {
    __return_storage_ptr__ = (int16 *)&PTR_DAT_10a8_0000_10a8_0014;
    piVar20 = (int16 *)((int)DAT_10a8_0064 / 0x14);
    uVar26 = (long)(int)DAT_10a8_0064 % 0x14;
    bVar43 = 0x13;
LAB_1040_4ba5:
    uVar26 = uVar26 & 0xffff;
  }
  local_20 = (undefined4 *)((int)piVar20 + 1000);
  piVar20 = MULDIV(__return_storage_ptr__,
                   (int16)CONCAT214(in_stack_0000fe78,
                                    CONCAT212(in_stack_0000fe76,
                                              CONCAT210(in_stack_0000fe74,
                                                        CONCAT28(in_stack_0000fe72,
                                                                 CONCAT26(unaff_DI,CONCAT24(unaff_SI
                                                  ,CONCAT13(uVar47,CONCAT12(uVar45,(uint)bVar43)))))
                                                  ))),
                   (int16)CONCAT214((int)lVar28,
                                    CONCAT212(in_stack_0000fe86,
                                              CONCAT210((int)((ulong)lVar30 >> 0x10),
                                                        CONCAT28((int)lVar30,
                                                                 CONCAT26(in_stack_0000fe80,
                                                                          CONCAT24(in_stack_0000fe7e
                                                                                   ,CONCAT22(
                                                  in_stack_0000fe7c,in_stack_0000fe7a))))))),
                   (int16)CONCAT412(in_stack_0000fe96,
                                    CONCAT210(in_stack_0000fe94,
                                              CONCAT28(in_stack_0000fe92,
                                                       CONCAT26((int)((ulong)lVar27 >> 0x10),
                                                                CONCAT24((int)lVar27,
                                                                         CONCAT22(in_stack_0000fe8c,
                                                                                  (int)((ulong)
                                                  lVar28 >> 0x10))))))));
  local_22 = (int **)((int)piVar20 + 1000);
  local_24 = (undefined4 *)&DAT_10a8_0001;
  if (1 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    local_28 = local_28 & 0xffff | ZEXT24(local_74) << 0x10;
    do {
      local_12 = local_12 & 0xffff0000;
      do {
        piVar21 = (int *)FUN_1018_4a4a((int)local_32);
        *local_28._2_2_ = piVar21;
        iVar16 = (int)*local_28._2_2_ * 4;
        local_2c = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar16);
        uVar17 = *(uint *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar16);
        uVar26 = (ulong)uVar17;
        if (((((int)local_20 <= (int)local_2c) && ((int)local_20 <= (int)uVar17)) &&
            ((int)local_2c <= (int)local_22)) && ((int)uVar17 <= (int)local_22)) {
          local_a = (undefined4 *)0x0;
          local_12 = local_12 & 0xffff;
          if (&local_76 < local_28._2_2_) {
            ppiVar35 = &local_76;
            local_4 = (uint **)ppiVar35;
            do {
              iVar16 = (int)*ppiVar35 * 4;
              in_stack_0000fe8c =
                   (uint *)((int)local_2c - *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar16));
              local_2c._2_2_ = (int)((ulong)local_2c >> 0x10);
              local_e._2_2_ =
                   (int *)(local_2c._2_2_ - *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar16));
              local_e._0_2_ = in_stack_0000fe8c;
              cVar15 = (char)((int)local_e._2_2_ >> 0xf);
              lVar28 = (long)(int)local_e._2_2_ * CONCAT13(cVar15,CONCAT12(cVar15,local_e._2_2_));
              cVar15 = (char)((int)in_stack_0000fe8c >> 0xf);
              uVar29 = (long)(int)in_stack_0000fe8c *
                       CONCAT13(cVar15,CONCAT12(cVar15,in_stack_0000fe8c)) + lVar28;
              local_8._0_2_ = (undefined4 *)uVar29;
              local_8._2_1_ = (char)(uVar29 >> 0x10);
              local_8._3_1_ = (undefined)(uVar29 >> 0x18);
              uVar26 = uVar29 >> 0x10;
              if (((long)uVar29 < 1) || ((long)uVar29 < (long)local_1a)) break;
              if ((long)uVar29 <= local_1e) {
                local_12 = CONCAT22(1,(uint)local_12);
              }
              ppiVar35 = ppiVar35 + 1;
              local_a = (undefined4 *)((int)local_a + 1);
            } while ((int)local_a < (int)local_24);
          }
          if ((local_24 == local_a) && (local_12._2_2_ != 0)) break;
        }
        local_12 = local_12 & 0xffff0000 | (ulong)((uint)local_12 + 1);
      } while ((int)((uint)local_12 + 1) < 0x32);
      if ((uint)local_12 == 0x32) {
        piVar21 = *local_28._2_2_;
        uVar29 = local_28 & 0xffff0000;
        local_28 = uVar29 | ZEXT24(piVar21);
        do {
          do {
            ppiVar6 = local_28._2_2_;
            *ppiVar6 = (int *)((int)*ppiVar6 + 1);
            if ((*local_28._2_2_ == piVar21) ||
               (((int)local_32 <= (int)*local_28._2_2_ &&
                (*local_28._2_2_ = (int *)0x0, piVar21 == (int *)0x0)))) goto LAB_1040_4e2d;
            iVar16 = (int)*local_28._2_2_ * 4;
            local_2c = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar16);
            uVar17 = *(uint *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar16);
            uVar26 = (ulong)uVar17;
          } while (((int)local_2c < (int)local_20) ||
                  ((((int)uVar17 < (int)local_20 || ((int)local_22 < (int)local_2c)) ||
                   ((int)local_22 < (int)uVar17))));
          local_12 = local_12 & 0xffff;
          local_a = (undefined4 *)0x0;
          ppiVar35 = &local_76;
          if (ppiVar35 < local_28._2_2_) {
            local_4 = (uint **)ppiVar35;
            local_a = (undefined4 *)0x0;
            do {
              iVar16 = (int)*ppiVar35 * 4;
              in_stack_0000fe86 =
                   (uint *)((int)local_2c - *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar16));
              local_2c._2_2_ = (int)((ulong)local_2c >> 0x10);
              local_e._2_2_ =
                   (int *)(local_2c._2_2_ - *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar16));
              local_e._0_2_ = in_stack_0000fe86;
              cVar15 = (char)((int)local_e._2_2_ >> 0xf);
              lVar30 = (long)(int)local_e._2_2_ * CONCAT13(cVar15,CONCAT12(cVar15,local_e._2_2_));
              cVar15 = (char)((int)in_stack_0000fe86 >> 0xf);
              uVar31 = (long)(int)in_stack_0000fe86 *
                       CONCAT13(cVar15,CONCAT12(cVar15,in_stack_0000fe86)) + lVar30;
              local_8._0_2_ = (undefined4 *)uVar31;
              local_8._2_1_ = (char)(uVar31 >> 0x10);
              local_8._3_1_ = (undefined)(uVar31 >> 0x18);
              uVar26 = uVar31 >> 0x10;
              if (((long)uVar31 < 1) || ((long)uVar31 < (long)local_1a)) break;
              if ((long)uVar31 <= local_1e) {
                local_12 = CONCAT22(1,(uint)local_12);
              }
              ppiVar35 = ppiVar35 + 1;
              local_a = (undefined4 *)((int)local_a + 1);
            } while ((int)local_a < (int)local_24);
          }
          else {
            local_a = (undefined4 *)0x0;
          }
          local_28._2_2_ = (int **)(uVar29 >> 0x10);
        } while ((local_24 != local_a) || (local_12._2_2_ == 0));
LAB_1040_4e2d:
        iVar16 = CONCAT11(local_8._3_1_,local_8._2_1_);
        if (piVar21 == *local_28._2_2_) goto LAB_1040_4fd4;
      }
      local_28 = local_28 & 0xffff | ZEXT24(local_28._2_2_ + 1) << 0x10;
      local_24 = (undefined4 *)((int)local_24 + 1);
      if ((int)PTR_DAT_10a8_0002_10a8_0038 <= (int)local_24) break;
    } while( true );
  }
  local_1e._2_2_ = (int)((ulong)local_1e >> 0x10);
  local_24 = (undefined4 *)0x0;
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    uVar26 = 0x885e;
    ppiVar35 = &local_76;
    do {
      local_8._2_1_ = (char)uVar26;
      local_8._3_1_ = (undefined)(uVar26 >> 8);
      local_4 = (uint **)ppiVar35;
      iVar16 = FUN_1018_4a4a((int)PTR_DAT_10a8_0002_10a8_0038 - (int)local_24);
      local_12 = local_12 & 0xffff0000 | (ulong)(uint)(iVar16 + (int)local_24);
      iVar16 = (iVar16 + (int)local_24) * 2;
      local_a = *(undefined4 **)(local_74 + iVar16 + -2);
      *(uint **)(local_74 + iVar16 + -2) = *local_4;
      *local_4 = (uint *)local_a;
      iVar16 = FUN_1078_1d84(CONCAT11(local_8._3_1_,local_8._2_1_),0x1e);
      if (iVar16 != 0) {
        FUN_1078_2b26((undefined4 *)CONCAT11(local_8._3_1_,local_8._2_1_));
      }
      local_12._0_2_ = 0;
      do {
        local_12 = local_12 & 0xffff0000 | (ulong)(uint)local_12;
        FUN_1010_6b58(CONCAT22((uint)local_12 + 0x84,local_24),0xffff);
        local_12._0_2_ = (uint)local_12 + 1;
      } while ((int)(uint)local_12 < 4);
      local_12 = local_12 & 0xffff0000 | (ulong)(uint)local_12;
      uVar26 = (ulong)(CONCAT11(local_8._3_1_,local_8._2_1_) + 0x76);
      ppiVar35 = (int **)(local_4 + 1);
      local_24 = (undefined4 *)((int)local_24 + 1);
    } while ((int)local_24 < (int)PTR_DAT_10a8_0002_10a8_0038);
  }
  local_24 = (undefined4 *)0x0;
  local_20 = (undefined4 *)*_PTR_DAT_10a8_0000_10a8_006e;
  local_1e._0_2_ = (uint)((ulong)*_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
  uVar45 = (undefined)((uint)unaff_SS >> 8);
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    local_1e._2_2_ = 0;
    local_16 = local_16 & 0xffff;
    local_1a = CONCAT22(local_1a._2_2_,0x72);
    ppiVar35 = &local_76;
    do {
      local_e._2_2_ = *ppiVar35;
      iVar16 = (int)local_e._2_2_ * 0x3c;
      *(int *)(iVar16 + *(int *)&PTR_DAT_10a8_0000_10a8_006a + 2) = (int)local_24;
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      pbVar1 = (byte *)((int)uVar13 + iVar16 + 5);
      *pbVar1 = *pbVar1 | 2;
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      pbVar1 = (byte *)((int)uVar13 + iVar16 + 0x20);
      *pbVar1 = *pbVar1 & 0xbf;
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
      iVar34 = (int)uVar13 + iVar16;
      *(uint *)(iVar34 + 0x1c) = *(uint *)(iVar34 + 0x1c) & 0xf | 0xa0;
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
      iVar34 = (int)uVar13 + iVar16;
      uVar26 = *(ulong *)(iVar34 + 0x1a);
      *(ulong *)(iVar34 + 0x1a) = uVar26 & 0xfff00000 | (ulong)CONCAT11(10,(char)uVar26);
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      uVar41 = (undefined2)((ulong)uVar13 >> 0x10);
      iVar34 = (int)uVar13 + iVar16;
      uVar40 = *(undefined2 *)(iVar34 + 0x20);
      *(undefined2 *)(iVar34 + 0x1e) =
           (int)CONCAT31((uint3)((byte)((uint)*(undefined2 *)(iVar34 + 0x1e) >> 8) & 0xf0),10);
      *(undefined2 *)(iVar34 + 0x20) = uVar40;
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      pbVar1 = (byte *)((int)uVar13 + iVar16 + 0x20);
      *pbVar1 = *pbVar1 & 0xc1;
      local_22 = ppiVar35;
      iVar16 = FUN_1078_1d84(local_16._2_2_ + -0x77a2,0x13);
      if (iVar16 == 0) {
        *(undefined4 *)((int)local_e._2_2_ * 0x3c + *(int *)&PTR_DAT_10a8_0000_10a8_006a + 0x32) =
             0xfa;
      }
      else {
        uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
        *(undefined4 *)((int)uVar13 + (int)local_e._2_2_ * 0x3c + 0x32) = 200;
      }
      puVar38 = (undefined4 *)((int)local_e._2_2_ * 0x3c);
      iVar16 = *(int *)&PTR_DAT_10a8_0000_10a8_006a;
      uVar40 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_006c;
      uVar17 = *(uint *)((int)puVar38 + iVar16 + 0x32) >> 2 ^
               *(uint *)((int)puVar38 + iVar16 + 0x18);
      puVar4 = (uint *)((int)puVar38 + iVar16 + 0x18);
      *puVar4 = *puVar4 ^ (uVar17 & 0xff | ((byte)((ulong)uVar17 >> 8) & 0xf) << 8);
      uVar17 = 0;
      local_8._2_2_ = (long *)0x0;
      local_4 = (uint **)0x0;
      puVar37 = puVar38;
      local_8._0_2_ = puVar38;
      do {
        uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
        uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
        *(undefined4 *)((int)(undefined4 *)local_8 + *(int *)&PTR_DAT_10a8_0000_10a8_006a + 0x22) =
             *(undefined4 *)((int)uVar13 + 0x22 + (int)local_8._2_2_);
        uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
        uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
        uVar33 = *(uint *)((int)uVar13 + 6 + (int)local_4);
        *(int *)((int)puVar37 + *(int *)&PTR_DAT_10a8_0000_10a8_006a + 6) =
             (uVar33 - 0x3f5 & ~-(uint)(uVar33 < 0x3f5)) + 0x3f5;
        uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
        uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
        cVar15 = *(char *)((int)uVar13 + 0xe + uVar17);
        if (cVar15 < '\x04') {
          cVar15 = '\x04';
        }
        *(char *)((int)puVar38 + uVar17 + *(int *)&PTR_DAT_10a8_0000_10a8_006a + 0xe) = cVar15;
        local_4 = (uint **)((int)local_4 + 2);
        puVar37 = (undefined4 *)((int)puVar37 + 2);
        local_8._0_2_ = (undefined4 *)local_8 + 1;
        uVar17 = uVar17 + 1;
        local_8._2_2_ = (long *)((int)local_8._2_2_ + 4);
      } while ((int)local_8._2_2_ < 0x10);
      local_12 = local_12 & 0xffff0000 | (ulong)uVar17;
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      plVar7 = (long *)((int)puVar38 + (int)uVar13 + 0x22);
      *plVar7 = *plVar7 + 3000;
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      puVar2 = (ulong *)((int)puVar38 + (int)uVar13 + 0x1e);
      *puVar2 = *puVar2 & 0xfffe0fff;
      local_a = puVar38;
      iVar16 = FUN_1078_2274(local_16._2_2_ + -0x77a2,CONCAT22(unaff_DI,unaff_SI));
      if (iVar16 < 0x33) {
        uVar40 = FUN_1078_2274(local_16._2_2_ + -0x77a2,CONCAT22(unaff_DI,unaff_SI));
      }
      else {
        uVar40 = 0x32;
      }
      local_8._2_1_ = (char)uVar40;
      local_8._3_1_ = (undefined)((uint)uVar40 >> 8);
      if ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + local_16._2_2_) & 2) != 0) {
        local_8._2_1_ = 0x32;
        local_8._3_1_ = 0;
        if (0xb < (*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + local_16._2_2_) & 0x1c)) {
          uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
          uVar14 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
          plVar7 = (long *)((int)puVar38 + (int)uVar14 + 0x32);
          *plVar7 = *plVar7 + *(long *)((int)puVar38 + (int)uVar13 + 0x32) / 10;
        }
      }
      uVar17 = FUN_1078_1d42(local_16._2_2_ + -0x77a2,7);
      uVar26 = local_12 & 0xffff0000;
      local_12 = uVar26 | uVar17;
      if (uVar17 == 1) {
        iVar16 = *(int *)&PTR_DAT_10a8_0000_10a8_006a;
        puVar18 = *(uint **)&PTR_DAT_10a8_0000_10a8_006c;
        in_stack_0000fe7a = (int)puVar38 + iVar16 + 6;
        local_16 = local_16 & 0xffff0000 | ZEXT24(puVar18);
        if (*(int *)((int)puVar38 + iVar16 + 8) < *(int *)((int)puVar38 + iVar16 + 10)) {
          if (*(int *)((int)puVar38 + iVar16 + 8) < *(int *)((int)puVar38 + iVar16 + 0xc)) {
            local_a = (undefined4 *)&DAT_10a8_0001;
          }
          else {
LAB_1040_5268:
            local_a = (undefined4 *)&DAT_10a8_0003;
          }
        }
        else {
          if (*(int *)((int)puVar38 + iVar16 + 0xc) <= *(int *)((int)puVar38 + iVar16 + 10))
          goto LAB_1040_5268;
          local_a = (undefined4 *)&DAT_10a8_0002;
        }
        local_e._0_2_ = (uint *)(CONCAT11(local_8._3_1_,local_8._2_1_) * 0x28 >> 2);
        piVar8 = (int *)(in_stack_0000fe7a + (int)local_a * 2);
        *piVar8 = *piVar8 + (int)(uint *)local_e;
        local_12._0_2_ = 1;
        local_8._2_2_ = (long *)((int)puVar38 + iVar16 + 8);
        local_1a = local_1a & 0xffff | (ulong)in_stack_0000fe7a << 0x10;
        iVar16 = 3;
        plVar32 = local_8._2_2_;
        do {
          plVar7 = plVar32;
          *(int *)plVar7 = *(int *)plVar7 + (int)(uint *)local_e;
          plVar32 = (long *)((int)plVar32 + 2);
          local_12._0_2_ = (uint)local_12 + 1;
          iVar16 = iVar16 + -1;
        } while (iVar16 != 0);
LAB_1040_520f:
        local_8._0_2_ = (undefined4 *)&DAT_10a8_0003;
        local_12 = uVar26 | (uint)local_12;
      }
      else if (uVar17 == 2) {
        uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
        uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
        iVar16 = (int)uVar13;
        uVar33 = CONCAT11(local_8._3_1_,local_8._2_1_) >> 1;
        uVar17 = uVar33 * 0x100;
        puVar4 = (uint *)((int)puVar38 + iVar16 + 0x1a);
        puVar18 = (uint *)(((uint)(byte)((ulong)uVar33 >> 8) +
                            *(int *)((int)puVar38 + iVar16 + 0x1c) + (uint)CARRY2(uVar17,*puVar4) ^
                           *(uint *)((int)puVar38 + iVar16 + 0x1c)) & 0xf);
        puVar9 = (uint *)((int)puVar38 + iVar16 + 0x1a);
        *puVar9 = *puVar9 ^ (uVar17 + *puVar4 ^ *(uint *)((int)puVar38 + iVar16 + 0x1a)) & 0xff00;
        puVar4 = (uint *)((int)puVar38 + iVar16 + 0x1c);
        *puVar4 = *puVar4 ^ (uint)puVar18;
      }
      else if (uVar17 == 3) {
        iVar16 = *(int *)&PTR_DAT_10a8_0000_10a8_006a;
        uVar40 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_006c;
        in_stack_0000fe76 = *(WPARAM16 *)((int)puVar38 + iVar16 + 0x1a);
        in_stack_0000fe78 =
             (CONCAT11(local_8._3_1_,local_8._2_1_) / 5) * 0x10 +
             *(int *)((int)puVar38 + iVar16 + 0x1c);
        puVar18 = (uint *)((in_stack_0000fe78 ^ *(uint *)((int)puVar38 + iVar16 + 0x1c)) & 0xf ^
                          in_stack_0000fe78);
        *(undefined2 *)((int)puVar38 + iVar16 + 0x1a) =
             *(undefined2 *)((int)puVar38 + iVar16 + 0x1a);
        *(uint **)((int)puVar38 + iVar16 + 0x1c) = puVar18;
        local_8._2_2_ = (long *)CONCAT11(local_8._3_1_,local_8._2_1_);
      }
      else {
        if (uVar17 != 4) {
          uVar17 = CONCAT11(local_8._3_1_,local_8._2_1_) * 10;
          iVar16 = *(int *)&PTR_DAT_10a8_0000_10a8_006a;
          puVar18 = *(uint **)&PTR_DAT_10a8_0000_10a8_006c;
          uVar33 = (int)puVar38 + iVar16 + 0x22;
          local_16 = local_16 & 0xffff0000 | ZEXT24(puVar18);
          if (*(long *)((int)puVar38 + iVar16 + 0x26) < *(long *)((int)puVar38 + iVar16 + 0x2a)) {
            if (*(long *)((int)puVar38 + iVar16 + 0x26) < *(long *)((int)puVar38 + iVar16 + 0x2e)) {
              local_a = (undefined4 *)&DAT_10a8_0001;
            }
            else {
LAB_1040_51b0:
              local_a = (undefined4 *)&DAT_10a8_0003;
            }
          }
          else {
            if (*(long *)((int)puVar38 + iVar16 + 0x2e) <= *(long *)((int)puVar38 + iVar16 + 0x2a))
            goto LAB_1040_51b0;
            local_a = (undefined4 *)&DAT_10a8_0002;
          }
          puVar39 = (uint *)(uVar33 + (int)local_a * 4);
          local_e._0_2_ = (uint *)((int)uVar17 >> 2);
          uVar22 = (int)(uint *)local_e + (uVar17 & 3);
          puVar4 = puVar39;
          uVar17 = *puVar4;
          *puVar4 = *puVar4 + uVar22;
          puVar4 = puVar39 + 1;
          *puVar4 = *puVar4 + ((int)uVar22 >> 0xf) + (uint)CARRY2(uVar17,uVar22);
          local_8._2_2_ = (long *)((int)puVar38 + iVar16 + 0x26);
          local_1a = local_1a & 0xffff | (ulong)uVar33 << 0x10;
          local_12._0_2_ = 1;
          iVar16 = 3;
          plVar32 = local_8._2_2_;
          do {
            plVar7 = plVar32;
            *plVar7 = *plVar7 + (long)(int)(uint *)local_e;
            plVar32 = plVar32 + 1;
            local_12._0_2_ = (uint)local_12 + 1;
            iVar16 = iVar16 + -1;
          } while (iVar16 != 0);
          goto LAB_1040_520f;
        }
        uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
        uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
        iVar16 = (int)uVar13;
        uVar17 = CONCAT11(local_8._3_1_,local_8._2_1_) / 10 + *(int *)((int)puVar38 + iVar16 + 0x1e)
                 ^ *(uint *)((int)puVar38 + iVar16 + 0x1e);
        puVar18 = (uint *)0x0;
        puVar4 = (uint *)((int)puVar38 + iVar16 + 0x1e);
        *puVar4 = *puVar4 ^ (uVar17 & 0xff | ((byte)((ulong)uVar17 >> 8) & 0xf) << 8);
        puVar3 = (undefined2 *)((int)puVar38 + iVar16 + 0x20);
        *puVar3 = *puVar3;
        local_8._2_2_ = (long *)CONCAT11(local_8._3_1_,local_8._2_1_);
      }
      iVar16 = FUN_1078_1d84(local_16._2_2_ + -0x77a2,0x10);
      if (iVar16 != 0) {
        uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
        puVar4 = (uint *)((int)puVar38 + (int)uVar13 + 0x1e);
        *puVar4 = *puVar4 & 0xf000;
        uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
        pbVar1 = (byte *)((int)puVar38 + (int)uVar13 + 0x20);
        *pbVar1 = *pbVar1 | 0x3e;
      }
      uVar46 = 0x95;
      uVar48 = 1;
      uVar40 = 0x3ee8;
      uVar47 = (char)unaff_SS;
      uVar44 = uVar45;
      puVar39 = FUN_1038_0232(0x870,7);
      local_12 = local_12 & 0xffff | ZEXT24(puVar39) << 0x10;
      local_e._0_2_ = puVar18;
      FUN_10a0_0ac6(CONCAT22(puVar18,puVar39),CONCAT13(uVar44,CONCAT12(uVar47,uVar40)),
                    CONCAT11(uVar48,uVar46));
      puVar37 = (undefined4 *)(local_12._2_2_ + 0x195);
      for (iVar16 = 0x1b6; iVar16 != 0; iVar16 = iVar16 + -1) {
        puVar10 = puVar37;
        puVar37 = puVar37 + 1;
        *puVar10 = 0;
      }
      *(undefined2 *)puVar37 = 0;
      *(undefined *)(undefined2 *)((int)puVar37 + 2) = 0;
      local_8._2_2_ = (long *)(local_12._2_2_ + 0x210);
      local_8._0_2_ = (undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_000c + 1);
      iVar16 = 0xd;
      local_12._0_2_ = 3;
      iVar34 = (int)local_8._2_2_;
      do {
        pbVar1 = (byte *)(iVar34 + 1);
        *pbVar1 = *pbVar1 | 2;
        iVar34 = iVar34 + 0x87;
        local_12._0_2_ = (uint)local_12 + 1;
        iVar16 = iVar16 + -1;
      } while (iVar16 != 0);
      uVar26 = local_12 & 0xffff0000;
      local_12 = uVar26 | (uint)local_12;
      local_12._2_2_ = (uint)(uVar26 >> 0x10);
      *(uint *)(undefined4 *)local_1a = local_12._2_2_;
      *(uint **)((int)(undefined4 *)local_1a + 2) = (uint *)local_e;
      *(undefined *)((int)&DAT_10a8_885f + local_16._2_2_) = 3;
      *(undefined *)(local_16._2_2_ + -0x77a2) = (byte)local_24;
      *(int **)((int)&PTR_DAT_10a8_0000_10a8_8865 + 1 + local_16._2_2_) = local_e._2_2_;
      if (*(char *)(local_16._2_2_ + -0x778c) == -1) {
        iVar16 = FUN_1018_4a4a(99);
        local_8._2_2_ = (long *)(iVar16 + 1);
      }
      else {
        iVar16 = (int)*(char *)(local_16._2_2_ + -0x778f);
        local_8._2_2_ = (long *)(iVar16 + (*(char *)(local_16._2_2_ + -0x778c) - iVar16) / 2);
      }
      *(undefined *)((int)puVar38 + *(int *)&PTR_DAT_10a8_0000_10a8_006a + 0x15) = local_8._2_1_;
      iVar16 = *(int *)&PTR_DAT_10a8_0000_10a8_006a;
      uVar40 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_006c;
      *(undefined *)((int)puVar38 + iVar16 + 0x12) = *(undefined *)((int)puVar38 + iVar16 + 0x15);
      if (*(char *)(local_16._2_2_ + -0x778b) == -1) {
        iVar16 = FUN_1018_4a4a(99);
        local_8._2_2_ = (long *)(iVar16 + 1);
      }
      else {
        iVar16 = (int)*(char *)(local_16._2_2_ + -0x778e);
        local_8._2_2_ = (long *)(iVar16 + (*(char *)(local_16._2_2_ + -0x778b) - iVar16) / 2);
      }
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      *(undefined *)((int)puVar38 + (int)uVar13 + 0x16) = local_8._2_1_;
      iVar16 = *(int *)&PTR_DAT_10a8_0000_10a8_006a;
      uVar40 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_006c;
      *(undefined *)((int)puVar38 + iVar16 + 0x13) = *(undefined *)((int)puVar38 + iVar16 + 0x16);
      if (*(char *)(local_16._2_2_ + -0x778a) == -1) {
        uVar40 = FUN_1018_4a4a(99);
        local_8._2_1_ = (char)uVar40 + '\x01';
      }
      else {
        cVar15 = *(char *)(local_16._2_2_ + -0x778d);
        local_8._2_1_ =
             cVar15 + (char)(((int)*(char *)(local_16._2_2_ + -0x778a) - (int)cVar15) / 2);
      }
      uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006a;
      *(char *)((int)puVar38 + (int)uVar13 + 0x17) = local_8._2_1_;
      iVar16 = *(int *)&PTR_DAT_10a8_0000_10a8_006a;
      uVar40 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_006c;
      *(undefined *)((int)puVar38 + iVar16 + 0x14) = *(undefined *)((int)puVar38 + iVar16 + 0x17);
      puVar23 = (undefined2 *)(local_16._2_2_ + -0x7782);
      local_12._0_2_ = 0;
      do {
        *(undefined *)((uint)local_12 + local_16._2_2_ + -0x7788) = 0;
        *puVar23 = 0;
        puVar23 = puVar23 + 1;
        local_12._0_2_ = (uint)local_12 + 1;
      } while ((int)(uint)local_12 < 6);
      if ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + local_16._2_2_) & 2) == 0) {
        *(undefined *)((int)&DAT_10a8_888a + local_16._2_2_) = 0xf;
      }
      *(undefined *)((int)&DAT_10a8_888b + local_16._2_2_) = 0;
      *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_888c + local_16._2_2_) = 0;
      *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_8868 + local_16._2_2_) = 0;
      if (0 < *(int *)&PTR_DAT_10a8_0002_10a8_0038) {
        uVar17 = *(uint *)&PTR_DAT_10a8_0002_10a8_0038;
        puVar23 = (undefined2 *)(local_16._2_2_ + -0x775c);
        for (uVar33 = uVar17 >> 1; uVar33 != 0; uVar33 = uVar33 - 1) {
          puVar3 = puVar23;
          puVar23 = puVar23 + 1;
          *puVar3 = 0;
        }
        if ((uVar17 & 1) != 0) {
          *(undefined *)puVar23 = 0;
        }
        do {
          uVar17 = uVar17 - 1;
        } while (uVar17 != 0);
      }
      local_56 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + (int)local_e._2_2_ * 4);
      local_e0 = *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_623a + (int)local_e._2_2_ * 4);
      local_52 = local_e._2_2_;
      local_e8 = (int)local_24;
      local_ea = local_ea ^
                 ((byte)((byte)((ulong)(uint)((int)local_24 << 9) >> 8) ^ local_ea._1_1_) & 0x1e) <<
                 8;
      local_e2 = (undefined2)local_56;
      local_e4 = local_e._2_2_;
      local_7e = 0;
      local_12 = local_12 & 0xffff0000;
      local_4 = (uint **)0x0;
      local_8._2_2_ = (long *)(local_de + 2);
      do {
        local_ea = local_ea ^ (local_ea ^ (uint)local_12) & 0x1ff;
        puVar37 = (undefined4 *)local_de;
        for (iVar16 = 8; iVar16 != 0; iVar16 = iVar16 + -1) {
          puVar10 = puVar37;
          puVar37 = puVar37 + 1;
          *puVar10 = 0;
        }
        *(int *)local_8._2_2_ = 1;
        uVar13 = *(undefined4 *)local_1a;
        *(undefined2 *)((int)local_4 + (int)uVar13 + 0x108) = 1;
        uVar13 = *(undefined4 *)local_1a;
        uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
        iVar16 = (int)uVar13;
        *(undefined2 *)((int)local_4 + iVar16 + 0x106) =
             *(undefined2 *)((int)local_4 + iVar16 + 0x108);
        uVar17 = *(uint *)((int)local_4 + 0x72a3);
        local_9e = FUN_1018_4a4a(uVar17 >> 1 & 0xff | (uVar17 >> 9) << 8);
        uVar17 = local_9e >> 0xf;
        local_9c = uVar17;
        puVar24 = (undefined4 *)FUN_1038_0562(0x12,8,0);
        local_86 = CONCAT22(uVar17,puVar24);
        puVar37 = &local_56;
        puVar38 = puVar24;
        for (iVar16 = 4; puVar38 = puVar38 + 1, iVar16 != 0; iVar16 = iVar16 + -1) {
          puVar10 = puVar37;
          puVar37 = puVar37 + 1;
          *puVar38 = *puVar10;
        }
        *(undefined2 *)puVar38 = *(undefined2 *)puVar37;
        *(undefined *)((int)puVar24 + 3) = 1;
        if (local_8._2_2_ == (long *)(local_de + 2)) {
          local_20 = (undefined4 *)FUN_1038_0232(0x74,5);
          local_1e._0_2_ = uVar17;
          local_28 = CONCAT22(uVar17,local_20);
        }
        else {
          puVar18 = FUN_1038_0232(0x74,5);
          *(uint **)(local_20 + 0x1a) = puVar18;
          *(uint *)((int)local_20 + 0x6a) = uVar17;
          uVar13 = local_20[0x1a];
          local_20 = (undefined4 *)uVar13;
          local_1e._0_2_ = (uint)((ulong)uVar13 >> 0x10);
        }
        puVar37 = (undefined4 *)&local_ea;
        puVar38 = local_20;
        for (iVar16 = 0x1d; iVar16 != 0; iVar16 = iVar16 + -1) {
          puVar11 = puVar38;
          puVar38 = puVar38 + 1;
          puVar10 = puVar37;
          puVar37 = puVar37 + 1;
          *puVar11 = *puVar10;
        }
        uVar26 = (ulong)(uint)local_1e;
        uVar13 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
        uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
        iVar16 = (int)uVar13;
        *(undefined2 *)(iVar16 + local_1e._2_2_) = local_20;
        *(uint *)(iVar16 + local_1e._2_2_ + 2) = (uint)local_1e;
        local_1e._2_2_ = local_1e._2_2_ + 4;
        local_4 = (uint **)((int)local_4 + 0x87);
        local_12 = local_12 & 0xffff0000 | (ulong)((uint)local_12 + 1);
        local_8._2_2_ = (long *)((int)local_8._2_2_ + 2);
        local_8._3_1_ = (undefined)((uint)local_8._2_2_ >> 8);
      } while (local_8._2_2_ < local_d8);
      local_20[0x1a] = local_28;
      local_16 = local_16 & 0xffff | (ulong)(local_16._2_2_ + 0x76) << 0x10;
      local_1a = local_1a & 0xffff0000 | (ulong)((int)(undefined4 *)local_1a + 4);
      ppiVar35 = local_22 + 1;
      local_20 = local_20 + 0x91;
      local_24 = (undefined4 *)((int)local_24 + 1);
      valist = unaff_SS;
    } while ((int)local_24 < *(int *)&PTR_DAT_10a8_0002_10a8_0038);
  }
  local_24 = (undefined4 *)0x0;
  if (0 < *(int *)&PTR_DAT_10a8_0002_10a8_0038) {
    iVar16 = -0x77fc;
    do {
      *(undefined *)((int)&DAT_10a8_7a56 + (int)local_24) = 4;
      local_8._2_1_ = (char)iVar16;
      local_8._3_1_ = (undefined)((uint)iVar16 >> 8);
      puVar18 = FUN_1038_0232(0x2e0,7);
      *(uint **)local_8._2_2_ = puVar18;
      *(int *)((int)local_8._2_2_ + 2) = (int)uVar26;
      local_12 = local_12 & 0xffff0000;
      local_4 = (uint **)0x0;
      do {
        uVar13 = *(undefined4 *)CONCAT11(local_8._3_1_,local_8._2_1_);
        uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
        puVar37 = (undefined4 *)((int)uVar13 + (int)local_4);
        puVar38 = (undefined4 *)(local_4 + 0x1f18);
        for (iVar16 = 0xb; iVar16 != 0; iVar16 = iVar16 + -1) {
          puVar11 = puVar37;
          puVar37 = puVar37 + 1;
          puVar10 = puVar38;
          puVar38 = puVar38 + 1;
          *puVar11 = *puVar10;
        }
        *(undefined2 *)puVar37 = *(undefined2 *)puVar38;
        uVar13 = *(undefined4 *)CONCAT11(local_8._3_1_,local_8._2_1_);
        uVar40 = (undefined2)((ulong)uVar13 >> 0x10);
        iVar16 = (int)uVar13;
        puVar4 = (uint *)(iVar16 + (int)local_4);
        *puVar4 = *puVar4 ^ (*(byte *)(iVar16 + (int)local_4) ^ (byte)local_24) & 0xf;
        local_12 = local_12 & 0xffff0000 | (ulong)((uint)local_12 + 1);
        local_4 = local_4 + 0x17;
      } while ((int)local_4 < 0xb8);
      iVar16 = CONCAT11(local_8._3_1_,local_8._2_1_) + 4;
      local_24 = (undefined4 *)((int)local_24 + 1);
    } while ((int)local_24 < *(int *)&PTR_DAT_10a8_0002_10a8_0038);
  }
  uVar17 = 0xffff;
  local_24 = (undefined4 *)0x0;
  if (0 < *(int *)&PTR_DAT_10a8_0002_10a8_0038) {
    iVar16 = (int)&DAT_10a8_8864;
    uVar17 = 0xffff;
    do {
      if ((((*(byte *)(iVar16 + 1) & 2) == 0) ||
          (uVar33 = uVar17, (*(byte *)(iVar16 + 1) & 0xe0) == 0xe0)) &&
         (uVar33 = (uint)local_24, uVar17 != 0xffff)) break;
      uVar17 = uVar33;
      iVar16 = iVar16 + 0x76;
      local_24 = (undefined4 *)((int)local_24 + 1);
    } while ((int)local_24 < *(int *)&PTR_DAT_10a8_0002_10a8_0038);
  }
  if (((undefined4 *)*(uint *)&PTR_DAT_10a8_0002_10a8_0038 == local_24) && (uVar17 != 0xffff)) {
    local_12 = local_12 & 0xffff0000 | (ulong)uVar17;
    pbVar1 = (byte *)&PTR_DAT_10a8_0000_10a8_0040;
    *pbVar1 = *pbVar1 | 4;
  }
  else {
    local_12 = local_12 & 0xffff0000 | (ulong)uVar17;
    pbVar1 = (byte *)&PTR_DAT_10a8_0000_10a8_0040;
    *pbVar1 = *pbVar1 & 0xfb;
  }
  if ((*(byte *)&PTR_DAT_10a8_0000_10a8_0040 & 8) == 0) {
    dVar42 = GETTICKCOUNT();
    *(undefined2 *)&PTR_DAT_10a8_0000_10a8_0030 = (int)dVar42;
    *(undefined2 *)0x32 = (int)(dVar42 >> 0x10);
  }
  *(int **)&PTR_DAT_10a8_0000_10a8_003a = (int *)local_32;
  _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(0x1032,valist),
            (LPCSTR)CONCAT13(0x85,CONCAT12(0xdc,valist)),valist);
  iVar16 = FUN_1040_3e38(0xffff0000,0);
  if (iVar16 != 0) {
    FUN_1040_422c(7,(uint16 *)&PTR_DAT_10a8_0002_10a8_0034,
                  CONCAT13((char)((uint)valist >> 8),CONCAT12((char)valist,0x30)));
    local_8._0_2_ = (undefined4 *)((int)s__s___s_computer_player__10a8_03d3 + 0x15);
    local_24 = (undefined4 *)0x0;
    if (0 < (int)local_32) {
      ppiVar35 = (int **)&PTR_DAT_10a8_0000_10a8_6238;
      piVar21 = (int *)0x5a6a;
      local_a = local_32;
      do {
        in_stack_0000fe74 = *piVar21 << 6;
        piVar12 = ppiVar35[1];
        local_30 = local_30 ^ ((int)piVar12 << 10 ^ local_30) & 0xfc00;
        in_stack_0000fe72 = 0;
        local_2e = (local_2e ^
                   (((uint)(byte)(ZEXT24(piVar12) >> 8) * 2 +
                    (uint)CARRY2((int)piVar12 * 0x100,(int)piVar12 * 0x100)) * 2 +
                    (uint)CARRY2((int)piVar12 << 9,(int)piVar12 << 9) ^ local_2e) & 0x3f) & 0x3f ^
                   in_stack_0000fe74;
        local_e._0_2_ = (uint *)((int)*ppiVar35 - (int)(undefined4 *)local_8);
        uVar17 = (uint)(uint *)local_e ^ local_30;
        local_30 = local_30 ^ (uVar17 & 0xff | ((byte)((ulong)uVar17 >> 8) & 3) << 8);
        local_8._2_1_ = (char)piVar21;
        local_8._3_1_ = (undefined)((uint)piVar21 >> 8);
        local_4 = (uint **)ppiVar35;
        FUN_1040_42c8((LPCSTR)CONCAT13(uVar45,CONCAT12((char)unaff_SS,&local_30)),
                      (uint16 *)&PTR_LOOP_10a8_0004);
        local_8._0_2_ = (undefined4 *)*local_4;
        ppiVar35 = (int **)(local_4 + 2);
        piVar21 = (int *)((int)local_8._2_2_ + 2);
        local_24 = (undefined4 *)((int)local_24 + 1);
        local_a = (undefined4 *)((int)local_a + -1);
      } while (local_a != (undefined4 *)0x0);
    }
    FUN_1040_422c(0,(uint16 *)0x0,0);
    FUN_1040_1f9c();
    local_24 = (undefined4 *)0xffff;
    if (*(uint *)&PTR_DAT_10a8_0002_10a8_0038 < 0x8000) {
      do {
        FUN_1040_230a((VA_LIST16)&DAT_10a8_85dc,(undefined *)local_24,0);
        local_24 = (undefined4 *)((int)local_24 + 1);
      } while ((int)local_24 < *(int *)&PTR_DAT_10a8_0002_10a8_0038);
    }
    if ((*(byte *)&PTR_DAT_10a8_0000_10a8_0040 & 4) != 0) {
      FUN_1040_190c();
      _WSPRINTF((int16 *)((int)&local_8 + 2),(LPSTR)CONCAT22(0x1038,unaff_SS),
                (LPCSTR)CONCAT13((char)((uint)local_12 + 1 >> 8),
                                 CONCAT12((char)((uint)local_12 + 1),valist)),unaff_SI);
      iVar16 = FUN_1040_02ec((VA_LIST16)&DAT_10a8_85dc,(byte *)((int)&local_8 + 2));
      if (iVar16 == 0) {
        FUN_1018_50b2(0x17,0x10);
        return 0;
      }
      *(undefined2 *)&PTR_DAT_10a8_0001_10a8_00c0 = (uint)local_12;
      window_op_1008_0ede();
      uVar40 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_58b4;
      SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000fe74,
                                      CONCAT212(in_stack_0000fe72,
                                                CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((char)
                                                  ((uint)uVar40 >> 8),
                                                  CONCAT16((char)uVar40,0x1110fa10000)))))),
                  in_stack_0000fe76,CONCAT22(in_stack_0000fe7a,in_stack_0000fe78));
      return 1;
    }
    *(undefined2 *)&PTR_DAT_10a8_0001_10a8_00c0 = 0xffff;
    *(undefined2 *)&PTR_DAT_10a8_0000_10a8_0fd2 = 0;
    window_op_1008_0ede();
    return 1;
  }
  FUN_1018_50b2(0xd,0x10);
  goto LAB_1040_45d7;
LAB_1040_4fd4:
  local_1a = local_1a + (long)local_16 / -0x23;
  local_1e = local_1e + (long)local_16 / 0x23;
  goto LAB_1040_4a73;
}



ulong __stdcall16far NEWGAMEDLG(HWND16 param_1,int param_2,int param_3,int param_4,HRGN16 param_5)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  undefined *hdest;
  HWND16 HVar4;
  HWND16 HVar5;
  HWND16 HVar6;
  uint16 *puVar7;
  int16 *piVar8;
  uint uVar9;
  uint uVar10;
  uint in_DX;
  int *piVar11;
  WPARAM16 unaff_SI;
  uint16 *puVar12;
  HRGN16 unaff_DI;
  char *pcVar13;
  undefined2 *puVar14;
  undefined2 *puVar15;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar16;
  LRESULT LVar17;
  undefined2 in_stack_0000ffc0;
  undefined2 in_stack_0000ffc2;
  undefined2 uVar18;
  int in_stack_0000ffc4;
  undefined *puVar19;
  int iVar20;
  HWND16 in_stack_0000ffc6;
  undefined *hrsc1;
  undefined *hrsc1_00;
  HRGN16 in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  word in_stack_0000ffd2;
  word in_stack_0000ffd4;
  undefined2 in_stack_0000ffd6;
  undefined2 in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  undefined2 in_stack_0000ffdc;
  undefined2 in_stack_0000ffde;
  undefined2 in_stack_0000ffe0;
  undefined in_stack_0000ffe2 [12];
  undefined2 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  int local_c;
  int local_a;
  uint local_4;

  if (param_4 == 0xf) {
    hdest = (undefined *)
            BEGINPAINT((HWND16)&stack0xffcc,(PAINTSTRUCT16 *)CONCAT22(param_5,unaff_SS));
    HVar4 = GETDLGITEM(1000,(int16)CONCAT214(in_stack_0000ffd6,
                                             CONCAT212(in_stack_0000ffd4,
                                                       CONCAT210(in_stack_0000ffd2,
                                                                 CONCAT28(in_stack_0000ffd0,
                                                                          CONCAT26(in_stack_0000ffce
                                                                                   ,CONCAT24(
                                                  in_stack_0000ffcc,CONCAT22(unaff_DI,param_5)))))))
                      );
    GETWINDOWRECT((HWND16)&local_c,(RECT16 *)CONCAT22(HVar4,unaff_SS));
    SCREENTOCLIENT((HWND16)&local_c,(POINT16 *)CONCAT22(param_5,unaff_SS));
    HVar4 = GETDLGITEM(0x3ec,(int16)CONCAT214(in_stack_0000ffd6,
                                              CONCAT212(in_stack_0000ffd4,
                                                        CONCAT210(in_stack_0000ffd2,
                                                                  CONCAT28(in_stack_0000ffd0,
                                                                           CONCAT26(
                                                  in_stack_0000ffce,
                                                  CONCAT24(in_stack_0000ffcc,
                                                           CONCAT22(unaff_DI,param_5))))))));
    GETWINDOWRECT((HWND16)&stack0xffec,(RECT16 *)CONCAT22(HVar4,unaff_SS));
    SCREENTOCLIENT((HWND16)&stack0xfff0,(POINT16 *)CONCAT22(param_5,unaff_SS));
    FUN_1018_5948(&local_c,(int)PTR_DAT_10a8_0000_10a8_5794,(int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
    FUN_1018_5bba(hdest,(undefined4 *)&local_c,-1,unaff_DI,in_stack_0000ffcc,in_stack_0000ffce,
                  in_stack_0000ffd0,in_stack_0000ffd2,in_stack_0000ffd4,in_stack_0000ffd6,
                  in_stack_0000ffd8,in_stack_0000ffda,in_stack_0000ffdc,in_stack_0000ffde,
                  in_stack_0000ffe0);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)hdest,unaff_DI,in_stack_0000ffcc,
                 (int16)CONCAT214(in_stack_0000ffdc,
                                  CONCAT212(in_stack_0000ffda,
                                            CONCAT210(in_stack_0000ffd8,
                                                      CONCAT28(in_stack_0000ffd6,
                                                               CONCAT26(in_stack_0000ffd4,
                                                                        CONCAT24(in_stack_0000ffd2,
                                                                                 CONCAT22(
                                                  in_stack_0000ffd0,in_stack_0000ffce))))))));
    uVar18 = 0xf;
    hrsc1_00 = hdest;
    CVar16 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffd4,
                                          CONCAT212(in_stack_0000ffd2,
                                                    CONCAT210(in_stack_0000ffd0,
                                                              CONCAT28(in_stack_0000ffce,
                                                                       CONCAT26(in_stack_0000ffcc,
                                                                                CONCAT24(unaff_DI,
                                                  CONCAT22(hdest,0xf))))))));
    SETBKCOLOR((HDC16)CVar16.value,(COLORREF)CONCAT22(uVar18,(int)(CVar16.value >> 0x10)));
    local_4 = FUN_1018_50de(0x121,(char *)&DAT_10a8_86de);
    TEXTOUT(local_4,(int16)CONCAT214(in_stack_0000ffcc,
                                     CONCAT212(unaff_DI,CONCAT210(hrsc1_00,CONCAT28(hdest,CONCAT26(
                                                  local_c + 8,
                                                  CONCAT24(-(((int)PTR_DAT_10a8_0000_10a8_5794 >> 1)
                                                            - local_a),0x10a886de)))))),
            (int16)CONCAT214(in_stack_0000ffdc,
                             CONCAT212(in_stack_0000ffda,
                                       CONCAT210(in_stack_0000ffd8,
                                                 CONCAT28(in_stack_0000ffd6,
                                                          CONCAT26(in_stack_0000ffd4,
                                                                   CONCAT24(in_stack_0000ffd2,
                                                                            CONCAT22(
                                                  in_stack_0000ffd0,in_stack_0000ffce))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffe0,in_stack_0000ffde),
            (int16)CONCAT214(in_stack_0000fff0,CONCAT212(in_stack_0000ffee,in_stack_0000ffe2)));
    HVar4 = GETDLGITEM(0x3ed,(int16)CONCAT214(in_stack_0000ffd4,
                                              CONCAT212(in_stack_0000ffd2,
                                                        CONCAT210(in_stack_0000ffd0,
                                                                  CONCAT28(in_stack_0000ffce,
                                                                           CONCAT26(
                                                  in_stack_0000ffcc,
                                                  CONCAT24(unaff_DI,CONCAT22(hrsc1_00,param_5)))))))
                      );
    GETWINDOWRECT((HWND16)&local_c,(RECT16 *)CONCAT22(HVar4,unaff_SS));
    SCREENTOCLIENT((HWND16)&local_c,(POINT16 *)CONCAT22(param_5,unaff_SS));
    HVar4 = GETDLGITEM(0x3ef,(int16)CONCAT214(in_stack_0000ffd4,
                                              CONCAT212(in_stack_0000ffd2,
                                                        CONCAT210(in_stack_0000ffd0,
                                                                  CONCAT28(in_stack_0000ffce,
                                                                           CONCAT26(
                                                  in_stack_0000ffcc,
                                                  CONCAT24(unaff_DI,CONCAT22(hrsc1_00,param_5)))))))
                      );
    GETWINDOWRECT((HWND16)&stack0xffec,(RECT16 *)CONCAT22(HVar4,unaff_SS));
    SCREENTOCLIENT((HWND16)&stack0xfff0,(POINT16 *)CONCAT22(param_5,unaff_SS));
    FUN_1018_5948(&local_c,(int)PTR_DAT_10a8_0000_10a8_5794,(int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
    FUN_1018_5bba(hdest,(undefined4 *)&local_c,-1,hrsc1_00,unaff_DI,in_stack_0000ffcc,
                  in_stack_0000ffce,in_stack_0000ffd0,in_stack_0000ffd2,in_stack_0000ffd4,
                  in_stack_0000ffd6,in_stack_0000ffd8,in_stack_0000ffda,in_stack_0000ffdc,
                  in_stack_0000ffde);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)hdest,(HRGN16)hrsc1_00,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffda,
                                  CONCAT212(in_stack_0000ffd8,
                                            CONCAT210(in_stack_0000ffd6,
                                                      CONCAT28(in_stack_0000ffd4,
                                                               CONCAT26(in_stack_0000ffd2,
                                                                        CONCAT24(in_stack_0000ffd0,
                                                                                 CONCAT22(
                                                  in_stack_0000ffce,in_stack_0000ffcc))))))));
    uVar18 = 0xf;
    hrsc1 = hdest;
    CVar16 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffd2,
                                          CONCAT212(in_stack_0000ffd0,
                                                    CONCAT210(in_stack_0000ffce,
                                                              CONCAT28(in_stack_0000ffcc,
                                                                       CONCAT26(unaff_DI,CONCAT24(
                                                  hrsc1_00,CONCAT22(hdest,0xf))))))));
    SETBKCOLOR((HDC16)CVar16.value,(COLORREF)CONCAT22(uVar18,(int)(CVar16.value >> 0x10)));
    local_4 = FUN_1018_50de(0x123,(char *)&DAT_10a8_86de);
    TEXTOUT(local_4,(int16)CONCAT214(unaff_DI,CONCAT212(hrsc1_00,CONCAT210(hrsc1,CONCAT28(hdest,
                                                  CONCAT26(local_c + 8,
                                                           CONCAT24(-(((int)
                                                  PTR_DAT_10a8_0000_10a8_5794 >> 1) - local_a),
                                                  0x10a886de)))))),
            (int16)CONCAT214(in_stack_0000ffda,
                             CONCAT212(in_stack_0000ffd8,
                                       CONCAT210(in_stack_0000ffd6,
                                                 CONCAT28(in_stack_0000ffd4,
                                                          CONCAT26(in_stack_0000ffd2,
                                                                   CONCAT24(in_stack_0000ffd0,
                                                                            CONCAT22(
                                                  in_stack_0000ffce,in_stack_0000ffcc))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffde,in_stack_0000ffdc),
            (int16)CONCAT214(in_stack_0000ffee,CONCAT122(in_stack_0000ffe2,in_stack_0000ffe0)));
    HVar4 = GETDLGITEM(0x3f0,(int16)CONCAT214(in_stack_0000ffd2,
                                              CONCAT212(in_stack_0000ffd0,
                                                        CONCAT210(in_stack_0000ffce,
                                                                  CONCAT28(in_stack_0000ffcc,
                                                                           CONCAT26(unaff_DI,
                                                  CONCAT24(hrsc1_00,CONCAT22(hrsc1,param_5))))))));
    GETWINDOWRECT((HWND16)&local_c,(RECT16 *)CONCAT22(HVar4,unaff_SS));
    SCREENTOCLIENT((HWND16)&local_c,(POINT16 *)CONCAT22(param_5,unaff_SS));
    HVar4 = GETDLGITEM(0x3f3,(int16)CONCAT214(in_stack_0000ffd2,
                                              CONCAT212(in_stack_0000ffd0,
                                                        CONCAT210(in_stack_0000ffce,
                                                                  CONCAT28(in_stack_0000ffcc,
                                                                           CONCAT26(unaff_DI,
                                                  CONCAT24(hrsc1_00,CONCAT22(hrsc1,param_5))))))));
    GETWINDOWRECT((HWND16)&stack0xffec,(RECT16 *)CONCAT22(HVar4,unaff_SS));
    SCREENTOCLIENT((HWND16)&stack0xfff0,(POINT16 *)CONCAT22(param_5,unaff_SS));
    FUN_1018_5948(&local_c,(int)PTR_DAT_10a8_0000_10a8_5794,(int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
    FUN_1018_5bba(hdest,(undefined4 *)&local_c,-1,hrsc1,hrsc1_00,unaff_DI,in_stack_0000ffcc,
                  in_stack_0000ffce,in_stack_0000ffd0,in_stack_0000ffd2,in_stack_0000ffd4,
                  in_stack_0000ffd6,in_stack_0000ffd8,in_stack_0000ffda,in_stack_0000ffdc);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)hdest,(HRGN16)hrsc1,(HRGN16)hrsc1_00,
                 (int16)CONCAT214(in_stack_0000ffd8,
                                  CONCAT212(in_stack_0000ffd6,
                                            CONCAT210(in_stack_0000ffd4,
                                                      CONCAT28(in_stack_0000ffd2,
                                                               CONCAT26(in_stack_0000ffd0,
                                                                        CONCAT24(in_stack_0000ffce,
                                                                                 CONCAT22(
                                                  in_stack_0000ffcc,unaff_DI))))))));
    uVar18 = 0xf;
    puVar19 = hdest;
    CVar16 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffd0,
                                          CONCAT212(in_stack_0000ffce,
                                                    CONCAT210(in_stack_0000ffcc,
                                                              CONCAT28(unaff_DI,CONCAT26(hrsc1_00,
                                                  CONCAT24(hrsc1,CONCAT22(hdest,0xf))))))));
    CVar16 = SETBKCOLOR((HDC16)CVar16.value,CONCAT22(uVar18,(int)(CVar16.value >> 0x10)));
    in_DX = (uint)(CVar16.value >> 0x10);
    local_4 = FUN_1018_50de(0x124,(char *)&DAT_10a8_86de);
    TEXTOUT(local_4,(int16)CONCAT214(hrsc1_00,CONCAT212(hrsc1,CONCAT210(puVar19,CONCAT28(hdest,
                                                  CONCAT26(local_c + 8,
                                                           CONCAT24(-(((int)
                                                  PTR_DAT_10a8_0000_10a8_5794 >> 1) - local_a),
                                                  0x10a886de)))))),
            (int16)CONCAT214(in_stack_0000ffd8,
                             CONCAT212(in_stack_0000ffd6,
                                       CONCAT210(in_stack_0000ffd4,
                                                 CONCAT28(in_stack_0000ffd2,
                                                          CONCAT26(in_stack_0000ffd0,
                                                                   CONCAT24(in_stack_0000ffce,
                                                                            CONCAT22(
                                                  in_stack_0000ffcc,unaff_DI))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffdc,in_stack_0000ffda),
            (int16)CONCAT124(in_stack_0000ffe2,CONCAT22(in_stack_0000ffe0,in_stack_0000ffde)));
    ENDPAINT((HWND16)&stack0xffcc,unaff_SS);
  }
  else if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)&stack0xffec,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffec,(RECT16 *)unaff_SS,param_3);
  }
  else {
    if (param_4 == 0x19) {
      HVar4 = 1000;
      do {
        HVar5 = GETDLGITEM(HVar4,(int16)CONCAT214(in_stack_0000ffd4,
                                                  CONCAT212(in_stack_0000ffd2,
                                                            CONCAT210(in_stack_0000ffd0,
                                                                      CONCAT28(in_stack_0000ffce,
                                                                               CONCAT26(
                                                  in_stack_0000ffcc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                          );
        if (HVar5 == param_1) break;
        HVar4 = HVar4 + 1;
      } while ((int)HVar4 < 0x3fa);
      if (((int)HVar4 < 0x3fa) || (param_2 == 6)) {
        uVar18 = 0xf;
        CVar16 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffd2,
                                              CONCAT212(in_stack_0000ffd0,
                                                        CONCAT210(in_stack_0000ffce,
                                                                  CONCAT28(in_stack_0000ffcc,
                                                                           CONCAT26(unaff_DI,
                                                  CONCAT24(unaff_SI,CONCAT22(param_3,0xf))))))));
        CVar16 = SETBKCOLOR((HDC16)CVar16.value,CONCAT22(uVar18,(int)(CVar16.value >> 0x10)));
        return CVar16.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
LAB_1040_5f2c:
      return (ulong)in_DX << 0x10;
    }
    if (param_4 == 0x110) {
      CHECKRADIOBUTTON((HWND16)(PTR_DAT_10a8_0002_10a8_0034 + 1000),
                       (uint16)CONCAT214(in_stack_0000ffd0,
                                         CONCAT212(in_stack_0000ffce,
                                                   CONCAT210(in_stack_0000ffcc,
                                                             CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_5,0x3e803ec)))))),
                       (uint16)CONCAT214(in_stack_0000ffe0,
                                         CONCAT212(in_stack_0000ffde,
                                                   CONCAT210(in_stack_0000ffdc,
                                                             CONCAT28(in_stack_0000ffda,
                                                                      CONCAT26(in_stack_0000ffd8,
                                                                               CONCAT24(
                                                  in_stack_0000ffd6,
                                                  CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2))))))
                                        ),
                       (uint16)CONCAT214(in_stack_0000fff0,
                                         CONCAT212(in_stack_0000ffee,in_stack_0000ffe2)));
      CHECKRADIOBUTTON((HWND16)(PTR_DAT_10a8_0001_10a8_0036 + 0x3ed),
                       (uint16)CONCAT214(in_stack_0000ffd0,
                                         CONCAT212(in_stack_0000ffce,
                                                   CONCAT210(in_stack_0000ffcc,
                                                             CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_5,0x3ed03ef)))))),
                       (uint16)CONCAT214(in_stack_0000ffe0,
                                         CONCAT212(in_stack_0000ffde,
                                                   CONCAT210(in_stack_0000ffdc,
                                                             CONCAT28(in_stack_0000ffda,
                                                                      CONCAT26(in_stack_0000ffd8,
                                                                               CONCAT24(
                                                  in_stack_0000ffd6,
                                                  CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2))))))
                                        ),
                       (uint16)CONCAT214(in_stack_0000fff0,
                                         CONCAT212(in_stack_0000ffee,in_stack_0000ffe2)));
      CHECKRADIOBUTTON((HWND16)(PTR_DAT_10a8_0001_10a8_003c + 0x3f0),
                       (uint16)CONCAT214(in_stack_0000ffd0,
                                         CONCAT212(in_stack_0000ffce,
                                                   CONCAT210(in_stack_0000ffcc,
                                                             CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_5,0x3f003f3)))))),
                       (uint16)CONCAT214(in_stack_0000ffe0,
                                         CONCAT212(in_stack_0000ffde,
                                                   CONCAT210(in_stack_0000ffdc,
                                                             CONCAT28(in_stack_0000ffda,
                                                                      CONCAT26(in_stack_0000ffd8,
                                                                               CONCAT24(
                                                  in_stack_0000ffd6,
                                                  CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2))))))
                                        ),
                       (uint16)CONCAT214(in_stack_0000fff0,
                                         CONCAT212(in_stack_0000ffee,in_stack_0000ffe2)));
      HVar4 = GETDLGITEM(0x406,(int16)CONCAT214(in_stack_0000ffd4,
                                                CONCAT212(in_stack_0000ffd2,
                                                          CONCAT210(in_stack_0000ffd0,
                                                                    CONCAT28(in_stack_0000ffce,
                                                                             CONCAT26(
                                                  in_stack_0000ffcc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                        );
      iVar20 = (int)s_From___s_c_c_10a8_10a2 + 6;
      uVar18 = 0x44;
      SETWINDOWTEXT(0x44,CONCAT22(HVar4,0x10a8));
      SENDDLGITEMMESSAGE(0,(int16)CONCAT214(HVar4,CONCAT212(iVar20,CONCAT210(uVar18,CONCAT28(param_5
                                                  ,0x4060415001f0000)))),unaff_SI,
                         CONCAT22(in_stack_0000ffcc,unaff_DI));
      HVar5 = GETDLGITEM(0x3f7,(int16)CONCAT214(in_stack_0000ffce,
                                                CONCAT212(in_stack_0000ffcc,
                                                          CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar4,CONCAT24(iVar20,CONCAT22(uVar18,
                                                  param_5))))))));
      SENDMESSAGE(0,(uint16)CONCAT214(unaff_SI,CONCAT212(HVar4,CONCAT210(iVar20,CONCAT28(uVar18,
                                                  CONCAT26(HVar5,CONCAT24(0x401,(ZEXT24(
                                                  PTR_DAT_10a8_0000_10a8_0040) & 1) << 0x10)))))),
                  unaff_DI,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
      HVar5 = GETDLGITEM(0x3f8,(int16)CONCAT214(in_stack_0000ffce,
                                                CONCAT212(in_stack_0000ffcc,
                                                          CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar4,CONCAT24(iVar20,CONCAT22(uVar18,
                                                  param_5))))))));
      SENDMESSAGE(0,(uint16)CONCAT214(unaff_SI,CONCAT212(HVar4,CONCAT210(iVar20,CONCAT28(uVar18,
                                                  CONCAT26(HVar5,CONCAT24(0x401,(ulong)(((uint)
                                                  PTR_DAT_10a8_0000_10a8_0040 & 2) >> 1) << 0x10))))
                                                  )),unaff_DI,
                  CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
      HVar5 = GETDLGITEM(0x3f9,(int16)CONCAT214(in_stack_0000ffce,
                                                CONCAT212(in_stack_0000ffcc,
                                                          CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar4,CONCAT24(iVar20,CONCAT22(uVar18,
                                                  param_5))))))));
      LVar17 = SENDMESSAGE(0,(uint16)CONCAT214(unaff_SI,CONCAT212(HVar4,CONCAT210(iVar20,CONCAT28(
                                                  uVar18,CONCAT26(HVar5,CONCAT24(0x401,(ulong)((uint
                                                  )PTR_DAT_10a8_0000_10a8_0040 >> 4) << 0x10)))))),
                           unaff_DI,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
      in_DX = (uint)((ulong)LVar17 >> 0x10);
      HVar5 = 0x3ea;
      do {
        HVar6 = GETDLGITEM(HVar5,(int16)CONCAT214(in_stack_0000ffce,
                                                  CONCAT212(in_stack_0000ffcc,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar4,CONCAT24(iVar20,CONCAT22(uVar18,
                                                  param_5))))))));
        ENABLEWINDOW(0,HVar6);
        HVar5 = HVar5 + 1;
      } while ((int)HVar5 < 0x3ed);
      HVar5 = 0x3ed;
      do {
        HVar6 = GETDLGITEM(HVar5,(int16)CONCAT214(in_stack_0000ffce,
                                                  CONCAT212(in_stack_0000ffcc,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar4,CONCAT24(iVar20,CONCAT22(uVar18,
                                                  param_5))))))));
        ENABLEWINDOW(0,HVar6);
        HVar5 = HVar5 + 1;
      } while ((int)HVar5 < 0x3f0);
      HVar5 = 0x3f0;
      do {
        HVar6 = GETDLGITEM(HVar5,(int16)CONCAT214(in_stack_0000ffce,
                                                  CONCAT212(in_stack_0000ffcc,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar4,CONCAT24(iVar20,CONCAT22(uVar18,
                                                  param_5))))))));
        ENABLEWINDOW(0,HVar6);
        HVar5 = HVar5 + 1;
      } while ((int)HVar5 < 0x3f4);
      HVar5 = GETDLGITEM(0x3f7,(int16)CONCAT214(in_stack_0000ffce,
                                                CONCAT212(in_stack_0000ffcc,
                                                          CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar4,CONCAT24(iVar20,CONCAT22(uVar18,
                                                  param_5))))))));
      ENABLEWINDOW(0,HVar5);
      HVar5 = GETDLGITEM(0x3f8,(int16)CONCAT214(in_stack_0000ffce,
                                                CONCAT212(in_stack_0000ffcc,
                                                          CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar4,CONCAT24(iVar20,CONCAT22(uVar18,
                                                  param_5))))))));
      ENABLEWINDOW(0,HVar5);
      FUN_1018_5a04(param_5,(int *)0x336,1,uVar18,
                    (int16)CONCAT214(in_stack_0000ffd2,
                                     CONCAT212(in_stack_0000ffd0,
                                               CONCAT210(in_stack_0000ffce,
                                                         CONCAT28(in_stack_0000ffcc,
                                                                  CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(HVar4,iVar20))))))),
                    in_stack_0000ffd4);
    }
    else {
      if (param_4 != 0x111) goto LAB_1040_5f2c;
      if (param_3 == 0x76) {
        WINHELP(0x6e,(LPCSTR)0x10000,
                (uint16)CONCAT214(in_stack_0000ffd0,
                                  CONCAT212(in_stack_0000ffce,
                                            CONCAT210(in_stack_0000ffcc,
                                                      CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(
                                                  param_5,CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be))))))));
      }
      else {
        in_DX = 0;
        piVar11 = (int *)&PTR_DAT_10a8_0002_10a8_4894;
        do {
          if (*piVar11 == param_3) break;
          in_DX = in_DX + 1;
          piVar11 = piVar11 + 1;
        } while (piVar11 < (int *)0x489c);
        if (3 < (int)in_DX) goto LAB_1040_5f2c;
        local_4 = in_DX;
        if (in_DX != 0) {
          puVar12 = (uint16 *)((int)s__s___s_computer_player__10a8_03d3 + 0x15);
          do {
            puVar7 = ISDLGBUTTONCHECKED(puVar12,param_5,
                                        (uint16)CONCAT214(in_stack_0000ffd6,
                                                          CONCAT212(in_stack_0000ffd4,
                                                                    CONCAT210(in_stack_0000ffd2,
                                                                              CONCAT28(
                                                  in_stack_0000ffd0,
                                                  CONCAT26(in_stack_0000ffce,
                                                           CONCAT24(in_stack_0000ffcc,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                                  ));
            if (puVar7 != (uint16 *)0x0) break;
            puVar12 = (uint16 *)((int)puVar12 + 1);
          } while ((int)puVar12 < 0x3ed);
          PTR_DAT_10a8_0002_10a8_0034 = (undefined *)((int)puVar12 + -1000);
          puVar12 = (uint16 *)0x3ed;
          do {
            puVar7 = ISDLGBUTTONCHECKED(puVar12,param_5,
                                        (uint16)CONCAT214(in_stack_0000ffd6,
                                                          CONCAT212(in_stack_0000ffd4,
                                                                    CONCAT210(in_stack_0000ffd2,
                                                                              CONCAT28(
                                                  in_stack_0000ffd0,
                                                  CONCAT26(in_stack_0000ffce,
                                                           CONCAT24(in_stack_0000ffcc,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                                  ));
            if (puVar7 != (uint16 *)0x0) break;
            puVar12 = (uint16 *)((int)puVar12 + 1);
          } while ((int)puVar12 < 0x3f0);
          PTR_DAT_10a8_0001_10a8_0036 = (undefined *)((int)puVar12 + -0x3ed);
          puVar12 = (uint16 *)0x3f0;
          do {
            puVar7 = ISDLGBUTTONCHECKED(puVar12,param_5,
                                        (uint16)CONCAT214(in_stack_0000ffd6,
                                                          CONCAT212(in_stack_0000ffd4,
                                                                    CONCAT210(in_stack_0000ffd2,
                                                                              CONCAT28(
                                                  in_stack_0000ffd0,
                                                  CONCAT26(in_stack_0000ffce,
                                                           CONCAT24(in_stack_0000ffcc,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                                  ));
            if (puVar7 != (uint16 *)0x0) break;
            puVar12 = (uint16 *)((int)puVar12 + 1);
          } while ((int)puVar12 < 0x3f4);
          PTR_DAT_10a8_0001_10a8_003c = (undefined *)(puVar12 + -0x3f);
          puVar12 = ISDLGBUTTONCHECKED((uint16 *)0x3f7,param_5,
                                       (uint16)CONCAT214(in_stack_0000ffd6,
                                                         CONCAT212(in_stack_0000ffd4,
                                                                   CONCAT210(in_stack_0000ffd2,
                                                                             CONCAT28(
                                                  in_stack_0000ffd0,
                                                  CONCAT26(in_stack_0000ffce,
                                                           CONCAT24(in_stack_0000ffcc,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                                  ));
          PTR_DAT_10a8_0000_10a8_0040 =
               (undefined *)
               ((uint)PTR_DAT_10a8_0000_10a8_0040 ^
               (byte)((byte)puVar12 ^ (byte)PTR_DAT_10a8_0000_10a8_0040) & 1);
          puVar12 = ISDLGBUTTONCHECKED((uint16 *)0x3f8,param_5,
                                       (uint16)CONCAT214(in_stack_0000ffd6,
                                                         CONCAT212(in_stack_0000ffd4,
                                                                   CONCAT210(in_stack_0000ffd2,
                                                                             CONCAT28(
                                                  in_stack_0000ffd0,
                                                  CONCAT26(in_stack_0000ffce,
                                                           CONCAT24(in_stack_0000ffcc,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                                  ));
          PTR_DAT_10a8_0000_10a8_0040 =
               (undefined *)
               ((uint)PTR_DAT_10a8_0000_10a8_0040 ^
               (byte)((char)puVar12 * '\x02' ^ (byte)PTR_DAT_10a8_0000_10a8_0040) & 2);
          puVar12 = ISDLGBUTTONCHECKED((uint16 *)&DAT_10a8_03f9,param_5,
                                       (uint16)CONCAT214(in_stack_0000ffd6,
                                                         CONCAT212(in_stack_0000ffd4,
                                                                   CONCAT210(in_stack_0000ffd2,
                                                                             CONCAT28(
                                                  in_stack_0000ffd0,
                                                  CONCAT26(in_stack_0000ffce,
                                                           CONCAT24(in_stack_0000ffcc,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                                  ));
          PTR_DAT_10a8_0000_10a8_0040 =
               (undefined *)((int)puVar12 << 4 | (uint)PTR_DAT_10a8_0000_10a8_0040 & 0xf);
          in_stack_0000ffc6 =
               GETDLGITEM(0x406,(int16)CONCAT214(in_stack_0000ffd4,
                                                 CONCAT212(in_stack_0000ffd2,
                                                           CONCAT210(in_stack_0000ffd0,
                                                                     CONCAT28(in_stack_0000ffce,
                                                                              CONCAT26(
                                                  in_stack_0000ffcc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                         );
          in_stack_0000ffc4 = (int)s_From___s_c_c_10a8_10a2 + 6;
          in_stack_0000ffc2 = 0x44;
          in_stack_0000ffc0 = 0x20;
          piVar8 = GETWINDOWTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0020,0x44,
                                 CONCAT22(in_stack_0000ffc6,0x10a8),
                                 (int16)CONCAT214(in_stack_0000ffd6,
                                                  CONCAT212(in_stack_0000ffd4,
                                                            CONCAT210(in_stack_0000ffd2,
                                                                      CONCAT28(in_stack_0000ffd0,
                                                                               CONCAT26(
                                                  in_stack_0000ffce,
                                                  CONCAT24(in_stack_0000ffcc,
                                                           CONCAT22(unaff_DI,unaff_SI))))))));
          if (piVar8 == (int16 *)0x0) {
            pcVar13 = (char *)&DAT_10a8_85dc;
            uVar9 = 0xffff;
            do {
              if (uVar9 == 0) break;
              uVar9 = uVar9 - 1;
              pcVar2 = pcVar13;
              pcVar13 = pcVar13 + 1;
            } while (*pcVar2 != '\0');
            uVar9 = ~uVar9;
            puVar14 = (undefined2 *)(pcVar13 + -uVar9);
            puVar15 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_0044;
            for (uVar10 = uVar9 >> 1; uVar10 != 0; uVar10 = uVar10 - 1) {
              puVar3 = puVar15;
              puVar15 = puVar15 + 1;
              puVar1 = puVar14;
              puVar14 = puVar14 + 1;
              *puVar3 = *puVar1;
            }
            for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
              puVar3 = puVar15;
              puVar15 = (undefined2 *)((int)puVar15 + 1);
              puVar1 = puVar14;
              puVar14 = (undefined2 *)((int)puVar14 + 1);
              *(undefined *)puVar3 = *(undefined *)puVar1;
            }
          }
        }
        FUN_1018_5a04(param_5,(int *)0x336,0,in_stack_0000ffc0,
                      (int16)CONCAT214(in_stack_0000ffd0,
                                       CONCAT212(in_stack_0000ffce,
                                                 CONCAT210(in_stack_0000ffcc,
                                                           CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(in_stack_0000ffc6,
                                                           CONCAT22(in_stack_0000ffc4,
                                                                    in_stack_0000ffc2))))))),
                      in_stack_0000ffd2);
        ENDDIALOG(local_4,(int16)CONCAT214(in_stack_0000ffcc,
                                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  in_stack_0000ffc6,
                                                  CONCAT26(in_stack_0000ffc4,
                                                           CONCAT24(in_stack_0000ffc2,
                                                                    CONCAT22(in_stack_0000ffc0,
                                                                             param_5))))))));
      }
    }
  }
  return CONCAT22(in_DX,1);
}



// WARNING: Removing unreachable block (ram,0x104800c3)
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1048_0000(uint16 *param_1,int param_2)

{
  undefined2 *puVar1;
  byte bVar2;
  int iVar3;
  uint *puVar4;
  uint uVar5;
  uint uVar6;
  uint in_DX;
  VA_LIST16 unaff_SI;
  undefined2 unaff_SS;
  byte local_8 [4];
  undefined *local_4;

                    // Segment:    10
                    // Offset:     00031ca0
                    // Length:     80a0
                    // Min Alloc:  80a0
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  local_4 = PTR_DAT_10a8_0001_10a8_00c0;
  PTR_DAT_10a8_0000_10a8_4b7e = (undefined *)&DAT_10a8_0001;
  _WSPRINTF((int16 *)local_8,(LPSTR)CONCAT22(0x4b88,unaff_SS),
            (LPCSTR)CONCAT22((int)param_1 + 1,0x10a8),unaff_SI);
  FUN_1040_190c();
  iVar3 = FUN_1040_02ec((VA_LIST16)&DAT_10a8_85dc,local_8);
  if (iVar3 != 0) {
    if ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) &
        0x40) == 0) {
      puVar4 = FUN_1038_0232((int)PTR_DAT_10a8_0000_10a8_003a << 4,6);
      _PTR_DAT_10a8_0000_10a8_4b80 = CONCAT22(in_DX,puVar4);
      if (_PTR_DAT_10a8_0000_10a8_4b84 == (undefined2 *)0x0) {
        puVar4 = FUN_1038_0232(0x2000,6);
        _PTR_DAT_10a8_0000_10a8_4b84 = (undefined2 *)CONCAT22(in_DX,puVar4);
        if ((in_DX | (uint)puVar4) != 0) {
          *_PTR_DAT_10a8_0000_10a8_4b84 = 2;
        }
      }
      if ((_PTR_DAT_10a8_0000_10a8_4b80 != 0) && (_PTR_DAT_10a8_0000_10a8_4b84 != (undefined2 *)0x0)
         ) {
        for (uVar6 = (uint)((int)PTR_DAT_10a8_0000_10a8_003a << 4) >> 1; uVar6 != 0;
            uVar6 = uVar6 - 1) {
          puVar1 = (undefined2 *)PTR_DAT_10a8_0000_10a8_4b80;
          PTR_DAT_10a8_0000_10a8_4b80 = (undefined *)((int)PTR_DAT_10a8_0000_10a8_4b80 + 2);
          *puVar1 = 0;
        }
        FUN_1010_06c6();
        if (param_2 != -1) {
          *(int *)((int)&DAT_10a8_8864 + (int)param_1 * 0x76) = param_2;
        }
        uVar6 = *(uint *)((int)&DAT_10a8_8864 + (int)param_1 * 0x76);
        uVar5 = uVar6 >> 0xd;
        if (uVar5 == 7) {
          FUN_1048_0daa();
        }
        else if (uVar5 < 8) {
          bVar2 = (byte)(uVar6 >> 0xd);
          if (bVar2 == 0) {
            FUN_1048_144a();
          }
          else if (bVar2 == 1) {
            FUN_1048_3064();
          }
        }
      }
    }
    FUN_1020_5b78((char *)&DAT_10a8_85dc,param_1);
    FUN_1020_5cd2(param_1);
    if (_PTR_DAT_10a8_0000_10a8_4b84 != (undefined2 *)0x0) {
      FUN_1038_04ca((uint)_PTR_DAT_10a8_0000_10a8_4b80,
                    (uint)((ulong)_PTR_DAT_10a8_0000_10a8_4b80 >> 0x10),6);
      FUN_1038_04ca((uint)_PTR_DAT_10a8_0000_10a8_4b84,
                    (uint)((ulong)_PTR_DAT_10a8_0000_10a8_4b84 >> 0x10),6);
      _PTR_DAT_10a8_0000_10a8_4b80 = 0;
      _PTR_DAT_10a8_0000_10a8_4b84 = (undefined2 *)0x0;
    }
  }
  PTR_DAT_10a8_0001_10a8_00c0 = local_4;
  PTR_DAT_10a8_0000_10a8_4b7e = (undefined *)0x0;
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1048_0daa(void)

{
  long *plVar1;
  byte *pbVar2;
  byte bVar3;
  uint uVar4;
  long lVar5;
  undefined4 uVar6;
  int iVar7;
  int iVar8;
  uint *puVar9;
  int iVar10;
  ulong *puVar11;
  ulong *puVar12;
  undefined2 uVar13;
  int unaff_SS;
  int iVar14;
  undefined4 local_154 [64];
  undefined4 local_54;
  int local_50;
  uint local_4e;
  long local_42 [4];
  long local_32 [4];
  long local_22 [4];
  undefined *local_12;
  undefined *local_10;
  undefined4 local_e;
  int local_a;
  int local_8;
  undefined4 local_6;

  iVar14 = (int)s_From___s_c_c_10a8_10a2 + 6;
  iVar7 = FUN_1048_6932(0,0,0);
  FUN_1048_671e(iVar7);
  PTR_DAT_10a8_0000_10a8_5736 = (undefined *)0x0;
  local_8 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    iVar7 = 0;
    do {
      local_6 = *(uint **)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar7);
      if (local_6 == (uint *)0x0) break;
      uVar13 = (undefined2)((ulong)local_6 >> 0x10);
      if (((undefined *)*(int *)((int)local_6 + 2) == PTR_DAT_10a8_0001_10a8_00c0) &&
         (*(int *)((int)local_6 + 0x62) < 2)) {
        FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*local_6);
        uVar13 = (undefined2)((ulong)local_6 >> 0x10);
        puVar9 = (uint *)local_6;
        if ((puVar9[7] == 0) || (PTR_DAT_10a8_0000_10a8_726d != (undefined *)&PTR_LOOP_10a8_0004)) {
          if (puVar9[8] != 0) {
            if ((((puVar9[3] == 0xffff) ||
                 (PTR_DAT_10a8_0000_10a8_7bd8 != PTR_DAT_10a8_0001_10a8_00c0)) ||
                (_PTR_DAT_10a8_0000_10a8_7c08 < 0x32)) && (*(long *)(puVar9 + 0x2e) == 0)) {
              if ((((PTR_DAT_10a8_0000_10a8_7b68 != (undefined *)0xffff) &&
                   (PTR_DAT_10a8_0000_10a8_7bd8 == PTR_DAT_10a8_0001_10a8_00c0)) &&
                  ((DAT_10a8_7bdb & 2) != 0)) || (iVar8 = FUN_1048_803e(puVar9,uVar13), iVar8 == 0))
              goto LAB_1048_0f34;
            }
            else {
              iVar8 = FUN_1048_4dd6(local_6);
              if (iVar8 != -1) {
                FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*local_6);
                uVar13 = (undefined2)((ulong)local_6 >> 0x10);
                if ((*(int *)((int)local_6 + 6) != -1) &&
                   (PTR_DAT_10a8_0000_10a8_7bd8 == PTR_DAT_10a8_0001_10a8_00c0)) {
                  FUN_1048_4c24(CONCAT22(*(undefined2 *)((int)local_6 + 6),1),2,(ulong)*local_6,100)
                  ;
                  FUN_1048_4c24(CONCAT22(*(undefined2 *)((int)local_6 + 6),1),2,
                                (ulong)CONCAT12(4,*local_6),0x19);
                  FUN_1010_0cda(*local_6,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
                }
                FUN_1048_4d38((uint *)local_6,(int)((ulong)local_6 >> 0x10),iVar8);
                goto LAB_1048_0fdd;
              }
            }
          }
        }
        else if ((*(long *)(puVar9 + 0x26) < 2) &&
                ((puVar9[3] == 0xffff ||
                 (PTR_DAT_10a8_0000_10a8_7bd8 != PTR_DAT_10a8_0001_10a8_00c0)))) {
LAB_1048_0f34:
          uVar13 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_7bc6 >> 0x10);
          *(uint *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 10) =
               *(uint *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 10) & 0xfff5 | 5;
          FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
        }
        else {
          iVar8 = FUN_1048_5076(local_6);
          if (iVar8 != -1) {
            FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*local_6);
            uVar13 = (undefined2)((ulong)local_6 >> 0x10);
            if ((*(int *)((int)local_6 + 6) != -1) &&
               (PTR_DAT_10a8_0000_10a8_7bd8 == PTR_DAT_10a8_0001_10a8_00c0)) {
              FUN_1048_4c24(CONCAT22(*(undefined2 *)((int)local_6 + 6),1),2,(ulong)*local_6,0x32);
              FUN_1010_0cda(*local_6,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
            }
            local_54 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar8 * 4);
            local_4e = local_4e & 0x40 | (uint)((byte)((ulong)local_4e >> 8) & 0xfd) << 8 | 0x540;
            local_50 = iVar8;
            FUN_1048_6444((uint *)local_6,(int)((ulong)local_6 >> 0x10),&local_54,0);
LAB_1048_0fdd:
            PTR_DAT_10a8_0000_10a8_4b80[iVar8 * 0x10 + 0xf] = 4;
          }
        }
      }
      iVar7 = iVar7 + 4;
      local_8 = local_8 + 1;
    } while (local_8 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  iVar7 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    iVar8 = 0;
    do {
      local_6 = *(uint **)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar8);
      if (local_6 == (uint *)0x0) break;
      uVar13 = (undefined2)((ulong)local_6 >> 0x10);
      iVar10 = (int)local_6;
      if (((undefined *)*(int *)(iVar10 + 2) == PTR_DAT_10a8_0001_10a8_00c0) &&
         (1 < *(int *)(iVar10 + 0x62))) {
        if ((undefined *)&PTR_LOOP_10a8_0004 < PTR_DAT_10a8_0000_10a8_0042) {
          local_a = -1;
          iVar10 = FUN_1048_6c7c(iVar10,uVar13);
          if (iVar10 != 0) {
            local_a = 0x1e;
          }
        }
        else {
          local_a = 0x10;
        }
        FUN_1048_552a(local_6,local_a);
      }
      iVar8 = iVar8 + 4;
      iVar7 = iVar7 + 1;
    } while (iVar7 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  local_e = (undefined2 *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,(int)local_e);
  local_10 = PTR_DAT_10a8_0000_10a8_006c;
  if (PTR_DAT_10a8_0000_10a8_006a <
      PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c) {
    local_e = (undefined2 *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,PTR_DAT_10a8_0000_10a8_006a);
    local_12 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
    do {
      if ((*(int *)((int)local_e + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
         (0x3b < *(long *)((int)local_e + 0x32))) {
        FUN_1048_7336((ulong)local_e,local_22);
        FUN_1048_73d8(*(undefined4 *)((int)local_e + 0x38),local_32);
        FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*local_e);
        FUN_1068_0100(local_154);
        local_8 = 0;
        if (*(int *)&PTR_DAT_10a8_0000_10a8_0042 == 0) {
          iVar7 = *(int *)&PTR_DAT_10a8_0001_10a8_00c0 * 0x76;
          *(uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar7) =
               *(uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar7) & 0xffeb | 8;
          pbVar2 = (byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + iVar7);
          *pbVar2 = *pbVar2 | 0x23;
          FUN_1020_4198();
          FUN_1048_6568(1,1,2,1);
          FUN_1048_6568(2,1,2,1);
          if (0x1e < *(int *)&PTR_DAT_10a8_0000_10a8_003a) {
            FUN_1048_6568(1,1,2,1);
            FUN_1048_6568(2,1,2,1);
            if (0x32 < *(int *)&PTR_DAT_10a8_0000_10a8_003a) {
              FUN_1048_6568(1,1,2,1);
              FUN_1048_6568(2,1,2,1);
              if (0x46 < *(int *)&PTR_DAT_10a8_0000_10a8_003a) {
                FUN_1048_6568(1,1,2,1);
                FUN_1048_6568(2,1,2,1);
                if (0x5a < *(int *)&PTR_DAT_10a8_0000_10a8_003a) {
                  FUN_1048_6568(1,1,2,1);
                  FUN_1048_6568(2,1,2,1);
                }
              }
            }
          }
          local_8 = 1;
        }
        if (local_22[3] - local_32[3] < 0x14) {
LAB_1048_12d4:
          iVar7 = 0;
          puVar11 = *(ulong **)&PTR_DAT_10a8_0000_10a8_4182;
          uVar4 = *(uint *)&PTR_DAT_10a8_0000_10a8_4184;
          local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)uVar4 << 0x10);
          uVar6 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4182;
          bVar3 = *(byte *)((int)uVar6 + 3);
          if (bVar3 != 0) {
            do {
              puVar12 = puVar11 + 1;
              iVar14 = unaff_SS;
              if ((((*(uint *)((int)puVar11 + 6) & 0xe) == 2) && (0x3bff < (*puVar12 & 0x1fc00))) &&
                 ((*puVar12 & 0x1fc00) < 0x5001)) goto LAB_1048_1413;
              iVar7 = iVar7 + 1;
              puVar11 = puVar12;
            } while (iVar7 < (int)(uint)bVar3);
          }
          iVar7 = *(int *)&PTR_DAT_10a8_0000_10a8_8fe0 + -1;
          if (-1 < iVar7) {
            puVar11 = (ulong *)(iVar7 * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c);
            do {
              if ((((*(uint *)((int)puVar11 + 2) & 0xe) == 2) && (0x3bff < (*puVar11 & 0x1fc00))) &&
                 ((*puVar11 & 0x1fc00) < 0x5001)) break;
              puVar11 = puVar11 + -1;
              iVar7 = iVar7 + -1;
            } while (-1 < iVar7);
          }
          if (-1 < iVar7) {
            FUN_1068_1a7c((uint *)CONCAT22(iVar14,iVar7 * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c),
                          local_42,*(int *)&PTR_DAT_10a8_0001_10a8_00c0,1);
            local_a = iVar7;
            iVar8 = 0;
            local_6 = (uint *)0x0;
            iVar10 = 0;
            do {
              if ((0 < *(long *)((int)local_42 + iVar8)) &&
                 (*(long *)((int)local_22 + iVar8) <
                  *(long *)((int)local_42 + iVar8) + *(long *)((int)local_32 + iVar8))) break;
              iVar10 = iVar10 + 1;
              iVar8 = iVar8 + 4;
            } while (iVar8 < 0x10);
            if (iVar10 == 4) {
              local_8 = 1;
              FUN_1048_6568((uint)(*(ulong *)(iVar7 * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c) >>
                                  10) & 0x7f,1,1,1);
              iVar7 = 0;
              do {
                plVar1 = (long *)((int)local_32 + iVar7);
                *plVar1 = *plVar1 + *(long *)((int)local_42 + iVar7);
                iVar7 = iVar7 + 4;
              } while (iVar7 < 0x10);
            }
          }
        }
        else {
          iVar7 = 0;
          if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0) {
            puVar11 = *(ulong **)&PTR_DAT_10a8_0000_10a8_885c;
LAB_1048_1221:
            if ((((*(uint *)((int)puVar11 + 2) & 0xe) != 2) || ((*puVar11 & 0x1fc00) != 0x1c00)) ||
               (uVar4 = *(uint *)puVar11, (uVar4 & 0xff | ((byte)((ulong)uVar4 >> 8) & 3) << 8) == 0
               )) goto LAB_1048_1247;
            local_8 = 1;
            FUN_1048_6568((uint)(*(ulong *)(iVar7 * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c) >> 10)
                          & 0x7f,1,1,1);
            FUN_1068_1a7c((uint *)CONCAT22(iVar14,iVar7 * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c),
                          local_42,*(int *)&PTR_DAT_10a8_0001_10a8_00c0,1);
            local_6 = (uint *)((ulong)local_6 & 0xffff);
            local_6._2_2_ = 0;
            do {
              plVar1 = (long *)((int)local_32 + local_6._2_2_);
              *plVar1 = *plVar1 + *(long *)((int)local_42 + local_6._2_2_);
              local_6._2_2_ = local_6._2_2_ + 4;
            } while (local_6._2_2_ < 0x10);
          }
LAB_1048_12b4:
          iVar8 = 0;
          iVar7 = 0;
          do {
            lVar5 = *(long *)((int)local_22 + iVar8);
            plVar1 = (long *)((int)local_32 + iVar8);
            if (*plVar1 != lVar5 && lVar5 <= *plVar1) break;
            iVar7 = iVar7 + 1;
            iVar8 = iVar8 + 4;
          } while (iVar8 < 0x10);
          if (3 < iVar7) goto LAB_1048_12d4;
        }
LAB_1048_1413:
        FUN_1068_07fa(local_8);
      }
      local_e = (undefined2 *)
                ((ulong)local_e & 0xffff0000 | ZEXT24((undefined *)((int)local_e + 0x3cU)));
    } while ((undefined *)((int)local_e + 0x3cU) < local_12);
  }
  if (0x1d < *(uint *)&PTR_DAT_10a8_0000_10a8_0042) {
    FUN_1048_7c48(local_154);
  }
  FUN_1048_5150();
  return;
LAB_1048_1247:
  puVar11 = puVar11 + 1;
  iVar7 = iVar7 + 1;
  if (*(int *)&PTR_DAT_10a8_0000_10a8_8fe0 <= iVar7) goto LAB_1048_12b4;
  goto LAB_1048_1221;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1048_144a(void)

{
  long *plVar1;
  undefined4 *puVar2;
  uint *puVar3;
  byte *pbVar4;
  int *piVar5;
  long lVar6;
  bool bVar7;
  undefined4 uVar8;
  ulong uVar9;
  undefined2 uVar10;
  int *piVar11;
  uint uVar12;
  uint uVar13;
  uint *puVar14;
  undefined2 *puVar15;
  ulong *puVar16;
  ulong uVar17;
  int iVar18;
  undefined4 *puVar19;
  byte *pbVar20;
  int iVar21;
  int iVar22;
  undefined4 *puVar23;
  uint uVar24;
  undefined2 uVar25;
  undefined2 unaff_CS;
  int unaff_SS;
  int iVar26;
  int iStack_166;
  byte *local_164;
  undefined4 local_15e [64];
  int local_5e;
  long local_5c [4];
  undefined4 local_4c;
  long local_40;
  undefined4 local_3c;
  long local_30;
  undefined4 local_2c [2];
  uint *local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  int local_14;
  undefined4 local_12;
  undefined4 local_e;
  int local_a;
  uint local_8;
  undefined4 local_6;

  iVar26 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_5e = FUN_1048_6932(0x15a,unaff_CS,0x17);
  if (local_5e == 0x17) {
    iVar22 = 0;
  }
  else {
    iVar22 = 0xf;
  }
  iVar18 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76;
  if (*(char *)((int)&DAT_10a8_888a + iVar18) != iVar22) {
    *(undefined *)((int)&DAT_10a8_888a + iVar18) = (char)iVar22;
    local_12 = local_12 & 0xffff0000 |
               (ulong)((uint)*(byte *)((int)&DAT_10a8_888b + iVar18) * 0x100 + iVar22);
    FUN_1020_4788(0x22,2,(undefined2 *)&local_12);
  }
  FUN_1048_6cc8();
  if ((undefined *)0x32 < PTR_DAT_10a8_0000_10a8_0042) {
    FUN_1048_746e((int)s_Hooveron_10a8_484c + 4);
  }
  FUN_1048_25bc();
  uVar10 = FUN_1048_6a12(&local_14);
  local_20 = (uint *)CONCAT22(uVar10,(undefined2)local_20);
  local_1c = (uint *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,(int *)local_1c);
  local_18 = (int *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,(uint *)local_18);
  if (PTR_DAT_10a8_0000_10a8_006a <
      PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c) {
    local_1c = (uint *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,
                                PTR_DAT_10a8_0000_10a8_006a +
                                (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
    local_18 = (int *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,PTR_DAT_10a8_0000_10a8_006a);
    do {
      piVar5 = local_18;
      if ((((uint *)local_18)[1] == *(uint *)&PTR_DAT_10a8_0001_10a8_00c0) ||
         (((uint *)local_18)[1] == 0xffff)) {
        if (((*(byte *)((int)(uint *)local_18 + 5) & 2) != 0) &&
           (199 < *(long *)((uint *)local_18 + 0x19))) {
          FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*local_18);
          FUN_1068_0100(local_15e);
          local_12 = 0;
          uVar17 = *(ulong *)&PTR_DAT_10a8_0000_10a8_4182;
          uVar10 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4184;
          puVar16 = (ulong *)((int)uVar17 + 4);
          local_6 = (uint *)(uVar17 & 0xffff0000 | ZEXT24(puVar16));
          uVar17 = *(ulong *)&PTR_DAT_10a8_0000_10a8_4182;
          uVar25 = (undefined2)(uVar17 >> 0x10);
          pbVar20 = (byte *)((int)uVar17 + 3);
          local_164 = (byte *)(uVar17 & 0xffff0000 | ZEXT24(pbVar20));
          if (*pbVar20 != 0) {
            local_18 = (int *)((ulong)local_18 & 0xffff0000 | (ulong)piVar5 & 0xffff);
            do {
              if ((*(uint *)((int)puVar16 + 2) & 0xe) == 4) {
                uVar17 = *puVar16 & 0x1fc00;
                iStack_166 = (int)(uVar17 >> 0x10);
                iVar26 = unaff_SS;
                if ((((((uVar17 == 0x2000) ||
                       ((iVar22 = (int)uVar17, iVar22 == 0x2400 && (iStack_166 == 0)))) ||
                      ((iVar22 == 0x3400 && (iStack_166 == 0)))) ||
                     ((((iVar22 == (int)s_Mass___dkT_10a8_13fc + 4 && (iStack_166 == 0)) ||
                       ((iVar22 == 0x2800 && (iStack_166 == 0)))) ||
                      ((iVar22 == 0x1c00 && (iStack_166 == 0)))))) ||
                    ((iVar22 == 0xc00 && (iStack_166 == 0)))) ||
                   (((((iVar22 == 0x1000 && (iStack_166 == 0)) ||
                      ((iVar22 == 0x1800 && (iStack_166 == 0)))) ||
                     (((iVar22 == 0x2c00 && (iStack_166 == 0)) ||
                      ((iVar22 == 0x3800 && (iStack_166 == 0)))))) ||
                    (((iVar22 == 0x3000 && (iStack_166 == 0)) ||
                     ((iVar22 == 0x3c00 && (iStack_166 == 0)))))))) break;
              }
              local_12 = (ulong)((int)local_12 + 1U);
              puVar16 = puVar16 + 1;
              iVar26 = unaff_SS;
            } while ((int)((int)local_12 + 1U) < (int)(uint)*pbVar20);
          }
          if ((int)local_12 < (int)(uint)*local_164) {
            FUN_1068_07fa(0);
            goto LAB_1048_1520;
          }
          uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
          uVar24 = *(int *)((int)uVar8 + 2) * 4;
          iVar22 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_8860 +
                           *(int *)&PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
          uVar13 = (int)(iVar22 + (iVar22 >> 0xf & 7U)) >> 3;
          if ((int)uVar13 < (int)uVar24) {
            uVar13 = uVar24;
          }
          if ((*(byte *)&PTR_DAT_10a8_0000_10a8_7a4b & 2) == 0) {
            if ((uint)(*(int *)0x7618 + *(int *)0x77ad + *(int *)0x78bb + *(int *)0x7a50) <
                uVar13 + 1) {
              iVar22 = 0xf;
              goto LAB_1048_1701;
            }
          }
          else if ((*(byte *)0x78b6 & 2) == 0) {
            if ((uint)(*(int *)0x7618 + *(int *)0x77ad + *(int *)0x78bb) < uVar13 + 1) {
              iVar22 = 0xc;
              goto LAB_1048_1701;
            }
          }
          else if ((*(byte *)0x7613 & 2) == 0) {
            if ((uint)(*(int *)0x7618 + *(int *)0x77ad) < uVar13) {
              iVar22 = 7;
LAB_1048_1701:
              FUN_1048_6568(iVar22,1,2,1);
              local_12 = CONCAT22(1,(int)local_12);
            }
          }
          else if (((*(byte *)0x77a8 & 2) == 0) &&
                  (puVar3 = (uint *)0x77ad, *puVar3 <= uVar13 && uVar13 != *puVar3)) {
            iVar22 = 10;
            goto LAB_1048_1701;
          }
          if ((local_20._2_2_ != 0) ||
             ((local_14 < 0x1a &&
              (uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84,
              iVar22 = FUN_1018_4a4a(*(int *)((int)uVar8 + 2) * 0xf), iVar22 == 0)))) {
            if (*(int *)0x72f4 == 0xe) {
              local_12 = CONCAT22(local_12._2_2_,2);
            }
            else if ((((*(byte *)0x7721 & 2) == 0) && (0x1e < *(long *)&PTR_DAT_10a8_0000_10a8_7bf8)
                     ) && (0x19 < *(long *)&PTR_DAT_10a8_0000_10a8_7bfc)) {
              local_12 = CONCAT22(local_12._2_2_,9);
            }
            else {
              local_12 = CONCAT22(local_12._2_2_,8);
            }
            FUN_1048_6568((int)local_12,1,2,1);
            local_12 = CONCAT22(1,(int)local_12);
            iVar22 = *(int *)&PTR_DAT_10a8_0001_10a8_00c0 * 0x76;
            local_6 = (uint *)((long)(int)*(char *)(iVar22 + -0x7789) *
                              *(long *)((uint *)local_18 + 0x19));
            if (((0x8fc < (long)local_6) && (0x226 < *(long *)((uint *)local_18 + 0x19))) &&
               (((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + iVar22) & 0x1c) != 0 &&
                ((FUN_1048_6568((int)local_12,1,2,1), 0xe10 < (long)local_6 &&
                 (900 < *(long *)((uint *)local_18 + 0x19))))))) {
              FUN_1048_6568((int)local_12,1,2,1);
            }
          }
          uVar17 = (ulong)local_18 & 0xffff0000;
          local_18 = (int *)(uVar17 | (ulong)piVar5 & 0xffff);
          if ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_782e + 1) & 2) == 0) {
            local_18._2_2_ = (uint)(uVar17 >> 0x10);
            local_8 = *(uint *)local_18;
            iVar22 = 0;
            if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
              local_6 = *(uint **)&PTR_DAT_10a8_0000_10a8_006e;
              puVar14 = (uint *)local_6;
LAB_1048_182b:
              local_6._2_2_ = (int)((ulong)local_6 >> 0x10);
              uVar13 = *puVar14;
              uVar24 = puVar14[1];
              local_e = (uint *)((ulong)local_e & 0xffff | (ulong)uVar24 << 0x10);
              if ((uVar24 | uVar13) != 0) {
                if ((*(uint *)(uVar13 + 6) != local_8) ||
                   (*(int *)(uVar13 + 0x14) + *(int *)(uVar13 + 0x18) < 3)) goto LAB_1048_1857;
                if (*(int *)(uVar13 + 0x22) < 2) {
                  FUN_1048_6568(0xb,1,2,1);
                  FUN_1048_6568(0xb,1,2,1);
                  goto LAB_1048_18a5;
                }
                if (((*(byte *)&PTR_DAT_10a8_0000_10a8_79c4 & 2) == 0) &&
                   (*(int *)(uVar13 + 0x28) < 10)) {
                  local_12 = local_12 & 0xffff0000;
                  do {
                    FUN_1048_6568(0xe,1,2,1);
                    local_12 = local_12 & 0xffff0000 | (ulong)((int)local_12 + 1U);
                  } while ((int)((int)local_12 + 1U) < 4);
LAB_1048_18a5:
                  local_12 = CONCAT22(1,(int)local_12);
                  goto LAB_1048_1ab7;
                }
              }
            }
          }
LAB_1048_1861:
          if ((*(byte *)0x758c & 2) == 0) {
            iVar22 = 6;
          }
          else if ((*(byte *)0x747e & 2) == 0) {
            iVar22 = 4;
          }
          else {
            iVar22 = (-(uint)((*(byte *)&PTR_DAT_10a8_0000_10a8_73f7 & 2) == 0) & 4) - 1;
          }
          if (((iVar22 != -1) &&
              (*(uint *)((int)&PTR_DAT_10a8_0000_10a8_7267 + iVar22 * 0x87) <
               *(int *)&PTR_DAT_10a8_0000_10a8_003a / 7 + 6U)) ||
             (((iVar22 == 4 || (iVar22 == 6)) && (iVar18 = FUN_1018_4a4a(2), iVar18 != 0)))) {
            local_a = iVar22;
            FUN_1048_7336((ulong)local_18,&local_3c);
            FUN_1048_73d8(*(undefined4 *)((int)local_18 + 0x38),&local_4c);
            local_12 = local_12 & 0xffff0000;
            do {
              plVar1 = &local_3c + (int)local_12;
              *plVar1 = *plVar1 - (&local_4c)[(int)local_12];
              if (*(int *)((int)&local_3c + (int)local_12 * 4 + 2) < 0) goto LAB_1048_1ab7;
              uVar17 = local_12 & 0xffff0000;
              local_12 = uVar17 | (int)local_12 + 1U;
            } while ((int)((int)local_12 + 1U) < 4);
            local_12 = uVar17;
            do {
              uVar13 = *(uint *)(&local_4c + (int)local_12);
              if ((long)(&local_3c)[(int)local_12] <
                  CONCAT22(*(int *)((int)&local_4c + (int)local_12 * 4 + 2) * 3 +
                           (uint)CARRY2(uVar13,uVar13) + (uint)CARRY2(uVar13 * 2,uVar13),uVar13 * 3)
                  / 5) goto LAB_1048_19c5;
              uVar13 = (int)local_12 + 1;
              local_12 = local_12 & 0xffff0000 | (ulong)uVar13;
            } while ((int)uVar13 < 3);
            local_12 = CONCAT22(1,uVar13);
            FUN_1048_6568(local_a,1,2,1);
          }
LAB_1048_19c5:
          if ((*(byte *)0x7505 & 2) == 0) {
            iVar22 = 5;
          }
          else {
            iVar22 = (-(uint)((*(byte *)0x793d & 2) == 0) & 0xe) - 1;
          }
          if ((iVar22 != -1) &&
             (*(uint *)((int)&PTR_DAT_10a8_0000_10a8_7267 + iVar22 * 0x87) <
              *(int *)&PTR_DAT_10a8_0000_10a8_003a / 0xc + 8U)) {
            FUN_1048_7336((ulong)local_18,&local_3c);
            FUN_1048_73d8(*(undefined4 *)((int)local_18 + 0x38),&local_4c);
            local_12 = local_12 & 0xffff0000;
            local_a = iVar22;
            do {
              plVar1 = &local_3c + (int)local_12;
              *plVar1 = *plVar1 - (&local_4c)[(int)local_12];
              if (*(int *)((int)&local_3c + (int)local_12 * 4 + 2) < 0) goto LAB_1048_1ab7;
              uVar17 = local_12 & 0xffff0000;
              local_12 = uVar17 | (int)local_12 + 1U;
            } while ((int)((int)local_12 + 1U) < 4);
            do {
              local_12 = uVar17;
              FUN_1010_2474(*(undefined2 *)&PTR_DAT_10a8_0001_10a8_00c0,
                            CONCAT13((char)((uint)iVar26 >> 8),
                                     CONCAT12((char)iVar26,
                                              (int)&PTR_DAT_10a8_0000_10a8_71e6 + iVar22 * 0x87)),
                            (undefined2 *)local_2c);
              puVar23 = local_2c;
              puVar19 = &local_3c;
              local_6 = (uint *)CONCAT22(puVar19,puVar23);
              do {
                uVar13 = *(uint *)puVar23;
                puVar2 = puVar19;
                uVar24 = *(uint *)puVar2;
                *(uint *)puVar2 = *(uint *)puVar2 - uVar13;
                puVar3 = (uint *)((int)puVar19 + 2);
                *puVar3 = *puVar3 - (uint)(uVar24 < uVar13);
                if ((int)*(uint *)((int)puVar19 + 2) < 0) goto LAB_1048_1ab7;
                puVar23 = (undefined4 *)((int)puVar23 + 2);
                puVar19 = puVar19 + 1;
              } while (puVar19 < local_2c);
              local_12._2_2_ = 1;
              FUN_1048_6568(local_a,1,2,1);
              local_12 = CONCAT22(local_12._2_2_,(int)local_12 + 1);
              uVar17 = local_12;
            } while ((int)local_12 + 1 < 5);
          }
LAB_1048_1ab7:
          FUN_1068_07fa(local_12._2_2_);
        }
      }
      else {
        uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
        *(char *)((int)uVar8 + *local_18 * 0x10 + 10) = ((byte)(((uint *)local_18)[2] >> 9) & 1) + 1
        ;
LAB_1048_1520:
        local_18 = (int *)((ulong)local_18 & 0xffff0000 | (ulong)piVar5 & 0xffff);
      }
      local_18 = (int *)((ulong)local_18 & 0xffff0000 | (ulong)((int)(uint *)local_18 + 0x3cU));
    } while ((int)(uint *)local_18 + 0x3cU < (int *)local_1c);
  }
  piVar11 = *(int **)&PTR_DAT_10a8_0000_10a8_006a;
  uVar13 = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
  uVar17 = (ulong)uVar13;
  local_18 = (int *)((ulong)local_18 & 0xffff | (ulong)uVar13 << 0x10);
  local_1c = (uint *)((ulong)local_1c & 0xffff | (ulong)uVar13 << 0x10);
  if (piVar11 < piVar11 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e) {
    local_1c = (uint *)CONCAT22(uVar13,piVar11 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e);
    do {
      if (((piVar11[1] == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
          ((*(byte *)((int)piVar11 + 5) & 2) == 0)) && (0x4f < *(long *)(piVar11 + 0x19))) {
        local_12 = local_12 & 0xffff0000;
        uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
        uVar10 = (undefined2)((ulong)uVar8 >> 0x10);
        iVar22 = (int)uVar8;
        if (0 < *(int *)(iVar22 + 2)) {
          uVar9 = (ulong)local_18 & 0xffff0000;
          local_18 = (int *)(uVar9 | ZEXT24(piVar11));
          do {
            local_18._2_2_ = (uint)(uVar9 >> 0x10);
            if (*(int *)(iVar22 + (int)local_12 * 0x14 + 4) == *piVar11) break;
            uVar13 = (int)local_12 + 1;
            local_12 = local_12 & 0xffff0000 | (ulong)uVar13;
            uVar10 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4b86;
            puVar3 = (uint *)(iVar22 + 2);
          } while (*puVar3 != uVar13 && (int)uVar13 <= (int)*puVar3);
        }
        if (*(int *)(iVar22 + 2) != (int)local_12) {
          FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*piVar11);
          FUN_1068_0100(local_15e);
          local_12 = local_12 & 0xffff0000;
          uVar13 = *(uint *)&PTR_DAT_10a8_0000_10a8_4184;
          uVar17 = (ulong)uVar13;
          local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)uVar13 << 0x10);
          uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4182;
          uVar10 = (undefined2)((ulong)uVar8 >> 0x10);
          pbVar20 = (byte *)((int)uVar8 + 3);
          if (*pbVar20 != 0) {
            local_18 = (int *)((ulong)local_18 & 0xffff0000 | ZEXT24(piVar11));
            puVar16 = *(ulong **)&PTR_DAT_10a8_0000_10a8_4182;
            do {
              if (((*(uint *)((int)puVar16 + 6) & 0xe) == 2) &&
                 (iVar26 = unaff_SS, (puVar16[1] & 0x1fc00) == 0)) break;
              local_12 = local_12 & 0xffff0000 | (ulong)((int)local_12 + 1U);
              iVar26 = unaff_SS;
              puVar16 = puVar16 + 1;
            } while ((int)((int)local_12 + 1U) < (int)(uint)*pbVar20);
          }
          bVar7 = (int)(uint)*pbVar20 <= (int)local_12;
          if (bVar7) {
            FUN_1048_6568(0,1,1,1);
          }
          FUN_1068_07fa((uint)bVar7);
        }
      }
      piVar11 = piVar11 + 0x1e;
    } while (piVar11 < (int *)local_1c);
  }
  local_20 = (uint *)0x0;
  local_24 = (uint *)0x0;
  local_a = 0;
  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
    iVar22 = 0;
    do {
      uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      local_e = *(uint **)((int)uVar8 + iVar22);
      if (local_e == (uint *)0x0) break;
      uVar10 = (undefined2)((ulong)local_e >> 0x10);
      iVar18 = (int)local_e;
      if (*(int *)(iVar18 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) {
        iVar21 = FUN_1048_6bf8(iVar18,uVar10);
        uVar10 = (undefined2)((ulong)local_e >> 0x10);
        iVar18 = (int)local_e;
        if (iVar21 == 0) {
          iVar18 = FUN_1048_6c7c(iVar18,uVar10);
          if (iVar18 != 0) {
            local_6 = (uint *)CONCAT22(0xffff,(undefined2)local_6);
            uVar10 = (undefined2)((ulong)local_e >> 0x10);
            uVar8 = *(undefined4 *)((int)local_e + 100);
            if (((*(byte *)((int)uVar8 + 10) & 0xf) == 1) &&
               (uVar8 = *(undefined4 *)((int)local_e + 100),
               (*(byte *)((int)uVar8 + 0xd) & 0xf0) == 0x90)) {
              FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*local_e);
              uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
              pbVar4 = (byte *)((int)uVar8 + 10);
              *pbVar4 = *pbVar4 & 0xf0;
              FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
            }
            uVar13 = (uint)uVar17;
            uVar10 = (undefined2)((ulong)local_e >> 0x10);
            iVar18 = (int)local_e;
            if ((*(int *)(iVar18 + 0x62) < 2) ||
               (uVar8 = *(undefined4 *)(iVar18 + 100), (*(byte *)((int)uVar8 + 10) & 0xf) != 0)) {
              uVar24 = *(uint *)(iVar18 + 6);
LAB_1048_1d99:
              local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)uVar24 << 0x10);
            }
            else {
              uVar8 = *(undefined4 *)(iVar18 + 100);
              if ((*(byte *)((int)uVar8 + 0x1d) & 3) == 1) {
                uVar8 = *(undefined4 *)(iVar18 + 100);
                uVar24 = *(uint *)((int)uVar8 + 0x1a);
                goto LAB_1048_1d99;
              }
            }
            if (local_6._2_2_ != -1) {
              piVar11 = FUN_1010_018e(local_6._2_2_);
              local_18 = (int *)((ulong)local_18 & 0xffff | (ulong)uVar13 << 0x10);
              uVar17 = (ulong)(uVar13 | (uint)piVar11);
              if ((((uVar13 | (uint)piVar11) == 0) ||
                  (piVar11[1] != *(int *)&PTR_DAT_10a8_0001_10a8_00c0)) &&
                 (*(long *)((int)local_e + 0x5c) == 0)) {
                FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*local_e);
                *(undefined2 *)&PTR_DAT_10a8_0000_10a8_7bc4 = 1;
                uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
                *(undefined *)((int)uVar8 + 3) = 1;
                FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
                uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
                pbVar4 = (byte *)((int)uVar8 + 10);
                *pbVar4 = *pbVar4 & 0xf0;
                FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
              }
            }
          }
        }
        else {
          *(uint **)(iVar18 + 0x68) = local_20;
          local_20 = local_e;
          if (((0 < *(int *)(iVar18 + 0x14)) || (0 < *(int *)(iVar18 + 0x18))) &&
             (((1 < *(int *)(iVar18 + 0x62) &&
               (uVar8 = *(undefined4 *)(iVar18 + 100), (*(byte *)((int)uVar8 + 0x1d) & 3) == 1)) ||
              (*(int *)(iVar18 + 6) != -1)))) {
            if ((*(int *)(iVar18 + 0x62) < 2) ||
               (uVar8 = *(undefined4 *)(iVar18 + 100), (*(byte *)((int)uVar8 + 0x1d) & 3) != 1)) {
              iVar18 = *(int *)(iVar18 + 6);
            }
            else {
              uVar8 = *(undefined4 *)(iVar18 + 100);
              iVar18 = *(int *)((int)uVar8 + 0x1a);
            }
            uVar13 = *(uint *)&PTR_DAT_10a8_0000_10a8_4b82;
            pbVar20 = (byte *)(iVar18 * 0x10 + *(int *)&PTR_DAT_10a8_0000_10a8_4b80 + 10);
            local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)uVar13 << 0x10);
            if (*pbVar20 != 0) {
              pbVar4 = pbVar20;
              *pbVar4 = *pbVar4 | 0x80;
            }
          }
        }
        uVar10 = (undefined2)((ulong)local_e >> 0x10);
        iVar18 = (int)local_e;
        if ((*(int *)(iVar18 + 0x62) < 2) &&
           (((*(int *)(iVar18 + 0x10) != 0 || (*(int *)(iVar18 + 0x1c) != 0)) ||
            (*(int *)(iVar18 + 0x1e) != 0)))) {
          uVar13 = FUN_1048_4dd6(local_e);
          local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)uVar13 << 0x10);
          if (uVar13 == 0xffff) {
            if (*(int *)((int)local_e + 6) != -1) {
              FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*local_e);
              uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
              uVar10 = (undefined2)((ulong)uVar8 >> 0x10);
              iVar18 = (int)uVar8;
              *(uint *)(iVar18 + 10) = *(uint *)(iVar18 + 10) & 0xfff5 | 5;
              FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
            }
          }
          else {
            FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*local_e);
            uVar10 = (undefined2)((ulong)local_e >> 0x10);
            if (*(int *)((int)local_e + 6) != -1) {
              FUN_1048_4c24(CONCAT22(*(undefined2 *)((int)local_e + 6),1),2,(ulong)*local_e,100);
              FUN_1048_4c24(CONCAT22(*(undefined2 *)((int)local_e + 6),1),2,
                            (ulong)CONCAT12(4,*local_e),10);
              FUN_1010_0cda(*local_e,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
            }
            FUN_1048_4d38((uint *)local_e,(int)((ulong)local_e >> 0x10),local_6._2_2_);
          }
        }
      }
      else {
        *(uint **)(iVar18 + 0x68) = local_24;
        local_24 = local_e;
      }
      iVar22 = iVar22 + 4;
      local_a = local_a + 1;
    } while (local_a < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  uVar13 = *(uint *)&PTR_DAT_10a8_0000_10a8_006a;
  uVar24 = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
  local_18 = (int *)((ulong)local_18 & 0xffff | (ulong)uVar24 << 0x10);
  uVar12 = uVar13 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
  local_1c = (uint *)((ulong)local_1c & 0xffff);
  if (uVar13 < uVar12) {
    local_1c = (uint *)(ulong)uVar12;
    do {
      if ((*(int *)(uVar13 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
         (iVar26 = unaff_SS, (*(byte *)(uVar13 + 5) & 2) != 0)) break;
      uVar13 = uVar13 + 0x3c;
      iVar26 = unaff_SS;
    } while (uVar13 < uVar12);
  }
  if (uVar12 == uVar13) {
    uVar13 = 0;
  }
  else {
    local_1c = (uint *)((ulong)uVar24 << 0x10 | (ulong)local_1c);
  }
  if ((local_1c._2_2_ | uVar13) != 0) {
    local_1c = (uint *)((ulong)local_1c & 0xffff0000 | (ulong)uVar13);
    local_a = 0;
    if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
      local_12 = local_12 & 0xffff;
      do {
        uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
        uVar10 = (undefined2)((ulong)uVar8 >> 0x10);
        iVar22 = (int)uVar8;
        uVar13 = *(uint *)(iVar22 + local_12._2_2_);
        uVar24 = *(uint *)(iVar22 + local_12._2_2_ + 2);
        local_e = (uint *)((ulong)local_e & 0xffff | (ulong)uVar24 << 0x10);
        uVar12 = uVar24 | uVar13;
        if (uVar12 == 0) break;
        if (((*(int *)(uVar13 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
            (*(int *)(uVar13 + 0x62) < 2)) &&
           ((iVar22 = FUN_1048_6c7c(uVar13,uVar24), iVar22 != 0 && (*(int *)(uVar13 + 0x22) < 1))))
        {
          local_e = (uint *)((ulong)local_e & 0xffff0000 | (ulong)uVar13);
          uVar13 = 0;
          local_18 = (int *)0x0;
          local_12 = local_12 & 0xffff0000;
          uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
          uVar24 = (uint)((ulong)uVar8 >> 0x10);
          if (0 < *(int *)((int)uVar8 + 2)) {
            do {
              iVar18 = 0;
              iVar22 = *(int *)(uVar13 * 0x14 + *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 6);
              if (0 < iVar22) {
                puVar14 = (uint *)((int)local_12 * 0x14 + *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 8);
                local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)uVar24 << 0x10);
                do {
                  iVar26 = unaff_SS;
                  if (*local_e == *puVar14) break;
                  puVar14 = puVar14 + 1;
                  iVar18 = iVar18 + 1;
                } while (iVar18 < iVar22);
              }
              if (iVar18 < iVar22) break;
              uVar13 = (int)local_12 + 1;
              local_12 = local_12 & 0xffff0000 | (ulong)uVar13;
              uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
              uVar24 = (uint)((ulong)uVar8 >> 0x10);
              puVar3 = (uint *)((int)uVar8 + 2);
            } while (*puVar3 != uVar13 && (int)uVar13 <= (int)*puVar3);
          }
          local_18._0_2_ = (uint *)0x0;
          uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
          uVar10 = (undefined2)((ulong)uVar8 >> 0x10);
          iVar22 = (int)uVar8;
          piVar5 = (int *)(iVar22 + 2);
          if (*piVar5 != (int)local_12 && (int)local_12 <= *piVar5) {
            local_18._0_2_ = (uint *)FUN_1010_018e(*(int *)(iVar22 + (int)local_12 * 0x14 + 4));
            local_18 = (int *)((ulong)local_18 & 0xffff | (ulong)uVar12 << 0x10);
          }
          if ((local_18._2_2_ | (uint)(uint *)local_18) == 0) {
            local_6 = local_1c;
          }
          else {
            local_6 = (uint *)((ulong)local_18 & 0xffff0000 | ZEXT24((uint *)local_18));
          }
          FUN_1048_5b4c(local_e,local_6);
        }
        local_12 = local_12 & 0xffff | (ulong)(local_12._2_2_ + 4) << 0x10;
        local_a = local_a + 1;
      } while (local_a < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
    }
  }
  iVar22 = 0;
  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
    iVar18 = 0;
    do {
      uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      local_e = *(uint **)((int)uVar8 + iVar18);
      if (local_e == (uint *)0x0) break;
      uVar10 = (undefined2)((ulong)local_e >> 0x10);
      iVar21 = (int)local_e;
      if (*(int *)(iVar21 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) {
        if ((((*(int *)(iVar21 + 0x14) < 1) && (*(int *)(iVar21 + 0x18) < 1)) &&
            (*(int *)(iVar21 + 0x22) < 1)) && (*(int *)(iVar21 + 0x28) < 1)) {
          iVar21 = FUN_1048_6bf8(iVar21,uVar10);
          if (iVar21 != 0) {
            uVar10 = (undefined2)((ulong)local_e >> 0x10);
            if ((*(int *)((int)local_e + 0x62) < 2) ||
               (uVar8 = *(undefined4 *)((int)local_e + 100), (*(byte *)((int)uVar8 + 0x1d) & 3) != 2
               )) {
              FUN_1048_5662(local_e,(ulong)local_20,(ulong)local_24,
                            *(uint *)&PTR_DAT_10a8_0000_10a8_0040 >> 4);
            }
          }
        }
        else {
          FUN_1048_2b9e(local_e);
        }
      }
      iVar18 = iVar18 + 4;
      iVar22 = iVar22 + 1;
    } while (iVar22 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  iVar22 = 0;
  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
    iVar18 = 0;
    do {
      uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      local_e = *(uint **)((int)uVar8 + iVar18);
      if (local_e == (uint *)0x0) break;
      uVar10 = (undefined2)((ulong)local_e >> 0x10);
      iVar21 = (int)local_e;
      if ((*(int *)(iVar21 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
         (1 < *(int *)(iVar21 + 0x62))) {
        local_12 = CONCAT22(local_12._2_2_,0xffff);
        iVar21 = FUN_1048_6c7c(iVar21,uVar10);
        if (iVar21 != 0) {
          local_12 = CONCAT22(local_12._2_2_,0x1e);
        }
        FUN_1048_552a(local_e,(int)local_12);
      }
      iVar18 = iVar18 + 4;
      iVar22 = iVar22 + 1;
    } while (iVar22 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  FUN_1048_671e(local_5e);
  puVar15 = (undefined2 *)
            (*(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x3c + *(int *)&PTR_DAT_10a8_0000_10a8_006a);
  uVar13 = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
  local_1c = (uint *)((ulong)local_1c & 0xffff | (ulong)uVar13 << 0x10);
  local_18._0_2_ = (uint *)*(uint *)&PTR_DAT_10a8_0000_10a8_006a;
  local_18 = (int *)((ulong)local_18 & 0xffff | (ulong)uVar13 << 0x10);
  if ((uint *)local_18 < puVar15) {
    local_1c = (uint *)CONCAT22(uVar13,puVar15);
    do {
      if ((((uint *)local_18)[1] == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
         (0x27 < *(long *)((uint *)local_18 + 0x19))) {
        FUN_1048_7336((ulong)local_18 & 0xff000000 |
                      (ulong)CONCAT12((char)((ulong)local_18 >> 0x10),(uint *)local_18),&local_3c);
        FUN_1048_73d8(*(undefined4 *)((uint *)local_18 + 0x1c),&local_4c);
        local_12 = local_12 & 0xffff0000;
        uVar17 = (ulong)local_18 & 0xffff0000;
        local_18 = (int *)(uVar17 | ZEXT24((uint *)local_18));
        do {
          lVar6 = (&local_3c)[(int)local_12];
          plVar1 = &local_4c + (int)local_12;
          if (*plVar1 != lVar6 && lVar6 <= *plVar1) break;
          local_12 = local_12 & 0xffff0000 | (ulong)((int)local_12 + 1U);
        } while ((int)((int)local_12 + 1U) < 4);
        if (2 < (int)local_12) {
          local_18._2_2_ = (uint)(uVar17 >> 0x10);
          FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*(uint *)local_18);
          FUN_1068_0100(local_15e);
          local_12 = 0;
          uVar17 = *(ulong *)&PTR_DAT_10a8_0000_10a8_4182;
          uVar10 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4184;
          puVar16 = (ulong *)((int)uVar17 + 4);
          local_6 = (uint *)(uVar17 & 0xffff0000 | ZEXT24(puVar16));
          uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4182;
          uVar25 = (undefined2)((ulong)uVar8 >> 0x10);
          pbVar20 = (byte *)((int)uVar8 + 3);
          if (*pbVar20 != 0) {
            do {
              if ((*(uint *)((int)puVar16 + 2) & 0xe) == 2) {
                uVar17 = *puVar16 & 0x1fc00;
                iStack_166 = (int)(uVar17 >> 0x10);
                if (((0x3bff < uVar17) && (iStack_166 == 0)) &&
                   (iVar26 = unaff_SS, (uint)uVar17 < 0x5001)) goto LAB_1048_2390;
              }
              local_12 = (ulong)((int)local_12 + 1U);
              puVar16 = puVar16 + 1;
              iVar26 = unaff_SS;
            } while ((int)((int)local_12 + 1U) < (int)(uint)*pbVar20);
          }
          uVar13 = *(uint *)&PTR_DAT_10a8_0000_10a8_8fe0;
          do {
            uVar13 = uVar13 - 1;
            local_12 = (ulong)uVar13;
            if ((int)uVar13 < 0) break;
            iVar22 = *(int *)&PTR_DAT_10a8_0000_10a8_885c;
            uVar17 = *(ulong *)(uVar13 * 4 + iVar22);
          } while ((((*(uint *)(uVar13 * 4 + iVar22 + 2) & 0xe) != 2) ||
                   (((uVar17 & 0x10000) == 0 && (((uint)uVar17 & 0xfc00) < 0x3c00)))) ||
                  (0x5000 < (uVar17 & 0x1fc00)));
          if (-1 < (int)uVar13) {
            FUN_1068_1a7c((uint *)CONCAT22(iVar26,uVar13 * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c)
                          ,local_5c,*(int *)&PTR_DAT_10a8_0001_10a8_00c0,1);
            iVar22 = 0;
            iVar18 = 0;
            do {
              if ((0 < *(long *)((int)local_5c + iVar22)) &&
                 (*(long *)((int)&local_3c + iVar22) <
                  *(long *)((int)local_5c + iVar22) + *(long *)((int)&local_4c + iVar22))) break;
              iVar18 = iVar18 + 1;
              iVar22 = iVar22 + 4;
            } while (iVar22 < 0x10);
            if (iVar18 == 4) {
              local_12 = CONCAT22(1,(int)local_12);
              FUN_1048_6568((uint)(*(ulong *)((int)local_12 * 4 +
                                             *(int *)&PTR_DAT_10a8_0000_10a8_885c) >> 10) & 0x7f,1,1
                            ,1);
              iVar22 = 0;
              do {
                plVar1 = (long *)((int)&local_4c + iVar22);
                *plVar1 = *plVar1 + *(long *)((int)local_5c + iVar22);
                iVar22 = iVar22 + 4;
              } while (iVar22 < 0x10);
            }
          }
LAB_1048_2390:
          if ((0x13 < local_30 - local_40) &&
             (local_12 = local_12 & 0xffff0000, 0 < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0)) {
LAB_1048_23b0:
            iVar22 = *(int *)&PTR_DAT_10a8_0000_10a8_885c;
            uVar17 = *(ulong *)((int)local_12 * 4 + iVar22);
            if (((*(uint *)((int)local_12 * 4 + iVar22 + 2) & 0xe) != 2) ||
               (((((uint)uVar17 & 0xfc00) != 0x1c00 || ((uVar17 & 0x10000) != 0)) ||
                (((uint)uVar17 & 0xff | ((byte)(uVar17 >> 8) & 3) << 8) == 0)))) goto LAB_1048_23ec;
            local_12 = CONCAT22(1,(int)local_12);
            FUN_1048_6568((uint)(*(ulong *)((int)local_12 * 4 + iVar22) >> 10) & 0x7f,1,1,1);
            FUN_1068_1a7c((uint *)CONCAT22(iVar26,(int)local_12 * 4 +
                                                  *(int *)&PTR_DAT_10a8_0000_10a8_885c),local_5c,
                          *(int *)&PTR_DAT_10a8_0001_10a8_00c0,1);
            iVar22 = 0;
            do {
              plVar1 = (long *)((int)&local_4c + iVar22);
              *plVar1 = *plVar1 + *(long *)((int)local_5c + iVar22);
              iVar22 = iVar22 + 4;
            } while (iVar22 < 0x10);
          }
LAB_1048_2457:
          if (0x63f < *(long *)((uint *)local_18 + 0x19)) {
            uVar17 = *(long *)((uint *)local_18 + 0x19) / 0x50;
            uVar13 = ((uint *)local_18)[0xf];
            if ((uVar17 < 0x80000000) &&
               ((0xffff < (long)uVar17 ||
                ((uVar13 & 0xff | ((byte)((ulong)uVar13 >> 8) & 0xf) << 8) < (uint)uVar17)))) {
              local_12 = local_12 & 0xffff0000;
              puVar16 = *(ulong **)&PTR_DAT_10a8_0000_10a8_4182;
              uVar13 = *(uint *)&PTR_DAT_10a8_0000_10a8_4184;
              local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)uVar13 << 0x10);
              uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4182;
              uVar10 = (undefined2)((ulong)uVar8 >> 0x10);
              pbVar20 = (byte *)((int)uVar8 + 3);
              if (*pbVar20 != 0) {
                do {
                  if (((*(uint *)((int)puVar16 + 6) & 0xe) == 2) &&
                     (iVar26 = unaff_SS, (puVar16[1] & 0x1fc00) == 0x1400)) goto LAB_1048_2587;
                  local_12 = local_12 & 0xffff0000 | (ulong)((int)local_12 + 1U);
                  iVar26 = unaff_SS;
                  puVar16 = puVar16 + 1;
                } while ((int)((int)local_12 + 1U) < (int)(uint)*pbVar20);
              }
              local_12 = local_12 & 0xffff0000;
              if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0) {
                do {
                  iVar22 = *(int *)&PTR_DAT_10a8_0000_10a8_885c;
                  uVar17 = *(ulong *)((int)local_12 * 4 + iVar22);
                  if (((((*(uint *)((int)local_12 * 4 + iVar22 + 2) & 0xe) == 2) &&
                       (((uint)uVar17 & 0xfc00) == (int)s_Mass___dkT_10a8_13fc + 4U)) &&
                      ((uVar17 & 0x10000) == 0)) &&
                     (((uint)uVar17 & 0xff | ((byte)(uVar17 >> 8) & 3) << 8) != 0)) break;
                  local_12 = local_12 & 0xffff0000 | (ulong)((int)local_12 + 1U);
                } while ((int)((int)local_12 + 1U) < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0);
              }
              if ((int)local_12 < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0) {
                local_12 = CONCAT22(1,(int)local_12);
                uVar13 = *(uint *)((int)local_12 * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c);
                local_8 = uVar13 & 0xff | ((byte)((ulong)uVar13 >> 8) & 3) << 8;
                if (4 < local_8) {
                  local_8 = 4;
                }
                FUN_1048_6568(5,local_8,1,1);
              }
            }
          }
LAB_1048_2587:
          FUN_1068_07fa(local_12._2_2_);
        }
      }
      local_18._0_2_ = (uint *)local_18 + 0x1e;
    } while ((uint *)local_18 < (int *)local_1c);
  }
  if (0x27 < *(uint *)&PTR_DAT_10a8_0000_10a8_0042) {
    FUN_1048_7c48(local_15e);
  }
  FUN_1048_5150();
  return;
LAB_1048_1857:
  puVar14 = puVar14 + 2;
  iVar22 = iVar22 + 1;
  if (*(int *)&PTR_DAT_10a8_0000_10a8_83c6 <= iVar22) goto LAB_1048_1861;
  goto LAB_1048_182b;
LAB_1048_23ec:
  local_12 = local_12 & 0xffff0000 | (ulong)((int)local_12 + 1U);
  if (*(int *)&PTR_DAT_10a8_0000_10a8_8fe0 <= (int)((int)local_12 + 1U)) goto LAB_1048_2457;
  goto LAB_1048_23b0;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1048_25bc(void)

{
  undefined2 *puVar1;
  undefined4 *puVar2;
  char *pcVar3;
  undefined2 *puVar4;
  undefined4 *puVar5;
  undefined uVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  undefined4 *puVar11;
  char *pcVar12;
  undefined2 *puVar13;
  undefined2 *puVar14;
  undefined4 *puVar15;
  undefined2 unaff_CS;
  undefined2 unaff_SS;
  undefined4 local_90 [2];
  undefined4 local_88;
  undefined4 uStack_84;
  char cStack_80;
  undefined2 local_54;
  undefined2 local_50;
  undefined2 local_4c;
  undefined2 local_48;
  undefined2 local_46;
  undefined2 local_44;
  byte local_14;
  uint local_8;
  undefined2 local_6;

  if (((byte)PTR_DAT_10a8_0000_10a8_769a & 2) != 0) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)0x188;
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,8);
  }
  local_8 = 1;
  local_6 = CONCAT11(local_6._1_1_,2);
  if ((bRam10a87721 & 2) != 0) {
    unaff_CS = 0x1060;
    iVar7 = FUN_1060_32b2(&local_8);
    if (iVar7 == 1) {
      puVar15 = local_90;
      puVar11 = (undefined4 *)0x188;
      for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
        puVar5 = puVar15;
        puVar15 = puVar15 + 1;
        puVar2 = puVar11;
        puVar11 = puVar11 + 1;
        *puVar5 = *puVar2;
      }
      *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
      *(undefined *)(undefined2 *)((int)puVar15 + 2) =
           *(undefined *)(undefined2 *)((int)puVar11 + 2);
      local_54 = CONCAT11(local_54._1_1_,2);
      pcVar12 = (char *)0x4b8c;
      puVar15 = &local_88;
      uVar8 = 0xffff;
      do {
        if (uVar8 == 0) break;
        uVar8 = uVar8 - 1;
        pcVar3 = pcVar12;
        pcVar12 = pcVar12 + 1;
      } while (*pcVar3 != '\0');
      uVar8 = ~uVar8;
      puVar13 = (undefined2 *)(pcVar12 + -uVar8);
      iVar7 = -1;
      do {
        if (iVar7 == 0) break;
        iVar7 = iVar7 + -1;
        puVar2 = puVar15;
        puVar15 = (undefined4 *)((int)puVar15 + 1);
      } while (*(char *)puVar2 != '\0');
      puVar14 = (undefined2 *)((int)puVar15 + -1);
      for (uVar9 = uVar8 >> 1; uVar9 != 0; uVar9 = uVar9 - 1) {
        puVar4 = puVar14;
        puVar14 = puVar14 + 1;
        puVar1 = puVar13;
        puVar13 = puVar13 + 1;
        *puVar4 = *puVar1;
      }
      for (uVar8 = (uint)((uVar8 & 1) != 0); uVar8 != 0; uVar8 = uVar8 - 1) {
        puVar4 = puVar14;
        puVar14 = (undefined2 *)((int)puVar14 + 1);
        puVar1 = puVar13;
        puVar13 = (undefined2 *)((int)puVar13 + 1);
        *(undefined *)puVar4 = *(undefined *)puVar1;
      }
      unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
      FUN_1048_4b7e(local_90,9);
    }
  }
  if (((((bRam10a877a8 & 2) != 0) &&
       (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\x03' < *(char *)(iVar7 + -0x7787))) &&
      ('\x03' < *(char *)(iVar7 + -0x7784))) &&
     (('\x03' < *(char *)(iVar7 + -0x7785) && ('\x01' < *(char *)(iVar7 + -0x7786))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)0x20f;
    for (iVar10 = 0x21; iVar10 != 0; iVar10 = iVar10 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    if ('\x04' < *(char *)(iVar7 + -0x7787)) {
      local_48 = CONCAT11((char)((uint)local_48 >> 8),4);
      local_44 = CONCAT11((char)((uint)local_44 >> 8),2);
      local_46 = 0x20;
    }
    if ('\x03' < *(char *)(iVar7 + -0x7788)) {
      local_50 = CONCAT11((char)((uint)local_50 >> 8),2);
    }
    if ('\x04' < *(char *)(iVar7 + -0x7784)) {
      local_4c = CONCAT11((char)((uint)local_4c >> 8),4);
    }
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,10);
  }
  if ((((bRam10a8793d & 2) != 0) &&
      (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\x05' < *(char *)(iVar7 + -0x7787))) &&
     (('\x04' < *(char *)(iVar7 + -0x7784) &&
      ((('\x05' < *(char *)(iVar7 + -0x7785) && ('\x05' < *(char *)(iVar7 + -0x7786))) &&
       ('\x02' < *(char *)(iVar7 + -0x7788))))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)((int)s_turned_in_10a8_04b1 + 1);
    for (iVar10 = 0x21; iVar10 != 0; iVar10 = iVar10 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    local_88 = s_Intruder_10a8_4b8e._0_4_;
    uStack_84 = s_Intruder_10a8_4b8e._4_4_;
    cStack_80 = s_Intruder_10a8_4b8e[8];
    local_50 = 0x104;
    if ('\a' < *(char *)(iVar7 + -0x7787)) {
      local_4c = CONCAT11((char)((uint)local_4c >> 8),0xc);
    }
    uVar6 = (undefined)((uint)local_48 >> 8);
    if (*(char *)(iVar7 + -0x7785) < '\t') {
      if ('\x06' < *(char *)(iVar7 + -0x7788)) {
        local_48 = CONCAT11(uVar6,4);
      }
    }
    else {
      local_48 = CONCAT11(uVar6,5);
    }
    if ('\b' < *(char *)(iVar7 + -0x7786)) {
      local_4c = CONCAT11((char)((uint)local_4c >> 8),9);
    }
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,0xd);
  }
  if ((((bRam10a87613 & 2) != 0) &&
      (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\a' < *(char *)(iVar7 + -0x7787))) &&
     (('\x05' < *(char *)(iVar7 + -0x7785) &&
      (('\x05' < *(char *)(iVar7 + -0x7786) && ('\x04' < *(char *)(iVar7 + -0x7784))))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)((int)s_Cargo_10a8_0c97 + 4);
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,7);
  }
  if ((((((bRam10a878b6 & 2) != 0) &&
        (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\a' < *(char *)(iVar7 + -0x7787))) &&
       ('\x06' < *(char *)(iVar7 + -0x7784))) &&
      (('\b' < *(char *)(iVar7 + -0x7785) && ('\x05' < *(char *)(iVar7 + -0x7786))))) &&
     (('\x03' < *(char *)(iVar7 + -0x7788) && ('\x02' < *(char *)(iVar7 + -0x7783))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)0x5c0;
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,0xc);
  }
  if (((((byte)PTR_DAT_10a8_0000_10a8_73f7 & 2) != 0) &&
      (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\a' < *(char *)(iVar7 + -0x7787))) &&
     (('\t' < *(char *)(iVar7 + -0x7785) &&
      (('\x05' < *(char *)(iVar7 + -0x7786) && ('\x03' < *(char *)(iVar7 + -0x7788))))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)0x647;
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,3);
  }
  if (((((bRam10a8747e & 2) != 0) &&
       (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\t' < *(char *)(iVar7 + -0x7787))) &&
      ('\t' < *(char *)(iVar7 + -0x7785))) &&
     (('\b' < *(char *)(iVar7 + -0x7786) && ('\x05' < *(char *)(iVar7 + -0x7788))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)((int)s_Orbiting__s_10a8_06ca + 4);
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,4);
  }
  if (((((byte)PTR_DAT_10a8_0000_10a8_7a4b & 2) != 0) &&
      (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\t' < *(char *)(iVar7 + -0x7787))) &&
     (('\b' < *(char *)(iVar7 + -0x7785) &&
      (('\b' < *(char *)(iVar7 + -0x7786) && ('\x06' < *(char *)(iVar7 + -0x7784))))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)0xd22;
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,0xf);
  }
  if (((((PTR_DAT_10a8_0000_10a8_782e._1_1_ & 2) != 0) &&
       (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\x03' < *(char *)(iVar7 + -0x7783))) &&
      ('\b' < *(char *)(iVar7 + -0x7785))) &&
     ((('\b' < *(char *)(iVar7 + -0x7786) && ('\t' < *(char *)(iVar7 + -0x7788))) &&
      ('\t' < *(char *)(iVar7 + -0x7784))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)((int)s_Change_Host_Password_10a8_074d + 8);
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,0xb);
  }
  if (((iRam10a87375 == 0) && (iRam10a872f4 == 0xf)) &&
     (('\x03' < *(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x7788) &&
      ('\b' < *(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x7786))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)0x188;
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    local_54 = CONCAT11(local_54._1_1_,9);
    puVar15 = &local_88;
    puVar11 = (undefined4 *)s_Quick_Squirt_10a8_4b97;
    for (iVar7 = 3; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined *)puVar15 = *(undefined *)puVar11;
    local_14 = local_14 | 2;
    FUN_1048_4b7e(local_90,2);
    local_14 = local_14 & 0xfd;
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,2);
  }
  if ((((((((byte)PTR_DAT_10a8_0000_10a8_79c4 & 2) != 0) &&
         (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\x03' < *(char *)(iVar7 + -0x7783))) &&
        ('\x05' < *(char *)(iVar7 + -0x7785))) &&
       (('\b' < *(char *)(iVar7 + -0x7786) && ('\x04' < *(char *)(iVar7 + -0x7788))))) &&
      ('\t' < *(char *)(iVar7 + -0x7784))) && ('\t' < *(char *)(iVar7 + -0x7787))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)((int)s_Planets_10a8_07d6 + 6);
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,0xe);
  }
  if ((((bRam10a87505 & 2) != 0) &&
      (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\t' < *(char *)(iVar7 + -0x7787))) &&
     (('\b' < *(char *)(iVar7 + -0x7785) &&
      (('\b' < *(char *)(iVar7 + -0x7786) && ('\x02' < *(char *)(iVar7 + -0x7788))))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)((int)s_Minerals_at_Planet_10a8_085b + 8);
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_90,5);
  }
  if (((((bRam10a8758c & 2) != 0) &&
       (iVar7 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76, '\t' < *(char *)(iVar7 + -0x7787))) &&
      ('\t' < *(char *)(iVar7 + -0x7785))) &&
     (('\t' < *(char *)(iVar7 + -0x7786) && ('\t' < *(char *)(iVar7 + -0x7788))))) {
    puVar15 = local_90;
    puVar11 = (undefined4 *)0xc14;
    for (iVar7 = 0x21; iVar7 != 0; iVar7 = iVar7 + -1) {
      puVar5 = puVar15;
      puVar15 = puVar15 + 1;
      puVar2 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar15 = *(undefined2 *)puVar11;
    *(undefined *)(undefined2 *)((int)puVar15 + 2) = *(undefined *)(undefined2 *)((int)puVar11 + 2);
    FUN_1048_4b7e(local_90,6);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1048_2b9e(uint *param_1)

{
  byte *pbVar1;
  int *piVar2;
  uint uVar3;
  uint uVar4;
  uint in_DX;
  uint *puVar5;
  int iVar6;
  undefined2 uVar7;
  undefined2 uVar8;
  long lStackY_44;
  int local_2c;
  int local_2a;
  int local_28;
  uint local_26;
  undefined4 local_24;
  long local_1a;
  long local_16;
  long local_12;
  long local_e;
  uint *local_a;
  undefined4 local_6;

  uVar7 = (undefined2)((ulong)param_1 >> 0x10);
  puVar5 = (uint *)param_1;
  if (1 < (int)puVar5[0x31]) {
    return 0;
  }
  iVar6 = puVar5[10] + puVar5[0xc];
  uVar4 = puVar5[0x11];
  if (puVar5[3] == 0xffff) {
    return 0;
  }
  local_6 = CONCAT22(puVar5[0x14],uVar4);
  FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*param_1);
  piVar2 = FUN_1010_018e(puVar5[3]);
  local_a = (uint *)CONCAT22(in_DX,piVar2);
  if (((undefined *)piVar2[1] == PTR_DAT_10a8_0001_10a8_00c0) &&
     ((*(byte *)((int)piVar2 + 5) & 2) != 0)) {
    if (iVar6 < 3) {
      return 0;
    }
    if ((int)uVar4 < 2) {
      return 0;
    }
    if (local_6._2_2_ < 10) {
      return 0;
    }
    in_DX = (uint)((ulong)(_PTR_DAT_10a8_0000_10a8_7bf8 / 10) >> 0x10);
    FUN_1048_4c24(CONCAT22(puVar5[3],1),2,(ulong)*param_1,(uint)(_PTR_DAT_10a8_0000_10a8_7bf8 / 10))
    ;
    FUN_1010_0cda(*param_1,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
    if (_PTR_DAT_10a8_0000_10a8_7c08 < 0xbb9) {
      if (2000 < _PTR_DAT_10a8_0000_10a8_7c08) {
        uVar4 = 0xf;
        goto LAB_1048_2c6e;
      }
      if (1000 < _PTR_DAT_10a8_0000_10a8_7c08) {
        uVar4 = 0x14;
        goto LAB_1048_2c6e;
      }
      local_6 = 0;
    }
    else {
      uVar4 = 10;
LAB_1048_2c6e:
      local_6 = _PTR_DAT_10a8_0000_10a8_7c08 / (long)(ulong)uVar4;
      in_DX = (uint)(_PTR_DAT_10a8_0000_10a8_7c08 % (long)(ulong)uVar4);
    }
    if ((-1 < (long)local_6) && ((0 < local_6._2_2_ || ((uint)local_6 != 0)))) {
      FUN_1048_4c24(CONCAT22(puVar5[3],1),2,CONCAT22(4,*param_1),(uint)local_6);
      FUN_1010_0cda(*param_1,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
    }
LAB_1048_2d37:
    if (((uint)PTR_DAT_10a8_0000_10a8_0040 & 0xfff0) == 0) {
      piVar2 = (int *)0x0;
      in_DX = 0;
    }
    else {
      piVar2 = FUN_1048_779a((int *)local_a,(undefined *)0x3016);
    }
    local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
    if ((in_DX | (uint)piVar2) != 0) goto LAB_1048_2eff;
    piVar2 = FUN_1048_779a((int *)local_a,(undefined *)0x2fd6);
  }
  else {
    if ((1 < iVar6) && (((int)local_6 != 0 && (4 < local_6._2_2_)))) {
      if (piVar2[1] != -1) {
        if ((undefined *)piVar2[1] != PTR_DAT_10a8_0001_10a8_00c0) {
          if ((undefined *)piVar2[1] == PTR_DAT_10a8_0001_10a8_00c0) {
            return 0;
          }
          FUN_1010_095c((ulong)param_1,&local_12,&local_1a,&local_16);
          uVar8 = (undefined2)((ulong)local_a >> 0x10);
          uVar4 = *(uint *)((int)local_a + 0x18);
          uVar3 = uVar4 & 0xff | ((byte)((ulong)uVar4 >> 8) & 0xf) << 8;
          uVar4 = uVar4 >> 0xc;
          lStackY_44 = CONCAT22(-(uint)(100 < uVar4 * 6) -
                                (((uint)CARRY2(uVar4,uVar4) + (uint)CARRY2(uVar4 * 2,uVar4)) * 2 +
                                (uint)CARRY2(uVar4 * 3,uVar4 * 3)),uVar4 * -6 + 100);
          local_12 = (lStackY_44 * local_12) / 100;
          local_6 = (CONCAT22(-(uint)(1000 < (uint)local_12) - (int)((ulong)local_12 >> 0x10),
                              1000 - (uint)local_12) *
                    CONCAT22((uint)CARRY2(uVar3,uVar3) * 2 + (uint)CARRY2(uVar3 * 2,uVar3 * 2),
                             uVar3 * 4)) / 1000;
          uVar4 = *(uint *)((int)local_a + 0x18) >> 0xc;
          local_e = (CONCAT22(-(uint)(100 < uVar4),100 - uVar4) * *(long *)(puVar5 + 0x2e)) / 100;
          if ((((-1 < (long)local_6) || (*(long *)(puVar5 + 0x2e) < 1)) &&
              (local_e / 5 <= (long)local_6)) && ((99 < (long)local_6 || (local_e < 0x97)))) {
            if (0x31 < (long)local_6) {
              return 0;
            }
            if (local_e < 0x4c) {
              return 0;
            }
          }
          uVar4 = puVar5[0x2e];
          uVar3 = (int)uVar4 / 3;
          if ((int)uVar4 / 3 < (int)local_6 * 3) {
            uVar3 = (int)local_6 * 3;
          }
          if ((int)uVar4 < (int)uVar3) {
            uVar3 = uVar4;
          }
          FUN_1048_4cc2(*param_1,*local_a,uVar3);
          FUN_1010_0cda(*param_1,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
          return 0;
        }
        if (1000 < *(long *)(piVar2 + 0x19)) {
          iVar6 = piVar2[0x19];
          in_DX = iVar6 % 5;
          FUN_1048_4c24(CONCAT22(puVar5[3],1),2,CONCAT22(4,*param_1),iVar6 / 5);
        }
      }
      goto LAB_1048_2d37;
    }
    piVar2 = FUN_1048_76c6((int *)CONCAT22(in_DX,piVar2),(undefined *)0x787c);
  }
  local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
LAB_1048_2eff:
  if ((in_DX | (uint)piVar2) == 0) {
    piVar2 = (int *)FUN_1048_75f8(param_1,(undefined *)0x2fbe);
    local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
    if ((in_DX | (uint)piVar2) == 0) {
      return 0;
    }
    local_28 = *piVar2;
    local_26 = local_26 & 0xff | (uint)((byte)((ulong)local_26 >> 8) & 0xfe) << 8 | 0x200;
    local_2c = piVar2[4];
    local_2a = piVar2[5];
  }
  else {
    pbVar1 = (byte *)((int)_PTR_DAT_10a8_0000_10a8_4b80 + *piVar2 * 0x10 + 10);
    *pbVar1 = *pbVar1 | 0x80;
    local_28 = *piVar2;
    local_26 = local_26 & 0xff | (uint)((byte)((ulong)local_26 >> 8) & 0xfd) << 8 | 0x100;
    iVar6 = *piVar2 * 4;
    local_2c = *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar6);
    local_2a = *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar6);
  }
  local_26 = local_26 & 0xff42 | 0x442;
  local_24 = 0x20003;
  iVar6 = FUN_1048_6444(puVar5,uVar7,(undefined4 *)&local_2c,0);
  if (iVar6 != 0) {
    return 0;
  }
  return 0xffff;
}



undefined2 __cdecl16far FUN_1048_2fbe(undefined2 param_1_00,undefined2 param_2,undefined4 param_3)

{
  if ((undefined *)*(int *)((int)param_3 + 2) != PTR_DAT_10a8_0001_10a8_00c0) {
    return 1;
  }
  return 0;
}



byte __cdecl16far FUN_1048_2fd6(int *param_1,int param_2,int *param_3,int param_4)

{
  undefined4 uVar1;
  byte bVar2;
  undefined2 unaff_SS;

  if ((((param_3 == param_1) && (param_4 == param_2)) ||
      (uVar1 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80,
      bVar2 = *(byte *)((int)uVar1 + *param_3 * 0x10 + 10), bVar2 == 0)) || ((bVar2 & 0x80) != 0)) {
    bVar2 = 0;
  }
  return bVar2;
}



byte __cdecl16far FUN_1048_3016(int *param_1,int param_2,int *param_3,int param_4)

{
  undefined4 uVar1;
  byte bVar2;
  undefined2 unaff_SS;

  if ((((param_3 == param_1) && (param_4 == param_2)) ||
      ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + param_3[1] * 0x76) & 2) != 0)) ||
     ((uVar1 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80,
      bVar2 = *(byte *)(*param_3 * 0x10 + (int)uVar1 + 10), bVar2 == 0 || ((bVar2 & 0x80) != 0)))) {
    bVar2 = 0;
  }
  return bVar2;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1048_3064(void)

{
  long *plVar1;
  int **ppiVar2;
  byte *pbVar3;
  uint *puVar4;
  ulong *puVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined2 *puVar8;
  long lVar9;
  bool bVar10;
  undefined4 uVar11;
  byte bVar12;
  int *piVar13;
  int iVar14;
  uint uVar15;
  int *piVar16;
  uint *puVar17;
  int *piVar18;
  ulong uVar19;
  uint uVar20;
  undefined *puVar21;
  int iVar22;
  undefined4 *puVar23;
  int iVar24;
  byte *pbVar25;
  int iVar26;
  undefined4 *puVar27;
  undefined2 uVar28;
  undefined2 uVar29;
  undefined2 unaff_CS;
  int unaff_SS;
  uint uVar30;
  int iStack_18c;
  undefined4 local_184 [64];
  int local_84;
  undefined4 local_82;
  int local_7e;
  uint local_7c;
  undefined4 local_7a;
  undefined4 local_70;
  int local_6c;
  uint local_6a;
  uint local_60;
  long local_5e [4];
  long local_4e [4];
  undefined4 local_3e;
  long local_32;
  undefined4 local_2e [2];
  int *local_26;
  undefined *local_24;
  ulong local_22;
  undefined4 local_1e;
  int local_1a;
  int *piStack_18;
  undefined *local_16;
  int local_14;
  undefined4 local_12;
  uint local_e;
  undefined4 local_c;
  undefined2 local_8;
  undefined4 local_6;

  iVar14 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_1a = 0;
  piStack_18 = (int *)0x0;
  local_16 = (undefined *)0x0;
  local_c = (uint *)((ulong)local_c & 0xffff0000);
  local_14 = 0;
  local_84 = FUN_1048_6932(0x171,unaff_CS,0x17);
  if ((local_84 == 0x39e) &&
     (iVar22 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76,
     *(char *)((int)&DAT_10a8_888a + iVar22) != '\0')) {
    *(undefined *)((int)&DAT_10a8_888a + iVar22) = 0;
    local_e = (uint)*(byte *)((int)&DAT_10a8_888b + iVar22) << 8;
    FUN_1020_4788(0x22,2,&local_e);
  }
  FUN_1048_6cc8();
  if (((byte)PTR_DAT_10a8_0000_10a8_7a4b & 2) == 0) {
    uVar30 = 0x8040;
  }
  else {
    if (((byte)PTR_DAT_10a8_0000_10a8_79c4 & 2) != 0) goto LAB_1048_30e4;
    uVar30 = 0x6000;
  }
  FUN_1048_746e(uVar30);
LAB_1048_30e4:
  FUN_1048_4768(local_84);
  local_24 = PTR_DAT_10a8_0000_10a8_006c;
  local_12 = (int *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,PTR_DAT_10a8_0000_10a8_006a);
  piVar18 = (int *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  if (PTR_DAT_10a8_0000_10a8_006a <
      PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c) {
    do {
      local_26 = piVar18;
      piVar13 = local_12;
      if ((((int *)local_12)[1] == -1) && (2 < *(byte *)((int *)local_12 + 2))) {
        local_8 = local_8 & 0xff;
        local_e = 0;
        do {
          uVar30 = ((int *)local_12)[local_e + 3];
          uVar19 = local_6 & 0xffffff;
          local_6 = uVar19 | (ulong)(uVar30 >> 0xc) << 0x18;
          bVar12 = (byte)(uVar30 >> 8);
          local_6._3_1_ = bVar12 >> 4;
          if (*(char *)((int)(int *)local_12 + local_e + 0xe) < '!') {
            local_6 = uVar19 | (ulong)(bVar12 >> 5) << 0x18;
          }
          else if ('B' < *(char *)((int)(int *)local_12 + local_e + 0xe)) {
            local_6 = uVar19 | (ulong)(byte)(local_6._3_1_ << 1) << 0x18;
          }
          uVar30 = local_8 & 0xff;
          uVar20 = (uint)(byte)(local_8._1_1_ + local_6._3_1_) << 8;
          local_8 = uVar30 | uVar20;
          local_e = local_e + 1;
        } while ((int)local_e < 4);
        if ((uVar20 & 0x8000) != 0) {
          local_8._0_1_ = (undefined)uVar30;
          local_8 = CONCAT11(0x7f,(undefined)local_8);
        }
        uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
        *(undefined *)((int)uVar11 + *local_12 * 0x10 + 1) = local_8._1_1_;
      }
      iVar22 = *(int *)&PTR_DAT_10a8_0001_10a8_00c0;
      if ((((int *)local_12)[1] == iVar22) || (((int *)local_12)[1] == -1)) {
        if ((((int *)local_12)[1] == iVar22) &&
           (iVar22 = FUN_1020_3626((int)(int *)local_12,local_12._2_2_,iVar22), iVar22 < 0)) {
          local_1a = local_1a + 1;
          uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
          *(undefined *)((int)uVar11 + *(int *)local_12 * 0x10 + 2) = 1;
          goto LAB_1048_31e1;
        }
        uVar19 = (ulong)local_12 & 0xffff0000;
        local_12 = (int *)(uVar19 | (ulong)piVar13 & 0xffff);
        local_12._2_2_ = (uint)(uVar19 >> 0x10);
        if (((*(byte *)((int)(int *)local_12 + 5) & 2) != 0) &&
           (199 < *(long *)((int *)local_12 + 0x19))) {
          FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*(int *)local_12);
          FUN_1068_0100(local_184);
          local_8 = local_8 & 0xff;
          local_c = (uint *)((ulong)local_c & 0xffff);
          local_e = 0;
          uVar19 = *(ulong *)&PTR_DAT_10a8_0000_10a8_4182;
          uVar29 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4184;
          local_6 = uVar19 & 0xffff0000 | (ulong)((int)uVar19 + 4);
          local_12 = (int *)((ulong)local_12 & 0xffff0000 | (ulong)piVar13 & 0xffff);
          uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4182;
          uVar28 = (undefined2)((ulong)uVar11 >> 0x10);
          pbVar25 = (byte *)((int)uVar11 + 3);
          if (*pbVar25 != 0) {
            do {
              if ((*(uint *)((int)(ulong *)local_6 + 2) & 0xe) == 4) {
                uVar19 = *(ulong *)local_6 & 0x1fc00;
                iStack_18c = (int)(uVar19 >> 0x10);
                if ((uVar19 == 0x1c00) ||
                   ((iVar14 = (int)uVar19, iVar14 == 0x2000 && (iStack_18c == 0)))) {
                  local_c = (uint *)0x1;
                }
                else if ((iVar14 == 0x800) && (iStack_18c == 0)) {
                  local_16 = (undefined *)&DAT_10a8_0001;
                }
                else if (((iVar14 == 0x3800) && (iStack_18c == 0)) ||
                        ((iVar14 == 0x3c00 && (iStack_18c == 0)))) {
                  local_14 = 1;
                }
                local_8 = CONCAT11(1,(undefined)local_8);
              }
              local_e = local_e + 1;
              local_6 = local_6 & 0xffff0000 | ZEXT24((ulong *)local_6 + 1);
              iVar14 = unaff_SS;
            } while ((int)local_e < (int)(uint)*pbVar25);
          }
          if (local_8._1_1_ == '\0') {
            uVar30 = 0;
            if (*(int *)&PTR_DAT_10a8_0000_10a8_0042 == 0) {
              if (0x1e < *(int *)&PTR_DAT_10a8_0000_10a8_003a) {
                FUN_1048_6568(1,1,2,1);
                if (((0x32 < *(int *)&PTR_DAT_10a8_0000_10a8_003a) &&
                    (FUN_1048_6568(1,1,2,1), 0x46 < *(int *)&PTR_DAT_10a8_0000_10a8_003a)) &&
                   (FUN_1048_6568(1,1,2,1), 0x5a < *(int *)&PTR_DAT_10a8_0000_10a8_003a)) {
                  iVar22 = 1;
                  goto LAB_1048_33c2;
                }
LAB_1048_33ca:
                uVar30 = 1;
              }
            }
            else if (((local_16 == (undefined *)0x0) && (*(int *)0x7375 == 0)) &&
                    (*(uint *)&PTR_DAT_10a8_0000_10a8_0042 < 100)) {
              local_16 = (undefined *)&DAT_10a8_0001;
              FUN_1048_6568(2,1,2,1);
              FUN_1048_6568(2,1,2,1);
              iVar22 = 2;
LAB_1048_33c2:
              FUN_1048_6568(iVar22,1,2,1);
              goto LAB_1048_33ca;
            }
            if (local_14 == 0) {
              uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
              piVar18 = (int *)(*(int *)((int)uVar11 + 2) *
                               (*(uint *)&PTR_DAT_10a8_0000_10a8_0042 / 0x14));
              if ((int)piStack_18 < (int)piVar18) {
                piVar18 = piStack_18;
              }
              if ((*(byte *)&PTR_DAT_10a8_0000_10a8_7a4b & 2) == 0) {
                ppiVar2 = (int **)0x7a50;
                if (*ppiVar2 <= piVar18 && piVar18 != *ppiVar2) {
                  FUN_1048_6568(0xf,1,2,1);
                  FUN_1048_6568(0xf,1,2,1);
                  FUN_1048_6568(6,1,2,1);
                  FUN_1048_6568(6,1,2,1);
                  iVar22 = 6;
LAB_1048_34cb:
                  FUN_1048_6568(iVar22,1,2,1);
                  uVar30 = 1;
                  local_14 = 1;
                }
              }
              else if (((*(byte *)&PTR_DAT_10a8_0000_10a8_79c4 & 2) == 0) &&
                      (ppiVar2 = (int **)0x79c7, *ppiVar2 <= piVar18 && piVar18 != *ppiVar2)) {
                FUN_1048_6568(0xe,1,2,1);
                FUN_1048_6568(0xe,1,2,1);
                FUN_1048_6568(0xd,1,2,1);
                FUN_1048_6568(0xd,1,2,1);
                iVar22 = 0xd;
                goto LAB_1048_34cb;
              }
            }
            if (0x14 < *(uint *)&PTR_DAT_10a8_0000_10a8_0042) {
              iVar22 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_8860 +
                               *(int *)&PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
              uVar15 = (int)(iVar22 + (iVar22 >> 0xf & 3U)) >> 2;
              uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
              uVar20 = *(int *)((int)uVar11 + 2) * 4 + local_1a;
              if ((int)uVar20 < (int)uVar15) {
                uVar20 = uVar15;
              }
              if ((*(byte *)0x77a8 & 2) == 0) {
                puVar4 = (uint *)0x77ab;
                if (*puVar4 <= uVar20 && uVar20 != *puVar4) {
                  iVar22 = 10;
                  goto LAB_1048_3559;
                }
              }
              else if ((*(byte *)0x78b6 & 2) == 0) {
                puVar4 = (uint *)0x78b9;
                if (*puVar4 <= uVar20 && uVar20 != *puVar4) {
                  iVar22 = 0xc;
LAB_1048_3559:
                  FUN_1048_6568(iVar22,1,2,1);
                  uVar30 = 1;
                }
              }
              else if (((*(byte *)&PTR_DAT_10a8_0000_10a8_7262 & 2) == 0) &&
                      (puVar4 = (uint *)0x7265, *puVar4 <= uVar20 && uVar20 != *puVar4)) {
                iVar22 = 0;
                goto LAB_1048_3559;
              }
            }
            uVar19 = (ulong)local_c & 0xffff;
            local_c = (uint *)(uVar19 | (ulong)uVar30 << 0x10);
            local_c._0_2_ = (int)uVar19;
            if (((int)local_c == 0) && (*(uint *)&PTR_DAT_10a8_0000_10a8_0042 < 0x96)) {
              if ((*(byte *)&PTR_DAT_10a8_0000_10a8_769a & 2) == 0) {
                uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
                uVar30 = *(int *)((int)uVar11 + 2) << 2;
                puVar4 = (uint *)0x769f;
                if (*puVar4 <= uVar30 && uVar30 != *puVar4) {
                  iVar22 = 8;
LAB_1048_35bf:
                  FUN_1048_6568(iVar22,1,2,1);
                  local_c = (uint *)0x10001;
                }
              }
              else if (((*(byte *)0x7613 & 2) == 0) &&
                      (uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84,
                      uVar30 = *(int *)((int)uVar11 + 2) * 2, puVar4 = (uint *)0x7616,
                      *puVar4 <= uVar30 && uVar30 != *puVar4)) {
                iVar22 = 7;
                goto LAB_1048_35bf;
              }
            }
            if (((*(byte *)0x793d & 2) == 0) &&
               (uVar30 = *(uint *)&PTR_DAT_10a8_0000_10a8_0042,
               uVar30 = (uVar30 - 0x32 & -(uint)(uVar30 < 0x32)) + 0x32, puVar4 = (uint *)0x7942,
               *puVar4 <= uVar30 && uVar30 != *puVar4)) {
              uVar30 = 0xd;
LAB_1048_3613:
              FUN_1048_7336((ulong)local_12,&local_3e);
              FUN_1048_73d8(*(undefined4 *)((int)local_12 + 0x38),local_4e);
              local_e = 0;
              local_6 = local_6 & 0xffff0000 | (ulong)uVar30;
              do {
                iVar22 = local_e * 4;
                plVar1 = &local_3e + local_e;
                *plVar1 = *plVar1 - local_4e[local_e];
                if (*(int *)((int)&local_3e + iVar22 + 2) < 0) goto LAB_1048_36cd;
                local_e = local_e + 1;
              } while ((int)local_e < 4);
              local_e = 0;
              iVar22 = (int)(ulong *)local_6 * 0x87;
              do {
                FUN_1010_2474(*(undefined2 *)&PTR_DAT_10a8_0001_10a8_00c0,
                              CONCAT13((char)((uint)iVar14 >> 8),
                                       CONCAT12((char)iVar14,
                                                (int)&PTR_DAT_10a8_0000_10a8_71e6 + iVar22)),
                              (undefined2 *)local_2e);
                puVar27 = local_2e;
                puVar23 = &local_3e;
                local_6 = local_6 & 0xffff | ZEXT24(puVar23) << 0x10;
                do {
                  uVar30 = *(uint *)puVar27;
                  puVar6 = puVar23;
                  uVar20 = *(uint *)puVar6;
                  *(uint *)puVar6 = *(uint *)puVar6 - uVar30;
                  puVar4 = (uint *)((int)puVar23 + 2);
                  *puVar4 = *puVar4 - (uint)(uVar20 < uVar30);
                  if ((int)*(uint *)((int)puVar23 + 2) < 0) goto LAB_1048_36cd;
                  puVar27 = (undefined4 *)((int)puVar27 + 2);
                  puVar23 = puVar23 + 1;
                } while (puVar23 < local_2e);
                local_c = (uint *)CONCAT22(1,(int)local_c);
                FUN_1048_6568((int)(ulong *)local_6,1,2,1);
                local_e = local_e + 1;
              } while ((int)local_e < 5);
            }
            else if (((*(byte *)&PTR_DAT_10a8_0000_10a8_72e9 & 2) == 0) &&
                    ((uVar30 = *(int *)&PTR_DAT_10a8_0002_10a8_0038 + 3, puVar4 = (uint *)0x72ee,
                     *puVar4 <= uVar30 && uVar30 != *puVar4 &&
                     (*(char *)&PTR_DAT_10a8_0000_10a8_72a9 != '\x01')))) {
              uVar30 = 1;
              goto LAB_1048_3613;
            }
LAB_1048_36cd:
          }
          else {
            local_c._2_2_ = 0;
          }
          FUN_1068_07fa(local_c._2_2_);
        }
      }
      else {
        uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
        *(char *)((int)uVar11 + *local_12 * 0x10 + 10) =
             ((byte)((uint)((int *)local_12)[2] >> 9) & 1) + 1;
        iVar22 = FUN_1020_3506((int)(int *)local_12,local_12._2_2_,
                               *(int *)&PTR_DAT_10a8_0001_10a8_00c0);
        if (0 < iVar22) {
          uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
          *(undefined *)((int)uVar11 + *(int *)local_12 * 0x10 + 3) = 1;
        }
        piStack_18 = (int *)((int)piStack_18 + 1);
LAB_1048_31e1:
        local_12 = (int *)((ulong)local_12 & 0xffff0000 | (ulong)piVar13 & 0xffff);
      }
      local_12 = (int *)((ulong)local_12 & 0xffff0000 | ZEXT24((int *)((int)(int *)local_12 + 0x3c))
                        );
      piVar18 = local_26;
    } while ((int *)((int)(int *)local_12 + 0x3c) < local_26);
  }
  local_22 = 0;
  local_1e = 0;
  local_14 = 0;
  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
    local_6 = local_6 & 0xffff;
    do {
      uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      uVar29 = (undefined2)((ulong)uVar11 >> 0x10);
      iVar22 = (int)uVar11;
      puVar8 = (undefined2 *)*(uint *)(iVar22 + local_6._2_2_);
      uVar30 = *(uint *)(iVar22 + local_6._2_2_ + 2);
      local_c = (uint *)((ulong)local_c & 0xffff | (ulong)uVar30 << 0x10);
      uVar20 = uVar30 | (uint)puVar8;
      if (uVar20 == 0) break;
      if (puVar8[1] != *(int *)&PTR_DAT_10a8_0001_10a8_00c0) {
        *(ulong *)(puVar8 + 0x34) = local_1e;
        local_1e = CONCAT22(uVar30,puVar8);
        goto LAB_1048_39b4;
      }
      iVar22 = FUN_1048_6c3a((int)puVar8,uVar30);
      if (iVar22 != 0) {
        *(ulong *)(puVar8 + 0x34) = local_22;
        local_22 = (ulong)local_c & 0xffff0000 | ZEXT24(puVar8);
      }
      if (((puVar8[0xd] == 0) && (puVar8[0xe] == 0)) || ((int)puVar8[0x31] < 1)) {
        iVar22 = FUN_1048_6c7c((int)puVar8,local_c._2_2_);
        uVar19 = local_6;
        if (iVar22 == 0) {
          if (puVar8[8] == 0) goto LAB_1048_39b4;
          local_6 = CONCAT22(local_6._2_2_,0xffff);
          if ((int)puVar8[0x31] < 2) {
            uVar30 = puVar8[3];
LAB_1048_3868:
            local_6 = uVar19 & 0xffff0000 | (ulong)uVar30;
          }
          else {
            uVar11 = *(undefined4 *)(puVar8 + 0x32);
            if ((*(byte *)((int)uVar11 + 0x1d) & 3) == 1) {
              uVar11 = *(undefined4 *)(puVar8 + 0x32);
              uVar30 = *(uint *)((int)uVar11 + 0x1a);
              goto LAB_1048_3868;
            }
          }
          if ((ulong *)local_6 != (ulong *)0xffff) {
            uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
            if (*(char *)((int)uVar11 + (int)(ulong *)local_6 * 0x10 + 3) != '\0')
            goto LAB_1048_3886;
            local_c = (uint *)((ulong)local_c & 0xffff0000 | ZEXT24(puVar8));
            piVar18 = FUN_1010_018e((int)(ulong *)local_6);
            local_12 = (int *)((ulong)local_12 & 0xffff | (ulong)uVar20 << 0x10);
            if ((((uVar20 | (uint)piVar18) != 0) && (piVar18[1] != -1)) &&
               (piVar18[1] != *(int *)&PTR_DAT_10a8_0001_10a8_00c0)) goto LAB_1048_3972;
          }
        }
        else {
          uVar30 = 0xffff;
          if ((int)puVar8[0x31] < 2) {
            uVar30 = puVar8[3];
          }
          else {
            uVar11 = *(undefined4 *)(puVar8 + 0x32);
            if ((*(byte *)((int)uVar11 + 0x1d) & 3) == 1) {
              uVar11 = *(undefined4 *)(puVar8 + 0x32);
              uVar30 = *(uint *)((int)uVar11 + 0x1a);
            }
          }
          if (uVar30 != 0xffff) {
            local_6 = local_6 & 0xffff0000 | (ulong)uVar30;
            piVar18 = FUN_1010_018e(uVar30);
            local_12 = (int *)CONCAT22(uVar20,piVar18);
            if (((uVar20 | (uint)piVar18) == 0) ||
               ((piVar18[1] != -1 && (piVar18[1] != *(int *)&PTR_DAT_10a8_0001_10a8_00c0)))) {
LAB_1048_3886:
              uVar19 = (ulong)local_c & 0xffff0000;
              local_c = (uint *)(uVar19 | ZEXT24(puVar8));
              uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
              if ((*(char *)((int)uVar11 + (int)(ulong *)local_6 * 0x10 + 3) == '\0') ||
                 (local_c._2_2_ = (int)(uVar19 >> 0x10), *(long *)(puVar8 + 0x2e) < 1))
              goto LAB_1048_3972;
              puVar27 = &local_70;
              for (iVar22 = 4; iVar22 != 0; iVar22 = iVar22 + -1) {
                puVar6 = puVar27;
                puVar27 = puVar27 + 1;
                *puVar6 = 0;
              }
              *(undefined2 *)puVar27 = 0;
              local_70 = *(undefined4 *)
                          ((int)&PTR_DAT_10a8_0000_10a8_6238 + (int)(ulong *)local_6 * 4);
              local_6c = (int)(ulong *)local_6;
              local_6a = local_6a & 0xf1 | (uint)((byte)((ulong)local_6a >> 8) & 0xfd) << 8 | 0x501;
              local_60 = local_60 & 0xff | (uint)((byte)((ulong)local_60 >> 8) & 0xf) << 8 | 0x5000;
              FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*puVar8);
              uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
              uVar29 = (undefined2)((ulong)uVar11 >> 0x10);
              iVar22 = (int)uVar11;
              if ((ulong *)*(int *)(iVar22 + 8) == (ulong *)local_6) {
                puVar27 = (undefined4 *)(iVar22 + 4);
              }
              else {
                puVar27 = (undefined4 *)(iVar22 + 0x16);
              }
              puVar23 = &local_70;
              for (iVar22 = 4; iVar22 != 0; iVar22 = iVar22 + -1) {
                puVar7 = puVar27;
                puVar27 = puVar27 + 1;
                puVar6 = puVar23;
                puVar23 = puVar23 + 1;
                *puVar7 = *puVar6;
              }
              *(undefined2 *)puVar27 = *(undefined2 *)puVar23;
              FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
              uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
              pbVar3 = (byte *)((int)uVar11 + (int)(ulong *)local_6 * 0x10 + 3);
              *pbVar3 = *pbVar3 | 0x80;
            }
          }
        }
      }
      else {
        if (puVar8[3] == -1) {
          if ((int)puVar8[0x31] < 2) goto LAB_1048_39b4;
          uVar11 = *(undefined4 *)(puVar8 + 0x32);
          iVar22 = *(int *)((int)uVar11 + 0x1a);
        }
        else {
          local_c = (uint *)((ulong)local_c & 0xffff0000 | ZEXT24(puVar8));
          piVar18 = FUN_1010_018e(puVar8[3]);
          if (piVar18[1] != -1) {
LAB_1048_3972:
            FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*local_c);
            *(undefined2 *)&PTR_DAT_10a8_0000_10a8_7bc4 = 1;
            uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
            *(undefined *)((int)uVar11 + 3) = 1;
            FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
            uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
            pbVar3 = (byte *)((int)uVar11 + 10);
            *pbVar3 = *pbVar3 & 0xf0;
            FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
            goto LAB_1048_39b4;
          }
          iVar22 = puVar8[3];
        }
        uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
        pbVar3 = (byte *)((int)uVar11 + iVar22 * 0x10 + 1);
        *pbVar3 = *pbVar3 | 0x80;
      }
LAB_1048_39b4:
      local_6 = local_6 & 0xffff | (ulong)(local_6._2_2_ + 4) << 0x10;
      local_14 = local_14 + 1;
    } while (local_14 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  *(undefined2 *)&PTR_DAT_10a8_0000_10a8_5736 = 0;
  local_14 = 0;
  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
    local_1a = 0;
    do {
      uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      uVar29 = (undefined2)((ulong)uVar11 >> 0x10);
      iVar22 = (int)uVar11;
      puVar17 = *(uint **)(iVar22 + local_1a);
      uVar30 = *(uint *)(iVar22 + local_1a + 2);
      local_c = (uint *)((ulong)local_c & 0xffff | (ulong)uVar30 << 0x10);
      local_1e._2_2_ = uVar30 | (uint)puVar17;
      if (local_1e._2_2_ == 0) break;
      if (puVar17[1] == *(uint *)&PTR_DAT_10a8_0001_10a8_00c0) {
        if ((puVar17[0xd] == 0) && (puVar17[0xe] == 0)) {
          if ((int)puVar17[0x31] < 2) {
            if (puVar17[8] == 0) {
              if ((puVar17[6] == 0) && (puVar17[0x12] == 0)) {
                if ((puVar17[0x14] == 0) && (puVar17[0x15] == 0)) {
                  if (((puVar17[7] != 0) || (puVar17[0xf] != 0)) || (puVar17[0x13] != 0)) {
                    FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*puVar17);
                    if ((puVar17[3] == 0xffff) ||
                       (*(int *)&PTR_DAT_10a8_0000_10a8_7bd8 != *(int *)&PTR_DAT_10a8_0001_10a8_00c0
                       )) {
                      if ((puVar17[7] != 0) &&
                         ((*(char *)&PTR_DAT_10a8_0000_10a8_72a9 == '\x01' &&
                          (*(long *)(puVar17 + 0x26) < 2)))) goto LAB_1048_3e21;
                    }
                    else {
                      FUN_1048_4c24(CONCAT22(puVar17[3],1),2,(ulong)*puVar17,0x32);
                      FUN_1010_0cda(*puVar17,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
                    }
                    FUN_1048_789c((ulong)local_c & 0xffff0000 | ZEXT24(puVar17),local_22,local_1e,
                                  *(uint *)&PTR_DAT_10a8_0000_10a8_0040 >> 4);
                  }
                }
                else {
                  FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*puVar17);
                  if (puVar17[3] == 0xffff) {
                    local_c = (uint *)((ulong)local_c & 0xffff0000 | ZEXT24(puVar17));
                    local_12 = (int *)CONCAT22(local_16,piStack_18);
LAB_1048_3be7:
                    if ((*(uint *)&PTR_DAT_10a8_0000_10a8_0040 & 0xfff0) == 0) {
                      piVar18 = (int *)0x0;
                      local_1e._2_2_ = 0;
                    }
                    else {
                      piVar18 = FUN_1048_779a(local_12,(undefined *)0x3016);
                    }
                    local_6 = local_6 & 0xffff | (ulong)local_1e._2_2_ << 0x10;
                    local_1e._2_2_ = local_1e._2_2_ | (uint)piVar18;
                    if (local_1e._2_2_ == 0) {
                      piVar18 = FUN_1048_779a(local_12,(undefined *)0x2fd6);
                      local_6 = local_6 & 0xffff | (ulong)local_1e._2_2_ << 0x10;
                    }
                    local_12 = (int *)(local_6 & 0xffff0000 | ZEXT24(piVar18));
                    if ((local_6._2_2_ | (uint)piVar18) != 0) {
                      uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
                      pbVar3 = (byte *)((int)uVar11 + *local_12 * 0x10 + 10);
                      *pbVar3 = *pbVar3 | 0x80;
                      local_7e = *local_12;
                      local_82 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *local_12 * 4);
                      local_7c = local_7c & 0x42 | (uint)((byte)((ulong)local_7c >> 8) & 0xfd) << 8
                                 | 0x542;
                      local_7a = 0x20003;
                      FUN_1048_6444((uint *)local_c,(int)((ulong)local_c >> 0x10),&local_82,0);
                    }
                  }
                  else {
                    piVar18 = FUN_1010_018e(puVar17[3]);
                    local_12 = (int *)((ulong)local_12 & 0xffff | (ulong)local_1e._2_2_ << 0x10);
                    if (piVar18[1] == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) {
                      if (((*(byte *)((int)piVar18 + 5) & 2) == 0) ||
                         (((1 < (int)puVar17[0x14] || (1 < (int)puVar17[0x15])) &&
                          ((2 < (int)puVar17[0x13] || (2 < (int)puVar17[0xc])))))) {
                        FUN_1048_4c24(CONCAT22(puVar17[3],1),2,(ulong)*puVar17,0x96);
                        FUN_1010_0cda(*puVar17,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
                        local_c = (uint *)((ulong)local_c & 0xffff0000 | ZEXT24(puVar17));
                        local_12 = (int *)((ulong)local_12 & 0xffff0000 | ZEXT24(piVar18));
                        goto LAB_1048_3be7;
                      }
                    }
                    else {
                      local_c = (uint *)((ulong)local_c & 0xffff0000 | ZEXT24(puVar17));
                      local_12 = (int *)CONCAT22(local_1e._2_2_,piVar18);
                      if (piVar18[1] == -1) goto LAB_1048_3be7;
                      local_6 = local_1e & 0xffff0000 | local_6 & 0xffff;
                      local_1e._2_2_ = local_1e._2_2_ | (uint)local_1e;
                      if (local_1e._2_2_ != 0) {
                        local_6 = local_1e;
                        do {
                          if (((*(uint *)((uint)local_1e + 8) == puVar17[4]) &&
                              (*(uint *)((uint)local_1e + 10) == puVar17[5])) &&
                             (iVar22 = FUN_1048_6bf8((uint)local_1e,local_6._2_2_), iVar22 != 0))
                          goto LAB_1048_3be7;
                          uVar30 = *(uint *)((uint)local_1e + 0x68);
                          local_1e._2_2_ = *(uint *)((uint)local_1e + 0x6a);
                          local_6 = local_6 & 0xffff | (ulong)local_1e._2_2_ << 0x10;
                          local_1e._2_2_ = local_1e._2_2_ | uVar30;
                          local_1e._0_2_ = uVar30;
                        } while (local_1e._2_2_ != 0);
                      }
                    }
                  }
                }
              }
              else {
                local_c = (uint *)CONCAT22(uVar30,puVar17);
                piVar18 = *(int **)&PTR_DAT_10a8_0000_10a8_006a;
                local_24 = (undefined *)*(uint *)&PTR_DAT_10a8_0000_10a8_006c;
                local_12 = (int *)((ulong)local_12 & 0xffff | ZEXT24(local_24) << 0x10);
                piVar16 = piVar18 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e;
                while ((piVar18 < piVar16 &&
                       ((local_26 = piVar16, piVar18[1] != *(int *)&PTR_DAT_10a8_0001_10a8_00c0 ||
                        (iVar14 = unaff_SS, (*(byte *)((int)piVar18 + 5) & 2) == 0))))) {
                  piVar18 = piVar18 + 0x1e;
                  iVar14 = unaff_SS;
                }
                local_16 = local_24;
                if (piVar16 == piVar18) {
                  piVar18 = (int *)0x0;
                  local_16 = (undefined *)0x0;
                }
                if (((uint)local_16 | (uint)piVar18) == 0) break;
                local_12 = (int *)0x0;
                local_e = 0;
                uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
                uVar30 = (uint)((ulong)uVar11 >> 0x10);
                if (0 < *(int *)((int)uVar11 + 2)) {
                  do {
                    iVar26 = 0;
                    iVar22 = *(int *)(local_e * 0x14 + *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 6);
                    if (0 < iVar22) {
                      puVar17 = (uint *)(local_e * 0x14 + *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 8);
                      local_6 = local_6 & 0xffff | (ulong)uVar30 << 0x10;
                      do {
                        iVar14 = unaff_SS;
                        if (*local_c == *puVar17) break;
                        puVar17 = puVar17 + 1;
                        iVar26 = iVar26 + 1;
                      } while (iVar26 < iVar22);
                    }
                    if (iVar26 < iVar22) break;
                    local_e = local_e + 1;
                    uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
                    uVar30 = (uint)((ulong)uVar11 >> 0x10);
                    puVar4 = (uint *)((int)uVar11 + 2);
                  } while (*puVar4 != local_e && (int)local_e <= (int)*puVar4);
                }
                local_12._0_2_ = (int *)0x0;
                uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
                uVar29 = (undefined2)((ulong)uVar11 >> 0x10);
                iVar22 = (int)uVar11;
                puVar4 = (uint *)(iVar22 + 2);
                piStack_18 = piVar18;
                if (*puVar4 != local_e && (int)local_e <= (int)*puVar4) {
                  puVar21 = local_16;
                  local_12._0_2_ = FUN_1010_018e(*(int *)(iVar22 + local_e * 0x14 + 4));
                  local_12 = (int *)((ulong)local_12 & 0xffff | ZEXT24(puVar21) << 0x10);
                }
                if ((local_12._2_2_ | (uint)(int *)local_12) == 0) {
                  local_6 = local_6 & 0xffff | ZEXT24(local_16) << 0x10;
                  local_12._0_2_ = piStack_18;
                }
                else {
                  local_6 = (ulong)local_12 & 0xffff0000 | local_6 & 0xffff;
                }
                FUN_1048_5b4c(local_c,(uint *)(local_6 & 0xffff0000 | ZEXT24((int *)local_12)));
              }
            }
            else {
              FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*puVar17);
              if ((((puVar17[3] == 0xffff) ||
                   (*(int *)&PTR_DAT_10a8_0000_10a8_7bd8 != *(int *)&PTR_DAT_10a8_0001_10a8_00c0))
                  || (*(long *)&PTR_DAT_10a8_0000_10a8_7c08 < 0x32)) &&
                 (*(long *)(puVar17 + 0x2e) == 0)) {
                if ((((*(int *)&PTR_DAT_10a8_0000_10a8_7b68 != -1) &&
                     (*(int *)&PTR_DAT_10a8_0000_10a8_7bd8 == *(int *)&PTR_DAT_10a8_0001_10a8_00c0))
                    && ((*(byte *)&DAT_10a8_7bdb & 2) != 0)) ||
                   (iVar22 = FUN_1048_803e(puVar17,local_c._2_2_), iVar22 == 0)) {
LAB_1048_3e21:
                  uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bc6;
                  uVar29 = (undefined2)((ulong)uVar11 >> 0x10);
                  iVar22 = (int)uVar11;
                  *(uint *)(iVar22 + 10) = *(uint *)(iVar22 + 10) & 0xfff5 | 5;
                  FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
                }
              }
              else {
                iVar22 = FUN_1048_4dd6((ulong)local_c & 0xffff0000 | ZEXT24(puVar17));
                if (iVar22 != -1) {
                  FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*puVar17);
                  if ((puVar17[3] != 0xffff) &&
                     (*(int *)&PTR_DAT_10a8_0000_10a8_7bd8 == *(int *)&PTR_DAT_10a8_0001_10a8_00c0))
                  {
                    FUN_1048_4c24(CONCAT22(puVar17[3],1),2,(ulong)*puVar17,100);
                    FUN_1048_4c24(CONCAT22(puVar17[3],1),2,(ulong)CONCAT12(4,*puVar17),0x19);
                    FUN_1010_0cda(*puVar17,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
                  }
                  FUN_1048_4d38(puVar17,local_c._2_2_,iVar22);
                  uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
                  *(undefined *)((int)uVar11 + iVar22 * 0x10 + 0xf) = 4;
                }
              }
            }
          }
        }
        else if (puVar17[3] != 0xffff) {
          FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*puVar17);
          uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
          if (*(byte *)((int)uVar11 + puVar17[3] * 0x10 + 1) < 4) {
            piVar18 = FUN_1048_779a((int *)CONCAT22(iVar14,0x7bd6),
                                    (undefined *)((int)s_destroying__d_ship_10a8_4b31 + 0xd));
            local_12 = (int *)((ulong)local_12 & 0xffff | (ulong)local_1e._2_2_ << 0x10);
            if ((local_1e._2_2_ | (uint)piVar18) != 0) {
              FUN_1048_4c24(CONCAT22(puVar17[3],1),2,(ulong)*puVar17,100);
              FUN_1010_0cda(*puVar17,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
              local_7e = *piVar18;
              local_82 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *piVar18 * 4);
              local_7c = local_7c & 100 | (uint)((byte)((ulong)local_7c >> 8) & 0xfd) << 8 | 0x564;
              FUN_1048_6444(puVar17,local_c._2_2_,&local_82,1);
              pbVar3 = (byte *)(*piVar18 * 0x10 + *(int *)&PTR_DAT_10a8_0000_10a8_4b80 + 1);
              *pbVar3 = *pbVar3 | 0x80;
              uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
              pbVar3 = (byte *)((int)uVar11 + puVar17[3] * 0x10 + 1);
              *pbVar3 = *pbVar3 & 0x80;
            }
          }
        }
      }
      local_1a = local_1a + 4;
      local_14 = local_14 + 1;
    } while (local_14 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  iVar22 = 0;
  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
    iVar26 = 0;
    do {
      uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      local_c = *(uint **)((int)uVar11 + iVar26);
      if (local_c == (uint *)0x0) break;
      uVar29 = (undefined2)((ulong)local_c >> 0x10);
      iVar24 = (int)local_c;
      if ((*(int *)(iVar24 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
         (1 < *(int *)(iVar24 + 0x62))) {
        if (*(uint *)&PTR_DAT_10a8_0000_10a8_0042 < 5) {
          local_e = 0x10;
        }
        else {
          local_e = 0xffff;
          iVar24 = FUN_1048_6c7c(iVar24,uVar29);
          if (iVar24 != 0) {
            local_e = 0x1e;
          }
        }
        FUN_1048_552a(local_c,local_e);
      }
      iVar26 = iVar26 + 4;
      iVar22 = iVar22 + 1;
    } while (iVar22 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  piVar18 = *(int **)&PTR_DAT_10a8_0000_10a8_006a;
  local_24 = (undefined *)*(uint *)&PTR_DAT_10a8_0000_10a8_006c;
  local_12 = (int *)((ulong)local_12 & 0xffff | ZEXT24(local_24) << 0x10);
  piVar16 = piVar18 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e;
  if (piVar18 < piVar18 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e) {
    do {
      local_26 = piVar16;
      if ((((piVar18[1] == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
           ((*(byte *)((int)piVar18 + 5) & 2) == 0)) && (0x4f < *(long *)(piVar18 + 0x19))) &&
         (uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80,
         *(char *)((int)uVar11 + *piVar18 * 0x10 + 2) == '\0')) {
        local_e = 0;
        uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
        uVar29 = (undefined2)((ulong)uVar11 >> 0x10);
        iVar22 = (int)uVar11;
        if (0 < *(int *)(iVar22 + 2)) {
          uVar19 = (ulong)local_12 & 0xffff0000;
          local_12 = (int *)(uVar19 | ZEXT24(piVar18));
          do {
            local_12._2_2_ = (uint)(uVar19 >> 0x10);
            if (*(int *)(iVar22 + local_e * 0x14 + 4) == *piVar18) break;
            local_e = local_e + 1;
            uVar29 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4b86;
            puVar4 = (uint *)(iVar22 + 2);
          } while (*puVar4 != local_e && (int)local_e <= (int)*puVar4);
        }
        if (*(uint *)(iVar22 + 2) != local_e) {
          FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*piVar18);
          FUN_1068_0100(local_184);
          local_e = 0;
          uVar30 = *(uint *)&PTR_DAT_10a8_0000_10a8_4184;
          local_6 = local_6 & 0xffff | (ulong)uVar30 << 0x10;
          uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4182;
          uVar29 = (undefined2)((ulong)uVar11 >> 0x10);
          pbVar25 = (byte *)((int)uVar11 + 3);
          if (*pbVar25 != 0) {
            local_12 = (int *)((ulong)local_12 & 0xffff0000 | ZEXT24(piVar18));
            puVar5 = *(ulong **)&PTR_DAT_10a8_0000_10a8_4182;
            do {
              if (((*(uint *)((int)puVar5 + 6) & 0xe) == 2) &&
                 (iVar14 = unaff_SS, (puVar5[1] & 0x1fc00) == 0)) break;
              local_e = local_e + 1;
              iVar14 = unaff_SS;
              puVar5 = puVar5 + 1;
            } while ((int)local_e < (int)(uint)*pbVar25);
          }
          bVar10 = (int)(uint)*pbVar25 <= (int)local_e;
          if (bVar10) {
            FUN_1048_6568(0,1,1,1);
          }
          FUN_1068_07fa((uint)bVar10);
        }
      }
      piVar18 = piVar18 + 0x1e;
      piVar16 = local_26;
    } while (piVar18 < local_26);
  }
  FUN_1048_671e(local_84);
  piVar18 = (int *)(*(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x3c +
                   *(int *)&PTR_DAT_10a8_0000_10a8_006a);
  local_24 = (undefined *)*(uint *)&PTR_DAT_10a8_0000_10a8_006c;
  local_12._0_2_ = *(int **)&PTR_DAT_10a8_0000_10a8_006a;
  local_12 = (int *)((ulong)local_12 & 0xffff | ZEXT24(local_24) << 0x10);
  if (piVar18 <= (int *)local_12) {
LAB_1048_473b:
    if ((-(uint)((*(byte *)&PTR_DAT_10a8_0000_10a8_0040 & 8) == 0) & 0xfff5) + 0x33 <
        *(uint *)&PTR_DAT_10a8_0000_10a8_0042) {
      FUN_1048_7c48(local_184);
    }
    FUN_1048_5150();
    return;
  }
  local_12 = (int *)CONCAT22(local_24,(int *)local_12);
  local_26 = piVar18;
LAB_1048_41c3:
  if ((((int *)local_12)[1] == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
     ((0x3b < *(long *)((int *)local_12 + 0x19) ||
      (uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80,
      *(char *)((int)uVar11 + *(int *)local_12 * 0x10 + 2) != '\0')))) {
    FUN_1048_7336((ulong)local_12 & 0xff000000 |
                  (ulong)CONCAT12((char)((ulong)local_12 >> 0x10),(int *)local_12),&local_3e);
    FUN_1048_73d8(*(undefined4 *)((int *)local_12 + 0x1c),local_4e);
    FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*(int *)local_12);
    FUN_1068_0100(local_184);
    local_c = (uint *)((ulong)local_c & 0xffff);
    uVar19 = (ulong)local_12 & 0xffff0000;
    local_12 = (int *)(uVar19 | ZEXT24((int *)local_12));
    local_12._2_2_ = (uint)(uVar19 >> 0x10);
    uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
    if (*(char *)((int)uVar11 + *(int *)local_12 * 0x10 + 2) == '\0') {
      if (local_32 - local_4e[3] < 0x14) {
LAB_1048_4339:
        local_e = 0;
        puVar5 = *(ulong **)&PTR_DAT_10a8_0000_10a8_4182;
        uVar30 = *(uint *)&PTR_DAT_10a8_0000_10a8_4184;
        local_6 = local_6 & 0xffff | (ulong)uVar30 << 0x10;
        local_12 = (int *)((ulong)local_12 & 0xffff0000 | ZEXT24((int *)local_12));
        uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4182;
        uVar29 = (undefined2)((ulong)uVar11 >> 0x10);
        pbVar25 = (byte *)((int)uVar11 + 3);
        if (*pbVar25 != 0) {
          do {
            if ((*(uint *)((int)puVar5 + 6) & 0xe) == 2) {
              uVar19 = puVar5[1] & 0x1fc00;
              iStack_18c = (int)(uVar19 >> 0x10);
              if (((0x3bff < uVar19) && (iStack_18c == 0)) &&
                 (iVar14 = unaff_SS, (uint)uVar19 < 0x5001)) goto LAB_1048_4488;
            }
            local_e = local_e + 1;
            iVar14 = unaff_SS;
            puVar5 = puVar5 + 1;
          } while ((int)local_e < (int)(uint)*pbVar25);
        }
        local_e = *(uint *)&PTR_DAT_10a8_0000_10a8_8fe0;
        do {
          local_e = local_e - 1;
          if ((int)local_e < 0) break;
          iVar22 = *(int *)&PTR_DAT_10a8_0000_10a8_885c;
          uVar19 = *(ulong *)(local_e * 4 + iVar22);
        } while ((((*(uint *)(local_e * 4 + iVar22 + 2) & 0xe) != 2) ||
                 (((uVar19 & 0x10000) == 0 && (((uint)uVar19 & 0xfc00) < 0x3c00)))) ||
                (0x5000 < (uVar19 & 0x1fc00)));
        if (-1 < (int)local_e) {
          FUN_1068_1a7c((uint *)CONCAT22(iVar14,local_e * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c),
                        local_5e,*(int *)&PTR_DAT_10a8_0001_10a8_00c0,1);
          iVar22 = 0;
          iVar26 = 0;
          do {
            if ((0 < *(long *)((int)local_5e + iVar22)) &&
               (*(long *)((int)&local_3e + iVar22) <
                *(long *)((int)local_5e + iVar22) + *(long *)((int)local_4e + iVar22))) break;
            iVar26 = iVar26 + 1;
            iVar22 = iVar22 + 4;
          } while (iVar22 < 0x10);
          if (iVar26 == 4) {
            local_c = (uint *)CONCAT22(1,(int)local_c);
            FUN_1048_6568((uint)(*(ulong *)(local_e * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c) >>
                                10) & 0x7f,1,1,1);
            iVar22 = 0;
            do {
              plVar1 = (long *)((int)local_4e + iVar22);
              *plVar1 = *plVar1 + *(long *)((int)local_5e + iVar22);
              iVar22 = iVar22 + 4;
            } while (iVar22 < 0x10);
          }
        }
LAB_1048_4488:
        if (199 < *(long *)((int *)local_12 + 0x19)) {
          local_e = 0;
          puVar5 = *(ulong **)&PTR_DAT_10a8_0000_10a8_4182;
          uVar30 = *(uint *)&PTR_DAT_10a8_0000_10a8_4184;
          local_6 = local_6 & 0xffff | (ulong)uVar30 << 0x10;
          uVar11 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4182;
          uVar29 = (undefined2)((ulong)uVar11 >> 0x10);
          pbVar25 = (byte *)((int)uVar11 + 3);
          if (*pbVar25 != 0) {
            do {
              if ((*(uint *)((int)puVar5 + 6) & 0xe) == 2) {
                uVar19 = puVar5[1] & 0x1fc00;
                iStack_18c = (int)(uVar19 >> 0x10);
                if (((0x23ff < uVar19) && (iStack_18c == 0)) &&
                   (iVar14 = unaff_SS, (uint)uVar19 < 0x3801)) goto LAB_1048_4724;
              }
              local_e = local_e + 1;
              iVar14 = unaff_SS;
              puVar5 = puVar5 + 1;
            } while ((int)local_e < (int)(uint)*pbVar25);
          }
          goto LAB_1048_4505;
        }
      }
      else {
        local_e = 0;
        if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0) {
LAB_1048_426b:
          iVar22 = *(int *)&PTR_DAT_10a8_0000_10a8_885c;
          uVar19 = *(ulong *)(local_e * 4 + iVar22);
          if (((((*(uint *)(local_e * 4 + iVar22 + 2) & 0xe) != 2) ||
               (((uint)uVar19 & 0xfc00) != 0x1c00)) || ((uVar19 & 0x10000) != 0)) ||
             (((uint)uVar19 & 0xff | ((byte)(uVar19 >> 8) & 3) << 8) == 0)) goto LAB_1048_42a7;
          local_c = (uint *)CONCAT22(1,(int)local_c);
          FUN_1048_6568((uint)(*(ulong *)(local_e * 4 + iVar22) >> 10) & 0x7f,1,1,1);
          FUN_1068_1a7c((uint *)CONCAT22(iVar14,local_e * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c),
                        local_5e,*(int *)&PTR_DAT_10a8_0001_10a8_00c0,1);
          iVar22 = 0;
          do {
            plVar1 = (long *)((int)local_4e + iVar22);
            *plVar1 = *plVar1 + *(long *)((int)local_5e + iVar22);
            iVar22 = iVar22 + 4;
          } while (iVar22 < 0x10);
        }
LAB_1048_4310:
        local_e = 0;
        local_12 = (int *)((ulong)local_12 & 0xffff0000 | ZEXT24((int *)local_12));
        do {
          lVar9 = (&local_3e)[local_e];
          plVar1 = local_4e + local_e;
          if (*plVar1 != lVar9 && lVar9 <= *plVar1) break;
          local_e = local_e + 1;
        } while ((int)local_e < 4);
        if (3 < (int)local_e) goto LAB_1048_4339;
      }
    }
    else {
LAB_1048_4505:
      local_8 = 0xffff;
      local_6 = local_6 & 0xffff;
      local_e = 0;
      do {
        uVar30 = (int)*(char *)((int)(int *)local_12 + local_e + 0x12) -
                 (int)*(char *)(local_e + *(int *)&PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x7792);
        uVar20 = (int)uVar30 >> 0xf;
        uVar20 = (uVar30 ^ uVar20) - uVar20;
        if ((int)local_6._2_2_ < (int)uVar20) {
          local_8 = local_e;
          local_6 = local_6 & 0xffff | (ulong)uVar20 << 0x10;
        }
        local_e = local_e + 1;
      } while ((int)local_e < 3);
      if (local_8 != 0xffff) {
        local_e = 0;
        if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0) {
          do {
            puVar27 = (undefined4 *)(local_e * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c);
            uVar11 = *puVar27;
            if ((*(uint *)((int)puVar27 + 2) & 0xe) == 2) {
              uVar30 = (CONCAT11((char)((ulong)uVar11 >> 0x10),
                                 (char)((ulong)((uint)uVar11 & 0xfc00) >> 8)) & 0x1ff) >> 2;
              if (((uVar30 == local_8 * 2 + 9) || (uVar30 == (local_8 + 5) * 2)) &&
                 (((uint)uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 3) << 8) != 0))
              goto LAB_1048_45e6;
            }
            local_e = local_e + 1;
          } while ((int)local_e < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0);
        }
        uVar30 = *(uint *)&PTR_DAT_10a8_0000_10a8_8fe0;
        if ((local_e == uVar30) && (local_e = 0, 0 < (int)uVar30)) {
          do {
            iVar22 = *(int *)&PTR_DAT_10a8_0000_10a8_885c;
            uVar19 = *(ulong *)(local_e * 4 + iVar22);
            if ((*(uint *)(local_e * 4 + iVar22 + 2) & 0xe) == 2) {
              if (((((uVar19 & 0x10000) != 0) || (0x23ff < ((uint)uVar19 & 0xfc00))) &&
                  ((uVar19 & 0x1fc00) < 0x3801)) &&
                 (((uint)uVar19 & 0xff | ((byte)(uVar19 >> 8) & 3) << 8) != 0)) goto LAB_1048_45e6;
            }
            local_e = local_e + 1;
          } while ((int)local_e < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0);
        }
      }
    }
    goto LAB_1048_4724;
  }
  goto LAB_1048_472f;
LAB_1048_42a7:
  local_e = local_e + 1;
  if (*(int *)&PTR_DAT_10a8_0000_10a8_8fe0 <= (int)local_e) goto LAB_1048_4310;
  goto LAB_1048_426b;
LAB_1048_45e6:
  local_c = (uint *)CONCAT22(1,(int)local_c);
  if (*(char *)(*local_12 * 0x10 + *(int *)&PTR_DAT_10a8_0000_10a8_4b80 + 2) == '\0') {
    uVar30 = 1;
  }
  else {
    uVar30 = *(uint *)(local_e * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c) & 0x3ff;
  }
  FUN_1048_6568((uint)(*(ulong *)(local_e * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c) >> 10) & 0x7f,
                uVar30,1,1);
  puVar4 = (uint *)(local_e * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c);
  *puVar4 = *puVar4 & 0xfc00;
  FUN_1068_1a7c((uint *)CONCAT22(iVar14,local_e * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c),local_5e
                ,*(int *)&PTR_DAT_10a8_0001_10a8_00c0,1);
  local_6 = local_6 & 0xffff;
  local_6._2_2_ = 0;
  do {
    plVar1 = (long *)((int)local_4e + local_6._2_2_);
    *plVar1 = *plVar1 + *(long *)((int)local_5e + local_6._2_2_);
    local_6._2_2_ = local_6._2_2_ + 4;
  } while ((int)local_6._2_2_ < 0x10);
LAB_1048_4724:
  FUN_1068_07fa(local_c._2_2_);
LAB_1048_472f:
  local_12._0_2_ = (int *)local_12 + 0x1e;
  if (local_26 <= (int *)local_12) goto LAB_1048_473b;
  goto LAB_1048_41c3;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1048_4768(int param_1)

{
  undefined2 *puVar1;
  undefined4 *puVar2;
  char *pcVar3;
  undefined2 *puVar4;
  undefined4 *puVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  undefined4 *puVar9;
  char *pcVar10;
  undefined2 *puVar11;
  undefined2 *puVar12;
  undefined4 *puVar13;
  undefined2 unaff_CS;
  undefined2 unaff_SS;
  undefined4 local_8c [2];
  undefined4 local_84;
  undefined uStack_80;
  uint local_50;
  undefined2 local_4c;
  byte local_10;
  uint local_4;

  if (PTR_DAT_10a8_0000_10a8_0042 == (undefined *)0x0) {
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_Waiting_for_a_new_turn_10a8_0317 + 6);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    local_10 = local_10 | 2;
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_8c,0);
  }
  if (iRam10a87375 == 0) {
    puVar13 = local_8c;
    puVar9 = (undefined4 *)0x72f4;
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    local_4 = local_50 & 0xff;
    if ((param_1 == 0x39e) && (local_4 < 0xb)) {
      local_4 = 0xb;
    }
    else if ((param_1 < 0x14) || (9 < local_4)) {
      if ((param_1 < 7) || (6 < local_4)) {
        if ((2 < param_1) && (local_4 < 2)) {
          local_4 = 2;
        }
      }
      else {
        local_4 = 7;
      }
    }
    else {
      local_4 = 10;
    }
    if ((local_50 & 0xff) != local_4) {
      local_10 = local_10 | 2;
      FUN_1048_4b7e(local_8c,2);
      local_10 = local_10 & 0xfd;
      local_50 = local_50 & 0xff00 | local_4 & 0xff;
      pcVar10 = (char *)0x4ba4;
      puVar13 = &local_84;
      uVar7 = 0xffff;
      do {
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar3 = pcVar10;
        pcVar10 = pcVar10 + 1;
      } while (*pcVar3 != '\0');
      uVar7 = ~uVar7;
      puVar11 = (undefined2 *)(pcVar10 + -uVar7);
      iVar6 = -1;
      do {
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        puVar2 = puVar13;
        puVar13 = (undefined4 *)((int)puVar13 + 1);
      } while (*(char *)puVar2 != '\0');
      puVar12 = (undefined2 *)((int)puVar13 + -1);
      for (uVar8 = uVar7 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
        puVar4 = puVar12;
        puVar12 = puVar12 + 1;
        puVar1 = puVar11;
        puVar11 = puVar11 + 1;
        *puVar4 = *puVar1;
      }
      for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
        puVar4 = puVar12;
        puVar12 = (undefined2 *)((int)puVar12 + 1);
        puVar1 = puVar11;
        puVar11 = (undefined2 *)((int)puVar11 + 1);
        *(undefined *)puVar4 = *(undefined *)puVar1;
      }
      unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
      FUN_1048_4b7e(local_8c,2);
    }
  }
  if ((param_1 < 4) || ((bRam10a87721 & 2) == 0)) {
    if ((param_1 < 3) || ((iRam10a872ee != 0 || ((char)PTR_DAT_10a8_0000_10a8_72a9 != '\x01'))))
    goto LAB_1048_4950;
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_Random_10a8_0293 + 3);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    local_10 = local_10 | 2;
    FUN_1048_4b7e(local_8c,1);
    local_10 = local_10 & 0xfd;
    local_4c = CONCAT11(local_4c._1_1_,1);
    local_84 = uRam10a84bb2;
    uStack_80 = uRam10a84bb6;
    iVar6 = 1;
  }
  else {
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_Random_10a8_0293 + 3);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    FUN_1048_4b7e(local_8c,9);
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_Waiting_for_a_new_turn_10a8_0317 + 6);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    puVar13 = &local_84;
    puVar9 = (undefined4 *)s_Horse_Fly_10a8_4ba8;
    for (iVar6 = 2; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    iVar6 = 0;
  }
  unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
  FUN_1048_4b7e(local_8c,iVar6);
LAB_1048_4950:
  if ((6 < param_1) && ((PTR_DAT_10a8_0000_10a8_782e._1_1_ & 2) != 0)) {
    puVar13 = local_8c;
    puVar9 = (undefined4 *)s_____No_Player_____10a8_03a4;
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    FUN_1048_4b7e(local_8c,0xb);
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_Choose_New_Game_Name_10a8_0419 + 0x12);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    FUN_1048_4b7e(local_8c,0xc);
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_Deep_Space_Waypoint_10a8_08de + 0xc);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_8c,7);
  }
  if ((10 < param_1) && ((bRam10a8793d & 2) != 0)) {
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_turned_in_10a8_04b1 + 1);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    FUN_1048_4b7e(local_8c,0xd);
    puVar13 = local_8c;
    puVar9 = (undefined4 *)0x539;
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_8c,0xe);
  }
  if ((0xe < param_1) && ((bRam10a877a8 & 2) != 0)) {
    puVar13 = local_8c;
    puVar9 = (undefined4 *)0xa7f;
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    FUN_1048_4b7e(local_8c,10);
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_BUTTON_10a8_0b02 + 4);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    FUN_1048_4b7e(local_8c,5);
    puVar13 = local_8c;
    puVar9 = (undefined4 *)0x971;
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    unaff_CS = SUB42(&PTR_DAT_10a8_0000_10a8_1048,0);
    FUN_1048_4b7e(local_8c,8);
  }
  if ((0x13 < param_1) && ((bRam10a8758c & 2) != 0)) {
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_Resources_Year_10a8_0b82 + 0xb);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    FUN_1048_4b7e(local_8c,6);
    puVar13 = local_8c;
    puVar9 = (undefined4 *)((int)s_Arial_Bold_10a8_09f3 + 5);
    for (iVar6 = 0x21; iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar5 = puVar13;
      puVar13 = puVar13 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar5 = *puVar2;
    }
    *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
    *(undefined *)(undefined2 *)((int)puVar13 + 2) = *(undefined *)(undefined2 *)((int)puVar9 + 2);
    FUN_1048_4b7e(local_8c,0xf);
  }
  return;
}



byte __cdecl16far FUN_1048_4b3e(int *param_1,int param_2,int *param_3,int param_4)

{
  undefined4 uVar1;
  byte bVar2;
  undefined2 unaff_SS;

  if ((((param_3 == param_1) && (param_4 == param_2)) ||
      (uVar1 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80,
      bVar2 = *(byte *)((int)uVar1 + *param_3 * 0x10 + 1), bVar2 == 0)) || ((bVar2 & 0x80) != 0)) {
    bVar2 = 0;
  }
  return bVar2;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1048_4b7e(undefined4 *param_1,int param_2)

{
  char *pcVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined2 unaff_SS;
  undefined4 local_8a [30];
  undefined2 local_f;
  undefined *local_d;
  undefined4 local_b;

  puVar5 = local_8a;
  for (iVar4 = 0x21; iVar4 != 0; iVar4 = iVar4 + -1) {
    puVar3 = puVar5;
    puVar5 = puVar5 + 1;
    puVar2 = param_1;
    param_1 = param_1 + 1;
    *puVar3 = *puVar2;
  }
  *(undefined2 *)puVar5 = *(undefined2 *)param_1;
  *(undefined *)(undefined2 *)((int)puVar5 + 2) = *(undefined *)(undefined2 *)((int)param_1 + 2);
  local_f = local_f ^ ((byte)((byte)((uint)(param_2 << 10) >> 8) ^ local_f._1_1_) & 0x3c) << 8;
  local_d = PTR_DAT_10a8_0000_10a8_0042;
  local_b = 0;
  FUN_1010_1c24((int *)CONCAT22(unaff_SS,local_8a));
  if (((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_7262 + param_2 * 0x87) ^ local_f._1_1_) & 2) != 0) {
    if ((local_f & 0x200) == 0) {
      pcVar1 = (char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
      *pcVar1 = *pcVar1 + '\x01';
    }
    else {
      pcVar1 = (char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
      *pcVar1 = *pcVar1 + -1;
    }
  }
  puVar6 = (undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_71e6 + param_2 * 0x87);
  puVar5 = local_8a;
  for (iVar4 = 0x21; iVar4 != 0; iVar4 = iVar4 + -1) {
    puVar3 = puVar6;
    puVar6 = puVar6 + 1;
    puVar2 = puVar5;
    puVar5 = puVar5 + 1;
    *puVar3 = *puVar2;
  }
  *(undefined2 *)puVar6 = *(undefined2 *)puVar5;
  *(undefined *)(undefined2 *)((int)puVar6 + 2) = *(undefined *)(undefined2 *)((int)puVar5 + 2);
  FUN_1020_3d5a((int)local_8a);
  return 1;
}



int __cdecl16far FUN_1048_4c24(ulong param_1,uint param_2,ulong param_3,uint param_4)

{
  ulong uVar1;
  uint uVar2;
  int iVar3;
  uint in_DX;
  uint uVar4;

  if (param_4 != 0) {
    if ((int)param_4 < 0) {
      in_DX = (uint)(param_1 >> 0x10);
      uVar1 = (ulong)param_2;
      param_2 = (uint)param_1;
      param_1 = uVar1 | param_3 << 0x10;
      param_3 = param_3 & 0xffff0000 | (ulong)in_DX;
      param_4 = -param_4;
    }
    uVar4 = (uint)(param_1 >> 0x10);
    uVar2 = FUN_1028_2f36((int)param_1,uVar4,param_3._2_2_,0,(undefined4 *)0x0);
    if (((int)in_DX <= (int)param_4 >> 0xf) &&
       (((int)in_DX < (int)param_4 >> 0xf || (uVar2 < param_4)))) {
      param_4 = uVar2;
    }
    if (param_4 != 0) {
      iVar3 = FUN_1028_2f36(param_2,(uint)param_3,param_3._2_2_,(long)(int)param_4,(undefined4 *)0x0
                           );
      if (iVar3 != 0) {
        FUN_1028_2f36((int)param_1,uVar4,param_3._2_2_,(long)-iVar3,(undefined4 *)0x0);
      }
      return iVar3;
    }
  }
  return 0;
}



uint __cdecl16far FUN_1048_4cc2(uint param_1,uint param_2,uint param_3)

{
  uint uVar1;
  int in_DX;

  if (param_3 != 0) {
    uVar1 = FUN_1028_2f36(2,param_1,4,0,(undefined4 *)0x0);
    if ((in_DX <= (int)param_3 >> 0xf) && ((in_DX < (int)param_3 >> 0xf || (uVar1 < param_3)))) {
      param_3 = uVar1;
    }
    if (param_3 != 0) {
      FUN_1028_2f36(2,param_1,4,(long)(int)-param_3,(undefined4 *)0x0);
      FUN_1028_2f36(1,param_2,4,(long)(int)param_3,(undefined4 *)0x0);
      return param_3;
    }
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps

int __cdecl16far FUN_1048_4d38(uint *param_1,undefined2 param_2,int param_3)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined2 unaff_SS;
  undefined4 local_14;
  int local_10;
  uint local_e;

  FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*param_1);
  puVar3 = &local_14;
  for (iVar2 = 4; iVar2 != 0; iVar2 = iVar2 + -1) {
    puVar1 = puVar3;
    puVar3 = puVar3 + 1;
    *puVar1 = 0;
  }
  *(undefined2 *)puVar3 = 0;
  local_14 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + param_3 * 4);
  local_10 = param_3;
  local_e = local_e & 0xf3 | (uint)((byte)((ulong)local_e >> 8) & 0xfd) << 8 | 0x503;
  iVar2 = FUN_1028_542c((undefined *)CONCAT22(param_2,param_1));
  local_e = local_e ^ (byte)((char)iVar2 << 4 ^ (byte)local_e) & 0xf0;
  iVar2 = FUN_1048_6444(param_1,param_2,&local_14,0);
  if (iVar2 != 0) {
    FUN_1048_552a((undefined2 *)CONCAT22(param_2,param_1),-1);
    iVar2 = 1;
  }
  return iVar2;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1048_4dd6(long param_1)

{
  undefined4 uVar1;
  long lVar2;
  undefined *puVar3;
  int *piVar4;
  char *pcVar5;
  uint uVar6;
  undefined uVar7;
  uint uVar8;
  uint uVar9;
  uint *puVar10;
  int *piVar11;
  int iVar12;
  int iVar13;
  undefined2 uVar14;
  int local_1c;
  int iStack_1a;
  int local_18;
  undefined4 local_12;
  long local_6;

  if ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) & 0xe0
      ) == 0) {
    uVar7 = 0;
  }
  else {
    uVar7 = 0x10;
    if (PTR_DAT_10a8_0000_10a8_5736 != (undefined *)0x0) goto LAB_1048_4f3f;
  }
  puVar3 = PTR_DAT_10a8_0000_10a8_4b80 + 0xf;
  iVar13 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_003a) {
    do {
      *puVar3 = uVar7;
      puVar3 = puVar3 + 0x10;
      iVar13 = iVar13 + 1;
    } while (iVar13 < (int)PTR_DAT_10a8_0000_10a8_003a);
  }
  puVar3 = PTR_DAT_10a8_0000_10a8_006c;
  piVar4 = (int *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  for (piVar11 = (int *)PTR_DAT_10a8_0000_10a8_006a; piVar11 < piVar4; piVar11 = piVar11 + 0x1e) {
    if (piVar11[1] == -1) {
      if (((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) &
           0xe0) == 0) ||
         (iVar13 = FUN_1020_3506((int)piVar11,puVar3,(int)PTR_DAT_10a8_0001_10a8_00c0), -1 < iVar13)
         ) {
        uVar7 = 0;
      }
      else {
        uVar7 = 8;
      }
    }
    else if ((undefined *)piVar11[1] == PTR_DAT_10a8_0001_10a8_00c0) {
      uVar7 = 1;
    }
    else {
      uVar7 = 2;
    }
    PTR_DAT_10a8_0000_10a8_4b80[*piVar11 * 0x10 + 0xf] = uVar7;
  }
  iVar13 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    iVar12 = 0;
    do {
      uVar14 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
      puVar10 = (uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar12);
      uVar6 = *puVar10;
      uVar8 = puVar10[1];
      if ((uVar8 | uVar6) == 0) break;
      if ((((((undefined *)*(int *)(uVar6 + 2) == PTR_DAT_10a8_0001_10a8_00c0) &&
            (1 < *(int *)(uVar6 + 0x62))) && (param_1 != CONCAT22(uVar8,uVar6))) &&
          (uVar1 = *(undefined4 *)(uVar6 + 100), (*(byte *)((int)uVar1 + 0x1d) & 3) == 1)) &&
         (((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) &
           0xe0) != 0 ||
          (uVar1 = *(undefined4 *)(uVar6 + 100), (*(byte *)((int)uVar1 + 0x1c) & 0xf) == 3)))) {
        uVar1 = *(undefined4 *)(uVar6 + 100);
        PTR_DAT_10a8_0000_10a8_4b80[*(int *)((int)uVar1 + 0x1a) * 0x10 + 0xf] = 4;
      }
      iVar12 = iVar12 + 4;
      iVar13 = iVar13 + 1;
    } while (iVar13 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
LAB_1048_4f3f:
  pcVar5 = (char *)((int)_PTR_DAT_10a8_0000_10a8_4b80 + 0xf);
  local_12 = 99999999;
  uVar1 = *(undefined4 *)((int)param_1 + 8);
  local_18 = -1;
  iVar13 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_003a) {
    piVar11 = (int *)&PTR_DAT_10a8_0000_10a8_6238;
    do {
      if (*pcVar5 == '\0') {
        local_1c = (int)uVar1;
        uVar6 = local_1c - *piVar11;
        uVar8 = (int)uVar6 >> 0xf;
        uVar8 = (uVar6 ^ uVar8) - uVar8;
        iStack_1a = (int)((ulong)uVar1 >> 0x10);
        uVar6 = iStack_1a - piVar11[1];
        uVar9 = (int)uVar6 >> 0xf;
        local_6 = (long)(int)((uVar6 ^ uVar9) - uVar9);
        if ((((int)uVar8 >> 0xf <= local_12._2_2_) &&
            (((int)uVar8 >> 0xf < local_12._2_2_ || (uVar8 < (uint)local_12)))) &&
           ((local_6 < local_12 &&
            (((long)(int)uVar8 * (long)(int)uVar8 < local_12 &&
             (lVar2 = (long)(int)uVar8 * (long)(int)uVar8 + local_6 * local_6, lVar2 < local_12)))))
           ) {
          local_18 = iVar13;
          local_12 = lVar2;
        }
      }
      piVar11 = piVar11 + 2;
      pcVar5 = pcVar5 + 0x10;
      iVar13 = iVar13 + 1;
    } while (iVar13 < (int)PTR_DAT_10a8_0000_10a8_003a);
  }
  PTR_DAT_10a8_0000_10a8_5736 = (undefined *)&DAT_10a8_0001;
  return local_18;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1048_5006(undefined4 param_1)

{
  int iVar1;
  ulong uVar2;
  int *piVar3;
  int iVar4;
  undefined2 uVar5;
  long lStack_1e;
  ulong local_e;
  long *local_6;

  uVar5 = (undefined2)((ulong)param_1 >> 0x10);
  local_e = 0;
  iVar4 = 0;
  uVar2 = *(ulong *)(*(int *)((int)param_1 + 2) * 4 + 0x72);
  local_6 = (long *)(uVar2 & 0xffff0000 | (ulong)((int)uVar2 + 0x83));
  piVar3 = (int *)((int)param_1 + 0xc);
  do {
    iVar1 = *piVar3;
    if (iVar1 != 0) {
      lStack_1e = (long)iVar1;
      local_e = local_e + lStack_1e * *local_6;
      if ((local_e & 0x80000000) != 0) break;
    }
    local_6 = (long *)((ulong)local_6 & 0xffff0000 | (ulong)((int)local_6 + 0x87));
    piVar3 = piVar3 + 1;
    iVar4 = iVar4 + 1;
  } while (iVar4 < 0x10);
  return (undefined2)local_e;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1048_5076(undefined4 param_1)

{
  undefined4 uVar1;
  long lVar2;
  char *pcVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int *piVar7;
  int iVar8;
  int local_1c;
  int iStack_1a;
  int local_18;
  undefined4 local_12;
  long local_6;

  if (PTR_DAT_10a8_0000_10a8_5736 == (undefined *)0x0) {
    FUN_1048_4dd6(param_1);
  }
  pcVar3 = (char *)((int)_PTR_DAT_10a8_0000_10a8_4b80 + 0xf);
  local_12 = 99999999;
  uVar1 = *(undefined4 *)((int)param_1 + 8);
  local_18 = -1;
  iVar8 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_003a) {
    piVar7 = (int *)&PTR_DAT_10a8_0000_10a8_6238;
    do {
      if (*pcVar3 == '\x10') {
        local_1c = (int)uVar1;
        uVar4 = local_1c - *piVar7;
        uVar5 = (int)uVar4 >> 0xf;
        uVar5 = (uVar4 ^ uVar5) - uVar5;
        iStack_1a = (int)((ulong)uVar1 >> 0x10);
        uVar4 = iStack_1a - piVar7[1];
        uVar6 = (int)uVar4 >> 0xf;
        local_6 = (long)(int)((uVar4 ^ uVar6) - uVar6);
        if (((int)uVar5 >> 0xf <= local_12._2_2_) &&
           ((((int)uVar5 >> 0xf < local_12._2_2_ || (uVar5 < (uint)local_12)) &&
            (local_6 < local_12)))) {
          if (((long)(int)uVar5 * (long)(int)uVar5 < local_12) &&
             (lVar2 = (long)(int)uVar5 * (long)(int)uVar5 + local_6 * local_6, lVar2 < local_12)) {
            local_18 = iVar8;
            local_12 = lVar2;
          }
        }
      }
      piVar7 = piVar7 + 2;
      pcVar3 = pcVar3 + 0x10;
      iVar8 = iVar8 + 1;
    } while (iVar8 < (int)PTR_DAT_10a8_0000_10a8_003a);
  }
  return local_18;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1048_5150(void)

{
  uint *puVar1;
  uint *puVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  uint uVar6;
  ulong uVar7;
  uint uVar8;
  uint *puVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  undefined2 *puVar13;
  undefined2 uVar14;
  undefined2 unaff_SS;
  undefined4 local_36;
  long local_2a;
  undefined4 local_26;
  undefined2 *local_22;
  undefined *local_20;
  VA_LIST16 local_1e;
  VA_LIST16 local_1c;
  undefined2 *local_1a;
  undefined *local_18;
  ulong local_16;
  undefined4 local_12;
  undefined4 local_e;
  undefined4 local_a;
  undefined4 local_6;

  local_18 = PTR_DAT_10a8_0000_10a8_006c;
  local_22 = (undefined2 *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  local_20 = PTR_DAT_10a8_0000_10a8_006c;
  puVar13 = (undefined2 *)PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a < local_22) {
    do {
      if (((undefined *)puVar13[1] == PTR_DAT_10a8_0001_10a8_00c0) &&
         (*(long *)(puVar13 + 0x1c) != 0)) {
        uVar4 = *(undefined4 *)(puVar13 + 0x1c);
        uVar14 = (undefined2)((ulong)uVar4 >> 0x10);
        iVar11 = (int)uVar4;
        local_26 = *(undefined4 *)(iVar11 + 4);
        uVar5 = *(uint *)(iVar11 + 6);
        if (((uVar5 & 0xe) != 2) || ((((uint)local_26 & 0xfc00) != 0xc00 || ((uVar5 & 1) != 0)))) {
          FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*puVar13);
          FUN_1020_16c0((ulong)&PTR_DAT_10a8_0000_10a8_7bd6,_PTR_DAT_10a8_0000_10a8_7c0e,0,&local_1c
                        ,(undefined2 *)0x0);
          if (local_1c != (VA_LIST16)&DAT_10a8_0001) {
            if (local_1c == (VA_LIST16)0xffff) {
              local_1c = (VA_LIST16)((int)s_Robotoids_10a8_0254 + 4);
            }
            uVar5 = FUN_1020_3842((int)&PTR_DAT_10a8_0000_10a8_7bd6,
                                  (int)s_From___s_c_c_10a8_10a2 + 6,(int)PTR_DAT_10a8_0001_10a8_00c0
                                 );
            uVar6 = (uint)(_PTR_DAT_10a8_0000_10a8_7bf0 >> 8) & 0xfff;
            uVar8 = uVar5 - uVar6;
            iVar11 = ((int)uVar5 >> 0xf) - (uint)(uVar5 < uVar6);
            local_12 = CONCAT22(iVar11,uVar8);
            if ((-1 < iVar11) && ((0 < iVar11 || (uVar8 != 0)))) {
              if ((-1 < iVar11) && ((0 < iVar11 || (0x19 < uVar8)))) {
                local_12 = 0x19;
              }
              local_16 = (_PTR_DAT_10a8_0000_10a8_7bf0 & 0xfff00) >> 8;
              _PTR_DAT_10a8_0000_10a8_7bf0 =
                   _PTR_DAT_10a8_0000_10a8_7bf0 ^
                   ((local_16 + local_12) * 0x100 ^ _PTR_DAT_10a8_0000_10a8_7bf0) & 0xfff00;
              FUN_1020_16c0((ulong)&PTR_DAT_10a8_0000_10a8_7bd6,_PTR_DAT_10a8_0000_10a8_7c0e,0,
                            &local_1e,(undefined2 *)0x0);
              _PTR_DAT_10a8_0000_10a8_7bf0 =
                   _PTR_DAT_10a8_0000_10a8_7bf0 ^
                   (local_16 << 8 ^ _PTR_DAT_10a8_0000_10a8_7bf0) & 0xfff00;
              if (local_1e == (VA_LIST16)0xffff) {
                local_1e = (VA_LIST16)((int)s_Robotoids_10a8_0254 + 4);
              }
              FUN_1068_1a7c((uint *)CONCAT22(unaff_SS,&local_26),&local_36,
                            (int)PTR_DAT_10a8_0001_10a8_00c0,1);
              iVar11 = FUN_1020_39d0((int)&PTR_DAT_10a8_0000_10a8_7bd6,
                                     (int)s_From___s_c_c_10a8_10a2 + 6,
                                     (int)PTR_DAT_10a8_0001_10a8_00c0);
              local_e = (long)iVar11;
              if ((DAT_10a8_7bf6 & 0x80) == 0) {
                local_e = local_e + ((long)(int)*(char *)((int)&DAT_10a8_888a +
                                                         (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) *
                                    (long)iVar11) / -100;
              }
              if (local_1e == local_1c) {
                if (local_2a <= ((int)local_1c * local_e) / 2) {
                  local_1a = puVar13;
                  iVar12 = 0;
                  iVar11 = 0;
                  puVar9 = (uint *)&PTR_DAT_10a8_0000_10a8_7bde;
                  local_6 = CONCAT22(0x7bde,(uint)local_6);
                  do {
                    uVar5 = *puVar9;
                    puVar1 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_7bfc + iVar12);
                    iVar10 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_7bfe + iVar12) +
                             (uint)CARRY2(uVar5,*puVar1);
                    iVar3 = *(int *)((int)&local_36 + iVar12 + 2);
                    if ((iVar10 < iVar3) ||
                       ((iVar10 <= iVar3 && (uVar5 + *puVar1 < *(uint *)((int)&local_36 + iVar12))))
                       ) break;
                    iVar12 = iVar12 + 4;
                    iVar11 = iVar11 + 1;
                    puVar9 = puVar9 + 1;
                  } while (puVar9 < (uint *)0x7be4);
                  local_6 = CONCAT22(0x7bde,iVar11);
                  if (2 < iVar11) goto LAB_1048_540b;
                  iVar12 = iVar11 * 4;
                  uVar5 = *(uint *)(&local_36 + iVar11);
                  puVar1 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_7bde + iVar11 * 2);
                  uVar6 = uVar5 - *puVar1;
                  puVar2 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_7bfc + iVar12);
                  uVar8 = uVar6 - *puVar2;
                  iVar12 = ((*(int *)((int)&local_36 + iVar12 + 2) - (uint)(uVar5 < *puVar1)) -
                           *(int *)((int)&PTR_DAT_10a8_0000_10a8_7bfe + iVar12)) -
                           (uint)(uVar6 < *puVar2);
                  local_a = CONCAT22(iVar12,uVar8);
                  local_6 = CONCAT22(0x19,iVar11);
                  if (*(char *)((int)&DAT_10a8_888a + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) ==
                      '\0') {
                    local_6._2_2_ = (uint)(local_e / 0x19);
                    if ((int)local_6._2_2_ < 0x19) {
                      local_6._2_2_ = 0x19;
                    }
                  }
                  else {
                    local_6._2_2_ = 0x19;
                  }
                  if (((int)local_6._2_2_ >> 0xf <= iVar12) &&
                     (((int)local_6._2_2_ >> 0xf < iVar12 || (local_6._2_2_ < uVar8)))) {
                    local_a = (ulong)(int)local_6._2_2_;
                  }
                  DAT_10a8_7bf6 =
                       DAT_10a8_7bf6 & 0xff | (uint)((byte)((ulong)DAT_10a8_7bf6 >> 8) & 0xfd) << 8
                       | 0x500;
                  FUN_1048_6568(8,(uint)local_a,1,0);
                  puVar13 = local_1a;
                }
              }
              else {
LAB_1048_540b:
                uVar7 = local_12;
                iVar11 = FUN_1078_1d42((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,5);
                local_6 = (ulong)iVar11;
                if ((long)iVar11 * uVar7 - local_e == 0 || (long)((long)iVar11 * uVar7) < local_e) {
                  uVar7 = local_12 & 0xffff;
                }
                else {
                  uVar7 = local_e / (long)local_6;
                  local_12._2_2_ = (uint)(uVar7 >> 0x10);
                }
                local_a = uVar7 & 0xffff | (ulong)local_12._2_2_ << 0x10;
                _PTR_DAT_10a8_0000_10a8_7bf0 =
                     _PTR_DAT_10a8_0000_10a8_7bf0 ^
                     ((local_16 + local_a) * 0x100 ^ _PTR_DAT_10a8_0000_10a8_7bf0) & 0xfff00;
                FUN_1020_16c0((ulong)&PTR_DAT_10a8_0000_10a8_7bd6,_PTR_DAT_10a8_0000_10a8_7c0e,0,
                              &local_1e,(undefined2 *)0x0);
                _PTR_DAT_10a8_0000_10a8_7bf0 =
                     _PTR_DAT_10a8_0000_10a8_7bf0 ^
                     (local_16 << 8 ^ _PTR_DAT_10a8_0000_10a8_7bf0) & 0xfff00;
                if (local_1e == local_1c) {
                  iVar11 = local_6._2_2_ * 5 + (uint)CARRY2((uint)local_6,(uint)local_6) * 2 +
                           (uint)CARRY2((uint)local_6 * 2,(uint)local_6 * 2) +
                           (uint)CARRY2((uint)local_6 * 4,(uint)local_6);
                  if ((local_e._2_2_ < iVar11) ||
                     ((local_e._2_2_ <= iVar11 && ((uint)local_e <= (uint)local_6 * 5)))) {
                    local_a = local_e / (long)(local_6 & 0xffff | (ulong)local_6._2_2_ << 0x10);
                    local_a._2_2_ = (uint)(local_a >> 0x10);
                  }
                  else if (5 < (long)local_a) {
                    local_a._2_2_ = 0;
                    local_a = 5;
                  }
                  local_a = local_a & 0xffff | (ulong)local_a._2_2_ << 0x10;
                }
                if (local_a != 0) {
                  FUN_1048_6568(3,(uint)local_a,1,0);
                }
              }
            }
          }
        }
      }
      puVar13 = puVar13 + 0x1e;
    } while (puVar13 < local_22);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1048_552a(undefined2 *param_1,int param_2)

{
  int *piVar1;
  uint *puVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int in_DX;
  uint uVar8;
  undefined2 uVar9;
  long local_6;

  FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*param_1);
  if (param_2 == -1) {
    param_2 = 32000;
  }
  uVar8 = 1;
  do {
    uVar5 = FUN_1028_4f92((ulong)param_1 & 0xffff | (ulong)param_1._2_2_ << 0x10,0,uVar8,-1,0);
    local_6 = CONCAT22(in_DX,uVar5);
    piVar1 = (int *)((int)param_1 + 0x4e);
    iVar6 = *piVar1;
    if ((iVar6 < in_DX) ||
       (((*piVar1 == in_DX || iVar6 < in_DX && (*(uint *)((int)param_1 + 0x4c) < uVar5)) ||
        (param_2 < local_6)))) break;
    uVar8 = uVar8 + 1;
  } while ((int)uVar8 < 10);
  uVar8 = uVar8 - 1;
  if (uVar8 != 0) {
    uVar4 = *(undefined4 *)((int)param_1 + 100);
    if ((*(byte *)((int)uVar4 + 0x1d) & 3) != 2) {
      uVar4 = *(undefined4 *)((int)param_1 + 100);
      uVar4 = *(undefined4 *)((int)uVar4 + 0x16);
      uVar3 = *(undefined4 *)((int)param_1 + 8);
      FUN_1010_186e((int)uVar3,(int)((ulong)uVar3 >> 0x10),(int)uVar4,(int)((ulong)uVar4 >> 0x10));
      iVar6 = FUN_10a0_0c14();
      iVar7 = uVar8 * uVar8;
      do {
        uVar5 = uVar8 - 1;
        if (iVar6 / (int)(uVar5 * uVar5) != iVar6 / iVar7) break;
        uVar8 = uVar5;
      } while (2 < (int)uVar5);
    }
    uVar4 = *(undefined4 *)((int)param_1 + 100);
    if (*(byte *)((int)uVar4 + 0x1c) >> 4 != uVar8) {
      uVar9 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_7bc6 >> 0x10);
      puVar2 = (uint *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 0x1c);
      *puVar2 = *puVar2 ^ (byte)(*(byte *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 0x1c) ^
                                (byte)(uVar8 << 4)) & 0xf0;
      FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
    }
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

int __cdecl16far FUN_1048_5662(ulong param_1,ulong param_2,ulong param_3,int param_4)

{
  undefined4 *puVar1;
  ulong uVar2;
  undefined4 uVar3;
  ulong uVar4;
  int *piVar5;
  int iVar6;
  uint *puVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  undefined4 *puVar11;
  int *piVar12;
  uint uVar13;
  uint uVar14;
  undefined2 uVar15;
  undefined2 uVar16;
  int unaff_SS;
  undefined4 local_30;
  int local_2c;
  undefined2 local_2a;
  undefined4 local_28;
  undefined4 local_1e;
  long local_1a;
  int *local_16;
  uint local_14;
  undefined4 local_12;
  ulong local_e;
  undefined4 local_a;
  undefined4 local_6;

  iVar10 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_1a = 0;
  local_6 = param_3 & 0xffff0000 | ZEXT24((char *)local_6);
  local_e = 1000000;
  uVar13 = (uint)(param_1 >> 0x10);
  puVar7 = (uint *)param_1;
  local_1e = *(undefined4 *)(puVar7 + 4);
  puVar11 = &local_30;
  for (iVar6 = 4; iVar6 != 0; iVar6 = iVar6 + -1) {
    puVar1 = puVar11;
    puVar11 = puVar11 + 1;
    *puVar1 = 0;
  }
  *(undefined2 *)puVar11 = 0;
  if ((local_6._2_2_ | (uint)param_3) != 0) {
    uVar2 = local_6 & 0xffff0000;
    local_6 = uVar2 | param_3 & 0xffff;
    uVar14 = (uint)(uVar2 >> 0x10);
    piVar12 = (int *)(param_3 & 0xffff);
    do {
      if ((param_4 == 0) ||
         ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + piVar12[1] * 0x76) & 2) != 0)) {
        uVar2 = param_2 & 0xffff0000;
        uVar8 = (uint)param_2;
        if (param_2 != 0) {
          local_6 = CONCAT22(uVar14,piVar12);
          local_a._2_2_ = (uint)(uVar2 >> 0x10);
          do {
            if ((param_1 != CONCAT22(local_a._2_2_,uVar8)) && (1 < *(int *)(uVar8 + 0x62))) {
              uVar3 = *(undefined4 *)(uVar8 + 100);
              uVar15 = (undefined2)((ulong)uVar3 >> 0x10);
              iVar10 = (int)uVar3;
              if ((*(int *)(iVar10 + 0x1a) == *piVar12) && ((*(byte *)(iVar10 + 0x1d) & 3) == 2))
              break;
            }
            uVar3 = *(undefined4 *)(uVar8 + 0x68);
            local_a._2_2_ = (uint)((ulong)uVar3 >> 0x10);
            uVar8 = (uint)uVar3;
          } while ((local_a._2_2_ | uVar8) != 0);
          uVar2 = (ulong)local_a._2_2_ << 0x10;
          iVar10 = unaff_SS;
        }
        local_a = uVar2 | local_a & 0xffff;
        local_a._2_2_ = (uint)(uVar2 >> 0x10);
        if ((local_a._2_2_ | uVar8) == 0) {
          local_1e._0_2_ = piVar12[4] - (int)local_1e;
          local_1e._2_2_ = piVar12[5] - local_1e._2_2_;
          local_a = (long)local_1e._2_2_ * (long)local_1e._2_2_ +
                    (long)(int)local_1e * (long)(int)local_1e;
          if ((long)local_a < (long)local_e) {
            local_1a = CONCAT22(uVar14,piVar12);
            local_e = local_a;
          }
        }
      }
      uVar3 = *(undefined4 *)(piVar12 + 0x34);
      uVar14 = (uint)((ulong)uVar3 >> 0x10);
      piVar12 = (int *)uVar3;
    } while ((uVar14 | (uint)piVar12) != 0);
  }
  local_12._0_2_ = (int *)local_1a;
  local_12._2_2_ = (uint)((ulong)local_1a >> 0x10);
  if ((long)local_e < 0x7e90) {
    local_30 = *(undefined4 *)((int *)local_12 + 4);
    local_2a = local_2a & 0xff | (uint)((byte)((ulong)local_2a >> 8) & 0xfe) << 8 | 0x200;
  }
  else {
    if (local_1a == 0) {
      if (param_4 != 0) {
        iVar10 = FUN_1048_5662(param_1 & 0xffff | (ulong)uVar13 << 0x10,param_2,param_3,0);
        return iVar10;
      }
LAB_1048_58fa:
      local_1e = *(undefined4 *)(puVar7 + 4);
      local_12 = (uint *)0x0;
      local_e = 1000000;
      piVar12 = *(int **)&PTR_DAT_10a8_0000_10a8_006a;
      local_14 = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
      local_6 = local_6 & 0xffff | (ulong)local_14 << 0x10;
      local_16 = piVar12 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e;
      local_1e._2_2_ = (int)((ulong)local_1e >> 0x10);
      for (; piVar12 < local_16; piVar12 = piVar12 + 0x1e) {
        uVar3 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
        *(undefined *)((int)uVar3 + *piVar12 * 0x10 + 9) = 1;
        if (((piVar12[1] != -1) && (piVar12[1] != *(int *)&PTR_DAT_10a8_0001_10a8_00c0)) &&
           (iVar9 = *piVar12 * 4,
           iVar6 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar9) - local_1e._2_2_,
           iVar9 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar9) - (int)local_1e,
           local_a = (long)iVar9 * (long)iVar9 + (long)iVar6 * (long)iVar6,
           (long)local_a < (long)local_e)) {
          local_12 = (uint *)CONCAT22(local_14,piVar12);
          local_e = local_a;
        }
      }
      local_12._2_2_ = (uint)((ulong)local_12 >> 0x10);
      if (((local_12._2_2_ | (uint)(int *)local_12) == 0) || (*local_12 == puVar7[3])) {
        local_12._2_2_ = -1;
        local_e = 1000000;
        uVar2 = *(ulong *)&PTR_DAT_10a8_0000_10a8_4b80;
        local_6 = uVar2 & 0xffff0000 | (ulong)((int)uVar2 + 9);
        uVar14 = 0;
        if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_003a) {
          local_12 = (uint *)CONCAT22(0xffff,(int *)local_12);
          piVar12 = (int *)&PTR_DAT_10a8_0000_10a8_623a;
          do {
            if ((*(char *)local_6 == '\0') &&
               (iVar6 = piVar12[-1] - (int)local_1e, iVar9 = *piVar12 - local_1e._2_2_,
               local_a = (long)iVar9 * (long)iVar9 + (long)iVar6 * (long)iVar6,
               (long)local_a < (long)local_e)) {
              local_12 = (uint *)((ulong)local_12 & 0xffff | (ulong)uVar14 << 0x10);
              local_e = local_a;
            }
            piVar12 = piVar12 + 2;
            local_6 = local_6 & 0xffff0000 | ZEXT24((char *)local_6 + 0x10);
            uVar14 = uVar14 + 1;
          } while ((int)uVar14 < *(int *)&PTR_DAT_10a8_0000_10a8_003a);
        }
        if (local_12._2_2_ == -1) {
          local_2c = FUN_1018_4a4a(*(int *)&PTR_DAT_10a8_0000_10a8_003a);
          local_2a = local_2a & 0xff | (uint)((byte)((ulong)local_2a >> 8) & 0xfd) << 8 | 0x100;
          local_30 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + local_2c * 4);
        }
        else {
          local_30 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + local_12._2_2_ * 4);
          local_2a = local_2a & 0xff | (uint)((byte)((ulong)local_2a >> 8) & 0xfd) << 8 | 0x100;
          local_2c = local_12._2_2_;
        }
        goto LAB_1048_5ae6;
      }
    }
    else {
      local_1e = *(undefined4 *)((int *)local_12 + 4);
      local_12 = (uint *)0x0;
      local_e = 1000000;
      piVar12 = *(int **)&PTR_DAT_10a8_0000_10a8_006a;
      local_14 = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
      local_6 = local_6 & 0xffff | (ulong)local_14 << 0x10;
      piVar5 = piVar12 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e;
      for (; piVar12 < piVar5; piVar12 = piVar12 + 0x1e) {
        uVar2 = param_2;
        if (param_2 != 0) {
          uVar4 = local_6 & 0xffff0000;
          local_6 = uVar4 | ZEXT24(piVar12);
          do {
            uVar15 = (undefined2)(uVar2 >> 0x10);
            iVar10 = (int)uVar2;
            if ((uVar2 != param_1) && (1 < *(int *)(iVar10 + 0x62))) {
              local_6._2_2_ = (uint)(uVar4 >> 0x10);
              uVar3 = *(undefined4 *)(iVar10 + 100);
              uVar16 = (undefined2)((ulong)uVar3 >> 0x10);
              iVar6 = (int)uVar3;
              if ((*(int *)(iVar6 + 0x1a) == *piVar12) && ((*(byte *)(iVar6 + 0x1d) & 3) == 1))
              break;
            }
            uVar2 = *(ulong *)(iVar10 + 0x68);
          } while (uVar2 != 0);
        }
        local_a = local_a & 0xffff | uVar2 & 0xffff0000;
        local_a._2_2_ = (uint)((uVar2 & 0xffff0000) >> 0x10);
        if ((local_a._2_2_ | (uint)uVar2) == 0) {
          iVar10 = *piVar12 * 4;
          local_1e._2_2_ = (int)((ulong)local_1e >> 0x10);
          local_1e._2_2_ = *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar10) - local_1e._2_2_;
          local_1e._0_2_ = *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar10) - (int)local_1e;
          local_a = (long)(int)local_1e * (long)(int)local_1e +
                    (long)local_1e._2_2_ * (long)local_1e._2_2_;
          if ((long)local_a < (long)local_e) {
            local_12 = (uint *)(local_6 & 0xffff0000 | ZEXT24(piVar12));
            local_e = local_a;
          }
        }
        iVar10 = unaff_SS;
        local_16 = piVar5;
      }
      local_12._2_2_ = (uint)((ulong)local_12 >> 0x10);
      if (((local_12._2_2_ | (uint)(int *)local_12) == 0) || (puVar7[3] == *local_12))
      goto LAB_1048_58fa;
    }
    local_30 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *(int *)local_12 * 4);
    local_2a = local_2a & 0xff | (uint)((byte)((ulong)local_2a >> 8) & 0xfd) << 8 | 0x100;
  }
  local_2c = *(int *)local_12;
LAB_1048_5ae6:
  if (((1 < (int)puVar7[0x31]) &&
      (uVar3 = *(undefined4 *)(puVar7 + 0x32), (*(byte *)((int)uVar3 + 0x1d) & 3) == 1)) &&
     ((local_2a._1_1_ & 3) == 1)) {
    return -1;
  }
  local_2a = local_2a & 0xff42 | 0x442;
  local_28 = 0x20003;
  iVar10 = FUN_1048_6444(puVar7,uVar13,&local_30,0);
  return -(uint)(iVar10 == 0);
}



// WARNING: Could not reconcile some variable overlaps

uint __cdecl16far FUN_1048_5b4c(uint *param_1,uint *param_2)

{
  byte *pbVar1;
  long *plVar2;
  uint *puVar3;
  undefined4 *puVar4;
  byte bVar5;
  long lVar6;
  undefined4 uVar7;
  undefined *puVar8;
  undefined *puVar9;
  ulong *puVar10;
  uint *puVar11;
  uint uVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  uint uVar16;
  uint *puVar17;
  undefined4 *puVar18;
  undefined2 uVar19;
  undefined2 unaff_SS;
  undefined uVar20;
  undefined uVar21;
  undefined2 uVar22;
  undefined2 uVar23;
  undefined4 local_42;
  uint local_3e;
  uint local_3c;
  undefined2 local_3a;
  uint local_38 [3];
  uint local_32;
  undefined4 local_30;
  uint local_2c;
  int local_2a;
  uint *local_28;
  uint local_26;
  undefined4 local_24;
  uint local_20;
  uint *local_1e;
  uint local_1c;
  undefined4 local_1a;
  int local_16;
  ulong local_14;
  long local_10;
  ulong local_c;
  int local_8;
  undefined4 local_6;

  puVar8 = PTR_DAT_10a8_0000_10a8_4b82;
  puVar9 = PTR_DAT_10a8_0000_10a8_4b80 + 0xe;
  iVar13 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_003a) {
    do {
      *puVar9 = 0;
      puVar9 = puVar9 + 0x10;
      iVar13 = iVar13 + 1;
    } while (iVar13 < (int)PTR_DAT_10a8_0000_10a8_003a);
  }
  iVar13 = 0;
  puVar17 = (uint *)param_1 + 6;
  do {
    if (0 < (int)*puVar17) break;
    puVar17 = puVar17 + 1;
    iVar13 = iVar13 + 1;
  } while (iVar13 < 0x10);
  local_10 = CONCAT22(iVar13,(undefined2)local_10);
  local_6 = 1000000000;
  local_c = 1000000000;
  iVar14 = 1;
  puVar10 = (ulong *)((int)param_2 + 0x26);
  do {
    if ((long)*puVar10 < (long)local_6) {
      local_c = local_6;
      local_6 = *puVar10;
      local_2a = iVar14;
    }
    puVar10 = puVar10 + 1;
    iVar14 = iVar14 + 1;
  } while (iVar14 < 4);
  local_2c = (uint)((long)local_6 < (long)local_c >> 1);
  if ((long)local_6 < (long)local_c >> 2) {
    local_2c = local_2c + 1;
  }
  iVar14 = 0;
  if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
    iVar15 = 0;
    do {
      uVar7 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      uVar19 = (undefined2)((ulong)uVar7 >> 0x10);
      puVar17 = (uint *)((int)uVar7 + iVar15);
      uVar12 = *puVar17;
      uVar16 = puVar17[1];
      local_6 = local_6 & 0xffff | (ulong)uVar16 << 0x10;
      local_6._2_2_ = uVar16 | uVar12;
      if (local_6._2_2_ == 0) break;
      if (((((*(int *)(uVar12 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
            (1 < *(int *)(uVar12 + 0x62))) && (param_1 != (uint *)CONCAT22(uVar16,uVar12))) &&
          ((uVar7 = *(undefined4 *)(uVar12 + 100), (*(byte *)((int)uVar7 + 0x1d) & 3) == 1 &&
           (*(int *)(uVar12 + 0xc + iVar13 * 2) != 0)))) &&
         (uVar7 = *(undefined4 *)(uVar12 + 100), *(uint *)((int)uVar7 + 0x1a) != *param_2)) {
        uVar7 = *(undefined4 *)(uVar12 + 100);
        *(undefined *)
         (*(int *)((int)uVar7 + 0x1a) * 0x10 + *(int *)&PTR_DAT_10a8_0000_10a8_4b80 + 0xe) = 1;
      }
      iVar15 = iVar15 + 4;
      iVar14 = iVar14 + 1;
    } while (iVar14 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  iVar13 = FUN_1028_1e5c(param_1,2);
  local_10 = CONCAT22(local_6._2_2_,iVar13);
  uVar20 = 0x9c;
  uVar21 = 0xff;
  uVar19 = 0xffff;
  uVar12 = local_6._2_2_;
  iVar14 = FUN_1028_2eca((int)(uint *)param_1,param_1._2_2_);
  local_1a = CONCAT22(local_6._2_2_,iVar14);
  local_16 = (int)((CONCAT22(local_6._2_2_,iVar14) * CONCAT22(uVar19,CONCAT11(uVar21,uVar20))) /
                  CONCAT22(uVar12,iVar13)) + 100;
  local_14 = 0;
  local_20 = 0xffff;
  local_30 = *(undefined4 *)((uint *)param_1 + 4);
  local_6 = 0;
  puVar11 = (uint *)(*(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x3c +
                    *(int *)&PTR_DAT_10a8_0000_10a8_006a);
  local_26 = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
  puVar17 = *(uint **)&PTR_DAT_10a8_0000_10a8_006a;
  local_1e = puVar17;
  local_1c = local_26;
  if (puVar17 < puVar11) {
    local_28 = puVar11;
    do {
      if (*puVar17 == ((uint *)param_1)[3]) {
        local_6 = local_6 & 0xffff | (ulong)local_1c << 0x10;
      }
      uVar19 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4b82;
      iVar13 = *puVar17 * 0x10 + *(int *)&PTR_DAT_10a8_0000_10a8_4b80;
      if (*(char *)(iVar13 + 0xe) != '\0') goto LAB_1048_60e1;
      if ((puVar17[1] == 0xffff) && ((*(byte *)(iVar13 + 1) & 0x80) != 0)) {
        uVar22 = 0x19;
        uVar23 = 0;
        iVar14 = *puVar17 * 4;
        local_30._2_2_ = local_30._2_2_ - *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar14);
        local_30._0_2_ = (int)local_30 - *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar14);
        iVar14 = (int)((ulong)((long)(int)local_30 * (long)(int)local_30 +
                              (long)local_30._2_2_ * (long)local_30._2_2_) >> 0x10);
        FUN_10a0_0b96();
        uVar12 = FUN_10a0_0c14();
        local_6 = CONCAT22(iVar14 + (uint)(0xffe7 < uVar12),uVar12 + 0x18) / CONCAT22(uVar23,uVar22)
        ;
        if ((long)local_6 < 1) {
          local_6 = 1;
        }
        iVar13 = (*(byte *)(iVar13 + 1) & 0x7f) * 500;
LAB_1048_60ad:
        local_c = (long)iVar13 / (long)local_6;
LAB_1048_60bd:
        if ((long)local_14 < (long)local_c) {
          local_14 = local_c;
          local_24 = (uint *)CONCAT22(local_1c,puVar17);
          local_20 = *puVar17;
        }
      }
      else {
        uVar12 = *(uint *)&PTR_DAT_10a8_0001_10a8_00c0;
        if (puVar17[1] != uVar12) {
          if ((((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + uVar12 * 0x76) & 0xe0) != 0) ||
              (((uint *)param_1)[3] != *param_2)) ||
             (((*(long *)((int)param_2 + 0x32) < 0x4b1 || (0x3d < (puVar17[0xc] & 0xfff))) &&
              ((*(long *)((int)param_2 + 0x32) < 0x12d || (0xe < (puVar17[0xc] & 0xfff))))))) {
            if ((*(char *)(iVar13 + 3) == '\0') ||
               (((*(byte *)(iVar13 + 3) & 0x80) != 0 || (((uint *)param_1)[3] != *param_2))))
            goto LAB_1048_60e1;
            goto LAB_1048_5eac;
          }
          local_8 = 0x41;
LAB_1048_601c:
          uVar19 = 0x19;
          uVar22 = 0;
          iVar13 = *puVar17 * 4;
          local_30._2_2_ = local_30._2_2_ - *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar13);
          local_30._0_2_ = (int)local_30 - *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar13);
          iVar13 = (int)((ulong)((long)(int)local_30 * (long)(int)local_30 +
                                (long)local_30._2_2_ * (long)local_30._2_2_) >> 0x10);
          FUN_10a0_0b96();
          uVar12 = FUN_10a0_0c14();
          local_6 = CONCAT22(iVar13 + (uint)(0xffe7 < uVar12),uVar12 + 0x18) /
                    CONCAT22(uVar22,uVar19);
          if ((long)local_6 < 1) {
            local_6 = 1;
          }
          iVar13 = local_8 * 100;
          goto LAB_1048_60ad;
        }
LAB_1048_5eac:
        if (param_2 != (uint *)CONCAT22(local_1c,puVar17)) {
          if (((*(byte *)((int)puVar17 + 5) & 2) != 0) ||
             (((*(long *)(puVar17 + 0x1c) != 0 &&
               (uVar7 = *(undefined4 *)(puVar17 + 0x1c), (*(uint *)((int)uVar7 + 6) & 0xe) == 2)) &&
              (uVar7 = *(undefined4 *)(puVar17 + 0x1c), (*(ulong *)((int)uVar7 + 4) & 0x1fc00) == 0)
              ))) goto LAB_1048_60e1;
          if (((*(char *)(iVar13 + 2) == '\0') || ((*(byte *)(iVar13 + 2) & 0x80) != 0)) ||
             (((uint *)param_1)[3] != *param_2)) {
            if (local_2c == 2) {
              local_c = *(ulong *)(puVar17 + local_2a * 2 + 0x11);
            }
            else {
              local_c = 0;
              puVar11 = puVar17 + 0x13;
              local_6 = CONCAT22(local_1c,puVar11);
              local_1e = puVar17;
              iVar13 = 1;
              local_8 = 1;
              do {
                if ((local_2c == 0) || (local_2a == iVar13)) {
                  uVar12 = *puVar11;
                  uVar16 = puVar11[1];
                }
                else {
                  uVar12 = puVar11[1];
                  uVar16 = (int)uVar12 >> 1;
                  uVar12 = *puVar11 >> 1 | (uint)((uVar12 & 1) != 0) << 0xf;
                }
                local_c = CONCAT22((int)(local_c >> 0x10) + uVar16 +
                                   (uint)CARRY2((uint)local_c,uVar12),(uint)local_c + uVar12);
                puVar11 = puVar11 + 2;
                iVar13 = iVar13 + 1;
                puVar17 = local_1e;
              } while (iVar13 < 4);
            }
            if (9 < (long)local_c) {
              local_8 = (int)((long)(local_c * 100) / local_10);
              if (100 - local_16 < local_8) {
                local_8 = 100 - local_16;
              }
              goto LAB_1048_601c;
            }
            goto LAB_1048_60e1;
          }
LAB_1048_5ecb:
          local_c = 25000;
          goto LAB_1048_60bd;
        }
        if (0x22 < local_16) {
          if (local_16 == 100) goto LAB_1048_5ecb;
          uVar19 = 0x19;
          uVar22 = 0;
          iVar13 = *puVar17 * 4;
          local_30._2_2_ = local_30._2_2_ - *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar13);
          local_30._0_2_ = (int)local_30 - *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar13);
          iVar13 = (int)((ulong)((long)(int)local_30 * (long)(int)local_30 +
                                (long)local_30._2_2_ * (long)local_30._2_2_) >> 0x10);
          FUN_10a0_0b96();
          uVar12 = FUN_10a0_0c14();
          local_6 = CONCAT22(iVar13 + (uint)(0xffe7 < uVar12),uVar12 + 0x18) /
                    CONCAT22(uVar22,uVar19);
          if (local_6 != 0) {
            iVar13 = local_16 * 0x14;
            goto LAB_1048_60ad;
          }
        }
      }
LAB_1048_60e1:
      puVar17 = puVar17 + 0x1e;
    } while (puVar17 < local_28);
  }
  if (local_20 == 0xffff) {
    return 0xffff;
  }
  puVar18 = &local_42;
  for (iVar13 = 4; iVar13 != 0; iVar13 = iVar13 + -1) {
    puVar4 = puVar18;
    puVar18 = puVar18 + 1;
    *puVar4 = 0;
  }
  *(undefined2 *)puVar18 = 0;
  local_42 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + local_20 * 4);
  local_3e = local_20;
  local_3c = local_3c & 0x41 | (uint)((byte)((ulong)local_3c >> 8) & 0xfd) << 8 | 0x541;
  puVar17 = &local_3a;
  local_6 = CONCAT22(puVar17,(uint)local_6);
  do {
    if (*param_2 == local_20) {
      uVar12 = *puVar17;
      *puVar17 = uVar12 & 0xff | (uint)((byte)((ulong)uVar12 >> 8) & 0xf) << 8 | 0x5000;
    }
    else {
      if (*(int *)((int)local_24 + 2) == -1) {
        iVar13 = 10;
      }
      else {
        iVar13 = 1;
      }
      uVar12 = *puVar17;
      *puVar17 = iVar13 << 0xc ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8);
    }
    puVar17 = puVar17 + 1;
  } while (puVar17 < &local_32);
  bVar5 = *(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + *(int *)&PTR_DAT_10a8_0001_10a8_00c0 * 0x76)
  ;
  if ((bVar5 & 0xe0) == 0x20) {
    if (((uint *)param_1)[3] == *param_2) {
      FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*param_1);
      FUN_1048_4c24(CONCAT22(((uint *)param_1)[3],1),2,(ulong)*param_1,0x32);
      if (0x4b0 < *(long *)((int)param_2 + 0x32)) {
        uVar19 = (undefined2)((ulong)local_24 >> 0x10);
        if ((*(int *)((int)local_24 + 2) != -1) &&
           (lVar6 = *(long *)((int)local_24 + 0x32), plVar2 = (long *)((int)param_2 + 0x32),
           *plVar2 != lVar6 && lVar6 <= *plVar2)) {
          FUN_1048_4c24(CONCAT22(((uint *)param_1)[3],1),2,CONCAT22(4,*param_1),1000);
        }
      }
      FUN_1010_0cda(*param_1,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
    }
    if ((*(int *)((int)local_24 + 2) != -1) && (param_2 != local_24)) {
LAB_1048_6346:
      local_32 = local_32 & 0xff | (uint)((byte)((ulong)local_32 >> 8) & 0xf) << 8 | 0x5000;
    }
  }
  else if (((bVar5 & 0xe0) == 0) && (((uint *)param_1)[3] == *param_2)) {
    uVar19 = (undefined2)((ulong)local_24 >> 0x10);
    if ((*(int *)((int)local_24 + 2) != -1) &&
       (*(int *)((int)local_24 + 2) != *(int *)&PTR_DAT_10a8_0001_10a8_00c0)) {
      FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*param_1);
      FUN_1048_4c24(CONCAT22(((uint *)param_1)[3],1),2,(ulong)*param_1,0x1e);
      if (*(long *)((int)param_2 + 0x32) < 0x3e9) {
        uVar12 = 100;
      }
      else {
        uVar12 = 300;
      }
      FUN_1048_4c24(CONCAT22(((uint *)param_1)[3],1),2,CONCAT22(4,*param_1),uVar12);
      FUN_1010_0cda(*param_1,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
      goto LAB_1048_6346;
    }
  }
  iVar13 = local_2a;
  if (*param_2 == local_20) {
    local_3a = 0x9019;
  }
  else if (local_2c != 0) {
    if (local_2c != 2) {
      if (*(long *)((int)local_24 + 0x22 + local_2a * 4) < (long)local_1a) {
        if (*(int *)((int)local_24 + 2) != -1) {
          puVar17 = local_38;
          iVar13 = 1;
          local_8 = 1;
          do {
            uVar12 = *puVar17;
            *puVar17 = uVar12 & 0xff | (uint)((byte)((ulong)uVar12 >> 8) & 0xf) << 8 | 0x3000;
            if (local_2a != iVar13) {
              local_1a._2_2_ = (int)local_1a._2_2_ >> 1;
              local_1a._0_2_ = (uint)local_1a >> 1 | (uint)((local_1a & 0x10000) != 0) << 0xf;
            }
            iVar14 = (int)local_1a._2_2_ >> 1;
            uVar12 = (uint)local_1a >> 1 | (uint)((local_1a._2_2_ & 1) != 0) << 0xf;
            local_6 = CONCAT22(iVar14,uVar12);
            if ((-1 < iVar14) && ((0 < iVar14 || (4000 < uVar12)))) {
              local_6 = 4000;
            }
            local_6._0_2_ = (uint)local_6 ^ *puVar17;
            puVar3 = puVar17;
            *puVar3 = *puVar3 ^ ((uint)local_6 & 0xff |
                                ((byte)((ulong)(uint)local_6 >> 8) & 0xf) << 8);
            iVar13 = iVar13 + 1;
            puVar17 = puVar17 + 1;
          } while (puVar17 < &local_32);
        }
        goto LAB_1048_6420;
      }
    }
    iVar14 = 1;
    do {
      if (iVar13 != iVar14) {
        pbVar1 = (byte *)((int)local_38 + iVar14 * 2 + -1);
        *pbVar1 = *pbVar1 & 0xf;
      }
      iVar14 = iVar14 + 1;
    } while (iVar14 < 4);
  }
LAB_1048_6420:
  iVar13 = FUN_1048_6444((uint *)param_1,param_1._2_2_,&local_42,0);
  if (iVar13 == 0) {
    return 0xffff;
  }
  return local_20;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1048_6444(uint *param_1,undefined2 param_2,undefined4 *param_3,int param_4)

{
  char *pcVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined *puVar5;
  undefined4 *puVar6;
  undefined2 in_DX;
  undefined2 uVar7;

  FUN_1020_2164((undefined *)&DAT_10a8_0002,(undefined *)*param_1);
  iVar4 = FUN_1048_6bf8((int)param_1,param_2);
  if ((((iVar4 != 0) && (param_1[3] != 0xffff)) &&
      ((undefined *)param_1[3] == PTR_DAT_10a8_0000_10a8_7bd6)) &&
     ((PTR_DAT_10a8_0000_10a8_7bd8 == PTR_DAT_10a8_0001_10a8_00c0 &&
      (0xfa < _PTR_DAT_10a8_0000_10a8_7bf8)))) {
    in_DX = (undefined2)((ulong)(_PTR_DAT_10a8_0000_10a8_7bf8 / 0x14) >> 0x10);
    FUN_1048_4c24(CONCAT22(param_1[3],1),2,(ulong)*param_1,
                  (uint)(_PTR_DAT_10a8_0000_10a8_7bf8 / 0x14));
    FUN_1010_0cda(*param_1,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
  }
  uVar7 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_7bc6 >> 0x10);
  puVar5 = (undefined *)(uint)*(byte *)((uint *)_PTR_DAT_10a8_0000_10a8_7bc6 + 1);
  if (puVar5 == PTR_DAT_10a8_0000_10a8_7bc4) {
    iVar4 = FUN_1038_0522((uint *)_PTR_DAT_10a8_0000_10a8_7bc6,uVar7,(uint)(puVar5 + 1));
    _PTR_DAT_10a8_0000_10a8_7bc6 = CONCAT22(in_DX,iVar4);
  }
  if (param_4 == 0) {
    puVar6 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_7bc6 + 0x16);
    for (iVar4 = 4; iVar4 != 0; iVar4 = iVar4 + -1) {
      puVar3 = puVar6;
      puVar6 = puVar6 + 1;
      puVar2 = param_3;
      param_3 = param_3 + 1;
      *puVar3 = *puVar2;
    }
    *(undefined2 *)puVar6 = *(undefined2 *)param_3;
    PTR_DAT_10a8_0000_10a8_7bc4 = (undefined *)&DAT_10a8_0002;
    PTR_DAT_10a8_0000_10a8_7bc6[3] = 2;
  }
  else {
    puVar6 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7bc4 * 0x12);
    PTR_DAT_10a8_0000_10a8_7bc4 = PTR_DAT_10a8_0000_10a8_7bc4 + 1;
    for (iVar4 = 4; puVar6 = puVar6 + 1, iVar4 != 0; iVar4 = iVar4 + -1) {
      puVar2 = param_3;
      param_3 = param_3 + 1;
      *puVar6 = *puVar2;
    }
    *(undefined2 *)puVar6 = *(undefined2 *)param_3;
    pcVar1 = (char *)((int)_PTR_DAT_10a8_0000_10a8_7bc6 + 3);
    *pcVar1 = *pcVar1 + '\x01';
  }
  FUN_1010_0cda(0xffff,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7b62);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1048_6568(int param_1,uint param_2,uint param_3,int param_4)

{
  uint *puVar1;
  undefined2 *puVar2;
  byte *pbVar3;
  char *pcVar4;
  byte bVar5;
  ulong uVar6;
  uint uVar7;
  undefined2 in_DX;
  ulong *puVar8;
  uint *puVar9;
  int iVar10;
  int iVar11;
  undefined2 *puVar12;
  undefined2 uVar13;
  undefined2 unaff_SS;
  ulong local_106 [64];
  int local_6;
  uint local_4;

  local_6 = 0;
  if (((uint)PTR_DAT_10a8_0000_10a8_4184 | (uint)PTR_DAT_10a8_0000_10a8_4182) == 0) {
    local_6 = 1;
    FUN_1068_0100(local_106);
    iVar11 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_8fe0) {
      puVar8 = local_106;
      do {
        in_DX = 0;
        if (((int)((*puVar8 & 0x1fc00) >> 10) == param_1) &&
           ((*(uint *)((int)puVar8 + 2) & 0xe) >> 1 == param_3)) break;
        puVar8 = puVar8 + 1;
        iVar11 = iVar11 + 1;
      } while (iVar11 < (int)PTR_DAT_10a8_0000_10a8_8fe0);
    }
    if (iVar11 < (int)PTR_DAT_10a8_0000_10a8_8fe0) {
      uVar7 = *(uint *)(local_106 + iVar11);
      uVar7 = uVar7 & 0xff | ((byte)((ulong)uVar7 >> 8) & 3) << 8;
      param_2 = (uVar7 - param_2 & -(uint)(uVar7 < param_2)) + param_2;
    }
    else {
      param_2 = 0;
    }
  }
  if (param_2 == 0) goto LAB_1048_6704;
  if (param_4 != 2) {
    uVar13 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
    puVar9 = (uint *)_PTR_DAT_10a8_0000_10a8_4182;
    bVar5 = *(byte *)((int)puVar9 + 3);
    if (*(byte *)(puVar9 + 1) == bVar5) {
      iVar11 = FUN_1038_0522(puVar9,uVar13,bVar5 + 3);
      _PTR_DAT_10a8_0000_10a8_4182 = CONCAT22(in_DX,iVar11);
    }
  }
  iVar11 = (int)_PTR_DAT_10a8_0000_10a8_4182;
  uVar13 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
  if (param_4 == 0) {
    local_4 = 0;
    FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_4182 & 0xffff0000 | (ulong)(iVar11 + 8),
                  _PTR_DAT_10a8_0000_10a8_4182 & 0xffff0000 | (ulong)(iVar11 + 4),
                  (uint)*(byte *)(iVar11 + 3) << 2);
    uVar6 = _PTR_DAT_10a8_0000_10a8_4182 >> 0x10;
    puVar12 = (undefined2 *)((int)_PTR_DAT_10a8_0000_10a8_4182 + 4);
    for (iVar11 = 2; iVar11 != 0; iVar11 = iVar11 + -1) {
      puVar2 = puVar12;
      puVar12 = puVar12 + 1;
      *puVar2 = 0;
    }
  }
  else {
    if (param_4 != 1) {
      if (param_4 != 2) goto LAB_1048_6687;
      *(undefined *)(iVar11 + 3) = 0;
    }
    local_4 = (uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_4182 + 3);
  }
LAB_1048_6687:
  iVar10 = local_4 * 4;
  uVar13 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
  iVar11 = (int)_PTR_DAT_10a8_0000_10a8_4182;
  uVar7 = *(uint *)(iVar11 + iVar10 + 4) ^ param_2;
  puVar1 = (uint *)(iVar11 + iVar10 + 4);
  *puVar1 = *puVar1 ^ (uVar7 & 0xff | ((byte)((ulong)uVar7 >> 8) & 3) << 8);
  puVar2 = (undefined2 *)(iVar11 + iVar10 + 6);
  *puVar2 = *puVar2;
  uVar13 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
  iVar11 = (int)_PTR_DAT_10a8_0000_10a8_4182;
  uVar7 = *(uint *)(iVar11 + iVar10 + 6);
  puVar1 = (uint *)(iVar11 + iVar10 + 4);
  *puVar1 = *puVar1 ^ (param_1 << 10 ^ *(uint *)(iVar11 + iVar10 + 4)) & 0xfc00;
  puVar1 = (uint *)(iVar11 + iVar10 + 6);
  *puVar1 = *puVar1 ^ (CARRY2(param_1 << 9,param_1 << 9) ^ uVar7) & 1;
  uVar13 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
  iVar11 = (int)_PTR_DAT_10a8_0000_10a8_4182;
  uVar7 = *(uint *)(iVar11 + iVar10 + 6);
  puVar2 = (undefined2 *)(iVar11 + iVar10 + 4);
  *puVar2 = *puVar2;
  puVar1 = (uint *)(iVar11 + iVar10 + 6);
  *puVar1 = *puVar1 ^ (uVar7 ^ param_3 * 2) & 0xe;
  puVar1 = (uint *)((int)_PTR_DAT_10a8_0000_10a8_4182 + iVar10 + 6);
  *puVar1 = *puVar1 & 0xf80f;
  pbVar3 = (byte *)((int)_PTR_DAT_10a8_0000_10a8_4182 + iVar10 + 7);
  *pbVar3 = *pbVar3 & 7;
  pcVar4 = (char *)((int)_PTR_DAT_10a8_0000_10a8_4182 + 3);
  *pcVar4 = *pcVar4 + '\x01';
LAB_1048_6704:
  if (local_6 != 0) {
    FUN_1068_07fa((uint)(param_2 != 0));
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1048_671e(int param_1)

{
  uint *puVar1;
  undefined *puVar2;
  byte bVar3;
  undefined *puVar4;
  int iVar5;
  ulong uVar6;
  uint uVar7;
  int iVar8;
  uint *puVar9;
  int iStack_e;
  undefined2 *local_8;

  puVar4 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
  if (PTR_DAT_10a8_0000_10a8_006a < puVar4) {
    local_8 = (undefined2 *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,PTR_DAT_10a8_0000_10a8_006a);
    do {
      if ((undefined *)*(int *)((int)local_8 + 2) == PTR_DAT_10a8_0001_10a8_00c0) {
        FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*local_8);
        uVar6 = _PTR_DAT_10a8_0000_10a8_7bf0 & 0xfff00;
        iStack_e = (int)(uVar6 >> 0x10);
        if (uVar6 < 0x1900) {
          if ((iStack_e == 0) && ((uint)uVar6 < 0xa00)) {
            uVar7 = 0;
          }
          else {
            uVar7 = 0x50;
          }
        }
        else {
          uVar7 = 0x96;
        }
        iVar8 = 0;
        puVar9 = (uint *)&PTR_DAT_10a8_0000_10a8_7bdc;
        do {
          puVar1 = puVar9;
          if (uVar7 <= *puVar1 && *puVar1 != uVar7) break;
          iVar8 = iVar8 + 1;
          puVar9 = puVar9 + 1;
        } while (puVar9 < (uint *)0x7be4);
        if ((iVar8 == 4) || (0xc7ff < uVar6)) {
          iVar8 = FUN_1020_3986((int)&PTR_DAT_10a8_0000_10a8_7bd6,(int)s_From___s_c_c_10a8_10a2 + 6,
                                (int)PTR_DAT_10a8_0001_10a8_00c0);
          iVar5 = FUN_1020_38de((int)&PTR_DAT_10a8_0000_10a8_7bd6,(int)s_From___s_c_c_10a8_10a2 + 6,
                                (int)PTR_DAT_10a8_0001_10a8_00c0);
          if ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76
                        ) & 0xe0) != 0) {
            if (PTR_DAT_10a8_0000_10a8_0042 < (undefined *)0x64) {
              if (0x96 < iVar5) {
                iVar5 = 0x96;
              }
            }
            else if ((PTR_DAT_10a8_0000_10a8_0042 < (undefined *)0x96) && (0xfa < iVar5)) {
              iVar5 = 0xfa;
            }
          }
          bVar3 = DAT_10a8_7bdb & 2;
          if (((((DAT_10a8_7bdb & 2) == 0) ||
               (0x18 < ((uint)PTR_DAT_10a8_0000_10a8_7bf4 & 0xff |
                       ((byte)(ZEXT24(PTR_DAT_10a8_0000_10a8_7bf4) >> 8) & 0xf) << 8))) ||
              (iVar8 <= (int)((uint)PTR_DAT_10a8_0000_10a8_7bf4 & 0xff |
                             ((byte)(ZEXT24(PTR_DAT_10a8_0000_10a8_7bf4) >> 8) & 0xf) << 8))) &&
             (((bVar3 != 0 ||
               (9 < ((uint)PTR_DAT_10a8_0000_10a8_7bf4 & 0xff |
                    ((byte)(ZEXT24(PTR_DAT_10a8_0000_10a8_7bf4) >> 8) & 0xf) << 8))) ||
              (iVar8 <= (int)((uint)PTR_DAT_10a8_0000_10a8_7bf4 & 0xff |
                             ((byte)(ZEXT24(PTR_DAT_10a8_0000_10a8_7bf4) >> 8) & 0xf) << 8))))) {
            if (((bVar3 == 0) ||
                (iVar5 <= (int)((uint)PTR_DAT_10a8_0000_10a8_7bf2 >> 4 & 0xff |
                               (uint)(byte)((ulong)((uint)PTR_DAT_10a8_0000_10a8_7bf2 >> 4) >> 8) <<
                               8))) ||
               ((_PTR_DAT_10a8_0000_10a8_7bfc < 0xb ||
                ((_PTR_DAT_10a8_0000_10a8_7c00 < 0xb || (_PTR_DAT_10a8_0000_10a8_7c04 < 0xb)))))) {
              if ((((bVar3 != 0) &&
                   ((int)((uint)PTR_DAT_10a8_0000_10a8_7bf4 & 0xff |
                         ((byte)(ZEXT24(PTR_DAT_10a8_0000_10a8_7bf4) >> 8) & 0xf) << 8) < iVar8)) &&
                  (100 < _PTR_DAT_10a8_0000_10a8_7bfc)) &&
                 ((100 < _PTR_DAT_10a8_0000_10a8_7c00 && (100 < _PTR_DAT_10a8_0000_10a8_7c04))))
              goto LAB_1048_6864;
              DAT_10a8_7bf6 = DAT_10a8_7bf6 & 0xf8ff;
            }
            else {
              DAT_10a8_7bf6 = DAT_10a8_7bf6 & 0xfaff | 0x200;
            }
          }
          else {
LAB_1048_6864:
            DAT_10a8_7bf6 = DAT_10a8_7bf6 & 0xfbff | 0x300;
          }
          if ((((DAT_10a8_7bf6 & 0x700) == 0) && (param_1 == 0x39e)) &&
             (iVar8 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,10),
             iVar8 != 0)) {
            DAT_10a8_7bf6 = DAT_10a8_7bf6 & 0xfdff | 0x500;
          }
        }
        else {
          if ((0x31ff < uVar6) || ((DAT_10a8_7bf6 & 0x700) != 0)) goto LAB_1048_6920;
          DAT_10a8_7bf6 = DAT_10a8_7bf6 & 63999 | 0x100;
        }
        FUN_1010_02b0(-1,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bd6);
      }
LAB_1048_6920:
      puVar2 = (undefined *)((int)local_8 + 0x3c);
      local_8 = (undefined2 *)((ulong)local_8 & 0xffff0000 | ZEXT24(puVar2));
    } while (puVar2 < puVar4);
  }
  return;
}



int __cdecl16far FUN_1048_6932(int param_1,undefined2 param_2,int param_3)

{
  char *pcVar1;
  byte bVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  int local_4;

  iVar4 = 0;
  if (0 < param_3) {
    do {
      bVar2 = *(byte *)(param_1 + iVar4);
      if ((int)*(char *)((uint)(bVar2 >> 5) + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x7788) <
          (int)(bVar2 & 0x1f)) {
        iVar5 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76;
        *(byte *)((int)&DAT_10a8_888b + iVar5) = *(byte *)(param_1 + iVar4) >> 5;
        local_4 = (uint)*(byte *)((int)&DAT_10a8_888b + iVar5) * 0x100 +
                  (int)*(char *)((int)&DAT_10a8_888a + iVar5);
        FUN_1020_4788(0x22,2,&local_4);
        return iVar4;
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < param_3);
  }
  iVar4 = 0;
  iVar5 = 1;
  do {
    cVar3 = *(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + iVar5 + -0x7788);
    pcVar1 = (char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + iVar4 + -0x7788);
    if (*pcVar1 != cVar3 && cVar3 <= *pcVar1) {
      iVar4 = iVar5;
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < 6);
  iVar5 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76;
  if (*(char *)((int)&DAT_10a8_888b + iVar5) != iVar4) {
    *(undefined *)((int)&DAT_10a8_888b + iVar5) = (char)iVar4;
    local_4 = iVar4 * 0x100 + (int)*(char *)((int)&DAT_10a8_888a + iVar5);
    FUN_1020_4788(0x22,2,&local_4);
  }
  return 0x39e;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1048_6a12(int *param_1)

{
  int *piVar1;
  int iVar2;
  undefined *puVar3;
  int *piVar4;
  int local_3c [16];
  int local_1c;
  int local_1a;
  int local_18;
  int local_16;
  uint local_14;
  uint local_12;
  int local_10;
  undefined4 local_e;
  int *local_8;
  int *local_6;
  int *local_4;

  local_18 = 0;
  local_1c = 0;
  if (((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) &
       0x1c) != 0) || (((uint)PTR_DAT_10a8_0000_10a8_0042 & 1) == 0)) {
    if (PTR_DAT_10a8_0000_10a8_0042 < (undefined *)&PTR_DAT_10a8_0000_10a8_001e) {
      return 1;
    }
    iVar2 = 0;
    local_4 = local_3c;
    piVar4 = (int *)&PTR_DAT_10a8_0000_10a8_71e6;
    local_16 = -1;
    local_1a = 0x10;
    do {
      if (((*(byte *)(piVar4 + 0x3e) & 2) == 0) && ((*piVar4 == 0xe || (*piVar4 == 0xf)))) {
        *local_4 = 1;
        if (local_16 < iVar2) {
          local_16 = iVar2;
        }
        if (iVar2 < local_1a) {
          local_1a = iVar2;
        }
      }
      else {
        *local_4 = 0;
      }
      local_4 = local_4 + 1;
      iVar2 = iVar2 + 1;
      piVar4 = (int *)((int)piVar4 + 0x87);
    } while (piVar4 < (int *)&DAT_10a8_7a56);
    local_16 = local_16 + 1;
    if (0 < local_16) {
      local_10 = 0;
      if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
        local_e = _PTR_DAT_10a8_0000_10a8_006e;
        do {
          local_14 = *local_e;
          local_12 = *(uint *)((int)local_e + 2);
          if ((local_12 | local_14) == 0) break;
          if (((undefined *)*(int *)(local_14 + 2) == PTR_DAT_10a8_0001_10a8_00c0) &&
             (local_1a < local_16)) {
            local_6 = (int *)(local_1a * 2 + local_14 + 0xc);
            local_4 = (int *)local_12;
            local_8 = local_3c + local_1a;
            iVar2 = local_1a;
            do {
              if ((0 < *local_8) && (0 < *local_6)) {
                local_18 = local_18 + 1;
                break;
              }
              local_6 = local_6 + 1;
              local_8 = local_8 + 1;
              iVar2 = iVar2 + 1;
            } while (iVar2 < local_16);
          }
          local_e = (uint *)((ulong)local_e & 0xffff0000 | (ulong)((int)local_e + 4));
          local_10 = local_10 + 1;
        } while (local_10 < (int)PTR_DAT_10a8_0000_10a8_83c6);
      }
      if (param_1 != (int *)0x0) {
        *param_1 = local_18;
      }
      if (local_18 <= (int)PTR_DAT_10a8_0002_10a8_0034 * 0x14 + 10) {
        if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
          iVar2 = (int)&DAT_10a8_8864;
          local_1c = 0;
          puVar3 = PTR_DAT_10a8_0002_10a8_0038;
          do {
            if ((*(byte *)(iVar2 + 1) & 1) != 0) {
              local_1c = local_1c + *(int *)(iVar2 + -4);
            }
            iVar2 = iVar2 + 0x76;
            puVar3 = puVar3 + -1;
          } while (puVar3 != (undefined *)0x0);
        }
        if (local_1c + local_18 <=
            (int)((int)PTR_DAT_10a8_0000_10a8_003a * 3 +
                 ((int)PTR_DAT_10a8_0000_10a8_003a * 3 >> 0xf & 3U)) >> 2) {
          local_e._2_2_ = 0;
          if (local_1a < local_16) {
            piVar1 = (int *)(local_1a * 0x87 + 0x7265);
            piVar4 = local_3c + local_1a;
            local_16 = local_16 - local_1a;
            do {
              if (0 < *piVar4) {
                local_e._2_2_ = local_e._2_2_ + *piVar1;
              }
              piVar1 = (int *)((int)piVar1 + 0x87);
              piVar4 = piVar4 + 1;
              local_16 = local_16 + -1;
            } while (local_16 != 0);
          }
          if ((local_e._2_2_ - local_1c) - local_18 < 0x1a) {
            return 1;
          }
        }
      }
    }
  }
  return 0;
}



undefined2 __cdecl16far FUN_1048_6bf8(int param_1,undefined2 param_2)

{
  int iVar1;
  int *piVar2;
  int *piVar3;

  piVar3 = (int *)&PTR_DAT_10a8_0000_10a8_71e6;
  piVar2 = (int *)(param_1 + 0xc);
  while (((*piVar2 < 1 || (iVar1 = *piVar3, iVar1 < 5)) || (10 < iVar1))) {
    piVar2 = piVar2 + 1;
    piVar3 = (int *)((int)piVar3 + 0x87);
    if ((int *)0x7a55 < piVar3) {
      return 0;
    }
  }
  return 1;
}



undefined2 __cdecl16far FUN_1048_6c3a(int param_1,undefined2 param_2)

{
  int iVar1;
  int *piVar2;
  int *piVar3;

  piVar3 = (int *)&PTR_DAT_10a8_0000_10a8_71e6;
  piVar2 = (int *)(param_1 + 0xc);
  while (((*piVar2 < 1 || (iVar1 = *piVar3, iVar1 < 4)) || (10 < iVar1))) {
    piVar2 = piVar2 + 1;
    piVar3 = (int *)((int)piVar3 + 0x87);
    if ((int *)0x7a55 < piVar3) {
      return 0;
    }
  }
  return 1;
}



undefined2 __cdecl16far FUN_1048_6c7c(int param_1,undefined2 param_2)

{
  int iVar1;
  int *piVar2;
  int *piVar3;

  piVar3 = (int *)&PTR_DAT_10a8_0000_10a8_71e6;
  piVar2 = (int *)(param_1 + 0xc);
  while ((*piVar2 < 1 ||
         (((iVar1 = *piVar3, iVar1 < 0 || (3 < iVar1)) && ((iVar1 < 0xb || (0xd < iVar1))))))) {
    piVar2 = piVar2 + 1;
    piVar3 = (int *)((int)piVar3 + 0x87);
    if ((int *)0x7a55 < piVar3) {
      return 0;
    }
  }
  return 1;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1048_6cc8(void)

{
  int *piVar1;
  uint *puVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  ulong uVar6;
  int *piVar7;
  int *piVar8;
  undefined2 *puVar9;
  uint uVar10;
  long lVar11;
  int iVar12;
  uint in_DX;
  int iVar13;
  undefined4 *puVar14;
  undefined2 *puVar15;
  long *plVar16;
  uint uVar17;
  undefined4 *puVar18;
  int iVar19;
  undefined2 uVar20;
  int unaff_SS;
  int iVar21;
  long lStackY_3e;
  ulong uStackY_3a;
  int local_1e;
  int iStack_1c;
  int local_1a;
  int *local_18;
  int local_14;
  undefined4 local_12;
  long local_e;
  undefined4 local_a;
  undefined4 local_6;

  iVar21 = (int)s_From___s_c_c_10a8_10a2 + 6;
  if (*_PTR_DAT_10a8_0000_10a8_4b84 < 3) {
    *(undefined2 *)((int)_PTR_DAT_10a8_0000_10a8_4b84 + 2) = 0;
  }
  if ((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0012 + 1U) < PTR_DAT_10a8_0000_10a8_0042) {
    local_a._2_2_ = 0;
    uVar20 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_4b84 >> 0x10);
    iVar13 = (int)_PTR_DAT_10a8_0000_10a8_4b84;
    if ((*(int *)(iVar13 + 2) < 0) || (0x20 < *(int *)(iVar13 + 2))) {
      *(undefined2 *)(iVar13 + 2) = 0;
    }
    local_14 = 0;
    uVar20 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_4b84 >> 0x10);
    iVar13 = (int)_PTR_DAT_10a8_0000_10a8_4b84;
    if (0 < *(int *)(iVar13 + 2)) {
      local_6 = (uint *)0x0;
      local_a._2_2_ = 0;
      do {
        iVar13 = iVar13 + local_6._2_2_;
        if ((*(int *)(iVar13 + 6) < 0) || (8 < *(int *)(iVar13 + 6))) {
          *(undefined2 *)(iVar13 + 6) = 0;
        }
        piVar8 = FUN_1010_018e(*(int *)((int)_PTR_DAT_10a8_0000_10a8_4b84 + local_6._2_2_ + 4));
        if (((in_DX | (uint)piVar8) != 0) && ((undefined *)piVar8[1] == PTR_DAT_10a8_0001_10a8_00c0)
           ) {
          if (local_a._2_2_ != local_14) {
            uVar20 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_4b84 >> 0x10);
            puVar14 = (undefined4 *)((int)_PTR_DAT_10a8_0000_10a8_4b84 + local_6._2_2_);
            puVar18 = (undefined4 *)((int)_PTR_DAT_10a8_0000_10a8_4b84 + (int)local_6);
            iVar13 = 5;
            while( true ) {
              puVar18 = puVar18 + 1;
              puVar14 = puVar14 + 1;
              if (iVar13 == 0) break;
              iVar13 = iVar13 + -1;
              *puVar18 = *puVar14;
            }
          }
          local_6 = (uint *)((ulong)local_6 & 0xffff0000 | (ulong)((int)local_6 + 0x14));
          local_a._2_2_ = local_a._2_2_ + 1;
        }
        local_6 = (uint *)((ulong)local_6 & 0xffff | (ulong)(local_6._2_2_ + 0x14) << 0x10);
        local_14 = local_14 + 1;
        uVar20 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_4b84 >> 0x10);
        iVar13 = (int)_PTR_DAT_10a8_0000_10a8_4b84;
        piVar1 = (int *)(iVar13 + 2);
        in_DX = in_DX | (uint)piVar8;
      } while (*piVar1 != local_14 && local_14 <= *piVar1);
    }
    *(int *)(iVar13 + 2) = local_a._2_2_;
    puVar9 = (undefined2 *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
    local_12 = (int *)(ZEXT24(PTR_DAT_10a8_0000_10a8_006c) << 0x10);
    for (puVar15 = (undefined2 *)PTR_DAT_10a8_0000_10a8_006a; puVar15 < puVar9;
        puVar15 = puVar15 + 0x1e) {
      local_12._2_2_ = (int)((ulong)local_12 >> 0x10);
      if ((puVar15[1] == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
         ((*(byte *)((int)puVar15 + 5) & 2) != 0)) {
        iVar13 = 0;
        uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
        uVar20 = (undefined2)((ulong)uVar5 >> 0x10);
        iVar19 = (int)uVar5;
        if (0 < *(int *)(iVar19 + 2)) {
          piVar8 = (int *)(iVar19 + 4);
          local_12 = (int *)((ulong)local_12 & 0xffff0000 | ZEXT24(puVar15));
          do {
            iVar21 = unaff_SS;
            if (*piVar8 == *local_12) break;
            piVar8 = piVar8 + 10;
            iVar13 = iVar13 + 1;
            uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
            piVar1 = (int *)((int)uVar5 + 2);
          } while (*piVar1 != iVar13 && iVar13 <= *piVar1);
        }
        uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
        if ((*(int *)((int)uVar5 + 2) == iVar13) && (iVar13 < 0x20)) {
          *(undefined2 *)(iVar13 * 0x14 + *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 4) = *puVar15;
          uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
          *(undefined2 *)((int)uVar5 + iVar13 * 0x14 + 6) = 0;
          uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
          piVar1 = (int *)((int)uVar5 + 2);
          *piVar1 = *piVar1 + 1;
        }
      }
    }
    uVar17 = *(uint *)&PTR_DAT_10a8_0000_10a8_006a;
    local_12 = (int *)((ulong)*(uint *)&PTR_DAT_10a8_0000_10a8_006c << 0x10);
    uVar10 = uVar17 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
    for (; uVar17 < uVar10; uVar17 = uVar17 + 0x3c) {
      local_12._2_2_ = (int)((ulong)local_12 >> 0x10);
      uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
      iVar13 = (int)uVar5;
      if (0x1f < *(int *)(iVar13 + 2)) break;
      iVar19 = *(int *)&PTR_DAT_10a8_0001_10a8_00c0;
      if ((*(int *)(uVar17 + 2) == iVar19) && ((*(byte *)(uVar17 + 5) & 2) == 0)) {
        if ((*(uint *)&PTR_DAT_10a8_0000_10a8_0042 < 0x3c) ||
           ((uVar20 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4b86, 10 < *(int *)(iVar13 + 2) ||
            (iVar19 = iVar19 * 0x76,
            *(int *)((int)&PTR_DAT_10a8_0000_10a8_8860 + iVar19) /
            (int)((-(uint)((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + iVar19) & 0xe0) == 0) &
                  0xf) + 5) < *(int *)(*(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 2))))) {
          uVar3 = *(uint *)(uVar17 + 0x22);
          puVar2 = (uint *)(uVar17 + 6);
          iVar13 = *(int *)(uVar17 + 0x24) + (uint)CARRY2(uVar3,*puVar2);
          if ((iVar13 < 0) ||
             (((iVar13 < 1 && (uVar3 + *puVar2 < (int)s__d_of__d_10a8_1381 + 7U)) ||
              (*(char *)(uVar17 + 0xe) < '#')))) goto LAB_1048_7066;
        }
        if (0x4f < *(long *)(uVar17 + 0x32)) {
          local_e = 0;
          iVar13 = 1;
          local_6 = (uint *)((ulong)local_12 & 0xffff0000 | (ulong)(uVar17 + 8));
          uVar6 = (ulong)local_12 & 0xffff0000;
          local_12 = (int *)(uVar6 | uVar17);
          plVar16 = (long *)(uVar17 + 0x26);
          do {
            puVar2 = local_6;
            local_6 = (uint *)((ulong)local_6 & 0xffff0000 | (ulong)((int)local_6 + 2));
            uStackY_3a = (ulong)*puVar2;
            lStackY_3e = (long)(int)*(char *)(uVar17 + 0xe + iVar13);
            local_e = local_e + (long)(lStackY_3e * uStackY_3a) / 100 + *plVar16;
            iVar13 = iVar13 + 1;
            plVar16 = plVar16 + 1;
          } while (iVar13 < 3);
          if (6999 < local_e) {
            local_14 = 0;
            uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
            uVar20 = (undefined2)((ulong)uVar5 >> 0x10);
            iVar13 = (int)uVar5;
            if (0 < *(int *)(iVar13 + 2)) {
              piVar8 = (int *)(iVar13 + 4);
              do {
                iVar13 = *piVar8;
                if (*local_12 == iVar13) break;
                iVar13 = iVar13 * 4;
                iVar19 = *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar13) -
                         *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + *local_12 * 4);
                uStackY_3a = (ulong)iVar19;
                lVar11 = uStackY_3a * (long)iVar19;
                local_1e = (int)*(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar13);
                local_1e = local_1e - *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *local_12 * 4);
                uStackY_3a = (ulong)local_1e;
                if ((long)(uStackY_3a * (long)local_1e + lVar11) < 0x9c4) break;
                piVar8 = piVar8 + 10;
                local_14 = local_14 + 1;
                uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
                piVar1 = (int *)((int)uVar5 + 2);
              } while (*piVar1 != local_14 && local_14 <= *piVar1);
            }
            uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
            iVar13 = (int)uVar5;
            piVar1 = (int *)(iVar13 + 2);
            if (*piVar1 == local_14 || *piVar1 < local_14) {
              uVar20 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4b86;
              *(int *)(iVar13 + *(int *)(iVar13 + 2) * 0x14 + 4) = *local_12;
              uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
              uVar20 = (undefined2)((ulong)uVar5 >> 0x10);
              iVar13 = (int)uVar5;
              *(undefined2 *)(iVar13 + *(int *)(iVar13 + 2) * 0x14 + 6) = 0;
              uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
              piVar1 = (int *)((int)uVar5 + 2);
              *piVar1 = *piVar1 + 1;
            }
          }
        }
      }
LAB_1048_7066:
    }
    local_1a = 0;
    if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6) {
      local_12._0_2_ = 0;
      do {
        uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
        uVar20 = (undefined2)((ulong)uVar5 >> 0x10);
        iVar13 = (int)uVar5;
        uVar17 = *(uint *)(iVar13 + (int)local_12);
        uVar10 = *(uint *)(iVar13 + (int)local_12 + 2);
        if ((uVar10 | uVar17) == 0) break;
        if ((*(int *)(uVar17 + 2) == *(int *)&PTR_DAT_10a8_0001_10a8_00c0) &&
           (iVar13 = FUN_1048_6c7c(uVar17,uVar10), iVar13 != 0)) {
          local_18 = (int *)CONCAT22(uVar10,uVar17);
          local_14 = 0;
          uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
          uVar20 = (undefined2)((ulong)uVar5 >> 0x10);
          iVar13 = (int)uVar5;
          if (0 < *(int *)(iVar13 + 2)) {
            piVar8 = (int *)(iVar13 + 6);
            do {
              iVar12 = 0;
              iVar13 = *piVar8;
              iVar19 = 0;
              piVar7 = piVar8;
              if (0 < iVar13) {
                do {
                  iVar12 = iVar19;
                  iVar21 = unaff_SS;
                  if (*local_18 == piVar7[1]) break;
                  iVar12 = iVar12 + 1;
                  iVar19 = iVar12;
                  piVar7 = piVar7 + 1;
                } while (iVar12 < iVar13);
              }
              if (iVar12 < iVar13) break;
              piVar8 = piVar8 + 10;
              local_14 = local_14 + 1;
              uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
              piVar1 = (int *)((int)uVar5 + 2);
            } while (*piVar1 != local_14 && local_14 <= *piVar1);
          }
          uVar6 = *(ulong *)&PTR_DAT_10a8_0000_10a8_4b84;
          uVar20 = (undefined2)(uVar6 >> 0x10);
          iVar13 = (int)uVar6;
          if (*(int *)(iVar13 + 2) == local_14) {
            local_12._2_2_ = -1;
            local_a = 10000000;
            iVar19 = 0;
            if (0 < *(int *)(iVar13 + 2)) {
              local_6 = (uint *)(uVar6 & 0xffff0000 | (ulong)(iVar13 + 6));
              do {
                if ((int)*local_6 < 8) {
                  uVar5 = *(undefined4 *)
                           ((int)&PTR_DAT_10a8_0000_10a8_6238 + *(int *)((int)local_6 + -2) * 4);
                  iVar13 = (int)uVar5 - *(int *)(uVar17 + 8);
                  uStackY_3a = (ulong)iVar13;
                  lVar11 = uStackY_3a * (long)iVar13;
                  iStack_1c = (int)((ulong)uVar5 >> 0x10);
                  iStack_1c = iStack_1c - *(int *)(uVar17 + 10);
                  uStackY_3a = (ulong)iStack_1c;
                  lVar11 = uStackY_3a * (long)iStack_1c + lVar11;
                  if (lVar11 < local_a) {
                    local_a = lVar11;
                    local_12._2_2_ = iVar19;
                  }
                }
                local_6 = (uint *)((ulong)local_6 & 0xffff0000 | (ulong)((int)local_6 + 0x14));
                iVar19 = iVar19 + 1;
                uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
                piVar1 = (int *)((int)uVar5 + 2);
              } while (*piVar1 != iVar19 && iVar19 <= *piVar1);
            }
            if (local_12._2_2_ != -1) {
              uVar20 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4b86;
              *(int *)((local_12._2_2_ * 10 +
                       *(int *)(local_12._2_2_ * 0x14 + *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 6)) *
                       2 + *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 8) = *local_18;
              uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
              piVar1 = (int *)((int)uVar5 + local_12._2_2_ * 0x14 + 6);
              *piVar1 = *piVar1 + 1;
            }
          }
        }
        local_12._0_2_ = (int)local_12 + 4;
        local_1a = local_1a + 1;
      } while (local_1a < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
    }
    local_14 = 0;
    uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
    uVar20 = (undefined2)((ulong)uVar5 >> 0x10);
    if (0 < *(int *)((int)uVar5 + 2)) {
      iVar19 = 0;
      iVar13 = 0;
      do {
        iVar12 = *(int *)&PTR_DAT_10a8_0000_10a8_4b84;
        iVar4 = *(int *)(iVar19 + iVar12 + 6);
        if (iVar4 < 4) {
          local_a._2_2_ = 0;
          if (0 < *(int *)(iVar12 + 2)) {
            piVar8 = (int *)(iVar12 + 6);
            local_a._2_2_ = 0;
            do {
              if (iVar4 + 2 <= *piVar8) break;
              piVar8 = piVar8 + 10;
              local_a._2_2_ = local_a._2_2_ + 1;
              piVar1 = (int *)(iVar12 + 2);
            } while (*piVar1 != local_a._2_2_ && local_a._2_2_ <= *piVar1);
          }
          uVar20 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4b86;
          piVar1 = (int *)(iVar12 + 2);
          if (*piVar1 != local_a._2_2_ && local_a._2_2_ <= *piVar1) {
            piVar1 = (int *)(local_a._2_2_ * 0x14 + *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 6);
            *piVar1 = *piVar1 + -1;
            uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
            uVar20 = (undefined2)((ulong)uVar5 >> 0x10);
            *(undefined2 *)
             ((*(int *)(iVar19 + *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 6) + iVar13) * 2 +
              *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 8) =
                 *(undefined2 *)
                  ((*(int *)((int)uVar5 + local_a._2_2_ * 0x14 + 6) + local_a._2_2_ * 10) * 2 +
                   *(int *)&PTR_DAT_10a8_0000_10a8_4b84 + 8);
            uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
            piVar1 = (int *)(iVar19 + (int)uVar5 + 6);
            *piVar1 = *piVar1 + 1;
          }
        }
        iVar13 = iVar13 + 10;
        iVar19 = iVar19 + 0x14;
        local_14 = local_14 + 1;
        uVar5 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b84;
        uVar20 = (undefined2)((ulong)uVar5 >> 0x10);
        piVar1 = (int *)((int)uVar5 + 2);
      } while (*piVar1 != local_14 && local_14 <= *piVar1);
    }
    piVar8 = *(int **)&PTR_DAT_10a8_0000_10a8_4b84;
    *piVar8 = piVar8[1] * 0x14 + 4;
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1048_7336(ulong param_1,long *param_2)

{
  long *plVar1;
  int iVar2;
  long *plVar3;
  undefined4 local_6;

  FUN_1008_9d54(param_1,param_2,0xffff);
  plVar1 = (long *)((int)param_1 + 0x26);
  iVar2 = 3;
  plVar3 = param_2;
  do {
    *plVar3 = *plVar1 + plVar3[1];
    plVar3 = plVar3 + 1;
    plVar1 = plVar1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  iVar2 = FUN_1020_39d0((int)param_1,param_1._2_2_,(int)PTR_DAT_10a8_0001_10a8_00c0);
  local_6 = (long)iVar2;
  if ((DAT_10a8_7bf6 & 0x80) == 0) {
    local_6 = local_6 + ((long)(int)*(char *)((int)&DAT_10a8_888a +
                                             (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) * (long)iVar2)
                        / -100;
  }
  *(undefined2 *)(param_2 + 3) = (undefined2)local_6;
  *(undefined2 *)((int)param_2 + 0xe) = local_6._2_2_;
  return;
}



void __cdecl16far FUN_1048_73d8(long param_1,long *param_2)

{
  long *plVar1;
  long *plVar2;
  int iVar3;
  long *plVar4;
  long *plVar5;
  long local_1c [4];
  int local_c;
  int local_a;
  undefined2 local_8;
  long *local_6;
  long *local_4;

  plVar5 = param_2;
  for (iVar3 = 4; iVar3 != 0; iVar3 = iVar3 + -1) {
    plVar2 = plVar5;
    plVar5 = plVar5 + 1;
    *plVar2 = 0;
  }
  if (param_1 != 0) {
    local_c = 0;
    local_8 = param_1._2_2_;
    iVar3 = (int)param_1;
    if (*(char *)((int)param_1 + 3) != '\0') {
      do {
        iVar3 = iVar3 + 4;
        FUN_1068_1a7c((uint *)CONCAT22(local_8,iVar3),local_1c,(int)PTR_DAT_10a8_0001_10a8_00c0,0);
        plVar5 = local_1c;
        local_6 = param_2;
        local_a = iVar3;
        local_4 = plVar5;
        plVar4 = param_2;
        do {
          plVar2 = plVar5;
          plVar5 = plVar5 + 1;
          plVar1 = plVar4;
          *plVar1 = *plVar1 + *plVar2;
          plVar4 = plVar4 + 1;
        } while (plVar5 < &local_c);
        local_c = local_c + 1;
      } while (local_c < (int)(uint)*(byte *)((int)param_1 + 3));
    }
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1048_746e(uint param_1)

{
  undefined4 uVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;
  undefined4 *puVar6;
  undefined2 unaff_SS;
  undefined4 local_bc;
  int local_3c [16];
  int local_1c;
  int local_1a;
  undefined4 local_18;
  int local_14;
  long local_12;
  int local_e;
  int local_c;
  int local_a;
  int *local_8;
  uint local_6;
  int *local_4;

  local_e = -1;
  local_1a = 0x10;
  iVar3 = 0;
  uVar5 = 1;
  do {
    if ((param_1 & uVar5) == 0) {
      local_3c[iVar3] = 0;
    }
    else {
      local_3c[iVar3] = 1;
      if (local_e < iVar3) {
        local_e = iVar3;
      }
      if (iVar3 < local_1a) {
        local_1a = iVar3;
      }
    }
    uVar5 = uVar5 * 2;
    iVar3 = iVar3 + 1;
  } while (iVar3 < 0x10);
  local_e = local_e + 1;
  if (local_e < 1) {
    return;
  }
  local_18 = 0;
  local_c = 0;
  local_14 = 0;
  do {
    if (local_14 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
      local_18._0_2_ = *(undefined4 **)(PTR_DAT_10a8_0000_10a8_006e + local_14 * 4);
      local_18._2_2_ = *(uint *)((int)(PTR_DAT_10a8_0000_10a8_006e + local_14 * 4) + 2);
      if ((local_18._2_2_ | (uint)(undefined4 *)local_18) == 0) goto LAB_1048_74f0;
    }
    else {
LAB_1048_74f0:
      if (local_18 == 0) {
        return;
      }
      local_18 = 0;
      local_14 = local_1c;
      local_c = 0;
    }
    if (((undefined *)*(int *)((int)(undefined4 *)local_18 + 2) == PTR_DAT_10a8_0001_10a8_00c0) &&
       (*(int *)((int)(undefined4 *)local_18 + 6) != -1)) {
      local_12 = CONCAT22(local_18._2_2_,(undefined4 *)local_18);
      iVar3 = local_1a;
      if (local_1a < local_e) {
        piVar2 = local_3c + local_1a;
        local_4 = piVar2;
        piVar4 = (int *)((int)(undefined4 *)local_18 + local_1a * 2 + 0xc);
        local_8 = piVar4;
        local_6 = local_18._2_2_;
        do {
          if ((0 < *piVar4) && (0 < *piVar2)) break;
          piVar2 = piVar2 + 1;
          piVar4 = piVar4 + 1;
          iVar3 = iVar3 + 1;
        } while (iVar3 < local_e);
      }
      if (iVar3 != local_e) {
        local_a = 0;
        if (0 < local_c) {
          puVar6 = &local_bc;
          do {
            uVar1 = *puVar6;
            if (*(int *)((int)(undefined4 *)local_18 + 6) == *(int *)((int)uVar1 + 6)) break;
            puVar6 = puVar6 + 1;
            local_a = local_a + 1;
          } while (local_a < local_c);
        }
        if (local_a < local_c) {
          uVar1 = (&local_bc)[local_a];
          FUN_1028_5e2e((undefined4 *)uVar1,(int)((ulong)uVar1 >> 0x10),(undefined4 *)local_18,
                        local_18._2_2_);
        }
        else if (local_c == 0x20) {
          if (local_18 == 0) {
            local_18 = local_12;
            local_1c = local_14;
          }
        }
        else {
          iVar3 = local_c * 4;
          *(undefined4 **)(&local_bc + local_c) = (undefined4 *)local_18;
          *(uint *)((int)&local_bc + iVar3 + 2) = local_18._2_2_;
          local_c = local_c + 1;
        }
      }
    }
    local_14 = local_14 + 1;
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint __cdecl16far FUN_1048_75f8(undefined4 param_1,undefined *param_2)

{
  uint uVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  long lVar5;
  int iVar6;
  undefined2 uVar7;
  long lStack_28;
  long lStack_24;
  int local_18;
  int iStack_16;
  uint local_10;
  int local_c;
  long local_a;

  local_a = 10000000;
  local_10 = 0;
  uVar3 = *(undefined4 *)((int)param_1 + 8);
  local_c = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    iVar6 = 0;
    local_10 = 0;
    do {
      uVar7 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
      uVar1 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar6);
      uVar2 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar6 + 2);
      if ((uVar2 | uVar1) == 0) {
        return local_10;
      }
      local_18 = (int)uVar3;
      local_18 = local_18 - *(int *)(uVar1 + 8);
      lStack_24 = (long)local_18;
      lStack_28 = (long)local_18;
      lVar5 = lStack_28 * lStack_24;
      iStack_16 = (int)((ulong)uVar3 >> 0x10);
      iStack_16 = iStack_16 - *(int *)(uVar1 + 10);
      lStack_24 = (long)iStack_16;
      lStack_28 = (long)iStack_16;
      lVar5 = lStack_28 * lStack_24 + lVar5;
      if ((lVar5 < local_a) && (iVar4 = (*(code *)param_2)(), iVar4 != 0)) {
        local_a = lVar5;
        local_10 = uVar1;
      }
      iVar6 = iVar6 + 4;
      local_c = local_c + 1;
    } while (local_c < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  return local_10;
}



int * __cdecl16far FUN_1048_76c6(int *param_1,undefined *param_2)

{
  undefined4 uVar1;
  int *piVar2;
  undefined *puVar3;
  int *piVar4;
  long lVar5;
  int iVar6;
  int *piVar7;
  long lStack_2c;
  long lStack_28;
  int local_1a;
  int iStack_18;
  int *local_e;
  long local_a;

  puVar3 = PTR_DAT_10a8_0000_10a8_006c;
  local_a = 10000000;
  piVar2 = (int *)0x0;
  local_e = (int *)0x0;
  uVar1 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *param_1 * 4);
  piVar4 = (int *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  piVar7 = (int *)PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a < piVar4) {
    do {
      iStack_18 = (int)((ulong)uVar1 >> 0x10);
      iVar6 = *piVar7 * 4;
      iStack_18 = iStack_18 - *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar6);
      lStack_28 = (long)iStack_18;
      lStack_2c = (long)iStack_18;
      lVar5 = lStack_2c * lStack_28;
      local_1a = (int)uVar1;
      local_1a = local_1a - *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar6);
      lStack_28 = (long)local_1a;
      lStack_2c = (long)local_1a;
      lVar5 = lStack_2c * lStack_28 + lVar5;
      local_e = piVar2;
      if ((lVar5 < local_a) && (iVar6 = (*(code *)param_2)(), iVar6 != 0)) {
        local_a = lVar5;
        local_e = piVar7;
      }
      piVar7 = piVar7 + 0x1e;
      piVar2 = local_e;
    } while (piVar7 < piVar4);
  }
  return local_e;
}



int * __cdecl16far FUN_1048_779a(int *param_1,undefined *param_2)

{
  undefined4 uVar1;
  long lVar2;
  int *piVar3;
  undefined *puVar4;
  int *piVar5;
  long lVar6;
  int iVar7;
  int *piVar8;
  long lStack_2c;
  long lStack_28;
  int local_1c;
  int iStack_1a;
  int *local_10;
  int local_c;

  puVar4 = PTR_DAT_10a8_0000_10a8_006c;
  local_c = 1;
  lVar2 = 10000000;
  piVar3 = (int *)0x0;
  local_10 = (int *)0x0;
  uVar1 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *param_1 * 4);
  piVar5 = (int *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  piVar8 = (int *)PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a < piVar5) {
    do {
      iStack_1a = (int)((ulong)uVar1 >> 0x10);
      iVar7 = *piVar8 * 4;
      iStack_1a = iStack_1a - *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar7);
      lStack_28 = (long)iStack_1a;
      lStack_2c = (long)iStack_1a;
      lVar6 = lStack_2c * lStack_28;
      local_1c = (int)uVar1;
      local_1c = local_1c - *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar7);
      lStack_28 = (long)local_1c;
      lStack_2c = (long)local_1c;
      lVar6 = lStack_2c * lStack_28 + lVar6;
      iVar7 = (*(code *)param_2)();
      if ((local_c < iVar7) || ((local_10 = piVar3, local_c == iVar7 && (lVar6 < lVar2)))) {
        local_c = iVar7;
        lVar2 = lVar6;
        local_10 = piVar8;
      }
      piVar8 = piVar8 + 0x1e;
      piVar3 = local_10;
    } while (piVar8 < piVar5);
  }
  return local_10;
}



undefined2 __cdecl16far FUN_1048_787c(undefined2 param_1_00,undefined2 param_2,undefined4 param_3)

{
  undefined2 uVar1;

  uVar1 = (undefined2)((ulong)param_3 >> 0x10);
  if (((undefined *)*(int *)((int)param_3 + 2) == PTR_DAT_10a8_0001_10a8_00c0) &&
     ((*(byte *)((int)param_3 + 5) & 2) != 0)) {
    return 1;
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps

int __cdecl16far FUN_1048_789c(ulong param_1,ulong param_2,ulong param_3,int param_4)

{
  undefined4 *puVar1;
  ulong uVar2;
  undefined4 uVar3;
  ulong uVar4;
  int *piVar5;
  int iVar6;
  uint *puVar7;
  uint uVar8;
  int iVar9;
  undefined4 *puVar10;
  int *piVar11;
  undefined2 uVar12;
  uint uVar13;
  undefined2 uVar14;
  int unaff_SS;
  undefined *puVar15;
  undefined4 local_30;
  int local_2c;
  undefined2 local_2a;
  undefined4 local_28;
  undefined4 local_1e;
  int *local_1a;
  uint local_18;
  long local_16;
  undefined4 local_12;
  ulong local_e;
  undefined4 local_a;
  undefined4 local_6;

  iVar9 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_16 = 0;
  local_6 = param_3 & 0xffff0000 | (ulong)(uint)local_6;
  local_e = 1000000;
  uVar12 = (undefined2)(param_1 >> 0x10);
  puVar7 = (uint *)param_1;
  local_1e = *(undefined4 *)(puVar7 + 4);
  puVar10 = &local_30;
  for (iVar6 = 4; iVar6 != 0; iVar6 = iVar6 + -1) {
    puVar1 = puVar10;
    puVar10 = puVar10 + 1;
    *puVar1 = 0;
  }
  *(undefined2 *)puVar10 = 0;
  if ((local_6._2_2_ | (uint)param_3) != 0) {
    uVar2 = local_6 & 0xffff0000;
    local_6 = uVar2 | param_3 & 0xffff;
    uVar13 = (uint)(uVar2 >> 0x10);
    piVar11 = (int *)(param_3 & 0xffff);
    do {
      if ((param_4 == 0) ||
         ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_8865 + piVar11[1] * 0x76) & 2) != 0)) {
        uVar2 = param_2 & 0xffff0000;
        param_3._2_2_ = param_2._2_2_ | (uint)param_2;
        uVar8 = (uint)param_2;
        if (param_2 != 0) {
          local_6 = CONCAT22(uVar13,piVar11);
          local_a._2_2_ = (uint)(uVar2 >> 0x10);
          do {
            param_3._2_2_ = local_a._2_2_;
            if ((param_1 != CONCAT22(param_3._2_2_,uVar8)) && (1 < *(int *)(uVar8 + 0x62))) {
              uVar3 = *(undefined4 *)(uVar8 + 100);
              uVar14 = (undefined2)((ulong)uVar3 >> 0x10);
              iVar9 = (int)uVar3;
              if ((*(int *)(iVar9 + 0x1a) == *piVar11) &&
                 (local_a._2_2_ = param_3._2_2_, (*(byte *)(iVar9 + 0x1d) & 3) == 2)) break;
            }
            uVar3 = *(undefined4 *)(uVar8 + 0x68);
            local_a._2_2_ = (uint)((ulong)uVar3 >> 0x10);
            uVar8 = (uint)uVar3;
          } while ((local_a._2_2_ | uVar8) != 0);
          uVar2 = (ulong)local_a._2_2_ << 0x10;
          iVar9 = unaff_SS;
        }
        local_a = uVar2 | local_a & 0xffff;
        local_a._2_2_ = (uint)(uVar2 >> 0x10);
        if ((local_a._2_2_ | uVar8) == 0) {
          local_1e._0_2_ = piVar11[4] - (int)local_1e;
          local_1e._2_2_ = piVar11[5] - local_1e._2_2_;
          local_a = (long)local_1e._2_2_ * (long)local_1e._2_2_ +
                    (long)(int)local_1e * (long)(int)local_1e;
          local_a._2_2_ = (uint)(local_a >> 0x10);
          param_3._2_2_ = local_a._2_2_;
          if ((long)local_a < (long)local_e) {
            local_16 = CONCAT22(uVar13,piVar11);
            local_e = local_a;
          }
        }
      }
      uVar3 = *(undefined4 *)(piVar11 + 0x34);
      uVar13 = (uint)((ulong)uVar3 >> 0x10);
      piVar11 = (int *)uVar3;
    } while ((uVar13 | (uint)piVar11) != 0);
  }
  local_12._0_2_ = (int *)local_16;
  local_12._2_2_ = (uint)((ulong)local_16 >> 0x10);
  if ((long)local_e < 0x7e90) {
    local_30 = *(undefined4 *)((int *)local_12 + 4);
    local_2a = local_2a & 0xff | (uint)((byte)((ulong)local_2a >> 8) & 0xfe) << 8 | 0x200;
LAB_1048_79dd:
    local_2c = *(int *)local_12;
    goto LAB_1048_7bc8;
  }
  if (local_16 == 0) {
    if (param_4 != 0) {
      iVar9 = FUN_1048_789c(param_1,param_2,param_3,0);
      return iVar9;
    }
  }
  else {
    local_1e = *(undefined4 *)((int *)local_12 + 4);
    local_12 = (uint *)0x0;
    local_e = 1000000;
    piVar11 = *(int **)&PTR_DAT_10a8_0000_10a8_006a;
    local_18 = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
    local_6 = local_6 & 0xffff | (ulong)local_18 << 0x10;
    piVar5 = piVar11 + *(int *)&PTR_DAT_10a8_0000_10a8_7d52 * 0x1e;
    param_3._2_2_ = local_18;
    for (; piVar11 < piVar5; piVar11 = piVar11 + 0x1e) {
      uVar2 = param_2;
      if (param_2 != 0) {
        uVar4 = local_6 & 0xffff0000;
        local_6 = uVar4 | ZEXT24(piVar11);
        do {
          param_3._2_2_ = (uint)(uVar2 >> 0x10);
          iVar9 = (int)uVar2;
          if ((uVar2 != param_1) && (1 < *(int *)(iVar9 + 0x62))) {
            local_6._2_2_ = (uint)(uVar4 >> 0x10);
            uVar3 = *(undefined4 *)(iVar9 + 100);
            uVar14 = (undefined2)((ulong)uVar3 >> 0x10);
            iVar6 = (int)uVar3;
            if ((*(int *)(iVar6 + 0x1a) == *piVar11) && ((*(byte *)(iVar6 + 0x1d) & 3) == 1)) break;
          }
          uVar2 = *(ulong *)(iVar9 + 0x68);
        } while (uVar2 != 0);
      }
      local_a = local_a & 0xffff | uVar2 & 0xffff0000;
      local_a._2_2_ = (uint)((uVar2 & 0xffff0000) >> 0x10);
      if ((local_a._2_2_ | (uint)uVar2) == 0) {
        iVar9 = *piVar11 * 4;
        local_1e._2_2_ = (int)((ulong)local_1e >> 0x10);
        local_1e._2_2_ = *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar9) - local_1e._2_2_;
        local_1e._0_2_ = *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar9) - (int)local_1e;
        local_a = (long)(int)local_1e * (long)(int)local_1e +
                  (long)local_1e._2_2_ * (long)local_1e._2_2_;
        local_a._2_2_ = (uint)(local_a >> 0x10);
        param_3._2_2_ = local_a._2_2_;
        if ((long)local_a < (long)local_e) {
          local_12 = (uint *)(local_6 & 0xffff0000 | ZEXT24(piVar11));
          local_e = local_a;
        }
      }
      iVar9 = unaff_SS;
      local_1a = piVar5;
    }
    local_12._2_2_ = (uint)((ulong)local_12 >> 0x10);
    if (((local_12._2_2_ | (uint)(int *)local_12) != 0) && (*local_12 != puVar7[3])) {
      local_30 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + *local_12 * 4);
      local_2a = local_2a & 0xff | (uint)((byte)((ulong)local_2a >> 8) & 0xfd) << 8 | 0x100;
      goto LAB_1048_79dd;
    }
  }
  local_2c = FUN_1048_5076(param_1);
  if (local_2c == -1) {
    if (*(int *)((int)&PTR_DAT_10a8_0000_10a8_8865 + 1 + *(int *)&PTR_DAT_10a8_0001_10a8_00c0 * 0x76
                ) != -1) {
      puVar15 = (undefined *)0x2fd6;
      piVar11 = FUN_1010_018e(*(int *)((int)&PTR_DAT_10a8_0000_10a8_8865 + 1 +
                                      *(int *)&PTR_DAT_10a8_0001_10a8_00c0 * 0x76));
      piVar11 = FUN_1048_779a((int *)CONCAT22(param_3._2_2_,piVar11),puVar15);
      local_12 = (uint *)((ulong)local_12 & 0xffff | (ulong)param_3._2_2_ << 0x10);
      if ((param_3._2_2_ | (uint)piVar11) != 0) {
        local_2c = *piVar11;
        goto LAB_1048_7bad;
      }
    }
    local_2c = FUN_1018_4a4a(*(int *)&PTR_DAT_10a8_0000_10a8_003a);
  }
LAB_1048_7bad:
  local_2a = local_2a & 0xff | (uint)((byte)((ulong)local_2a >> 8) & 0xfd) << 8 | 0x100;
  local_30 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + local_2c * 4);
LAB_1048_7bc8:
  if (((1 < (int)puVar7[0x31]) &&
      (uVar3 = *(undefined4 *)(puVar7 + 0x32), (*(byte *)((int)uVar3 + 0x1d) & 3) == 1)) &&
     ((local_2a._1_1_ & 3) == 1)) {
    return -1;
  }
  if ((local_2a._1_1_ & 3) == 1) {
    uVar3 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_4b80;
    *(undefined *)((int)uVar3 + local_2c * 0x10 + 0xf) = 4;
  }
  local_2a = local_2a & 0xff42 | 0x442;
  local_28 = 0x20003;
  iVar9 = FUN_1048_6444(puVar7,uVar12,&local_30,0);
  return -(uint)(iVar9 == 0);
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1048_7c48(undefined4 *param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  int *piVar5;
  int iVar6;
  uint uVar7;
  uint *puVar8;
  undefined2 uVar9;
  int local_10;
  int local_e;
  int *local_6;
  undefined2 uStack_4;

  local_10 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    local_e = 0;
    do {
      uVar9 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
      puVar8 = (uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + local_e);
      uVar1 = *puVar8;
      uVar2 = puVar8[1];
      uVar7 = uVar2 | uVar1;
      if (uVar7 == 0) {
        return;
      }
      if (((undefined *)*(int *)(uVar1 + 2) != PTR_DAT_10a8_0001_10a8_00c0) &&
         (*(int *)(uVar1 + 6) != -1)) {
        uVar4 = *(undefined4 *)(*(int *)(uVar1 + 2) * 4 + 0x72);
        piVar5 = (int *)(uVar1 + 0xc);
        local_6 = (int *)uVar4;
        iVar6 = 0;
        do {
          if (0 < *piVar5) {
            uStack_4 = (undefined2)((ulong)uVar4 >> 0x10);
            iVar3 = *local_6;
            if ((0xf < iVar3) && (iVar3 < 0x14)) break;
          }
          local_6 = (int *)((int)local_6 + 0x87);
          piVar5 = piVar5 + 1;
          iVar6 = iVar6 + 1;
        } while (iVar6 < 0x10);
        if ((iVar6 != 0x10) &&
           (piVar5 = FUN_1010_018e(*(int *)(uVar1 + 6)),
           (undefined *)piVar5[1] == PTR_DAT_10a8_0001_10a8_00c0)) {
          FUN_1048_7d26((undefined2 *)CONCAT22(uVar7,piVar5),param_1);
        }
      }
      local_e = local_e + 4;
      local_10 = local_10 + 1;
    } while (local_10 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x10487e65)
// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1048_7d26(undefined2 *param_1,undefined4 *param_2)

{
  undefined4 uVar1;
  ulong *puVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  ulong *puVar6;
  long *plVar7;
  uint uVar8;
  int unaff_SS;
  byte bVar9;
  long local_1c [3];
  undefined4 local_10;
  uint local_c;
  int local_a;
  uint local_8;
  ulong local_6;

  iVar3 = (int)s_From___s_c_c_10a8_10a2 + 6;
  if (*(long *)((int)param_1 + 0x38) != 0) {
    iVar5 = 0;
    uVar1 = *(undefined4 *)((int)param_1 + 0x38);
    uVar4 = *(uint *)((int)param_1 + 0x3a);
    puVar2 = (ulong *)uVar1;
    local_6 = local_6 & 0xffff | (ulong)uVar4 << 0x10;
    if (*(char *)((int)puVar2 + 3) != '\0') {
      do {
        puVar6 = puVar2 + 1;
        if (((*(uint *)((int)puVar2 + 6) & 0xe) == 2) &&
           (((*puVar6 & 0x1fc00) == 0x1400 || ((*puVar6 & 0x1fc00) == 0x1c00)))) {
          return;
        }
        uVar1 = *(undefined4 *)((int)param_1 + 0x38);
        iVar5 = iVar5 + 1;
        iVar3 = unaff_SS;
        puVar2 = puVar6;
      } while (iVar5 < (int)(uint)*(byte *)((int)uVar1 + 3));
    }
  }
  FUN_1048_7336((ulong)param_1,local_1c);
  if (0x31 < local_10) {
    FUN_1020_2164((undefined *)&DAT_10a8_0001,(undefined *)*param_1);
    FUN_1068_0100(param_2);
    iVar5 = 0;
    if (0 < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0) {
      puVar2 = *(ulong **)&PTR_DAT_10a8_0000_10a8_885c;
      do {
        if ((((*(uint *)((int)puVar2 + 2) & 0xe) == 2) && ((*puVar2 & 0x1fc00) == 0x1400)) &&
           (uVar4 = *(uint *)puVar2, (uVar4 & 0xff | ((byte)((ulong)uVar4 >> 8) & 3) << 8) != 0))
        break;
        puVar2 = puVar2 + 1;
        iVar5 = iVar5 + 1;
      } while (iVar5 < *(int *)&PTR_DAT_10a8_0000_10a8_8fe0);
    }
    if (*(int *)&PTR_DAT_10a8_0000_10a8_8fe0 == iVar5) {
      bVar9 = 0;
    }
    else {
      uVar4 = *(uint *)(iVar5 * 4 + *(int *)&PTR_DAT_10a8_0000_10a8_885c);
      local_c = uVar4 & 0xff | ((byte)((ulong)uVar4 >> 8) & 3) << 8;
      plVar7 = local_1c;
      local_a = iVar5;
      uVar4 = 100;
      local_8 = 100;
      do {
        local_6 = *plVar7 / 5;
        if ((long)local_6 < (long)(int)uVar4) {
          uVar4 = (uint)local_6;
        }
        plVar7 = plVar7 + 1;
      } while (plVar7 < &local_10);
      uVar8 = (uint)(local_10 / 0x19);
      if (5 < (int)uVar8) {
        uVar8 = uVar8 + (int)((long)((ulong)(uint)((int)uVar8 >> 0xf) << 0x10 |
                                    local_10 / 0x19 & 0xffffU) / -6);
      }
      local_10 = local_10 + local_10 / -10;
      if ((int)local_c < (int)uVar8) {
        uVar8 = local_c;
      }
      local_8 = uVar4;
      if ((int)uVar4 < (int)uVar8) {
        iVar3 = FUN_1078_1d84(*(int *)&PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,10);
        if (iVar3 == 0) {
          uVar4 = 0;
          uVar8 = local_8;
        }
        else {
          iVar3 = (int)(CONCAT22((local_10._2_2_ - ((int)(local_8 * 0x19) >> 0xf)) -
                                 (uint)((uint)local_10 < local_8 * 0x19),
                                 (uint)local_10 + local_8 * -0x19) / 0x96);
          if (iVar3 < 0) {
            iVar3 = 0;
          }
          local_6 = local_6 & 0xffff | (ulong)(local_8 + iVar3) << 0x10;
          uVar4 = iVar3 * 5;
          uVar8 = local_8 + iVar3;
        }
      }
      else {
        local_6 = local_6 & 0xffff0000 | (ulong)uVar8;
        uVar4 = 0;
      }
      if (0 < (int)uVar8) {
        FUN_1048_6568(5,uVar8,1,0);
      }
      if (0 < (int)uVar4) {
        FUN_1048_6568(8,uVar4,1,0);
      }
      if (((int)uVar8 < 1) && ((int)uVar4 < 1)) {
        bVar9 = 0;
      }
      else {
        bVar9 = 1;
      }
    }
    FUN_1068_07fa((uint)bVar9);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1048_7f64(undefined4 param_1)

{
  undefined4 uVar1;
  long lVar2;
  int iVar3;
  int *piVar4;
  long lStack_2c;
  long lStack_28;
  int local_1a;
  int iStack_18;
  undefined2 *local_16;
  undefined4 local_e;

  local_e = 10000000;
  local_16 = (undefined2 *)0x0;
  uVar1 = *(undefined4 *)((int)param_1 + 100);
  uVar1 = *(undefined4 *)((int)uVar1 + 4);
  piVar4 = (int *)PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a <
      PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c) {
    do {
      iStack_18 = (int)((ulong)uVar1 >> 0x10);
      iVar3 = *piVar4 * 4;
      iStack_18 = iStack_18 - *(int *)((int)&PTR_DAT_10a8_0000_10a8_623a + iVar3);
      lStack_28 = (long)iStack_18;
      lStack_2c = (long)iStack_18;
      lVar2 = lStack_2c * lStack_28;
      local_1a = (int)uVar1;
      local_1a = local_1a - *(int *)((int)&PTR_DAT_10a8_0000_10a8_6238 + iVar3);
      lStack_28 = (long)local_1a;
      lStack_2c = (long)local_1a;
      lVar2 = lVar2 + lStack_2c * lStack_28;
      iVar3 = (int)((ulong)lVar2 >> 0x10);
      if (((iVar3 <= local_e._2_2_) &&
          (((iVar3 < local_e._2_2_ || ((uint)lVar2 < (uint)local_e)) &&
           ((undefined *)piVar4[1] == PTR_DAT_10a8_0001_10a8_00c0)))) &&
         ((*(byte *)((int)piVar4 + 5) & 2) != 0)) {
        local_16 = (undefined2 *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,piVar4);
        local_e = lVar2;
      }
      piVar4 = piVar4 + 0x1e;
    } while (piVar4 < PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  }
  return *local_16;
}



void __cdecl16far FUN_1048_803e(uint *param_1,undefined2 param_2)

{
  undefined4 local_14;
  int local_10;
  uint local_e;

  local_10 = FUN_1048_7f64(CONCAT22(param_2,param_1));
  local_14 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_6238 + local_10 * 4);
  local_e = local_e & 0x40 | (uint)((byte)((ulong)local_e >> 8) & 0xfd) << 8 | 0x540;
  FUN_1048_6444(param_1,param_2,&local_14,0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1050_0000(void)

{
  uint *puVar1;
  WORD *pWVar2;
  undefined2 *puVar3;
  char *pcVar4;
  int16 *piVar5;
  WORD *pWVar6;
  undefined2 *puVar7;
  undefined4 *puVar8;
  HCURSOR16 hCursor;
  int iVar9;
  undefined *puVar10;
  uint uVar11;
  char *pcVar12;
  uint uVar13;
  undefined *puVar14;
  byte *pbVar15;
  uint *puVar16;
  WORD *unaff_SI;
  char *pcVar17;
  WORD *pWVar18;
  undefined2 *puVar19;
  undefined2 *puVar20;
  WORD *pWVar21;
  int16 *piVar22;
  undefined4 *puVar23;
  undefined2 unaff_SS;
  WORD local_12a [128];
  int local_2a [9];
  HCURSOR16 local_18;
  int local_16;
  int local_14;
  undefined4 *local_12;
  int16 *local_10;
  int local_e;
  undefined *local_c;
  undefined *local_a;
  char *local_8;
  undefined *local_6;
  undefined *local_4;

                    // Segment:    11
                    // Offset:     00039e20
                    // Length:     4b54
                    // Min Alloc:  4b54
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  local_a = PTR_DAT_10a8_0001_10a8_00c0;
  local_16 = 0;
  hCursor = LOADCURSOR(0x7f02,(LPCSTR)0x0);
  local_18 = SETCURSOR(hCursor);
  FUN_1040_190c();
  if ((_DAT_10a8_0a46 & 0x4000) != 0) {
    FUN_1018_49f0(0x2d2);
  }
  puVar14 = PTR_DAT_10a8_0000_10a8_0a30;
  PTR_DAT_10a8_0000_10a8_0a30 = (undefined *)&DAT_10a8_0001;
  local_6 = puVar14;
  iVar9 = FUN_1040_02ec((VA_LIST16)&DAT_10a8_85dc,(byte *)0xfe0);
  if (iVar9 == 0) {
    PTR_DAT_10a8_0000_10a8_0a30 = local_6;
    SETCURSOR(local_18);
    return 0;
  }
  PTR_DAT_10a8_0000_10a8_0a30 = local_6;
  if ((DAT_10a8_0a33 & 0xf0) == 0) {
    puVar14 = (undefined *)0x0;
    if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
      pbVar15 = (byte *)&DAT_10a8_8864;
      do {
        if ((*pbVar15 & 0xf8) != 0) break;
        pbVar15 = pbVar15 + 0x76;
        puVar14 = puVar14 + 1;
      } while ((int)puVar14 < (int)PTR_DAT_10a8_0002_10a8_0038);
    }
    local_c = puVar14;
    if (PTR_DAT_10a8_0002_10a8_0038 == puVar14) {
      puVar14 = (undefined *)0x0;
      local_c = (undefined *)0x0;
      if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
        puVar16 = (uint *)&DAT_10a8_8864;
        do {
          puVar1 = puVar16;
          *puVar1 = *puVar1 ^ (byte)((char)puVar14 << 3 ^ *(byte *)puVar16) & 0xf8;
          puVar16 = puVar16 + 0x3b;
          puVar14 = puVar14 + 1;
          local_c = puVar14;
        } while ((int)puVar14 < (int)PTR_DAT_10a8_0002_10a8_0038);
      }
    }
  }
  local_4 = PTR_DAT_10a8_0000_10a8_002e;
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_2a;
  puVar10 = (undefined *)FUN_10a0_0704((int *)PTR_DAT_10a8_0000_10a8_002e);
  if (puVar10 == (undefined *)0x0) {
    if ((((_DAT_10a8_0a46 & 0x4000) != 0) && ((undefined *)0xa < PTR_DAT_10a8_0000_10a8_0042)) &&
       (local_c = puVar10, 0 < (int)PTR_DAT_10a8_0000_10a8_0042)) {
      do {
        FUN_1018_4a4a(100);
        local_c = local_c + 1;
      } while ((int)local_c < (int)PTR_DAT_10a8_0000_10a8_0042);
    }
    puVar16 = FUN_1038_0232(12000,6);
    _PTR_DAT_10a8_0000_10a8_0fd8 = CONCAT22(puVar14,puVar16);
    puVar16 = FUN_1038_0232(24000,6);
    _PTR_DAT_10a8_0000_10a8_0fdc = CONCAT22(puVar14,puVar16);
    _DAT_10a8_0a46 = _DAT_10a8_0a46 | 0x1002;
    PTR_DAT_10a8_0000_10a8_8854 = (undefined *)0x0;
    PTR_DAT_10a8_0000_10a8_85b6 = (undefined *)0x0;
    PTR_DAT_10a8_0000_10a8_1040 = (undefined *)0x0;
    local_c = (undefined *)0x0;
    if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
      do {
        _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0xfe410a8,(LPCSTR)0x85dc10a8,
                  (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
        PTR_DAT_10a8_0001_10a8_00c0 = local_c;
        iVar9 = FUN_1020_5848((int)&DAT_10a8_86de);
        if ((iVar9 != 0) && (uVar11 = FUN_1020_48b0(), uVar11 == 0)) {
          FUN_1018_50b2(0x15,0x10);
          goto LAB_1050_03f5;
        }
        local_c = local_c + 1;
      } while ((int)local_c < (int)PTR_DAT_10a8_0002_10a8_0038);
    }
    PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
    FUN_1050_34da();
    FUN_1050_0450(0);
    FUN_1050_36b0();
    FUN_1050_04dc();
    FUN_1050_0450(1);
    FUN_1050_34da();
    FUN_1050_43c8();
    FUN_1040_3f78(2,-1,1,0);
    FUN_1050_4b06();
    PTR_DAT_10a8_0000_10a8_0042 = PTR_DAT_10a8_0000_10a8_0042 + 1;
    pcVar12 = (char *)&DAT_10a8_85dc;
    uVar11 = 0xffff;
    do {
      if (uVar11 == 0) break;
      uVar11 = uVar11 - 1;
      pcVar4 = pcVar12;
      pcVar12 = pcVar12 + 1;
    } while (*pcVar4 != '\0');
    local_10 = (int16 *)((int)&PTR_DAT_10a8_0000_10a8_85da + 1 + ~uVar11);
    pcVar12 = FUN_10a0_0514((char *)&DAT_10a8_85dc,'\\');
    local_8 = pcVar12;
    if (pcVar12 == (char *)0x0) {
      pcVar17 = (char *)&PTR_DAT_10a8_0000_10a8_85ac;
      pWVar21 = local_12a;
      uVar11 = 0xffff;
      do {
        if (uVar11 == 0) break;
        uVar11 = uVar11 - 1;
        pcVar4 = pcVar17;
        pcVar17 = pcVar17 + 1;
      } while (*pcVar4 != '\0');
      uVar11 = ~uVar11;
      pWVar18 = (WORD *)(pcVar17 + -uVar11);
      for (uVar13 = uVar11 >> 1; uVar13 != 0; uVar13 = uVar13 - 1) {
        pWVar6 = pWVar21;
        pWVar21 = pWVar21 + 1;
        pWVar2 = pWVar18;
        pWVar18 = pWVar18 + 1;
        *pWVar6 = *pWVar2;
      }
      for (uVar11 = (uint)((uVar11 & 1) != 0); uVar11 != 0; uVar11 = uVar11 - 1) {
        pWVar6 = pWVar21;
        pWVar21 = (WORD *)((int)pWVar21 + 1);
        pWVar2 = pWVar18;
        pWVar18 = (WORD *)((int)pWVar18 + 1);
        *(undefined *)pWVar6 = *(undefined *)pWVar2;
      }
      pcVar17 = (char *)&DAT_10a8_85dc;
    }
    else {
      pcVar17 = (char *)&DAT_10a8_85dc;
      pWVar21 = local_12a;
      uVar11 = 0xffff;
      pcVar12 = (char *)0x0;
      do {
        if (uVar11 == 0) break;
        uVar11 = uVar11 - 1;
        pcVar4 = pcVar17;
        pcVar17 = pcVar17 + 1;
      } while (*pcVar4 != '\0');
      uVar11 = ~uVar11;
      pWVar18 = (WORD *)(pcVar17 + -uVar11);
      for (uVar13 = uVar11 >> 1; uVar13 != 0; uVar13 = uVar13 - 1) {
        pWVar6 = pWVar21;
        pWVar21 = pWVar21 + 1;
        pWVar2 = pWVar18;
        pWVar18 = pWVar18 + 1;
        *pWVar6 = *pWVar2;
      }
      for (uVar11 = (uint)((uVar11 & 1) != 0); uVar11 != 0; uVar11 = uVar11 - 1) {
        pWVar6 = pWVar21;
        pWVar21 = (WORD *)((int)pWVar21 + 1);
        pWVar2 = pWVar18;
        pWVar18 = (WORD *)((int)pWVar18 + 1);
        *(undefined *)pWVar6 = *(undefined *)pWVar2;
      }
      (&stack0x78fb)[(int)local_8] = 0;
      pcVar17 = (char *)&PTR_DAT_10a8_0000_10a8_85ac;
      pWVar21 = local_12a;
      uVar11 = 0xffff;
      do {
        if (uVar11 == 0) break;
        uVar11 = uVar11 - 1;
        pcVar4 = pcVar17;
        pcVar17 = pcVar17 + 1;
      } while (*pcVar4 != '\0');
      uVar11 = ~uVar11;
      puVar19 = (undefined2 *)(pcVar17 + -uVar11);
      iVar9 = -1;
      do {
        if (iVar9 == 0) break;
        iVar9 = iVar9 + -1;
        pWVar2 = pWVar21;
        pWVar21 = (WORD *)((int)pWVar21 + 1);
      } while (*(char *)pWVar2 != '\0');
      puVar20 = (undefined2 *)((int)pWVar21 + -1);
      for (uVar13 = uVar11 >> 1; uVar13 != 0; uVar13 = uVar13 - 1) {
        puVar7 = puVar20;
        puVar20 = puVar20 + 1;
        puVar3 = puVar19;
        puVar19 = puVar19 + 1;
        *puVar7 = *puVar3;
      }
      for (uVar11 = (uint)((uVar11 & 1) != 0); uVar11 != 0; uVar11 = uVar11 - 1) {
        puVar7 = puVar20;
        puVar20 = (undefined2 *)((int)puVar20 + 1);
        puVar3 = puVar19;
        puVar19 = (undefined2 *)((int)puVar19 + 1);
        *(undefined *)puVar7 = *(undefined *)puVar3;
      }
      pcVar17 = local_8 + 1;
    }
    pWVar21 = local_12a;
    uVar11 = 0xffff;
    do {
      if (uVar11 == 0) break;
      uVar11 = uVar11 - 1;
      pcVar4 = pcVar17;
      pcVar17 = pcVar17 + 1;
    } while ((char)pcVar12 != *pcVar4);
    uVar11 = ~uVar11;
    puVar19 = (undefined2 *)(pcVar17 + -uVar11);
    iVar9 = -1;
    do {
      if (iVar9 == 0) break;
      iVar9 = iVar9 + -1;
      pWVar2 = pWVar21;
      pWVar21 = (WORD *)((int)pWVar21 + 1);
    } while ((char)pcVar12 != *(char *)pWVar2);
    puVar20 = (undefined2 *)((int)pWVar21 + -1);
    for (uVar13 = uVar11 >> 1; uVar13 != 0; uVar13 = uVar13 - 1) {
      puVar7 = puVar20;
      puVar20 = puVar20 + 1;
      puVar3 = puVar19;
      puVar19 = puVar19 + 1;
      *puVar7 = *puVar3;
    }
    for (uVar11 = (uint)((uVar11 & 1) != 0); uVar11 != 0; uVar11 = uVar11 - 1) {
      puVar7 = puVar20;
      puVar20 = (undefined2 *)((int)puVar20 + 1);
      puVar3 = puVar19;
      puVar19 = (undefined2 *)((int)puVar19 + 1);
      *(undefined *)puVar7 = *(undefined *)puVar3;
    }
    pWVar21 = local_12a;
    uVar11 = 0xffff;
    do {
      if (uVar11 == 0) break;
      uVar11 = uVar11 - 1;
      pWVar2 = pWVar21;
      pWVar21 = (WORD *)((int)pWVar21 + 1);
    } while (*(char *)pWVar2 != '\0');
    local_12 = (undefined4 *)((int)local_12a + (~uVar11 - 1));
    FUN_1050_4902();
    local_c = (undefined *)0x0;
    local_14 = 0;
    do {
      local_e = 0;
      if ((int)PTR_DAT_10a8_0002_10a8_0038 <= (int)local_c) {
        local_c = (undefined *)0xffff;
        local_14 = 1;
      }
      if ((int)local_c < 0) {
        *(undefined4 *)local_10 = _PTR_PTR_DAT_10a8_0000_10a8_682e_10a8_0ff0;
        *(undefined *)((int)local_10 + 4) = DAT_10a8_0ff4;
        *local_12 = _PTR_PTR_DAT_10a8_0000_10a8_682e_10a8_0ff5;
        *(undefined *)(local_12 + 1) = DAT_10a8_0ff9;
      }
      else {
        _WSPRINTF(local_10,(LPSTR)0xfeb10a8,
                  (LPCSTR)CONCAT13((char)((uint)(local_c + 1) >> 8),
                                   CONCAT12((char)(local_c + 1),0x10a8)),unaff_SI);
        uVar11 = 0xffff;
        piVar22 = local_10;
        do {
          if (uVar11 == 0) break;
          uVar11 = uVar11 - 1;
          piVar5 = piVar22;
          piVar22 = (int16 *)((int)piVar22 + 1);
        } while (*(char *)piVar5 != '\0');
        uVar11 = ~uVar11;
        puVar19 = (undefined2 *)((int)piVar22 - uVar11);
        puVar23 = local_12;
        for (uVar13 = uVar11 >> 1; uVar13 != 0; uVar13 = uVar13 - 1) {
          puVar8 = puVar23;
          puVar23 = (undefined4 *)((int)puVar23 + 2);
          puVar3 = puVar19;
          puVar19 = puVar19 + 1;
          *(undefined2 *)puVar8 = *puVar3;
        }
        for (uVar11 = (uint)((uVar11 & 1) != 0); uVar11 != 0; uVar11 = uVar11 - 1) {
          puVar8 = puVar23;
          puVar23 = (undefined4 *)((int)puVar23 + 1);
          puVar3 = puVar19;
          puVar19 = (undefined2 *)((int)puVar19 + 1);
          *(undefined *)puVar8 = *(undefined *)puVar3;
        }
        FUN_10a0_0826();
        iVar9 = FUN_10a0_0752();
        if (iVar9 == -1) {
          local_e = 1;
        }
        else {
          FUN_10a0_07fa();
        }
        *(undefined *)((int)local_12 + 1) = 0x6d;
        *(char *)((int)local_10 + 1) = 'm';
      }
      FUN_10a0_0826();
      if (local_e == 0) {
        unaff_SI = local_12a;
        FUN_10a0_07fa();
      }
      else {
        unaff_SI = local_12a;
        FUN_1018_4fb0((int)&DAT_10a8_85dc,unaff_SI);
      }
      *(char *)local_10 = '\0';
      FUN_1040_230a((VA_LIST16)&DAT_10a8_85dc,local_c,local_e);
      local_c = local_c + 1;
    } while (local_14 == 0);
    PTR_DAT_10a8_0000_10a8_0fd2 = (undefined *)0x0;
    local_16 = 1;
  }
LAB_1050_03f5:
  FUN_1038_04ca((uint)_PTR_DAT_10a8_0000_10a8_0fd8,
                (uint)((ulong)_PTR_DAT_10a8_0000_10a8_0fd8 >> 0x10),6);
  _PTR_DAT_10a8_0000_10a8_0fd8 = 0;
  FUN_1038_04ca((uint)_PTR_DAT_10a8_0000_10a8_0fdc,
                (uint)((ulong)_PTR_DAT_10a8_0000_10a8_0fdc >> 0x10),6);
  _PTR_DAT_10a8_0000_10a8_0fdc = 0;
  _DAT_10a8_0a46 = _DAT_10a8_0a46 & 0xeffd;
  PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
  if ((local_16 != 0) && (((byte)PTR_DAT_10a8_0000_10a8_56fa & 8) != 0)) {
    PTR_DAT_10a8_0000_10a8_02ee = (undefined *)&DAT_10a8_0001;
  }
  SETCURSOR(local_18);
  return local_16;
}



void __cdecl16far FUN_1050_0450(int param_1)

{
  uint *puVar1;
  undefined *puVar2;
  undefined *puVar3;
  undefined *puVar4;

  puVar2 = PTR_DAT_10a8_0000_10a8_006c;
  puVar3 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
  puVar4 = PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a < puVar3) {
    do {
      puVar1 = (uint *)(puVar4 + 4);
      *puVar1 = *puVar1 ^ ((byte)((byte)(((uint)(*(int *)(puVar4 + 2) != -1) << 0xd) >> 8) ^
                                 puVar4[5]) & 0x20) << 8;
      puVar4 = puVar4 + 0x3c;
    } while (puVar4 < puVar3);
  }
  FUN_1088_19d6(param_1);
  FUN_1050_21ca((-(uint)(param_1 == 0) & 0xfffe) + 3);
  FUN_1050_1a04();
  FUN_1050_21ca((-(uint)(param_1 == 0) & 0xfffe) + 4);
  if (param_1 == 0) {
    FUN_1050_178a();
    return;
  }
  FUN_1050_32f4();
  return;
}



// WARNING: Removing unreachable block (ram,0x10500ad6)
// WARNING: Removing unreachable block (ram,0x10500f03)
// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1050_04dc(void)

{
  long *plVar1;
  byte *pbVar2;
  ulong *puVar3;
  undefined4 *puVar4;
  uint *puVar5;
  int *piVar6;
  char *pcVar7;
  char cVar8;
  undefined2 uVar9;
  undefined4 uVar10;
  undefined2 *puVar11;
  uint *puVar12;
  uint uVar13;
  uint uVar14;
  int iVar15;
  int iVar16;
  ulong uVar17;
  long lVar18;
  ulong uVar19;
  undefined *puVar20;
  undefined4 *puVar21;
  undefined4 *puVar22;
  int iVar23;
  ulong *puVar24;
  ulong *puVar25;
  long *plVar26;
  uint uVar27;
  undefined2 uVar28;
  int unaff_SS;
  bool bVar29;
  uint local_62;
  int iStack_60;
  long local_5e;
  int iStack_54;
  undefined4 local_50;
  undefined4 local_40;
  undefined4 local_30;
  undefined4 local_24;
  undefined2 *local_20;
  undefined *local_1e;
  uint local_1c;
  int local_1a;
  undefined4 local_18;
  ulong *local_14;
  int local_12;
  uint local_10;
  int local_e;
  undefined *local_c;
  undefined4 uStack_a;
  undefined4 local_6;

  FUN_1050_451e();
  local_10 = 0;
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    puVar22 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_888c;
    puVar20 = PTR_DAT_10a8_0002_10a8_0038;
    do {
      *puVar22 = 0;
      puVar22 = (undefined4 *)((int)puVar22 + 0x76);
      puVar20 = puVar20 + -1;
    } while (puVar20 != (undefined *)0x0);
  }
  local_18 = (undefined2 *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,(undefined2 *)local_18);
  local_1e = PTR_DAT_10a8_0000_10a8_006c;
  local_18._0_2_ = (undefined2 *)PTR_DAT_10a8_0000_10a8_006a;
  iVar23 = (int)s_From___s_c_c_10a8_10a2 + 6;
  puVar11 = (undefined2 *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  if (PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c <=
      PTR_DAT_10a8_0000_10a8_006a) {
LAB_1050_0e5c:
    FUN_1050_3fd8();
    uVar27 = 0;
    if (0 < *(int *)&PTR_DAT_10a8_0002_10a8_0038) {
      puVar24 = (ulong *)0x0;
      do {
        cVar8 = *(char *)((int)puVar24 + -0x7775);
        *(uint *)&PTR_DAT_10a8_0001_10a8_00c0 = uVar27;
        uVar19 = 0;
        local_18 = (undefined2 *)CONCAT22((uint *)((int)puVar24 + -0x7782),(int)cVar8);
        local_12 = 0;
        puVar25 = puVar24;
        local_10 = uVar27;
        do {
          uStack_a._0_2_ = *local_18._2_2_;
          uStack_a._2_2_ = 0;
          if ((*(byte *)&PTR_DAT_10a8_0000_10a8_0040 & 2) != 0) {
            bVar29 = CARRY2((uint)uStack_a,(uint)uStack_a);
            uStack_a._0_2_ = (uint)uStack_a * 2;
            uStack_a._2_2_ = (uint)bVar29;
            uVar19 = (ulong)uStack_a._2_2_;
          }
          if ((undefined2 *)local_18 == (undefined2 *)local_12) {
            uStack_a = CONCAT22(uStack_a._2_2_,(uint)uStack_a) + puVar25[-0x1ddd];
          }
          cVar8 = *(char *)((int)puVar25 + local_12 + -0x7788);
          iVar16 = local_12;
          while( true ) {
            if (('\t' < cVar8) ||
               (((*(byte *)(uint *)((int)puVar25 + -0x775e) & 0x80) != 0 &&
                ('\t' < *(char *)((int)puVar25 + iVar16 + -0x7788))))) goto LAB_1050_1022;
            local_14 = puVar25;
            local_12 = iVar16;
            iVar15 = FUN_1070_10f4(iVar16,*(char *)((int)puVar25 + iVar16 + -0x7788) + 1,local_10);
            local_6 = CONCAT22((int)uVar19,iVar15);
            if (((long)uStack_a < (long)local_6) ||
               ('\t' < *(char *)((int)puVar25 + iVar16 + -0x7788))) break;
            uStack_a = uStack_a - local_6;
            pcVar7 = (char *)((int)puVar25 + iVar16 + -0x7788);
            *pcVar7 = *pcVar7 + '\x01';
            FUN_1010_6b58(CONCAT22(0x57,local_10),0xfffe);
            local_c = (undefined *)&DAT_10a8_0001;
            local_e = 0;
            puVar20 = (undefined *)&DAT_10a8_0001;
            local_14 = puVar25;
            do {
              if (puVar20 != (undefined *)0x0) {
                uVar27 = 0;
                local_1e = puVar20;
                local_c = puVar20;
                while( true ) {
                  local_1c = uVar27 & 0xff | local_1c & 0xff00;
                  iVar16 = FUN_1060_32b2((uint *)&local_1e);
                  puVar20 = local_c;
                  if (iVar16 == 0) break;
                  if ((iVar16 == 1) &&
                     (*(char *)(local_1a + local_12 + 2) ==
                      *(char *)((int)local_14 + local_12 + -0x7788))) {
                    if (local_c == (undefined *)((int)s_Small_Colonizer_10a8_3ffe + 2U)) {
                      local_6 = 0x7cfffd;
                    }
                    else {
                      local_6 = CONCAT22(0x61,local_e << 8 | 0xc000U | uVar27);
                    }
                    FUN_1010_6b58(local_6 & 0xffff0000 | (ulong)local_10,(undefined4 *)local_6);
                  }
                  uVar27 = uVar27 + 1;
                }
              }
              local_e = local_e + 1;
              puVar20 = (undefined *)((int)puVar20 * 2);
            } while (puVar20 != (undefined *)0x0);
            cVar8 = *(char *)((int)local_14 + local_12 + -0x7788);
            puVar25 = local_14;
            iVar16 = local_12;
          }
          if ((*(byte *)&PTR_DAT_10a8_0000_10a8_0040 & 2) != 0) {
            uStack_a._2_2_ = (uint)((long)(uStack_a + 1) >> 0x11);
            uStack_a = (long)(uStack_a + 1) >> 1 & 0xffffU | (ulong)uStack_a._2_2_ << 0x10;
          }
          *local_18._2_2_ = (uint)uStack_a;
          iVar16 = local_12;
LAB_1050_1022:
          local_18 = (undefined2 *)
                     ((ulong)local_18 & 0xffff | (ulong)((int)local_18._2_2_ + 2) << 0x10);
          local_12 = iVar16 + 1;
        } while (local_12 < 6);
        puVar24 = (ulong *)((int)puVar25 + 0x76);
        uVar27 = local_10 + 1;
        local_14 = puVar25;
      } while ((int)uVar27 < *(int *)&PTR_DAT_10a8_0002_10a8_0038);
    }
    *(undefined2 *)&PTR_DAT_10a8_0001_10a8_00c0 = 0xffff;
    FUN_1050_45f0();
    return;
  }
LAB_1050_0525:
  local_20 = puVar11;
  if (*(long *)((undefined2 *)local_18 + 0x1c) == 0) {
    pbVar2 = (byte *)((int)(undefined2 *)local_18 + 5);
    *pbVar2 = *pbVar2 & 0xfb;
    if (((undefined2 *)local_18)[1] == -1) goto LAB_1050_0e50;
    if ((((undefined2 *)local_18)[0x10] & 0x700) != 0) goto LAB_1050_05d7;
    FUN_1010_6b58(CONCAT22(0x46,((undefined2 *)local_18)[1]),*(undefined2 *)local_18);
    local_24._0_2_ =
         FUN_1020_39d0((int)(undefined2 *)local_18,local_18._2_2_,((undefined2 *)local_18)[1]);
    local_24._2_2_ = (int)(uint)local_24 >> 0xf;
    goto LAB_1050_0e40;
  }
  if ((((undefined2 *)local_18)[1] != -1) &&
     (uVar10 = *(undefined4 *)((undefined2 *)local_18 + 0x1c), *(char *)((int)uVar10 + 3) != '\0'))
  {
    uVar19 = *(ulong *)((undefined2 *)local_18 + 0x1c);
    iVar23 = FUN_1020_3a7c((ulong *)(uVar19 & 0xff000000 |
                                    (ulong)CONCAT12((char)(uVar19 >> 0x10),(int)uVar19 + 4)));
    puVar5 = (undefined2 *)local_18 + 2;
    *puVar5 = *puVar5 ^ ((byte)((byte)((ulong)(uint)(iVar23 << 10) >> 8) ^
                               *(byte *)((int)(undefined2 *)local_18 + 5)) & 4) << 8;
    if ((*(byte *)((int)(undefined2 *)local_18 + 5) & 4) == 4) {
      FUN_1020_3626((int)(undefined2 *)local_18,local_18._2_2_,((undefined2 *)local_18)[1]);
    }
LAB_1050_05d7:
    local_6 = local_6 & 0xffff0000 | ZEXT24((undefined2 *)local_18 + 0x13);
    puVar22 = &local_30;
    local_18 = (undefined2 *)((ulong)local_18 & 0xffff0000 | ZEXT24((undefined2 *)local_18));
    do {
      local_6 = local_6 & 0xffff0000 | ZEXT24((undefined4 *)local_6 + 1);
      *puVar22 = *(undefined4 *)local_6;
      puVar22 = puVar22 + 1;
    } while (puVar22 < &local_24);
    uVar27 = FUN_1020_39d0((int)(undefined2 *)local_18,local_18._2_2_,((undefined2 *)local_18)[1]);
    local_24 = (long)(int)uVar27;
    if (((int)uVar27 >> 0xf | uVar27) != 0) {
      if ((((undefined2 *)local_18)[0x10] & 0x80) == 0) {
        local_6 = ((long)(int)*(char *)((int)&DAT_10a8_888a + ((undefined2 *)local_18)[1] * 0x76) *
                  (long)(int)uVar27) / 100;
        local_24 = local_24 - local_6;
        iVar23 = ((undefined2 *)local_18)[1] * 0x76;
        puVar5 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_888c + iVar23);
        uVar27 = *puVar5;
        *puVar5 = *puVar5 + (uint)local_6;
        piVar6 = (int *)(iVar23 + -0x7772);
        *piVar6 = *piVar6 + (int)(local_6 >> 0x10) + (uint)CARRY2(uVar27,(uint)local_6);
      }
      if (*(long *)((undefined2 *)local_18 + 0x1c) == 0) goto LAB_1050_0684;
      local_1c = 0;
LAB_1050_0894:
      lVar18 = *(long *)((undefined2 *)local_18 + 0x1c);
      while (lVar18 != 0) {
        uVar19 = *(ulong *)((undefined2 *)local_18 + 0x1c);
        local_12 = (int)(uVar19 >> 0x10);
        iVar23 = (int)uVar19;
        puVar24 = (ulong *)(iVar23 + 4);
        local_18._2_2_ = (uint *)((ulong)local_18 >> 0x10);
        if ((*(uint *)(iVar23 + 6) & 0xe) == 2) {
          uVar17 = *puVar24 & 0x1fc00;
          iStack_54 = (int)(uVar17 >> 0x10);
          if ((((uVar17 < 0x3c00) || (iStack_54 != 0)) ||
              ((int)s_R6002___floating_point_support_n_10a8_53f1 + 0xfU < (uint)uVar17)) ||
             ((*(ulong *)((undefined2 *)local_18 + 0xf) & 0x1f000) == 0x1f000)) goto LAB_1050_0970;
          lVar18 = (uVar17 >> 10) - 0xf;
          if (((int)((ulong)lVar18 >> 0x10) != 0) ||
             ((uint)((*(ulong *)((undefined2 *)local_18 + 0xf) & 0x1f000) >> 0xc) < (uint)lVar18))
          goto LAB_1050_0970;
          FUN_1010_6b58(CONCAT22(0xb9,((undefined2 *)local_18)[1]),*(undefined2 *)local_18);
        }
        else {
LAB_1050_0970:
          FUN_1068_1a7c((uint *)(uVar19 & 0xffff0000 | ZEXT24(puVar24)),&local_40,
                        ((undefined2 *)local_18)[1],1);
          iVar16 = local_12;
          local_6 = local_6 & 0xffff;
          uVar27 = *(uint *)(iVar23 + 6);
          local_6._2_2_ = 0;
          local_14 = puVar24;
          do {
            *(undefined4 *)((int)&local_50 + local_6._2_2_) =
                 (long)(((qword)((uVar27 & 0x7f0) >> 4) *
                         (qword)*(ulong *)((int)&local_40 + local_6._2_2_) & 0xffffffff) / 100);
            local_6._2_2_ = local_6._2_2_ + 4;
          } while (local_6._2_2_ < 0x10);
          local_e = 0;
          if ((*(uint *)puVar24 & 0x3ff) == 0) {
LAB_1050_0be9:
          }
          else {
LAB_1050_09d8:
            iVar23 = 0;
            local_10 = 0;
            do {
              if (*(long *)((int)&local_30 + iVar23) <
                  *(long *)((int)&local_40 + iVar23) - *(long *)((int)&local_50 + iVar23)) break;
              local_10 = local_10 + 1;
              iVar23 = iVar23 + 4;
            } while (iVar23 < 0x10);
            if (3 < (int)local_10) goto code_r0x105009ff;
            uStack_a._0_2_ = 100;
            iVar23 = 0;
            uStack_a._2_2_ = 0;
            uStack_a = 100;
            local_c = (undefined *)0x0;
            do {
              if (0 < *(long *)((int)&local_40 + iVar23)) {
                uVar27 = *(uint *)((int)&local_30 + iVar23);
                puVar5 = (uint *)((int)&local_50 + iVar23);
                uVar13 = uVar27 + *puVar5;
                iVar15 = *(int *)((int)&local_30 + iVar23 + 2) +
                         *(int *)((int)&local_50 + iVar23 + 2) + (uint)CARRY2(uVar27,*puVar5);
                local_5e = CONCAT22(iVar15,uVar13);
                local_6 = (CONCAT22(iVar15 + (uint)(0xfffe < uVar13),uVar13 + 1) * 100) /
                          *(long *)((int)&local_40 + iVar23) - 1;
                uVar19 = (local_5e * 100) / *(long *)((int)&local_40 + iVar23);
                local_62 = (uint)local_6;
                iStack_60 = (int)(local_6 >> 0x10);
                iVar15 = (int)(uVar19 >> 0x10);
                if ((iStack_60 <= iVar15) && ((iStack_60 < iVar15 || (local_62 < (uint)uVar19)))) {
                  local_6 = uVar19;
                }
                if ((long)local_6 < (long)uStack_a) {
                  uStack_a._0_2_ = (int)local_6;
                  uStack_a._2_2_ = (int)(local_6 >> 0x10);
                  uStack_a = local_6;
                  if (iVar23 == 0xc) {
                    local_c = (undefined *)&DAT_10a8_0001;
                  }
                }
              }
              iVar23 = iVar23 + 4;
            } while (iVar23 < 0x10);
            if ((0xffff < (long)uStack_a) ||
               (((-1 < (long)uStack_a &&
                 ((*(uint *)((int)local_14 + 2) & 0x7f0) >> 4 < (uint)uStack_a)) ||
                (local_c != (undefined *)0x0)))) {
              iVar23 = 0;
              do {
                plVar1 = (long *)((int)&local_30 + iVar23);
                *plVar1 = *plVar1 - ((long)(*(long *)((int)&local_40 + iVar23) * uStack_a) / 100 -
                                    *(long *)((int)&local_50 + iVar23));
                iVar23 = iVar23 + 4;
              } while (iVar23 < 0x10);
              uVar27 = *(uint *)((int)local_14 + 2);
              puVar3 = local_14;
              *(uint *)puVar3 = *(uint *)puVar3;
              puVar5 = (uint *)((int)local_14 + 2);
              *puVar5 = *puVar5 ^ (uVar27 ^ (uint)uStack_a << 4) & 0x7f0;
              puVar24 = local_14;
              goto LAB_1050_0be9;
            }
            iVar23 = 0;
            puVar12 = (undefined2 *)local_18 + 4;
            while( true ) {
              uVar27 = *(uint *)((int)&local_30 + iVar23);
              uVar13 = *(uint *)((int)&local_50 + iVar23);
              puVar5 = puVar12;
              uVar14 = uVar27 + *puVar5;
              iVar15 = *(int *)((int)&local_30 + iVar23 + 2) + (uint)CARRY2(uVar27,*puVar5) +
                       *(int *)((int)&local_50 + iVar23 + 2) + (uint)CARRY2(uVar14,uVar13);
              iVar16 = *(int *)((int)&local_40 + iVar23 + 2);
              if ((iVar15 < iVar16) ||
                 ((iVar15 <= iVar16 && (uVar14 + uVar13 < *(uint *)((int)&local_40 + iVar23)))))
              break;
              puVar12 = puVar12 + 1;
              iVar23 = iVar23 + 4;
              puVar24 = local_14;
              if (0xb < iVar23) goto LAB_1050_0bec;
            }
            FUN_1010_6b58(CONCAT22(0x40,((undefined2 *)local_18)[1]),*local_18);
            puVar24 = local_14;
          }
LAB_1050_0bec:
          if (0 < local_e) {
            uVar27 = *(uint *)((int)puVar24 + 2);
            iVar23 = FUN_1050_1056((uint *)((ulong)local_18 & 0xffff0000 |
                                           ZEXT24((undefined2 *)local_18)),uVar27 >> 1 & 7,
                                   CONCAT13((char)((uint)local_e >> 8),
                                            CONCAT12((char)local_e,
                                                     CONCAT11((char)uVar27,
                                                              (char)((ulong)*(uint *)puVar24 >> 8))
                                                     >> 2)) & 0xffff007f,&local_30);
            if (iVar23 == 0) {
              puVar3 = puVar24;
              *(uint *)puVar3 = *(uint *)puVar3 & 0xfc00;
            }
          }
          if ((*(uint *)puVar24 & 0x3ff) != 0) break;
        }
        uVar10 = *(undefined4 *)((undefined2 *)local_18 + 0x1c);
        pcVar7 = (char *)((int)uVar10 + 3);
        *pcVar7 = *pcVar7 + -1;
        uVar10 = *(undefined4 *)((undefined2 *)local_18 + 0x1c);
        if (*(char *)((int)uVar10 + 3) == '\0') {
          if ((*(uint *)((int)local_18 + 0x20) & 0x700) == 0) {
            FUN_1010_6b58(CONCAT22(0x45,*(undefined2 *)((int)local_18 + 2)),*local_18);
          }
          uVar10 = *(undefined4 *)((int)local_18 + 0x38);
          FUN_1038_05b8((uint)uVar10,(uint)((ulong)uVar10 >> 0x10));
          *(undefined4 *)((undefined2 *)local_18 + 0x1c) = 0;
          break;
        }
        uVar19 = *(ulong *)((undefined2 *)local_18 + 0x1c);
        iVar23 = (int)uVar19;
        FUN_10a0_0ac6(uVar19 & 0xffff0000 | (ulong)(iVar23 + 4),
                      uVar19 & 0xff000000 | (ulong)CONCAT12((char)(uVar19 >> 0x10),iVar23 + 8),
                      (uint)*(byte *)(iVar23 + 3) << 2);
        lVar18 = *(long *)((undefined2 *)local_18 + 0x1c);
      }
LAB_1050_0684:
      uStack_a._2_2_ = (uint)(uStack_a >> 0x10);
      if (((*(long *)((undefined2 *)local_18 + 0x1c) != 0) ||
          ((((undefined2 *)local_18)[0x10] & 0x700) == 0)) || (local_24 < 1)) {
        if ((local_1c != 0) && (*(long *)((undefined2 *)local_18 + 0x1c) != 0)) {
          uVar10 = *(undefined4 *)((undefined2 *)local_18 + 0x1c);
          if ((*(uint *)((int)uVar10 + 6) & 0x7f0) == 0) {
            uVar10 = *(undefined4 *)((undefined2 *)local_18 + 0x1c);
            FUN_1038_05b8((uint)uVar10,(uint)((ulong)uVar10 >> 0x10));
            *(undefined4 *)((undefined2 *)local_18 + 0x1c) = 0;
          }
          else {
            uVar10 = *(undefined4 *)((undefined2 *)local_18 + 0x1c);
            uVar28 = (undefined2)((ulong)uVar10 >> 0x10);
            iVar23 = (int)uVar10;
            uVar9 = *(undefined2 *)(iVar23 + 6);
            *(undefined2 *)(iVar23 + 4) =
                 (int)CONCAT31((uint3)((byte)((uint)*(undefined2 *)(iVar23 + 4) >> 8) & 0xfc),1);
            *(undefined2 *)(iVar23 + 6) = uVar9;
          }
        }
        goto LAB_1050_0e14;
      }
      switch((char)((ulong)(((undefined2 *)local_18)[0x10] & 0x700) >> 8)) {
      case '\x01':
      case '\x04':
        uVar19 = CONCAT22((uint)uStack_a,local_c) & 0xfffe0fff;
        local_c = (undefined *)((uint)uVar19 | 0xc00);
        uStack_a._0_2_ = (uint)(uVar19 >> 0x10);
        iVar23 = FUN_1020_3842((int)(undefined2 *)local_18,local_18._2_2_,
                               ((undefined2 *)local_18)[1]);
        uVar27 = iVar23 - (CONCAT11((char)((undefined2 *)local_18)[0xe],
                                    (char)((ulong)(uint)((undefined2 *)local_18)[0xd] >> 8)) & 0xfff
                          );
        if (((int)uVar27 < 1) && ((((undefined2 *)local_18)[0x10] & 0x700) == 0x400))
        goto switchD_1050_06bd_caseD_2;
        goto LAB_1050_082d;
      case '\x02':
switchD_1050_06bd_caseD_2:
        iVar23 = FUN_1020_38de((int)(undefined2 *)local_18,local_18._2_2_,
                               ((undefined2 *)local_18)[1]);
        uVar27 = (uint)((undefined2 *)local_18)[0xe] >> 4;
        uVar27 = iVar23 - (uVar27 & 0xff | (uint)(byte)((ulong)uVar27 >> 8) << 8);
        uStack_a._0_2_ = (uint)uStack_a & 0xfffe;
        local_c = (undefined *)
                  ((uint)local_c & 0xff | (uint)(byte)((ulong)((uint)local_c & 0x7ff) >> 8) << 8 |
                  0x400);
        break;
      case '\x03':
        iVar23 = FUN_1020_3986((int)(undefined2 *)local_18,local_18._2_2_,
                               ((undefined2 *)local_18)[1]);
        uVar27 = ((undefined2 *)local_18)[0xf];
        uVar27 = iVar23 - (uVar27 & 0xff | ((byte)((ulong)uVar27 >> 8) & 0xf) << 8);
        uStack_a._0_2_ = (uint)uStack_a & 0xfffe;
        local_c = (undefined *)
                  ((uint)local_c & 0xff | (uint)(byte)((ulong)((uint)local_c & 0x17ff) >> 8) << 8 |
                  0x1400);
        break;
      case '\x05':
        goto switchD_1050_06bd_caseD_5;
      case '\x06':
        iVar23 = FUN_1078_1d84(((undefined2 *)local_18)[1] * 0x76 + -0x77a2,0x1f);
        uVar13 = (iVar23 == 0) + 1;
        iVar23 = FUN_1020_38de((int)(undefined2 *)local_18,local_18._2_2_,
                               ((undefined2 *)local_18)[1]);
        uVar27 = (uint)((undefined2 *)local_18)[0xe] >> 4;
        local_10 = iVar23 - (uVar27 & 0xff | (uint)(byte)((ulong)uVar27 >> 8) << 8);
        plVar26 = &local_30;
        local_6 = CONCAT22(plVar26,uVar13);
        do {
          uVar27 = (uint)(*plVar26 / (long)(ulong)uVar13);
          if ((int)uVar27 < (int)local_10) {
            local_10 = uVar27;
          }
          plVar26 = plVar26 + 1;
        } while (plVar26 < &local_24);
        if (local_10 != 0) {
          uVar19 = CONCAT22((uint)uStack_a,local_c) & 0xfffe07ff;
          local_c = (undefined *)((uint)uVar19 | 0x400);
          uStack_a._0_2_ = (uint)(uVar19 >> 0x10);
          uVar27 = local_10;
          goto LAB_1050_082d;
        }
        goto switchD_1050_06bd_caseD_5;
      default:
        goto LAB_1050_0e50;
      }
      goto LAB_1050_0827;
    }
  }
  goto LAB_1050_0e50;
code_r0x105009ff:
  local_e = local_e + 1;
  uVar27 = *(uint *)local_14 - 1 ^ *(uint *)local_14;
  puVar3 = local_14;
  *(uint *)puVar3 = *(uint *)puVar3 ^ (uVar27 & 0xff | ((byte)((ulong)uVar27 >> 8) & 3) << 8);
  puVar5 = (uint *)((int)local_14 + 2);
  *puVar5 = *puVar5;
  puVar5 = (uint *)((int)local_14 + 2);
  *puVar5 = *puVar5 & 0xf80f;
  iVar23 = 0;
  do {
    plVar1 = (long *)((int)&local_30 + iVar23);
    *plVar1 = *plVar1 + (*(long *)((int)&local_50 + iVar23) - *(long *)((int)&local_40 + iVar23));
    *(undefined4 *)((int)&local_50 + iVar23) = 0;
    iVar23 = iVar23 + 4;
  } while (iVar23 < 0x10);
  puVar24 = local_14;
  if ((*(uint *)local_14 & 0x3ff) == 0) goto LAB_1050_0be9;
  goto LAB_1050_09d8;
switchD_1050_06bd_caseD_5:
  uStack_a._2_2_ = (uint)(uStack_a >> 0x10);
  uVar27 = 0x3fc;
  uStack_a._0_2_ = (uint)uStack_a & 0xfffe;
  local_c = (undefined *)
            ((uint)local_c & 0xff | (uint)(byte)((ulong)((uint)local_c & 0x23ff) >> 8) << 8 | 0x2000
            );
LAB_1050_0827:
LAB_1050_082d:
  if ((int)uVar27 < 1) goto LAB_1050_0cda;
  if (0x3fc < (int)uVar27) {
    uVar27 = 0x3fc;
  }
  local_c = (undefined *)((uint)local_c ^ (uVar27 ^ (uint)local_c) & 0x3ff);
  uVar27 = (uint)uStack_a & 0xfff3 | 2;
  uStack_a._0_2_ = (uint)uStack_a & 0xf803 | 2;
  puVar12 = FUN_1038_0562(4,1,0);
  ((undefined2 *)local_18)[0x1c] = puVar12;
  ((undefined2 *)local_18)[0x1d] = uVar27;
  uVar10 = *(undefined4 *)((undefined2 *)local_18 + 0x1c);
  *(undefined *)((int)uVar10 + 3) = 1;
  uVar10 = *(undefined4 *)((undefined2 *)local_18 + 0x1c);
  *(undefined4 *)((int)uVar10 + 4) = CONCAT22((uint)uStack_a,local_c);
  local_1c = 1;
  goto LAB_1050_0894;
LAB_1050_0cda:
  if (local_1c == 0) {
    uVar27 = (CONCAT11((char)(uint)uStack_a,(char)((ulong)((uint)local_c & 0xfc00) >> 8)) & 0x1ff)
             >> 2;
    if (uVar27 == 1) {
      uVar9 = ((undefined2 *)local_18)[1];
      uVar27 = FUN_1020_389e((int)(undefined2 *)local_18,
                             CONCAT13((char)((uint)uVar9 >> 8),CONCAT12((char)uVar9,local_18._2_2_))
                            );
      uVar13 = (uint)((undefined2 *)local_18)[0xe] >> 4;
      iVar23 = 0xb2;
      if ((uVar13 & 0xff | (uint)(byte)((ulong)uVar13 >> 8) << 8) == uVar27) {
        iVar23 = 0xb3;
      }
    }
    else if (uVar27 == 3) {
      uVar9 = ((undefined2 *)local_18)[1];
      uVar27 = FUN_1020_37fc((int)(undefined2 *)local_18,
                             CONCAT13((char)((uint)uVar9 >> 8),CONCAT12((char)uVar9,local_18._2_2_))
                            );
      iVar23 = 0xb0;
      if ((CONCAT11((char)((undefined2 *)local_18)[0xe],
                    (char)((ulong)(uint)((undefined2 *)local_18)[0xd] >> 8)) & 0xfff) == uVar27) {
        iVar23 = 0xb1;
      }
    }
    else {
      iVar23 = local_1a;
      if (uVar27 == 5) {
        uVar13 = FUN_1020_393a((ulong)local_18 & 0xff000000 |
                               (ulong)CONCAT12((char)((ulong)local_18 >> 0x10),
                                               (undefined2 *)local_18),((undefined2 *)local_18)[1]);
        uVar27 = ((undefined2 *)local_18)[0xf];
        iVar23 = 0xb4;
        if ((uVar27 & 0xff | ((byte)((ulong)uVar27 >> 8) & 0xf) << 8) == uVar13) {
          iVar23 = 0xb5;
        }
      }
    }
    FUN_1010_6b58(CONCAT22(iVar23,((undefined2 *)local_18)[1]),*(undefined2 *)local_18);
    local_1a = iVar23;
  }
LAB_1050_0e14:
  puVar22 = &local_30;
  puVar21 = (undefined4 *)((undefined2 *)local_18 + 0x13);
  do {
    puVar4 = puVar22;
    puVar22 = puVar22 + 1;
    *puVar21 = *puVar4;
    puVar21 = puVar21 + 1;
  } while (puVar22 < &local_24);
LAB_1050_0e40:
  iVar23 = ((undefined2 *)local_18)[1] * 0x76;
  puVar5 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_888c + iVar23);
  uVar27 = *puVar5;
  *puVar5 = *puVar5 + (uint)local_24;
  piVar6 = (int *)(iVar23 + -0x7772);
  *piVar6 = *piVar6 + local_24._2_2_ + (uint)CARRY2(uVar27,(uint)local_24);
LAB_1050_0e50:
  local_18._0_2_ = (undefined2 *)local_18 + 0x1e;
  iVar23 = unaff_SS;
  puVar11 = local_20;
  if (local_20 <= (undefined2 *)local_18) goto LAB_1050_0e5c;
  goto LAB_1050_0525;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1050_1056(uint *param_1,int param_2,long param_3,long *param_4)

{
  byte *pbVar1;
  ulong *puVar2;
  undefined2 *puVar3;
  long *plVar4;
  uint *puVar5;
  uint uVar6;
  ulong uVar7;
  undefined4 *puVar8;
  int iVar9;
  uint uVar10;
  uint uVar11;
  long *plVar12;
  int iVar13;
  undefined2 uVar14;
  undefined4 uVar15;
  undefined2 uVar16;
  long local_1c;
  uint local_10;
  uint local_e;
  uint local_8;
  ulong local_6;

  if (param_2 == 2) {
    if ((*(byte *)((int)param_1 + 5) & 2) == 0) {
      return 0;
    }
    if (0xf < (int)param_3) {
      return 0;
    }
    if (*(int *)((int)&PTR_DAT_10a8_0000_10a8_8862 + *(int *)((int)param_1 + 2) * 0x76) == 0x200) {
      uVar11 = *param_1;
      uVar15 = CONCAT22(0xba,*(undefined2 *)((int)param_1 + 2));
    }
    else {
      iVar13 = *(int *)((int)param_1 + 2) * 4;
      local_8 = *(uint *)(iVar13 + 0x74);
      local_6 = local_6 & 0xffff | (ulong)local_8 << 0x10;
      if ((*(byte *)(*(int *)(iVar13 + 0x72) + (int)param_3 * 0x87 + 0x7c) & 2) == 0) {
        puVar8 = FUN_1010_1284(*(uint *)((int)param_1 + 2),*param_1);
        FUN_1050_1744(*(int *)((int)param_1 + 2),CONCAT22(local_8,puVar8),(int)param_3,param_3._2_2_
                     );
        if ((*(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + *(int *)((int)param_1 + 2) * 0x76) & 1)
            != 0) {
          uVar7 = puVar8[0x19];
          uVar14 = *(undefined2 *)((int)puVar8 + 0x66);
          iVar13 = (int)uVar7;
          uVar7 = uVar7 & 0xffff0000;
          local_6 = uVar7 | iVar13 + 4;
          *(uint *)(iVar13 + 10) = *(uint *)(iVar13 + 10) & 0xfff2 | 2;
          uVar14 = (undefined2)(uVar7 >> 0x10);
          *(undefined2 *)(iVar13 + 0xc) = 1;
          *(int *)(iVar13 + 0xe) = 2 - (uint)(((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) == 0);
          iVar13 = FUN_1088_0e78((uint *)puVar8,local_8);
          if ((iVar13 == 0) && (iVar13 = FUN_1088_0dde((uint *)puVar8,local_8), iVar13 == 0)) {
            pbVar1 = (byte *)((int)local_6 + 6);
            *pbVar1 = *pbVar1 & 0xf0;
          }
        }
        if (param_3._2_2_ == 1) {
          uVar14 = *(undefined2 *)((int)param_1 + 2);
          uVar11 = *(uint *)puVar8;
          uVar11 = uVar11 & 0xff | (uint)(byte)((ulong)uVar11 >> 8) << 8;
          uVar16 = 0x31;
        }
        else {
          uVar14 = *(undefined2 *)((int)param_1 + 2);
          uVar11 = *(uint *)puVar8;
          uVar11 = uVar11 & 0xff | (uint)(byte)((ulong)uVar11 >> 8) << 8;
          uVar16 = 0x32;
        }
        uVar11 = uVar11 | 0x8000;
        uVar15 = CONCAT22(uVar16,uVar14);
        goto LAB_1050_11c6;
      }
      uVar11 = *param_1;
      uVar15 = CONCAT22(0x56,*(undefined2 *)((int)param_1 + 2));
    }
    FUN_1010_6b58(uVar15,uVar11);
LAB_1050_173e:
    return 0;
  }
  if (param_2 != 1) {
    return 0;
  }
  switch((int)param_3) {
  case 0:
    if ((*(byte *)((int)param_1 + 5) & 2) != 0) {
      return 0;
    }
    pbVar1 = (byte *)((int)param_1 + 5);
    *pbVar1 = *pbVar1 | 2;
    uVar11 = *param_1;
    uVar10 = 0x55;
    break;
  case 1:
    iVar13 = FUN_1020_389e((int)param_1,CONCAT22(*(undefined2 *)((int)param_1 + 2),param_1._2_2_));
    uVar11 = iVar13 - (*(uint *)((int)param_1 + 0x1c) >> 4);
    if ((int)param_3._2_2_ < (int)uVar11) {
      uVar11 = param_3._2_2_;
    }
    if ((int)uVar11 < 1) {
      return 0;
    }
    uVar6 = uVar11 * 0x10 + *(int *)((int)param_1 + 0x1c);
    uVar10 = *(uint *)((int)param_1 + 0x1c);
    *(undefined2 *)((int)param_1 + 0x1a) = *(undefined2 *)((int)param_1 + 0x1a);
    *(uint *)((int)param_1 + 0x1c) = (uVar6 ^ uVar10) & 0xf ^ uVar6;
    local_8 = 0x33;
    goto LAB_1050_1517;
  case 2:
    uVar11 = *(uint *)((int)param_1 + 0x1c) >> 4;
    uVar11 = uVar11 & 0xff | (uint)(byte)((ulong)uVar11 >> 8) << 8;
    if ((int)param_3._2_2_ < (int)uVar11) {
      uVar11 = param_3._2_2_;
    }
    if ((int)uVar11 < 1) {
      return 0;
    }
    uVar10 = *(uint *)((int)param_1 + 0x1c);
    uVar6 = *(uint *)((int)param_1 + 0x1c);
    *(undefined2 *)((int)param_1 + 0x1a) = *(undefined2 *)((int)param_1 + 0x1a);
    *(uint *)((int)param_1 + 0x1c) = (uVar10 & 0xfff0) + uVar11 * -0x10 ^ uVar6 & 0xf;
    local_8 = 0x39;
    local_6._0_2_ = 3;
    plVar12 = param_4;
    do {
      plVar4 = plVar12;
      *plVar4 = *plVar4 + (long)(int)uVar11;
      plVar12 = plVar12 + 1;
      local_6._0_2_ = (int)local_6 + -1;
    } while ((int)local_6 != 0);
    goto LAB_1050_1367;
  case 3:
    iVar13 = FUN_1020_37fc((int)param_1,CONCAT22(*(undefined2 *)((int)param_1 + 2),param_1._2_2_));
    uVar11 = iVar13 - (CONCAT11((char)*(undefined2 *)((int)param_1 + 0x1c),
                                (char)((ulong)*(uint *)((int)param_1 + 0x1a) >> 8)) & 0xfff);
    if ((int)param_3._2_2_ < (int)uVar11) {
      uVar11 = param_3._2_2_;
    }
    if ((int)uVar11 < 1) {
      return 0;
    }
    puVar2 = (ulong *)((int)param_1 + 0x1a);
    *puVar2 = *puVar2 ^ ((long)(int)uVar11 * 0x100 + *(long *)((int)param_1 + 0x1a) ^
                        *(ulong *)((int)param_1 + 0x1a)) & 0xfff00;
    local_8 = 0x35;
    goto LAB_1050_1517;
  case 4:
    uVar11 = CONCAT11((char)*(undefined2 *)((int)param_1 + 0x1c),
                      (char)((ulong)*(uint *)((int)param_1 + 0x1a) >> 8)) & 0xfff;
    if ((int)param_3._2_2_ < (int)uVar11) {
      uVar11 = param_3._2_2_;
    }
    if ((int)uVar11 < 1) {
      return 0;
    }
    uVar10 = *(uint *)((int)param_1 + 0x1a);
    iVar13 = *(int *)((int)param_1 + 0x1c);
    uVar6 = *(uint *)((int)param_1 + 0x1c);
    puVar5 = (uint *)((int)param_1 + 0x1a);
    *puVar5 = *puVar5 ^ (uVar10 + uVar11 * -0x100 ^ *(uint *)((int)param_1 + 0x1a)) & 0xff00;
    puVar5 = (uint *)((int)param_1 + 0x1c);
    *puVar5 = *puVar5 ^ ((iVar13 - (uint)(byte)((ulong)uVar11 >> 8)) -
                         (uint)(uVar10 < uVar11 * 0x100) ^ uVar6) & 0xf;
    local_8 = 0x3b;
    goto LAB_1050_136a;
  case 5:
    iVar13 = FUN_1020_393a(param_1,*(int *)((int)param_1 + 2));
    uVar11 = iVar13 - (*(uint *)((int)param_1 + 0x1e) & 0xfff);
    if ((int)param_3._2_2_ < (int)uVar11) {
      uVar11 = param_3._2_2_;
    }
    if ((int)uVar11 < 1) {
      return 0;
    }
    if (((*(uint *)((int)param_1 + 0x1e) & 0xfff) == 0) ||
       ((*(uint *)((int)param_1 + 0x20) & 0x3e) == 0x3e)) {
      PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)*(undefined2 *)((int)param_1 + 2);
      local_10 = 0x8000;
      local_e = (uint)CONCAT31((uint3)(byte)(local_e >> 8),7);
      local_6 = local_6 & 0xffff;
      iVar13 = 0;
      do {
        iVar9 = FUN_1060_32b2(&local_10);
        if (iVar9 != 1) break;
        local_e = local_e & 0xff00 | (uint)(byte)((char)local_e + 1);
        iVar13 = iVar13 + 1;
      } while (iVar13 < 5);
      PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
      uVar10 = *(uint *)((int)param_1 + 0x20);
      puVar3 = (undefined2 *)((int)param_1 + 0x1e);
      *puVar3 = *puVar3;
      puVar5 = (uint *)((int)param_1 + 0x20);
      *puVar5 = *puVar5 ^ (uVar10 ^ (iVar13 + -1) * 2) & 0x3e;
      puVar5 = (uint *)((int)param_1 + 0x1e);
      *puVar5 = *puVar5 & 0xf000;
    }
    uVar10 = *(int *)((int)param_1 + 0x1e) + uVar11 ^ *(uint *)((int)param_1 + 0x1e);
    puVar5 = (uint *)((int)param_1 + 0x1e);
    *puVar5 = *puVar5 ^ (uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 0xf) << 8);
    puVar3 = (undefined2 *)((int)param_1 + 0x20);
    *puVar3 = *puVar3;
    local_8 = 0x37;
LAB_1050_1517:
    if ((int)uVar11 < 2) {
      uVar11 = *param_1;
      uVar10 = local_8;
    }
    else {
      uVar11 = *param_1;
      uVar10 = local_8 + 1;
    }
    uVar15 = CONCAT22(uVar10,*(undefined2 *)((int)param_1 + 2));
    goto LAB_1050_11c6;
  case 6:
    uVar11 = *(uint *)((int)param_1 + 0x1e);
    uVar11 = uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 0xf) << 8;
    if ((int)param_3._2_2_ < (int)uVar11) {
      uVar11 = param_3._2_2_;
    }
    if ((int)uVar11 < 1) {
      return 0;
    }
    uVar10 = *(int *)((int)param_1 + 0x1e) - uVar11 ^ *(uint *)((int)param_1 + 0x1e);
    puVar5 = (uint *)((int)param_1 + 0x1e);
    *puVar5 = *puVar5 ^ (uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 0xf) << 8);
    puVar3 = (undefined2 *)((int)param_1 + 0x20);
    *puVar3 = *puVar3;
    local_8 = 0x3d;
    local_1c = (long)(int)(uVar11 * 3);
    local_6._0_2_ = 3;
    plVar12 = param_4;
    do {
      plVar4 = plVar12;
      *plVar4 = *plVar4 + local_1c;
      plVar12 = plVar12 + 1;
      local_6._0_2_ = (int)local_6 + -1;
    } while ((int)local_6 != 0);
LAB_1050_1367:
    local_6 = CONCAT22(param_4,3);
LAB_1050_136a:
    if ((int)uVar11 < 2) {
      uVar11 = *param_1;
      uVar10 = local_8;
    }
    else {
      uVar11 = *param_1;
      uVar10 = local_8 + 1;
    }
    break;
  case 7:
    if (param_3 < 0x10000) {
      return 0;
    }
    iVar13 = *(int *)((int)param_1 + 0x20);
    uVar11 = *(uint *)((int)param_1 + 0x20);
    puVar3 = (undefined2 *)((int)param_1 + 0x1e);
    *puVar3 = *puVar3;
    puVar5 = (uint *)((int)param_1 + 0x20);
    *puVar5 = *puVar5 ^ (param_3._2_2_ * 2 + iVar13 ^ uVar11) & 0x3e;
    uVar11 = *param_1;
    uVar10 = 0x3f;
    break;
  case 8:
    iVar13 = 3;
    do {
      plVar4 = param_4;
      *plVar4 = *plVar4 + (long)(int)param_3._2_2_;
      param_4 = param_4 + 1;
      iVar13 = iVar13 + -1;
    } while (iVar13 != 0);
    uVar11 = *param_1;
    uVar10 = 0x91;
    break;
  case 9:
  case 10:
  case 0xb:
  case 0xc:
  case 0xd:
  case 0xe:
    if (((int)param_3 - 9U & 1) != 0) {
      param_3._2_2_ = -param_3._2_2_;
    }
    iVar13 = (int)((int)param_3 - 9U) >> 1;
    uVar11 = (int)*(char *)((int)param_1 + 0x12 + iVar13) + param_3._2_2_;
    if (99 < (int)uVar11) {
      uVar11 = 99;
    }
    if ((int)uVar11 < 1) {
      uVar11 = 1;
    }
    local_6 = local_6 & 0xffff0000 | (ulong)uVar11;
    FUN_1010_6b58(CONCAT22(0x80,*(undefined2 *)((int)param_1 + 2)),*param_1);
    *(undefined *)((int)param_1 + iVar13 + 0x12) = (undefined)local_6;
    return 1;
  case 0xf:
  case 0x10:
  case 0x11:
  case 0x12:
  case 0x13:
  case 0x14:
  case 0x15:
    FUN_1010_6b58(CONCAT22(0x81,*(undefined2 *)((int)param_1 + 2)),*param_1);
    uVar11 = (int)param_3 - 0xf;
    uVar10 = *(uint *)((int)param_1 + 0x20);
    puVar5 = (uint *)((int)param_1 + 0x1e);
    *puVar5 = *puVar5 ^ ((((((uint)((uVar11 & 1) != 0) << 0xf) >> 1 |
                           (uint)((uVar11 >> 1 & 1) != 0) << 0xf) >> 1 |
                          (uint)((uVar11 >> 2 & 1) != 0) << 0xf) >> 1 |
                         (uint)((uVar11 >> 3 & 1) != 0) << 0xf) ^ *(uint *)((int)param_1 + 0x1e)) &
                        0xf000;
    puVar5 = (uint *)((int)param_1 + 0x20);
    *puVar5 = *puVar5 ^ (uVar11 >> 4 ^ uVar10) & 1;
    return 1;
  default:
    goto LAB_1050_173e;
  }
  uVar15 = CONCAT22(uVar10,*(undefined2 *)((int)param_1 + 2));
LAB_1050_11c6:
  FUN_1010_6b58(uVar15,uVar11);
  return 1;
}



void __cdecl16far FUN_1050_1744(int param_1,undefined4 param_2,int param_3,int param_4)

{
  int *piVar1;
  undefined4 uVar2;
  undefined2 uVar3;

  uVar3 = (undefined2)((ulong)param_2 >> 0x10);
  *(int *)((int)param_2 + param_3 * 2 + 0xc) = param_4 + *(int *)((int)param_2 + 0xc + param_3 * 2);
  uVar2 = *(undefined4 *)(param_1 * 4 + 0x72);
  piVar1 = (int *)(param_3 * 0x87 + (int)uVar2 + 0x81);
  *piVar1 = *piVar1 + param_4;
  uVar2 = *(undefined4 *)(param_1 * 4 + 0x72);
  piVar1 = (int *)((int)uVar2 + param_3 * 0x87 + 0x7f);
  *piVar1 = *piVar1 + param_4;
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1050_178a(void)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  undefined2 uVar5;
  uint uVar6;
  undefined4 *puVar7;
  uint uStack_118;
  undefined4 local_90;
  undefined4 *local_1c;
  undefined *local_1a;
  long *local_18;
  undefined4 *local_14;
  undefined *local_12;
  long local_10;
  uint local_c;
  uint local_a;
  int local_8;
  undefined4 local_6;

  if (PTR_DAT_10a8_0000_10a8_85b6 != (undefined *)0x0) {
    local_12 = PTR_DAT_10a8_0000_10a8_0fde;
    local_1c = (undefined4 *)(PTR_DAT_10a8_0000_10a8_0fdc + (int)PTR_DAT_10a8_0000_10a8_85b6 * 0x18)
    ;
    local_1a = PTR_DAT_10a8_0000_10a8_0fde;
    puVar7 = (undefined4 *)PTR_DAT_10a8_0000_10a8_0fdc;
    if (PTR_DAT_10a8_0000_10a8_0fdc < local_1c) {
      do {
        uVar1 = *(uint *)((int)puVar7 + 2);
        iVar3 = FUN_1010_0f26(uVar1 >> 0xd,uVar1 & 0x1fff,&local_90);
        if (iVar3 != 0) {
          uVar1 = (uint)(byte)((byte)((ulong)*(uint *)puVar7 >> 8) >> 1);
          iVar3 = 0;
          local_18 = (long *)CONCAT22(local_12,puVar7 + 1);
          local_14 = puVar7;
          do {
            local_6 = *local_18;
            if (local_6 != 0) {
              uVar2 = *(uint *)((int)puVar7 + 2);
              uVar6 = uVar2 & 0x1fff;
              iVar4 = FUN_1028_2f36(uVar2 >> 0xd,uVar6,iVar3,local_6,(undefined4 *)0x0);
              local_10 = CONCAT22(uVar6,iVar4);
              if ((iVar4 == (int)local_6) && (uVar6 == local_6._2_2_)) {
                uVar2 = *(uint *)puVar7;
                if (((byte)((ulong)uVar2 >> 8) & 0xe0) == 0x40) {
                  local_c = 0x8000;
                }
                else {
                  local_c = 0;
                }
                local_c = local_c | uVar2 & 0xff | ((byte)((ulong)uVar2 >> 8) & 0x1f) << 8;
                if ((*(uint *)((int)puVar7 + 2) & 0xe000) == 0x4000) {
                  local_a = 0x8000;
                }
                else {
                  local_a = 0;
                }
                uStack_118 = (uint)((ulong)*puVar7 >> 0x10);
                local_a = local_a | uStack_118 & 0xff | ((byte)((ulong)uStack_118 >> 8) & 0x1f) << 8
                ;
                if (iVar3 == 4) {
                  uVar5 = 0x49;
                }
                else {
                  uVar5 = 0x48;
                }
                FUN_1010_6b58(CONCAT22(uVar5,uVar1) & 0xffff000f,local_c);
                if (iVar3 == 4) {
                  iVar4 = 0x4b;
                }
                else {
                  iVar4 = 0x4a;
                }
              }
              else {
                if (iVar3 == 4) {
                  local_8 = 0x4d;
                }
                else {
                  local_8 = 0x4c;
                }
                uVar2 = *(uint *)puVar7;
                if (((byte)((ulong)uVar2 >> 8) & 0xe0) == 0x40) {
                  local_c = 0x8000;
                }
                else {
                  local_c = 0;
                }
                local_c = local_c | uVar2 & 0xff | ((byte)((ulong)uVar2 >> 8) & 0x1f) << 8;
                uVar2 = *(uint *)((int)puVar7 + 2);
                if ((uVar2 & 0xe000) == 0x4000) {
                  local_a = 0x8000;
                }
                else {
                  local_a = 0;
                }
                local_a = local_a | uVar2 & 0xff | ((byte)((ulong)uVar2 >> 8) & 0x1f) << 8;
                if (local_10 == 0) {
                  local_8 = local_8 + 4;
                }
                FUN_1010_6b58(CONCAT22(local_8,uVar1) & 0xffff000f,local_c);
                if (iVar3 == 4) {
                  local_8 = 0x4f;
                }
                else {
                  local_8 = 0x4e;
                }
                iVar4 = local_8;
                if (local_10 == 0) {
                  iVar4 = local_8 + 4;
                }
              }
              FUN_1010_6b58(CONCAT22(iVar4,local_90._2_2_),local_a);
            }
            local_18 = (long *)((ulong)local_18 & 0xffff0000 | (ulong)((int)local_18 + 4));
            iVar3 = iVar3 + 1;
          } while (iVar3 < 5);
        }
        puVar7 = puVar7 + 6;
      } while (puVar7 < local_1c);
    }
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1050_1a04(void)

{
  char *pcVar1;
  int *piVar2;
  undefined4 *puVar3;
  char cVar4;
  undefined4 uVar5;
  long lVar6;
  uint uVar7;
  uint *puVar8;
  uint uVar9;
  int *piVar10;
  int iVar11;
  int iVar12;
  uint uVar13;
  long *plVar14;
  int iVar15;
  undefined *puVar16;
  undefined *puVar17;
  undefined4 *puVar18;
  uint uVar19;
  undefined2 unaff_SS;
  undefined2 uVar20;
  undefined4 local_fc;
  undefined4 local_bc;
  undefined4 local_7c;
  uint local_78;
  char local_6a [12];
  undefined4 local_5e;
  undefined4 local_4a;
  long local_44;
  undefined4 local_40;
  int local_3c [9];
  undefined *local_2a;
  undefined *local_28;
  float local_26;
  undefined4 local_22;
  undefined *local_1e;
  long local_1c;
  long local_18;
  undefined4 local_14;
  int local_10;
  undefined4 local_e;
  uint local_a;
  uint local_8;
  undefined4 local_6;

  if (PTR_DAT_10a8_0000_10a8_8854 != (undefined *)0x0) {
    local_2a = PTR_DAT_10a8_0000_10a8_0fd8 + (int)PTR_DAT_10a8_0000_10a8_8854 * 0xc;
    local_28 = PTR_DAT_10a8_0000_10a8_0fda;
    if (PTR_DAT_10a8_0000_10a8_0fd8 < local_2a) {
      local_40 = CONCAT22(PTR_DAT_10a8_0000_10a8_0fda,PTR_DAT_10a8_0000_10a8_0fd8);
      do {
        if ((*(int *)((int)local_40 + 4) != -1) && (*(long *)((int)local_40 + 8) != 0)) {
          puVar18 = &local_bc;
          for (iVar12 = 0x10; iVar12 != 0; iVar12 = iVar12 + -1) {
            puVar3 = puVar18;
            puVar18 = puVar18 + 1;
            *puVar3 = 0;
          }
          puVar18 = &local_fc;
          for (iVar12 = 0x20; iVar12 != 0; iVar12 = iVar12 + -1) {
            puVar3 = puVar18;
            puVar18 = (undefined4 *)((int)puVar18 + 2);
            *(undefined2 *)puVar3 = 0;
          }
          local_1c = 0;
          local_e = 0;
          local_10 = *(int *)((int)local_40 + 4);
          FUN_1010_02b0(local_10,&local_7c);
          FUN_1010_020c(CONCAT13((char)((uint)unaff_SS >> 8),CONCAT12((char)unaff_SS,&local_7c)),
                        &local_26);
          iVar12 = local_10;
          local_26 = (1.0 - local_26) * _PTR_DAT_10a8_0000_10a8_524c + local_26;
          local_6 = local_40;
          puVar16 = (undefined *)local_40;
          if (puVar16 < local_2a) {
            do {
              if (*(int *)(puVar16 + 4) == iVar12) {
                if ((local_7c._2_2_ == (undefined *)0xffff) && ((puVar16[6] & 1) == 0)) {
                  FUN_1010_6b58(CONCAT22(2,*(undefined2 *)(puVar16 + 2)),(int)local_7c);
                }
                else {
                  uVar19 = *(uint *)(puVar16 + 8);
                  iVar11 = *(int *)(puVar16 + 10);
                  iVar15 = *(int *)(puVar16 + 2);
                  puVar3 = &local_bc + iVar15;
                  uVar7 = *(uint *)puVar3;
                  *(uint *)puVar3 = *(uint *)puVar3 + uVar19;
                  piVar2 = (int *)((int)&local_bc + iVar15 * 4 + 2);
                  *piVar2 = *piVar2 + iVar11 + (uint)CARRY2(uVar7,uVar19);
                  local_e = CONCAT22((int)((ulong)local_e >> 0x10) + iVar11 +
                                     (uint)CARRY2((uint)local_e,uVar19),(uint)local_e + uVar19);
                  iVar11 = FUN_1078_1d84(*(int *)(puVar16 + 2) * 0x76 + -0x77a2,4);
                  if (iVar11 == 0) {
                    local_a = 0x6e;
                  }
                  else {
                    local_a = 0x87;
                  }
                  local_8 = 0;
                  uVar13 = (uint)((ulong)((long)(*(long *)(puVar16 + 8) * (ulong)local_a) / 100) >>
                                 0x10);
                  uVar7 = FUN_10a0_0c14();
                  local_a = uVar7;
                  local_8 = uVar13;
                  local_1c = CONCAT22((int)((ulong)local_1c >> 0x10) + uVar13 +
                                      (uint)CARRY2((uint)local_1c,uVar7),(uint)local_1c + uVar7);
                  iVar11 = *(int *)(puVar16 + 2);
                  puVar3 = &local_fc + iVar11;
                  uVar19 = *(uint *)puVar3;
                  *(uint *)puVar3 = *(uint *)puVar3 + uVar7;
                  piVar2 = (int *)((int)&local_fc + iVar11 * 4 + 2);
                  *piVar2 = *piVar2 + uVar13 + (uint)CARRY2(uVar19,uVar7);
                }
                *(undefined2 *)(puVar16 + 4) = 0xffff;
              }
              puVar16 = puVar16 + 0xc;
            } while (puVar16 < local_2a);
          }
          if (local_7c._2_2_ == (undefined *)0xffff) {
            local_18 = 0;
LAB_1050_1d46:
            local_14 = 0;
            local_e = 0;
            local_8 = 0;
            local_1e = (undefined *)0x0;
            local_6 = 0;
            if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
              plVar14 = &local_fc;
              local_6._2_2_ = (undefined *)0x0;
              do {
                if (*plVar14 != 0) {
                  local_8 = local_8 + 1;
                  lVar6 = *plVar14;
                  if (local_e <= lVar6) {
                    if (((uint)local_e == (int)lVar6) &&
                       (local_e._2_2_ == *(int *)((int)plVar14 + 2))) {
                      local_6 = 1;
                    }
                    else {
                      local_6 = 0;
                      local_6 = 0;
                      local_14 = local_e;
                      local_e = *plVar14;
                      local_1e = local_6._2_2_;
                    }
                  }
                }
                plVar14 = plVar14 + 1;
                local_6._2_2_ = local_6._2_2_ + 1;
              } while ((int)local_6._2_2_ < (int)PTR_DAT_10a8_0002_10a8_0038);
            }
            puVar16 = local_1e;
            if (local_e == 0) goto LAB_1050_21b1;
            if ((int)local_6 == 0) {
              if (local_7c._2_2_ == (undefined *)0xffff) {
                if ((int)local_8 < 2) {
                  FUN_1010_6b58(CONCAT22(10,local_1e),(int)local_7c);
                }
                else {
                  puVar17 = (undefined *)0x0;
                  plVar14 = &local_bc;
                  do {
                    if (*plVar14 != 0) {
                      if (local_1e == puVar17) {
                        uVar20 = 8;
                      }
                      else {
                        uVar20 = 9;
                      }
                      FUN_1010_6b58(CONCAT22(uVar20,puVar17),(int)local_7c);
                    }
                    puVar17 = puVar17 + 1;
                    plVar14 = plVar14 + 1;
                    puVar16 = local_1e;
                  } while (plVar14 < &local_7c);
                }
              }
              else {
                puVar17 = (undefined *)0x0;
                plVar14 = &local_bc;
                do {
                  if (*plVar14 != 0) {
                    if (local_1e == puVar17) {
                      uVar20 = 0xb;
                    }
                    else {
                      uVar20 = 0xc;
                    }
                    FUN_1010_6b58(CONCAT22(uVar20,puVar17),(int)local_7c);
                  }
                  puVar16 = local_1e;
                  puVar17 = puVar17 + 1;
                  plVar14 = plVar14 + 1;
                } while (plVar14 < &local_7c);
                FUN_1010_6b58(CONCAT22(7,local_7c._2_2_),(int)local_7c);
                local_7c._2_2_ = (undefined *)0xffff;
              }
              if (puVar16 != (undefined *)0xffff) {
                uVar19 = *(uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 + (int)puVar16 * 0x76);
                local_5e._2_2_ =
                     local_5e._2_2_ ^
                     ((uint)(((byte)uVar19 & 0x1c) >> 2) << 8 ^ local_5e._2_2_) & 0x700;
                local_5e = local_5e & 0xffff |
                           (ulong)(local_5e._2_2_ ^
                                  (local_5e._2_2_ ^ ((uVar19 & 2) >> 1) * 0x80) & 0x80) << 0x10;
                if (((uVar19 & 0x20) != 0) &&
                   (PTR_DAT_10a8_0001_10a8_00c0 = puVar16,
                   iVar12 = FUN_1020_3abc(CONCAT22(unaff_SS,&local_7c),local_3c,local_3c + 3,
                                          local_3c + 6), iVar12 != 0)) {
                  local_10 = 0;
                  puVar8 = FUN_1038_0562(4,4,0);
                  local_44 = CONCAT22(uVar19,puVar8);
                  uVar7 = local_22._2_2_ & 0xfff3 | 2;
                  local_22 = local_22 & 0xf8030000 | 0x20000 | local_22 & 0xffff;
                  iVar11 = 0;
                  local_a = 0;
                  local_6 = 0;
                  iVar12 = 0;
                  do {
                    iVar15 = (int)puVar16 * 0x76 + iVar12;
                    if (*(char *)(iVar15 + -0x778c) != -1) {
                      if (*(int *)((int)local_3c + iVar11) == -1) {
                        *(int *)((int)local_3c + iVar11) = (int)local_6a[iVar12];
                      }
                      if (*(int *)((int)local_3c + iVar11 + 6) == -1) {
                        *(int *)((int)local_3c + iVar11 + 6) = (int)local_6a[iVar12];
                      }
                      cVar4 = local_6a[iVar12];
                      pcVar1 = (char *)(iVar15 + -0x778f);
                      if (*pcVar1 == cVar4 || *pcVar1 < cVar4) {
                        cVar4 = local_6a[iVar12];
                        if (cVar4 <= *(char *)(iVar15 + -0x778c)) goto LAB_1050_208d;
                        iVar15 = (int)cVar4 - *(int *)((int)local_3c + iVar11);
                      }
                      else {
                        iVar15 = (int)cVar4 - *(int *)((int)local_3c + iVar11 + 6);
                      }
                      local_8 = -iVar15;
                      iVar15 = (uint)((int)local_8 < 1) + iVar12 * 2 + 9;
                      uVar13 = iVar15 * 0x200;
                      uVar9 = (local_8 ^ (int)local_8 >> 0xf) - ((int)local_8 >> 0xf) ^
                              (uint)local_22;
                      uVar7 = 0;
                      local_22._0_2_ =
                           (uint)local_22 ^ (uVar9 & 0xff | ((byte)((ulong)uVar9 >> 8) & 3) << 8);
                      uVar9 = (uint)(local_22 >> 0x10);
                      local_22 = CONCAT22(uVar9 ^ (CARRY2(uVar13,uVar13) ^ uVar9) & 1,
                                          (uint)local_22 ^
                                          (iVar15 * 0x400 ^ (uint)local_22) & 0xfc00);
                      *(ulong *)((int)puVar8 + local_a + 4) = local_22;
                      local_a = local_a + 4;
                      local_10 = local_10 + 1;
                    }
LAB_1050_208d:
                    iVar12 = iVar12 + 1;
                    iVar11 = iVar11 + 2;
                  } while (iVar11 < 5);
                  if (local_10 < 1) {
                    FUN_1038_05b8((uint)puVar8,uVar19);
                    local_44 = 0;
                  }
                  else {
                    *(undefined *)((int)puVar8 + 3) = (undefined)local_10;
                    piVar10 = FUN_1010_018e((int)local_7c);
                    local_6 = local_6 & 0xffff | (ulong)uVar7 << 0x10;
                    *(long *)(piVar10 + 0x1c) = local_44;
                  }
                }
                PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
              }
              local_7c._2_2_ = local_1e;
              local_4a = ((((local_1c - local_18) * local_e) / local_1c) *
                         (&local_bc)[(int)local_1e]) / local_e;
              local_4a._2_2_ = (int)((ulong)local_4a >> 0x10);
              if ((local_14._2_2_ | (uint)local_14) != 0) {
                local_4a = ((local_e - local_14) * local_4a) / local_e;
                local_4a._2_2_ = (int)((ulong)local_4a >> 0x10);
              }
              if ((local_4a._2_2_ < 1) && ((local_4a._2_2_ < 0 || ((int)local_4a == 0)))) {
                local_4a = 1;
              }
            }
            else {
              iVar12 = 0;
              if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
                plVar14 = &local_bc;
                do {
                  if (*plVar14 != 0) {
                    FUN_1010_6b58(CONCAT22(6,iVar12),(int)local_7c);
                  }
                  plVar14 = plVar14 + 1;
                  iVar12 = iVar12 + 1;
                } while (iVar12 < (int)PTR_DAT_10a8_0002_10a8_0038);
              }
              if (local_7c._2_2_ != (undefined *)0xffff) {
                FUN_1010_6b58(CONCAT22(5,local_7c._2_2_),(int)local_7c);
                local_7c._2_2_ = (undefined *)0xffff;
              }
            }
          }
          else {
            iVar12 = FUN_1078_1d84((int)local_7c._2_2_ * 0x76 + -0x77a2,5);
            if (iVar12 == 0) {
              local_a = 100;
            }
            else {
              local_a = 0x78;
            }
            local_8 = 0;
            local_18 = (long)(local_4a * (ulong)local_a) / 100;
            if (local_18 <= local_1c) {
              local_4a = 0;
              if (local_44 != 0) {
                uVar5 = *(undefined4 *)
                         ((int)_PTR_DAT_10a8_0000_10a8_006a + (int)local_7c * 0x3c + 0x38);
                FUN_1038_05b8((uint)uVar5,(uint)((ulong)uVar5 >> 0x10));
                *(undefined4 *)((int)_PTR_DAT_10a8_0000_10a8_006a + (int)local_7c * 0x3c + 0x38) = 0
                ;
                local_44 = 0;
              }
              local_78 = local_78 & 0xfdff;
              local_5e = local_5e & 0xf87ff000;
              local_5e = local_5e | 0x3ff000;
              goto LAB_1050_1d46;
            }
            uVar19 = 0;
            plVar14 = &local_bc;
            do {
              if (*plVar14 != 0) {
                if (local_26 == (float)_PTR_DAT_10a8_0000_10a8_5250) {
                  FUN_1010_6b58((ulong)uVar19,(int)local_7c);
                  uVar20 = 3;
                }
                else {
                  FUN_10a0_0c14();
                  FUN_1010_6b58(CONCAT22(1,uVar19),(int)local_7c);
                  uVar20 = 4;
                }
                FUN_1010_6b58(CONCAT22(uVar20,local_7c._2_2_),(int)local_7c);
              }
              uVar19 = uVar19 + 1;
              plVar14 = plVar14 + 1;
            } while (plVar14 < &local_7c);
            local_4a = local_4a - (local_4a * local_1c) / local_18;
          }
          if ((local_7c._2_2_ != (undefined *)0xffff) && ((local_5e & 0x400000) != 0)) {
            local_5e = local_5e & 0xffbfffff;
            iVar12 = FUN_1018_4a4a(6);
            iVar11 = FUN_1018_4a4a(0x12d);
            piVar2 = (int *)(((int)local_7c._2_2_ * 0x3b + iVar12) * 2 + -0x7782);
            *piVar2 = *piVar2 + iVar11 + 100;
            FUN_1010_6b58(CONCAT22(0x60,local_7c._2_2_),0xfffe);
          }
          FUN_1010_02b0(-1,&local_7c);
        }
LAB_1050_21b1:
        local_40 = local_40 & 0xffff0000 | ZEXT24((undefined *)((int)local_40 + 0xcU));
      } while ((undefined *)((int)local_40 + 0xcU) < local_2a);
    }
    PTR_DAT_10a8_0000_10a8_8854 = (undefined *)0x0;
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x10503189)
// WARNING: Removing unreachable block (ram,0x105029d0)
// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1050_21ca(int param_1)

{
  uint **ppuVar1;
  uint *puVar2;
  ulong *puVar3;
  long *plVar4;
  int *piVar5;
  byte *pbVar6;
  undefined4 *puVar7;
  undefined4 uVar8;
  uint *puVar9;
  byte bVar10;
  undefined2 uVar11;
  uint uVar12;
  int *piVar13;
  uint uVar14;
  long lVar15;
  ulong uVar16;
  ulong uVar17;
  uint uVar18;
  uint *puVar19;
  int iVar20;
  uint *puVar21;
  undefined4 *puVar22;
  undefined4 *puVar23;
  ulong *puVar24;
  int iVar25;
  long *plVar26;
  undefined2 uVar27;
  undefined2 unaff_SS;
  bool bVar28;
  uint *puStack_ae;
  undefined4 local_aa;
  byte local_a5;
  undefined4 local_88;
  undefined4 local_6e;
  byte local_68;
  uint local_66 [4];
  undefined4 local_5e;
  uint local_5a [7];
  long local_4c [4];
  int local_3c;
  int local_3a;
  long local_38;
  undefined4 local_34;
  int local_30;
  int local_2e;
  uint local_2c;
  int local_2a;
  uint local_28;
  undefined4 local_26;
  uint *local_22;
  int *local_20;
  uint *local_1e;
  undefined4 uStack_1c;
  uint uStack_18;
  uint local_16;
  uint *local_14;
  undefined4 local_12;
  undefined4 local_e;
  undefined4 local_a;
  undefined4 local_6;

  if (((int)PTR_DAT_10a8_0000_10a8_83c6 < 1) || (local_3c = 0, (int)PTR_DAT_10a8_0000_10a8_83c6 < 1)
     ) {
    return;
  }
  local_3a = 0;
LAB_1050_21ec:
  local_26 = *(uint **)((int)_PTR_DAT_10a8_0000_10a8_006e + local_3a);
  if (local_26 == (uint *)0x0) {
    return;
  }
  uVar27 = (undefined2)((ulong)local_26 >> 0x10);
  iVar20 = (int)local_26;
  if ((*(byte *)(iVar20 + 5) & 4) == 0) {
    puVar22 = (undefined4 *)*(undefined2 *)(iVar20 + 100);
    puVar21 = *(uint **)(iVar20 + 0x66);
    puVar23 = &local_6e;
    for (iVar20 = 4; puVar22 = puVar22 + 1, iVar20 != 0; iVar20 = iVar20 + -1) {
      puVar7 = puVar23;
      puVar23 = puVar23 + 1;
      *puVar7 = *puVar22;
    }
    *(undefined2 *)puVar23 = *(undefined2 *)puVar22;
    bVar10 = local_68 & 0xf;
    if (bVar10 != 1) {
      if ((bVar10 == 5) || (bVar10 == 3)) {
        if (((uint *)local_26)[3] == 0xffff) {
          if (bVar10 == 3) {
            uVar12 = *local_26 & 0xff | (uint)(byte)((ulong)*local_26 >> 8) << 8 | 0x8000;
            uVar27 = 0x58;
            goto LAB_1050_2cea;
          }
          iVar20 = 0x5f;
          uVar12 = 0xffff;
LAB_1050_3249:
          FUN_1010_6b58(CONCAT22(iVar20,((uint *)local_26)[1]),uVar12);
          uVar12 = *(uint *)local_26;
          FUN_1010_747a(((uint *)local_26)[1],0x54,
                        uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000);
          pbVar6 = (byte *)((int)(uint *)local_26 + 5);
          *pbVar6 = *pbVar6 | 4;
          if ((local_68 & 0xf) == 3) {
            FUN_1050_3424((int *)(uint *)local_26,local_26._2_2_,(int *)CONCAT22(unaff_SS,&local_aa)
                          ,*(long *)((uint *)local_26 + 0x2e));
          }
          else if (((uint *)local_26)[3] != 0xffff) {
            uVar12 = ((uint *)local_26)[3];
            if (*(uint *)(PTR_DAT_10a8_0000_10a8_006a + uVar12 * 0x3c + 2) == ((uint *)local_26)[1])
            {
              plVar4 = (long *)(PTR_DAT_10a8_0000_10a8_006a + uVar12 * 0x3c + 0x32);
              *plVar4 = *plVar4 + *(long *)((uint *)local_26 + 0x2e);
            }
          }
        }
        else {
          iVar20 = FUN_1010_02b0(((uint *)local_26)[3],&local_aa);
          if ((iVar20 != 0) || ((local_68 & 0xf) != 3)) {
            if ((local_68 & 0xf) == 3) {
              if (local_aa._2_2_ == 0xffff) {
                if (*(long *)((uint *)local_26 + 0x2e) != 0) goto LAB_1050_2fd4;
                uVar12 = *(uint *)local_26;
                uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
                uVar27 = 0x5a;
              }
              else {
                uVar12 = *(uint *)local_26;
                uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
                uVar27 = 0x59;
              }
            }
            else {
LAB_1050_2fd4:
              puVar23 = &local_34;
              for (iVar20 = 3; iVar20 != 0; iVar20 = iVar20 + -1) {
                puVar7 = puVar23;
                puVar23 = puVar23 + 1;
                *puVar7 = 0;
              }
              local_28 = 0;
              iVar20 = ((uint *)local_26)[1] * 4;
              local_e._2_2_ = (byte *)(*(int *)(iVar20 + 0x72) + 0x7a);
              local_a = (long *)((ulong)local_a & 0xffff0000 | (ulong)*(uint *)(iVar20 + 0x74));
              local_26._0_2_ = (uint *)local_26 + 6;
              local_12._0_2_ = (uint *)local_26._2_2_;
              local_16 = 0x10;
              local_e = ZEXT24(local_e._2_2_) << 0x10;
              local_14 = (uint *)local_26;
              do {
                uVar12 = *(uint *)local_26;
                if (0 < (int)uVar12) {
                  local_28 = local_28 + uVar12;
                  local_12._2_2_ = (uint *)0x0;
                  if (*local_e._2_2_ != 0) {
                    piVar13 = (int *)(local_e._2_2_ + -0x40);
                    local_6 = (int *)CONCAT22((uint)local_a,piVar13);
                    uVar12 = (uint)*local_e._2_2_;
                    local_a = (long *)((ulong)local_a & 0xffff | (ulong)uVar12 << 0x10);
                    local_e = local_e & 0xffff | ZEXT24(local_e._2_2_) << 0x10;
                    do {
                      if ((*piVar13 == 0x1000) && (*(byte *)(piVar13 + 1) == 0)) {
                        local_e = CONCAT22(local_e._2_2_,1);
                      }
                      piVar13 = piVar13 + 2;
                      uVar12 = uVar12 - 1;
                    } while (uVar12 != 0);
                    local_14 = (uint *)local_26;
                  }
                }
                local_12 = CONCAT22(local_12._2_2_,local_26._2_2_);
                local_e._2_2_ = local_e._2_2_ + 0x87;
                local_26._0_2_ = (uint *)local_26 + 1;
                local_16 = local_16 - 1;
              } while (local_16 != 0);
              if (((local_68 & 0xf) != 3) || ((uint)local_e != 0)) {
                local_16 = 0;
                local_14 = (uint *)0x0;
                uStack_1c._2_2_ = 0;
                uStack_18 = 0;
                local_22 = (uint *)local_26 + 0x26;
                local_20 = local_26._2_2_;
                local_1e = (uint *)0x0;
                uStack_1c._0_2_ = 0;
                do {
                  local_a = (long *)0x0;
                  if (0 < (int)uStack_1c) {
                    uVar17 = *(ulong *)(((uint *)local_26)[1] * 4 + 0x72);
                    uVar16 = uVar17 & 0xffff0000;
                    piVar13 = (int *)((int)uVar17 + (int)uStack_1c + 0x2a);
                    local_e = uVar16 | ZEXT24(piVar13);
                    puVar21 = (uint *)local_26 + 6;
                    local_6 = (int *)((ulong)local_26 & 0xffff0000 | ZEXT24(puVar21));
                    local_12._0_2_ = (uint *)&PTR_DAT_10a8_0000_10a8_0010;
                    do {
                      local_6._2_2_ = (int)(((ulong)local_26 & 0xffff0000) >> 0x10);
                      uVar12 = *puVar21;
                      if (0 < (int)uVar12) {
                        local_e._2_2_ = (byte *)(uVar16 >> 0x10);
                        uVar12 = *piVar13 * uVar12;
                        local_a = (long *)CONCAT22((int)((ulong)local_a >> 0x10) +
                                                   (uint)CARRY2((uint)local_a,uVar12),
                                                   (uint)local_a + uVar12);
                      }
                      piVar13 = (int *)((int)piVar13 + 0x87);
                      puVar21 = puVar21 + 1;
                      local_12._0_2_ = (uint *)((int)(uint *)local_12 + -1);
                    } while ((uint *)local_12 != (uint *)0x0);
                    if ((local_68 & 0xf) == 3) {
                      local_a = (long *)(CONCAT22(local_a._2_2_ * 3 +
                                                  (uint)CARRY2((uint)local_a,(uint)local_a) +
                                                  (uint)CARRY2((uint)local_a * 2,(uint)local_a),
                                                  (uint)local_a * 3) / 4);
                      if ((long)local_a < (long)(int)(local_28 * 10)) {
                        local_a = (long *)(long)(int)(local_28 * 10);
                      }
                    }
                    else {
                      if ((local_a5 & 2) == 0) {
                        uVar12 = 3;
                      }
                      else {
                        uVar12 = 5;
                        local_a._0_2_ = (uint)((long)local_a << 2);
                        local_a._2_2_ = (int)((ulong)((long)local_a << 2) >> 0x10);
                      }
                      local_a = (long *)(CONCAT22(local_a._2_2_,(uint)local_a) / (long)(ulong)uVar12
                                        );
                    }
                  }
                  local_a = (long *)((long)local_a +
                                    *(long *)((ulong)local_26 & 0xffff0000 | ZEXT24(local_22)));
                  local_a._2_2_ = (int)((ulong)local_a >> 0x10);
                  uVar12 = (uint)local_a;
                  if ((int)uStack_1c == 0) {
                    bVar28 = CARRY2(local_16,uVar12);
                    local_16 = local_16 + uVar12;
                    local_14 = (uint *)((int)local_14 + (uint)bVar28 + local_a._2_2_);
                  }
                  else {
                    bVar28 = CARRY2(uStack_1c._2_2_,uVar12);
                    uStack_1c._2_2_ = uStack_1c._2_2_ + uVar12;
                    uStack_18 = uStack_18 + local_a._2_2_ + (uint)bVar28;
                  }
                  iVar25 = ((uint)local_aa * 0xf + (int)local_1e) * 4;
                  uVar27 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006a >> 0x10);
                  iVar20 = (int)_PTR_DAT_10a8_0000_10a8_006a;
                  puVar2 = (uint *)(iVar20 + iVar25 + 0x22);
                  uVar18 = *puVar2;
                  *puVar2 = *puVar2 + uVar12;
                  piVar5 = (int *)(iVar20 + iVar25 + 0x24);
                  *piVar5 = *piVar5 + local_a._2_2_ + (uint)CARRY2(uVar18,uVar12);
                  local_22 = local_22 + 2;
                  local_1e = (uint *)((int)local_1e + 1);
                  uStack_1c._0_2_ = (int)uStack_1c + 2;
                } while ((int)uStack_1c < 8);
                iVar20 = (((local_a5 & 2) << 8) >> 9) + 0x5d;
                uVar12 = (uint)local_aa;
                goto LAB_1050_3249;
              }
              uVar12 = *local_26 & 0xff | (uint)(byte)((ulong)*local_26 >> 8) << 8 | 0x8000;
              uVar27 = 0x5b;
            }
LAB_1050_2cea:
            FUN_1010_6b58(CONCAT22(uVar27,((uint *)local_26)[1]),uVar12);
          }
        }
LAB_1050_32d2:
        uVar8 = *(undefined4 *)((uint *)local_26 + 0x32);
        pbVar6 = (byte *)((int)uVar8 + 10);
        *pbVar6 = *pbVar6 & 0xf0;
      }
      else if (((bVar10 == 4) && (param_1 == 3)) &&
              ((*(byte *)((int)(uint *)local_26 + 5) & 0x20) != 0)) {
        if (((uint *)local_26)[3] == 0xffff) {
          uVar12 = *local_26 & 0xff | (uint)(byte)((ulong)*local_26 >> 8) << 8 | 0x8000;
          uVar27 = 0x79;
        }
        else {
          piVar13 = FUN_1010_018e(((uint *)local_26)[3]);
          uVar12 = (uint)puVar21 | (uint)piVar13;
          local_1e = puVar21;
          if (uVar12 == 0) goto LAB_1050_32d2;
          uVar18 = FUN_1028_1f8c((int)(uint *)local_26,local_26._2_2_);
          local_a = (long *)((ulong)local_a & 0xffff0000 | (ulong)uVar18);
          if (uVar18 == 0) {
            uVar12 = *(uint *)local_26;
            uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
            uVar27 = 0x77;
          }
          else {
            if (piVar13[1] == -1) {
              FUN_1008_9d54(CONCAT22(local_1e,piVar13),local_4c,uVar18);
              uStack_18 = FUN_1028_2f10((int)(uint *)local_26,local_26._2_2_);
              uVar27 = 3;
              uVar11 = 0;
              local_16 = uVar12;
              iVar20 = FUN_1028_2eca((int)(uint *)local_26,local_26._2_2_);
              local_e = CONCAT22(uVar12,iVar20);
              uStack_1c = CONCAT22(uVar12,iVar20) / CONCAT22(uVar11,uVar27);
              uStack_1c._2_2_ = (uint)(uStack_1c >> 0x10);
              local_12._2_2_ = (uint *)0x0;
              local_14 = (uint *)(piVar13 + 3);
              local_12._0_2_ = local_1e;
              puVar24 = (ulong *)(piVar13 + 0x11);
              local_a = (long *)((ulong)local_a & 0xffff | ZEXT24(puVar24) << 0x10);
              local_6._2_2_ = 0;
              local_6 = (int *)ZEXT24(local_1e);
              local_20 = piVar13;
              do {
                uStack_1c._2_2_ = (uint)(uStack_1c >> 0x10);
                puVar3 = puVar24;
                *puVar3 = *puVar3 + *(long *)((int)local_4c + local_6._2_2_);
                *(int *)CONCAT22((uint *)local_12,local_14) =
                     *(int *)CONCAT22((uint *)local_12,local_14) -
                     *(int *)((int)local_4c + local_6._2_2_);
                if (local_6._2_2_ == 0) {
                  uVar17 = *puVar24;
                  local_5a[0] = *(uint *)((int)puVar24 + 2);
                  if (CONCAT22(local_16,uStack_18) < (long)uVar17) {
                    uVar17 = (ulong)uStack_18;
                    local_5a[0] = local_16;
                  }
                  local_5e._2_2_ = (int)uVar17;
                }
                else {
                  uVar17 = *puVar24;
                  iVar20 = *(int *)((int)puVar24 + 2);
                  if ((long)uStack_1c < (long)uVar17) {
                    uVar17 = uStack_1c & 0xffff;
                    iVar20 = uStack_1c._2_2_;
                  }
                  uVar12 = (uint)uVar17;
                  *(uint *)((int)&local_5e + local_6._2_2_ + 2) = uVar12;
                  *(int *)((int)local_5a + local_6._2_2_) = iVar20;
                  local_e = CONCAT22(((int)(local_e >> 0x10) - iVar20) -
                                     (uint)((uint)local_e < uVar12),(uint)local_e - uVar12);
                }
                if ((*(int *)CONCAT22((uint *)local_12,local_14) == 0) &&
                   (0 < *(long *)((int)local_4c + local_6._2_2_))) {
                  FUN_1010_6b58(CONCAT22(0x7a,*(undefined2 *)((int)local_26 + 2)),
                                *local_26 & 0xff | (uint)(byte)((ulong)*local_26 >> 8) << 8 | 0x8000
                               );
                }
                local_14 = local_14 + 1;
                puVar24 = puVar24 + 1;
                local_12._2_2_ = (uint *)((int)local_12._2_2_ + 1);
                local_6._2_2_ = local_6._2_2_ + 4;
              } while (local_6._2_2_ < 0x10);
              local_12._0_2_ = (uint *)(int)((ulong)local_26 >> 0x10);
              local_14 = (uint *)((int)local_26 + 0x4c);
              plVar26 = (long *)((int)&local_5e + 2);
              local_a = (long *)CONCAT22(local_1e,local_20 + 0x11);
              do {
                if ((long *)((int)&local_5e + 2U) < plVar26) {
                  uVar17 = *local_a - *plVar26;
                  uVar12 = (uint)(uVar17 >> 0x10);
                  if ((long)local_e < (long)uVar17) {
                    uVar17 = local_e & 0xffff;
                    uVar12 = (uint)local_e._2_2_;
                  }
                  uVar14 = (uint)uVar17;
                  local_6 = (int *)(uVar17 & 0xffff | (ulong)uVar12 << 0x10);
                  local_e = CONCAT22(((int)local_e._2_2_ - uVar12) - (uint)((uint)local_e < uVar14),
                                     (uint)local_e - uVar14);
                  plVar4 = plVar26;
                  uVar18 = *(uint *)plVar4;
                  *(uint *)plVar4 = *(uint *)plVar4 + uVar14;
                  puVar2 = (uint *)((int)plVar26 + 2);
                  *puVar2 = *puVar2 + uVar12 + (uint)CARRY2(uVar18,uVar14);
                }
                if (0 < *plVar26) {
                  lVar15 = *plVar26;
                  *local_a = *local_a - lVar15;
                  *(long *)CONCAT22((uint *)local_12,local_14) =
                       *(long *)CONCAT22((uint *)local_12,local_14) + lVar15;
                  FUN_1010_6b58(CONCAT22(0x7b,*(undefined2 *)((int)local_26 + 2)),
                                *local_26 & 0xff | (uint)(byte)((ulong)*local_26 >> 8) << 8 | 0x8000
                               );
                }
                local_14 = local_14 + 2;
                local_a = (long *)((ulong)local_a & 0xffff0000 | (ulong)((uint)local_a + 4));
                plVar26 = plVar26 + 1;
              } while (plVar26 < local_4c);
              goto LAB_1050_32de;
            }
            uVar12 = *(uint *)local_26;
            uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
            uVar27 = 0x78;
          }
        }
        goto LAB_1050_2cea;
      }
      goto LAB_1050_32de;
    }
    local_34 = 0x10001;
    local_2a = 0;
    if (((uint *)local_26)[3] == 0xffff) {
LAB_1050_2274:
      local_2e = 0;
    }
    else {
      iVar20 = FUN_1010_02b0(((uint *)local_26)[3],&local_aa);
      if (iVar20 == 0) goto LAB_1050_2274;
      local_2e = 1;
    }
    local_2c = (byte)((char)param_1 + 1) & 1;
    local_30 = 0;
    uStack_1c._2_2_ = 0;
    uStack_18 = 0;
    uVar17 = (ulong)local_26 >> 0x10;
    uStack_1c._0_2_ = (int)((ulong)local_26 >> 0x10);
    local_1e = (uint *)local_26 + 0x26;
    puVar21 = local_66;
LAB_1050_22a2:
    puVar19 = (uint *)uVar17;
    local_28 = *puVar21 >> 0xc;
    if ((local_2e == 0) && (local_28 != 10)) {
      local_28 = 0;
    }
    if (10 < local_28 - 1) goto LAB_1050_29d4;
    switch(local_28) {
    case 1:
      goto switchD_1050_22c8_caseD_1;
    case 2:
      lVar15 = *(long *)((int)&local_88 + uStack_1c._2_2_);
      uVar12 = *(uint *)((int)&local_88 + uStack_1c._2_2_ + 2);
      if (2000000 < lVar15) {
        uVar12 = 0x1e;
        lVar15 = 0x8480;
      }
      uVar17 = (ulong)(uint)((int)uVar12 >> 1);
      uVar16 = (ulong)((uint)lVar15 >> 1 | (uint)((uVar12 & 1) != 0) << 0xf);
      break;
    default:
      uVar16 = *(ulong *)((int)&local_88 + uStack_1c._2_2_);
      uVar17 = (ulong)*(uint *)((int)&local_88 + uStack_1c._2_2_ + 2);
      if (2000000 < (long)uVar16) {
        uVar17 = 0x1e;
        uVar16 = 0x8480;
      }
      uVar12 = *puVar21;
      uVar12 = uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8;
      if (((int)uVar17 != 0) || (uVar12 < (uint)uVar16)) {
        uVar17 = 0;
        uVar16 = (ulong)uVar12;
      }
      break;
    case 5:
      local_16 = *(uint *)CONCAT22((int)uStack_1c,local_1e);
      uVar17 = (ulong)local_1e[1];
      goto LAB_1050_2348;
    case 6:
      uVar12 = local_1e[1];
      uVar17 = (ulong)(uint)((int)uVar12 >> 1);
      local_16 = *(uint *)CONCAT22((int)uStack_1c,local_1e) >> 1 | (uint)((uVar12 & 1) != 0) << 0xf;
      goto LAB_1050_2348;
    case 7:
      uVar12 = *puVar21;
      local_16 = uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8;
      uVar17 = 0;
      puVar2 = (uint *)CONCAT22((int)uStack_1c,local_1e);
      if ((local_1e[1] == 0) && (*puVar2 <= local_16 && local_16 != *puVar2)) {
        local_16 = *puVar2;
        uVar17 = (ulong)local_1e[1];
      }
LAB_1050_2348:
      local_14 = (uint *)uVar17;
LAB_1050_2472:
      if (local_2c == 0) {
        if (((undefined4 *)puVar21 != &local_5e) || (((uint *)local_26)[1] == local_aa._2_2_)) {
          if (CONCAT22(local_14,local_16) != 0) {
            uVar27 = FUN_1028_2f36(1,(uint)local_aa,uStack_18,CONCAT22(local_14,local_16),
                                   (undefined4 *)0x0);
            local_12._2_2_ = (uint *)uVar17;
            uVar12 = *(uint *)local_26;
            if (uStack_18 == 4) {
              uVar11 = 0x2f;
            }
            else {
              uVar11 = 0x2e;
            }
            local_12._0_2_ = (uint *)uVar27;
            FUN_1010_6b58(CONCAT22(uVar11,((uint *)local_26)[1]),
                          uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000);
          }
LAB_1050_252e:
          if (CONCAT22(local_14,local_16) != 0) {
            uVar12 = -((int)local_14 + (uint)(local_16 != 0));
            uVar17 = (ulong)uVar12;
            FUN_1028_2f36(2,*(uint *)local_26,uStack_18,CONCAT22(uVar12,-local_16),(undefined4 *)0x0
                         );
          }
          pbVar6 = (byte *)((int)puVar21 + 1);
          *pbVar6 = *pbVar6 & 0xf;
          goto LAB_1050_29d4;
        }
        if ((local_aa._2_2_ != 0xffff) || ((local_a5 & 0x20) != 0)) {
          FUN_1050_3424((int *)(uint *)local_26,local_26._2_2_,(int *)CONCAT22(unaff_SS,&local_aa),
                        CONCAT22(local_14,local_16));
          goto LAB_1050_252e;
        }
        uVar12 = *(uint *)local_26;
        uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
        uVar27 = 0x5c;
        goto LAB_1050_24b0;
      }
      goto LAB_1050_29d4;
    case 8:
      if (puVar21 == local_66) {
        local_38 = 0;
        local_30 = 1;
      }
      goto switchD_1050_22c8_caseD_1;
    case 9:
      uVar12 = *puVar21;
      uVar12 = uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8;
      uVar18 = uVar12 - *(uint *)CONCAT22((int)uStack_1c,local_1e);
      local_14 = (uint *)(-(uint)(uVar12 < *(uint *)CONCAT22((int)uStack_1c,local_1e)) - local_1e[1]
                         );
      local_16 = uVar18;
      uVar17 = ZEXT24(local_14);
      if ((int)local_14 < 0) {
        local_16 = -uVar18;
        local_14 = (uint *)-((int)local_14 + (uint)(uVar18 != 0));
        goto LAB_1050_2472;
      }
      lVar15 = *(long *)((int)&local_88 + uStack_1c._2_2_);
      puStack_ae = (uint *)((ulong)lVar15 >> 0x10);
      uVar17 = ZEXT24(puStack_ae);
      if (lVar15 < CONCAT22(local_14,uVar18)) {
        local_34 = local_34 & 0xffff0000;
        local_16 = (uint)lVar15;
        local_14 = puStack_ae;
        if (param_1 == 4) {
          uVar12 = *(uint *)local_26;
          if (uStack_18 == 4) {
            uVar27 = 0x28;
          }
          else {
            uVar27 = 0x27;
          }
          FUN_1010_6b58(CONCAT22(uVar27,((uint *)local_26)[1]),
                        uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000);
        }
      }
      goto LAB_1050_23b9;
    case 10:
    case 0xb:
      if (local_2c == 0) goto LAB_1050_29d4;
      local_20 = (int *)0x0;
      if (puVar21 == local_66) {
        uVar12 = FUN_1028_2f10((int)(uint *)local_26,local_26._2_2_);
      }
      else {
        uVar12 = FUN_1028_2eca((int)(uint *)local_26,local_26._2_2_);
      }
      uVar18 = uStack_18;
      local_12._0_2_ = (uint *)uVar12;
      local_12._2_2_ = puVar19;
      if (local_28 == 0xb) {
        uVar14 = *puVar21;
        uVar14 = uVar14 & 0xff | ((byte)((ulong)uVar14 >> 8) & 0xf) << 8;
        puVar9 = (uint *)0x0;
        if ((puVar19 == (uint *)0x0) && (uVar12 < uVar14)) {
          uVar14 = uVar12;
          puVar9 = puVar19;
        }
        puVar19 = puVar9;
        uVar12 = uVar14;
        local_12._0_2_ = (uint *)uVar12;
        local_12._2_2_ = puVar19;
      }
      uVar17 = ZEXT24(puVar19);
      local_12._0_2_ = (uint *)uVar12;
      local_12._2_2_ = puVar19;
      if ((0 < (int)puVar19) || ((-1 < (int)puVar19 && (uVar12 != 0)))) {
        local_22 = puVar21;
        local_16 = uVar12;
        local_14 = puVar19;
        local_e = local_e & 0xffff0000;
        if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
          local_e = 0;
          do {
            local_6 = *(int **)((int)_PTR_DAT_10a8_0000_10a8_006e + (int)local_e._2_2_);
            if (local_6 == (int *)0x0) break;
            iVar20 = (int)((ulong)local_6 >> 0x10);
            puVar21 = (uint *)local_6;
            if ((((((*(byte *)((int)puVar21 + 5) & 4) == 0) && (((uint *)local_26)[1] == puVar21[1])
                  ) && (uVar17 = (ulong)puVar21[5],
                       *(long *)((uint *)local_26 + 4) == *(long *)(puVar21 + 4))) &&
                (((uint *)local_26 != puVar21 || (local_26._2_2_ != (int *)iVar20)))) &&
               ((uVar8 = *(undefined4 *)((uint *)local_26 + 0x32),
                (*(byte *)((int)uVar8 + 0xb) & 3) != 2 ||
                (uVar8 = *(undefined4 *)((uint *)local_26 + 0x32),
                *(int *)((int)uVar8 + 8) == *local_6)))) {
              local_20 = (int *)&DAT_10a8_0001;
              uVar17 = *(ulong *)((int)puVar21 + uStack_1c._2_2_ + 0x4c);
              puVar19 = *(uint **)((int)puVar21 + uStack_1c._2_2_ + 0x4e);
              if (CONCAT22(local_12._2_2_,(uint *)local_12) < (long)uVar17) {
                uVar17 = ZEXT24((uint *)local_12);
                puVar19 = local_12._2_2_;
              }
              uVar12 = (uint)uVar17;
              local_a = (long *)(uVar17 & 0xffff | ZEXT24(puVar19) << 0x10);
              uVar17 = ZEXT24(puVar19);
              if ((-1 < (int)puVar19) && ((0 < (int)puVar19 || (uVar12 != 0)))) {
                bVar28 = (uint *)local_12 < uVar12;
                local_12._0_2_ = (uint *)((int)(uint *)local_12 - uVar12);
                local_12._2_2_ = (uint *)((int)local_12._2_2_ + (-(uint)bVar28 - (int)puVar19));
                puVar2 = (uint *)CONCAT22((int)uStack_1c,local_1e);
                uVar14 = *puVar2;
                *puVar2 = *puVar2 + uVar12;
                puVar2 = local_1e + 1;
                *puVar2 = (int)puVar19 + (uint)CARRY2(uVar14,uVar12) + *puVar2;
                *(long *)((int)puVar21 + uStack_1c._2_2_ + 0x4c) =
                     *(long *)((int)puVar21 + uStack_1c._2_2_ + 0x4c) - (long)local_a;
                uVar12 = *(uint *)local_26;
                if (uVar18 == 4) {
                  uVar27 = 0x7e;
                }
                else {
                  uVar27 = 0x7d;
                }
                FUN_1010_6b58(CONCAT22(uVar27,((uint *)local_26)[1]),
                              uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000);
              }
              if (CONCAT22(local_12._2_2_,(uint *)local_12) < 1) break;
              if (((uint *)local_26)[3] != 0xffff) {
                uVar27 = (undefined2)((ulong)local_6 >> 0x10);
                if ((*(byte *)((int)local_6 + 5) & 0x20) != 0) {
                  if ((*(int *)(PTR_DAT_10a8_0000_10a8_006a + ((uint *)local_26)[3] * 0x3c + 2) ==
                       -1) && (iVar20 = FUN_1028_1f8c((int)local_6,uVar27), 0 < iVar20)) {
                    iVar20 = ((uint *)local_26)[3] * 0xf + uVar18;
                    uVar17 = *(ulong *)(PTR_DAT_10a8_0000_10a8_006a + iVar20 * 4 + 0x22);
                    puVar21 = *(uint **)(PTR_DAT_10a8_0000_10a8_006a + iVar20 * 4 + 0x24);
                    if (CONCAT22(local_12._2_2_,(uint *)local_12) < (long)uVar17) {
                      uVar17 = ZEXT24((uint *)local_12);
                      puVar21 = local_12._2_2_;
                    }
                    uVar12 = (uint)uVar17;
                    local_a = (long *)(uVar17 & 0xffff | ZEXT24(puVar21) << 0x10);
                    uVar17 = ZEXT24(puVar21);
                    if ((-1 < (int)puVar21) && ((0 < (int)puVar21 || (uVar12 != 0)))) {
                      bVar28 = (uint *)local_12 < uVar12;
                      local_12._0_2_ = (uint *)((int)(uint *)local_12 - uVar12);
                      local_12._2_2_ =
                           (uint *)((int)local_12._2_2_ + (-(uint)bVar28 - (int)puVar21));
                      puVar2 = (uint *)CONCAT22((int)uStack_1c,local_1e);
                      uVar14 = *puVar2;
                      *puVar2 = *puVar2 + uVar12;
                      puVar2 = local_1e + 1;
                      *puVar2 = (int)puVar21 + (uint)CARRY2(uVar14,uVar12) + *puVar2;
                      iVar20 = ((uint *)local_26)[3] * 0xf + uVar18;
                      puVar2 = (uint *)(PTR_DAT_10a8_0000_10a8_006a + iVar20 * 4 + 0x22);
                      uVar14 = *puVar2;
                      *puVar2 = *puVar2 - uVar12;
                      piVar5 = (int *)(PTR_DAT_10a8_0000_10a8_006a + iVar20 * 4 + 0x24);
                      *piVar5 = (*piVar5 - (int)puVar21) - (uint)(uVar14 < uVar12);
                      uVar12 = *(uint *)local_26;
                      FUN_1010_6b58(CONCAT22(0x82,((uint *)local_26)[1]),
                                    uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000);
                    }
                  }
                }
              }
            }
            iVar20 = (int)local_e + 1;
            local_e = CONCAT22((int)local_e._2_2_ + 4,iVar20);
          } while (iVar20 < (int)PTR_DAT_10a8_0000_10a8_83c6);
        }
        if (local_28 == 0xb) {
          uVar12 = ((int)(uint *)local_12 - local_16) + *local_22 ^ *local_22;
          puVar2 = local_22;
          *puVar2 = *puVar2 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8);
          if ((*local_22 & 0xfff) == 0) {
            uVar12 = *local_22;
            *local_22 = uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8;
          }
          else {
            local_34 = local_34 & 0xffff;
          }
        }
        puVar21 = local_22;
        local_12 = CONCAT22(local_12._2_2_,(uint *)local_12);
        if ((local_20 != (int *)0x0) ||
           (local_12 = CONCAT22(local_12._2_2_,(uint *)local_12), local_2a != 0))
        goto LAB_1050_29d4;
        local_2a = 1;
        uVar12 = *(uint *)local_26;
        uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
        uVar27 = 0x7f;
        goto LAB_1050_24b0;
      }
      if ((*puVar21 & 0xfff) == 0) {
        uVar12 = *puVar21;
        *puVar21 = uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8;
      }
      local_12 = CONCAT22(local_12._2_2_,(uint *)local_12);
      if ((puVar21 != local_66) &&
         (local_12 = CONCAT22(local_12._2_2_,(uint *)local_12), local_28 == 0xb)) {
        iVar20 = FUN_1028_2eca((int)(uint *)local_26,local_26._2_2_);
        uVar17 = ZEXT24(puVar19);
        if ((0 < (int)puVar19) || ((-1 < (int)puVar19 && (iVar20 != 0)))) goto LAB_1050_29d4;
        local_34 = CONCAT22(1,(int)local_34);
        goto LAB_1050_2c53;
      }
      goto LAB_1050_29d4;
    }
    goto LAB_1050_23b3;
  }
  goto LAB_1050_32de;
switchD_1050_22c8_caseD_1:
  uVar16 = *(ulong *)((int)&local_88 + uStack_1c._2_2_);
  uVar17 = (ulong)*(uint *)((int)&local_88 + uStack_1c._2_2_ + 2);
  if (2000000 < (long)uVar16) {
    uVar17 = 0x1e;
    uVar16 = 0x8480;
  }
LAB_1050_23b3:
  local_16 = (uint)uVar16;
  local_14 = (uint *)uVar17;
LAB_1050_23b9:
  uVar12 = (uint)uVar17;
  if (local_2c != 0) {
    if (((uint *)local_26)[1] == local_aa._2_2_) {
      if (CONCAT22(local_14,local_16) == 0) {
        uVar17 = (ulong)local_28;
        if (local_28 == 4) {
          if (puVar21 == local_66) {
            local_34 = local_34 & 0xffff0000;
          }
          else {
            local_34 = local_34 & 0xffff;
          }
        }
      }
      else {
        uVar18 = FUN_1028_2f36(2,*(uint *)local_26,uStack_18,CONCAT22(local_14,local_16),
                               (undefined4 *)0x0);
        local_12._0_2_ = (uint *)uVar18;
        local_12._2_2_ = (uint *)uVar12;
        if ((uVar12 | uVar18) != 0) {
          FUN_1028_2f36(1,(uint)local_aa,uStack_18,CONCAT22(-(uVar12 + (uVar18 != 0)),-uVar18),
                        (undefined4 *)0x0);
        }
        uVar17 = ZEXT24(local_14);
        if ((CONCAT22(local_12._2_2_,(uint *)local_12) == CONCAT22(local_14,local_16)) &&
           (local_28 == 4)) {
          uVar12 = *puVar21 - local_16 ^ *puVar21;
          puVar2 = puVar21;
          *puVar2 = *puVar2 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8);
          if ((*puVar21 & 0xfff) == 0) {
LAB_1050_295b:
            uVar12 = *puVar21;
            *puVar21 = uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8;
          }
          else if (puVar21 == local_66) {
            local_34 = local_34 & 0xffff0000;
          }
          else {
            local_34 = local_34 & 0xffff;
          }
        }
        else if ((local_28 == 3) &&
                (uVar12 = *puVar21 - local_16 ^ *puVar21, puVar2 = puVar21,
                *puVar2 = *puVar2 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 0xf) << 8),
                (*puVar21 & 0xfff) == 0)) goto LAB_1050_295b;
        if (local_12 != 0) {
          if ((local_28 == 8) && (puVar21 == local_66)) {
            uVar17 = ZEXT24(local_12._2_2_);
            local_38 = CONCAT22(local_12._2_2_,(uint *)local_12);
          }
          else {
            uVar12 = *(uint *)local_26;
            uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
            if (uStack_18 == 4) {
              uVar27 = 0x2d;
            }
            else {
              uVar27 = 0x2c;
            }
LAB_1050_24b0:
            FUN_1010_6b58(CONCAT22(uVar27,((uint *)local_26)[1]),uVar12);
          }
        }
      }
    }
    else if ((puVar21 != local_66) || (local_30 == 0)) {
      if (param_1 == 4) {
        uVar12 = *(uint *)local_26;
        FUN_1010_6b58(CONCAT22(0x26,((uint *)local_26)[1]),
                      uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000);
      }
      local_34 = local_34 & 0xffff0000;
    }
  }
LAB_1050_29d4:
  puVar2 = local_26;
  puVar19 = (uint *)uVar17;
  uStack_1c._2_2_ = uStack_1c._2_2_ + 4;
  local_1e = local_1e + 2;
  uStack_18 = uStack_18 + 1;
  puVar21 = puVar21 + 1;
  if ((uint *)((int)&local_5e + 2U) <= puVar21) goto code_r0x105029eb;
  goto LAB_1050_22a2;
code_r0x105029eb:
  if ((local_30 == 0) || (local_2c == 0)) goto LAB_1050_2c53;
  if ((int)((uint *)local_26)[0x31] < 2) {
    local_6 = *(int **)((uint *)local_26 + 0x26);
LAB_1050_2b7d:
    if (local_6 == (int *)0x0) {
      local_12._0_2_ = (uint *)0x0;
      local_12._2_2_ = (uint *)0x0;
    }
    else {
      uVar18 = -(local_6._2_2_ + (uint)((int)local_6 != 0));
      uVar12 = FUN_1028_2f36(2,*local_26,0,CONCAT22(uVar18,-(int)local_6),(undefined4 *)0x0);
      puVar19 = (uint *)(uVar18 | uVar12);
      local_12._0_2_ = (uint *)uVar12;
      local_12._2_2_ = (uint *)uVar18;
      if (puVar19 != (uint *)0x0) {
        puVar19 = (uint *)-(uVar18 + (uVar12 != 0));
        FUN_1028_2f36(1,(uint)local_aa,0,CONCAT22(puVar19,-uVar12),(undefined4 *)0x0);
      }
    }
    local_12 = CONCAT22(local_12._2_2_,(uint *)local_12) + local_38;
    local_12._2_2_ = (uint *)((ulong)local_12 >> 0x10);
    if (local_12 < 1) {
      if (-1 < local_12) goto LAB_1050_2c42;
      puVar19 = (uint *)-((int)local_12._2_2_ + (uint)((uint *)local_12 != (uint *)0x0));
      uVar12 = *local_26 & 0xff | (uint)(byte)((ulong)*local_26 >> 8) << 8;
      uVar27 = 0x2e;
    }
    else {
      uVar12 = *local_26 & 0xff | (uint)(byte)((ulong)*local_26 >> 8) << 8;
      uVar27 = 0x2c;
    }
    FUN_1010_6b58(CONCAT22(uVar27,*(undefined2 *)((int)local_26 + 2)),uVar12 | 0x8000);
  }
  else {
    local_16 = FUN_1028_4f92((ulong)local_26,0,0xffff,-1,0);
    local_14 = puVar19;
    ppuVar1 = (uint **)((uint *)local_26 + 0x27);
    puVar21 = *ppuVar1;
    if ((*ppuVar1 == puVar19 || (int)puVar21 < (int)puVar19) &&
       (((int)puVar21 < (int)puVar19 || (((uint *)local_26)[0x26] < local_16)))) {
      local_34 = local_34 & 0xffff0000;
      if (local_38 != 0) {
        uVar12 = *(uint *)local_26;
        FUN_1010_6b58(CONCAT22(0x2c,((uint *)local_26)[1]),
                      uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000);
      }
      if ((param_1 == 4) && (((uint *)local_26)[1] != local_aa._2_2_)) {
        uVar12 = *(uint *)local_26;
        uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
        uVar27 = 0x26;
      }
      else {
        if (param_1 != 2) goto LAB_1050_2c53;
        uVar12 = FUN_1028_1e5c((ulong)local_26 & 0xffff0000 | (ulong)puVar2 & 0xffff,1);
        local_6 = (int *)CONCAT22(puVar19,uVar12);
        if (((int)local_14 < (int)puVar19) ||
           (((int)local_14 <= (int)puVar19 && (local_16 <= uVar12)))) {
          uVar12 = *(uint *)local_26;
          uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
          uVar27 = 0x43;
        }
        else {
          uVar12 = *(uint *)local_26;
          uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000;
          uVar27 = 0x44;
        }
      }
      FUN_1010_6b58(CONCAT22(uVar27,((uint *)local_26)[1]),uVar12);
      goto LAB_1050_2c53;
    }
    ppuVar1 = (uint **)((uint *)local_26 + 0x27);
    puVar21 = *ppuVar1;
    if (((int)puVar19 <= (int)puVar21) &&
       ((*ppuVar1 != puVar19 && (int)puVar19 <= (int)puVar21 ||
        (puVar2 = (uint *)local_26 + 0x26, local_16 <= *puVar2 && *puVar2 != local_16)))) {
      local_a = *(long **)((uint *)local_26 + 0x26);
      do {
        do {
          *(uint *)((int)(uint *)local_26 + 0x4c) = local_16;
          *(uint **)((int)(uint *)local_26 + 0x4e) = local_14;
          puVar19 = local_14;
          local_16 = FUN_1028_4f92((ulong)local_26 & 0xffff | ZEXT24(local_26._2_2_) << 0x10,0,
                                   0xffff,-1,0);
          local_14 = puVar19;
          local_26._2_2_ = (int *)((ulong)local_26 >> 0x10);
          iVar20 = (int)local_26;
          ppuVar1 = (uint **)(iVar20 + 0x4e);
          puVar21 = *ppuVar1;
        } while (*ppuVar1 != puVar19 && (int)puVar19 <= (int)puVar21);
      } while (((int)puVar19 <= (int)puVar21) &&
              (puVar2 = (uint *)(iVar20 + 0x4c), local_16 <= *puVar2 && *puVar2 != local_16));
      local_6 = (int *)((long)local_a - CONCAT22(puVar19,local_16));
      *(long **)(iVar20 + 0x4c) = local_a;
      goto LAB_1050_2b7d;
    }
  }
LAB_1050_2c42:
  if (((int)local_34 != 0) && (local_34._2_2_ != 0)) {
    local_66[0] = 0;
  }
LAB_1050_2c53:
  if (local_34._2_2_ == 0) {
    iVar20 = FUN_1028_2eca((int)local_26,(int)((ulong)local_26 >> 0x10));
    if ((-1 < (int)puVar19) && ((0 < (int)puVar19 || (iVar20 != 0)))) {
      local_34 = local_34 & 0xffff0000;
    }
  }
  if (((int)local_34 != 0) && (local_2c != 0)) {
    local_68 = local_68 & 0xf0;
  }
  uVar8 = *(undefined4 *)((int)local_26 + 100);
  uVar27 = (undefined2)((ulong)uVar8 >> 0x10);
  puVar22 = (undefined4 *)uVar8;
  puVar23 = &local_6e;
  for (iVar20 = 4; puVar22 = puVar22 + 1, iVar20 != 0; iVar20 = iVar20 + -1) {
    puVar7 = puVar23;
    puVar23 = puVar23 + 1;
    *puVar22 = *puVar7;
  }
  *(undefined2 *)puVar22 = *(undefined2 *)puVar23;
LAB_1050_32de:
  local_3a = local_3a + 4;
  local_3c = local_3c + 1;
  if ((int)PTR_DAT_10a8_0000_10a8_83c6 <= local_3c) {
    return;
  }
  goto LAB_1050_21ec;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1050_32f4(void)

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  undefined2 uVar11;
  int local_12;
  int local_10;

  local_12 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    local_10 = 0;
    do {
      uVar11 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
      uVar2 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + local_10);
      uVar3 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + local_10 + 2);
      uVar9 = uVar3 | uVar2;
      if (uVar9 == 0) {
        return;
      }
      if ((*(byte *)(uVar2 + 5) & 4) == 0) {
        if (*(int *)(uVar2 + 6) == -1) {
          iVar8 = 5;
        }
        else {
          piVar6 = FUN_1010_018e(*(int *)(uVar2 + 6));
          if (piVar6[1] == *(int *)(uVar2 + 2)) {
            iVar8 = (-(uint)((*(byte *)((int)piVar6 + 5) & 2) == 0) & 0xfff6) + 0x19;
          }
          else if ((piVar6[1] == -1) ||
                  (uVar5 = *(undefined4 *)(uVar2 + 100), (*(byte *)((int)uVar5 + 10) & 0xf) != 2)) {
            iVar8 = 10;
          }
          else {
            iVar8 = 0;
          }
        }
        piVar6 = (int *)(uVar2 + 0x2c);
        iVar10 = 0;
        do {
          iVar4 = *piVar6;
          if (iVar4 != 0) {
            uVar5 = *(undefined4 *)(*(int *)(uVar2 + 2) * 4 + 0x72);
            iVar7 = (int)(((long)*(int *)((int)uVar5 + iVar10 + 0x38) * (long)iVar8) / 100);
            if (iVar7 == 0) {
              iVar7 = 1;
            }
            if (iVar4 < iVar7) {
              *piVar6 = 0;
            }
            else {
              piVar1 = piVar6;
              *piVar1 = *piVar1 - iVar7;
            }
          }
          piVar6 = piVar6 + 1;
          iVar10 = iVar10 + 0x87;
        } while (iVar10 < 0x870);
      }
      local_10 = local_10 + 4;
      local_12 = local_12 + 1;
    } while (local_12 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  return;
}



undefined2 __cdecl16far FUN_1050_3424(int *param_1,undefined2 param_2,int *param_3,long param_4)

{
  int *piVar1;
  long *plVar2;
  undefined *puVar3;
  int iVar4;
  int *piVar5;
  int unaff_SS;
  int iVar6;

  puVar3 = PTR_DAT_10a8_0000_10a8_0fda;
  if (param_4 < 1) {
    return 1;
  }
  iVar4 = 0;
  piVar5 = (int *)PTR_DAT_10a8_0000_10a8_0fd8;
  iVar6 = (int)s_From___s_c_c_10a8_10a2 + 6;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_8854) {
    do {
      iVar6 = unaff_SS;
      if ((*param_1 == *piVar5) && (piVar5[2] == *param_3)) break;
      piVar5 = piVar5 + 6;
      iVar4 = iVar4 + 1;
      piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_8854;
    } while (*piVar1 != iVar4 && iVar4 <= *piVar1);
  }
  if (iVar4 == *(int *)&PTR_DAT_10a8_0000_10a8_8854) {
    if (999 < iVar4) {
      return 0;
    }
    *piVar5 = *param_1;
    piVar5[1] = param_1[1];
    piVar5[2] = *param_3;
    *(undefined4 *)(piVar5 + 4) = 0;
    piVar1 = piVar5 + 3;
    *(byte *)piVar1 = *(byte *)piVar1 | 1;
    piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_8854;
    *piVar1 = *piVar1 + 1;
  }
  plVar2 = (long *)(piVar5 + 4);
  *plVar2 = *plVar2 + param_4;
  return (int)param_4;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1050_34da(void)

{
  byte *pbVar1;
  int *piVar2;
  byte bVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  ulong uVar7;
  undefined4 uVar8;
  long *plVar9;
  int *piVar10;
  int iVar11;
  int iVar12;
  uint uVar13;
  uint uVar14;
  uint *puVar15;
  int iVar16;
  int iVar17;
  undefined2 uVar18;
  int local_14;
  undefined4 local_12;
  undefined2 *local_e;
  int local_8;
  int local_6;

  iVar12 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    iVar17 = 0;
    do {
      uVar18 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
      puVar15 = (uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar17);
      uVar4 = *puVar15;
      uVar5 = puVar15[1];
      uVar13 = uVar5 | uVar4;
      if (uVar13 == 0) {
        return;
      }
      if (0 < *(int *)(uVar4 + 0x62)) {
        uVar8 = *(undefined4 *)(uVar4 + 100);
        uVar18 = (undefined2)((ulong)uVar8 >> 0x10);
        iVar16 = (int)uVar8;
        if ((*(byte *)(iVar16 + 0xb) & 3) == 2) {
          if (*(int *)(uVar4 + 6) == -1) {
            pbVar1 = (byte *)(iVar16 + 0xb);
            *pbVar1 = *pbVar1 & 0xfc;
            uVar8 = *(undefined4 *)(uVar4 + 100);
            *(undefined2 *)((int)uVar8 + 8) = 0;
          }
          else {
            uVar14 = *(uint *)(iVar16 + 10);
            *(uint *)(iVar16 + 10) =
                 uVar14 & 0xff | (uint)((byte)((ulong)uVar14 >> 8) & 0xfd) << 8 | 0x100;
            uVar8 = *(undefined4 *)(uVar4 + 100);
            *(undefined2 *)((int)uVar8 + 8) = *(undefined2 *)(uVar4 + 6);
          }
        }
      }
      if (((*(byte *)(uVar4 + 5) & 4) == 0) && (1 < *(int *)(uVar4 + 0x62))) {
        uVar7 = *(ulong *)(uVar4 + 100);
        plVar9 = (long *)((int)uVar7 + 0x16);
        local_12 = (long *)(uVar7 & 0xffff0000);
        local_14 = 1;
        if (1 < *(int *)(uVar4 + 0x62)) {
          do {
            uVar14 = uVar13;
            if ((*(byte *)((int)plVar9 + 7) & 3) == 2) {
              piVar10 = FUN_1010_0c48(*(uint *)(plVar9 + 1));
              uVar14 = uVar13 | (uint)piVar10;
              if ((uVar14 == 0) || (*(long *)(piVar10 + 4) != *plVar9)) {
                local_e = (undefined2 *)0x0;
                bVar3 = *(byte *)((int)plVar9 + 5);
                local_8 = 0;
                local_6 = 0;
                if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
                  local_12 = (long *)((ulong)local_12 & 0xffff0000 | ZEXT24(plVar9));
                  iVar16 = 0;
                  do {
                    uVar18 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006e >> 0x10);
                    uVar13 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar16);
                    uVar6 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar16 + 2);
                    uVar14 = uVar6 | uVar13;
                    if (uVar14 == 0) break;
                    if ((*(long *)(uVar13 + 8) == *local_12) &&
                       ((*(byte *)(uVar13 + 1) & 0xfe) == (bVar3 & 0xfe))) {
                      local_8 = local_8 + 1;
                      iVar11 = FUN_1018_4a4a(local_8);
                      if (iVar11 == 0) {
                        local_e = (undefined2 *)CONCAT22(uVar6,uVar13);
                      }
                    }
                    iVar16 = iVar16 + 4;
                    local_6 = local_6 + 1;
                  } while (local_6 < (int)PTR_DAT_10a8_0000_10a8_83c6);
                }
                if (local_e != (undefined2 *)0x0) {
                  *(undefined2 *)(plVar9 + 1) = *local_e;
                  *plVar9 = *(long *)((int)local_e + 8);
                }
              }
            }
            plVar9 = (long *)((int)plVar9 + 0x12);
            local_14 = local_14 + 1;
            piVar2 = (int *)(uVar4 + 0x62);
            uVar13 = uVar14;
          } while (*piVar2 != local_14 && local_14 <= *piVar2);
        }
      }
      iVar17 = iVar17 + 4;
      iVar12 = iVar12 + 1;
    } while (iVar12 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1050_36b0(void)

{
  byte *pbVar1;
  uint *puVar2;
  long *plVar3;
  char cVar4;
  undefined4 uVar5;
  ulong uVar6;
  bool bVar7;
  uint uVar8;
  int iVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int *piVar13;
  int iVar14;
  double *pdVar15;
  int iVar16;
  long lVar17;
  undefined3 extraout_var;
  int iVar18;
  uint *puVar19;
  undefined2 uVar20;
  undefined2 uVar21;
  long local_3e [2];
  uint local_36;
  undefined4 local_30;
  undefined4 local_2c;
  int local_28;
  int local_26;
  int local_24;
  int local_22;
  int local_20;
  double local_1e;
  undefined4 local_16;
  undefined4 local_12;
  undefined4 local_e;
  ulong local_a;
  undefined4 local_6;

  local_26 = 0;
  if ((int)PTR_DAT_10a8_0000_10a8_83c6 < 1) {
    return;
  }
  do {
    local_28 = 1;
    local_24 = 0;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
      local_22 = 0;
      do {
        local_6 = *(ulong *)((int)_PTR_DAT_10a8_0000_10a8_006e + local_22);
        if (local_6 == 0) break;
        iVar9 = (int)local_6;
        uVar21 = (undefined2)(local_6 >> 0x10);
        if (local_26 == 0) {
          pbVar1 = (byte *)(iVar9 + 5);
          *pbVar1 = *pbVar1 | 0x20;
        }
        if (((*(byte *)(iVar9 + 5) & 4) == 0) &&
           ((local_26 < 1 || ((*(byte *)(iVar9 + 5) & 8) == 0)))) {
          pbVar1 = (byte *)(iVar9 + 5);
          *pbVar1 = *pbVar1 | 8;
          iVar18 = *(int *)(iVar9 + 100);
          uVar12 = *(uint *)(iVar9 + 0x66);
          uVar8 = iVar18 + 4;
          local_16 = (undefined4 *)((ulong)local_16 & 0xffff | (ulong)uVar12 << 0x10);
          if ((*(byte *)(iVar18 + 10) & 0xf) != 1) {
            if ((((*(byte *)(iVar18 + 10) & 0xf) == 2) && (*(int *)(iVar9 + 6) != -1)) &&
               (uVar5 = *(undefined4 *)(*(int *)(iVar9 + 2) * 4 + -0x77fc),
               (*(byte *)((int)uVar5 + *(int *)(iVar18 + 0xc) * 0x2e + 1) & 2) != 0)) {
              uVar20 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_006a >> 0x10);
              iVar16 = *(int *)((int)_PTR_DAT_10a8_0000_10a8_006a + *(int *)(iVar9 + 6) * 0x3c + 2);
              if (((iVar16 != -1) && (iVar16 != *(int *)(iVar9 + 2))) &&
                 ((iVar9 = FUN_1088_3810(local_6,*(int *)((int)_PTR_DAT_10a8_0000_10a8_006a +
                                                          *(int *)(iVar9 + 6) * 0x3c + 2)),
                  iVar9 != 0 &&
                  (iVar9 = FUN_1010_095c(local_6,&local_12,&local_e,(long *)&local_a), iVar9 != 0)))
                 ) goto LAB_1050_3d91;
            }
            uVar21 = (undefined2)(local_6 >> 0x10);
            if ((1 < *(int *)((int)local_6 + 0x62)) && ((*(byte *)(iVar18 + 0x1c) & 0xf0) != 0)) {
              local_2c = *(undefined4 *)((int)local_6 + 8);
              uVar10 = FUN_1028_4f92(local_6,0,0xffff,-1,1);
              local_e = CONCAT22(uVar12,uVar10);
              uVar11 = FUN_1028_4f92(local_6,0,0xffff,-1,0);
              local_a = CONCAT22(uVar12,uVar11);
              uVar21 = (undefined2)(local_6 >> 0x10);
              iVar9 = (int)local_6;
              puVar2 = (uint *)(iVar9 + 0x4e);
              uVar10 = *puVar2;
              if (((int)uVar10 < (int)uVar12) ||
                 ((*puVar2 == uVar12 || (int)uVar10 < (int)uVar12 &&
                  (*(uint *)(iVar9 + 0x4c) < uVar11)))) {
                local_20 = 0;
              }
              else {
                local_20 = 1;
              }
              if (local_20 != 0) {
                uVar12 = (uint)(*(byte *)(iVar18 + 0x1c) >> 4);
                uVar12 = uVar12 * uVar12;
                iVar16 = 0;
                if ((-1 < local_e) &&
                   ((0 < (int)local_e._2_2_ || (iVar16 = 0, uVar12 < (uint)local_e)))) {
                  iVar16 = local_e._2_2_;
                  uVar12 = (uint)local_e;
                }
                local_e = CONCAT22(iVar16,uVar12);
              }
              if (local_26 == 0) {
                local_30 = *(undefined4 *)(iVar18 + 0x16);
                uVar12 = *(uint *)(iVar18 + 0x1c);
                uVar10 = (uVar12 & 0xf0) >> 4;
                local_12 = (ulong)uVar10 * (ulong)uVar10;
                uVar21 = 0;
                local_16 = (undefined4 *)((ulong)local_16 & 0xffff0000 | (ulong)uVar8);
                if (((byte)((ulong)uVar12 >> 8) & 3) == 2) {
                  piVar13 = FUN_1010_0c48(*(uint *)(iVar18 + 0x1a));
                  uVar20 = (undefined2)(local_6 >> 0x10);
                  iVar9 = (int)local_6;
                  *(int **)(iVar9 + 0x68) = piVar13;
                  *(undefined2 *)(iVar9 + 0x6a) = uVar21;
                  local_16 = (undefined4 *)((ulong)local_16 & 0xffff0000 | (ulong)uVar8);
                  if (*(long *)(iVar9 + 0x68) != 0) {
                    pbVar1 = (byte *)(iVar9 + 5);
                    *pbVar1 = *pbVar1 & 0xf7;
                    *(undefined2 *)(iVar9 + 0x6c) = (uint)local_12;
                    local_28 = 0;
                    *(undefined2 *)(iVar9 + 0x6e) = 0;
                    *(undefined4 *)(iVar9 + 0x70) = 0;
                    goto LAB_1050_3d91;
                  }
                }
              }
              else {
                uVar6 = (ulong)local_16 & 0xffff0000;
                local_16 = (undefined4 *)(uVar6 | uVar8);
                uVar5 = *(undefined4 *)(iVar9 + 0x68);
                if ((*(byte *)((int)uVar5 + 5) & 8) == 0) {
                  iVar16 = *(int *)(iVar9 + 0x6c);
                  iVar14 = (iVar16 + *(int *)(iVar9 + 0x6e) + 4) / 5;
                  if (iVar16 < iVar14) {
                    iVar14 = iVar16;
                  }
                }
                else {
                  iVar14 = *(int *)(iVar9 + 0x6c);
                }
                local_12 = (long)iVar14;
                local_e = local_e - *(int *)(iVar9 + 0x6e);
                uVar5 = *(undefined4 *)(iVar9 + 0x68);
                local_30 = *(undefined4 *)((int)uVar5 + 8);
                *(undefined4 *)(iVar18 + 0x16) = local_30;
              }
              pdVar15 = (double *)
                        FUN_1010_186e((int)local_2c,(int)((ulong)local_2c >> 0x10),(int)local_30,
                                      (int)((ulong)local_30 >> 0x10));
              local_1e = *pdVar15;
              uVar12 = FUN_10a0_0c14();
              iVar9 = (int)uVar12 >> 0xf;
              if ((local_12._2_2_ <= iVar9) &&
                 ((local_12._2_2_ < iVar9 || ((uint)local_12 < uVar12)))) {
                iVar9 = local_12._2_2_;
                uVar12 = (uint)local_12;
              }
              local_12 = CONCAT22(iVar9,uVar12);
              iVar18 = (int)local_6;
              uVar21 = (undefined2)(local_6 >> 0x10);
              if ((iVar9 < (int)local_e._2_2_) ||
                 ((iVar9 <= (int)local_e._2_2_ && (uVar12 <= (uint)local_e)))) {
                if (0 < local_26) {
                  plVar3 = (long *)(iVar18 + 0x4c);
                  *plVar3 = *plVar3 + *(long *)(iVar18 + 0x70);
                  local_12 = local_12 + *(int *)(iVar18 + 0x6e);
                }
                uVar12 = FUN_1028_4f92(local_6,0,0xffff,local_12,0);
                local_a = CONCAT22(iVar9,uVar12);
                iVar18 = (int)local_6;
                uVar21 = (undefined2)(local_6 >> 0x10);
                if (0 < local_26) {
                  *(uint *)(iVar18 + 0x70) = uVar12;
                  *(int *)(iVar18 + 0x72) = iVar9;
                  local_12 = local_12 - *(int *)(iVar18 + 0x6e);
                }
                uVar8 = *(uint *)(iVar18 + 0x4c);
                iVar16 = uVar8 - uVar12;
                local_e._2_2_ = (*(int *)(iVar18 + 0x4e) - iVar9) - (uint)(uVar8 < uVar12);
                if (((int)local_e._2_2_ < 1) && ((int)local_e._2_2_ < 0)) {
                  local_e._2_2_ = 0;
                  iVar16 = 0;
                }
                *(int *)(iVar18 + 0x4c) = iVar16;
                *(uint *)(iVar18 + 0x4e) = local_e._2_2_;
              }
              else {
                *(undefined4 *)(iVar18 + 0x4c) = 0;
                local_a = 1;
                local_12 = local_e;
              }
              uVar6 = local_6;
              puVar19 = (uint *)local_6;
              if ((((*(long *)(puVar19 + 0x26) == 0) && (0 < (long)local_a)) &&
                  (((double)local_12 - _PTR_PTR_DAT_10a8_0000_10a8_771d_10a8_5268 <= local_1e ||
                   (local_e == 0)))) && (local_20 == 0)) {
                uVar12 = 0;
                do {
                  uVar10 = uVar12;
                  uVar12 = uVar10 + 1;
                  uVar8 = FUN_1028_4f92(local_6 & 0xffff0000 | uVar6 & 0xffff,0,uVar12,-1,0);
                  local_e._2_2_ = local_e._2_2_ | uVar8;
                  if (local_e._2_2_ != 0) break;
                } while ((int)uVar12 < 10);
                local_a = local_a & 0xffff | (ulong)uVar12 << 0x10;
                if ((int)uVar12 < 2) {
                  uVar12 = *puVar19;
                  uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8;
                  uVar21 = 0x25;
                }
                else {
                  uVar5 = *(undefined4 *)(puVar19 + 0x32);
                  uVar21 = (undefined2)((ulong)uVar5 >> 0x10);
                  iVar9 = (int)uVar5;
                  puVar2 = (uint *)(iVar9 + 0x1c);
                  *puVar2 = *puVar2 ^ (byte)(*(byte *)(iVar9 + 0x1c) ^ (byte)(uVar10 << 4)) & 0xf0;
                  uVar12 = *puVar19;
                  uVar12 = uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8;
                  uVar21 = 0x90;
                  local_e._2_2_ = uVar10;
                }
                FUN_1010_6b58(CONCAT22(uVar21,puVar19[1]),uVar12 | 0x8000);
              }
              if (local_e != 0) {
                pbVar1 = (byte *)((int)puVar19 + 5);
                *pbVar1 = *pbVar1 & 0xdf;
                if ((double)local_12 - _PTR_PTR_DAT_10a8_0000_10a8_771d_10a8_5268 <= local_1e) {
                  iVar9 = FUN_10a0_0c14();
                  puVar19[4] = iVar9 + (int)local_2c;
                  iVar9 = FUN_10a0_0c14();
                  puVar19[5] = iVar9 + local_2c._2_2_;
                  puVar19[3] = 0xffff;
                  if ((0 < local_26) && (0 < (int)puVar19[0x36])) {
                    local_28 = 0;
                    pbVar1 = (byte *)((int)puVar19 + 5);
                    *pbVar1 = *pbVar1 & 0xf7;
                    puVar2 = puVar19 + 0x37;
                    *puVar2 = *puVar2 + (uint)local_12;
                    puVar2 = puVar19 + 0x36;
                    *puVar2 = *puVar2 - (uint)local_12;
                  }
                }
                else {
                  *(undefined4 *)(puVar19 + 4) = local_30;
                  uVar21 = (undefined2)((ulong)local_16 >> 0x10);
                  if ((*(byte *)((int)local_16 + 0x19) & 3) == 1) {
                    puVar19[3] = *(uint *)((int)local_16 + 0x16);
                  }
                  else {
                    puVar19[3] = 0xffff;
                  }
                  if (0 < local_26) {
                    uVar5 = *(undefined4 *)(puVar19 + 0x34);
                    pbVar1 = (byte *)((int)uVar5 + 5);
                    *pbVar1 = *pbVar1 | 8;
                  }
                }
                if (((((DAT_10a8_0a47 & 2) != 0) && (0 < *(long *)(puVar19 + 0x2e))) &&
                    (local_26 < 2)) &&
                   ((cVar4 = *(char *)(puVar19[1] * 0x76 + -0x778a), cVar4 < 'Z' && (cVar4 != -1))))
                {
                  lVar17 = (CONCAT22(-(cVar4 + -0x5b) >> 0xf,-(cVar4 + -0x5b) >> 1) *
                           *(long *)(puVar19 + 0x2e)) / 100;
                  local_e._2_2_ = (uint)((ulong)lVar17 >> 0x10);
                  if (lVar17 < 1) {
                    local_e._2_2_ = 0;
                    lVar17 = 1;
                  }
                  uVar8 = (uint)lVar17;
                  uVar12 = puVar19[0x2f];
                  if (((int)uVar12 <= (int)local_e._2_2_) &&
                     (((int)uVar12 < (int)local_e._2_2_ ||
                      (puVar2 = puVar19 + 0x2e, *puVar2 <= uVar8 && uVar8 != *puVar2)))) {
                    uVar8 = puVar19[0x2e];
                    local_e._2_2_ = puVar19[0x2f];
                  }
                  local_a = CONCAT22(local_e._2_2_,uVar8);
                  uVar12 = *puVar19;
                  FUN_1010_6b58(CONCAT22(0x76,puVar19[1]),
                                uVar12 & 0xff | (uint)(byte)((ulong)uVar12 >> 8) << 8 | 0x8000);
                  plVar3 = (long *)(puVar19 + 0x2e);
                  *plVar3 = *plVar3 - local_a;
                }
                if ((puVar19[3] == 0xffff) &&
                   (uVar5 = *(undefined4 *)(puVar19 + 4),
                   bVar7 = FUN_1010_18d2((int)uVar5,(int)((ulong)uVar5 >> 0x10),0x81,local_3e),
                   (int)CONCAT31(extraout_var,bVar7) != 0)) {
                  puVar19[3] = local_36;
                }
                *local_16 = *(undefined4 *)(puVar19 + 4);
                uVar21 = (undefined2)((ulong)local_16 >> 0x10);
                iVar9 = (int)local_16;
                *(uint *)(iVar9 + 4) = puVar19[3];
                puVar2 = (uint *)(iVar9 + 6);
                *puVar2 = *puVar2 ^ ((puVar19[3] != 0xffff ^ *(byte *)(iVar9 + 7)) & 3) << 8;
                if (local_20 != 0) {
                  uVar8 = FUN_1028_4f92(local_6 & 0xffff0000 | uVar6 & 0xffff,0,0xffff,-1,0);
                  local_a = CONCAT22(local_e._2_2_,uVar8);
                  puVar2 = puVar19 + 0x27;
                  uVar12 = *puVar2;
                  if ((*puVar2 == local_e._2_2_ || (int)uVar12 < (int)local_e._2_2_) &&
                     (((int)uVar12 < (int)local_e._2_2_ || (puVar19[0x26] < uVar8)))) {
                    puVar19[0x26] = uVar8;
                    puVar19[0x27] = local_e._2_2_;
                  }
                }
              }
            }
          }
        }
LAB_1050_3d91:
        local_22 = local_22 + 4;
        local_24 = local_24 + 1;
      } while (local_24 < (int)PTR_DAT_10a8_0000_10a8_83c6);
    }
    if (local_28 != 0) {
      FUN_1050_3db6();
      return;
    }
    local_26 = local_26 + 1;
  } while( true );
}



void __cdecl16far FUN_1050_3db6(void)

{
  uint *puVar1;
  byte *pbVar2;
  undefined4 *puVar3;
  uint *puVar4;
  uint uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  int *piVar8;
  undefined4 *puVar9;
  uint uVar10;
  int iVar11;
  int iVar12;
  undefined4 *puVar13;
  undefined2 uVar14;
  int unaff_SS;
  int local_a;
  uint local_4;

  iVar12 = (int)s_From___s_c_c_10a8_10a2 + 6;
  if ((0 < (int)PTR_DAT_10a8_0000_10a8_83c6) && (local_a = 0, 0 < (int)PTR_DAT_10a8_0000_10a8_83c6))
  {
    do {
      uVar6 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      uVar14 = (undefined2)((ulong)uVar6 >> 0x10);
      iVar11 = (int)uVar6;
      puVar4 = *(uint **)(local_a * 4 + iVar11);
      uVar5 = *(uint *)(local_a * 4 + iVar11 + 2);
      uVar10 = uVar5 | (uint)puVar4;
      if (uVar10 == 0) {
        return;
      }
      if (1 < (int)puVar4[0x31]) {
        local_4 = 1;
        if (1 < (int)puVar4[0x31]) {
          iVar12 = 0x12;
          do {
            uVar6 = *(undefined4 *)(puVar4 + 0x32);
            if ((*(byte *)((int)uVar6 + iVar12 + 0xb) & 3) == 2) {
              uVar6 = *(undefined4 *)(puVar4 + 0x32);
              piVar8 = FUN_1010_0c48(*(uint *)((int)uVar6 + iVar12 + 8));
              puVar4[0x34] = (uint)piVar8;
              puVar4[0x35] = uVar10;
              if ((uVar10 | puVar4[0x34]) == 0) {
                uVar6 = *(undefined4 *)(puVar4 + 0x32);
                pbVar2 = (byte *)((int)uVar6 + iVar12 + 0xb);
                *pbVar2 = *pbVar2 & 0xfc;
                uVar6 = *(undefined4 *)(puVar4 + 0x32);
                *(undefined2 *)((int)uVar6 + iVar12 + 8) = 0;
              }
              else {
                uVar6 = *(undefined4 *)(puVar4 + 0x34);
                uVar7 = *(undefined4 *)(puVar4 + 0x32);
                *(undefined4 *)((int)uVar7 + iVar12 + 4) = *(undefined4 *)((int)uVar6 + 8);
                *(undefined4 *)(puVar4 + 0x34) = 0;
              }
            }
            iVar12 = iVar12 + 0x12;
            local_4 = local_4 + 1;
            puVar1 = puVar4 + 0x31;
          } while (*puVar1 != local_4 && (int)local_4 <= (int)*puVar1);
        }
        uVar6 = *(undefined4 *)(puVar4 + 0x32);
        iVar12 = unaff_SS;
        if (*(long *)((int)uVar6 + 0x16) == *(long *)(puVar4 + 4)) {
          puVar13 = (undefined4 *)puVar4[0x32];
          uVar10 = puVar4[0x33];
          puVar9 = (undefined4 *)((int)puVar13 + 0x16);
          for (iVar11 = 4; puVar13 = puVar13 + 1, iVar11 != 0; iVar11 = iVar11 + -1) {
            puVar3 = puVar9;
            puVar9 = puVar9 + 1;
            *puVar13 = *puVar3;
          }
          *(undefined2 *)puVar13 = *(undefined2 *)puVar9;
          uVar6 = *(undefined4 *)(puVar4 + 0x32);
          if ((*(byte *)((int)uVar6 + 0xb) & 3) == 2) {
            uVar6 = *(undefined4 *)(puVar4 + 0x32);
            if ((*(byte *)((int)uVar6 + 10) & 0xf) == 1) {
              local_a = 0;
              iVar11 = puVar4[0x32] + 0xc;
              do {
                if ((*(byte *)(iVar11 + 1) & 0xf0) == 0xa0) goto LAB_1050_3f83;
                iVar11 = iVar11 + 2;
                local_a = local_a + 1;
              } while (local_a < 5);
            }
            if (puVar4[3] == 0xffff) {
              uVar6 = *(undefined4 *)(puVar4 + 0x32);
              pbVar2 = (byte *)((int)uVar6 + 0xb);
              *pbVar2 = *pbVar2 & 0xfc;
              uVar6 = *(undefined4 *)(puVar4 + 0x32);
              *(undefined2 *)((int)uVar6 + 8) = 0;
            }
            else {
              uVar6 = *(undefined4 *)(puVar4 + 0x32);
              uVar14 = (undefined2)((ulong)uVar6 >> 0x10);
              iVar11 = (int)uVar6;
              uVar10 = *(uint *)(iVar11 + 10);
              *(uint *)(iVar11 + 10) =
                   uVar10 & 0xff | (uint)((byte)((ulong)uVar10 >> 8) & 0xfd) << 8 | 0x100;
              uVar6 = *(undefined4 *)(puVar4 + 0x32);
              *(uint *)((int)uVar6 + 8) = puVar4[3];
            }
          }
LAB_1050_3f83:
          FUN_1028_4eb0(CONCAT22(uVar5,puVar4),1,((*(byte *)((int)puVar4 + 5) & 2) << 8) >> 9);
          if (puVar4[0x31] == 1) {
            uVar10 = *puVar4;
            FUN_1010_6b58(CONCAT22(0x54,puVar4[1]),
                          uVar10 & 0xff | (uint)(byte)((ulong)uVar10 >> 8) << 8 | 0x8000);
          }
        }
      }
      local_a = local_a + 1;
    } while (local_a < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1050_3fd8(void)

{
  undefined4 *puVar1;
  uint *puVar2;
  long *plVar3;
  ulong *puVar4;
  undefined4 uVar5;
  bool bVar6;
  undefined *puVar7;
  undefined4 *puVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  ulong uVar12;
  long lVar13;
  ulong uVar14;
  int iVar15;
  undefined4 *puVar16;
  undefined2 uVar17;
  undefined2 uVar18;
  long lStack_30;
  undefined4 local_12;
  undefined4 local_e;
  undefined4 local_6;

  puVar7 = PTR_DAT_10a8_0000_10a8_006c;
  uVar12 = ZEXT24(PTR_DAT_10a8_0000_10a8_006c);
  puVar8 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c);
  puVar16 = (undefined4 *)PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a < puVar8) {
    do {
      bVar6 = false;
      if ((*(int *)((int)puVar16 + 2) != -1) && (*(long *)((int)puVar16 + 0x32) != 0)) {
        iVar9 = FUN_1020_3626((int)puVar16,puVar7,*(int *)((int)puVar16 + 2));
        if ((*(byte *)((int)puVar16 + 5) & 4) != 0) {
          if (-1 < iVar9) {
            uVar5 = *puVar16;
            uVar10 = FUN_1020_37a6((int)uVar5,(int)((ulong)uVar5 >> 0x10));
            puVar1 = puVar16 + 0xd;
            iVar11 = *(int *)puVar1;
            iVar15 = (int)uVar12;
            if ((iVar11 < iVar15) ||
               ((*(int *)puVar1 == iVar15 || iVar11 < iVar15 &&
                (puVar2 = (uint *)((int)puVar16 + 0x32), *puVar2 < uVar10 || *puVar2 == uVar10))))
            goto LAB_1050_407e;
          }
          if ((puVar16[0xe] != 0) &&
             ((uVar5 = puVar16[0xe], *(char *)((int)uVar5 + 3) != '\0' &&
              (uVar14 = puVar16[0xe],
              iVar11 = FUN_1020_3a7c((ulong *)(uVar14 & 0xffff0000 | (ulong)((int)uVar14 + 4))),
              iVar11 != 0)))) goto LAB_1050_4329;
        }
LAB_1050_407e:
        uVar12 = *(ulong *)((int)puVar16 + 0x32);
        uVar10 = *(uint *)(puVar16 + 0xd);
        bVar6 = true;
        if (iVar9 < 0) {
          lStack_30 = (long)-iVar9;
          uVar12 = lStack_30 * (uVar12 & 0xffff | (ulong)uVar10 << 0x10);
          uVar10 = (uint)(uVar12 >> 0x10);
          if ((long)uVar12 < 1) {
            uVar10 = 0;
            uVar12 = 1;
          }
          local_6 = (long)(uVar12 & 0xffff | (ulong)uVar10 << 0x10) / 100;
          local_e = (long)(uVar12 & 0xffff | (ulong)uVar10 << 0x10) % 100;
          if ((local_6 == 0) && (local_e == 0)) {
            local_e = 1;
          }
          iVar9 = *(byte *)(undefined2 *)((int)puVar16 + 0x1a) - (uint)local_e;
          if (iVar9 < 0) {
            local_6 = local_6 + 1;
            iVar9 = iVar9 + 100;
          }
          uVar12 = 0;
          puVar2 = (uint *)((int)puVar16 + 0x1a);
          *puVar2 = *puVar2 ^ (uint)(byte)(*(byte *)(undefined2 *)((int)puVar16 + 0x1a) ^
                                          (byte)iVar9);
          puVar1 = puVar16 + 7;
          *(undefined2 *)puVar1 = *(undefined2 *)puVar1;
          plVar3 = (long *)((int)puVar16 + 0x32);
          *plVar3 = *plVar3 - local_6;
          if ((0 < (long)local_6) && (0 < *(long *)((int)puVar16 + 0x32))) {
            uVar18 = *(undefined2 *)puVar16;
            uVar17 = 0x23;
LAB_1050_431d:
            FUN_1010_6b58(CONCAT22(uVar17,*(undefined2 *)((int)puVar16 + 2)),uVar18);
          }
        }
        else {
          uVar5 = *puVar16;
          iVar11 = FUN_1020_37a6((int)uVar5,(int)((ulong)uVar5 >> 0x10));
          local_12 = CONCAT22(uVar10,iVar11);
          local_6 = (ulong)(*(char *)(*(int *)((int)puVar16 + 2) * 0x76 + -0x7789) * iVar9);
          if (local_12 / 4 < (long)uVar12) {
            lVar13 = (long)(uVar12 * 100) / local_12;
            if (local_12 < (long)uVar12) {
              uVar14 = 99 - lVar13;
              uVar10 = (uint)(uVar14 >> 0x10);
              if ((long)uVar14 < -200) {
                uVar10 = 0xffff;
                uVar14 = 0xff38;
              }
              uVar14 = (uVar14 & 0xffff | (ulong)uVar10 << 0x10) * 0x16;
              uVar10 = (uint)(uVar14 >> 0x10);
            }
            else {
              local_e._0_2_ = (uint)lVar13;
              local_e._2_2_ = (int)((ulong)lVar13 >> 0x10);
              local_e._2_2_ = -(uint)(100 < (uint)local_e) - local_e._2_2_;
              lStack_30 = CONCAT22(local_e._2_2_,100 - (uint)local_e);
              uVar14 = (long)(CONCAT22(local_e._2_2_,100 - (uint)local_e) * lStack_30 * local_6) /
                       0x1d4c;
              uVar10 = (uint)(uVar14 >> 0x10);
            }
            local_6 = uVar14 & 0xffff | (ulong)uVar10 << 0x10;
          }
          uVar14 = ((long)local_6 / 100) * uVar12;
          local_12._2_2_ = (uint)(uVar14 >> 0x10);
          if ((long)uVar14 < 10000000) {
            uVar14 = (long)(local_6 * uVar12) / 100;
            local_12._2_2_ = (uint)(uVar14 >> 0x10);
          }
          local_6 = (long)(uVar14 & 0xffff | (ulong)local_12._2_2_ << 0x10) / 100;
          local_e = (long)uVar14 % 100;
          if ((local_6 == 0) && (local_e == 0)) {
            local_e = 1;
          }
          iVar9 = *(byte *)(undefined2 *)((int)puVar16 + 0x1a) + (uint)local_e;
          if (iVar9 < 100) {
            if (iVar9 < 0) {
              local_6 = local_6 + -1;
              iVar9 = iVar9 + 100;
            }
          }
          else {
            local_6 = local_6 + 1;
            iVar9 = iVar9 + -100;
          }
          puVar2 = (uint *)((int)puVar16 + 0x1a);
          *puVar2 = *puVar2 ^ (uint)(byte)(*(byte *)(undefined2 *)((int)puVar16 + 0x1a) ^
                                          (byte)iVar9);
          puVar1 = puVar16 + 7;
          *(undefined2 *)puVar1 = *(undefined2 *)puVar1;
          uVar12 = (ulong)local_6._2_2_;
          puVar2 = (uint *)((int)puVar16 + 0x32);
          uVar10 = *puVar2;
          *puVar2 = *puVar2 + (uint)local_6;
          puVar1 = puVar16 + 0xd;
          *(uint *)puVar1 = *(int *)puVar1 + local_6._2_2_ + (uint)CARRY2(uVar10,(uint)local_6);
          if ((long)local_6 < 0) {
            uVar12 = (ulong)-(local_6._2_2_ + ((uint)local_6 != 0));
            uVar18 = *(undefined2 *)puVar16;
            uVar17 = 0x24;
            goto LAB_1050_431d;
          }
        }
      }
LAB_1050_4329:
      if ((*(int *)((int)puVar16 + 2) != -1) &&
         ((*(uint *)(puVar16 + 0xd) | *(uint *)((int)puVar16 + 0x32)) == 0)) {
        FUN_1010_6b58(CONCAT22((-(uint)!bVar6 & 0x25) + 0x22,*(undefined2 *)((int)puVar16 + 2)),
                      *(undefined2 *)puVar16);
        *(undefined2 *)((int)puVar16 + 2) = 0xffff;
      }
      if (*(int *)((int)puVar16 + 2) == -1) {
        if (puVar16[0xe] != 0) {
          uVar5 = puVar16[0xe];
          FUN_1038_05b8((uint)uVar5,(uint)((ulong)uVar5 >> 0x10));
          puVar16[0xe] = 0;
        }
        puVar1 = puVar16 + 8;
        *(uint *)puVar1 = *(uint *)puVar1 & 0xf87f;
        puVar1 = puVar16 + 1;
        *(uint *)puVar1 = *(uint *)puVar1 & 0xfdff;
        puVar2 = (uint *)((int)puVar16 + 0x1e);
        *puVar2 = *puVar2 & 0xf000;
        puVar4 = (ulong *)((int)puVar16 + 0x1e);
        *puVar4 = *puVar4 | 0x3ff000;
      }
      puVar16 = puVar16 + 0xf;
    } while (puVar16 < puVar8);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1050_43c8(void)

{
  uint *puVar1;
  byte *pbVar2;
  undefined *puVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  undefined *puVar7;
  undefined2 uVar8;
  undefined2 uVar9;
  float local_12;
  undefined *local_c;
  undefined *local_a;
  undefined *local_8;
  undefined4 local_6;

  local_c = PTR_DAT_10a8_0000_10a8_006c;
  puVar3 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
  local_8 = PTR_DAT_10a8_0000_10a8_006c;
  puVar7 = PTR_DAT_10a8_0000_10a8_006a;
  local_a = puVar3;
  if (PTR_DAT_10a8_0000_10a8_006a < puVar3) {
    do {
      if (*(long *)(puVar7 + 0x32) == 0) {
        *(undefined2 *)(puVar7 + 0x18) = 0;
      }
      else {
        local_6 = *(ulong *)(puVar7 + 0x32);
        uVar4 = FUN_1018_4a4a((uint)local_6 >> 1 |
                              (uint)((*(uint *)(puVar7 + 0x34) & 1) != 0) << 0xf);
        uVar6 = ((uint)local_6 >> 1 | (uint)((local_6 & 0x10000) != 0) << 0xf) >> 1 |
                (uint)((local_6._2_2_ >> 1 & 1U) != 0) << 0xf;
        uVar5 = uVar4 - uVar6;
        local_6._2_2_ =
             local_6._2_2_ + ((((int)uVar4 >> 0xf) - (local_6._2_2_ >> 2)) - (uint)(uVar4 < uVar6))
             + (uint)CARRY2((uint)local_6,uVar5);
        local_6 = CONCAT22(local_6._2_2_,(uint)local_6 + uVar5);
        local_6 = (long)local_6 >> 2;
        local_6._2_2_ = local_6._2_2_ >> 2;
        if ((long)local_6 < 0xffb) {
          if ((local_6._2_2_ < 1) && ((local_6._2_2_ < 0 || ((int)local_6 == 0)))) {
            local_6 = 1;
          }
        }
        else {
          local_6 = 0xffa;
        }
        local_6._0_2_ = *(uint *)(puVar7 + 0x18) ^ (uint)local_6;
        puVar1 = (uint *)(puVar7 + 0x18);
        *puVar1 = *puVar1 ^ ((uint)local_6 & 0xff | ((byte)((ulong)(uint)local_6 >> 8) & 0xf) << 8);
        if ((*(uint *)(puVar7 + 0x1e) & 0xfff) == 0) {
          pbVar2 = puVar7 + 0x19;
          *pbVar2 = *pbVar2 & 0xf;
        }
        else {
          FUN_1010_020c(CONCAT22(local_c,puVar7),&local_12);
          uVar8 = 6;
          uVar9 = 0;
          uVar4 = FUN_10a0_0c14();
          local_6 = CONCAT22(-(uint)(0x67 < uVar4) - local_6._2_2_,0x67 - uVar4) /
                    CONCAT22(uVar9,uVar8);
          if ((long)local_6 < 1) {
            local_6._0_2_ = 1;
LAB_1050_44e8:
            local_6 = (ulong)(uint)local_6;
          }
          else if ((-1 < (long)local_6) && ((0xffff < (long)local_6 || (0xf < (uint)local_6)))) {
            local_6._0_2_ = 0xf;
            goto LAB_1050_44e8;
          }
          uVar4 = *(uint *)(puVar7 + 0x18);
          *(uint *)(puVar7 + 0x18) =
               (uint)local_6 << 0xc ^ (uVar4 & 0xff | ((byte)((ulong)uVar4 >> 8) & 0xf) << 8);
        }
      }
      puVar7 = puVar7 + 0x3c;
    } while (puVar7 < puVar3);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1050_451e(void)

{
  long *plVar1;
  long *plVar2;
  long *plVar3;
  long local_26 [4];
  undefined *local_16;
  undefined *local_14;
  undefined2 local_10;
  undefined4 local_e;
  int *local_a;
  int local_6;
  long *local_4;

  local_e = (undefined2 *)CONCAT22(PTR_DAT_10a8_0000_10a8_006c,(undefined *)local_e);
  local_16 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
  local_14 = PTR_DAT_10a8_0000_10a8_006c;
  local_e._0_2_ = PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a < local_16) {
    do {
      FUN_1008_9d54((ulong)local_e & 0xffff0000 | ZEXT24((undefined *)local_e),local_26,0xffff);
      if (local_26[0] != -1) {
        local_6 = 0;
        local_a = (int *)((ulong)local_e & 0xffff0000 | ZEXT24((undefined *)local_e + 6));
        plVar3 = local_26;
        plVar2 = (long *)((undefined *)local_e + 0x22);
        local_10 = local_e._2_2_;
        local_e = (undefined2 *)((ulong)local_e & 0xffff0000 | ZEXT24((undefined *)local_e));
        local_4 = plVar3;
        do {
          plVar1 = plVar2;
          *plVar1 = *plVar1 + *plVar3;
          *local_a = *local_a - *(int *)plVar3;
          if ((*local_a == 0) && (0 < *plVar3)) {
            FUN_1010_6b58(CONCAT22(0x30,*(undefined2 *)((int)local_e + 2)),*local_e);
          }
          local_a = (int *)((ulong)local_a & 0xffff0000 | (ulong)((int)local_a + 2));
          plVar2 = plVar2 + 1;
          local_6 = local_6 + 1;
          plVar3 = plVar3 + 1;
        } while (plVar3 < &local_16);
      }
      local_e._0_2_ = (undefined *)local_e + 0x3c;
    } while ((undefined *)local_e < local_16);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1050_45f0(void)

{
  long *plVar1;
  undefined4 *puVar2;
  int *piVar3;
  char *pcVar4;
  uint *puVar5;
  uint uVar6;
  undefined4 uVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  undefined *puVar12;
  undefined2 *puVar13;
  long *plVar14;
  long *plVar15;
  undefined4 *puVar16;
  uint *puVar17;
  undefined2 uVar18;
  undefined4 local_30;
  long local_20 [2];
  long local_18;
  int local_12;
  undefined4 local_10;
  int local_c;
  long *local_a;
  uint *local_6;
  long *local_4;

  iVar8 = FUN_1018_4a4a(0x14);
  if (iVar8 == 0) {
    iVar8 = FUN_1018_4a4a((int)PTR_DAT_10a8_0000_10a8_7d52);
    puVar12 = PTR_DAT_10a8_0000_10a8_006a + iVar8 * 0x3c;
    local_10 = CONCAT22(PTR_DAT_10a8_0000_10a8_006c,puVar12);
    if ((((*(int *)(puVar12 + 2) == -1) || (*(long *)(puVar12 + 0x32) < 0x33)) ||
        ((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0012 + 1U) < PTR_DAT_10a8_0000_10a8_0042)) &&
       ((undefined *)0x9 < PTR_DAT_10a8_0000_10a8_0042)) {
      local_12 = FUN_1018_4a4a(4);
      local_c = 0;
      plVar14 = &local_18;
      local_4 = plVar14;
      iVar8 = 0;
      do {
        *(int *)plVar14 = iVar8;
        plVar14 = (long *)((int)plVar14 + 2);
        iVar8 = iVar8 + 1;
      } while (plVar14 < (long *)((int)&local_18 + 6U));
      plVar14 = &local_18;
      do {
        uVar18 = *(undefined2 *)plVar14;
        iVar8 = FUN_1018_4a4a(3);
        puVar13 = (undefined2 *)((int)&local_18 + iVar8 * 2);
        *(undefined2 *)plVar14 = *puVar13;
        *puVar13 = uVar18;
        plVar14 = (long *)((int)plVar14 + 2);
      } while (plVar14 < (long *)((int)&local_18 + 6U));
      local_c = 0;
      puVar16 = &local_30;
      plVar14 = local_20;
      do {
        iVar8 = local_c + 1;
        *(int *)plVar14 = local_c;
        local_c = iVar8;
        plVar14 = (long *)((int)plVar14 + 2);
        iVar8 = FUN_1018_4a4a(0xfa);
        *(int *)puVar16 = iVar8 + 0x32;
        *(int *)((int)puVar16 + 2) = iVar8 + 0x32 >> 0xf;
        puVar16 = puVar16 + 1;
      } while (plVar14 < &local_18);
      iVar8 = 0;
      plVar14 = local_20;
      do {
        local_4 = *(long **)plVar14;
        iVar9 = FUN_1018_4a4a(4 - iVar8);
        local_6 = (uint *)(iVar9 + iVar8);
        puVar13 = (undefined2 *)((int)local_20 + (iVar9 + iVar8) * 2);
        *(undefined2 *)plVar14 = *puVar13;
        *puVar13 = local_4;
        iVar8 = iVar8 + 1;
        plVar14 = (long *)((int)plVar14 + 2);
      } while (plVar14 < &local_18);
      iVar8 = 0;
      if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
        do {
          if (((undefined2 *)local_10)[1] == iVar8) {
            iVar9 = 0x8c;
          }
          else {
            iVar9 = 0x88;
          }
          FUN_1010_6b58(CONCAT22(iVar9 + local_12,iVar8),*(undefined2 *)local_10);
          iVar8 = iVar8 + 1;
        } while (iVar8 < (int)PTR_DAT_10a8_0002_10a8_0038);
      }
      plVar1 = (long *)((undefined2 *)local_10 + 0x19);
      *plVar1 = *plVar1 + (*(long *)((undefined2 *)local_10 + 0x19) * (long)(local_12 * 0x14 + 0x19)
                          ) / -100;
      local_c = 0;
      if (-1 < local_12) {
        plVar14 = local_20;
        iVar8 = local_12 + 1;
        local_6 = (uint *)iVar8;
        local_4 = plVar14;
        do {
          iVar9 = FUN_1018_4a4a((int)s_Engines_10a8_4268);
          uVar10 = iVar9 + 3000;
          iVar9 = *(int *)plVar14;
          puVar2 = &local_30 + iVar9;
          uVar6 = *(uint *)puVar2;
          *(uint *)puVar2 = *(uint *)puVar2 + uVar10;
          piVar3 = (int *)((int)&local_30 + iVar9 * 4 + 2);
          *piVar3 = *piVar3 + ((int)uVar10 >> 0xf) + (uint)CARRY2(uVar6,uVar10);
          uVar18 = (undefined2)(local_10 >> 0x10);
          iVar9 = *(int *)plVar14;
          pcVar4 = (char *)((int)(undefined2 *)local_10 + iVar9 + 0xe);
          *pcVar4 = *pcVar4 + (char)(-(*(char *)((int)(undefined2 *)local_10 + iVar9 + 0xe) + -100)
                                    / 3);
          plVar14 = (long *)((int)plVar14 + 2);
          iVar8 = iVar8 + -1;
        } while (iVar8 != 0);
      }
      local_4 = (long *)local_10._2_2_;
      local_a = (long *)(local_10 & 0xffff0000 | ZEXT24((undefined2 *)local_10 + 0x11));
      local_6 = (undefined2 *)local_10 + 3;
      plVar14 = &local_30;
      puVar17 = (undefined2 *)local_10 + 3;
      do {
        *local_a = *local_a + (*plVar14 >> 4);
        uVar6 = *puVar17;
        plVar1 = plVar14;
        uVar10 = *(uint *)plVar1;
        *(uint *)plVar1 = *(uint *)plVar1 + uVar6;
        puVar5 = (uint *)((int)plVar14 + 2);
        *puVar5 = *puVar5 + (uint)CARRY2(uVar10,uVar6);
        puVar5 = (uint *)((int)plVar14 + 2);
        if ((-1 < (int)*puVar5) && ((0 < (int)*puVar5 || (64000 < *(uint *)plVar14)))) {
          *(uint *)plVar14 = 64000;
          *(uint *)((int)plVar14 + 2) = 0;
        }
        plVar15 = plVar14 + 1;
        *puVar17 = *(uint *)plVar14;
        local_a = (long *)((ulong)local_a & 0xffff0000 | (ulong)((int)local_a + 4));
        plVar14 = plVar15;
        puVar17 = puVar17 + 1;
      } while (plVar15 < local_20);
      iVar8 = 0;
      do {
        if (local_12 < iVar8) break;
        iVar9 = FUN_1018_4a4a(3);
        iVar9 = iVar9 + 3;
        if (local_12 == 3) {
          iVar11 = FUN_1018_4a4a(3);
          iVar9 = iVar9 + iVar11 + 3;
        }
        iVar11 = FUN_1018_4a4a(2);
        if (iVar11 != 0) {
          iVar9 = -iVar9;
        }
        iVar11 = *(char *)((int)(undefined2 *)local_10 + 0x12 + iVar8) + iVar9;
        if (iVar11 < 1) {
          iVar11 = 1;
        }
        else if (99 < iVar11) {
          iVar11 = 99;
        }
        *(undefined *)((int)(undefined2 *)local_10 + iVar8 + 0x12) = (char)iVar11;
        iVar9 = *(char *)((int)(undefined2 *)local_10 + 0x15 + iVar8) + iVar9;
        if (iVar9 < 1) {
          iVar9 = 1;
        }
        else if (99 < iVar9) {
          iVar9 = 99;
        }
        iVar11 = (int)(undefined2 *)local_10 + iVar8;
        iVar8 = iVar8 + 1;
        *(undefined *)(iVar11 + 0x15) = (char)iVar9;
      } while (iVar8 < 3);
      uVar18 = (undefined2)(local_10 >> 0x10);
      if (*(long *)((int)local_10 + 0x38) != 0) {
        uVar7 = *(undefined4 *)((int)local_10 + 0x38);
        FUN_1038_05b8((uint)uVar7,(uint)((ulong)uVar7 >> 0x10));
        *(undefined4 *)((int)local_10 + 0x38) = 0;
      }
    }
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1050_4902(void)

{
  long *plVar1;
  int *piVar2;
  long lVar3;
  uint uVar4;
  undefined *puVar5;
  uint in_DX;
  long *plVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  byte *pbVar10;
  long local_6e [16];
  undefined4 local_2e [2];
  int local_26;
  int local_22;
  int local_20;
  int local_1e;
  int local_1a;
  int local_18;
  undefined4 local_16;
  int local_12;
  undefined4 local_10;
  long *local_c;
  int *local_a;
  long *local_8;
  long *local_6;
  undefined2 local_4;

  local_10 = 0;
  iVar8 = 0;
  local_18 = 0;
  local_1a = 0;
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    local_6 = (long *)&PTR_DAT_10a8_0000_10a8_88a2;
    local_8 = local_6e;
    do {
      uVar4 = FUN_1010_219c(iVar8,local_2e);
      *(uint *)local_8 = uVar4;
      *(uint *)((int)local_8 + 2) = in_DX;
      local_10 = CONCAT22((int)((ulong)local_10 >> 0x10) + in_DX +
                          (uint)CARRY2((uint)local_10,uVar4),(uint)local_10 + uVar4);
      if ((((local_26 == 0) && (local_22 == 0)) && (local_20 == 0)) &&
         ((local_1e == 0 && ((*(byte *)local_6 & 0x40) == 0)))) {
        in_DX = 0;
        plVar1 = local_6;
        *(byte *)plVar1 = *(byte *)plVar1 | 0x40;
        if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
          local_4 = 0;
          iVar7 = 0;
          local_12 = iVar8;
          do {
            if (iVar7 != iVar8) {
              FUN_1010_6bb2(CONCAT22(0xbb,iVar7),0xffff);
            }
            iVar7 = iVar7 + 1;
          } while (iVar7 < (int)PTR_DAT_10a8_0002_10a8_0038);
        }
      }
      local_6 = (long *)((int)local_6 + 0x76);
      local_8 = local_8 + 1;
      iVar8 = iVar8 + 1;
    } while (iVar8 < (int)PTR_DAT_10a8_0002_10a8_0038);
  }
  iVar8 = 0;
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    local_c = local_6e;
    piVar9 = (int *)&PTR_DAT_10a8_0000_10a8_8868;
    do {
      if ((*(byte *)(piVar9 + 0x1d) & 0x40) != 0) {
        local_18 = local_18 + 1;
      }
      *piVar9 = 1;
      if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
        local_6 = local_6e;
        lVar3 = *local_c;
        local_8 = (long *)PTR_DAT_10a8_0002_10a8_0038;
        puVar5 = PTR_DAT_10a8_0002_10a8_0038;
        plVar6 = local_6;
        do {
          if (lVar3 < *plVar6) {
            piVar2 = piVar9;
            *piVar2 = *piVar2 + 1;
          }
          plVar6 = plVar6 + 1;
          puVar5 = puVar5 + -1;
          local_12 = iVar8;
          local_a = piVar9;
        } while (puVar5 != (undefined *)0x0);
      }
      if (*piVar9 == 1) {
        local_16 = *local_c;
        local_1a = iVar8;
      }
      local_c = local_c + 1;
      piVar9 = piVar9 + 0x3b;
      iVar8 = iVar8 + 1;
    } while (iVar8 < (int)PTR_DAT_10a8_0002_10a8_0038);
  }
  if ((int)PTR_DAT_10a8_0002_10a8_0038 <= local_18 + 1) {
    DAT_10a8_0a48 = DAT_10a8_0a48 | 8;
  }
  if ((((DAT_10a8_0a48 & 8) == 0) && (1 < (int)PTR_DAT_10a8_0002_10a8_0038)) &&
     (((int)PTR_DAT_10a8_0002_10a8_0034 * 0x14 + 0x32 < (int)PTR_DAT_10a8_0000_10a8_0042 &&
      ((local_10 - local_16) * 2 < local_16)))) {
    if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 4) != 0) {
      uVar4 = (uint)local_10 - (uint)local_16;
      iVar8 = ((local_10._2_2_ - local_16._2_2_) - (uint)((uint)local_10 < (uint)local_16)) * 3 +
              (uint)CARRY2(uVar4,uVar4) + (uint)CARRY2(uVar4 * 2,uVar4);
      if ((local_16._2_2_ < iVar8) || ((local_16._2_2_ <= iVar8 && ((uint)local_16 <= uVar4 * 3))))
      goto LAB_1050_4a9c;
    }
    DAT_10a8_0a48 = DAT_10a8_0a48 | 8;
  }
LAB_1050_4a9c:
  if (((DAT_10a8_0a48 & 8) != 0) && (iVar8 = 0, 0 < (int)PTR_DAT_10a8_0002_10a8_0038)) {
    pbVar10 = (byte *)&PTR_DAT_10a8_0000_10a8_88a2;
    do {
      if ((*pbVar10 & 0x40) == 0) {
        if ((int)PTR_DAT_10a8_0002_10a8_0038 - local_18 == 1) {
          local_4 = 0xbc;
        }
        else if (local_1a == iVar8) {
          local_4 = 0xb7;
        }
        else {
          local_4 = 0xb6;
        }
      }
      else {
        local_4 = 0xb8;
      }
      FUN_1010_6bb2(CONCAT22(local_4,iVar8),0xffff);
      pbVar10 = pbVar10 + 0x76;
      iVar8 = iVar8 + 1;
    } while (iVar8 < (int)PTR_DAT_10a8_0002_10a8_0038);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1050_4b06(void)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  char *pcVar7;
  undefined2 *puVar8;
  undefined2 *puVar9;

  _PTR_DAT_10a8_0000_10a8_85ac = s_backup_10a8_0ffa._0_4_;
  PTR_DAT_10a8_0000_10a8_85b0 = s_backup_10a8_0ffa._4_2_;
  PTR_DAT_10a8_0000_10a8_85b2._0_1_ = s_backup_10a8_0ffa[6];
  FUN_10a0_0788();
  pcVar7 = (char *)&PTR_PTR_DAT_10a8_0000_10a8_005c_10a8_100a;
  uVar4 = 0xffff;
  do {
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar2 = pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (*pcVar2 != '\0');
  uVar4 = ~uVar4;
  puVar8 = (undefined2 *)(pcVar7 + -uVar4);
  pcVar7 = (char *)&PTR_DAT_10a8_0000_10a8_85ac;
  iVar5 = -1;
  do {
    if (iVar5 == 0) break;
    iVar5 = iVar5 + -1;
    pcVar2 = pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (*pcVar2 != '\0');
  puVar9 = (undefined2 *)(pcVar7 + -1);
  for (uVar6 = uVar4 >> 1; uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar3 = puVar9;
    puVar9 = puVar9 + 1;
    puVar1 = puVar8;
    puVar8 = puVar8 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar4 = (uint)((uVar4 & 1) != 0); uVar4 != 0; uVar4 = uVar4 - 1) {
    puVar3 = puVar9;
    puVar9 = (undefined2 *)((int)puVar9 + 1);
    puVar1 = puVar8;
    puVar8 = (undefined2 *)((int)puVar8 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  return;
}



ulong __stdcall16far POPUPWNDPROC(HWND16 param_1,undefined4 param_2,ulong param_3)

{
  int16 *piVar1;
  uint uVar2;
  undefined2 unaff_SI;
  PAINTSTRUCT16 *unaff_SS;
  ulong uVar3;
  undefined6 in_stack_0000ffd6;
  WPARAM16 in_stack_0000ffdc;
  LPARAM in_stack_0000ffde;
  undefined local_a [8];

                    // Segment:    12
                    // Offset:     0003ebc0
                    // Length:     2748
                    // Min Alloc:  2748
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  if ((int)param_3 != 1) {
    if ((int)param_3 == 0xf) {
      piVar1 = (int16 *)BEGINPAINT((HWND16)&stack0xffd6,
                                   (PAINTSTRUCT16 *)(param_3 & 0xffff0000 | ZEXT24(unaff_SS)));
      FUN_1058_00ba(param_3._2_2_,piVar1);
      ENDPAINT((HWND16)&stack0xffd6,unaff_SS);
    }
    else {
      if ((int)param_3 == 0x14) {
        if ((PTR_DAT_10a8_0000_10a8_1144 != (undefined *)0xf) &&
           (((undefined *)0xf < PTR_DAT_10a8_0000_10a8_1144 ||
            (((char)PTR_DAT_10a8_0000_10a8_1144 != '\t' &&
             ((char)PTR_DAT_10a8_0000_10a8_1144 != '\v')))))) goto LAB_1058_0021;
        GETCLIENTRECT((HWND16)local_a,(RECT16 *)(param_3 & 0xffff0000 | ZEXT24(unaff_SS)));
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)local_a,(RECT16 *)unaff_SS,
                 (HBRUSH16)((ulong)param_2 >> 0x10));
        uVar2 = 1;
        goto LAB_1058_00b3;
      }
      if (((int)param_3 != 0x202) && ((int)param_3 != 0x205)) {
LAB_1058_0021:
        uVar3 = DEFWINDOWPROC(param_1,(uint16)CONCAT610(in_stack_0000ffd6,
                                                        CONCAT28(unaff_SI,CONCAT26(param_3._2_2_,
                                                                                   CONCAT15((char)(
                                                  param_3 >> 8),CONCAT14((char)param_3,param_2))))),
                              in_stack_0000ffdc,in_stack_0000ffde);
        return uVar3;
      }
      if (PTR_DAT_10a8_0000_10a8_1142 != (undefined *)0x0) {
        DESTROYWINDOW((HWND16)PTR_DAT_10a8_0000_10a8_1142);
        PTR_DAT_10a8_0000_10a8_1142 = (undefined *)0x0;
        PTR_DAT_10a8_0000_10a8_1144 = (undefined *)0x0;
        RELEASECAPTURE();
      }
    }
  }
  uVar2 = 0;
LAB_1058_00b3:
  return (ulong)uVar2;
}


/*
Unable to decompile 'FUN_1058_00ba'
Cause:
Low-level Error: Overlapping input varnodes
*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1058_0832(HWND16 param_1,HINSTANCE16 param_2,LPVOID param_3)

{
  char *pcVar1;
  undefined4 uVar2;
  int16 *piVar3;
  int16 *__return_storage_ptr__;
  int16 *hdc;
  char *pcVar4;
  uint uVar5;
  int in_DX;
  int iVar6;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  int iVar7;
  int iVar8;
  HRGN16 unaff_DI;
  char *pcVar9;
  undefined2 unaff_SS;
  dword dVar10;
  undefined2 in_stack_00000000;
  HWND16 in_stack_00000002;
  undefined2 uVar11;
  int iVar12;
  undefined2 uVar13;
  undefined uVar14;
  undefined uVar15;
  int16 *piVar16;
  undefined2 uVar17;
  undefined2 in_stack_0000ffe0;
  int in_stack_0000ffe2;
  int in_stack_0000ffe4;
  HINSTANCE16 HVar18;
  int iVar19;
  int16 *in_stack_0000ffea;
  undefined *in_stack_0000ffec;
  int in_stack_0000ffee;
  int in_stack_0000fff0;
  char *in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  int in_stack_0000fff6;
  undefined2 in_stack_0000fff8;
  char *in_stack_0000fffa;
  char *in_stack_0000fffc;

  HVar18 = param_2;
  CLIENTTOSCREEN((HWND16)&stack0xffe6,(POINT16 *)CONCAT22(param_1,unaff_SS));
  piVar3 = (int16 *)GETDC(param_1);
  __return_storage_ptr__ =
       SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)piVar3,unaff_SI,unaff_DI,
                    (int16)CONCAT214(in_stack_0000ffee,
                                     CONCAT212(in_stack_0000ffec,
                                               CONCAT210(in_stack_0000ffea,
                                                         CONCAT28(iVar8,CONCAT26(HVar18,CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                                    ));
  switch(PTR_DAT_10a8_0000_10a8_1144) {
  case (undefined *)0x1:
    in_stack_0000fffc = (char *)FUN_1018_5112(0x1bd);
    uVar5 = 0xffff;
    pcVar9 = in_stack_0000fffc;
    do {
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar1 = pcVar9;
      pcVar9 = pcVar9 + 1;
    } while (*pcVar1 != '\0');
    dVar10 = GETTEXTEXTENT(~uVar5 - 1,(LPCSTR)CONCAT13(0x10,CONCAT12(0xa8,in_stack_0000fffc)),
                           (int16)CONCAT214(iVar8,CONCAT212(HVar18,CONCAT210(in_stack_0000ffe4,
                                                                             CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  piVar3))))))));
    in_stack_0000fff2 = (char *)((int)dVar10 + 8);
    in_stack_0000ffec = (undefined *)((int)(PTR_DAT_10a8_0000_10a8_5794 + 2) * 4);
    if (-1 < (int)PTR_DAT_10a8_0000_10a8_1158) {
      in_stack_0000ffec = in_stack_0000ffec + (int)PTR_DAT_10a8_0000_10a8_5794;
    }
    break;
  case (undefined *)0x2:
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)piVar3,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffee,
                                  CONCAT212(in_stack_0000ffec,
                                            CONCAT210(in_stack_0000ffea,
                                                      CONCAT28(iVar8,CONCAT26(HVar18,CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,__return_storage_ptr__)
                                                  )))))));
    in_stack_0000fffc = (char *)FUN_1010_0792((int)PTR_DAT_10a8_0000_10a8_1146,1,1,1,0,0);
    uVar5 = 0xffff;
    pcVar9 = in_stack_0000fffc;
    do {
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar1 = pcVar9;
      pcVar9 = pcVar9 + 1;
    } while (*pcVar1 != '\0');
    dVar10 = GETTEXTEXTENT(~uVar5 - 1,(LPCSTR)CONCAT13(0x10,CONCAT12(0xa8,in_stack_0000fffc)),
                           (int16)CONCAT214(iVar8,CONCAT212(HVar18,CONCAT210(in_stack_0000ffe4,
                                                                             CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  piVar3))))))));
    in_stack_0000fff2 = (char *)((int)dVar10 + 8);
    dVar10 = GETTEXTEXTENT(10,s_Player__16_10a8_1181,
                           (int16)CONCAT214(iVar8,CONCAT212(HVar18,CONCAT210(in_stack_0000ffe4,
                                                                             CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  piVar3))))))));
    in_stack_0000fffa = (char *)((int)dVar10 + 8);
    if ((int)in_stack_0000fff2 < (int)in_stack_0000fffa) {
      in_stack_0000fff2 = in_stack_0000fffa;
    }
    in_stack_0000ffec = (undefined *)((int)(PTR_DAT_10a8_0000_10a8_5794 + 4) * 2);
    break;
  case (undefined *)0x3:
    in_stack_0000ffec = PTR_DAT_10a8_0000_10a8_5794 + 8;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)piVar3,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffee,
                                  CONCAT212(in_stack_0000ffec,
                                            CONCAT210(in_stack_0000ffea,
                                                      CONCAT28(iVar8,CONCAT26(HVar18,CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,__return_storage_ptr__)
                                                  )))))));
    in_stack_0000fffc = (char *)FUN_1018_5112(0x1ba);
    uVar5 = 0xffff;
    pcVar9 = in_stack_0000fffc;
    do {
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar1 = pcVar9;
      pcVar9 = pcVar9 + 1;
    } while (*pcVar1 != '\0');
    dVar10 = GETTEXTEXTENT(~uVar5 - 1,(LPCSTR)CONCAT13(0x10,CONCAT12(0xa8,in_stack_0000fffc)),
                           (int16)CONCAT214(iVar8,CONCAT212(HVar18,CONCAT210(in_stack_0000ffe4,
                                                                             CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  piVar3))))))));
    iVar7 = (int)dVar10;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)piVar3,unaff_SI,unaff_DI,
                 (int16)CONCAT214(iVar7,CONCAT212(in_stack_0000ffec,
                                                  CONCAT210(in_stack_0000ffea,
                                                            CONCAT28(iVar8,CONCAT26(HVar18,CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,__return_storage_ptr__)
                                                  )))))));
    iVar12 = 0;
    in_stack_0000fff6 = 0;
    in_stack_0000fff8 = 0;
    piVar16 = piVar3;
    iVar19 = 0;
    do {
      uVar17 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_1146 >> 0x10);
      piVar3 = piVar16;
      in_stack_0000ffee = iVar7;
      in_stack_0000fff0 = iVar19;
      if (0 < *(int *)((int)_PTR_DAT_10a8_0000_10a8_1146 + 0xc + iVar12)) {
        in_stack_0000ffec = in_stack_0000ffec + (int)PTR_DAT_10a8_0000_10a8_5794;
        iVar6 = (((*(byte *)((int)_PTR_DAT_10a8_0000_10a8_1146 + 1) & 0x1e) << 8) >> 9) * 4;
        uVar2 = *(undefined4 *)(iVar6 + 0x72);
        uVar17 = *(undefined2 *)(iVar6 + 0x74);
        in_stack_0000fffc = (char *)((ulong)uVar2 >> 0x10);
        in_stack_0000fffa = (char *)((int)uVar2 + in_stack_0000fff6 + 8);
        uVar5 = 0xffff;
        pcVar9 = in_stack_0000fffa;
        do {
          if (uVar5 == 0) break;
          uVar5 = uVar5 - 1;
          pcVar1 = pcVar9;
          pcVar9 = pcVar9 + 1;
        } while (*pcVar1 != '\0');
        dVar10 = GETTEXTEXTENT(~uVar5 - 1,
                               (LPCSTR)CONCAT13((char)((uint)uVar17 >> 8),
                                                CONCAT12((char)uVar17,in_stack_0000fffa)),
                               (int16)CONCAT214(iVar8,CONCAT212(HVar18,CONCAT210(in_stack_0000ffe4,
                                                                                 CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  piVar16))))))));
        in_stack_0000ffee = (int)dVar10;
        if ((int)dVar10 < iVar7) {
          in_stack_0000ffee = iVar7;
        }
        uVar14 = 0xa8;
        uVar15 = 0x10;
        uVar17 = SUB42(&DAT_10a8_86de,0);
        piVar3 = piVar16;
        hdc = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x118c10a8,
                        (LPCSTR)CONCAT22(*(undefined2 *)
                                          ((int)_PTR_DAT_10a8_0000_10a8_1146 + 0xc + iVar12),0x10a8)
                        ,(VA_LIST16)&DAT_10a8_86de);
        dVar10 = GETTEXTEXTENT((HDC16)hdc,(LPCSTR)CONCAT13(uVar15,CONCAT12(uVar14,uVar17)),
                               (int16)CONCAT214(iVar8,CONCAT212(HVar18,CONCAT210(in_stack_0000ffe4,
                                                                                 CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  piVar16))))))));
        in_stack_0000fff0 = (int)dVar10;
        if ((int)dVar10 < iVar19) {
          in_stack_0000fff0 = iVar19;
        }
      }
      in_stack_0000fff6 = in_stack_0000fff6 + 0x87;
      iVar12 = iVar12 + 2;
      piVar16 = piVar3;
      iVar7 = in_stack_0000ffee;
      iVar19 = in_stack_0000fff0;
    } while (iVar12 < 0x20);
    in_stack_0000fff2 = (char *)(in_stack_0000fff0 + in_stack_0000ffee + 0x10);
    in_stack_0000ffea = piVar3;
    break;
  case (undefined *)0x4:
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)piVar3,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffee,
                                  CONCAT212(in_stack_0000ffec,
                                            CONCAT210(piVar3,CONCAT28(iVar8,CONCAT26(HVar18,CONCAT24
                                                  (in_stack_0000ffe4,
                                                   CONCAT22(in_stack_0000ffe2,__return_storage_ptr__
                                                           ))))))));
    in_stack_0000ffec = (undefined *)((int)(PTR_DAT_10a8_0000_10a8_5794 + 2) * 4);
    pcVar4 = (char *)FUN_1018_5112(0x1bb);
    uVar5 = 0xffff;
    pcVar9 = pcVar4;
    do {
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar1 = pcVar9;
      pcVar9 = pcVar9 + 1;
    } while (*pcVar1 != '\0');
    dVar10 = GETTEXTEXTENT(~uVar5 - 1,(LPCSTR)CONCAT13(0x10,CONCAT12(0xa8,pcVar4)),
                           (int16)CONCAT214(iVar8,CONCAT212(HVar18,CONCAT210(in_stack_0000ffe4,
                                                                             CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  piVar3))))))));
    iVar7 = (int)dVar10 + 8;
    pcVar4 = (char *)FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_7b5c);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)piVar3,unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ffee,
                                  CONCAT212(in_stack_0000ffec,
                                            CONCAT210(piVar3,CONCAT28(iVar8,CONCAT26(HVar18,CONCAT24
                                                  (in_stack_0000ffe4,
                                                   CONCAT22(in_stack_0000ffe2,__return_storage_ptr__
                                                           ))))))));
    uVar5 = 0xffff;
    pcVar9 = pcVar4;
    do {
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar1 = pcVar9;
      pcVar9 = pcVar9 + 1;
    } while (*pcVar1 != '\0');
    dVar10 = GETTEXTEXTENT(~uVar5 - 1,(LPCSTR)CONCAT13(0x10,CONCAT12(0xa8,pcVar4)),
                           (int16)CONCAT214(iVar8,CONCAT212(HVar18,CONCAT210(in_stack_0000ffe4,
                                                                             CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  piVar3))))))));
    in_stack_0000fffc = (char *)dVar10;
    piVar16 = piVar3;
    uVar17 = FUN_1018_5112(0x1bc);
    uVar2 = CONCAT22(unaff_SI,piVar3);
    piVar3 = piVar16;
    dVar10 = GETTEXTEXTENT(4,(LPCSTR)CONCAT13(0x10,CONCAT12(0xa8,uVar17)),
                           (int16)CONCAT214(iVar8,CONCAT212(HVar18,CONCAT210(in_stack_0000ffe4,
                                                                             CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,uVar2)))))));
    in_stack_0000fff2 = (char *)dVar10;
    if ((int)(char *)dVar10 < (int)in_stack_0000fffc) {
      in_stack_0000fff2 = in_stack_0000fffc;
    }
    in_stack_0000fff2 = in_stack_0000fff2 + iVar7;
    in_stack_0000ffea = piVar3;
    break;
  case (undefined *)0x5:
    in_stack_0000ffe2 = FUN_1058_0eb0((HRGN16)piVar3,(undefined *)0x0);
    goto LAB_1058_0bb0;
  case (undefined *)0x6:
    in_stack_0000ffe2 = FUN_1058_1e16(ZEXT24(piVar3),0);
    goto LAB_1058_0bb0;
  case (undefined *)0x7:
    in_stack_0000ffe2 = FUN_1058_15e0((HRGN16)piVar3,(int16 *)0x0);
    goto LAB_1058_0bb0;
  case (undefined *)0x8:
    in_stack_0000ffe2 = FUN_1058_2294((HRGN16)piVar3,200,0);
    goto LAB_1058_0bb0;
  case (undefined *)0x9:
    in_stack_0000fff2 = (char *)0x14c;
    in_stack_0000ffec = PTR_DAT_10a8_0000_10a8_8394 + (int)PTR_DAT_10a8_0000_10a8_5794 * 0xb + 0x4e;
    in_stack_0000ffea = piVar3;
    break;
  case (undefined *)0xa:
    in_stack_0000ffe2 = FUN_1058_2578((HRGN16)piVar3,(int)PTR_DAT_10a8_0000_10a8_1146,0);
    goto LAB_1058_0bb0;
  case (undefined *)0xb:
  case (undefined *)0xf:
    PTR_DAT_10a8_0000_10a8_84d2 =
         (undefined *)(uint)(PTR_DAT_10a8_0000_10a8_1144 != (undefined *)0xb);
    _PTR_DAT_10a8_0000_10a8_830e = _PTR_DAT_10a8_0000_10a8_1146;
    FUN_1060_31aa();
    in_stack_0000fff2 = (char *)0x154;
    in_stack_0000ffec = (undefined *)((int)PTR_DAT_10a8_0000_10a8_5794 * 7 + 0x13a);
    in_stack_0000ffea = piVar3;
    break;
  case (undefined *)0xc:
    in_stack_0000ffe2 = FUN_1058_2416((HRGN16)piVar3,200,0);
    goto LAB_1058_0bb0;
  case (undefined *)0xd:
    in_stack_0000ffe2 = FUN_1058_25e2((HRGN16)piVar3,0x1c2,0);
LAB_1058_0bb0:
    in_stack_0000fff2 = (char *)(in_stack_0000ffe2 + 2);
    in_stack_0000ffec = (undefined *)(in_DX + 2);
    in_stack_0000ffe4 = in_DX;
    break;
  case (undefined *)0xe:
    in_stack_0000fff2 = (char *)0x78;
    in_stack_0000ffec = (undefined *)0x50;
  }
  SELECTOBJECT(__return_storage_ptr__,(HRGN16)piVar3,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ffee,
                                CONCAT212(in_stack_0000ffec,
                                          CONCAT210(in_stack_0000ffea,
                                                    CONCAT28(iVar8,CONCAT26(HVar18,CONCAT24(
                                                  in_stack_0000ffe4,
                                                  CONCAT22(in_stack_0000ffe2,__return_storage_ptr__)
                                                  )))))));
  RELEASEDC(piVar3,param_1,unaff_SI);
  iVar7 = HVar18 - (int)in_stack_0000fff2;
  iVar8 = iVar8 - (int)in_stack_0000ffec;
  uVar17 = 0;
  uVar14 = 0x48;
  uVar15 = 0x13;
  piVar3 = GETSYSTEMMETRICS((int16 *)0x0,
                            (int16)CONCAT214(in_stack_0000ffea,
                                             CONCAT212(iVar8,CONCAT210(iVar7,CONCAT28(
                                                  in_stack_0000ffe4,
                                                  CONCAT26(in_stack_0000ffe2,
                                                           CONCAT24(__return_storage_ptr__,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                            ));
  iVar19 = iVar7;
  if ((int)piVar3 - (int)in_stack_0000fff2 <= iVar7) {
    uVar14 = 0;
    uVar15 = 0;
    piVar3 = GETSYSTEMMETRICS((int16 *)0x0,
                              (int16)CONCAT214(iVar8,CONCAT212(iVar7,CONCAT210(in_stack_0000ffe4,
                                                                               CONCAT28(
                                                  in_stack_0000ffe2,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  uVar17))))))));
    iVar7 = (int)piVar3 - (int)in_stack_0000fff2;
  }
  if (iVar7 < 0) {
    iVar19 = 0;
  }
  else {
    uVar13 = 0;
    piVar3 = GETSYSTEMMETRICS((int16 *)0x0,
                              (int16)CONCAT214(iVar19,CONCAT212(in_stack_0000ffe4,
                                                                CONCAT210(in_stack_0000ffe2,
                                                                          CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  uVar17,CONCAT11(uVar15,uVar14)))))))));
    if ((int)piVar3 - (int)in_stack_0000fff2 <= iVar19) {
      piVar3 = GETSYSTEMMETRICS((int16 *)0x0,
                                (int16)CONCAT214(in_stack_0000ffe4,
                                                 CONCAT212(in_stack_0000ffe2,
                                                           CONCAT210(__return_storage_ptr__,
                                                                     CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(uVar17,CONCAT13(uVar15,CONCAT12(
                                                  uVar14,uVar13)))))))));
      iVar19 = (int)piVar3 - (int)in_stack_0000fff2;
    }
  }
  uVar13 = 1;
  iVar12 = (int)s__with_some_work_done_10a8_1343 + 5;
  piVar3 = GETSYSTEMMETRICS((int16 *)&DAT_10a8_0001,
                            (int16)CONCAT214(iVar19,CONCAT212(in_stack_0000ffe4,
                                                              CONCAT210(in_stack_0000ffe2,
                                                                        CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  uVar17,CONCAT11(uVar15,uVar14)))))))));
  iVar7 = iVar8;
  if ((int)piVar3 - (int)in_stack_0000ffec <= iVar8) {
    iVar12 = 1;
    piVar3 = GETSYSTEMMETRICS((int16 *)&DAT_10a8_0001,
                              (int16)CONCAT214(in_stack_0000ffe4,
                                               CONCAT212(in_stack_0000ffe2,
                                                         CONCAT210(__return_storage_ptr__,
                                                                   CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(uVar17,CONCAT13(uVar15,CONCAT12(
                                                  uVar14,uVar13)))))))));
    iVar8 = (int)piVar3 - (int)in_stack_0000ffec;
  }
  if (iVar8 < 0) {
    iVar7 = 0;
  }
  else {
    uVar11 = 1;
    piVar3 = GETSYSTEMMETRICS((int16 *)&DAT_10a8_0001,
                              (int16)CONCAT214(in_stack_0000ffe2,
                                               CONCAT212(__return_storage_ptr__,
                                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(uVar17,CONCAT15(uVar15,CONCAT14(uVar14,
                                                  CONCAT22(uVar13,iVar12)))))))));
    if ((int)piVar3 - (int)in_stack_0000ffec <= iVar7) {
      piVar3 = GETSYSTEMMETRICS((int16 *)&DAT_10a8_0001,
                                (int16)CONCAT214(__return_storage_ptr__,
                                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  uVar17,CONCAT17(uVar15,CONCAT16(uVar14,CONCAT24(
                                                  uVar13,CONCAT22(iVar12,uVar11)))))))));
      iVar7 = (int)piVar3 - (int)in_stack_0000ffec;
    }
  }
  PTR_DAT_10a8_0000_10a8_1142 =
       (undefined *)
       CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                    CONCAT22(in_stack_0000ffec,param_1),
                    (int16)CONCAT214(0x112,ZEXT1014(CONCAT28(0x9080,(qword)CONCAT24(iVar19,CONCAT22(
                                                  iVar7,in_stack_0000fff2))))),
                    (int16)CONCAT214(__return_storage_ptr__,
                                     CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(uVar17,CONCAT17(
                                                  uVar15,CONCAT16(uVar14,CONCAT24(uVar13,CONCAT22(
                                                  iVar12,0x10a8)))))))),
                    (int16)CONCAT214(in_stack_0000fff0,
                                     CONCAT212(in_stack_0000ffee,
                                               CONCAT210(in_stack_0000ffec,
                                                         CONCAT28(in_stack_0000ffea,
                                                                  CONCAT26(iVar7,CONCAT24(iVar19,
                                                  CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2))))))
                                    ),
                    (int16)CONCAT214(in_stack_00000000,
                                     CONCAT212(unaff_BP,CONCAT210(in_stack_0000fffc,
                                                                  CONCAT28(in_stack_0000fffa,
                                                                           CONCAT26(
                                                  in_stack_0000fff8,
                                                  CONCAT24(in_stack_0000fff6,
                                                           CONCAT22(in_stack_0000fff4,
                                                                    in_stack_0000fff2))))))),
                    in_stack_00000002,param_1,param_2,param_3);
  SENDMESSAGE(0,(uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(uVar17,CONCAT19(uVar15,
                                                  CONCAT18(uVar14,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_1142,
                                                  CONCAT24(0x30,ZEXT24(PTR_DAT_10a8_0000_10a8_59c4)
                                                                << 0x10))))))),
              (WPARAM16)__return_storage_ptr__,CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2));
  SETCAPTURE((HWND16)PTR_DAT_10a8_0000_10a8_1142);
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined * __cdecl16far
FUN_1058_0cc6(int param_1,HWND16 param_2,RECT16 *param_3,int param_4,int param_5,int param_6,
             HMENU16 param_7)

{
  HMENU16 hmenu;
  bool16 bVar1;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  HMENU16 hmenu_00;
  HMENU16 HVar2;
  undefined2 unaff_DI;
  undefined2 unaff_SS;
  undefined4 in_stack_00000000;
  int iVar3;
  int iVar4;
  undefined uVar5;
  undefined uVar6;
  HMENU16 **in_stack_0000ffd8;
  uint *in_stack_0000ffda;
  undefined4 in_stack_0000ffdc;
  uint in_stack_0000ffe0;
  undefined4 in_stack_0000ffe2;
  undefined6 in_stack_0000ffe6;
  undefined2 in_stack_0000ffec;
  HWND16 HVar7;
  RECT16 *pRVar8;
  HMENU16 in_stack_0000fff2;
  HMENU16 *in_stack_0000fff4;
  HMENU16 HVar9;
  uint in_stack_0000fffa;
  HMENU16 *in_stack_0000fffc;
  HMENU16 *pHVar10;

  hmenu_00 = 0;
  HVar7 = param_2;
  pRVar8 = param_3;
  CLIENTTOSCREEN((HWND16)&stack0xffee,(POINT16 *)CONCAT22(param_1,unaff_SS));
  hmenu = CREATEPOPUPMENU();
  PTR_DAT_10a8_0000_10a8_7c42 = (undefined *)0xffff;
  HVar9 = 0;
  if (0 < param_4) {
    HVar2 = hmenu_00;
    hmenu_00 = 0;
    do {
      if (param_5 == 0) {
        in_stack_0000ffd8 = (HMENU16 **)(HVar2 * 2 + param_6);
        if (*in_stack_0000ffd8 != (HMENU16 *)0x0) {
          if (param_7 == HVar2) {
            uVar5 = 8;
          }
          else {
            uVar5 = 0;
          }
          uVar6 = 0;
          iVar4 = HVar2 + 15000;
          iVar3 = (int)s_From___s_c_c_10a8_10a2 + 6;
          pHVar10 = *in_stack_0000ffd8;
          goto LAB_1058_0e3d;
        }
        in_stack_0000fffa = 0;
        in_stack_0000fff4 = in_stack_0000ffd8[1];
        hmenu_00 = CREATEPOPUPMENU();
        HVar2 = HVar2 + 2;
        if ((int)HVar2 < param_4) {
          pHVar10 = (HMENU16 *)(HVar2 * 2 + param_6);
          in_stack_0000fffc = pHVar10;
          do {
            if (*pHVar10 == 0) break;
            in_stack_0000fffa = in_stack_0000fffa | param_7 == HVar2;
            if (param_7 == HVar2) {
              uVar5 = 8;
            }
            else {
              uVar5 = 0;
            }
            APPENDMENU(*pHVar10,(uint16)CONCAT214(in_stack_0000ffda,
                                                  CONCAT212(in_stack_0000ffd8,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(hmenu_00,(uint6)CONCAT14(uVar5,CONCAT22(
                                                  HVar2 + 15000,0x10a8))))))),
                       (uint16)CONCAT610(in_stack_0000ffe6,
                                         CONCAT46(in_stack_0000ffe2,
                                                  CONCAT24(in_stack_0000ffe0,in_stack_0000ffdc))),
                       CONCAT22(HVar7,in_stack_0000ffec));
            pHVar10 = pHVar10 + 1;
            HVar2 = HVar2 + 1;
          } while ((int)HVar2 < param_4);
        }
        APPENDMENU((HMENU16)in_stack_0000fff4,
                   (uint16)CONCAT214(in_stack_0000ffda,
                                     CONCAT212(in_stack_0000ffd8,
                                               CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(hmenu,(
                                                  uint6)(CONCAT14(-(in_stack_0000fffa != 0),
                                                                  CONCAT22(hmenu_00,0x10a8)) &
                                                         0x8ffffffff | 0x1000000000)))))),
                   (uint16)CONCAT610(in_stack_0000ffe6,
                                     CONCAT46(in_stack_0000ffe2,
                                              CONCAT24(in_stack_0000ffe0,in_stack_0000ffdc))),
                   CONCAT22(HVar7,in_stack_0000ffec));
        HVar9 = HVar2;
      }
      else {
        in_stack_0000ffda = (uint *)(HVar2 * 2 + param_5);
        if (*in_stack_0000ffda == 0xffff) {
          iVar4 = 0;
          uVar5 = 0;
          uVar6 = 8;
          pHVar10 = (HMENU16 *)0x0;
          iVar3 = 0;
        }
        else {
          if ((*(byte *)((int)in_stack_0000ffda + 1) & 0xe0) == 0xe0) {
            pHVar10 = (HMENU16 *)s_Deep_Space_10a8_118f;
          }
          else if ((*(byte *)((int)in_stack_0000ffda + 1) & 0xc0) == 0xc0) {
            pHVar10 = (HMENU16 *)FUN_1018_5112(*in_stack_0000ffda & 0x3fff);
          }
          else if ((*(byte *)((int)in_stack_0000ffda + 1) & 0x80) == 0) {
            pHVar10 = (HMENU16 *)FUN_1010_1074(*in_stack_0000ffda);
          }
          else {
            pHVar10 = (HMENU16 *)FUN_1010_0ffa(*in_stack_0000ffda);
          }
          if (param_7 == HVar2) {
            uVar5 = 8;
          }
          else {
            uVar5 = 0;
          }
          uVar6 = 0;
          iVar4 = HVar2 + 15000;
          iVar3 = (int)s_From___s_c_c_10a8_10a2 + 6;
          in_stack_0000fffc = pHVar10;
        }
LAB_1058_0e3d:
        APPENDMENU((HMENU16)pHVar10,
                   (uint16)CONCAT214(in_stack_0000ffda,
                                     CONCAT212(in_stack_0000ffd8,
                                               CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(hmenu,
                                                  CONCAT15(uVar6,CONCAT14(uVar5,CONCAT22(iVar4,iVar3
                                                                                        )))))))),
                   (uint16)CONCAT610(in_stack_0000ffe6,
                                     CONCAT46(in_stack_0000ffe2,
                                              CONCAT24(in_stack_0000ffe0,in_stack_0000ffdc))),
                   CONCAT22(HVar7,in_stack_0000ffec));
      }
      HVar2 = HVar2 + 1;
      in_stack_0000fff2 = hmenu_00;
    } while ((int)HVar2 < param_4);
  }
  TRACKPOPUPMENU(0,(uint16)CONCAT214(unaff_SI,CONCAT212(hmenu,ZEXT1112(CONCAT110(6,CONCAT28(HVar7,
                                                  CONCAT26(pRVar8,ZEXT26(PTR_DAT_10a8_0000_10a8_58b4
                                                                        ) << 0x10)))))),
                 (int16)CONCAT412(in_stack_0000ffe2,
                                  CONCAT210(in_stack_0000ffe0,
                                            CONCAT46(in_stack_0000ffdc,
                                                     CONCAT24(in_stack_0000ffda,
                                                              CONCAT22(in_stack_0000ffd8,unaff_DI)))
                                           )),
                 (int16)CONCAT214(in_stack_0000fff4,
                                  CONCAT212(in_stack_0000fff2,
                                            CONCAT210(pRVar8,CONCAT28(HVar7,CONCAT26(
                                                  in_stack_0000ffec,in_stack_0000ffe6))))),
                 (int16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                                  CONCAT28(unaff_BP,CONCAT26(in_stack_0000fffc,
                                                             CONCAT24(in_stack_0000fffa,
                                                                      CONCAT22(hmenu,HVar9))))),
                 param_2,param_3);
  DESTROYMENU(hmenu);
  if (hmenu_00 != 0) {
    DESTROYMENU(hmenu_00);
  }
  bVar1 = PEEKMESSAGE((MSG16 *)&DAT_10a8_0002,0x111,
                      (uint16)CONCAT214(in_stack_0000ffda,
                                        CONCAT212(in_stack_0000ffd8,
                                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  unaff_SS,CONCAT15((char)((uint)&stack0xffdc >> 8),
                                                                    CONCAT14((char)&stack0xffdc,
                                                                             CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_58b4,0x111)))))))),
                      (uint16)CONCAT610(in_stack_0000ffe6,
                                        CONCAT46(in_stack_0000ffe2,
                                                 CONCAT24(in_stack_0000ffe0,in_stack_0000ffdc))),
                      (uint16)CONCAT214(in_stack_0000fffa,
                                        CONCAT212(hmenu,CONCAT210(HVar9,CONCAT28(in_stack_0000fff4,
                                                                                 CONCAT26(
                                                  in_stack_0000fff2,
                                                  CONCAT24(pRVar8,CONCAT22(HVar7,in_stack_0000ffec))
                                                  ))))));
  if (((bVar1 != 0) && (14999 < in_stack_0000ffe0)) && (in_stack_0000ffe0 < 0x3afc)) {
    PTR_DAT_10a8_0000_10a8_7c42 = (undefined *)(in_stack_0000ffe0 + 0xc568);
  }
  return PTR_DAT_10a8_0000_10a8_7c42;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1058_0eb0(HRGN16 param_1,undefined *param_2)

{
  undefined2 uVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  undefined2 in_DX;
  VA_LIST16 unaff_SI;
  HRGN16 unaff_DI;
  undefined2 unaff_SS;
  undefined2 uVar5;
  undefined2 uVar6;
  int iVar7;
  undefined2 uVar8;
  int16 *piVar9;
  undefined2 uVar10;
  undefined *puVar11;
  int in_stack_0000ff8c;
  undefined in_stack_0000ff8e [12];
  undefined2 in_stack_0000ff9a;
  undefined *local_14;
  int local_12;
  VA_LIST16 local_10;
  int local_e;
  int local_c;
  uint local_a;
  int local_8;
  ulong local_6;

  local_14 = (undefined *)0x4;
  local_8 = 4;
  local_12 = 4;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)));
  FUN_1018_5318(param_1,&local_12,local_14,*(undefined2 *)(_DAT_10a8_1148 * 2 + 0x634),(int16 *)0x0,
                (LPCSTR)CONCAT22(unaff_SI,param_2),
                (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)));
  piVar9 = (int16 *)0x0;
  puVar11 = param_2;
  uVar1 = FUN_1018_5112(0x1b2);
  FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)));
  puVar11 = param_2;
  if (_DAT_10a8_1148 < 0) {
    piVar9 = (int16 *)0x0;
    uVar1 = FUN_1018_5112(0x1b3);
  }
  else {
    piVar9 = (int16 *)0x0;
    uVar1 = FUN_1020_307e((int)_DAT_10a8_1148,(VA_LIST16)((ulong)_DAT_10a8_1148 >> 0x10));
  }
  FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)));
  FUN_1018_5318(param_1,&local_12,local_14,0x119a,(int16 *)&DAT_10a8_0001,
                (LPCSTR)CONCAT22(unaff_SI,param_2),
                (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
  if (4 < local_12) {
    local_8 = local_12;
  }
  local_12 = 4;
  local_14 = PTR_DAT_10a8_0000_10a8_5794 + (int)local_14;
  if (PTR_DAT_10a8_0000_10a8_1152 == (undefined *)0xffff) {
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1b4);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    if (local_8 < local_12) {
      local_8 = local_12;
    }
    local_12 = 4;
    local_14 = local_14 + (int)PTR_DAT_10a8_0000_10a8_5794;
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1b5);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    FUN_1018_5318(param_1,&local_12,local_14,*(undefined2 *)(_DAT_10a8_1148 * 2 + 0x634),
                  (int16 *)0x0,(LPCSTR)CONCAT22(unaff_SI,param_2),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    uVar1 = 0x119c;
  }
  else {
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1b6);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    if (local_8 < local_12) {
      local_8 = local_12;
    }
    local_12 = 4;
    local_14 = local_14 + (int)PTR_DAT_10a8_0000_10a8_5794;
    FUN_1018_5318(param_1,&local_12,local_14,*(undefined2 *)(_DAT_10a8_1148 * 2 + 0x634),
                  (int16 *)0x0,(LPCSTR)CONCAT22(unaff_SI,param_2),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1b7);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1020_307e(_DAT_10a8_1148,(VA_LIST16)PTR_DAT_10a8_0000_10a8_1152);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    piVar9 = (int16 *)((int)&PTR_LOOP_10a8_0004 + 1);
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1b8);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1020_307e(_DAT_10a8_1148,(VA_LIST16)PTR_DAT_10a8_0000_10a8_1154);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    uVar1 = 0x119e;
  }
  FUN_1018_5318(param_1,&local_12,local_14,uVar1,(int16 *)&DAT_10a8_0001,
                (LPCSTR)CONCAT22(unaff_SI,param_2),
                (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
  if (local_8 < local_12) {
    local_8 = local_12;
  }
  local_12 = 4;
  local_14 = local_14 + (int)PTR_DAT_10a8_0000_10a8_5794;
  if (PTR_DAT_10a8_0000_10a8_114c < (undefined *)0x8000) {
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1b9);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    if (local_8 < local_12) {
      local_8 = local_12;
    }
    local_12 = 4;
    local_14 = local_14 + (int)PTR_DAT_10a8_0000_10a8_5794;
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1b1);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    FUN_1018_5318(param_1,&local_12,local_14,*(undefined2 *)(_DAT_10a8_1148 * 2 + 0x634),
                  (int16 *)0x0,(LPCSTR)CONCAT22(unaff_SI,param_2),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    piVar9 = (int16 *)&PTR_LOOP_10a8_0004;
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1b0);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_1146);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    if (local_8 < local_12) {
      local_8 = local_12;
    }
    local_12 = 4;
    local_14 = local_14 + (int)PTR_DAT_10a8_0000_10a8_5794;
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1ac);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1020_307e(_DAT_10a8_1148,(VA_LIST16)PTR_DAT_10a8_0000_10a8_114c);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    piVar9 = (int16 *)&PTR_LOOP_10a8_0004;
    puVar11 = param_2;
    uVar1 = FUN_1018_5112(0x1af);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    piVar9 = (int16 *)0x0;
    puVar11 = param_2;
    uVar1 = FUN_1020_307e(_DAT_10a8_1148,(VA_LIST16)PTR_DAT_10a8_0000_10a8_114e);
    FUN_1018_5318(param_1,&local_12,local_14,uVar1,piVar9,(LPCSTR)CONCAT22(unaff_SI,puVar11),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    FUN_1018_5318(param_1,&local_12,local_14,0x11a0,(int16 *)&DAT_10a8_0001,
                  (LPCSTR)CONCAT22(unaff_SI,param_2),
                  (int16)CONCAT124(in_stack_0000ff8e,CONCAT22(in_stack_0000ff8c,unaff_DI)));
    if (local_8 < local_12) {
      local_8 = local_12;
    }
    local_14 = local_14 + (int)PTR_DAT_10a8_0000_10a8_5794;
  }
  local_12 = 4;
  if ((((undefined *)0x7fff < PTR_DAT_10a8_0000_10a8_114c) ||
      (PTR_DAT_10a8_0000_10a8_1152 == (undefined *)0xffff)) ||
     (PTR_DAT_10a8_0000_10a8_114a == PTR_DAT_10a8_0000_10a8_1150)) goto LAB_1058_1509;
  local_10 = (VA_LIST16)0xffff;
  if ((int)PTR_DAT_10a8_0000_10a8_114a < (int)PTR_DAT_10a8_0000_10a8_1150) {
    if (((int)PTR_DAT_10a8_0000_10a8_114a < (int)PTR_DAT_10a8_0000_10a8_114e) &&
       (local_10 = (VA_LIST16)PTR_DAT_10a8_0000_10a8_114e,
       (int)PTR_DAT_10a8_0000_10a8_1150 < (int)PTR_DAT_10a8_0000_10a8_114e)) {
LAB_1058_134f:
      local_10 = (VA_LIST16)PTR_DAT_10a8_0000_10a8_1150;
    }
  }
  else if (((int)PTR_DAT_10a8_0000_10a8_114c < (int)PTR_DAT_10a8_0000_10a8_114a) &&
          (local_10 = (VA_LIST16)PTR_DAT_10a8_0000_10a8_114c,
          (int)PTR_DAT_10a8_0000_10a8_114c < (int)PTR_DAT_10a8_0000_10a8_1150)) goto LAB_1058_134f;
  if (local_10 != (VA_LIST16)0xffff) {
    piVar2 = FUN_1010_018e((int)PTR_DAT_10a8_0000_10a8_1146);
    local_6 = CONCAT22(in_DX,piVar2);
    local_c = FUN_1020_3626((int)piVar2,in_DX,(int)PTR_DAT_10a8_0001_10a8_00c0);
    uVar1 = (undefined2)(local_6 >> 0x10);
    _DAT_10a8_1148 = (int)local_6 + _DAT_10a8_1148;
    local_e = (int)*(char *)(_DAT_10a8_1148 + 0x12);
    *(undefined *)(_DAT_10a8_1148 + 0x12) = local_10._0_1_;
    local_a = FUN_1020_3626((int)local_6,uVar1,(int)PTR_DAT_10a8_0001_10a8_00c0);
    *(undefined *)((int)local_6 + _DAT_10a8_1148 + 0x12) = (undefined)local_e;
    if (local_c < (int)local_a) {
      uVar5 = 0;
      uVar6 = 0;
      iVar3 = local_8 + -4;
      uVar1 = 4;
      puVar11 = param_2;
      iVar7 = iVar3;
      uVar4 = FUN_1018_50de(0xd3,(char *)&DAT_10a8_86de);
      local_6 = local_6 & 0xffff0000 | (ulong)uVar4;
      FUN_1018_5366(param_1,&local_12,&local_14,(int)&DAT_10a8_86de,uVar4,uVar1,iVar3,uVar5,uVar6,
                    puVar11);
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,iVar7)));
      FUN_1018_5366(param_1,&local_12,&local_14,*(undefined2 *)(_DAT_10a8_1148 * 2 + 0x634),0,4,
                    iVar7,0,0,param_2);
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,iVar7)));
      uVar8 = 0;
      uVar10 = 0;
      uVar5 = 4;
      uVar6 = 4;
      puVar11 = param_2;
      iVar3 = iVar7;
      uVar1 = FUN_1018_5112(0x1af);
      FUN_1018_5366(param_1,&local_12,&local_14,uVar1,uVar5,uVar6,iVar7,uVar8,uVar10,puVar11);
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,iVar3)));
      uVar8 = 0;
      uVar10 = 0;
      uVar5 = 0;
      uVar6 = 4;
      puVar11 = param_2;
      iVar7 = iVar3;
      uVar1 = FUN_1020_307e((int)_DAT_10a8_1148,local_10);
      FUN_1018_5366(param_1,&local_12,&local_14,uVar1,uVar5,uVar6,iVar3,uVar8,uVar10,puVar11);
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,iVar7)));
      uVar5 = 0;
      uVar6 = 0;
      uVar1 = 4;
      puVar11 = param_2;
      iVar3 = iVar7;
      uVar4 = FUN_1018_50de(0xd4,(char *)&DAT_10a8_86de);
      local_6 = local_6 & 0xffff0000 | (ulong)uVar4;
      FUN_1018_5366(param_1,&local_12,&local_14,(int)&DAT_10a8_86de,uVar4,uVar1,iVar7,uVar5,uVar6,
                    puVar11);
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,iVar3)));
      uVar5 = 0;
      uVar6 = 0;
      uVar1 = 4;
      puVar11 = param_2;
      in_stack_0000ff8c = iVar3;
      piVar9 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x11a210a8,(LPCSTR)CONCAT22(local_a,0x10a8),
                         (VA_LIST16)&PTR_LOOP_10a8_0004);
      FUN_1018_5366(param_1,&local_12,&local_14,(int)&DAT_10a8_86de,piVar9,uVar1,iVar3,uVar5,uVar6,
                    puVar11);
    }
  }
LAB_1058_1509:
  if ((PTR_DAT_10a8_0000_10a8_1152 != (undefined *)0xffff) &&
     (PTR_DAT_10a8_0000_10a8_114a != PTR_DAT_10a8_0000_10a8_1150)) {
    if ((int)PTR_DAT_10a8_0000_10a8_114a < (int)PTR_DAT_10a8_0000_10a8_1152) {
      uVar4 = (int)PTR_DAT_10a8_0000_10a8_1152 - (int)PTR_DAT_10a8_0000_10a8_114a;
    }
    else if ((int)PTR_DAT_10a8_0000_10a8_1154 < (int)PTR_DAT_10a8_0000_10a8_114a) {
      uVar4 = (int)PTR_DAT_10a8_0000_10a8_114a - (int)PTR_DAT_10a8_0000_10a8_1154;
    }
    else {
      uVar4 = (int)PTR_DAT_10a8_0000_10a8_114a - (int)PTR_DAT_10a8_0000_10a8_1150 >> 0xf;
      uVar4 = -(((int)PTR_DAT_10a8_0000_10a8_114a - (int)PTR_DAT_10a8_0000_10a8_1150 ^ uVar4) -
               uVar4);
    }
    if ((int)uVar4 < 0) {
      uVar4 = -uVar4;
      local_a = 0xd6;
    }
    else {
      local_a = 0xd5;
    }
    local_6 = local_6 & 0xffff | (ulong)uVar4 << 0x10;
    FUN_1018_50de(local_a,(char *)&DAT_10a8_86de);
    piVar9 = _WSPRINTF((int16 *)&stack0xff8e,(LPSTR)CONCAT22(0x86de,unaff_SS),
                       (LPCSTR)(local_6 & 0xffff0000 | 0x10a8),unaff_SI);
    local_6 = local_6 & 0xffff0000 | ZEXT24(piVar9);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff9a,CONCAT122(in_stack_0000ff8e,in_stack_0000ff8c)))
    ;
    FUN_1018_5366(param_1,&local_12,&local_14,&stack0xff8e,(undefined2)local_6,4,local_8 + -4,0,0,
                  param_2);
  }
  return local_8 + 4;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1058_15e0(HRGN16 param_1,int16 *param_2)

{
  undefined2 uVar1;
  int iVar2;
  int16 *piVar3;
  int iVar4;
  int iVar5;
  VA_LIST16 valist;
  uint uVar6;
  undefined2 in_DX;
  VA_LIST16 unaff_SI;
  int iVar7;
  HRGN16 unaff_DI;
  undefined2 unaff_SS;
  undefined2 uVar8;
  undefined2 uVar9;
  undefined2 uVar10;
  int16 *piVar11;
  int16 *piVar12;
  undefined2 uVar13;
  undefined2 in_stack_0000ff18;
  undefined2 in_stack_0000ff1a;
  unkbyte10 in_stack_0000ff1c;
  undefined2 in_stack_0000ff26;
  undefined4 local_4e;
  byte local_4a;
  uint local_36;
  long local_1c;
  undefined *local_e;
  int local_c;
  int local_a;
  int16 *local_8;
  undefined4 local_6;

  local_e = (undefined *)0x4;
  local_c = 4;
  FUN_1010_02b0((int)PTR_DAT_10a8_0000_10a8_1146,&local_4e);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff26,
                                CONCAT104(in_stack_0000ff1c,
                                          CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
  piVar3 = param_2;
  if (local_4e._2_2_ == PTR_DAT_10a8_0001_10a8_00c0) {
    piVar11 = (int16 *)0x0;
    piVar12 = param_2;
    uVar1 = FUN_1018_5112(0x1a3);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar11,(LPCSTR)CONCAT22(unaff_SI,piVar12),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar11 = (int16 *)0x0;
    piVar12 = param_2;
    uVar1 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_1146);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar11,(LPCSTR)CONCAT22(unaff_SI,piVar12),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar11 = (int16 *)&PTR_LOOP_10a8_0004;
    piVar12 = param_2;
    uVar1 = FUN_1018_5112(0x1ae);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar11,(LPCSTR)CONCAT22(unaff_SI,piVar12),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x11aa10a8,(LPCSTR)CONCAT22((int)local_1c,0x10a8),
              (VA_LIST16)((ulong)local_1c >> 0x10));
    if (local_1c == 0) {
      DAT_10a8_86df = 0;
    }
    FUN_1018_5318(param_1,&local_c,local_e,(int)&DAT_10a8_86de,(int16 *)0x0,
                  (LPCSTR)CONCAT22(unaff_SI,param_2),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar12 = (int16 *)&DAT_10a8_0001;
    uVar1 = 0x11b0;
  }
  else if (local_4e._2_2_ == (undefined *)0xffff) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar11 = (int16 *)0x0;
    piVar12 = param_2;
    uVar1 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_1146);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar11,(LPCSTR)CONCAT22(unaff_SI,piVar12),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar12 = (int16 *)0x0;
    uVar1 = FUN_1018_5112(0x1a7);
  }
  else {
    piVar11 = (int16 *)0x0;
    piVar12 = param_2;
    uVar1 = FUN_1018_5112(0x1a4);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar11,(LPCSTR)CONCAT22(unaff_SI,piVar12),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar11 = (int16 *)0x0;
    piVar12 = param_2;
    uVar1 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_1146);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar11,(LPCSTR)CONCAT22(unaff_SI,piVar12),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    if (local_4a < 3) {
      piVar11 = (int16 *)0x0;
      piVar12 = param_2;
      uVar1 = FUN_1018_5112(0x1a6);
      FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar11,(LPCSTR)CONCAT22(unaff_SI,piVar12),
                    (int16)CONCAT106(in_stack_0000ff1c,
                                     CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)
                                             )));
    }
    else {
      piVar11 = (int16 *)0x0;
      piVar12 = param_2;
      uVar1 = FUN_1018_5112(0x1a5);
      FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar11,(LPCSTR)CONCAT22(unaff_SI,piVar12),
                    (int16)CONCAT106(in_stack_0000ff1c,
                                     CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)
                                             )));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff26,
                                    CONCAT104(in_stack_0000ff1c,
                                              CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
      _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x11b210a8,
                (LPCSTR)CONCAT22((local_36 & 0xff | ((byte)((ulong)local_36 >> 8) & 0xf) << 8) << 2,
                                 0x10a8),unaff_SI);
      if ((local_36 & 0xfff) == 0) {
        DAT_10a8_86df = 0;
      }
      FUN_1018_5318(param_1,&local_c,local_e,(int)&DAT_10a8_86de,(int16 *)0x0,
                    (LPCSTR)CONCAT22(unaff_SI,param_2),
                    (int16)CONCAT106(in_stack_0000ff1c,
                                     CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)
                                             )));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff26,
                                    CONCAT104(in_stack_0000ff1c,
                                              CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    }
    piVar12 = (int16 *)&DAT_10a8_0001;
    uVar1 = 0x11b7;
  }
  FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                (int16)CONCAT106(in_stack_0000ff1c,
                                 CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI))));
  local_a = 4;
  iVar7 = local_c;
  if (local_c < 5) {
    iVar7 = 4;
  }
  local_c = 4;
  local_e = PTR_DAT_10a8_0000_10a8_5794 + (int)local_e;
  if (local_4a < 3) goto LAB_1058_1dfc;
  iVar2 = FUN_1020_37a6((int)PTR_DAT_10a8_0000_10a8_1146,(int)PTR_DAT_10a8_0001_10a8_00c0);
  local_6 = CONCAT22(in_DX,iVar2);
  iVar2 = FUN_1020_3626((int)&local_4e,unaff_SS,(int)PTR_DAT_10a8_0001_10a8_00c0);
  if (iVar2 < 0) {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar12 = (int16 *)0x0;
    piVar3 = param_2;
    uVar1 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_1146);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar12 = (int16 *)0x0;
    piVar3 = param_2;
    uVar1 = FUN_1018_5112(0x1a8);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    local_8 = _WSPRINTF((int16 *)&DAT_10a8_86de,&UNK_11b9_10a8,(LPCSTR)CONCAT22(-iVar2,0x10a8),
                        unaff_SI);
    FUN_1018_5318(param_1,&local_c,local_e,(int)&DAT_10a8_86de,local_8,
                  (LPCSTR)CONCAT22(unaff_SI,param_2),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar12 = (int16 *)&DAT_10a8_0003;
    piVar3 = param_2;
    uVar1 = FUN_1018_5112(0x1ad);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    if (iVar7 < local_c) {
      iVar7 = local_c;
    }
    local_c = 4;
    local_e = local_e + (int)PTR_DAT_10a8_0000_10a8_5794;
    if (local_4e._2_2_ == PTR_DAT_10a8_0001_10a8_00c0) {
      uVar6 = 0x1a9;
    }
    else {
      uVar6 = 0x1aa;
    }
LAB_1058_1bbe:
    piVar12 = (int16 *)0x0;
    piVar3 = param_2;
    uVar1 = FUN_1018_5112(uVar6);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
  }
  else {
    if (local_4e._2_2_ != PTR_DAT_10a8_0001_10a8_00c0) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff26,
                                    CONCAT104(in_stack_0000ff1c,
                                              CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
      piVar12 = (int16 *)0x0;
      piVar3 = param_2;
      uVar1 = FUN_1018_5112(0x1a2);
      FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                    (int16)CONCAT106(in_stack_0000ff1c,
                                     CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)
                                             )));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff26,
                                    CONCAT104(in_stack_0000ff1c,
                                              CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
      piVar12 = (int16 *)0x0;
      piVar3 = param_2;
      uVar1 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_1146);
      FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                    (int16)CONCAT106(in_stack_0000ff1c,
                                     CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)
                                             )));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff26,
                                    CONCAT104(in_stack_0000ff1c,
                                              CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
      piVar12 = (int16 *)0x0;
      piVar3 = param_2;
      uVar1 = FUN_1018_5112(0x1a1);
      FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                    (int16)CONCAT106(in_stack_0000ff1c,
                                     CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)
                                             )));
      if (iVar7 < local_c) {
        iVar7 = local_c;
      }
      local_c = 4;
      local_e = local_e + (int)PTR_DAT_10a8_0000_10a8_5794;
      piVar12 = (int16 *)0x0;
      piVar3 = param_2;
      uVar1 = FUN_1018_5112(0x1a0);
      FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                    (int16)CONCAT106(in_stack_0000ff1c,
                                     CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)
                                             )));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff26,
                                    CONCAT104(in_stack_0000ff1c,
                                              CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
      local_8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x11c410a8,
                          (LPCSTR)CONCAT22((int)local_6,0x10a8),(VA_LIST16)(local_6 >> 0x10));
      FUN_1018_5318(param_1,&local_c,local_e,(int)&DAT_10a8_86de,local_8,
                    (LPCSTR)CONCAT22(unaff_SI,param_2),
                    (int16)CONCAT106(in_stack_0000ff1c,
                                     CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)
                                             )));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff26,
                                    CONCAT104(in_stack_0000ff1c,
                                              CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
      uVar6 = 0x19f;
      goto LAB_1058_1bbe;
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar12 = (int16 *)0x0;
    piVar3 = param_2;
    uVar1 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_1146);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar12 = (int16 *)0x0;
    piVar3 = param_2;
    uVar1 = FUN_1018_5112(0x1ab);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    local_a = iVar7;
    if (iVar7 < local_c) {
      local_a = local_c;
    }
    local_c = 4;
    local_e = local_e + (int)PTR_DAT_10a8_0000_10a8_5794;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar3 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x11be10a8,
                       (LPCSTR)CONCAT22((int)local_6,0x10a8),(VA_LIST16)(local_6 >> 0x10));
    FUN_1018_5318(param_1,&local_c,local_e,(int)&DAT_10a8_86de,piVar3,
                  (LPCSTR)CONCAT22(unaff_SI,param_2),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    piVar12 = (int16 *)0x0;
    piVar3 = param_2;
    uVar1 = FUN_1018_5112(0x19f);
    FUN_1018_5318(param_1,&local_c,local_e,uVar1,piVar12,(LPCSTR)CONCAT22(unaff_SI,piVar3),
                  (int16)CONCAT106(in_stack_0000ff1c,
                                   CONCAT24(in_stack_0000ff1a,CONCAT22(in_stack_0000ff18,unaff_DI)))
                 );
    iVar7 = local_a;
  }
  if (iVar7 < local_c) {
    iVar7 = local_c;
  }
  local_c = 4;
  local_e = local_e + (int)PTR_DAT_10a8_0000_10a8_5794;
  if (((local_4e._2_2_ == PTR_DAT_10a8_0001_10a8_00c0) && (-1 < iVar2)) &&
     (local_1c < (long)local_6)) {
    uVar8 = 0;
    uVar9 = 0;
    uVar1 = 4;
    iVar5 = iVar7;
    piVar3 = param_2;
    iVar4 = FUN_1018_50de(0x16c,&stack0xff1c);
    FUN_1018_5366(param_1,&local_c,&local_e,&stack0xff1c,iVar4,uVar1,iVar5,uVar8,uVar9,piVar3);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    uVar10 = 0;
    uVar13 = 0;
    uVar8 = 0;
    uVar9 = 4;
    iVar5 = iVar7;
    piVar3 = param_2;
    uVar1 = FUN_1010_1074((uint)local_4e);
    FUN_1018_5366(param_1,&local_c,&local_e,uVar1,uVar8,uVar9,iVar5,uVar10,uVar13,piVar3);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    if (iVar2 == 0) {
      local_8 = (int16 *)FUN_1018_50de(0x16f,(char *)&DAT_10a8_86de);
    }
    else {
      iVar2 = *(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x7789) * iVar2;
      iVar5 = iVar2 / 100;
      if ((double)iVar5 < _PTR_DAT_10a8_0000_10a8_5290) {
        valist = (VA_LIST16)(iVar2 % -100);
        uVar1 = FUN_1018_5112(0x16e);
        local_8 = _WSPRINTF((int16 *)&stack0xff1c,(LPSTR)CONCAT22(uVar1,unaff_SS),
                            (LPCSTR)CONCAT22(iVar5,0x10a8),valist);
      }
      else {
        uVar1 = FUN_1018_5112(0x16d);
        local_8 = _WSPRINTF((int16 *)&stack0xff1c,(LPSTR)CONCAT22(uVar1,unaff_SS),
                            (LPCSTR)CONCAT22(iVar5,0x10a8),unaff_SI);
      }
    }
    local_6._2_2_ = &stack0xff1c;
  }
  else {
    if ((local_4e._2_2_ == PTR_DAT_10a8_0001_10a8_00c0) || (local_4e._2_2_ == (undefined *)0xffff))
    goto LAB_1058_1dfc;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    uVar9 = 0;
    uVar10 = 0;
    uVar1 = 0;
    uVar8 = 4;
    iVar2 = iVar7;
    piVar3 = param_2;
    uVar6 = FUN_1010_1074((uint)local_4e);
    local_6 = local_6 & 0xffff | (ulong)uVar6 << 0x10;
    FUN_1018_5366(param_1,&local_c,&local_e,uVar6,uVar1,uVar8,iVar2,uVar9,uVar10,piVar3);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff26,
                                  CONCAT104(in_stack_0000ff1c,
                                            CONCAT22(in_stack_0000ff1a,in_stack_0000ff18))));
    if ((local_36 & 0xf000) == 0) {
      local_8 = (int16 *)FUN_1018_50de(0x13f,(char *)&DAT_10a8_86de);
    }
    else {
      uVar6 = FUN_1018_5112(0x140);
      local_6 = local_6 & 0xffff | (ulong)uVar6 << 0x10;
      local_8 = _WSPRINTF((int16 *)&stack0xff1c,(LPSTR)CONCAT22(uVar6,unaff_SS),
                          (LPCSTR)CONCAT22((local_36 >> 0xc) * 6,0x10a8),unaff_SI);
      local_6 = local_6 & 0xffff | ZEXT24(&stack0xff1c) << 0x10;
    }
  }
  FUN_1018_5366(param_1,&local_c,&local_e,local_6._2_2_,local_8,4,iVar7,0,0,param_2);
LAB_1058_1dfc:
  return iVar7 + 4;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1058_1e16(undefined4 param_1,int param_2)

{
  char *pcVar1;
  char *pcVar2;
  undefined2 uVar3;
  undefined *puVar4;
  uint uVar5;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  undefined *puVar6;
  HRGN16 unaff_DI;
  char *pcVar7;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  int16 *piVar8;
  undefined2 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  int iVar9;
  int iVar10;
  int iVar11;

  iVar11 = 4;
  pcVar2 = (char *)&PTR_LOOP_10a8_0004;
  iVar9 = 4;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(4,CONCAT26(4,CONCAT24(4,
                                                  CONCAT22(in_stack_0000fff6,in_stack_0000fff4))))))
                               ));
  if (param_2 != 0) {
    pcVar2 = (char *)FUN_1018_5112(0x1c8);
    uVar5 = 0xffff;
    pcVar7 = pcVar2;
    do {
      if (uVar5 == 0) break;
      uVar5 = uVar5 - 1;
      pcVar1 = pcVar7;
      pcVar7 = pcVar7 + 1;
    } while (*pcVar1 != '\0');
    FUN_1018_52da((HRGN16)param_1,(int)((ulong)param_1 >> 0x10),4,pcVar2,(int16 *)(~uVar5 - 1),
                  (LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                  (int16)CONCAT214(in_stack_00000002,
                                   CONCAT212(in_stack_00000000,
                                             CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(iVar9,CONCAT22(in_stack_0000fff6,
                                                                          in_stack_0000fff4))))))));
  }
  puVar6 = PTR_DAT_10a8_0000_10a8_5794 + 4;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(iVar9,CONCAT22(in_stack_0000fff6,
                                                                          in_stack_0000fff4))))))));
  piVar8 = (int16 *)0x0;
  iVar10 = param_2;
  uVar3 = FUN_1018_5112(0x19c);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar10),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar9,
                                                  CONCAT24(in_stack_0000fff6,
                                                           CONCAT22(in_stack_0000fff4,unaff_DI))))))
                                ));
  if (4 < iVar9) {
    iVar11 = iVar9;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)PTR_DAT_10a8_0000_10a8_5794;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x19b);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)PTR_DAT_10a8_0000_10a8_5794;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x19a);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)PTR_DAT_10a8_0000_10a8_5794;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x199);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)PTR_DAT_10a8_0000_10a8_5794 * 2;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(4,CONCAT22(in_stack_0000fff6,
                                                                      in_stack_0000fff4))))))));
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x198);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(iVar10,CONCAT22(in_stack_0000fff6,
                                                                           in_stack_0000fff4))))))))
  ;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x194);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)PTR_DAT_10a8_0000_10a8_5794;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x197);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)(PTR_DAT_10a8_0000_10a8_5794 + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(4,CONCAT22(in_stack_0000fff6,
                                                                      in_stack_0000fff4))))))));
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x19e);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(iVar10,CONCAT22(in_stack_0000fff6,
                                                                           in_stack_0000fff4))))))))
  ;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x194);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)PTR_DAT_10a8_0000_10a8_5794;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x196);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)(PTR_DAT_10a8_0000_10a8_5794 + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(4,CONCAT22(in_stack_0000fff6,
                                                                      in_stack_0000fff4))))))));
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x195);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(iVar10,CONCAT22(in_stack_0000fff6,
                                                                           in_stack_0000fff4))))))))
  ;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x194);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)PTR_DAT_10a8_0000_10a8_5794;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x193);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)(PTR_DAT_10a8_0000_10a8_5794 + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(4,CONCAT22(in_stack_0000fff6,
                                                                      in_stack_0000fff4))))))));
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x192);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(iVar10,CONCAT22(in_stack_0000fff6,
                                                                           in_stack_0000fff4))))))))
  ;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(400);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar6 = puVar6 + (int)PTR_DAT_10a8_0000_10a8_5794;
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(399);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  if (iVar11 < iVar10) {
    iVar11 = iVar10;
  }
  iVar10 = 4;
  puVar4 = PTR_DAT_10a8_0000_10a8_5794 + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(4,CONCAT22(in_stack_0000fff6,
                                                                      in_stack_0000fff4))))))));
  piVar8 = (int16 *)0x0;
  iVar9 = param_2;
  uVar3 = FUN_1018_5112(0x191);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6 + (int)puVar4,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,iVar9),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_00000002,
                                CONCAT212(in_stack_00000000,
                                          CONCAT210(unaff_BP,CONCAT28(pcVar2,CONCAT26(iVar11,
                                                  CONCAT24(iVar10,CONCAT22(in_stack_0000fff6,
                                                                           in_stack_0000fff4))))))))
  ;
  piVar8 = (int16 *)0x0;
  uVar3 = FUN_1018_5112(0x18e);
  FUN_1018_5318((HRGN16)param_1,(int *)&stack0xfff8,puVar6 + (int)puVar4,uVar3,piVar8,
                (LPCSTR)CONCAT22(unaff_SI,param_2),
                (int16)CONCAT214(in_stack_00000000,
                                 CONCAT212(unaff_BP,CONCAT210(pcVar2,CONCAT28(iVar11,CONCAT26(iVar10
                                                  ,CONCAT24(in_stack_0000fff6,
                                                            CONCAT22(in_stack_0000fff4,unaff_DI)))))
                                          )));
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1058_2294(HRGN16 param_1,int param_2,int param_3)

{
  int16 *piVar1;
  VA_LIST16 valist;
  HRGN16 unaff_SI;
  undefined *puVar2;
  HRGN16 unaff_DI;
  VA_LIST16 pWVar3;
  LPCSTR pcVar4;
  undefined2 in_stack_0000ffe8;
  undefined2 in_stack_0000ffea;
  undefined2 uVar5;
  int iVar6;
  int iVar7;
  undefined *puVar8;
  undefined2 in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  undefined2 uVar9;
  VA_LIST16 pWVar10;
  uint local_6;
  uint local_4;

  pcVar4 = (LPCSTR)CONCAT22(unaff_DI,unaff_SI);
  local_6 = 0x7d;
  uVar5 = 4;
  iVar6 = 4;
  iVar7 = 2;
  if (PTR_DAT_10a8_0000_10a8_114e == (undefined *)0x0) {
    pWVar3 = (VA_LIST16)0x11dc;
    pWVar10 = (VA_LIST16)s_Mines_10a8_11e1;
  }
  else {
    pWVar3 = (VA_LIST16)s_Factory_10a8_11ca;
    pWVar10 = (VA_LIST16)s_Factories_10a8_11d2;
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(pWVar10,CONCAT212(in_stack_0000fff4,
                                                  CONCAT210(in_stack_0000fff2,
                                                            CONCAT28(2,CONCAT26(4,CONCAT24(4,
                                                  CONCAT22(in_stack_0000ffea,in_stack_0000ffe8))))))
                               ));
  if (param_3 != 0) {
    piVar1 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x11e710a8,(LPCSTR)CONCAT22(pWVar3,0x10a8),
                       (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
    FUN_1018_52da(param_1,param_2 + -8 >> 1,iVar7,(int)&DAT_10a8_86de,piVar1,pcVar4,
                  (int16)CONCAT214(pWVar10,CONCAT212(in_stack_0000fff4,
                                                     CONCAT210(in_stack_0000fff2,
                                                               CONCAT28(iVar7,CONCAT26(iVar6,
                                                  CONCAT24(uVar5,CONCAT22(in_stack_0000ffea,
                                                                          in_stack_0000ffe8))))))));
  }
  puVar8 = PTR_DAT_10a8_0000_10a8_5794 + iVar7 + 4;
  local_4 = 0;
  uVar9 = in_stack_0000fff4;
  do {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)pcVar4,
                 (HRGN16)((ulong)pcVar4 >> 0x10),
                 (int16)CONCAT214(pWVar10,CONCAT212(uVar9,CONCAT210(pWVar3,CONCAT28(puVar8,CONCAT26(
                                                  iVar6,CONCAT24(uVar5,CONCAT22(in_stack_0000ffea,
                                                                                in_stack_0000ffe8)))
                                                  )))));
    if (8 < local_4) goto switchD_1058_2334_caseD_9;
    switch(local_4) {
    default:
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)(VA_LIST16)pcVar4,
                   (HRGN16)((ulong)pcVar4 >> 0x10),
                   (int16)CONCAT214(pWVar10,CONCAT212(uVar9,CONCAT210(pWVar3,CONCAT28(puVar8,
                                                  CONCAT26(iVar6,CONCAT24(uVar5,CONCAT22(
                                                  in_stack_0000ffea,in_stack_0000ffe8))))))));
      in_stack_0000fff4 = FUN_1018_5112(local_6);
      local_6 = local_6 + 1;
      break;
    case 1:
      puVar2 = PTR_DAT_10a8_0000_10a8_114a;
      goto LAB_1058_2382;
    case 3:
      in_stack_0000fff4 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_1146);
      break;
    case 5:
      puVar2 = _DAT_10a8_1148;
LAB_1058_2382:
      valist = pWVar10;
      if (puVar2 == (undefined *)&DAT_10a8_0001) {
        valist = pWVar3;
      }
      _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x11ef10a8,(LPCSTR)CONCAT22(puVar2,0x10a8),valist);
      uVar9 = SUB42(&DAT_10a8_86de,0);
      in_stack_0000fff4 = SUB42(&DAT_10a8_86de,0);
      break;
    case 7:
      _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x11f510a8,
                (LPCSTR)CONCAT22(PTR_DAT_10a8_0000_10a8_114c,0x10a8),(VA_LIST16)pcVar4);
      in_stack_0000fff4 = SUB42(&DAT_10a8_86de,0);
    }
switchD_1058_2334_caseD_9:
    FUN_1018_5366(param_1,&stack0xffec,&stack0xfff0,in_stack_0000fff4,0,4,param_2 + -8,&stack0xffee,
                  0,param_3);
    local_4 = local_4 + 1;
    if (8 < (int)local_4) {
      return iVar6 + 4;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int __cdecl16far FUN_1058_2416(HRGN16 param_1,int param_2,int param_3)

{
  char *pcVar1;
  undefined *puVar2;
  uint uVar3;
  HRGN16 unaff_SI;
  HRGN16 unaff_DI;
  char *pcVar4;
  LPCSTR pcVar5;
  undefined2 in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  undefined2 uVar6;
  int iVar7;
  int iVar8;
  undefined *puVar9;
  char *in_stack_0000fff6;
  undefined2 in_stack_0000fff8;
  uint uVar10;

  pcVar5 = (LPCSTR)CONCAT22(unaff_DI,unaff_SI);
  uVar10 = 0xa5;
  uVar6 = 4;
  iVar7 = 4;
  iVar8 = 2;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(0xa5,CONCAT212(in_stack_0000fff8,
                                               CONCAT210(in_stack_0000fff6,
                                                         CONCAT28(2,CONCAT26(4,CONCAT24(4,CONCAT22(
                                                  in_stack_0000ffee,in_stack_0000ffec))))))));
  if (param_3 != 0) {
    in_stack_0000fff6 = (char *)FUN_1018_5112(0x18d);
    uVar3 = 0xffff;
    pcVar4 = in_stack_0000fff6;
    do {
      if (uVar3 == 0) break;
      uVar3 = uVar3 - 1;
      pcVar1 = pcVar4;
      pcVar4 = pcVar4 + 1;
    } while (*pcVar1 != '\0');
    FUN_1018_52da(param_1,param_2 + -8 >> 1,iVar8,in_stack_0000fff6,(int16 *)(~uVar3 - 1),pcVar5,
                  (int16)CONCAT214(uVar10,CONCAT212(in_stack_0000fff8,
                                                    CONCAT210(in_stack_0000fff6,
                                                              CONCAT28(iVar8,CONCAT26(iVar7,CONCAT24
                                                  (uVar6,CONCAT22(in_stack_0000ffee,
                                                                  in_stack_0000ffec))))))));
  }
  puVar9 = PTR_DAT_10a8_0000_10a8_5794 + iVar8 + 4;
  uVar3 = 0;
  pcVar4 = in_stack_0000fff6;
  do {
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)pcVar5,
                 (HRGN16)((ulong)pcVar5 >> 0x10),
                 (int16)CONCAT214(uVar10,CONCAT212(uVar3,CONCAT210(pcVar4,CONCAT28(puVar9,CONCAT26(
                                                  iVar7,CONCAT24(uVar6,CONCAT22(in_stack_0000ffee,
                                                                                in_stack_0000ffec)))
                                                  )))));
    if (8 < uVar3) goto switchD_1058_24a1_caseD_9;
    switch(uVar3) {
    case 0:
      in_stack_0000fff6 = (char *)FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_1146);
      break;
    default:
      goto switchD_1058_24a1_caseD_1;
    case 2:
      puVar2 = _DAT_10a8_1148;
      goto LAB_1058_24f8;
    case 4:
      puVar2 = _DAT_10a8_1148 + -(int)PTR_DAT_10a8_0000_10a8_114a;
      if (0 < (int)(_DAT_10a8_1148 + -(int)PTR_DAT_10a8_0000_10a8_114a)) goto LAB_1058_24f8;
      in_stack_0000fff6 = (char *)FUN_1018_5112(0x1c2);
      break;
    case 6:
      if (_DAT_10a8_1148 == PTR_DAT_10a8_0000_10a8_114a) goto LAB_1058_2557;
switchD_1058_24a1_caseD_1:
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)(VA_LIST16)pcVar5,
                   (HRGN16)((ulong)pcVar5 >> 0x10),
                   (int16)CONCAT214(uVar10,CONCAT212(uVar3,CONCAT210(pcVar4,CONCAT28(puVar9,CONCAT26
                                                  (iVar7,CONCAT24(uVar6,CONCAT22(in_stack_0000ffee,
                                                                                 in_stack_0000ffec))
                                                  ))))));
      in_stack_0000fff6 = (char *)FUN_1018_5112(uVar10);
      uVar10 = uVar10 + 1;
      break;
    case 7:
      puVar2 = PTR_DAT_10a8_0000_10a8_114a;
LAB_1058_24f8:
      _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x11f810a8,(LPCSTR)CONCAT22(puVar2,0x10a8),
                (VA_LIST16)pcVar5);
      in_stack_0000fff6 = (char *)&DAT_10a8_86de;
    }
switchD_1058_24a1_caseD_9:
    FUN_1018_5366(param_1,&stack0xfff0,&stack0xfff4,in_stack_0000fff6,0x40000,param_2 + -8,
                  &stack0xfff2,0,param_3);
    uVar3 = uVar3 + 1;
  } while ((int)uVar3 < 9);
LAB_1058_2557:
  return iVar7 + 4;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

int __cdecl16far FUN_1058_2578(HRGN16 param_1,int param_2,undefined2 param_3)

{
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  undefined4 in_stack_00000000;
  HRGN16 in_stack_0000fff4;
  undefined2 in_stack_0000fff6;
  int iVar1;

  iVar1 = 4;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,unaff_SI,in_stack_0000fff4,
               (int16)CONCAT610(CONCAT24(param_1,in_stack_00000000),
                                CONCAT28(unaff_BP,CONCAT26(4,CONCAT24(2,CONCAT22(4,in_stack_0000fff6
                                                                                ))))));
  FUN_1018_5366(param_1,&stack0xfff8,&stack0xfffa,_DAT_10a8_1148,0x40000,param_2 + -8,&stack0xfffc,0
                ,param_3);
  return iVar1 + 4;
}



int __cdecl16far FUN_1058_25e2(HRGN16 param_1,int param_2,int param_3)

{
  int iVar1;
  int16 *piVar2;
  int iVar3;
  HRGN16 unaff_SI;
  uint uVar4;
  uint uVar5;
  HRGN16 unaff_DI;
  int iVar6;
  undefined *puVar7;
  undefined2 uVar8;
  int iVar9;
  LPCSTR pcVar10;
  undefined2 in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  int iVar11;
  undefined2 uVar12;
  undefined2 uVar13;
  int iVar14;
  undefined *puVar15;
  undefined2 in_stack_0000fff8;
  uint uVar16;
  undefined2 in_stack_0000fffa;
  undefined2 in_stack_0000fffc;

  pcVar10 = (LPCSTR)CONCAT22(unaff_DI,unaff_SI);
  iVar1 = param_2 + -8;
  iVar11 = 4;
  uVar12 = 4;
  iVar14 = 2;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000fffc,
                                CONCAT212(in_stack_0000fffa,
                                          CONCAT210(in_stack_0000fff8,
                                                    CONCAT28(2,CONCAT26(4,CONCAT24(4,CONCAT22(
                                                  in_stack_0000fff0,in_stack_0000ffee))))))));
  uVar16 = 0xd8;
  piVar2 = (int16 *)FUN_1018_50de(0xd7,(char *)&DAT_10a8_86de);
  if (param_3 != 0) {
    FUN_1018_52da(param_1,(iVar1 >> 1) + 4,iVar14,(int)&DAT_10a8_86de,piVar2,pcVar10,
                  (int16)CONCAT214(in_stack_0000fffc,
                                   CONCAT212(piVar2,CONCAT210(uVar16,CONCAT28(iVar14,CONCAT26(uVar12
                                                  ,CONCAT24(iVar11,CONCAT22(in_stack_0000fff0,
                                                                            in_stack_0000ffee)))))))
                 );
  }
  puVar15 = PTR_DAT_10a8_0000_10a8_5794 + iVar14;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)pcVar10,
               (HRGN16)((ulong)pcVar10 >> 0x10),
               (int16)CONCAT214(in_stack_0000fffc,
                                CONCAT212(piVar2,CONCAT210(uVar16,CONCAT28(puVar15,CONCAT26(uVar12,
                                                  CONCAT24(iVar11,CONCAT22(in_stack_0000fff0,
                                                                           in_stack_0000ffee))))))))
  ;
  iVar14 = 2;
  uVar5 = uVar16;
  do {
    uVar8 = 0;
    puVar7 = &stack0xfff2;
    uVar12 = 4;
    uVar4 = uVar5 + 1;
    iVar6 = iVar1;
    iVar9 = param_3;
    iVar3 = FUN_1018_50de(uVar5,(char *)&DAT_10a8_86de);
    FUN_1018_5366(param_1,&stack0xfff4,&stack0xfff6,(int)&DAT_10a8_86de,iVar3,uVar12,iVar6,puVar7,
                  uVar8,iVar9);
    iVar14 = iVar14 + -1;
    uVar5 = uVar4;
  } while (iVar14 != 0);
  iVar14 = 8;
  do {
    uVar13 = 4;
    puVar15 = puVar15 + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)pcVar10,
                 (HRGN16)((ulong)pcVar10 >> 0x10),
                 (int16)CONCAT214(iVar14,CONCAT212(piVar2,CONCAT210(uVar16,CONCAT28(puVar15,CONCAT26
                                                  (4,CONCAT24(iVar11,CONCAT22(in_stack_0000fff0,
                                                                              in_stack_0000ffee)))))
                                                  )));
    uVar8 = 0;
    puVar7 = &stack0xfff2;
    uVar12 = 4;
    uVar5 = uVar4 + 1;
    iVar6 = iVar1;
    iVar9 = param_3;
    piVar2 = (int16 *)FUN_1018_50de(uVar4,(char *)&DAT_10a8_86de);
    FUN_1018_5366(param_1,&stack0xfff4,&stack0xfff6,(int)&DAT_10a8_86de,piVar2,uVar12,iVar6,puVar7,
                  uVar8,iVar9);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,param_1,(HRGN16)pcVar10,
                 (HRGN16)((ulong)pcVar10 >> 0x10),
                 (int16)CONCAT214(iVar14,CONCAT212(piVar2,CONCAT210(uVar16,CONCAT28(puVar15,CONCAT26
                                                  (uVar13,CONCAT24(iVar11,CONCAT22(in_stack_0000fff0
                                                                                   ,
                                                  in_stack_0000ffee))))))));
    uVar8 = 0;
    puVar7 = &stack0xfff2;
    uVar12 = 4;
    uVar4 = uVar4 + 2;
    iVar6 = iVar1;
    iVar9 = param_3;
    iVar3 = FUN_1018_50de(uVar5,(char *)&DAT_10a8_86de);
    FUN_1018_5366(param_1,&stack0xfff4,&stack0xfff6,(int)&DAT_10a8_86de,iVar3,uVar12,iVar6,puVar7,
                  uVar8,iVar9);
    iVar14 = iVar14 + -1;
  } while (iVar14 != 0);
  return iVar11 + 4;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1060_0000(undefined4 param_1)

{
  int iVar1;
  void *func;

                    // Segment:    13
                    // Offset:     00041440
                    // Length:     3a12
                    // Min Alloc:  3a12
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  _PTR_DAT_10a8_0000_10a8_82bc = param_1;
  iVar1 = FUN_1060_2d74(0);
  if (iVar1 == 0) {
    _PTR_DAT_10a8_0000_10a8_830e = 0;
  }
  else {
    _PTR_DAT_10a8_0000_10a8_830e = CONCAT22(0x10a8,iVar1);
  }
  func = MAKEPROCINSTANCE((void *)CONCAT22(0x134,PTR_DAT_10a8_0000_10a8_839a),0x1060);
  DIALOGBOX((int16 *)func,(HINSTANCE16)((ulong)func >> 0x10),
            (LPCSTR)CONCAT22(0x5c,PTR_DAT_10a8_0000_10a8_58b4),0,PTR_DAT_10a8_0000_10a8_839a);
  FREEPROCINSTANCE(func);
  if ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001) &&
     (_PTR_DAT_10a8_0000_10a8_7c0e != 0)) {
    FUN_1020_3370(PTR_DAT_10a8_0000_10a8_8346,_PTR_DAT_10a8_0000_10a8_7c0e);
  }
  return 0;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1060_0082(undefined2 param_1,int param_2)

{
  HWND16 HVar1;
  HWND16 hwnd;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  undefined4 in_stack_00000000;

  HVar1 = GETDLGITEM(0x410,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                              CONCAT26(unaff_BP,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))));
  SHOWWINDOW(param_2,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                        CONCAT26(unaff_BP,CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,HVar1))))));
  HVar1 = GETDLGITEM(0x412,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                              CONCAT26(unaff_BP,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))));
  SHOWWINDOW(param_2,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                        CONCAT26(unaff_BP,CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,HVar1))))));
  HVar1 = GETDLGITEM(0x411,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                              CONCAT26(unaff_BP,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))));
  SHOWWINDOW(param_2,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                        CONCAT26(unaff_BP,CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,HVar1))))));
  HVar1 = GETDLGITEM(0x40c,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                              CONCAT26(unaff_BP,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))));
  SHOWWINDOW(param_2,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                        CONCAT26(unaff_BP,CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,HVar1))))));
  HVar1 = GETDLGITEM(0x40d,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                              CONCAT26(unaff_BP,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))));
  SHOWWINDOW(param_2,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                        CONCAT26(unaff_BP,CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,HVar1))))));
  HVar1 = GETDLGITEM(0x40e,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                              CONCAT26(unaff_BP,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))));
  SHOWWINDOW(param_2,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                        CONCAT26(unaff_BP,CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,HVar1))))));
  HVar1 = GETDLGITEM(0x40f,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                              CONCAT26(unaff_BP,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))));
  SHOWWINDOW(param_2,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                        CONCAT26(unaff_BP,CONCAT24(unaff_DI,CONCAT22
                                                  (unaff_SI,HVar1))))));
  HVar1 = GETDLGITEM(1,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                          CONCAT26(unaff_BP,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1))))));
  if (param_2 == 5) {
    hwnd = 0;
  }
  else {
    hwnd = 5;
  }
  SHOWWINDOW(hwnd,(int16)CONCAT412(_param_1,CONCAT48(in_stack_00000000,
                                                     CONCAT26(unaff_BP,CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,HVar1))))));
  if (param_2 == 5) {
    HVar1 = 0x1312;
  }
  else {
    HVar1 = (HWND16)s_Cancel_10a8_1317;
  }
  SETDLGITEMTEXT(HVar1,(int16)CONCAT412(in_stack_00000000,
                                        CONCAT210(unaff_BP,CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_1,0x210a8))))),_param_1);
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: ram

ulong __stdcall16far
SLOTDLG(HWND16 param_1,undefined *param_2_00,uint param_3,uint param_4,int16 *param_5)

{
  byte *pbVar1;
  char *pcVar2;
  uint *puVar3;
  undefined4 *puVar4;
  undefined2 *puVar5;
  undefined4 *puVar6;
  bool bVar7;
  char cVar8;
  int16 *piVar9;
  int iVar10;
  HWND16 HVar11;
  bool16 bVar12;
  int iVar13;
  undefined4 *puVar14;
  undefined4 *puVar15;
  undefined2 uVar16;
  undefined *puVar17;
  uint in_DX;
  undefined4 *puVar18;
  word unaff_SI;
  HWND16 HVar19;
  uint uVar20;
  undefined2 unaff_DI;
  undefined2 *puVar21;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar22;
  long lVar23;
  dword dVar24;
  LRESULT LVar25;
  undefined2 uVar26;
  VA_LIST16 pWVar27;
  undefined uVar28;
  undefined uVar29;
  WPARAM16 wparam;
  undefined uVar30;
  undefined uVar31;
  undefined uVar32;
  undefined uVar33;
  HRGN16 in_stack_0000ffae;
  int in_stack_0000ffb0;
  undefined2 in_stack_0000ffb2;
  WPARAM16 in_stack_0000ffb4;
  undefined2 in_stack_0000ffb6;
  WPARAM16 in_stack_0000ffb8;
  undefined2 in_stack_0000ffba;
  word in_stack_0000ffbc;
  undefined2 in_stack_0000ffbe;
  undefined2 in_stack_0000ffc0;
  undefined2 in_stack_0000ffc2;
  undefined2 in_stack_0000ffc4;
  unkbyte10 in_stack_0000ffc6;
  undefined2 in_stack_0000ffd0;
  undefined2 in_stack_0000ffd2;
  int in_stack_0000ffd4;
  int in_stack_0000ffd6;
  int in_stack_0000ffd8;
  int in_stack_0000ffda;
  int in_stack_0000ffdc;
  int in_stack_0000ffde;
  word in_stack_0000ffe0;
  word in_stack_0000ffe2;
  uint local_1c;
  undefined *local_1a;
  uint local_18;
  int local_16;
  uint local_14;
  uint local_12;
  uint local_10;
  uint local_e;
  uint local_c;
  ulong local_a;
  undefined4 local_6;

  uVar32 = (undefined)unaff_DI;
  uVar33 = (undefined)((uint)unaff_DI >> 8);
  if (param_4 == 0x2b) {
    local_6 = local_6 & 0xffff | ZEXT24(param_2_00) << 0x10;
    if (*(int *)(param_1 + 4) == -1) {
      FUN_1020_3122(param_1,(HBRUSH16)param_2_00);
    }
    else {
      iVar10 = *(int *)(param_1 + 6);
      if (((iVar10 == 1) || (iVar10 == 2)) || (iVar10 == 4)) {
        FUN_1060_2bc4(param_1,(HBRUSH16)param_2_00,0xfffc,
                      CONCAT26(in_stack_0000ffb0,
                               CONCAT24(in_stack_0000ffae,CONCAT13(uVar33,CONCAT12(uVar32,unaff_SI))
                                       )),
                      (int16)CONCAT214(in_stack_0000ffc0,
                                       CONCAT212(in_stack_0000ffbe,
                                                 CONCAT210(in_stack_0000ffbc,
                                                           CONCAT28(in_stack_0000ffba,
                                                                    CONCAT26(in_stack_0000ffb8,
                                                                             CONCAT24(
                                                  in_stack_0000ffb6,
                                                  CONCAT22(in_stack_0000ffb4,in_stack_0000ffb2))))))
                                      ),CONCAT22(in_stack_0000ffc4,in_stack_0000ffc2));
      }
    }
    goto LAB_1060_029a;
  }
  uVar30 = SUB21(param_5,0);
  uVar31 = (undefined)((uint)param_5 >> 8);
  if (param_4 < 0x2c) {
    if (param_4 == 0x20) {
      GETCURSORPOS((POINT16 *)&local_6);
      SCREENTOCLIENT((HWND16)&local_6,(POINT16 *)CONCAT22(param_5,unaff_SS));
      bVar12 = PTINRECT((RECT16 *)local_6,SUB41(local_6 >> 0x10,0));
      if ((bVar12 != 0) ||
         (bVar12 = PTINRECT((RECT16 *)local_6,SUB41(local_6 >> 0x10,0)), bVar12 != 0)) {
        SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_834a);
        goto LAB_1060_029a;
      }
    }
    else if (param_4 < 0x21) {
      cVar8 = (char)param_4;
      if (cVar8 == '\x0f') {
        piVar9 = (int16 *)BEGINPAINT((HWND16)&stack0xffb4,
                                     (PAINTSTRUCT16 *)CONCAT13(uVar31,CONCAT12(uVar30,unaff_SS)));
        if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&PTR_LOOP_10a8_0004) {
          HVar19 = GETDLGITEM(0x40c,(int16)CONCAT214(in_stack_0000ffb8,
                                                     CONCAT212(in_stack_0000ffb6,
                                                               CONCAT210(in_stack_0000ffb4,
                                                                         CONCAT28(in_stack_0000ffb2,
                                                                                  CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
          GETWINDOWRECT((HWND16)&stack0xffdc,(RECT16 *)CONCAT22(HVar19,unaff_SS));
          SCREENTOCLIENT((HWND16)&stack0xffdc,(POINT16 *)CONCAT22(param_5,unaff_SS));
          HVar19 = GETDLGITEM(0x40f,(int16)CONCAT214(in_stack_0000ffb8,
                                                     CONCAT212(in_stack_0000ffb6,
                                                               CONCAT210(in_stack_0000ffb4,
                                                                         CONCAT28(in_stack_0000ffb2,
                                                                                  CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
          GETWINDOWRECT((HWND16)&local_1c,(RECT16 *)CONCAT22(HVar19,unaff_SS));
          SCREENTOCLIENT((HWND16)&local_18,(POINT16 *)CONCAT22(param_5,unaff_SS));
          FUN_1018_5948((int *)&stack0xffdc,(int)PTR_DAT_10a8_0000_10a8_5794,
                        (int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
          FUN_1018_5bba((undefined *)piVar9,(undefined4 *)&stack0xffdc,-1,CONCAT11(uVar33,uVar32),
                        in_stack_0000ffae,in_stack_0000ffb0,in_stack_0000ffb2,in_stack_0000ffb4,
                        in_stack_0000ffb6,in_stack_0000ffb8,in_stack_0000ffba,in_stack_0000ffbc,
                        in_stack_0000ffbe,in_stack_0000ffc0,in_stack_0000ffc2);
          CVar22 = SETBKCOLOR((HDC16)_DAT_10a8_5714,
                              CONCAT22(piVar9,(int)((ulong)_DAT_10a8_5714 >> 0x10)));
          in_DX = (uint)(CVar22.value >> 0x10);
          SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)piVar9,CONCAT11(uVar33,uVar32),
                       in_stack_0000ffae,
                       (int16)CONCAT214(in_stack_0000ffbe,
                                        CONCAT212(in_stack_0000ffbc,
                                                  CONCAT210(in_stack_0000ffba,
                                                            CONCAT28(in_stack_0000ffb8,
                                                                     CONCAT26(in_stack_0000ffb6,
                                                                              CONCAT24(
                                                  in_stack_0000ffb4,
                                                  CONCAT22(in_stack_0000ffb2,in_stack_0000ffb0))))))
                                       ));
          iVar10 = -(((int)PTR_DAT_10a8_0000_10a8_5794 >> 1) - in_stack_0000ffde);
          TEXTOUT(4,(int16)CONCAT214(in_stack_0000ffb0,
                                     CONCAT212(in_stack_0000ffae,
                                               CONCAT111(uVar33,CONCAT110(uVar32,CONCAT28(piVar9,
                                                  CONCAT17((char)((uint)(in_stack_0000ffdc + 8) >> 8
                                                                 ),CONCAT16((char)(in_stack_0000ffdc
                                                                                  + 8),
                                                                            CONCAT15((char)((uint)
                                                  iVar10 >> 8),CONCAT14((char)iVar10,0x10a81325)))))
                                                  )))),
                  (int16)CONCAT214(in_stack_0000ffc0,
                                   CONCAT212(in_stack_0000ffbe,
                                             CONCAT210(in_stack_0000ffbc,
                                                       CONCAT28(in_stack_0000ffba,
                                                                CONCAT26(in_stack_0000ffb8,
                                                                         CONCAT24(in_stack_0000ffb6,
                                                                                  CONCAT22(
                                                  in_stack_0000ffb4,in_stack_0000ffb2))))))),
                  (LPCSTR)CONCAT22(in_stack_0000ffc4,in_stack_0000ffc2),
                  (int16)CONCAT214(in_stack_0000ffd4,
                                   CONCAT212(in_stack_0000ffd2,
                                             CONCAT210(in_stack_0000ffd0,in_stack_0000ffc6))));
          SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)piVar9,CONCAT11(uVar33,uVar32),
                       in_stack_0000ffae,
                       (int16)CONCAT214(in_stack_0000ffbe,
                                        CONCAT212(in_stack_0000ffbc,
                                                  CONCAT210(in_stack_0000ffba,
                                                            CONCAT28(in_stack_0000ffb8,
                                                                     CONCAT26(in_stack_0000ffb6,
                                                                              CONCAT24(
                                                  in_stack_0000ffb4,
                                                  CONCAT22(in_stack_0000ffb2,in_stack_0000ffb0))))))
                                       ));
        }
        GETCLIENTRECT((HWND16)&local_1c,(RECT16 *)CONCAT22(param_5,unaff_SS));
        FUN_1060_10d0((HWND16)param_5,piVar9,&local_1c,0xffff,CONCAT11(uVar33,uVar32),
                      in_stack_0000ffae,in_stack_0000ffb0,in_stack_0000ffb2,
                      CONCAT22(in_stack_0000ffb6,in_stack_0000ffb4));
        FUN_1060_1d90(param_5,piVar9);
        FUN_1060_23a6((HWND16)param_5,piVar9,0xffff,(undefined4 *)0x0);
        ENDPAINT((HWND16)&stack0xffb4,unaff_SS);
      }
      else {
        if (cVar8 != '\x14') {
          if (cVar8 == '\x19') {
            HVar19 = 0x40c;
            do {
              HVar11 = GETDLGITEM(HVar19,(int16)CONCAT214(in_stack_0000ffb6,
                                                          CONCAT212(in_stack_0000ffb4,
                                                                    CONCAT210(in_stack_0000ffb2,
                                                                              CONCAT28(
                                                  in_stack_0000ffb0,
                                                  CONCAT26(in_stack_0000ffae,
                                                           CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(
                                                  unaff_SI,param_5)))))))));
              if (HVar11 == param_1) break;
              HVar19 = HVar19 + 1;
            } while ((int)HVar19 < 0x410);
            if (((int)HVar19 < 0x410) ||
               (HVar19 = GETDLGITEM(0x40b,(int16)CONCAT214(in_stack_0000ffb6,
                                                           CONCAT212(in_stack_0000ffb4,
                                                                     CONCAT210(in_stack_0000ffb2,
                                                                               CONCAT28(
                                                  in_stack_0000ffb0,
                                                  CONCAT26(in_stack_0000ffae,
                                                           CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(
                                                  unaff_SI,param_5))))))))), HVar19 == param_1)) {
              uVar30 = 0xf;
              uVar31 = 0;
              CVar22 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffb4,
                                                    CONCAT212(in_stack_0000ffb2,
                                                              CONCAT210(in_stack_0000ffb0,
                                                                        CONCAT28(in_stack_0000ffae,
                                                                                 CONCAT17(uVar33,
                                                  CONCAT16(uVar32,CONCAT24(unaff_SI,CONCAT13((char)(
                                                  param_3 >> 8),CONCAT12((char)param_3,0xf))))))))))
              ;
              CVar22 = SETBKCOLOR((HDC16)CVar22.value,
                                  CONCAT13(uVar31,CONCAT12(uVar30,(int)(CVar22.value >> 0x10))));
              return CVar22.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
            }
          }
          goto LAB_1060_10c8;
        }
        GETCLIENTRECT((HWND16)&local_1c,(RECT16 *)CONCAT13(uVar31,CONCAT12(uVar30,unaff_SS)));
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_1c,(RECT16 *)unaff_SS,param_3);
      }
      goto LAB_1060_029a;
    }
    goto LAB_1060_10c8;
  }
  uVar28 = (undefined)param_1;
  uVar29 = (undefined)(param_1 >> 8);
  if (param_4 != 0x111) {
    if (param_4 < 0x112) {
      if (param_4 == 0x2c) {
        *(undefined2 *)(param_1 + 8) = 0x42;
      }
      else {
        if (param_4 != 0x110) goto LAB_1060_10c8;
        PTR_DAT_10a8_0000_10a8_87ee = (undefined *)0x0;
        PTR_DAT_10a8_0000_10a8_131e = (undefined *)param_5;
        GETWINDOWRECT((HWND16)&stack0xffd4,(RECT16 *)CONCAT13(uVar31,CONCAT12(uVar30,unaff_SS)));
        GETCLIENTRECT((HWND16)&local_1c,(RECT16 *)CONCAT13(uVar31,CONCAT12(uVar30,unaff_SS)));
        SETWINDOWPOS(6,(HWND16)(PTR_DAT_10a8_0000_10a8_82be +
                               ((in_stack_0000ffda - in_stack_0000ffd6) - local_16)),
                     (int16)CONCAT214(in_stack_0000ffae,
                                      CONCAT113(uVar33,CONCAT112(uVar32,CONCAT210(unaff_SI,CONCAT19(
                                                  uVar31,CONCAT18(uVar30,ZEXT28(
                                                  PTR_DAT_10a8_0000_10a8_82bc +
                                                  ((in_stack_0000ffd8 - in_stack_0000ffd4) -
                                                  local_18)))))))),
                     (int16)CONCAT214(in_stack_0000ffbe,
                                      CONCAT212(in_stack_0000ffbc,
                                                CONCAT210(in_stack_0000ffba,
                                                          CONCAT28(in_stack_0000ffb8,
                                                                   CONCAT26(in_stack_0000ffb6,
                                                                            CONCAT24(
                                                  in_stack_0000ffb4,
                                                  CONCAT22(in_stack_0000ffb2,in_stack_0000ffb0))))))
                                     ),
                     (int16)CONCAT106(in_stack_0000ffc6,
                                      CONCAT24(in_stack_0000ffc4,
                                               CONCAT22(in_stack_0000ffc2,in_stack_0000ffc0))),
                     (int16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(in_stack_0000ffda,
                                                          CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT26(in_stack_0000ffd6,
                                                                            CONCAT24(
                                                  in_stack_0000ffd4,
                                                  CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))))
                                     ),in_stack_0000ffe0);
        FUN_1018_5a04(param_5,(int *)0x130c,1,unaff_SI,
                      (int16)CONCAT214(in_stack_0000ffba,
                                       CONCAT212(in_stack_0000ffb8,
                                                 CONCAT210(in_stack_0000ffb6,
                                                           CONCAT28(in_stack_0000ffb4,
                                                                    CONCAT26(in_stack_0000ffb2,
                                                                             CONCAT24(
                                                  in_stack_0000ffb0,
                                                  CONCAT22(in_stack_0000ffae,CONCAT11(uVar33,uVar32)
                                                          ))))))),in_stack_0000ffbc);
        FUN_1060_31aa();
        HVar19 = GETDLGITEM(0x40a,(int16)CONCAT214(in_stack_0000ffb6,
                                                   CONCAT212(in_stack_0000ffb4,
                                                             CONCAT210(in_stack_0000ffb2,
                                                                       CONCAT28(in_stack_0000ffb0,
                                                                                CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(unaff_SI,
                                                  param_5)))))))));
        uVar28 = (undefined)(HVar19 >> 8);
        SETWINDOWPOS(4,0x10a,(int16)CONCAT214(in_stack_0000ffae,
                                              CONCAT113(uVar33,CONCAT112(uVar32,CONCAT210(unaff_SI,
                                                  CONCAT19(uVar28,CONCAT18((char)HVar19,
                                                                           (qword)CONCAT24(
                                                  PTR_DAT_10a8_0000_10a8_82bc + -0x100,0x2000f0)))))
                                                  )),
                     (int16)CONCAT214(in_stack_0000ffbe,
                                      CONCAT212(in_stack_0000ffbc,
                                                CONCAT210(in_stack_0000ffba,
                                                          CONCAT28(in_stack_0000ffb8,
                                                                   CONCAT26(in_stack_0000ffb6,
                                                                            CONCAT24(
                                                  in_stack_0000ffb4,
                                                  CONCAT22(in_stack_0000ffb2,in_stack_0000ffb0))))))
                                     ),
                     (int16)CONCAT106(in_stack_0000ffc6,
                                      CONCAT24(in_stack_0000ffc4,
                                               CONCAT22(in_stack_0000ffc2,in_stack_0000ffc0))),
                     (int16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(in_stack_0000ffda,
                                                          CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT26(in_stack_0000ffd6,
                                                                            CONCAT24(
                                                  in_stack_0000ffd4,
                                                  CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))))
                                     ),in_stack_0000ffe0);
        FUN_1060_30e2(HVar19,(uint)PTR_PTR_DAT_10a8_0064_10a8_117f_10a8_128e);
        PTR_DAT_10a8_0000_10a8_71d8 = (undefined *)0x144;
        lVar23 = GETWINDOWLONG(0xfffc,(int16)CONCAT214(in_stack_0000ffb6,
                                                       CONCAT212(in_stack_0000ffb4,
                                                                 CONCAT210(in_stack_0000ffb2,
                                                                           CONCAT28(
                                                  in_stack_0000ffb0,
                                                  CONCAT26(in_stack_0000ffae,
                                                           CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(
                                                  unaff_SI,HVar19)))))))));
        PTR_DAT_10a8_0000_10a8_58b0 = (undefined *)((ulong)lVar23 >> 0x10);
        PTR_DAT_10a8_0000_10a8_58ae = (undefined *)lVar23;
        SETWINDOWLONG((HWND16)_PTR_DAT_10a8_0000_10a8_5798,
                      (int16)CONCAT214(in_stack_0000ffb2,
                                       CONCAT212(in_stack_0000ffb0,
                                                 CONCAT210(in_stack_0000ffae,
                                                           CONCAT19(uVar33,CONCAT18(uVar32,CONCAT26(
                                                  unaff_SI,CONCAT15(uVar28,CONCAT14((char)HVar19,
                                                                                    CONCAT13(0xff,
                                                  CONCAT12(0xfc,(int)((ulong)
                                                  _PTR_DAT_10a8_0000_10a8_5798 >> 0x10))))))))))),
                      CONCAT22(in_stack_0000ffb6,in_stack_0000ffb4));
        CHECKRADIOBUTTON(0x40c,(uint16)CONCAT214(in_stack_0000ffb2,
                                                 CONCAT212(in_stack_0000ffb0,
                                                           CONCAT210(in_stack_0000ffae,
                                                                     CONCAT19(uVar33,CONCAT18(uVar32
                                                  ,CONCAT26(unaff_SI,CONCAT15(uVar31,CONCAT14(uVar30
                                                  ,0x40c040f)))))))),
                         (uint16)CONCAT214(in_stack_0000ffc2,
                                           CONCAT212(in_stack_0000ffc0,
                                                     CONCAT210(in_stack_0000ffbe,
                                                               CONCAT28(in_stack_0000ffbc,
                                                                        CONCAT26(in_stack_0000ffba,
                                                                                 CONCAT24(
                                                  in_stack_0000ffb8,
                                                  CONCAT22(in_stack_0000ffb6,in_stack_0000ffb4))))))
                                          ),
                         (uint16)CONCAT214(in_stack_0000ffd2,
                                           CONCAT212(in_stack_0000ffd0,
                                                     CONCAT102(in_stack_0000ffc6,in_stack_0000ffc4))
                                          ));
        PTR_DAT_10a8_0000_10a8_84d2 = (undefined *)0x0;
        HVar19 = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffb6,
                                                   CONCAT212(in_stack_0000ffb4,
                                                             CONCAT210(in_stack_0000ffb2,
                                                                       CONCAT28(in_stack_0000ffb0,
                                                                                CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(unaff_SI,
                                                  param_5)))))))));
        SETWINDOWPOS(4,100,(int16)CONCAT214(in_stack_0000ffae,
                                            CONCAT113(uVar33,CONCAT112(uVar32,CONCAT210(unaff_SI,
                                                  CONCAT19((char)(HVar19 >> 8),
                                                           CONCAT18((char)HVar19,
                                                                    (qword)CONCAT24(
                                                  PTR_DAT_10a8_0000_10a8_82bc + -0x108,0x800f0))))))
                                           ),
                     (int16)CONCAT214(in_stack_0000ffbe,
                                      CONCAT212(in_stack_0000ffbc,
                                                CONCAT210(in_stack_0000ffba,
                                                          CONCAT28(in_stack_0000ffb8,
                                                                   CONCAT26(in_stack_0000ffb6,
                                                                            CONCAT24(
                                                  in_stack_0000ffb4,
                                                  CONCAT22(in_stack_0000ffb2,in_stack_0000ffb0))))))
                                     ),
                     (int16)CONCAT106(in_stack_0000ffc6,
                                      CONCAT24(in_stack_0000ffc4,
                                               CONCAT22(in_stack_0000ffc2,in_stack_0000ffc0))),
                     (int16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(in_stack_0000ffda,
                                                          CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT26(in_stack_0000ffd6,
                                                                            CONCAT24(
                                                  in_stack_0000ffd4,
                                                  CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))))
                                     ),in_stack_0000ffe0);
        FUN_1060_2e28(HVar19,(int)PTR_DAT_10a8_0000_10a8_84d2,unaff_SI);
        HVar19 = GETDLGITEM(1,(int16)CONCAT214(in_stack_0000ffb6,
                                               CONCAT212(in_stack_0000ffb4,
                                                         CONCAT210(in_stack_0000ffb2,
                                                                   CONCAT28(in_stack_0000ffb0,
                                                                            CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(unaff_SI,
                                                  param_5)))))))));
        HVar11 = ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
        SETWINDOWPOS(0x84,HVar11,
                     (int16)CONCAT214(in_stack_0000ffae,
                                      CONCAT113(uVar33,CONCAT112(uVar32,CONCAT210(unaff_SI,CONCAT19(
                                                  (char)(HVar19 >> 8),
                                                  CONCAT18((char)HVar19,
                                                           (qword)CONCAT24(
                                                  PTR_DAT_10a8_0000_10a8_82bc + -0xc6,
                                                  CONCAT22(-6 - (HVar11 - (int)
                                                  PTR_DAT_10a8_0000_10a8_82be),0x3c)))))))),
                     (int16)CONCAT214(in_stack_0000ffbe,
                                      CONCAT212(in_stack_0000ffbc,
                                                CONCAT210(in_stack_0000ffba,
                                                          CONCAT28(in_stack_0000ffb8,
                                                                   CONCAT26(in_stack_0000ffb6,
                                                                            CONCAT24(
                                                  in_stack_0000ffb4,
                                                  CONCAT22(in_stack_0000ffb2,in_stack_0000ffb0))))))
                                     ),
                     (int16)CONCAT106(in_stack_0000ffc6,
                                      CONCAT24(in_stack_0000ffc4,
                                               CONCAT22(in_stack_0000ffc2,in_stack_0000ffc0))),
                     (int16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(in_stack_0000ffda,
                                                          CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT26(in_stack_0000ffd6,
                                                                            CONCAT24(
                                                  in_stack_0000ffd4,
                                                  CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))))
                                     ),in_stack_0000ffe0);
        HVar19 = GETDLGITEM(2,(int16)CONCAT214(in_stack_0000ffb6,
                                               CONCAT212(in_stack_0000ffb4,
                                                         CONCAT210(in_stack_0000ffb2,
                                                                   CONCAT28(in_stack_0000ffb0,
                                                                            CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(unaff_SI,
                                                  param_5)))))))));
        HVar11 = ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
        SETWINDOWPOS(4,HVar11,(int16)CONCAT214(in_stack_0000ffae,
                                               CONCAT113(uVar33,CONCAT112(uVar32,CONCAT210(unaff_SI,
                                                  CONCAT19((char)(HVar19 >> 8),
                                                           CONCAT18((char)HVar19,
                                                                    (qword)CONCAT24(
                                                  PTR_DAT_10a8_0000_10a8_82bc + -0x84,
                                                  CONCAT22(-6 - (HVar11 - (int)
                                                  PTR_DAT_10a8_0000_10a8_82be),0x3c)))))))),
                     (int16)CONCAT214(in_stack_0000ffbe,
                                      CONCAT212(in_stack_0000ffbc,
                                                CONCAT210(in_stack_0000ffba,
                                                          CONCAT28(in_stack_0000ffb8,
                                                                   CONCAT26(in_stack_0000ffb6,
                                                                            CONCAT24(
                                                  in_stack_0000ffb4,
                                                  CONCAT22(in_stack_0000ffb2,in_stack_0000ffb0))))))
                                     ),
                     (int16)CONCAT106(in_stack_0000ffc6,
                                      CONCAT24(in_stack_0000ffc4,
                                               CONCAT22(in_stack_0000ffc2,in_stack_0000ffc0))),
                     (int16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(in_stack_0000ffda,
                                                          CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT26(in_stack_0000ffd6,
                                                                            CONCAT24(
                                                  in_stack_0000ffd4,
                                                  CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))))
                                     ),in_stack_0000ffe0);
        HVar19 = GETDLGITEM(0x76,(int16)CONCAT214(in_stack_0000ffb6,
                                                  CONCAT212(in_stack_0000ffb4,
                                                            CONCAT210(in_stack_0000ffb2,
                                                                      CONCAT28(in_stack_0000ffb0,
                                                                               CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(unaff_SI,
                                                  param_5)))))))));
        in_DX = (int)PTR_DAT_10a8_0000_10a8_5794 * 3 >> 0xf;
        HVar11 = ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
        SETWINDOWPOS(4,HVar11,(int16)CONCAT214(in_stack_0000ffae,
                                               CONCAT113(uVar33,CONCAT112(uVar32,CONCAT210(unaff_SI,
                                                  CONCAT19((char)(HVar19 >> 8),
                                                           CONCAT18((char)HVar19,
                                                                    (qword)CONCAT24(
                                                  PTR_DAT_10a8_0000_10a8_82bc + -0x42,
                                                  CONCAT22(-6 - (HVar11 - (int)
                                                  PTR_DAT_10a8_0000_10a8_82be),0x3c)))))))),
                     (int16)CONCAT214(in_stack_0000ffbe,
                                      CONCAT212(in_stack_0000ffbc,
                                                CONCAT210(in_stack_0000ffba,
                                                          CONCAT28(in_stack_0000ffb8,
                                                                   CONCAT26(in_stack_0000ffb6,
                                                                            CONCAT24(
                                                  in_stack_0000ffb4,
                                                  CONCAT22(in_stack_0000ffb2,in_stack_0000ffb0))))))
                                     ),
                     (int16)CONCAT106(in_stack_0000ffc6,
                                      CONCAT24(in_stack_0000ffc4,
                                               CONCAT22(in_stack_0000ffc2,in_stack_0000ffc0))),
                     (int16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(in_stack_0000ffda,
                                                          CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT26(in_stack_0000ffd6,
                                                                            CONCAT24(
                                                  in_stack_0000ffd4,
                                                  CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))))
                                     ),in_stack_0000ffe0);
        SETDLGITEMTEXT(0x1320,(int16)CONCAT214(in_stack_0000ffb2,
                                               CONCAT212(in_stack_0000ffb0,
                                                         CONCAT210(in_stack_0000ffae,
                                                                   CONCAT19(uVar33,CONCAT18(uVar32,
                                                  CONCAT26(unaff_SI,CONCAT15(uVar31,CONCAT14(uVar30,
                                                  0x210a8)))))))),
                       CONCAT22(in_stack_0000ffb6,in_stack_0000ffb4));
      }
      goto LAB_1060_029a;
    }
    if ((param_4 == 0x201) || ((1 < param_4 - 0x201 && (param_4 == 0x203 || param_4 == 0x204)))) {
      uVar16 = FUN_1060_1644(param_5,CONCAT22(param_2_00,param_1),param_3,0,(uint)(param_4 == 0x204)
                            );
      return CONCAT22(in_DX,uVar16);
    }
    goto LAB_1060_10c8;
  }
  if (((param_2_00 == (undefined *)0x0) && (0x40b < param_3)) && (param_3 < 0x410)) {
    local_a = 0;
    goto LAB_1060_0d6d;
  }
  if (((param_3 == 0x415) && (param_2_00 == (undefined *)0x400)) &&
     (PTR_DAT_10a8_0000_10a8_11fc == (undefined *)0x0)) {
    PTR_DAT_10a8_0000_10a8_11fc = (undefined *)&DAT_10a8_0001;
    uVar30 = 0xa8;
    uVar31 = 0x10;
    wparam = (WPARAM16)&DAT_10a8_86de;
    uVar16 = 0xfa;
    HVar19 = param_1;
    GETWINDOWTEXT((int16 *)((int)s_starsplanet_10a8_00f8 + 2),(HWND16)&DAT_10a8_86de,
                  CONCAT13(uVar29,CONCAT12(uVar28,0x10a8)),
                  (int16)CONCAT214(in_stack_0000ffb8,
                                   CONCAT212(in_stack_0000ffb6,
                                             CONCAT210(in_stack_0000ffb4,
                                                       CONCAT28(0x400,CONCAT26(in_stack_0000ffb0,
                                                                               CONCAT24(
                                                  in_stack_0000ffae,
                                                  CONCAT13(uVar33,CONCAT12(uVar32,unaff_SI)))))))));
    local_a = SENDMESSAGE(0,(uint16)CONCAT115((char)(HVar19 >> 8),
                                              CONCAT114((char)HVar19,
                                                        CONCAT113(uVar31,CONCAT112(uVar30,CONCAT210(
                                                  wparam,CONCAT28(uVar16,CONCAT17(uVar29,CONCAT16(
                                                  uVar28,0x40000000000)))))))),unaff_SI,
                          CONCAT22(in_stack_0000ffae,CONCAT11(uVar33,uVar32)));
    iVar10 = FUN_1018_6628((char *)&DAT_10a8_86de,0xa0);
    if (iVar10 == 0) {
      iVar10 = (int)s_From___s_c_c_10a8_10a2 + 6;
      uVar26 = SUB42(&DAT_10a8_86de,0);
      HVar11 = param_1;
      SETWINDOWTEXT((HWND16)&DAT_10a8_86de,CONCAT13(uVar29,CONCAT12(uVar28,0x10a8)));
      SENDMESSAGE((HWND16)local_a,
                  (uint16)CONCAT214(uVar16,CONCAT113((char)(HVar11 >> 8),
                                                     CONCAT112((char)HVar11,
                                                               CONCAT210(iVar10,CONCAT28(uVar26,
                                                  CONCAT26(param_1,CONCAT24(0x401,local_a >> 0x10)))
                                                  )))),wparam,
                  CONCAT13((char)(HVar19 >> 8),CONCAT12((char)HVar19,CONCAT11(uVar31,uVar30))));
    }
    dVar24 = LSTRCPY((dword)&DAT_10a8_86de,
                     (LPCSTR)((ulong)_PTR_DAT_10a8_0000_10a8_830e & 0xffff0000 |
                             (ulong)((int)_PTR_DAT_10a8_0000_10a8_830e + 8)));
    in_DX = (uint)(dVar24 >> 0x10);
    FUN_1060_23a6((HWND16)param_5,(int16 *)0x0,0x100,(undefined4 *)0x0);
    PTR_DAT_10a8_0000_10a8_11fc = (undefined *)0x0;
    goto LAB_1060_10c8;
  }
  if (param_3 == 0x414) {
    if (param_2_00 != (undefined *)&DAT_10a8_0001) goto LAB_1060_10c8;
LAB_1060_0e55:
    HVar19 = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffbc,
                                               CONCAT212(in_stack_0000ffba,
                                                         CONCAT210(in_stack_0000ffb8,
                                                                   CONCAT28(in_stack_0000ffb6,
                                                                            CONCAT26(
                                                  in_stack_0000ffb4,
                                                  CONCAT24(param_2_00,
                                                           CONCAT22(in_stack_0000ffb0,param_5)))))))
                       );
    local_a = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffb6,
                                              CONCAT212(in_stack_0000ffb4,
                                                        CONCAT210(param_2_00,
                                                                  CONCAT28(in_stack_0000ffb0,
                                                                           CONCAT26(HVar19,
                                                  0x40700000000))))),in_stack_0000ffb8,
                          CONCAT22(in_stack_0000ffbc,in_stack_0000ffba));
    in_DX = (uint)(local_a >> 0x10);
    iVar10 = (int)local_a;
    if ((PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&DAT_10a8_0003) ||
       (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&PTR_LOOP_10a8_0004)) {
      if ((iVar10 == -1) && (in_DX == 0xffff)) {
        local_a = 0;
      }
      else {
        local_a = (ulong)*(int *)((int)&PTR_PTR_DAT_10a8_0064_10a8_117f_10a8_128e + iVar10 * 2);
      }
      HVar19 = GETDLGITEM(0x40a,(int16)CONCAT214(in_stack_0000ffba,
                                                 CONCAT212(in_stack_0000ffb8,
                                                           CONCAT210(in_stack_0000ffb6,
                                                                     CONCAT28(in_stack_0000ffb4,
                                                                              CONCAT26(param_2_00,
                                                                                       CONCAT24(
                                                  in_stack_0000ffb0,CONCAT22((uint)local_a,param_5))
                                                  ))))));
      FUN_1060_30e2(HVar19,(uint)local_a);
    }
    else if (((PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)0x0) ||
             (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&DAT_10a8_0001)) ||
            (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&DAT_10a8_0002)) {
      if ((iVar10 != -1) || (in_DX != 0xffff)) {
        if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)0x0) {
          iVar10 = FUN_1060_2d74(iVar10);
          if (iVar10 == 0) {
            _PTR_DAT_10a8_0000_10a8_830e = (undefined **)0x0;
          }
          else {
            _PTR_DAT_10a8_0000_10a8_830e = (undefined **)CONCAT22(0x10a8,iVar10);
          }
          FUN_1028_5d44((*(byte *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x7c) & 0x3c) >> 2,
                        (undefined2 *)((int)&local_6 + 2));
          if ((*(int *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x81) == 0) && (local_6._2_2_ == 0)) {
            HVar19 = 1;
          }
          else {
            HVar19 = 0;
          }
          HVar11 = GETDLGITEM(0x412,(int16)CONCAT214(in_stack_0000ffbc,
                                                     CONCAT212(in_stack_0000ffba,
                                                               CONCAT210(in_stack_0000ffb8,
                                                                         CONCAT28(in_stack_0000ffb6,
                                                                                  CONCAT26(
                                                  in_stack_0000ffb4,
                                                  CONCAT24(param_2_00,
                                                           CONCAT22(in_stack_0000ffb0,
                                                                    PTR_DAT_10a8_0000_10a8_131e)))))
                                                  )));
          ENABLEWINDOW(HVar19,HVar11);
        }
        else {
          if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&DAT_10a8_0002) {
            iVar10 = FUN_1060_2daa(iVar10);
            _PTR_DAT_10a8_0000_10a8_830e = (undefined **)CONCAT22(in_DX,iVar10);
            if (*(char *)(iVar10 + 0x7b) == '\a') goto LAB_1060_0f95;
            local_6 = local_6 & 0xffff | ZEXT24(*_PTR_DAT_10a8_0000_10a8_830e) << 0x10;
          }
          else {
            local_10 = 0x4000;
            uVar20 = 0;
            do {
              local_e = uVar20 & 0xff | local_e & 0xff00;
              iVar10 = FUN_1060_32b2(&local_10);
              if ((iVar10 == 1) &&
                 (lVar23 = local_a + -1, bVar7 = (long)local_a < 1, local_a = lVar23, bVar7)) break;
              uVar20 = uVar20 + 1;
            } while ((int)uVar20 < 0x1b);
            local_6 = local_6 & 0xffff | (ulong)uVar20 << 0x10;
          }
          puVar18 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_57a6;
          puVar14 = (undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_2eae + local_6._2_2_ * 0x93);
          for (iVar10 = 0x1e; iVar10 != 0; iVar10 = iVar10 + -1) {
            puVar6 = puVar18;
            puVar18 = puVar18 + 1;
            puVar4 = puVar14;
            puVar14 = puVar14 + 1;
            *puVar6 = *puVar4;
          }
          *(undefined2 *)puVar18 = *(undefined2 *)puVar14;
          *(undefined *)(undefined2 *)((int)puVar18 + 2) =
               *(undefined *)(undefined2 *)((int)puVar14 + 2);
          PTR_DAT_10a8_0000_10a8_57a6 = (undefined *)(uint)local_6._2_1_;
          local_6 = local_6 & 0xffff;
          if ((byte)PTR_DAT_10a8_0000_10a8_5820 != 0) {
            iVar10 = 0x57e2;
            local_6._2_2_ = 0;
            do {
              *(undefined *)(iVar10 + 1) = 0;
              iVar10 = iVar10 + 4;
              local_6._2_2_ = local_6._2_2_ + 1;
            } while ((int)local_6._2_2_ < (int)(uint)(byte)PTR_DAT_10a8_0000_10a8_5820);
          }
          _PTR_DAT_10a8_0000_10a8_830e = &PTR_DAT_10a8_0000_10a8_57a6;
        }
      }
LAB_1060_0f95:
      FUN_1060_31aa();
      GETCLIENTRECT((HWND16)&local_1c,(RECT16 *)CONCAT22(param_5,unaff_SS));
      local_1c = (int)local_18 >> 1;
      if ((int)(local_18 - 0x160) < (int)local_18 >> 1) {
        local_1c = local_18 - 0x160;
      }
      INVALIDATERECT(1,(RECT16 *)&local_1c,(bool16)unaff_SS);
    }
    FUN_1060_289a(0xfffe);
    FUN_1060_23a6((HWND16)param_5,(int16 *)0x0,0xffff,(undefined4 *)0x0);
  }
  else {
    if (param_3 == 0x40a) {
      if (param_2_00 == (undefined *)&DAT_10a8_0001) {
        FUN_1060_289a(0xffff);
      }
      goto LAB_1060_10c8;
    }
    if (param_3 == 0x411) {
      if ((param_2_00 != (undefined *)0x0) ||
         ((local_6 = local_6 & 0xffff0000, (DAT_10a8_0a47 & 0x40) != 0 &&
          (iVar10 = FUN_1090_ba9a(0), iVar10 == 0)))) goto LAB_1060_10c8;
      local_e = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffb6,
                                                  CONCAT212(in_stack_0000ffb4,
                                                            CONCAT210(param_2_00,
                                                                      CONCAT28(in_stack_0000ffb0,
                                                                               CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(unaff_SI,
                                                  param_5)))))))));
      local_a = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffb0,
                                                CONCAT212(in_stack_0000ffae,
                                                          CONCAT111(uVar33,CONCAT110(uVar32,CONCAT28
                                                  (unaff_SI,CONCAT17((char)(local_e >> 8),
                                                                     CONCAT16((char)local_e,
                                                                              0x40700000000))))))),
                            (WPARAM16)param_2_00,CONCAT22(in_stack_0000ffb6,in_stack_0000ffb4));
      in_DX = (uint)(local_a >> 0x10);
      iVar10 = FUN_1060_2d74((int)local_a);
      if (((long)local_a < 0) || (iVar10 == 0)) goto LAB_1060_10c8;
      iVar13 = FUN_1028_5d44((*(byte *)(iVar10 + 0x7c) & 0x3c) >> 2,(undefined2 *)&local_6);
      if ((*(int *)(iVar10 + 0x81) != 0) || (iVar13 != 0)) {
        if ((*(int *)(iVar10 + 0x81) == 0) || (iVar13 == 0)) {
          if (iVar13 == 0) {
            pWVar27 = (VA_LIST16)(iVar10 + 8);
            uVar16 = *(undefined2 *)(iVar10 + 0x81);
            uVar28 = (undefined)uVar16;
            uVar29 = (undefined)((uint)uVar16 >> 8);
            uVar16 = FUN_1018_5112(0x1ce);
            _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar16,0x10a8),
                      (LPCSTR)CONCAT13(uVar29,CONCAT12(uVar28,0x10a8)),pWVar27);
          }
          else {
            pWVar27 = (VA_LIST16)(iVar10 + 8);
            uVar16 = FUN_1018_5112(0x1cd);
            _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar16,0x10a8),
                      (LPCSTR)CONCAT22(iVar13,0x10a8),pWVar27);
          }
        }
        else {
          pWVar27 = (VA_LIST16)(iVar10 + 8);
          uVar16 = *(undefined2 *)(iVar10 + 0x81);
          uVar26 = FUN_1018_5112(0x1cc);
          _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar26,0x10a8),
                    (LPCSTR)CONCAT22(uVar16,0x10a8),pWVar27);
        }
        HVar19 = GETFOCUS();
        piVar9 = MESSAGEBOX((int16 *)s_Robo_Miner_10a8_2024,(HWND16)s_Delete_Ship_Design_10a8_135f,
                            (LPCSTR)0x86de10a8,
                            (LPCSTR)CONCAT13((char)(HVar19 >> 8),CONCAT12((char)HVar19,0x10a8)),
                            (uint16)CONCAT214(in_stack_0000ffb8,
                                              CONCAT212(in_stack_0000ffb6,
                                                        CONCAT210(in_stack_0000ffb4,
                                                                  CONCAT28(param_2_00,
                                                                           CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,unaff_SI)
                                                                   ))))))));
        SETFOCUS((HWND16)param_5);
        if (piVar9 == (int16 *)0x7) goto LAB_1060_10c8;
        if (*(int *)(iVar10 + 0x81) == 0) {
          FUN_1028_5bfa((*(byte *)(iVar10 + 0x7c) & 0x3c) >> 2);
        }
        else {
          FUN_1028_5a3e((*(byte *)(iVar10 + 0x7c) & 0x3c) >> 2,(int)PTR_DAT_10a8_0001_10a8_00c0);
          INVALIDATERECT(1,(RECT16 *)0x0,0);
        }
      }
      pbVar1 = (byte *)(iVar10 + 0x7c);
      *pbVar1 = *pbVar1 | 2;
      *(undefined2 *)(iVar10 + 0x7f) = 0;
      *(undefined2 *)(iVar10 + 0x81) = 0;
      pcVar2 = (char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
      *pcVar2 = *pcVar2 + -1;
      FUN_1020_3d5a(iVar10);
      FUN_1060_2e28(local_e,(int)PTR_DAT_10a8_0000_10a8_84d2,unaff_SI);
      iVar10 = FUN_1060_2d74(0);
      if (iVar10 == 0) {
        _PTR_DAT_10a8_0000_10a8_830e = (undefined **)0x0;
      }
      else {
        _PTR_DAT_10a8_0000_10a8_830e = (undefined **)CONCAT22(0x10a8,iVar10);
      }
      FUN_1060_31aa();
      GETCLIENTRECT((HWND16)&local_1c,(RECT16 *)CONCAT13(uVar31,CONCAT12(uVar30,unaff_SS)));
      local_1c = (int)local_18 >> 1;
      if ((int)(local_18 - 0x160) < (int)local_18 >> 1) {
        local_1c = local_18 - 0x160;
      }
      INVALIDATERECT(1,(RECT16 *)&local_1c,(bool16)unaff_SS);
      if (PTR_DAT_10a8_0000_10a8_87ee == (undefined *)0x0) goto LAB_1060_10c8;
LAB_1060_0d6d:
      _PTR_DAT_10a8_0000_10a8_830e = (undefined **)0x0;
      PTR_DAT_10a8_0000_10a8_87ee = (undefined *)0x0;
      PTR_DAT_10a8_0000_10a8_84d2 = (undefined *)(param_3 - 0x40c);
      HVar19 = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffb8,
                                                 CONCAT212(in_stack_0000ffb6,
                                                           CONCAT210(in_stack_0000ffb4,
                                                                     CONCAT28(param_2_00,
                                                                              CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
      FUN_1060_31aa();
      FUN_1060_2e28(HVar19,(int)PTR_DAT_10a8_0000_10a8_84d2,CONCAT11(uVar33,uVar32));
      LVar25 = SENDMESSAGE(0,(uint16)CONCAT214(param_2_00,
                                               CONCAT212(in_stack_0000ffb0,
                                                         CONCAT210(in_stack_0000ffae,
                                                                   CONCAT19(uVar33,CONCAT18(uVar32,
                                                  CONCAT26(HVar19,CONCAT15(4,CONCAT14(0xe,local_a <<
                                                                                          0x10))))))
                                                  )),in_stack_0000ffb4,
                           CONCAT22(in_stack_0000ffb8,in_stack_0000ffb6));
      in_DX = (uint)((ulong)LVar25 >> 0x10);
      if (param_3 == 0x40f) {
        iVar10 = 0;
      }
      else {
        iVar10 = 8;
      }
      iVar10 = -0x100 - (iVar10 - (int)PTR_DAT_10a8_0000_10a8_82bc);
      SETWINDOWPOS(5,0,(int16)CONCAT214(in_stack_0000ffb0,
                                        CONCAT212(in_stack_0000ffae,
                                                  CONCAT111(uVar33,CONCAT110(uVar32,CONCAT28(HVar19,
                                                  (qword)CONCAT15((char)((uint)iVar10 >> 8),
                                                                  CONCAT14((char)iVar10,0x80000)))))
                                                 )),
                   (int16)CONCAT214(in_stack_0000ffc0,
                                    CONCAT212(in_stack_0000ffbe,
                                              CONCAT210(in_stack_0000ffbc,
                                                        CONCAT28(in_stack_0000ffba,
                                                                 CONCAT26(in_stack_0000ffb8,
                                                                          CONCAT24(in_stack_0000ffb6
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffb4,param_2_00))))))),
                   (int16)CONCAT214(in_stack_0000ffd0,
                                    CONCAT104(in_stack_0000ffc6,
                                              CONCAT22(in_stack_0000ffc4,in_stack_0000ffc2))),
                   (int16)CONCAT214(in_stack_0000ffe0,
                                    CONCAT212(in_stack_0000ffde,
                                              CONCAT210(in_stack_0000ffdc,
                                                        CONCAT28(in_stack_0000ffda,
                                                                 CONCAT26(in_stack_0000ffd8,
                                                                          CONCAT24(in_stack_0000ffd6
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffd4,in_stack_0000ffd2))))))),
                   in_stack_0000ffe2);
      GETCLIENTRECT((HWND16)&local_1c,(RECT16 *)CONCAT22(param_5,unaff_SS));
      local_6 = local_6 & 0xffff | (ulong)local_1c << 0x10;
      local_1c = (int)local_18 >> 1;
      if ((int)(local_18 - 0x160) < (int)local_18 >> 1) {
        local_1c = local_18 - 0x160;
      }
      INVALIDATERECT(1,(RECT16 *)&local_1c,(bool16)unaff_SS);
      local_18 = local_1c;
      local_1c = local_6._2_2_;
      local_1a = PTR_DAT_10a8_0000_10a8_71d8;
      INVALIDATERECT(1,(RECT16 *)&local_1c,(bool16)unaff_SS);
      HVar19 = GETDLGITEM(0x40a,(int16)CONCAT214(in_stack_0000ffbc,
                                                 CONCAT212(in_stack_0000ffba,
                                                           CONCAT210(in_stack_0000ffb8,
                                                                     CONCAT28(in_stack_0000ffb6,
                                                                              CONCAT26(
                                                  in_stack_0000ffb4,
                                                  CONCAT24(param_2_00,
                                                           CONCAT22(in_stack_0000ffb0,param_5)))))))
                         );
      if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&DAT_10a8_0003) {
        HVar11 = 5;
      }
      else {
        HVar11 = 0;
      }
      SHOWWINDOW(HVar11,(int16)CONCAT214(in_stack_0000ffbc,
                                         CONCAT212(in_stack_0000ffba,
                                                   CONCAT210(in_stack_0000ffb8,
                                                             CONCAT28(in_stack_0000ffb6,
                                                                      CONCAT26(in_stack_0000ffb4,
                                                                               CONCAT24(param_2_00,
                                                                                        CONCAT22(
                                                  in_stack_0000ffb0,HVar19))))))));
      if (param_3 != 0x40f) goto LAB_1060_0e55;
    }
    else {
      if (param_3 != 0x410) {
        if (param_3 == 0x412) {
          if (((DAT_10a8_0a47 & 0x40) != 0) && (iVar10 = FUN_1090_ba9a(2), iVar10 == 0))
          goto LAB_1060_10c8;
          goto LAB_1060_0a8e;
        }
        if ((param_3 != 1) && (param_3 != 2)) {
          if (param_3 != 0x76) goto LAB_1060_10c8;
          if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&PTR_LOOP_10a8_0004) {
            HVar19 = 0x91;
          }
          else {
            HVar19 = 0x8e;
          }
          in_DX = 0;
          WINHELP(HVar19,(LPCSTR)0x10000,
                  (uint16)CONCAT214(param_2_00,
                                    CONCAT212(in_stack_0000ffb0,
                                              CONCAT210(in_stack_0000ffae,
                                                        CONCAT19(uVar33,CONCAT18(uVar32,CONCAT26(
                                                  unaff_SI,CONCAT15(uVar31,CONCAT14(uVar30,CONCAT13(
                                                  0x10,CONCAT12(0xa8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be)))))))))));
LAB_1060_029a:
          return (ulong)in_DX << 0x10 | 1;
        }
        if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&PTR_LOOP_10a8_0004) {
          FUN_1060_289a(0xfffe);
          FUN_1018_5a04(param_5,(int *)0x130c,0,unaff_SI,
                        (int16)CONCAT214(in_stack_0000ffba,
                                         CONCAT212(in_stack_0000ffb8,
                                                   CONCAT210(in_stack_0000ffb6,
                                                             CONCAT28(in_stack_0000ffb4,
                                                                      CONCAT26(param_2_00,
                                                                               CONCAT24(
                                                  in_stack_0000ffb0,
                                                  CONCAT22(in_stack_0000ffae,CONCAT11(uVar33,uVar32)
                                                          ))))))),in_stack_0000ffbc);
          PTR_DAT_10a8_0000_10a8_131e = (undefined *)0x0;
          if (param_3 != 1) {
            param_3 = 0;
          }
          ENDDIALOG(param_3,(int16)CONCAT214(in_stack_0000ffb6,
                                             CONCAT212(in_stack_0000ffb4,
                                                       CONCAT210(param_2_00,
                                                                 CONCAT28(in_stack_0000ffb0,
                                                                          CONCAT26(in_stack_0000ffae
                                                                                   ,CONCAT15(uVar33,
                                                  CONCAT14(uVar32,CONCAT22(unaff_SI,param_5)))))))))
          ;
          if ((DAT_10a8_0a47 & 0x40) != 0) {
            FUN_1090_88fa();
          }
          goto LAB_1060_029a;
        }
        local_a = 0;
        if (param_3 == 1) {
          if ((char)PTR_DAT_10a8_0000_10a8_57e3 == '\0') {
            FUN_1018_50b2(0xab,0x10);
            goto LAB_1060_10c8;
          }
          if (((DAT_10a8_0a47 & 0x40) != 0) && (iVar10 = FUN_1090_ba9a(3), iVar10 == 0))
          goto LAB_1060_10c8;
          HVar19 = GETDLGITEM(0x415,(int16)CONCAT214(in_stack_0000ffb6,
                                                     CONCAT212(in_stack_0000ffb4,
                                                               CONCAT210(param_2_00,
                                                                         CONCAT28(in_stack_0000ffb0,
                                                                                  CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(unaff_SI,
                                                  param_5)))))))));
          GETWINDOWTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0020,0x57ae,
                        CONCAT13((char)(HVar19 >> 8),CONCAT12((char)HVar19,0x10a8)),
                        (int16)CONCAT214(in_stack_0000ffb8,
                                         CONCAT212(in_stack_0000ffb6,
                                                   CONCAT210(in_stack_0000ffb4,
                                                             CONCAT28(param_2_00,
                                                                      CONCAT26(in_stack_0000ffb0,
                                                                               CONCAT24(
                                                  in_stack_0000ffae,
                                                  CONCAT13(uVar33,CONCAT12(uVar32,unaff_SI)))))))));
          PTR_DAT_10a8_0000_10a8_5825 = (undefined *)0x0;
          PTR_DAT_10a8_0000_10a8_5827 = (undefined *)0x0;
          PTR_DAT_10a8_0000_10a8_5822._0_1_ = (byte)PTR_DAT_10a8_0000_10a8_5822 & 0xfd;
          FUN_1010_1c24((int *)&PTR_DAT_10a8_0000_10a8_57a6);
          puVar15 = (undefined4 *)
                    ((int)&PTR_DAT_10a8_0000_10a8_71e6 + (int)PTR_DAT_10a8_0000_10a8_8396 * 0x87);
          puVar14 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_57a6;
          puVar18 = puVar15;
          for (iVar10 = 0x21; iVar10 != 0; iVar10 = iVar10 + -1) {
            puVar6 = puVar18;
            puVar18 = puVar18 + 1;
            puVar4 = puVar14;
            puVar14 = puVar14 + 1;
            *puVar6 = *puVar4;
          }
          *(undefined2 *)puVar18 = *(undefined2 *)puVar14;
          *(undefined *)(undefined2 *)((int)puVar18 + 2) =
               *(undefined *)(undefined2 *)((int)puVar14 + 2);
          FUN_1020_3d5a((int)puVar15);
          local_6 = (ulong)(uint)local_6;
          if (0 < (int)PTR_DAT_10a8_0000_10a8_8396) {
            iVar10 = 0x7261;
            puVar17 = PTR_DAT_10a8_0000_10a8_8396;
            do {
              if ((*(byte *)(iVar10 + 1) & 2) == 0) {
                local_a = local_a + 1;
              }
              iVar10 = iVar10 + 0x87;
              puVar17 = puVar17 + -1;
            } while (puVar17 != (undefined *)0x0);
          }
        }
        else if (((DAT_10a8_0a47 & 0x40) != 0) && (iVar10 = FUN_1090_ba9a(4), iVar10 == 0))
        goto LAB_1060_10c8;
        INVALIDATERECT(1,(RECT16 *)0x0,0);
        FUN_1060_0082(param_5,5);
        HVar19 = GETDLGITEM(0x415,(int16)CONCAT214(in_stack_0000ffb8,
                                                   CONCAT212(in_stack_0000ffb6,
                                                             CONCAT210(in_stack_0000ffb4,
                                                                       CONCAT28(param_2_00,
                                                                                CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
        SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffb8,
                                      CONCAT212(in_stack_0000ffb6,
                                                CONCAT210(in_stack_0000ffb4,
                                                          CONCAT28(param_2_00,
                                                                   CONCAT26(in_stack_0000ffb0,
                                                                            CONCAT24(
                                                  in_stack_0000ffae,
                                                  CONCAT13(uVar33,CONCAT12(uVar32,HVar19)))))))));
        HVar19 = GETDLGITEM(0x40a,(int16)CONCAT214(in_stack_0000ffb8,
                                                   CONCAT212(in_stack_0000ffb6,
                                                             CONCAT210(in_stack_0000ffb4,
                                                                       CONCAT28(param_2_00,
                                                                                CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
        FUN_1060_30e2(HVar19,(uint)PTR_PTR_DAT_10a8_0064_10a8_117f_10a8_128e);
        SETWINDOWPOS(4,0x10a,(int16)CONCAT214(in_stack_0000ffb0,
                                              CONCAT212(in_stack_0000ffae,
                                                        CONCAT111(uVar33,CONCAT110(uVar32,CONCAT28(
                                                  HVar19,(qword)CONCAT15((char)((uint)(
                                                  PTR_DAT_10a8_0000_10a8_82bc + -0x100) >> 8),
                                                  CONCAT14((char)(PTR_DAT_10a8_0000_10a8_82bc +
                                                                 -0x100),0x2000f0))))))),
                     (int16)CONCAT214(in_stack_0000ffc0,
                                      CONCAT212(in_stack_0000ffbe,
                                                CONCAT210(in_stack_0000ffbc,
                                                          CONCAT28(in_stack_0000ffba,
                                                                   CONCAT26(in_stack_0000ffb8,
                                                                            CONCAT24(
                                                  in_stack_0000ffb6,
                                                  CONCAT22(in_stack_0000ffb4,param_2_00))))))),
                     (int16)CONCAT214(in_stack_0000ffd0,
                                      CONCAT104(in_stack_0000ffc6,
                                                CONCAT22(in_stack_0000ffc4,in_stack_0000ffc2))),
                     (int16)CONCAT214(in_stack_0000ffe0,
                                      CONCAT212(in_stack_0000ffde,
                                                CONCAT210(in_stack_0000ffdc,
                                                          CONCAT28(in_stack_0000ffda,
                                                                   CONCAT26(in_stack_0000ffd8,
                                                                            CONCAT24(
                                                  in_stack_0000ffd6,
                                                  CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2))))))
                                     ),in_stack_0000ffe2);
        HVar19 = GETDLGITEM(0x40a,(int16)CONCAT214(in_stack_0000ffb8,
                                                   CONCAT212(in_stack_0000ffb6,
                                                             CONCAT210(in_stack_0000ffb4,
                                                                       CONCAT28(param_2_00,
                                                                                CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
        SHOWWINDOW(0,(int16)CONCAT214(in_stack_0000ffb8,
                                      CONCAT212(in_stack_0000ffb6,
                                                CONCAT210(in_stack_0000ffb4,
                                                          CONCAT28(param_2_00,
                                                                   CONCAT26(in_stack_0000ffb0,
                                                                            CONCAT24(
                                                  in_stack_0000ffae,
                                                  CONCAT13(uVar33,CONCAT12(uVar32,HVar19)))))))));
        param_3 = 0x40c;
        if ((PTR_DAT_10a8_0000_10a8_87ee != (undefined *)0x0) &&
           (in_stack_0000ffae = (int)PTR_DAT_10a8_0000_10a8_8396 * 0x87,
           *(char *)(in_stack_0000ffae + 0x7223) == '\0')) {
          pbVar1 = (byte *)((int)&PTR_DAT_10a8_0000_10a8_7262 + in_stack_0000ffae);
          *pbVar1 = *pbVar1 | 2;
          pcVar2 = (char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
          *pcVar2 = *pcVar2 + -1;
          FUN_1020_3d5a((int)&PTR_DAT_10a8_0000_10a8_71e6 + in_stack_0000ffae);
        }
        goto LAB_1060_0d6d;
      }
      if (param_2_00 == (undefined *)0x0) {
        if (((DAT_10a8_0a47 & 0x40) != 0) && (iVar10 = FUN_1090_ba9a(1), iVar10 == 0))
        goto LAB_1060_10c8;
        local_e = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffb6,
                                                    CONCAT212(in_stack_0000ffb4,
                                                              CONCAT210(param_2_00,
                                                                        CONCAT28(in_stack_0000ffb0,
                                                                                 CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(unaff_SI,
                                                  param_5)))))))));
        local_a = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffb0,
                                                  CONCAT212(in_stack_0000ffae,
                                                            CONCAT111(uVar33,CONCAT110(uVar32,
                                                  CONCAT28(unaff_SI,CONCAT17((char)(local_e >> 8),
                                                                             CONCAT16((char)local_e,
                                                                                      0x40700000000)
                                                                            )))))),
                              (WPARAM16)param_2_00,CONCAT22(in_stack_0000ffb6,in_stack_0000ffb4));
        in_DX = (uint)(local_a >> 0x10);
        local_6 = CONCAT22(0x7261,(uint)local_6);
        local_6._2_2_ = 0x7261;
        local_c = 0;
        do {
          if ((*(byte *)(local_6._2_2_ + 1) & 2) != 0) break;
          local_c = local_c + 1;
          local_6._2_2_ = local_6._2_2_ + 0x87;
        } while (local_6._2_2_ < 0x7ad1);
        if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)0x0) {
          puVar14 = (undefined4 *)FUN_1060_2d74((int)local_a);
          local_6 = local_6 & 0xffff | ZEXT24(puVar14) << 0x10;
          if (((long)local_a < 0) || (puVar14 == (undefined4 *)0x0)) goto LAB_1060_10c8;
          in_stack_0000ffb0 = local_c * 0x87;
          puVar15 = (undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_71e6 + in_stack_0000ffb0);
          puVar18 = puVar15;
          for (iVar10 = 0x21; iVar10 != 0; iVar10 = iVar10 + -1) {
            puVar6 = puVar18;
            puVar18 = puVar18 + 1;
            puVar4 = puVar14;
            puVar14 = puVar14 + 1;
            *puVar6 = *puVar4;
          }
          *(undefined2 *)puVar18 = *(undefined2 *)puVar14;
          *(undefined *)(undefined2 *)((int)puVar18 + 2) =
               *(undefined *)(undefined2 *)((int)puVar14 + 2);
          *(undefined4 *)(in_stack_0000ffb0 + 0x7265) = 0;
          FUN_1060_3996((int)puVar15);
        }
        else {
          local_14 = 0x4000;
          uVar20 = 0;
          do {
            local_12 = uVar20 & 0xff | local_12 & 0xff00;
            iVar10 = FUN_1060_32b2(&local_14);
            if ((iVar10 == 1) &&
               (lVar23 = local_a + -1, bVar7 = (long)local_a < 1, local_a = lVar23, bVar7)) break;
            uVar20 = uVar20 + 1;
          } while ((int)uVar20 < 0x1b);
          local_6 = local_6 & 0xffff0000 | (ulong)uVar20;
          in_stack_0000ffb0 = local_c * 0x87;
          puVar18 = (undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_71e6 + in_stack_0000ffb0);
          puVar14 = puVar18;
          for (iVar10 = 0x21; iVar10 != 0; iVar10 = iVar10 + -1) {
            puVar4 = puVar14;
            puVar14 = puVar14 + 1;
            *puVar4 = 0;
          }
          *(undefined2 *)puVar14 = 0;
          *(undefined *)(undefined2 *)((int)puVar14 + 2) = 0;
          puVar14 = (undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_2eae + uVar20 * 0x93);
          puVar15 = puVar18;
          for (iVar10 = 0x1e; iVar10 != 0; iVar10 = iVar10 + -1) {
            puVar6 = puVar15;
            puVar15 = puVar15 + 1;
            puVar4 = puVar14;
            puVar14 = puVar14 + 1;
            *puVar6 = *puVar4;
          }
          *(undefined2 *)puVar15 = *(undefined2 *)puVar14;
          *(undefined *)(undefined2 *)((int)puVar15 + 2) =
               *(undefined *)(undefined2 *)((int)puVar14 + 2);
          *(undefined2 *)(in_stack_0000ffb0 + 0x7261) =
               (int)CONCAT31((uint3)(byte)((uint)*(undefined2 *)(in_stack_0000ffb0 + 0x7261) >> 8),7
                            );
          puVar21 = (undefined2 *)(in_stack_0000ffb0 + 0x7220);
          for (iVar10 = 0x20; iVar10 != 0; iVar10 = iVar10 + -1) {
            puVar5 = puVar21;
            puVar21 = puVar21 + 1;
            *puVar5 = 0;
          }
          CHECKRADIOBUTTON(0x40c,(uint16)CONCAT214(param_2_00,
                                                   CONCAT212(in_stack_0000ffb0,
                                                             CONCAT210(in_stack_0000ffae,
                                                                       CONCAT19(uVar33,CONCAT18(
                                                  uVar32,CONCAT26(unaff_SI,CONCAT15(uVar31,CONCAT14(
                                                  uVar30,0x40c040f)))))))),
                           (uint16)CONCAT214(in_stack_0000ffc2,
                                             CONCAT212(in_stack_0000ffc0,
                                                       CONCAT210(in_stack_0000ffbe,
                                                                 CONCAT28(in_stack_0000ffbc,
                                                                          CONCAT26(in_stack_0000ffba
                                                                                   ,CONCAT24(
                                                  in_stack_0000ffb8,
                                                  CONCAT22(in_stack_0000ffb6,in_stack_0000ffb4))))))
                                            ),
                           (uint16)CONCAT214(in_stack_0000ffd2,
                                             CONCAT212(in_stack_0000ffd0,
                                                       CONCAT102(in_stack_0000ffc6,in_stack_0000ffc4
                                                                ))));
          local_6 = local_6 & 0xffff | ZEXT24(puVar18) << 0x10;
        }
        *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_7262 + 1 + in_stack_0000ffb0) =
             PTR_DAT_10a8_0000_10a8_0042;
        puVar3 = (uint *)(in_stack_0000ffb0 + 0x7261);
        *puVar3 = *puVar3 ^ ((byte)(*(byte *)((int)&PTR_DAT_10a8_0000_10a8_7262 + in_stack_0000ffb0)
                                   ^ (byte)((ulong)(local_c << 10) >> 8)) & 0x3c) << 8;
        pcVar2 = (char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
        *pcVar2 = *pcVar2 + '\x01';
        iVar10 = (int)&PTR_DAT_10a8_0000_10a8_71e6 + in_stack_0000ffb0;
        FUN_1020_3d5a(iVar10);
        FUN_1060_2e28(local_e,(int)PTR_DAT_10a8_0000_10a8_84d2,unaff_SI);
        SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffb0,
                                        CONCAT212(in_stack_0000ffae,
                                                  CONCAT111(uVar33,CONCAT110(uVar32,CONCAT28(
                                                  unaff_SI,CONCAT17((char)(local_e >> 8),
                                                                    CONCAT16((char)local_e,
                                                                             CONCAT15(4,CONCAT14(0xe
                                                  ,(ulong)local_c << 0x10))))))))),
                    (WPARAM16)param_2_00,CONCAT22(in_stack_0000ffb6,in_stack_0000ffb4));
        HVar19 = GETDLGITEM(0x412,(int16)CONCAT214(in_stack_0000ffb6,
                                                   CONCAT212(in_stack_0000ffb4,
                                                             CONCAT210(param_2_00,
                                                                       CONCAT28(in_stack_0000ffb0,
                                                                                CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_131e)))))))));
        ENABLEWINDOW(1,HVar19);
        _PTR_DAT_10a8_0000_10a8_830e = (undefined **)CONCAT22(0x10a8,iVar10);
        FUN_1060_31aa();
        PTR_DAT_10a8_0000_10a8_87ee = (undefined *)&DAT_10a8_0001;
LAB_1060_0a8e:
        INVALIDATERECT(1,(RECT16 *)0x0,0);
        PTR_DAT_10a8_0000_10a8_84d2 = (undefined *)&PTR_LOOP_10a8_0004;
        uVar16 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_830e >> 0x10);
        puVar14 = (undefined4 *)_PTR_DAT_10a8_0000_10a8_830e;
        PTR_DAT_10a8_0000_10a8_8396 = (undefined *)(((*(byte *)(puVar14 + 0x1f) & 0x3c) << 8) >> 10)
        ;
        puVar18 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_57a6;
        for (iVar10 = 0x21; iVar10 != 0; iVar10 = iVar10 + -1) {
          puVar6 = puVar18;
          puVar18 = puVar18 + 1;
          puVar4 = puVar14;
          puVar14 = puVar14 + 1;
          *puVar6 = *puVar4;
        }
        *(undefined2 *)puVar18 = *(undefined2 *)puVar14;
        *(undefined *)(undefined2 *)((int)puVar18 + 2) =
             *(undefined *)(undefined2 *)((int)puVar14 + 2);
                    // WARNING: Ignoring partial resolution of indirect
                    // WARNING: Ignoring partial resolution of indirect
        uVar20 = 0x1fff;
        HVar19 = GETDLGITEM(0x40a,(int16)CONCAT214(in_stack_0000ffb6,
                                                   CONCAT212(in_stack_0000ffb4,
                                                             CONCAT210(param_2_00,
                                                                       CONCAT28(in_stack_0000ffb0,
                                                                                CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(0x1fff,
                                                  param_5)))))))));
        FUN_1060_30e2(HVar19,uVar20);
        puVar17 = PTR_DAT_10a8_0000_10a8_84d2;
        HVar19 = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffb6,
                                                   CONCAT212(in_stack_0000ffb4,
                                                             CONCAT210(param_2_00,
                                                                       CONCAT28(in_stack_0000ffb0,
                                                                                CONCAT26(
                                                  in_stack_0000ffae,
                                                  CONCAT15(uVar33,CONCAT14(uVar32,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_84d2,param_5)))))))));
        FUN_1060_2e28(HVar19,(int)puVar17,CONCAT11(uVar33,uVar32));
        FUN_1060_0082(param_5,0);
        HVar19 = GETDLGITEM(0x40a,(int16)CONCAT214(in_stack_0000ffb8,
                                                   CONCAT212(in_stack_0000ffb6,
                                                             CONCAT210(in_stack_0000ffb4,
                                                                       CONCAT28(param_2_00,
                                                                                CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
        SETWINDOWPOS(0x45,0,(int16)CONCAT214(in_stack_0000ffb0,
                                             CONCAT212(in_stack_0000ffae,
                                                       CONCAT111(uVar33,CONCAT110(uVar32,CONCAT28(
                                                  HVar19,0x1000200000))))),
                     (int16)CONCAT214(in_stack_0000ffc0,
                                      CONCAT212(in_stack_0000ffbe,
                                                CONCAT210(in_stack_0000ffbc,
                                                          CONCAT28(in_stack_0000ffba,
                                                                   CONCAT26(in_stack_0000ffb8,
                                                                            CONCAT24(
                                                  in_stack_0000ffb6,
                                                  CONCAT22(in_stack_0000ffb4,param_2_00))))))),
                     (int16)CONCAT214(in_stack_0000ffd0,
                                      CONCAT104(in_stack_0000ffc6,
                                                CONCAT22(in_stack_0000ffc4,in_stack_0000ffc2))),
                     (int16)CONCAT214(in_stack_0000ffe0,
                                      CONCAT212(in_stack_0000ffde,
                                                CONCAT210(in_stack_0000ffdc,
                                                          CONCAT28(in_stack_0000ffda,
                                                                   CONCAT26(in_stack_0000ffd8,
                                                                            CONCAT24(
                                                  in_stack_0000ffd6,
                                                  CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2))))))
                                     ),in_stack_0000ffe2);
        HVar19 = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffb8,
                                                   CONCAT212(in_stack_0000ffb6,
                                                             CONCAT210(in_stack_0000ffb4,
                                                                       CONCAT28(param_2_00,
                                                                                CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
        SETWINDOWPOS(0x45,0,(int16)CONCAT214(in_stack_0000ffb0,
                                             CONCAT212(in_stack_0000ffae,
                                                       CONCAT111(uVar33,CONCAT110(uVar32,CONCAT28(
                                                  HVar19,0x1000080000))))),
                     (int16)CONCAT214(in_stack_0000ffc0,
                                      CONCAT212(in_stack_0000ffbe,
                                                CONCAT210(in_stack_0000ffbc,
                                                          CONCAT28(in_stack_0000ffba,
                                                                   CONCAT26(in_stack_0000ffb8,
                                                                            CONCAT24(
                                                  in_stack_0000ffb6,
                                                  CONCAT22(in_stack_0000ffb4,param_2_00))))))),
                     (int16)CONCAT214(in_stack_0000ffd0,
                                      CONCAT104(in_stack_0000ffc6,
                                                CONCAT22(in_stack_0000ffc4,in_stack_0000ffc2))),
                     (int16)CONCAT214(in_stack_0000ffe0,
                                      CONCAT212(in_stack_0000ffde,
                                                CONCAT210(in_stack_0000ffdc,
                                                          CONCAT28(in_stack_0000ffda,
                                                                   CONCAT26(in_stack_0000ffd8,
                                                                            CONCAT24(
                                                  in_stack_0000ffd6,
                                                  CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2))))))
                                     ),in_stack_0000ffe2);
        HVar19 = GETDLGITEM(0x415,(int16)CONCAT214(in_stack_0000ffb8,
                                                   CONCAT212(in_stack_0000ffb6,
                                                             CONCAT210(in_stack_0000ffb4,
                                                                       CONCAT28(param_2_00,
                                                                                CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
        SETWINDOWPOS(0x44,(int)PTR_DAT_10a8_0000_10a8_5794 * 3 >> 1 & 0xffU |
                          (uint)(byte)((int)PTR_DAT_10a8_0000_10a8_5794 * 3 >> 9) << 8,
                     (int16)CONCAT214(in_stack_0000ffb0,
                                      CONCAT212(in_stack_0000ffae,
                                                CONCAT111(uVar33,CONCAT110(uVar32,CONCAT28(HVar19,(
                                                  qword)CONCAT15((char)((uint)(
                                                  PTR_DAT_10a8_0000_10a8_82bc + -0x108) >> 8),
                                                  CONCAT14((char)(PTR_DAT_10a8_0000_10a8_82bc +
                                                                 -0x108),0x800f0))))))),
                     (int16)CONCAT214(in_stack_0000ffc0,
                                      CONCAT212(in_stack_0000ffbe,
                                                CONCAT210(in_stack_0000ffbc,
                                                          CONCAT28(in_stack_0000ffba,
                                                                   CONCAT26(in_stack_0000ffb8,
                                                                            CONCAT24(
                                                  in_stack_0000ffb6,
                                                  CONCAT22(in_stack_0000ffb4,param_2_00))))))),
                     (int16)CONCAT214(in_stack_0000ffd0,
                                      CONCAT104(in_stack_0000ffc6,
                                                CONCAT22(in_stack_0000ffc4,in_stack_0000ffc2))),
                     (int16)CONCAT214(in_stack_0000ffe0,
                                      CONCAT212(in_stack_0000ffde,
                                                CONCAT210(in_stack_0000ffdc,
                                                          CONCAT28(in_stack_0000ffda,
                                                                   CONCAT26(in_stack_0000ffd8,
                                                                            CONCAT24(
                                                  in_stack_0000ffd6,
                                                  CONCAT22(in_stack_0000ffd4,in_stack_0000ffd2))))))
                                     ),in_stack_0000ffe2);
        HVar19 = GETDLGITEM(0x415,(int16)CONCAT214(in_stack_0000ffb8,
                                                   CONCAT212(in_stack_0000ffb6,
                                                             CONCAT210(in_stack_0000ffb4,
                                                                       CONCAT28(param_2_00,
                                                                                CONCAT26(
                                                  in_stack_0000ffb0,
                                                  CONCAT24(in_stack_0000ffae,
                                                           CONCAT13(uVar33,CONCAT12(uVar32,param_5))
                                                          )))))));
        uVar28 = 0xa8;
        uVar29 = 0x10;
        uVar30 = 0xae;
        uVar31 = 0x57;
        SETWINDOWTEXT(0x57ae,CONCAT22(HVar19,0x10a8));
        HVar11 = GETDLGITEM(0x415,(int16)CONCAT214(param_2_00,
                                                   CONCAT212(in_stack_0000ffb0,
                                                             CONCAT210(in_stack_0000ffae,
                                                                       CONCAT19(uVar33,CONCAT18(
                                                  uVar32,CONCAT26(HVar19,CONCAT15(uVar29,CONCAT14(
                                                  uVar28,CONCAT13(uVar31,CONCAT12(uVar30,param_5))))
                                                  )))))));
        LVar25 = SENDMESSAGE(0,(uint16)CONCAT115(uVar33,CONCAT114(uVar32,CONCAT212(HVar19,CONCAT111(
                                                  uVar29,CONCAT110(uVar28,CONCAT19(uVar31,CONCAT18(
                                                  uVar30,CONCAT26(HVar11,0x415001f0000)))))))),
                             in_stack_0000ffae,CONCAT22(param_2_00,in_stack_0000ffb0));
        in_DX = (uint)((ulong)LVar25 >> 0x10);
      }
    }
  }
  if ((DAT_10a8_0a47 & 0x40) != 0) {
    FUN_1090_88fa();
  }
LAB_1060_10c8:
  return (ulong)in_DX << 0x10;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1060_10d0(HWND16 param_1,int16 *param_2,undefined2 param_3,HDC16 param_4,undefined2 param_5,
             void *param_6,bitmapinfo *param_7,undefined2 param_8,dword param_9)

{
  byte bVar1;
  undefined4 uVar2;
  int iVar3;
  HDC16 hdest;
  int16 *__return_storage_ptr__;
  int16 *__return_storage_ptr___00;
  uint uVar4;
  int16 *__return_storage_ptr___01;
  int iVar5;
  undefined2 unaff_BP;
  VA_LIST16 unaff_SI;
  int *piVar6;
  int iVar7;
  HDC16 HVar8;
  uint uVar9;
  HRGN16 unaff_DI;
  undefined4 *puVar10;
  undefined2 uVar11;
  RECT16 *unaff_SS;
  dword dVar12;
  HDC16 in_stack_00000000;
  undefined2 in_stack_00000002;
  unkbyte10 in_stack_00000018;
  dword in_stack_00000022;
  HRGN16 HVar13;
  undefined2 uVar14;
  HDC16 hdc;
  RECT16 *rect;
  int16 *piVar15;
  int in_stack_0000ffd6;
  int iVar16;
  int in_stack_0000ffd8;
  int in_stack_0000ffda;
  undefined *in_stack_0000ffdc;
  int iVar17;
  uint in_stack_0000ffde;
  undefined2 in_stack_0000ffe0;
  int in_stack_0000ffe2;
  undefined2 in_stack_0000ffe4;
  int iVar18;
  undefined2 in_stack_0000ffea;
  undefined2 in_stack_0000ffec;
  int in_stack_0000ffee;
  int in_stack_0000fff0;
  HDC16 in_stack_0000fff2;
  uint uVar19;
  int iVar20;
  int *in_stack_0000fffa;
  int *piVar21;
  int16 *piVar22;

  iVar18 = 0;
  if ((PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&DAT_10a8_0003) &&
     (((uint)PTR_DAT_10a8_0000_10a8_8310 | (uint)PTR_DAT_10a8_0000_10a8_830e) != 0)) {
    iVar3 = (int)&PTR_DAT_10a8_0000_10a8_2eae + *_PTR_DAT_10a8_0000_10a8_830e * 0x93;
    uVar19 = (uint)*(byte *)(*_PTR_DAT_10a8_0000_10a8_830e * 0x93 + 0x2f28);
    if (param_2 == (int16 *)0x0) {
      iVar18 = 1;
      param_2 = (int16 *)GETDC(param_1);
    }
    if (PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0) {
      piVar6 = (int *)&PTR_LOOP_10a8_0004;
    }
    else {
      piVar6 = (int *)(PTR_DAT_10a8_0000_10a8_82bc + -0x152);
    }
    piVar22 = (int16 *)0x6;
    FUN_1028_23ac(0,0,(HRGN16)param_2,(int)piVar6,6,1,
                  *(int *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x32),(void *)0x0,(bitmapinfo *)0x0,
                  unaff_SI,unaff_DI,in_stack_0000ffd6,
                  (undefined1  [10])
                  CONCAT28(in_stack_0000ffe0,
                           CONCAT26(in_stack_0000ffde,
                                    CONCAT24(in_stack_0000ffdc,
                                             CONCAT22(in_stack_0000ffda,in_stack_0000ffd8)))),
                  CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2));
    hdest = CREATECOMPATIBLEDC((HDC16)param_2);
    __return_storage_ptr__ =
         SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_575a,hdest,(HRGN16)unaff_SI,unaff_DI,
                      (int16)CONCAT214(in_stack_0000ffe4,
                                       CONCAT212(in_stack_0000ffe2,
                                                 CONCAT210(in_stack_0000ffe0,
                                                           CONCAT28(in_stack_0000ffde,
                                                                    CONCAT26(in_stack_0000ffdc,
                                                                             CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                                      ));
    iVar20 = 0;
    if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&PTR_LOOP_10a8_0004) {
      SETRECT((RECT16 *)CONCAT22((int)piVar6 + 0x23,0x59),
              (int16)CONCAT214(in_stack_0000ffd8,
                               CONCAT212(in_stack_0000ffd6,
                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(0x10a8,
                                                  CONCAT24(0x87f2,CONCAT22((int)piVar6 + 0x15,0x4b))
                                                  ))))),
              (int16)CONCAT214(iVar18,CONCAT212(iVar3,CONCAT210(__return_storage_ptr__,
                                                                CONCAT28(in_stack_0000ffe2,
                                                                         CONCAT26(in_stack_0000ffe0,
                                                                                  CONCAT24(
                                                  in_stack_0000ffde,
                                                  CONCAT22(in_stack_0000ffdc,in_stack_0000ffda))))))
                              ),
              (int16)ZEXT1416(CONCAT212(uVar19,CONCAT210(hdest,CONCAT28(in_stack_0000fff2,
                                                                        CONCAT26(in_stack_0000fff0,
                                                                                 CONCAT24(
                                                  in_stack_0000ffee,
                                                  CONCAT22(in_stack_0000ffec,in_stack_0000ffea))))))
                             ),
              (int16)CONCAT106(CONCAT28(param_3,CONCAT26(param_2,CONCAT24(param_1,CONCAT22(
                                                  in_stack_00000002,in_stack_00000000)))),
                               CONCAT24(unaff_BP,CONCAT22(piVar22,piVar6))));
      PTR_DAT_10a8_0000_10a8_87fc = (undefined *)((ulong)_PTR_DAT_10a8_0000_10a8_87f2 >> 0x10);
      PTR_DAT_10a8_0000_10a8_8800 = (undefined *)((ulong)_PTR_DAT_10a8_0000_10a8_87f6 >> 0x10);
      OFFSETRECT((RECT16 *)0xe0000,
                 (int16)CONCAT214(in_stack_0000ffdc,
                                  CONCAT212(in_stack_0000ffda,
                                            CONCAT210(in_stack_0000ffd8,
                                                      CONCAT28(in_stack_0000ffd6,
                                                               CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  0x10a887fa)))))),
                 (int16)CONCAT214(in_stack_0000ffec,
                                  CONCAT212(in_stack_0000ffea,
                                            CONCAT210(iVar18,CONCAT28(iVar3,CONCAT26(
                                                  __return_storage_ptr__,
                                                  CONCAT24(in_stack_0000ffe2,
                                                           CONCAT22(in_stack_0000ffe0,
                                                                    in_stack_0000ffde))))))));
      in_stack_0000fff2 = 0;
      piVar22 = (int16 *)&PTR_DAT_10a8_0000_10a8_87f2;
      iVar7 = 0;
      puVar10 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_87f2;
      in_stack_0000fffa = piVar6;
      do {
        FUN_1018_5f08((HRGN16)param_2,puVar10,3 - (iVar7 == 0) | 0x20,0,0);
        iVar7 = iVar7 + 1;
        puVar10 = puVar10 + 2;
      } while (puVar10 < (undefined4 *)&PTR_DAT_10a8_0000_10a8_8802);
    }
    else {
      PTR_DAT_10a8_0000_10a8_87fc = (undefined *)0xfffb;
      _PTR_DAT_10a8_0000_10a8_87f2 = CONCAT22(0xfffb,PTR_DAT_10a8_0000_10a8_87f2);
      PTR_DAT_10a8_0000_10a8_8800 = (undefined *)0xfffa;
      _PTR_DAT_10a8_0000_10a8_87f6 = CONCAT22(0xfffa,PTR_DAT_10a8_0000_10a8_87f6);
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(__return_storage_ptr__,
                                  CONCAT212(in_stack_0000ffe2,
                                            CONCAT210(in_stack_0000ffe0,
                                                      CONCAT28(in_stack_0000ffde,
                                                               CONCAT26(in_stack_0000ffdc,
                                                                        CONCAT24(in_stack_0000ffda,
                                                                                 CONCAT22(
                                                  in_stack_0000ffd8,in_stack_0000ffd6))))))));
    __return_storage_ptr___00 =
         SETBKMODE((int16 *)&DAT_10a8_0001,(HDC16)param_2,
                   (int16)CONCAT214(in_stack_0000ffe0,
                                    CONCAT212(in_stack_0000ffde,
                                              CONCAT210(in_stack_0000ffdc,
                                                        CONCAT28(in_stack_0000ffda,
                                                                 CONCAT26(in_stack_0000ffd8,
                                                                          CONCAT24(in_stack_0000ffd6
                                                                                   ,CONCAT22(
                                                  unaff_DI,unaff_SI))))))));
    if (param_4 == 0xffff) {
      HVar8 = 0;
      uVar4 = uVar19;
    }
    else {
      uVar4 = param_4 + 1;
      HVar8 = param_4;
    }
    if (*(int *)(iVar3 + 0x34) != 0) {
      iVar16 = (int)_PTR_DAT_10a8_0000_10a8_5752;
      iVar7 = (int)((ulong)_PTR_DAT_10a8_0000_10a8_5752 >> 0x10);
      iVar5 = (int)_PTR_DAT_10a8_0000_10a8_5756;
      iVar17 = (int)((ulong)_PTR_DAT_10a8_0000_10a8_5756 >> 0x10);
      rect = (RECT16 *)((int)s_From___s_c_c_10a8_10a2 + 6);
      hdc = (HDC16)&PTR_DAT_10a8_0000_10a8_5752;
      piVar15 = param_2;
      __return_storage_ptr___01 =
           (int16 *)GETSTOCKOBJECT((int16)CONCAT214(iVar7,CONCAT212(iVar16,CONCAT210(unaff_DI,
                                                  CONCAT28(unaff_SI,CONCAT26(param_2,0x10a857520004)
                                                          )))));
      FILLRECT(__return_storage_ptr___01,hdc,rect,(HBRUSH16)piVar15);
      iVar7 = iVar7 + 1;
      iVar17 = iVar17 + -1;
      in_stack_0000ffd6 = iVar16 + 1;
      in_stack_0000ffda = iVar5 + -1;
      FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_8316,(HDC16)&stack0xffd6,unaff_SS,(HBRUSH16)param_2);
      in_stack_0000ffd8 = (iVar17 - iVar7) / 2 + iVar7;
      FUN_1018_5580(param_2,(int *)&stack0xffd6,(LPCSTR)0x51372,
                    (int16)CONCAT214(in_stack_0000ffe0,
                                     CONCAT212(in_stack_0000ffde,
                                               CONCAT210(in_stack_0000ffd8,
                                                         CONCAT28(in_stack_0000ffda,
                                                                  CONCAT26(iVar7,CONCAT24(
                                                  in_stack_0000ffd6,CONCAT22(unaff_DI,unaff_SI))))))
                                    ));
      _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x137810a8,
                (LPCSTR)CONCAT22(*(undefined2 *)(iVar3 + 0x34),0x10a8),unaff_SI);
      FUN_1018_5580(param_2,(int *)&PTR_DAT_10a8_0000_10a8_5752,(LPCSTR)0x86de,
                    (int16)CONCAT214(in_stack_0000ffe0,
                                     CONCAT212(in_stack_0000ffde,
                                               CONCAT210(in_stack_0000ffd8,
                                                         CONCAT28(in_stack_0000ffda,
                                                                  CONCAT26(iVar7,CONCAT24(
                                                  in_stack_0000ffd6,CONCAT22(unaff_DI,unaff_SI))))))
                                    ));
      in_stack_0000ffdc = PTR_DAT_10a8_0000_10a8_5758 + -1;
      FUN_1018_5580(param_2,(int *)&stack0xffd6,(LPCSTR)0x3137d,
                    (int16)CONCAT214(in_stack_0000ffe0,
                                     CONCAT212(in_stack_0000ffde,
                                               CONCAT210(in_stack_0000ffdc,
                                                         CONCAT28(in_stack_0000ffda,
                                                                  CONCAT26(in_stack_0000ffd8,
                                                                           CONCAT24(
                                                  in_stack_0000ffd6,CONCAT22(unaff_DI,unaff_SI))))))
                                    ));
    }
    if ((int)HVar8 < (int)uVar4) {
      piVar6 = (int *)((int)&PTR_DAT_10a8_0000_10a8_59d6 + HVar8 * 8);
      in_stack_0000fff0 = HVar8 * 4;
      in_stack_0000ffee = in_stack_0000fff0 + iVar3 + 0x3c;
      in_stack_0000fff2 = HVar8;
      in_stack_0000fffa = piVar6;
      do {
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_7d4e,(HDC16)piVar6,
                 (RECT16 *)((int)s_From___s_c_c_10a8_10a2 + 6),(HBRUSH16)param_2);
        uVar11 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_830e >> 0x10);
        uVar19 = (uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_830e + in_stack_0000fff0 + 0x3d);
        if (uVar19 == 0) {
          HVar13 = hdest;
          if (iVar20 != -1) {
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_5846,hdest,(HRGN16)unaff_SI,unaff_DI,
                         (int16)CONCAT214(__return_storage_ptr__,
                                          CONCAT212(in_stack_0000ffe2,
                                                    CONCAT210(in_stack_0000ffe0,
                                                              CONCAT28(in_stack_0000ffde,
                                                                       CONCAT26(in_stack_0000ffdc,
                                                                                CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                                         ));
            HVar13 = hdest;
          }
          iVar7 = *piVar6;
          iVar17 = piVar6[1];
          uVar11 = 0x40;
          uVar14 = 0x40;
          piVar15 = param_2;
          iVar16 = in_stack_0000ffee;
          hdest = HVar13;
          iVar5 = FUN_1060_328e(*(int *)(in_stack_0000ffee + -2));
          BITBLT(0x20,(int16)CONCAT214(iVar7,CONCAT212(iVar17,CONCAT210(uVar14,CONCAT28(uVar11,
                                                  CONCAT26(HVar13,CONCAT24(iVar5 << 6,0xcc)))))),
                 (int16)CONCAT214(in_stack_0000ffde,
                                  CONCAT212(in_stack_0000ffdc,
                                            CONCAT210(in_stack_0000ffda,
                                                      CONCAT28(in_stack_0000ffd8,
                                                               CONCAT26(in_stack_0000ffd6,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,piVar15))))))),
                 (int16)CONCAT214(iVar16,CONCAT212(uVar4,CONCAT210(__return_storage_ptr___00,
                                                                   CONCAT28(iVar18,CONCAT26(iVar3,
                                                  CONCAT24(__return_storage_ptr__,
                                                           CONCAT22(in_stack_0000ffe2,
                                                                    in_stack_0000ffe0))))))),
                 (int16)CONCAT214(unaff_BP,CONCAT212(piVar22,CONCAT210(in_stack_0000fffa,
                                                                       CONCAT28(iVar20,CONCAT26(
                                                  uVar19,CONCAT24(hdest,CONCAT22(in_stack_0000fff2,
                                                                                 in_stack_0000fff0))
                                                  ))))),in_stack_00000000,
                 (int16)CONCAT214(param_7,CONCAT212(param_6,CONCAT210(param_5,CONCAT28(param_4,
                                                  CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1
                                                  ,in_stack_00000002))))))),
                 (int16)CONCAT106(in_stack_00000018,CONCAT42(param_9,param_8)),in_stack_00000022);
          iVar20 = -1;
          if ((*(byte *)(in_stack_0000ffee + -2) & 1) == 0) {
            bVar1 = *(byte *)(in_stack_0000ffee + 1);
            uVar11 = SUB42(s_up_to__d_10a8_1393,0);
          }
          else {
            bVar1 = *(byte *)(in_stack_0000ffee + 1);
            uVar11 = SUB42(s_needs__d_10a8_138a,0);
          }
          piVar22 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar11,0x10a8),
                              (LPCSTR)CONCAT22((uint)bVar1,0x10a8),unaff_SI);
        }
        else {
          uVar2 = *(undefined4 *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x3a + in_stack_0000fff0);
          in_stack_0000ffde = (uint)uVar2;
          in_stack_0000ffe0 = (undefined2)((ulong)uVar2 >> 0x10);
          FUN_1060_32b2((uint *)&stack0xffde);
          uVar9 = *(uint *)(in_stack_0000ffe2 + 0x32);
          if ((int)(uVar9 + ((int)uVar9 >> 0xf & 0x1fU)) >> 5 != iVar20) {
            iVar20 = (int)uVar9 >> 5;
            SELECTOBJECT(*(int16 **)((int)&PTR_DAT_10a8_0000_10a8_575a + iVar20 * 2),hdest,
                         (HRGN16)unaff_SI,unaff_DI,
                         (int16)CONCAT214(__return_storage_ptr__,
                                          CONCAT212(in_stack_0000ffe2,
                                                    CONCAT210(in_stack_0000ffe0,
                                                              CONCAT28(in_stack_0000ffde,
                                                                       CONCAT26(in_stack_0000ffdc,
                                                                                CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                                         ));
          }
          BITBLT(0x20,(int16)CONCAT214(*piVar6,CONCAT212(piVar6[1],
                                                         CONCAT210(0x40,CONCAT28(0x40,CONCAT26(hdest
                                                  ,CONCAT24((uVar9 & 7) << 6,
                                                            CONCAT22((uVar9 & 0x18) << 3,0xcc)))))))
                 ,(int16)CONCAT214(in_stack_0000ffde,
                                   CONCAT212(in_stack_0000ffdc,
                                             CONCAT210(in_stack_0000ffda,
                                                       CONCAT28(in_stack_0000ffd8,
                                                                CONCAT26(in_stack_0000ffd6,
                                                                         CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_2))))))),
                 (int16)CONCAT214(in_stack_0000ffee,
                                  CONCAT212(uVar4,CONCAT210(__return_storage_ptr___00,
                                                            CONCAT28(iVar18,CONCAT26(iVar3,CONCAT24(
                                                  __return_storage_ptr__,
                                                  CONCAT22(in_stack_0000ffe2,in_stack_0000ffe0))))))
                                 ),
                 (int16)CONCAT214(unaff_BP,CONCAT212(piVar22,CONCAT210(in_stack_0000fffa,
                                                                       CONCAT28(iVar20,CONCAT26(
                                                  uVar19,CONCAT24(hdest,CONCAT22(in_stack_0000fff2,
                                                                                 in_stack_0000fff0))
                                                  ))))),in_stack_00000000,
                 (int16)CONCAT214(param_7,CONCAT212(param_6,CONCAT210(param_5,CONCAT28(param_4,
                                                  CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1
                                                  ,in_stack_00000002))))))),
                 (int16)CONCAT106(in_stack_00000018,CONCAT42(param_9,param_8)),in_stack_00000022);
          if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&PTR_LOOP_10a8_0004) {
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_7c34,hdest,(HRGN16)unaff_SI,unaff_DI,
                         (int16)CONCAT214(__return_storage_ptr__,
                                          CONCAT212(in_stack_0000ffe2,
                                                    CONCAT210(in_stack_0000ffe0,
                                                              CONCAT28(in_stack_0000ffde,
                                                                       CONCAT26(in_stack_0000ffdc,
                                                                                CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                                         ));
            uVar9 = 0;
            piVar21 = piVar6;
            do {
              if ((int)uVar9 < 2) {
                iVar7 = 3;
              }
              else {
                iVar7 = 0x39;
              }
              BITBLT(0x20,(int16)CONCAT214(iVar7 + *piVar6,
                                           CONCAT212((-(uint)((uVar9 & 1) == 0) & 0x36) + 3 +
                                                     piVar6[1],
                                                     CONCAT210(4,CONCAT28(4,CONCAT26(hdest,
                                                  0x16002100cc))))),
                     (int16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(in_stack_0000ffda,
                                                          CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT26(in_stack_0000ffd6,
                                                                            CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_2))))))),
                     (int16)CONCAT214(in_stack_0000ffee,
                                      CONCAT212(uVar4,CONCAT210(__return_storage_ptr___00,
                                                                CONCAT28(iVar18,CONCAT26(iVar3,
                                                  CONCAT24(__return_storage_ptr__,
                                                           CONCAT22(in_stack_0000ffe2,
                                                                    in_stack_0000ffe0))))))),
                     (int16)CONCAT214(unaff_BP,CONCAT212(piVar22,CONCAT210(piVar21,CONCAT28(iVar20,
                                                  CONCAT26(uVar19,CONCAT24(hdest,CONCAT22(
                                                  in_stack_0000fff2,in_stack_0000fff0))))))),
                     in_stack_00000000,
                     (int16)CONCAT214(param_7,CONCAT212(param_6,CONCAT210(param_5,CONCAT28(param_4,
                                                  CONCAT26(param_3,CONCAT24(param_2,CONCAT22(param_1
                                                  ,in_stack_00000002))))))),
                     (int16)CONCAT106(in_stack_00000018,CONCAT42(param_9,param_8)),in_stack_00000022
                    );
              uVar9 = uVar9 + 1;
            } while ((int)uVar9 < 4);
            iVar20 = -2;
            piVar6 = piVar21;
          }
          piVar22 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x138110a8,
                              (LPCSTR)CONCAT22(uVar19,0x10a8),
                              (VA_LIST16)(uint)*(byte *)(in_stack_0000ffee + 1));
          in_stack_0000fffa = piVar6;
        }
        FUN_1018_52da(param_2,*piVar6 + 0x20,(piVar6[3] - (int)PTR_DAT_10a8_0000_10a8_5792) + -4,
                      (int)&DAT_10a8_86de,piVar22,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                      (int16)CONCAT214(__return_storage_ptr__,
                                       CONCAT212(in_stack_0000ffe2,
                                                 CONCAT210(in_stack_0000ffe0,
                                                           CONCAT28(in_stack_0000ffde,
                                                                    CONCAT26(in_stack_0000ffdc,
                                                                             CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                                      ));
        if (in_stack_0000fff2 == DAT_10a8_130a) {
          FRAMERECT((int16 *)PTR_DAT_10a8_0000_10a8_7d4e,(HDC16)piVar6,
                    (RECT16 *)((int)s_From___s_c_c_10a8_10a2 + 6),(HBRUSH16)param_2);
          FUN_1018_5948(piVar6,-1,-1);
          FRAMERECT((int16 *)PTR_DAT_10a8_0000_10a8_7d4e,(HDC16)piVar6,
                    (RECT16 *)((int)s_From___s_c_c_10a8_10a2 + 6),(HBRUSH16)param_2);
          FUN_1018_5948(piVar6,1,1);
        }
        piVar6 = piVar6 + 4;
        in_stack_0000ffee = in_stack_0000ffee + 4;
        in_stack_0000fff0 = in_stack_0000fff0 + 4;
        in_stack_0000fff2 = in_stack_0000fff2 + 1;
      } while ((int)in_stack_0000fff2 < (int)uVar4);
    }
    if ((((PTR_DAT_10a8_0000_10a8_1142 == (undefined *)0x0) ||
         (PTR_DAT_10a8_0000_10a8_1144 != (undefined *)0xb)) ||
        (PTR_DAT_10a8_0000_10a8_114c == (undefined *)0x0)) &&
       (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)0x0)) {
      SETRECT((RECT16 *)
              CONCAT22(PTR_DAT_10a8_0000_10a8_71e0 + 0x3c,PTR_DAT_10a8_0000_10a8_71e2 + 0x1e),
              (int16)CONCAT214(in_stack_0000ffd8,
                               CONCAT212(in_stack_0000ffd6,
                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffd6,
                                                           CONCAT22(PTR_DAT_10a8_0000_10a8_71e0,
                                                                    PTR_DAT_10a8_0000_10a8_71e2)))))
                                        )),
              (int16)CONCAT214(iVar18,CONCAT212(iVar3,CONCAT210(__return_storage_ptr__,
                                                                CONCAT28(in_stack_0000ffe2,
                                                                         CONCAT26(in_stack_0000ffe0,
                                                                                  CONCAT24(
                                                  in_stack_0000ffde,
                                                  CONCAT22(in_stack_0000ffdc,in_stack_0000ffda))))))
                              ),
              (int16)CONCAT214(iVar20,CONCAT212(uVar19,CONCAT210(hdest,CONCAT28(in_stack_0000fff2,
                                                                                CONCAT26(
                                                  in_stack_0000fff0,
                                                  CONCAT24(in_stack_0000ffee,
                                                           CONCAT22(uVar4,__return_storage_ptr___00)
                                                          )))))),
              (int16)CONCAT106(CONCAT28(param_3,CONCAT26(param_2,CONCAT24(param_1,CONCAT22(
                                                  in_stack_00000002,in_stack_00000000)))),
                               CONCAT24(unaff_BP,CONCAT22(piVar22,in_stack_0000fffa))));
      SELECTPALETTE(0,(HPALETTE16)PTR_DAT_10a8_0000_10a8_839e,(bool16)param_2);
      REALIZEPALETTE((uint16 *)param_2,(HDC16)unaff_SI);
      FUN_1018_6c46(param_2,(int)_PTR_DAT_10a8_0000_10a8_71e0,
                    (int)((ulong)_PTR_DAT_10a8_0000_10a8_71e0 >> 0x10),0x3c,0x1e,
                    (HGLOBAL16)PTR_DAT_10a8_0000_10a8_1310,0,0,0x3c,0x1e,0xcc0020,
                    CONCAT210(in_stack_0000ffdc,
                              CONCAT28(in_stack_0000ffda,
                                       CONCAT26(in_stack_0000ffd8,
                                                CONCAT24(in_stack_0000ffd6,
                                                         CONCAT22(unaff_DI,unaff_SI))))),
                    CONCAT22(in_stack_0000ffe0,in_stack_0000ffde),
                    CONCAT210(uVar4,CONCAT28(__return_storage_ptr___00,
                                             CONCAT26(iVar18,CONCAT24(iVar3,CONCAT22(
                                                  __return_storage_ptr__,in_stack_0000ffe2))))),
                    (int16)CONCAT214(piVar22,CONCAT212(in_stack_0000fffa,
                                                       CONCAT210(iVar20,CONCAT28(uVar19,CONCAT26(
                                                  hdest,CONCAT24(in_stack_0000fff2,
                                                                 CONCAT22(in_stack_0000fff0,
                                                                          in_stack_0000ffee))))))),
                    (int16)CONCAT412(_param_4,CONCAT102(CONCAT28(param_3,CONCAT26(param_2,CONCAT24(
                                                  param_1,CONCAT22(in_stack_00000002,
                                                                   in_stack_00000000)))),unaff_BP)),
                    param_6,param_7,(uint16)CONCAT106(in_stack_00000018,CONCAT42(param_9,param_8)),
                    in_stack_00000022);
      uVar11 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_830e >> 0x10);
      piVar22 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x139c10a8,
                          (LPCSTR)CONCAT22(*(undefined2 *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x81)
                                           ,0x10a8),
                          *(VA_LIST16 *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x7f));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(__return_storage_ptr__,
                                    CONCAT212(in_stack_0000ffe2,
                                              CONCAT210(in_stack_0000ffe0,
                                                        CONCAT28(in_stack_0000ffde,
                                                                 CONCAT26(in_stack_0000ffdc,
                                                                          CONCAT24(in_stack_0000ffda
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffd8,in_stack_0000ffd6))))))));
      dVar12 = GETTEXTEXTENT((HDC16)piVar22,&DAT_10a8_86de,
                             (int16)CONCAT214(in_stack_0000ffde,
                                              CONCAT212(in_stack_0000ffdc,
                                                        CONCAT210(in_stack_0000ffda,
                                                                  CONCAT28(in_stack_0000ffd8,
                                                                           CONCAT26(
                                                  in_stack_0000ffd6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_2)))))))
                            );
      if (0x32 < (uint)dVar12) {
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59cc,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT214(__return_storage_ptr__,
                                      CONCAT212(in_stack_0000ffe2,
                                                CONCAT210(in_stack_0000ffe0,
                                                          CONCAT28(in_stack_0000ffde,
                                                                   CONCAT26(in_stack_0000ffdc,
                                                                            CONCAT24(
                                                  in_stack_0000ffda,
                                                  CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6))))))
                                     ));
        dVar12 = GETTEXTEXTENT((HDC16)piVar22,&DAT_10a8_86de,
                               (int16)CONCAT214(in_stack_0000ffde,
                                                CONCAT212(in_stack_0000ffdc,
                                                          CONCAT210(in_stack_0000ffda,
                                                                    CONCAT28(in_stack_0000ffd8,
                                                                             CONCAT26(
                                                  in_stack_0000ffd6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_2)))))))
                              );
        if (0x32 < (uint)dVar12) {
          SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59ce,(HRGN16)param_2,(HRGN16)unaff_SI,
                       unaff_DI,(int16)CONCAT214(__return_storage_ptr__,
                                                 CONCAT212(in_stack_0000ffe2,
                                                           CONCAT210(in_stack_0000ffe0,
                                                                     CONCAT28(in_stack_0000ffde,
                                                                              CONCAT26(
                                                  in_stack_0000ffdc,
                                                  CONCAT24(in_stack_0000ffda,
                                                           CONCAT22(in_stack_0000ffd8,
                                                                    in_stack_0000ffd6))))))));
        }
      }
      FUN_1018_5580(param_2,(int *)&stack0xffd6,(LPCSTR)CONCAT22(piVar22,0x86de),
                    (int16)CONCAT214(in_stack_0000ffe0,
                                     CONCAT212(in_stack_0000ffde,
                                               CONCAT210(in_stack_0000ffdc,
                                                         CONCAT28(in_stack_0000ffda,
                                                                  CONCAT26(in_stack_0000ffd8,
                                                                           CONCAT24(
                                                  in_stack_0000ffd6,CONCAT22(unaff_DI,unaff_SI))))))
                                    ));
    }
    SETBKMODE(__return_storage_ptr___00,(HDC16)param_2,
              (int16)CONCAT214(in_stack_0000ffe0,
                               CONCAT212(in_stack_0000ffde,
                                         CONCAT210(in_stack_0000ffdc,
                                                   CONCAT28(in_stack_0000ffda,
                                                            CONCAT26(in_stack_0000ffd8,
                                                                     CONCAT24(in_stack_0000ffd6,
                                                                              CONCAT22(unaff_DI,
                                                  unaff_SI))))))));
    SELECTOBJECT(__return_storage_ptr__,hdest,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(__return_storage_ptr__,
                                  CONCAT212(in_stack_0000ffe2,
                                            CONCAT210(in_stack_0000ffe0,
                                                      CONCAT28(in_stack_0000ffde,
                                                               CONCAT26(in_stack_0000ffdc,
                                                                        CONCAT24(in_stack_0000ffda,
                                                                                 CONCAT22(
                                                  in_stack_0000ffd8,in_stack_0000ffd6))))))));
    DELETEDC(hdest);
    if (iVar18 != 0) {
      RELEASEDC(param_2,param_1,(HDC16)unaff_SI);
    }
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far
FUN_1060_1644(int16 *param_1,long param_2,undefined2 param_3,int param_4,int param_5)

{
  undefined4 uVar1;
  unkbyte10 Var2;
  bool bVar3;
  char cVar4;
  bool16 bVar5;
  uint uVar6;
  undefined *puVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  HDC16 hdcsrc;
  int iVar11;
  int16 *__return_storage_ptr__;
  int16 *hdest;
  int16 *hdest_00;
  int16 *__return_storage_ptr___00;
  int16 *__return_storage_ptr___01;
  int16 *__return_storage_ptr___02;
  int16 *piVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  int16 **ppiVar19;
  HRGN16 unaff_SI;
  HDC16 HVar20;
  HRGN16 unaff_DI;
  undefined2 uVar21;
  undefined2 unaff_SS;
  LRESULT LVar22;
  undefined uVar23;
  byte bVar24;
  int in_stack_0000ff98;
  undefined2 in_stack_0000ff9a;
  WPARAM16 in_stack_0000ff9c;
  HRGN16 in_stack_0000ff9e;
  undefined2 in_stack_0000ffa0;
  undefined2 in_stack_0000ffa2;
  dword in_stack_0000ffa4;
  undefined6 in_stack_0000ffa8;
  undefined2 in_stack_0000ffae;
  undefined2 in_stack_0000ffb0;
  undefined2 in_stack_0000ffb2;
  int in_stack_0000ffb4;
  int in_stack_0000ffb6;
  int in_stack_0000ffb8;
  HDC16 in_stack_0000ffba;
  int iVar25;
  uint in_stack_0000ffc4;
  undefined2 in_stack_0000ffc6;
  undefined *in_stack_0000ffc8;
  int iVar26;
  undefined2 uVar28;
  long lVar27;
  int in_stack_0000ffd0;
  int in_stack_0000ffd2;
  uint in_stack_0000ffd4;
  uint in_stack_0000ffd6;
  char cVar29;
  int iVar30;
  long lVar31;
  int iVar32;
  ulong uVar33;
  undefined4 *local_c;
  uint local_a;
  uint local_8;

  iVar26 = 1;
  if (_PTR_DAT_10a8_0000_10a8_830e == (int *)0x0) {
    return 0;
  }
  bVar24 = *(byte *)(*_PTR_DAT_10a8_0000_10a8_830e * 0x93 + 0x2f28);
  lVar31 = param_2;
  if ((param_5 == 0) && (PTR_DAT_10a8_0000_10a8_131e != (undefined *)0x0)) {
    bVar5 = PTINRECT((RECT16 *)param_2,SUB41((ulong)param_2 >> 0x10,0));
    if ((bVar5 != 0) ||
       (bVar5 = PTINRECT((RECT16 *)lVar31,SUB41((ulong)lVar31 >> 0x10,0)), bVar5 != 0)) {
      bVar5 = PTINRECT((RECT16 *)lVar31,SUB41((ulong)lVar31 >> 0x10,0));
      if (bVar5 == 0) {
        cVar4 = '\x01';
        local_a = 0x23;
        local_c = (undefined4 *)0x87fa;
      }
      else {
        cVar4 = -1;
        local_a = 0x22;
        local_c = (undefined4 *)&PTR_DAT_10a8_0000_10a8_87f2;
      }
      uVar8 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x32);
      uVar6 = uVar8 & 3;
      iVar18 = uVar8 - uVar6;
      puVar7 = PTR_DAT_10a8_0000_10a8_82bc + -0x150;
      FUN_1018_5d4c((undefined2 *)&stack0xff9c,param_1,0,local_c,local_a,0x50,0,0);
      iVar26 = FUN_1018_5dc4((HWND16 *)&stack0xff9c);
      while (iVar26 != 0) {
        uVar6 = (byte)(cVar4 + (char)uVar6) & 3;
        FUN_1028_23ac(0,0,in_stack_0000ff9e,(int)puVar7,8,0,uVar6 + iVar18,(void *)0x0,
                      (bitmapinfo *)0x0,unaff_SI,unaff_DI,in_stack_0000ff98,
                      (undefined1  [10])
                      CONCAT28(in_stack_0000ffa2,
                               CONCAT26(in_stack_0000ffa0,
                                        CONCAT24(in_stack_0000ff9e,
                                                 CONCAT22(in_stack_0000ff9c,in_stack_0000ff9a)))),
                      in_stack_0000ffa4);
        iVar26 = FUN_1018_5dc4((HWND16 *)&stack0xff9c);
      }
      *(int *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x32) = uVar6 + iVar18;
      return 1;
    }
  }
  if (param_4 == 0) {
    GETCLIENTRECT((HWND16)&stack0xffb4,(RECT16 *)CONCAT22(param_1,unaff_SS));
    HVar20 = 0;
    if (bVar24 != 0) {
      do {
        bVar5 = PTINRECT((RECT16 *)lVar31,SUB41((ulong)lVar31 >> 0x10,0));
        if (bVar5 != 0) break;
        HVar20 = HVar20 + 1;
      } while ((int)HVar20 < (int)(uint)bVar24);
    }
    if (bVar24 == HVar20) {
      return 0;
    }
    uVar21 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_830e >> 0x10);
    iVar18 = (int)_PTR_DAT_10a8_0000_10a8_830e + 0x3a;
    uVar1 = *(undefined4 *)(iVar18 + HVar20 * 4);
    in_stack_0000ffc6 = *(undefined2 *)(iVar18 + HVar20 * 4 + 2);
    in_stack_0000ffc4 = (uint)uVar1;
    cVar4 = (char)((ulong)uVar1 >> 0x10);
    cVar29 = (char)((ulong)uVar1 >> 0x18);
    if (cVar29 == '\0') {
      FUN_1060_289a(HVar20);
      return 0;
    }
    uVar8 = in_stack_0000ffc4;
    FUN_1060_32b2((uint *)&stack0xffc4);
    uVar33 = (ulong)*(uint *)(in_stack_0000ffc8 + 0x32);
    uVar1 = *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_59d6 + HVar20 * 8);
    iVar18 = (int)uVar1;
    iVar10 = (int)((ulong)uVar1 >> 0x10);
    uVar1 = *(undefined4 *)(HVar20 * 8 + 0x59da);
    iVar25 = (int)uVar1;
    hdcsrc = (HDC16)((ulong)uVar1 >> 0x10);
LAB_1060_1820:
    FUN_1060_289a(HVar20);
    if (param_5 == 0) {
      if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&PTR_LOOP_10a8_0004) {
        uVar6 = (uint)uVar33;
        iVar11 = (int)(uVar6 & 0x18) >> 3;
        __return_storage_ptr__ = (int16 *)GETDC((HWND16)param_1);
        hdest = (int16 *)CREATECOMPATIBLEDC((HDC16)__return_storage_ptr__);
        hdest_00 = (int16 *)CREATECOMPATIBLEDC((HDC16)__return_storage_ptr__);
        ppiVar19 = (int16 **)
                   ((int)&PTR_DAT_10a8_0000_10a8_575a +
                   ((int)(uVar6 + ((int)uVar6 >> 0xf & 0x1fU)) >> 5) * 2);
        __return_storage_ptr___00 =
             SELECTOBJECT(*ppiVar19,(HRGN16)hdest,unaff_SI,unaff_DI,
                          (int16)CONCAT412(in_stack_0000ffa4,
                                           CONCAT210(in_stack_0000ffa2,
                                                     CONCAT28(in_stack_0000ffa0,
                                                              CONCAT26(in_stack_0000ff9e,
                                                                       CONCAT24(in_stack_0000ff9c,
                                                                                CONCAT22(ppiVar19,
                                                  in_stack_0000ff98)))))));
        iVar9 = 0x40;
        iVar30 = 0x40;
        __return_storage_ptr___01 =
             (int16 *)CREATECOMPATIBLEBITMAP
                                (0x40,(int16)CONCAT214(in_stack_0000ff9e,
                                                       CONCAT212(in_stack_0000ff9c,
                                                                 CONCAT210(ppiVar19,CONCAT28(
                                                  in_stack_0000ff98,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  __return_storage_ptr__,0x40))))))),
                                 (int16)CONCAT214(in_stack_0000ffae,
                                                  CONCAT68(in_stack_0000ffa8,
                                                           CONCAT44(in_stack_0000ffa4,
                                                                    CONCAT22(in_stack_0000ffa2,
                                                                             in_stack_0000ffa0)))));
        piVar12 = hdest_00;
        __return_storage_ptr___02 =
             (int16 *)CREATECOMPATIBLEBITMAP
                                (0xc0,(int16)CONCAT214(in_stack_0000ff9c,
                                                       CONCAT212(ppiVar19,CONCAT210(
                                                  in_stack_0000ff98,
                                                  CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(
                                                  hdest_00,CONCAT13((char)((uint)
                                                  __return_storage_ptr__ >> 8),
                                                  CONCAT12((char)__return_storage_ptr__,0xc0))))))))
                                 ,(int16)CONCAT610(in_stack_0000ffa8,
                                                   CONCAT46(in_stack_0000ffa4,
                                                            CONCAT24(in_stack_0000ffa2,
                                                                     CONCAT22(in_stack_0000ffa0,
                                                                              in_stack_0000ff9e)))))
        ;
        piVar12 = SELECTOBJECT(__return_storage_ptr___02,(HRGN16)piVar12,unaff_SI,unaff_DI,
                               (int16)CONCAT412(in_stack_0000ffa4,
                                                CONCAT210(in_stack_0000ffa2,
                                                          CONCAT28(in_stack_0000ffa0,
                                                                   CONCAT26(in_stack_0000ff9e,
                                                                            CONCAT24(
                                                  in_stack_0000ff9c,
                                                  CONCAT22(ppiVar19,in_stack_0000ff98)))))));
        uVar33 = uVar33 & 0xffff | ZEXT24(piVar12) << 0x10;
        SETCAPTURE((HWND16)param_1);
        uVar21 = 0xffff;
        uVar28 = 0xffff;
        iVar13 = FUN_1018_6506((undefined2 *)&stack0xffe0,
                               CONCAT210(in_stack_0000ff9e,
                                         CONCAT28(in_stack_0000ff9c,
                                                  CONCAT26(ppiVar19,CONCAT24(in_stack_0000ff98,
                                                                             CONCAT22(unaff_DI,
                                                  unaff_SI))))));
        lVar27 = CONCAT22(uVar28,uVar21);
        while (iVar13 != 0) {
          if (lVar31 != lVar27) {
            if (iVar26 == 0) {
              SELECTOBJECT(__return_storage_ptr___01,(HRGN16)hdest,unaff_SI,unaff_DI,
                           (int16)CONCAT412(in_stack_0000ffa4,
                                            CONCAT210(in_stack_0000ffa2,
                                                      CONCAT28(in_stack_0000ffa0,
                                                               CONCAT26(in_stack_0000ff9e,
                                                                        CONCAT24(in_stack_0000ff9c,
                                                                                 CONCAT22(ppiVar19,
                                                  in_stack_0000ff98)))))));
              iVar13 = (int)((ulong)lVar27 >> 0x10);
              iVar32 = (int)((ulong)lVar31 >> 0x10);
              in_stack_0000ffd6 = iVar32 - iVar13;
              in_stack_0000ffd4 = (int)lVar31 - (int)lVar27;
              if (((int)((in_stack_0000ffd4 ^ (int)in_stack_0000ffd4 >> 0xf) -
                        ((int)in_stack_0000ffd4 >> 0xf)) < iVar9) &&
                 ((int)((in_stack_0000ffd6 ^ (int)in_stack_0000ffd6 >> 0xf) -
                       ((int)in_stack_0000ffd6 >> 0xf)) < iVar30)) {
                bVar3 = true;
              }
              else {
                bVar3 = false;
              }
              if (bVar3) {
                BITBLT(0x20,(int16)ZEXT1216(CONCAT210(iVar9 * 3,
                                                      CONCAT19((char)((uint)(iVar30 * 3) >> 8),
                                                               CONCAT18((char)(iVar30 * 3),
                                                                        CONCAT26(
                                                  __return_storage_ptr__,
                                                  CONCAT24((in_stack_0000ffd0 - iVar9) + iVar18,
                                                           CONCAT22((in_stack_0000ffd2 - iVar30) +
                                                                    iVar10,0xcc))))))),
                       (int16)CONCAT214(in_stack_0000ffa0,
                                        CONCAT212(in_stack_0000ff9e,
                                                  CONCAT210(in_stack_0000ff9c,
                                                            CONCAT28(ppiVar19,CONCAT26(
                                                  in_stack_0000ff98,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,hdest_00))))))
                                       ),
                       (int16)CONCAT214(in_stack_0000ffb0,
                                        CONCAT212(in_stack_0000ffae,
                                                  CONCAT66(in_stack_0000ffa8,
                                                           CONCAT42(in_stack_0000ffa4,
                                                                    in_stack_0000ffa2)))),
                       (int16)CONCAT214(iVar25,CONCAT212(iVar10,CONCAT210(iVar18,CONCAT28(
                                                  in_stack_0000ffba,
                                                  CONCAT26(in_stack_0000ffb8,
                                                           CONCAT24(in_stack_0000ffb6,
                                                                    CONCAT22(in_stack_0000ffb4,
                                                                             in_stack_0000ffb2))))))
                                       ),hdcsrc,
                       (int16)CONCAT214(in_stack_0000ffd2,
                                        CONCAT212(in_stack_0000ffd0,
                                                  CONCAT210(iVar13,CONCAT28((int)lVar27,
                                                                            CONCAT26(iVar26,CONCAT24
                                                  (in_stack_0000ffc8,
                                                   CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4)))))
                                                 )),
                       (int16)CONCAT214(iVar32,CONCAT212((int)lVar31,
                                                         CONCAT210(iVar30,CONCAT28(iVar9,CONCAT17(
                                                  cVar29,CONCAT16(cVar4,CONCAT24(uVar8,CONCAT22(
                                                  in_stack_0000ffd6,in_stack_0000ffd4)))))))),uVar33
                      );
                piVar12 = hdest_00;
                iVar13 = iVar9;
                iVar32 = iVar30;
              }
              else {
                piVar12 = __return_storage_ptr__;
                iVar13 = in_stack_0000ffd0 + iVar18;
                iVar32 = in_stack_0000ffd2 + iVar10;
              }
              BITBLT(0x20,(int16)CONCAT115((char)((uint)iVar13 >> 8),
                                           CONCAT114((char)iVar13,
                                                     CONCAT113((char)((uint)iVar32 >> 8),
                                                               CONCAT112((char)iVar32,
                                                                         CONCAT210(iVar9,CONCAT19((
                                                  char)((uint)iVar30 >> 8),
                                                  CONCAT18((char)iVar30,CONCAT26(hdest,0xcc)))))))),
                     (int16)CONCAT214(in_stack_0000ffa0,
                                      CONCAT212(in_stack_0000ff9e,
                                                CONCAT210(in_stack_0000ff9c,
                                                          CONCAT28(ppiVar19,CONCAT26(
                                                  in_stack_0000ff98,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,piVar12)))))))
                     ,(int16)CONCAT214(in_stack_0000ffb0,
                                       CONCAT212(in_stack_0000ffae,
                                                 CONCAT66(in_stack_0000ffa8,
                                                          CONCAT42(in_stack_0000ffa4,
                                                                   in_stack_0000ffa2)))),
                     (int16)CONCAT214(iVar25,CONCAT212(iVar10,CONCAT210(iVar18,CONCAT28(
                                                  in_stack_0000ffba,
                                                  CONCAT26(in_stack_0000ffb8,
                                                           CONCAT24(in_stack_0000ffb6,
                                                                    CONCAT22(in_stack_0000ffb4,
                                                                             in_stack_0000ffb2))))))
                                     ),hdcsrc,
                     (int16)CONCAT214(in_stack_0000ffd2,
                                      CONCAT212(in_stack_0000ffd0,
                                                CONCAT210((int)((ulong)lVar27 >> 0x10),
                                                          CONCAT28((int)lVar27,
                                                                   CONCAT26(iVar26,CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4))))))
                                     ),
                     (int16)CONCAT214((int)((ulong)lVar31 >> 0x10),
                                      CONCAT212((int)lVar31,
                                                CONCAT210(iVar30,CONCAT28(iVar9,CONCAT17(cVar29,
                                                  CONCAT16(cVar4,CONCAT24(uVar8,CONCAT22(
                                                  in_stack_0000ffd6,in_stack_0000ffd4)))))))),uVar33
                    );
            }
            else {
              bVar3 = false;
              iVar26 = 0;
            }
            in_stack_0000ffd0 = (int)lVar31 - (int)(RECT16 *)param_2;
            in_stack_0000ffd2 = (int)((ulong)lVar31 >> 0x10) - param_2._2_2_;
            lVar27 = lVar31;
            SELECTOBJECT(__return_storage_ptr___01,(HRGN16)hdest,unaff_SI,unaff_DI,
                         (int16)CONCAT412(in_stack_0000ffa4,
                                          CONCAT210(in_stack_0000ffa2,
                                                    CONCAT28(in_stack_0000ffa0,
                                                             CONCAT26(in_stack_0000ff9e,
                                                                      CONCAT24(in_stack_0000ff9c,
                                                                               CONCAT22(ppiVar19,
                                                  in_stack_0000ff98)))))));
            uVar21 = (undefined2)((ulong)lVar27 >> 0x10);
            uVar28 = (undefined2)((ulong)lVar31 >> 0x10);
            uVar23 = (undefined)((uint)iVar30 >> 8);
            if (bVar3) {
              local_a = 0;
              local_8 = 0;
              iVar13 = iVar9 + in_stack_0000ffd4;
              in_stack_0000ff98 = iVar30 + in_stack_0000ffd6;
              BITBLT(0x20,(int16)ZEXT1216(CONCAT210(iVar9,CONCAT19(uVar23,CONCAT18((char)iVar30,
                                                                                   CONCAT26(hdest_00
                                                  ,CONCAT24(iVar13,CONCAT22(in_stack_0000ff98,0xcc))
                                                  ))))),
                     (int16)CONCAT214(in_stack_0000ffa0,
                                      CONCAT212(in_stack_0000ff9e,
                                                CONCAT210(in_stack_0000ff9c,
                                                          CONCAT28(ppiVar19,CONCAT26(
                                                  in_stack_0000ff98,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,hdest))))))),
                     (int16)CONCAT214(in_stack_0000ffb0,
                                      CONCAT212(in_stack_0000ffae,
                                                CONCAT66(in_stack_0000ffa8,
                                                         CONCAT42(in_stack_0000ffa4,
                                                                  in_stack_0000ffa2)))),
                     (int16)CONCAT214(iVar25,CONCAT212(iVar10,CONCAT210(iVar18,CONCAT28(
                                                  in_stack_0000ffba,
                                                  CONCAT26(in_stack_0000ffb8,
                                                           CONCAT24(in_stack_0000ffb6,
                                                                    CONCAT22(in_stack_0000ffb4,
                                                                             in_stack_0000ffb2))))))
                                     ),hdcsrc,
                     (int16)CONCAT214(in_stack_0000ffd2,
                                      CONCAT212(in_stack_0000ffd0,
                                                CONCAT210(uVar21,CONCAT28((int)lVar27,
                                                                          CONCAT26(iVar26,CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4))))))
                                     ),
                     (int16)CONCAT214(uVar28,CONCAT212((int)lVar31,
                                                       CONCAT210(iVar30,CONCAT28(iVar9,CONCAT17(
                                                  cVar29,CONCAT16(cVar4,CONCAT24(uVar8,CONCAT22(
                                                  in_stack_0000ffd6,in_stack_0000ffd4)))))))),uVar33
                    );
              SELECTOBJECT(*ppiVar19,(HRGN16)hdest,unaff_SI,unaff_DI,
                           (int16)CONCAT412(in_stack_0000ffa4,
                                            CONCAT210(in_stack_0000ffa2,
                                                      CONCAT28(in_stack_0000ffa0,
                                                               CONCAT26(in_stack_0000ff9e,
                                                                        CONCAT24(in_stack_0000ff9c,
                                                                                 CONCAT22(ppiVar19,
                                                  in_stack_0000ff98)))))));
              Var2 = CONCAT28(in_stack_0000ffba,
                              CONCAT26(in_stack_0000ffb8,
                                       CONCAT24(in_stack_0000ffb6,
                                                CONCAT22(in_stack_0000ffb4,in_stack_0000ffb2))));
              in_stack_0000ffb4 = iVar18;
              in_stack_0000ffb6 = iVar10;
              in_stack_0000ffb8 = iVar25;
              in_stack_0000ffba = hdcsrc;
              BITBLT(0x20,(int16)CONCAT115((char)((uint)iVar13 >> 8),
                                           CONCAT114((char)iVar13,
                                                     CONCAT113((char)((uint)in_stack_0000ff98 >> 8),
                                                               CONCAT112((char)in_stack_0000ff98,
                                                                         CONCAT210(0x40,(unkuint10)
                                                                                        CONCAT18(
                                                  0x40,CONCAT26(hdest,CONCAT24((uVar6 & 7) << 6,
                                                                               CONCAT22(iVar11 << 6,
                                                                                        0xcc))))))))
                                          ),
                     (int16)CONCAT214(in_stack_0000ffa0,
                                      CONCAT212(in_stack_0000ff9e,
                                                CONCAT210(in_stack_0000ff9c,
                                                          CONCAT28(ppiVar19,CONCAT26(
                                                  in_stack_0000ff98,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,hdest_00))))))
                                     ),
                     (int16)CONCAT214(in_stack_0000ffb0,
                                      CONCAT212(in_stack_0000ffae,
                                                CONCAT66(in_stack_0000ffa8,
                                                         CONCAT42(in_stack_0000ffa4,
                                                                  in_stack_0000ffa2)))),
                     (int16)CONCAT214(iVar25,CONCAT212(iVar10,CONCAT210(iVar18,Var2))),hdcsrc,
                     (int16)CONCAT214(in_stack_0000ffd2,
                                      CONCAT212(in_stack_0000ffd0,
                                                CONCAT210((int)((ulong)lVar27 >> 0x10),
                                                          CONCAT28((int)lVar27,
                                                                   CONCAT26(iVar26,CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4))))))
                                     ),
                     (int16)CONCAT214((int)((ulong)lVar31 >> 0x10),
                                      CONCAT212((int)lVar31,
                                                CONCAT210(iVar30,CONCAT28(iVar9,CONCAT17(cVar29,
                                                  CONCAT16(cVar4,CONCAT24(uVar8,CONCAT22(
                                                  in_stack_0000ffd6,in_stack_0000ffd4)))))))),uVar33
                    );
              iVar18 = in_stack_0000ffb4;
              iVar10 = in_stack_0000ffb6;
              iVar25 = in_stack_0000ffb8;
              hdcsrc = in_stack_0000ffba;
              FUN_1018_5962((int *)&stack0xffb4,in_stack_0000ffd0,in_stack_0000ffd2);
              if ((int)in_stack_0000ffd4 < 1) {
                in_stack_0000ffb8 = in_stack_0000ffb8 - in_stack_0000ffd4;
              }
              else {
                in_stack_0000ffb4 = in_stack_0000ffb4 - in_stack_0000ffd4;
                local_8 = in_stack_0000ffd4;
              }
              if ((int)in_stack_0000ffd6 < 1) {
                in_stack_0000ffba = in_stack_0000ffba - in_stack_0000ffd6;
              }
              else {
                in_stack_0000ffb6 = in_stack_0000ffb6 - in_stack_0000ffd6;
                local_a = in_stack_0000ffd6;
              }
              iVar16 = in_stack_0000ffb8 - in_stack_0000ffb4;
              iVar17 = in_stack_0000ffba - in_stack_0000ffb6;
              iVar14 = (iVar9 - local_8) + in_stack_0000ffd4;
              iVar15 = (iVar30 - local_a) + in_stack_0000ffd6;
              piVar12 = hdest_00;
              iVar13 = in_stack_0000ffb4;
              iVar32 = in_stack_0000ffb6;
            }
            else {
              BITBLT(0x20,(int16)ZEXT1516(CONCAT114(bVar3,ZEXT1314(CONCAT112(bVar3,CONCAT210(iVar9,
                                                  CONCAT19(uVar23,CONCAT18((char)iVar30,
                                                                           CONCAT26(
                                                  __return_storage_ptr__,
                                                  CONCAT24(in_stack_0000ffd0 + iVar18,
                                                           CONCAT22(in_stack_0000ffd2 + iVar10,0xcc)
                                                          ))))))))),
                     (int16)CONCAT214(in_stack_0000ffa0,
                                      CONCAT212(in_stack_0000ff9e,
                                                CONCAT210(in_stack_0000ff9c,
                                                          CONCAT28(ppiVar19,CONCAT26(
                                                  in_stack_0000ff98,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,hdest))))))),
                     (int16)CONCAT214(in_stack_0000ffb0,
                                      CONCAT212(in_stack_0000ffae,
                                                CONCAT66(in_stack_0000ffa8,
                                                         CONCAT42(in_stack_0000ffa4,
                                                                  in_stack_0000ffa2)))),
                     (int16)CONCAT214(iVar25,CONCAT212(iVar10,CONCAT210(iVar18,CONCAT28(
                                                  in_stack_0000ffba,
                                                  CONCAT26(in_stack_0000ffb8,
                                                           CONCAT24(in_stack_0000ffb6,
                                                                    CONCAT22(in_stack_0000ffb4,
                                                                             in_stack_0000ffb2))))))
                                     ),hdcsrc,
                     (int16)CONCAT214(in_stack_0000ffd2,
                                      CONCAT212(in_stack_0000ffd0,
                                                CONCAT210(uVar21,CONCAT28((int)lVar27,
                                                                          CONCAT26(iVar26,CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4))))))
                                     ),
                     (int16)CONCAT214(uVar28,CONCAT212((int)lVar31,
                                                       CONCAT210(iVar30,CONCAT28(iVar9,CONCAT17(
                                                  cVar29,CONCAT16(cVar4,CONCAT24(uVar8,CONCAT22(
                                                  in_stack_0000ffd6,in_stack_0000ffd4)))))))),uVar33
                    );
              SELECTOBJECT(*ppiVar19,(HRGN16)hdest,unaff_SI,unaff_DI,
                           (int16)CONCAT412(in_stack_0000ffa4,
                                            CONCAT210(in_stack_0000ffa2,
                                                      CONCAT28(in_stack_0000ffa0,
                                                               CONCAT26(in_stack_0000ff9e,
                                                                        CONCAT24(in_stack_0000ff9c,
                                                                                 CONCAT22(ppiVar19,
                                                  in_stack_0000ff98)))))));
              iVar17 = 0x40;
              iVar16 = 0x40;
              iVar14 = (uVar6 & 7) << 6;
              iVar15 = iVar11 << 6;
              piVar12 = hdest;
              iVar13 = in_stack_0000ffd0 + iVar18;
              iVar32 = in_stack_0000ffd2 + iVar10;
            }
            BITBLT(0x20,(int16)CONCAT115((char)((uint)iVar13 >> 8),
                                         CONCAT114((char)iVar13,
                                                   CONCAT113((char)((uint)iVar32 >> 8),
                                                             CONCAT112((char)iVar32,
                                                                       CONCAT210(iVar16,CONCAT19((
                                                  char)((uint)iVar17 >> 8),
                                                  CONCAT18((char)iVar17,
                                                           CONCAT26(piVar12,CONCAT24(iVar14,CONCAT22
                                                  (iVar15,0xcc)))))))))),
                   (int16)CONCAT214(in_stack_0000ffa0,
                                    CONCAT212(in_stack_0000ff9e,
                                              CONCAT210(in_stack_0000ff9c,
                                                        CONCAT28(ppiVar19,CONCAT26(in_stack_0000ff98
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,__return_storage_ptr__)
                                                  )))))),
                   (int16)CONCAT214(in_stack_0000ffb0,
                                    CONCAT212(in_stack_0000ffae,
                                              CONCAT66(in_stack_0000ffa8,
                                                       CONCAT42(in_stack_0000ffa4,in_stack_0000ffa2)
                                                      ))),
                   (int16)CONCAT214(iVar25,CONCAT212(iVar10,CONCAT210(iVar18,CONCAT28(
                                                  in_stack_0000ffba,
                                                  CONCAT26(in_stack_0000ffb8,
                                                           CONCAT24(in_stack_0000ffb6,
                                                                    CONCAT22(in_stack_0000ffb4,
                                                                             in_stack_0000ffb2))))))
                                   ),hdcsrc,
                   (int16)CONCAT214(in_stack_0000ffd2,
                                    CONCAT212(in_stack_0000ffd0,
                                              CONCAT210((int)((ulong)lVar27 >> 0x10),
                                                        CONCAT28((int)lVar27,
                                                                 CONCAT26(iVar26,CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4))))))
                                   ),
                   (int16)CONCAT214((int)((ulong)lVar31 >> 0x10),
                                    CONCAT212((int)lVar31,
                                              CONCAT210(iVar30,CONCAT28(iVar9,CONCAT17(cVar29,
                                                  CONCAT16(cVar4,CONCAT24(uVar8,CONCAT22(
                                                  in_stack_0000ffd6,in_stack_0000ffd4)))))))),uVar33
                  );
            iVar13 = FUN_1060_290c((int)lVar31,(int)((ulong)lVar31 >> 0x10),uVar8,
                                   CONCAT11(cVar29,cVar4),HVar20,1);
            if ((iVar13 < 0) || (iVar13 == 2)) {
              puVar7 = (undefined *)LOADCURSOR(0x7f00,(LPCSTR)0x0);
            }
            else {
              puVar7 = PTR_DAT_10a8_0000_10a8_71dc;
              if ((iVar13 == 1) && (-1 < (int)HVar20)) {
                puVar7 = PTR_DAT_10a8_0000_10a8_58b2;
              }
            }
            SETCURSOR((HCURSOR16)puVar7);
          }
          iVar13 = FUN_1018_6506((undefined2 *)&stack0xffe0,
                                 CONCAT210(in_stack_0000ff9e,
                                           CONCAT28(in_stack_0000ff9c,
                                                    CONCAT26(ppiVar19,CONCAT24(in_stack_0000ff98,
                                                                               CONCAT22(unaff_DI,
                                                  unaff_SI))))));
        }
        if (iVar26 == 0) {
          SELECTOBJECT(__return_storage_ptr___01,(HRGN16)hdest,unaff_SI,unaff_DI,
                       (int16)CONCAT412(in_stack_0000ffa4,
                                        CONCAT210(in_stack_0000ffa2,
                                                  CONCAT28(in_stack_0000ffa0,
                                                           CONCAT26(in_stack_0000ff9e,
                                                                    CONCAT24(in_stack_0000ff9c,
                                                                             CONCAT22(ppiVar19,
                                                  in_stack_0000ff98)))))));
          BITBLT(0x20,(int16)CONCAT115((char)((uint)(in_stack_0000ffd0 + iVar18) >> 8),
                                       CONCAT114((char)(in_stack_0000ffd0 + iVar18),
                                                 CONCAT113((char)((uint)(in_stack_0000ffd2 + iVar10)
                                                                 >> 8),
                                                           CONCAT112((char)(in_stack_0000ffd2 +
                                                                           iVar10),
                                                                     CONCAT210(0x40,(unkuint10)
                                                                                    CONCAT18(0x40,
                                                  CONCAT26(hdest,0xcc))))))),
                 (int16)CONCAT214(in_stack_0000ffa0,
                                  CONCAT212(in_stack_0000ff9e,
                                            CONCAT210(in_stack_0000ff9c,
                                                      CONCAT28(ppiVar19,CONCAT26(in_stack_0000ff98,
                                                                                 CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,__return_storage_ptr__))))))),
                 (int16)CONCAT214(in_stack_0000ffb0,
                                  CONCAT212(in_stack_0000ffae,
                                            CONCAT66(in_stack_0000ffa8,
                                                     CONCAT42(in_stack_0000ffa4,in_stack_0000ffa2)))
                                 ),
                 (int16)CONCAT214(iVar25,CONCAT212(iVar10,CONCAT210(iVar18,CONCAT28(
                                                  in_stack_0000ffba,
                                                  CONCAT26(in_stack_0000ffb8,
                                                           CONCAT24(in_stack_0000ffb6,
                                                                    CONCAT22(in_stack_0000ffb4,
                                                                             in_stack_0000ffb2))))))
                                 ),hdcsrc,
                 (int16)CONCAT214(in_stack_0000ffd2,
                                  CONCAT212(in_stack_0000ffd0,
                                            CONCAT210((int)((ulong)lVar27 >> 0x10),
                                                      CONCAT28((int)lVar27,
                                                               CONCAT26(iVar26,CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,in_stack_0000ffc4))))))
                                 ),
                 (int16)CONCAT214((int)((ulong)lVar31 >> 0x10),
                                  CONCAT212((int)lVar31,
                                            CONCAT210(iVar30,CONCAT28(iVar9,CONCAT17(cVar29,CONCAT16
                                                  (cVar4,CONCAT24(uVar8,CONCAT22(in_stack_0000ffd6,
                                                                                 in_stack_0000ffd4))
                                                  )))))),uVar33);
        }
        piVar12 = (int16 *)(uVar33 >> 0x10);
        RELEASECAPTURE();
        SELECTOBJECT(__return_storage_ptr___00,(HRGN16)hdest,unaff_SI,unaff_DI,
                     (int16)CONCAT412(in_stack_0000ffa4,
                                      CONCAT210(in_stack_0000ffa2,
                                                CONCAT28(in_stack_0000ffa0,
                                                         CONCAT26(in_stack_0000ff9e,
                                                                  CONCAT24(in_stack_0000ff9c,
                                                                           CONCAT22(ppiVar19,
                                                  in_stack_0000ff98)))))));
        SELECTOBJECT(piVar12,(HRGN16)hdest_00,unaff_SI,unaff_DI,
                     (int16)CONCAT412(in_stack_0000ffa4,
                                      CONCAT210(in_stack_0000ffa2,
                                                CONCAT28(in_stack_0000ffa0,
                                                         CONCAT26(in_stack_0000ff9e,
                                                                  CONCAT24(in_stack_0000ff9c,
                                                                           CONCAT22(ppiVar19,
                                                  in_stack_0000ff98)))))));
        DELETEOBJECT((HGDIOBJ16)__return_storage_ptr___01);
        DELETEOBJECT((HGDIOBJ16)__return_storage_ptr___02);
        DELETEDC((HDC16)hdest);
        DELETEDC((HDC16)hdest_00);
        FUN_1060_290c((int)lVar31,(int)((ulong)lVar31 >> 0x10),uVar8,CONCAT11(cVar29,cVar4),HVar20,0
                     );
        RELEASEDC(__return_storage_ptr__,(HWND16)param_1,unaff_SI);
        return 1;
      }
      return 0;
    }
    _PTR_DAT_10a8_0000_10a8_1144 = CONCAT22(PTR_DAT_10a8_0000_10a8_1146,9);
    PTR_DAT_10a8_0000_10a8_114a = in_stack_0000ffc8;
  }
  else {
    LVar22 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff9a,
                                             CONCAT212(in_stack_0000ff98,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (param_1,0x40900000000))))),in_stack_0000ff9c,
                         CONCAT22(in_stack_0000ffa0,in_stack_0000ff9e));
    if ((int)LVar22 == -1) {
      return 0;
    }
    SENDMESSAGE((HWND16)&DAT_10a8_86de,
                (uint16)CONCAT214(in_stack_0000ff9a,
                                  CONCAT212(in_stack_0000ff98,
                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(param_1,
                                                  CONCAT15(4,CONCAT14(10,CONCAT13((char)((ulong)
                                                  LVar22 >> 8),CONCAT12((char)LVar22,0x10a8)))))))))
                ,in_stack_0000ff9c,CONCAT22(in_stack_0000ffa0,in_stack_0000ff9e));
    uVar33 = (ulong)(((int)DAT_10a8_86e0 + DAT_10a8_86e1 * 0x1a) - 0x6db);
    HVar20 = 0xffff;
    uVar8 = 1 << (DAT_10a8_86de + 0xbfU & 0x1f);
    cVar4 = DAT_10a8_86df + -0x41;
    cVar29 = '\x01';
    iVar18 = 2;
    iVar25 = 0x42;
    iVar9 = (param_2._2_2_ / 0x42) * 0x42;
    iVar10 = iVar9 + 1;
    hdcsrc = iVar9 + 0x41;
    CLIENTTOSCREEN((HWND16)&stack0xffbc,(POINT16 *)CONCAT22(param_1,unaff_SS));
    CLIENTTOSCREEN((HWND16)&stack0xffc0,(POINT16 *)CONCAT22(param_1,unaff_SS));
    CLIENTTOSCREEN((HWND16)&stack0xffe0,(POINT16 *)CONCAT22(param_1,unaff_SS));
    puVar7 = PTR_DAT_10a8_0000_10a8_131e;
    param_1 = (int16 *)PTR_DAT_10a8_0000_10a8_131e;
    SCREENTOCLIENT((HWND16)&stack0xffbc,(POINT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_131e,unaff_SS));
    SCREENTOCLIENT((HWND16)&stack0xffc0,(POINT16 *)CONCAT22(puVar7,unaff_SS));
    param_2 = lVar31;
    SCREENTOCLIENT((HWND16)&stack0xffe0,(POINT16 *)CONCAT22(puVar7,unaff_SS));
    if (((uVar8 == 1) && (cVar4 == '\0')) && (*_PTR_DAT_10a8_0000_10a8_830e != 0xe)) {
      bVar24 = 0xc1;
    }
    else {
      lVar31 = param_2;
      if (((uVar8 != 0x1000) || (cVar4 != '\x01')) ||
         (((*_PTR_DAT_10a8_0000_10a8_830e < 4 || (0xc < *_PTR_DAT_10a8_0000_10a8_830e)) &&
          ((*_PTR_DAT_10a8_0000_10a8_830e < 0x10 || (0x13 < *_PTR_DAT_10a8_0000_10a8_830e))))))
      goto LAB_1060_1820;
      bVar24 = 0xeb;
    }
    _DAT_10a8_1148 = 0x7c44;
    _PTR_DAT_10a8_0000_10a8_1144 = 0xb4000a;
    FUN_1018_50de((uint)bVar24,(char *)0x7c44);
  }
  FUN_1058_0832((char)param_1,(char)param_2,(int)((ulong)param_2 >> 0x10));
  return 1;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int16 * __cdecl16far FUN_1060_1d90(int16 *param_1,int16 *param_2)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  undefined4 uVar4;
  HWND16 HVar5;
  int16 *piVar6;
  int16 *hdc;
  int16 *piVar7;
  long lVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  VA_LIST16 unaff_SI;
  HRGN16 unaff_DI;
  char *pcVar12;
  undefined2 *puVar13;
  undefined2 *puVar14;
  char *pcVar15;
  VA_LIST16 unaff_SS;
  LRESULT LVar16;
  dword dVar17;
  COLORREF CVar18;
  undefined *puVar19;
  int iVar20;
  int iVar21;
  undefined *puVar22;
  undefined2 in_stack_0000ff7a;
  undefined2 in_stack_0000ff7c;
  undefined in_stack_0000ff7e;
  undefined in_stack_0000ff7f;
  LPARAM in_stack_0000ff80;
  undefined6 in_stack_0000ff84;
  undefined2 in_stack_0000ff8a;
  LPCSTR in_stack_0000ff8c;
  undefined in_stack_0000ff90 [16];
  uint local_36 [4];
  int local_2e;
  undefined *local_2c;
  int local_2a;
  int local_28;
  undefined4 local_26;
  int local_22;
  undefined4 local_20;
  undefined4 local_1c;
  int local_18;
  int local_16;
  COLORREF local_14;
  COLORREF local_10;
  uint local_c;
  int local_a;
  int16 *local_8;
  undefined4 *local_6;
  int local_4;

  local_18 = 0;
  if (param_2 == (int16 *)0x0) {
    local_18 = 1;
    param_2 = (int16 *)GETDC((HWND16)param_1);
  }
  GETCLIENTRECT((HWND16)&local_2e,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_131e,unaff_SS));
  local_28 = local_28 + -8;
  local_2e = 8;
  local_2a = 0x108;
  local_2c = PTR_DAT_10a8_0000_10a8_71d8;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT610(in_stack_0000ff84,
                                CONCAT46(in_stack_0000ff80,
                                         CONCAT15(in_stack_0000ff7f,
                                                  CONCAT14(in_stack_0000ff7e,
                                                           CONCAT22(in_stack_0000ff7c,
                                                                    in_stack_0000ff7a))))));
  local_10 = SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_2) << 0x10));
  local_14 = SETBKCOLOR((HDC16)_DAT_10a8_5714,CONCAT22(param_2,(int)((ulong)_DAT_10a8_5714 >> 0x10))
                       );
  FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_2e,(RECT16 *)unaff_SS,
           (HBRUSH16)param_2);
  if (DAT_10a8_130a == -2) goto LAB_1060_236c;
  if (DAT_10a8_130a == -1) {
    HVar5 = GETDLGITEM(0x40a,(int16)CONCAT412(in_stack_0000ff80,
                                              CONCAT111(in_stack_0000ff7f,
                                                        CONCAT110(in_stack_0000ff7e,
                                                                  CONCAT28(in_stack_0000ff7c,
                                                                           CONCAT26(
                                                  in_stack_0000ff7a,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_131e))))))));
    LVar16 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ff7c,
                                             CONCAT212(in_stack_0000ff7a,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (HVar5,0x40900000000))))),
                         CONCAT11(in_stack_0000ff7f,in_stack_0000ff7e),in_stack_0000ff80);
    if ((int)LVar16 == -1) goto LAB_1060_236c;
    HVar5 = GETDLGITEM(0x40a,(int16)CONCAT412(in_stack_0000ff80,
                                              CONCAT111(in_stack_0000ff7f,
                                                        CONCAT110(in_stack_0000ff7e,
                                                                  CONCAT28(in_stack_0000ff7c,
                                                                           CONCAT26(
                                                  in_stack_0000ff7a,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_131e))))))));
    SENDMESSAGE((HWND16)&DAT_10a8_86de,
                (uint16)CONCAT214(in_stack_0000ff7c,
                                  CONCAT212(in_stack_0000ff7a,
                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(HVar5,
                                                  CONCAT24(0x40a,CONCAT22((int)LVar16,0x10a8))))))),
                CONCAT11(in_stack_0000ff7f,in_stack_0000ff7e),in_stack_0000ff80);
    local_1c = CONCAT22(CONCAT11(1,DAT_10a8_86df + -0x41),1 << (DAT_10a8_86de + 0xbfU & 0x1f));
  }
  else {
    if (_PTR_DAT_10a8_0000_10a8_830e == (int *)0x0) goto LAB_1060_236c;
    local_1c = *(undefined4 *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x3a + DAT_10a8_130a * 4);
    local_20 = *(ulong *)(*_PTR_DAT_10a8_0000_10a8_830e * 0x93 + DAT_10a8_130a * 4 + 0x2ee8);
    local_1c._3_1_ = (byte)((ulong)local_1c >> 0x18);
    if (local_1c._3_1_ == '\0') {
      if ((local_20 & 1) == 0) {
        puVar14 = (undefined2 *)&DAT_10a8_86de;
        puVar13 = (undefined2 *)s_Can_hold_up_to_10a8_13b7;
        iVar10 = 8;
      }
      else {
        puVar14 = (undefined2 *)&DAT_10a8_86de;
        puVar13 = (undefined2 *)s_Requires_exactly_10a8_13a5;
        iVar10 = 9;
      }
      for (; iVar10 != 0; iVar10 = iVar10 + -1) {
        puVar3 = puVar14;
        puVar14 = puVar14 + 1;
        puVar1 = puVar13;
        puVar13 = puVar13 + 1;
        *puVar3 = *puVar1;
      }
      local_20._3_1_ = (char)(local_20 >> 0x18);
      local_6 = (undefined4 *)(uint)(local_20._3_1_ != '\x01');
      pcVar12 = (char *)&DAT_10a8_86de;
      uVar9 = 0xffff;
      do {
        if (uVar9 == 0) break;
        uVar9 = uVar9 - 1;
        pcVar2 = pcVar12;
        pcVar12 = pcVar12 + 1;
      } while (*pcVar2 != '\0');
      uVar9 = ~uVar9;
      local_4 = uVar9 - 1;
      if ((undefined4 *)(uint)(local_20._3_1_ != '\x01') == (undefined4 *)0x0) {
        *(undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_86dc + 1 + uVar9) =
             _PTR_PTR_DAT_10a8_0000_10a8_6e6f_10a8_13c7;
        *(undefined *)((int)&DAT_10a8_86e1 + uVar9) = PTR_PTR_10a8_13cb._0_1_;
      }
      else {
        _WSPRINTF((int16 *)((int)&PTR_DAT_10a8_0000_10a8_86dc + 1 + uVar9),(LPSTR)0x13cc10a8,
                  (LPCSTR)(ulong)CONCAT12(local_20._3_1_,0x10a8),unaff_SI);
      }
      do {
        local_4 = 0;
        if ((uint)local_20 == 0x10) {
          local_4 = 2;
LAB_1060_1fdd:
          local_20._0_2_ = 0;
        }
        else {
          if (0x10 < (uint)local_20) {
            if ((uint)local_20 == 0x20) {
              local_4 = 9;
            }
            else if ((uint)local_20 == 0x40) {
              local_4 = 3;
            }
            else if ((uint)local_20 == 0x100) {
              local_4 = 5;
            }
            else {
              if ((uint)local_20 != 0x1000) goto LAB_1060_1f83;
              local_4 = 8;
            }
            goto LAB_1060_1fdd;
          }
          if ((uint)local_20 == 1) {
            local_4 = 4;
            goto LAB_1060_1fdd;
          }
          if ((uint)local_20 == 2) {
            local_4 = 6;
            goto LAB_1060_1fdd;
          }
          if ((uint)local_20 == 4) {
            local_4 = 7;
            goto LAB_1060_1fdd;
          }
          if ((uint)local_20 == 8) {
            local_4 = 1;
            goto LAB_1060_1fdd;
          }
LAB_1060_1f83:
          if (((byte)(uint)local_20 & 0x30) == 0x30) {
            local_4 = 10;
            local_20._0_2_ = (uint)local_20 & 0xffcf;
          }
        }
        if (local_4 == 0) {
          if (((uint)local_20 & 2) == 0) {
            if (((uint)local_20 & 4) == 0) {
              if (((uint)local_20 & 8) == 0) {
                local_4 = 8;
                local_20._0_2_ = (uint)local_20 & 0xefff;
              }
              else {
                local_4 = 1;
                local_20._0_2_ = (uint)local_20 & 0xfff7;
              }
            }
            else {
              local_4 = 7;
              local_20._0_2_ = (uint)local_20 & 0xfffb;
            }
          }
          else {
            local_4 = 6;
            local_20._0_2_ = (uint)local_20 & 0xfffd;
          }
        }
        if (local_6 == (undefined4 *)0x0) {
          pcVar12 = *(char **)((int)s_Weapon_10a8_12ee + 6 + local_4 * 2);
        }
        else {
          pcVar12 = *(char **)((int)&PTR_PTR_10a8_1278 + local_4 * 2);
        }
        puVar13 = (undefined2 *)&stack0xff7a;
        uVar9 = 0xffff;
        do {
          if (uVar9 == 0) break;
          uVar9 = uVar9 - 1;
          pcVar2 = pcVar12;
          pcVar12 = pcVar12 + 1;
        } while (*pcVar2 != '\0');
        uVar9 = ~uVar9;
        puVar14 = (undefined2 *)(pcVar12 + -uVar9);
        for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
          puVar3 = puVar13;
          puVar13 = puVar13 + 1;
          puVar1 = puVar14;
          puVar14 = puVar14 + 1;
          *puVar3 = *puVar1;
        }
        for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
          puVar3 = puVar13;
          puVar13 = (undefined2 *)((int)puVar13 + 1);
          puVar1 = puVar14;
          puVar14 = (undefined2 *)((int)puVar14 + 1);
          *(undefined *)puVar3 = *(undefined *)puVar1;
        }
        if ((uint)local_20 != 0) {
          if (((uint)local_20 & (uint)local_20 - 1) == 0) {
            pcVar12 = (char *)&PTR_PTR_DAT_10a8_0000_10a8_6f20_10a8_13d3;
          }
          else {
            pcVar12 = (char *)&DAT_10a8_13d0;
          }
          pcVar15 = &stack0xff7a;
          uVar9 = 0xffff;
          do {
            if (uVar9 == 0) break;
            uVar9 = uVar9 - 1;
            pcVar2 = pcVar12;
            pcVar12 = pcVar12 + 1;
          } while (*pcVar2 != '\0');
          uVar9 = ~uVar9;
          puVar13 = (undefined2 *)(pcVar12 + -uVar9);
          iVar10 = -1;
          do {
            if (iVar10 == 0) break;
            iVar10 = iVar10 + -1;
            pcVar2 = pcVar15;
            pcVar15 = pcVar15 + 1;
          } while (*pcVar2 != '\0');
          puVar14 = (undefined2 *)(pcVar15 + -1);
          for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
            puVar3 = puVar14;
            puVar14 = puVar14 + 1;
            puVar1 = puVar13;
            puVar13 = puVar13 + 1;
            *puVar3 = *puVar1;
          }
          for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
            puVar3 = puVar14;
            puVar14 = (undefined2 *)((int)puVar14 + 1);
            puVar1 = puVar13;
            puVar13 = (undefined2 *)((int)puVar13 + 1);
            *(undefined *)puVar3 = *(undefined *)puVar1;
          }
        }
        pcVar12 = &stack0xff7a;
        uVar9 = 0xffff;
        do {
          if (uVar9 == 0) break;
          uVar9 = uVar9 - 1;
          pcVar2 = pcVar12;
          pcVar12 = pcVar12 + 1;
        } while (*pcVar2 != '\0');
        uVar9 = ~uVar9;
        puVar13 = (undefined2 *)(pcVar12 + -uVar9);
        pcVar12 = (char *)&DAT_10a8_86de;
        iVar10 = -1;
        do {
          if (iVar10 == 0) break;
          iVar10 = iVar10 + -1;
          pcVar2 = pcVar12;
          pcVar12 = pcVar12 + 1;
        } while (*pcVar2 != '\0');
        puVar14 = (undefined2 *)(pcVar12 + -1);
        for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
          puVar3 = puVar14;
          puVar14 = puVar14 + 1;
          puVar1 = puVar13;
          puVar13 = puVar13 + 1;
          *puVar3 = *puVar1;
        }
        for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
          puVar3 = puVar14;
          puVar14 = (undefined2 *)((int)puVar14 + 1);
          puVar1 = puVar13;
          puVar13 = (undefined2 *)((int)puVar13 + 1);
          *(undefined *)puVar3 = *(undefined *)puVar1;
        }
      } while ((uint)local_20 != 0);
      local_16 = local_2e;
      FUN_1018_5366(param_2,&local_16,&local_2c,(int)&DAT_10a8_86de,0,local_2e,
                    -(local_2e - local_2a),0,0,1);
      local_2c = local_2c + (int)PTR_DAT_10a8_0000_10a8_5794;
      goto LAB_1060_236c;
    }
  }
  local_26 = local_1c;
  FUN_1060_32b2((uint *)&local_26);
  dVar17 = GETTEXTEXTENT(2,(LPCSTR)0x10a813d8,
                         (int16)CONCAT412(in_stack_0000ff80,
                                          CONCAT111(in_stack_0000ff7f,
                                                    CONCAT110(in_stack_0000ff7e,
                                                              CONCAT28(in_stack_0000ff7c,
                                                                       CONCAT26(in_stack_0000ff7a,
                                                                                CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_2))))))));
  local_a = (int)dVar17;
  local_6 = (undefined4 *)(uint)(local_1c._3_1_ != '\x01');
  if ((local_1c._3_1_ != '\x01') == 0) {
    in_stack_0000ff7a = (undefined2)_PTR_PTR_DAT_10a8_0000_10a8_6e6f_10a8_13db;
    in_stack_0000ff7c = (undefined2)((ulong)_PTR_PTR_DAT_10a8_0000_10a8_6e6f_10a8_13db >> 0x10);
    in_stack_0000ff7e = PTR_PTR_10a8_13df._0_1_;
  }
  else {
    _WSPRINTF((int16 *)&stack0xff7a,(LPSTR)CONCAT22(0x13e0,unaff_SS),
              (LPCSTR)(ulong)CONCAT12(local_1c._3_1_,0x10a8),unaff_SI);
  }
  pcVar12 = (char *)(local_22 + 8);
  pcVar15 = &stack0xff7a;
  uVar9 = 0xffff;
  do {
    if (uVar9 == 0) break;
    uVar9 = uVar9 - 1;
    pcVar2 = pcVar12;
    pcVar12 = pcVar12 + 1;
  } while (*pcVar2 != '\0');
  uVar9 = ~uVar9;
  puVar13 = (undefined2 *)(pcVar12 + -uVar9);
  iVar10 = -1;
  do {
    if (iVar10 == 0) break;
    iVar10 = iVar10 + -1;
    pcVar2 = pcVar15;
    pcVar15 = pcVar15 + 1;
  } while (*pcVar2 != '\0');
  puVar14 = (undefined2 *)(pcVar15 + -1);
  for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
    puVar3 = puVar14;
    puVar14 = puVar14 + 1;
    puVar1 = puVar13;
    puVar13 = puVar13 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
    puVar3 = puVar14;
    puVar14 = (undefined2 *)((int)puVar14 + 1);
    puVar1 = puVar13;
    puVar13 = (undefined2 *)((int)puVar13 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  if (local_6 != (undefined4 *)0x0) {
    pcVar15 = (char *)&DAT_10a8_13e4;
    pcVar12 = &stack0xff7a;
    uVar9 = 0xffff;
    do {
      if (uVar9 == 0) break;
      uVar9 = uVar9 - 1;
      pcVar2 = pcVar15;
      pcVar15 = pcVar15 + 1;
    } while (*pcVar2 != '\0');
    uVar9 = ~uVar9;
    puVar13 = (undefined2 *)(pcVar15 + -uVar9);
    iVar10 = -1;
    do {
      if (iVar10 == 0) break;
      iVar10 = iVar10 + -1;
      pcVar2 = pcVar12;
      pcVar12 = pcVar12 + 1;
    } while (*pcVar2 != '\0');
    puVar14 = (undefined2 *)(pcVar12 + -1);
    for (uVar11 = uVar9 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
      puVar3 = puVar14;
      puVar14 = puVar14 + 1;
      puVar1 = puVar13;
      puVar13 = puVar13 + 1;
      *puVar3 = *puVar1;
    }
    for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
      puVar3 = puVar14;
      puVar14 = (undefined2 *)((int)puVar14 + 1);
      puVar1 = puVar13;
      puVar13 = (undefined2 *)((int)puVar13 + 1);
      *(undefined *)puVar3 = *(undefined *)puVar1;
    }
  }
  piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x13e610a8,(LPCSTR)CONCAT22(&stack0xff7a,0x10a8)
                     ,unaff_SS);
  TEXTOUT((HDC16)piVar6,
          (int16)CONCAT214(in_stack_0000ff7a,
                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26(local_2e,
                                                  CONCAT24(local_2c,0x10a886de)))))),
          (int16)CONCAT214(in_stack_0000ff8a,
                           CONCAT68(in_stack_0000ff84,
                                    CONCAT44(in_stack_0000ff80,
                                             CONCAT13(in_stack_0000ff7f,
                                                      CONCAT12(in_stack_0000ff7e,in_stack_0000ff7c))
                                            ))),in_stack_0000ff8c,(int16)in_stack_0000ff90);
  local_2e = local_2e + 8;
  local_2a = local_2a + -8;
  local_c = (uint)local_1c._3_1_;
  FUN_1010_239a((int)PTR_DAT_10a8_0001_10a8_00c0,local_22,(int)s_From___s_c_c_10a8_10a2 + 6,local_36
               );
  local_6 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_05c2;
  local_4 = 0;
  iVar10 = 0;
  do {
    local_2c = local_2c + (int)PTR_DAT_10a8_0000_10a8_5794;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000ff84,
                                  CONCAT46(in_stack_0000ff80,
                                           CONCAT15(in_stack_0000ff7f,
                                                    CONCAT14(in_stack_0000ff7e,
                                                             CONCAT22(in_stack_0000ff7c,
                                                                      in_stack_0000ff7a))))));
    uVar4 = *local_6;
    SETTEXTCOLOR((HDC16)uVar4,(COLORREF)CONCAT22(param_2,(int)((ulong)uVar4 >> 0x10)));
    piVar6 = *(int16 **)(iVar10 + 0x60c);
    iVar20 = (int)s_From___s_c_c_10a8_10a2 + 6;
    puVar19 = local_2c;
    iVar21 = local_2e;
    piVar7 = param_2;
    hdc = LSTRLEN(piVar6,(LPCSTR)CONCAT22(piVar6,0x10a8));
    TEXTOUT((HDC16)hdc,
            (int16)CONCAT214(in_stack_0000ff7a,
                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar7,CONCAT26(iVar21,
                                                  CONCAT24(puVar19,CONCAT22(iVar20,piVar6))))))),
            (int16)CONCAT214(in_stack_0000ff8a,
                             CONCAT68(in_stack_0000ff84,
                                      CONCAT44(in_stack_0000ff80,
                                               CONCAT13(in_stack_0000ff7f,
                                                        CONCAT12(in_stack_0000ff7e,in_stack_0000ff7c
                                                                ))))),in_stack_0000ff8c,
            (int16)in_stack_0000ff90);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT610(in_stack_0000ff84,
                                  CONCAT46(in_stack_0000ff80,
                                           CONCAT15(in_stack_0000ff7f,
                                                    CONCAT14(in_stack_0000ff7e,
                                                             CONCAT22(in_stack_0000ff7c,
                                                                      in_stack_0000ff7a))))));
    SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_7ac8,
                 (COLORREF)CONCAT22(param_2,(int)((ulong)_PTR_DAT_10a8_0000_10a8_7ac8 >> 0x10)));
    lVar8 = (ulong)*(uint *)((int)local_36 + iVar10) * (long)(int)local_c;
    local_8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x13f110a8,
                        (LPCSTR)CONCAT22((int)lVar8,0x10a8),(VA_LIST16)((ulong)lVar8 >> 0x10));
    FUN_1018_55f6(param_2,(local_2a - local_a) + -0x40,(int)local_2c,(int)&DAT_10a8_86de,local_8,
                  (int)PTR_DAT_10a8_0000_10a8_5924,CONCAT22(unaff_DI,unaff_SI),in_stack_0000ff7a,
                  CONCAT68(in_stack_0000ff84,
                           CONCAT44(in_stack_0000ff80,
                                    CONCAT13(in_stack_0000ff7f,
                                             CONCAT12(in_stack_0000ff7e,in_stack_0000ff7c)))));
    TEXTOUT(2,(int16)CONCAT214(in_stack_0000ff7a,
                               CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26((
                                                  local_2a - local_a) + -0x40,
                                                  CONCAT24(local_2c,0x10a813f5)))))),
            (int16)CONCAT214(in_stack_0000ff8a,
                             CONCAT68(in_stack_0000ff84,
                                      CONCAT44(in_stack_0000ff80,
                                               CONCAT13(in_stack_0000ff7f,
                                                        CONCAT12(in_stack_0000ff7e,in_stack_0000ff7c
                                                                ))))),in_stack_0000ff8c,
            (int16)in_stack_0000ff90);
    uVar9 = local_c;
    iVar10 = iVar10 + 2;
    local_6 = local_6 + 1;
  } while (local_6 < (undefined4 *)0x5ce);
  local_2c = local_2c + (int)PTR_DAT_10a8_0000_10a8_5794;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT610(in_stack_0000ff84,
                                CONCAT46(in_stack_0000ff80,
                                         CONCAT15(in_stack_0000ff7f,
                                                  CONCAT14(in_stack_0000ff7e,
                                                           CONCAT22(in_stack_0000ff7c,
                                                                    in_stack_0000ff7a))))));
  SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_05d2,
               (COLORREF)CONCAT22(param_2,(int)((ulong)_PTR_DAT_10a8_0000_10a8_05d2 >> 0x10)));
  iVar21 = (int)s_From___s_c_c_10a8_10a2 + 6;
  puVar19 = PTR_s_Resources_10a8_0600_10a8_0614;
  puVar22 = local_2c;
  iVar10 = local_2e;
  piVar6 = param_2;
  piVar7 = LSTRLEN((int16 *)PTR_s_Resources_10a8_0600_10a8_0614,
                   (LPCSTR)CONCAT22(PTR_s_Resources_10a8_0600_10a8_0614,0x10a8));
  TEXTOUT((HDC16)piVar7,
          (int16)CONCAT214(in_stack_0000ff7a,
                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar6,CONCAT26(iVar10,
                                                  CONCAT24(puVar22,CONCAT22(iVar21,puVar19))))))),
          (int16)CONCAT214(in_stack_0000ff8a,
                           CONCAT68(in_stack_0000ff84,
                                    CONCAT44(in_stack_0000ff80,
                                             CONCAT13(in_stack_0000ff7f,
                                                      CONCAT12(in_stack_0000ff7e,in_stack_0000ff7c))
                                            ))),in_stack_0000ff8c,(int16)in_stack_0000ff90);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT610(in_stack_0000ff84,
                                CONCAT46(in_stack_0000ff80,
                                         CONCAT15(in_stack_0000ff7f,
                                                  CONCAT14(in_stack_0000ff7e,
                                                           CONCAT22(in_stack_0000ff7c,
                                                                    in_stack_0000ff7a))))));
  SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_7ac8,
               (COLORREF)CONCAT22(param_2,(int)((ulong)_PTR_DAT_10a8_0000_10a8_7ac8 >> 0x10)));
  lVar8 = (long)(int)uVar9 * (ulong)local_36[3];
  piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x13f810a8,(LPCSTR)CONCAT22((int)lVar8,0x10a8),
                     (VA_LIST16)((ulong)lVar8 >> 0x10));
  FUN_1018_55f6(param_2,(local_2a - local_a) + -0x40,(int)local_2c,(int)&DAT_10a8_86de,piVar6,
                (int)PTR_DAT_10a8_0000_10a8_5924,CONCAT22(unaff_DI,unaff_SI),in_stack_0000ff7a,
                CONCAT68(in_stack_0000ff84,
                         CONCAT44(in_stack_0000ff80,
                                  CONCAT13(in_stack_0000ff7f,
                                           CONCAT12(in_stack_0000ff7e,in_stack_0000ff7c)))));
  local_2e = local_2e + -8;
  local_2c = local_2c + (int)PTR_DAT_10a8_0000_10a8_5794;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT610(in_stack_0000ff84,
                                CONCAT46(in_stack_0000ff80,
                                         CONCAT15(in_stack_0000ff7f,
                                                  CONCAT14(in_stack_0000ff7e,
                                                           CONCAT22(in_stack_0000ff7c,
                                                                    in_stack_0000ff7a))))));
  piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x13fc10a8,
                     (LPCSTR)CONCAT22(*(int *)(local_22 + 0x28) * uVar9,0x10a8),unaff_SI);
  TEXTOUT((HDC16)piVar6,
          (int16)CONCAT214(in_stack_0000ff7a,
                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26(local_2e,
                                                  CONCAT24(local_2c,0x10a886de)))))),
          (int16)CONCAT214(in_stack_0000ff8a,
                           CONCAT68(in_stack_0000ff84,
                                    CONCAT44(in_stack_0000ff80,
                                             CONCAT13(in_stack_0000ff7f,
                                                      CONCAT12(in_stack_0000ff7e,in_stack_0000ff7c))
                                            ))),in_stack_0000ff8c,(int16)in_stack_0000ff90);
LAB_1060_236c:
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT610(in_stack_0000ff84,
                                CONCAT46(in_stack_0000ff80,
                                         CONCAT15(in_stack_0000ff7f,
                                                  CONCAT14(in_stack_0000ff7e,
                                                           CONCAT22(in_stack_0000ff7c,
                                                                    in_stack_0000ff7a))))));
  SETTEXTCOLOR((HDC16)local_10.value,(COLORREF)CONCAT22(param_2,(int)(local_10.value >> 0x10)));
  CVar18 = SETBKCOLOR((HDC16)local_14.value,CONCAT22(param_2,(int)(local_14.value >> 0x10)));
  piVar6 = (int16 *)CVar18.value;
  if (local_18 != 0) {
    piVar6 = RELEASEDC(param_2,(HWND16)param_1,(HDC16)unaff_SI);
  }
  return piVar6;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far
FUN_1060_23a6(HWND16 param_1,int16 *param_2,undefined2 param_3_00,undefined4 *param_4)

{
  char *pcVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int16 *hdc;
  int iVar5;
  int16 *hdc_00;
  int16 *piVar6;
  undefined2 uVar7;
  uint uVar8;
  VA_LIST16 unaff_SI;
  int iVar9;
  HRGN16 unaff_DI;
  char *pcVar10;
  RECT16 *unaff_SS;
  dword dVar11;
  COLORREF CVar12;
  COLORREF CVar13;
  int iVar14;
  undefined *puVar15;
  int16 *piVar16;
  undefined2 in_stack_0000ffd4;
  undefined6 in_stack_0000ffd6;
  undefined2 in_stack_0000ffdc;
  int iVar17;
  undefined *puVar18;
  int in_stack_0000ffe2;
  int iVar19;
  int in_stack_0000ffe4;
  ulong in_stack_0000ffe6;
  LPCSTR pcVar20;
  int iVar21;

  iVar21 = 0;
  if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&DAT_10a8_0003) {
    if (param_2 == (int16 *)0x0) {
      iVar21 = 1;
      param_2 = (int16 *)GETDC(param_1);
    }
    if (param_4 == (undefined4 *)0x0) {
      GETCLIENTRECT((HWND16)&stack0xffde,(RECT16 *)CONCAT22(param_1,unaff_SS));
      in_stack_0000ffe4 = in_stack_0000ffe4 + -0x20;
      iVar19 = in_stack_0000ffe2 + -4;
      in_stack_0000ffe2 = in_stack_0000ffe2 + -0x144;
      puVar18 = PTR_DAT_10a8_0000_10a8_71d8;
      FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffde,unaff_SS,(HBRUSH16)param_2);
    }
    else {
      uVar2 = *param_4;
      in_stack_0000ffe2 = (int)uVar2;
      puVar18 = (undefined *)((ulong)uVar2 >> 0x10);
      uVar2 = param_4[1];
      iVar19 = (int)uVar2;
      in_stack_0000ffe4 = (int)((ulong)uVar2 >> 0x10);
    }
    if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&DAT_10a8_0001) {
      PTR_DAT_10a8_0000_10a8_830e =
           (undefined *)((int)&PTR_DAT_10a8_0000_10a8_2eae + *_PTR_DAT_10a8_0000_10a8_830e * 0x93);
      pcVar20 = (LPCSTR)CONCAT22(0x10a8,(int)in_stack_0000ffe6);
    }
    else {
      if (_PTR_DAT_10a8_0000_10a8_830e == (int *)0x0) {
        return;
      }
      pcVar20 = (LPCSTR)((ulong)_PTR_DAT_10a8_0000_10a8_830e & 0xffff0000 |
                        in_stack_0000ffe6 & 0xffff);
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(iVar19,CONCAT212(puVar18,CONCAT210(in_stack_0000ffe2,
                                                                     CONCAT28(in_stack_0000ffdc,
                                                                              CONCAT62(
                                                  in_stack_0000ffd6,in_stack_0000ffd4))))));
    dVar11 = GETTEXTEXTENT(2,(LPCSTR)0x10a81408,
                           (int16)CONCAT214(in_stack_0000ffdc,
                                            CONCAT68(in_stack_0000ffd6,
                                                     CONCAT26(in_stack_0000ffd4,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_2))))));
    iVar3 = (int)dVar11;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(iVar19,CONCAT212(puVar18,CONCAT210(in_stack_0000ffe2,
                                                                     CONCAT28(in_stack_0000ffdc,
                                                                              CONCAT62(
                                                  in_stack_0000ffd6,in_stack_0000ffd4))))));
    uVar8 = 0xffff;
    pcVar10 = PTR_s_Germanium_10a8_05ec_10a8_0610;
    do {
      if (uVar8 == 0) break;
      uVar8 = uVar8 - 1;
      pcVar1 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar1 != '\0');
    dVar11 = GETTEXTEXTENT(~uVar8 - 1,(LPCSTR)CONCAT22(0x10a8,PTR_s_Germanium_10a8_05ec_10a8_0610),
                           (int16)CONCAT214(in_stack_0000ffdc,
                                            CONCAT68(in_stack_0000ffd6,
                                                     CONCAT26(in_stack_0000ffd4,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_2))))));
    iVar4 = (int)dVar11 + 6;
    CVar12 = SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_2) << 0x10));
    CVar13 = SETBKCOLOR((HDC16)_DAT_10a8_5714,CONCAT22(param_2,(int)((ulong)_DAT_10a8_5714 >> 0x10))
                       );
    hdc = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x141210a8,
                    (LPCSTR)CONCAT22(PTR_DAT_10a8_0000_10a8_830e + 8,0x10a8),
                    (VA_LIST16)((ulong)pcVar20 >> 0x10));
    TEXTOUT((HDC16)hdc,
            (int16)CONCAT214(in_stack_0000ffd4,
                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26(
                                                  in_stack_0000ffe2,CONCAT24(puVar18,0x10a886de)))))
                            ),
            (int16)CONCAT214(in_stack_0000ffe4,
                             CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(in_stack_0000ffe2,
                                                                         CONCAT26(in_stack_0000ffdc,
                                                                                  in_stack_0000ffd6)
                                                                        )))),pcVar20,
            (int16)CONCAT214(iVar3,CONCAT212(hdc,CONCAT210(iVar4,CONCAT28((int)(CVar12.value >> 0x10
                                                                               ),CONCAT26((int)
                                                  CVar12.value,
                                                  CONCAT24((int)(CVar13.value >> 0x10),
                                                           CONCAT22((int)CVar13.value,iVar21))))))))
    ;
    in_stack_0000ffe2 = in_stack_0000ffe2 + 8;
    iVar19 = iVar19 + -8;
    FUN_1010_2474(PTR_DAT_10a8_0001_10a8_00c0,
                  (ulong)pcVar20 & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_830e),
                  (undefined2 *)&stack0xffd6);
    iVar5 = iVar4 - iVar3;
    pcVar20 = (LPCSTR)((ulong)pcVar20 & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_830e));
    iVar9 = 0;
    do {
      if (iVar9 == 3) {
        iVar9 = 4;
      }
      puVar15 = puVar18 + (int)PTR_DAT_10a8_0000_10a8_5794;
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(iVar19,CONCAT212(puVar15,CONCAT210(in_stack_0000ffe2,
                                                                       CONCAT28(in_stack_0000ffdc,
                                                                                CONCAT62(
                                                  in_stack_0000ffd6,iVar5))))));
      uVar2 = *(undefined4 *)(iVar9 * 4 + 0x5c2);
      SETTEXTCOLOR((HDC16)uVar2,(COLORREF)CONCAT22(param_2,(int)((ulong)uVar2 >> 0x10)));
      piVar6 = *(int16 **)(iVar9 * 2 + 0x60c);
      iVar14 = (int)s_From___s_c_c_10a8_10a2 + 6;
      piVar16 = param_2;
      iVar17 = in_stack_0000ffe2;
      puVar18 = puVar15;
      hdc_00 = LSTRLEN(piVar6,(LPCSTR)CONCAT22(piVar6,0x10a8));
      TEXTOUT((HDC16)hdc_00,
              (int16)CONCAT214(iVar5,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar16,CONCAT26
                                                  (in_stack_0000ffe2,
                                                   CONCAT24(puVar15,CONCAT22(iVar14,piVar6))))))),
              (int16)CONCAT214(in_stack_0000ffe4,
                               CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(iVar17,CONCAT26(
                                                  in_stack_0000ffdc,in_stack_0000ffd6))))),pcVar20,
              (int16)CONCAT214(iVar3,CONCAT212(hdc,CONCAT210(iVar4,CONCAT28((int)(CVar12.value >>
                                                                                 0x10),
                                                                            CONCAT26((int)CVar12.
                                                  value,CONCAT24((int)(CVar13.value >> 0x10),
                                                                 CONCAT22((int)CVar13.value,iVar21))
                                                  ))))));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(iVar19,CONCAT212(puVar18,CONCAT210(iVar17,CONCAT28(
                                                  in_stack_0000ffdc,
                                                  CONCAT62(in_stack_0000ffd6,iVar5))))));
      SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_7ac8,
                   (COLORREF)CONCAT22(param_2,(int)((ulong)_PTR_DAT_10a8_0000_10a8_7ac8 >> 0x10)));
      uVar7 = in_stack_0000ffdc;
      if (iVar9 != 4) {
        uVar7 = *(undefined2 *)(&stack0xffd6 + iVar9 * 2);
      }
      hdc = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x142310a8,(LPCSTR)CONCAT22(uVar7,0x10a8),
                      unaff_SI);
      FUN_1018_55f6(param_2,(int)(PTR_DAT_10a8_0000_10a8_5924 + iVar5 + iVar17),(int)puVar18,
                    (int)&DAT_10a8_86de,hdc,(int)PTR_DAT_10a8_0000_10a8_5924,
                    CONCAT22(unaff_DI,unaff_SI),iVar5,
                    CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(iVar17,CONCAT26(in_stack_0000ffdc,
                                                                                in_stack_0000ffd6)))
                             ));
      if (iVar9 < 4) {
        TEXTOUT(2,(int16)CONCAT214(iVar5,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_5924 +
                                                           iVar5 + iVar17,
                                                           CONCAT24(puVar18,0x10a81426)))))),
                (int16)CONCAT214(in_stack_0000ffe4,
                                 CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(iVar17,CONCAT26(
                                                  in_stack_0000ffdc,in_stack_0000ffd6))))),pcVar20,
                (int16)CONCAT214(iVar3,CONCAT212(hdc,CONCAT210(iVar4,CONCAT28((int)(CVar12.value >>
                                                                                   0x10),
                                                                              CONCAT26((int)CVar12.
                                                  value,CONCAT24((int)(CVar13.value >> 0x10),
                                                                 CONCAT22((int)CVar13.value,iVar21))
                                                  ))))));
      }
      iVar9 = iVar9 + 1;
      in_stack_0000ffe2 = iVar17;
    } while (iVar9 < 5);
    iVar17 = iVar17 + -8;
    puVar18 = puVar18 + (int)PTR_DAT_10a8_0000_10a8_5794;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(iVar19,CONCAT212(puVar18,CONCAT210(iVar17,CONCAT28(
                                                  in_stack_0000ffdc,
                                                  CONCAT62(in_stack_0000ffd6,iVar5))))));
    piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x142910a8,
                       (LPCSTR)CONCAT22(*(undefined2 *)((int)pcVar20 + 0x28),0x10a8),unaff_SI);
    TEXTOUT((HDC16)piVar6,
            (int16)CONCAT214(iVar5,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26(
                                                  iVar17,CONCAT24(puVar18,0x10a886de)))))),
            (int16)CONCAT214(in_stack_0000ffe4,
                             CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(iVar17,CONCAT26(
                                                  in_stack_0000ffdc,in_stack_0000ffd6))))),pcVar20,
            (int16)CONCAT214(iVar3,CONCAT212(hdc,CONCAT210(iVar4,CONCAT28((int)(CVar12.value >> 0x10
                                                                               ),CONCAT26((int)
                                                  CVar12.value,
                                                  CONCAT24((int)(CVar13.value >> 0x10),
                                                           CONCAT22((int)CVar13.value,iVar21))))))))
    ;
    puVar18 = puVar18 + (int)PTR_DAT_10a8_0000_10a8_5794 * -4;
    puVar15 = PTR_DAT_10a8_0000_10a8_5924 + iVar17 + iVar4 + 0x28;
    iVar9 = FUN_1028_1ed2(_PTR_DAT_10a8_0000_10a8_830e,1);
    piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x143510a8,(LPCSTR)CONCAT22(iVar9,0x10a8),
                       unaff_SI);
    FUN_1018_55f6(param_2,iVar19 + -8,(int)puVar18,(int)&DAT_10a8_86de,piVar6,
                  (int)PTR_DAT_10a8_0000_10a8_5924,CONCAT22(unaff_DI,unaff_SI),iVar5,
                  CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(in_stack_0000ffdc,
                                                                               in_stack_0000ffd6))))
                 );
    TEXTOUT(9,(int16)CONCAT214(iVar5,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26
                                                  (puVar15,CONCAT24(puVar18,0x10a8143a)))))),
            (int16)CONCAT214(in_stack_0000ffe4,
                             CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(
                                                  in_stack_0000ffdc,in_stack_0000ffd6))))),pcVar20,
            (int16)CONCAT214(iVar3,CONCAT212(hdc,CONCAT210(iVar4,CONCAT28((int)(CVar12.value >> 0x10
                                                                               ),CONCAT26((int)
                                                  CVar12.value,
                                                  CONCAT24((int)(CVar13.value >> 0x10),
                                                           CONCAT22((int)CVar13.value,iVar21))))))))
    ;
    puVar18 = puVar18 + (int)PTR_DAT_10a8_0000_10a8_5794;
    piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x144410a8,
                       (LPCSTR)CONCAT22(*(undefined2 *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x38),
                                        0x10a8),unaff_SI);
    FUN_1018_55f6(param_2,iVar19 + -8,(int)puVar18,(int)&DAT_10a8_86de,piVar6,
                  (int)PTR_DAT_10a8_0000_10a8_5924,CONCAT22(unaff_DI,unaff_SI),iVar5,
                  CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(in_stack_0000ffdc,
                                                                               in_stack_0000ffd6))))
                 );
    TEXTOUT(6,(int16)CONCAT214(iVar5,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26
                                                  (puVar15,CONCAT24(puVar18,0x10a81449)))))),
            (int16)CONCAT214(in_stack_0000ffe4,
                             CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(
                                                  in_stack_0000ffdc,in_stack_0000ffd6))))),pcVar20,
            (int16)CONCAT214(iVar3,CONCAT212(hdc,CONCAT210(iVar4,CONCAT28((int)(CVar12.value >> 0x10
                                                                               ),CONCAT26((int)
                                                  CVar12.value,
                                                  CONCAT24((int)(CVar13.value >> 0x10),
                                                           CONCAT22((int)CVar13.value,iVar21))))))))
    ;
    puVar18 = puVar18 + (int)PTR_DAT_10a8_0000_10a8_5794;
    if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&DAT_10a8_0001) {
      iVar9 = FUN_1010_0716((ulong)_PTR_DAT_10a8_0000_10a8_830e);
      if (iVar9 == 0) {
        uVar7 = 0x1450;
      }
      else {
        uVar7 = 0x1455;
      }
      piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar7,0x10a8),
                         (LPCSTR)CONCAT22(iVar9,0x10a8),unaff_SI);
      FUN_1018_55f6(param_2,iVar19 + -8,(int)puVar18,(int)&DAT_10a8_86de,piVar6,
                    (int)PTR_DAT_10a8_0000_10a8_5924,CONCAT22(unaff_DI,unaff_SI),iVar5,
                    CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(in_stack_0000ffdc,
                                                                                 in_stack_0000ffd6))
                                              )));
      TEXTOUT(8,(int16)CONCAT214(iVar5,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,
                                                  CONCAT26(puVar15,CONCAT24(puVar18,0x10a8145a))))))
              ,(int16)CONCAT214(in_stack_0000ffe4,
                                CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(
                                                  in_stack_0000ffdc,in_stack_0000ffd6))))),pcVar20,
              (int16)CONCAT214(iVar3,CONCAT212(hdc,CONCAT210(iVar4,CONCAT28((int)(CVar12.value >>
                                                                                 0x10),
                                                                            CONCAT26((int)CVar12.
                                                  value,CONCAT24((int)(CVar13.value >> 0x10),
                                                                 CONCAT22((int)CVar13.value,iVar21))
                                                  ))))));
    }
    puVar18 = puVar18 + (int)PTR_DAT_10a8_0000_10a8_5794;
    if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&DAT_10a8_0001) {
      FUN_1010_054a((ulong)_PTR_DAT_10a8_0000_10a8_830e);
      uVar7 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_830e >> 0x10);
      if (*(long *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x83) != 0) {
        uVar2 = *(undefined4 *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x83);
        piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x146310a8,
                           (LPCSTR)CONCAT22((int)uVar2,0x10a8),(VA_LIST16)((ulong)uVar2 >> 0x10));
        FUN_1018_55f6(param_2,iVar19 + -8,(int)puVar18,(int)&DAT_10a8_86de,piVar6,
                      (int)PTR_DAT_10a8_0000_10a8_5924,CONCAT22(unaff_DI,unaff_SI),iVar5,
                      CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(in_stack_0000ffdc
                                                                                   ,
                                                  in_stack_0000ffd6)))));
        TEXTOUT(7,(int16)CONCAT214(iVar5,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,
                                                  CONCAT26(puVar15,CONCAT24(puVar18,0x10a81467))))))
                ,(int16)CONCAT214(in_stack_0000ffe4,
                                  CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(
                                                  in_stack_0000ffdc,in_stack_0000ffd6))))),pcVar20,
                (int16)CONCAT214(iVar3,CONCAT212(hdc,CONCAT210(iVar4,CONCAT28((int)(CVar12.value >>
                                                                                   0x10),
                                                                              CONCAT26((int)CVar12.
                                                  value,CONCAT24((int)(CVar13.value >> 0x10),
                                                                 CONCAT22((int)CVar13.value,iVar21))
                                                  ))))));
      }
    }
    if ((((PTR_DAT_10a8_0000_10a8_1142 != (undefined *)0x0) &&
         (PTR_DAT_10a8_0000_10a8_1144 == (undefined *)0xb)) &&
        (PTR_DAT_10a8_0000_10a8_114a != (undefined *)0x0)) &&
       (*(int *)((int)&PTR_DAT_10a8_0000_10a8_7b8e +
                (((*(byte *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x7c) & 0x3c) << 8) >> 9)) != 0)) {
      puVar18 = puVar18 + (int)PTR_DAT_10a8_0000_10a8_5794;
      SETTEXTCOLOR(0x7f,(COLORREF)(ZEXT24(param_2) << 0x10));
      piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x146f10a8,
                         (LPCSTR)CONCAT22(*(undefined2 *)
                                           ((int)&PTR_DAT_10a8_0000_10a8_7b8e +
                                           (((*(byte *)((int)_PTR_DAT_10a8_0000_10a8_830e + 0x7c) &
                                             0x3c) << 8) >> 9)),0x10a8),unaff_SI);
      FUN_1018_55f6(param_2,iVar19 + -8,(int)puVar18,(int)&DAT_10a8_86de,piVar6,
                    (int)PTR_DAT_10a8_0000_10a8_5924,CONCAT22(unaff_DI,unaff_SI),iVar5,
                    CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(in_stack_0000ffdc,
                                                                                 in_stack_0000ffd6))
                                              )));
      TEXTOUT(7,(int16)CONCAT214(iVar5,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,
                                                  CONCAT26(puVar15,CONCAT24(puVar18,0x10a81474))))))
              ,(int16)CONCAT214(in_stack_0000ffe4,
                                CONCAT212(iVar19,CONCAT210(puVar18,CONCAT28(puVar15,CONCAT26(
                                                  in_stack_0000ffdc,in_stack_0000ffd6))))),pcVar20,
              (int16)CONCAT214(iVar3,CONCAT212(hdc,CONCAT210(iVar4,CONCAT28((int)(CVar12.value >>
                                                                                 0x10),
                                                                            CONCAT26((int)CVar12.
                                                  value,CONCAT24((int)(CVar13.value >> 0x10),
                                                                 CONCAT22((int)CVar13.value,iVar21))
                                                  ))))));
    }
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(iVar19,CONCAT212(puVar18,CONCAT210(puVar15,CONCAT28(
                                                  in_stack_0000ffdc,
                                                  CONCAT62(in_stack_0000ffd6,iVar5))))));
    SETTEXTCOLOR((HDC16)CVar12.value,(COLORREF)CONCAT22(param_2,(int)(CVar12.value >> 0x10)));
    SETBKCOLOR((HDC16)CVar13.value,(COLORREF)CONCAT22(param_2,(int)(CVar13.value >> 0x10)));
    if (iVar21 != 0) {
      RELEASEDC(param_2,param_1,(HDC16)unaff_SI);
    }
  }
  return;
}



void __cdecl16far FUN_1060_289a(HDC16 param_1)

{
  HDC16 HVar1;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_SS;
  undefined2 in_stack_0000fff6;
  undefined2 in_stack_0000fff8;
  undefined2 in_stack_0000fffa;
  undefined2 in_stack_0000fffc;
  dword dVar2;

  HVar1 = DAT_10a8_130a;
  dVar2 = CONCAT22(unaff_BP,in_stack_0000fffc);
  if (DAT_10a8_130a == param_1) {
    if (param_1 != 0xffff) {
      return;
    }
  }
  else {
    DAT_10a8_130a = param_1;
    GETCLIENTRECT((HWND16)&stack0xfff6,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_131e,unaff_SS));
    if (-1 < (int)HVar1) {
      FUN_1060_10d0((HWND16)PTR_DAT_10a8_0000_10a8_131e,(int16 *)0x0,&stack0xfff6,HVar1,unaff_SI,
                    in_stack_0000fff6,in_stack_0000fff8,in_stack_0000fffa,dVar2);
    }
    if (-1 < (int)DAT_10a8_130a) {
      FUN_1060_10d0((HWND16)PTR_DAT_10a8_0000_10a8_131e,(int16 *)0x0,&stack0xfff6,DAT_10a8_130a,
                    unaff_SI,in_stack_0000fff6,in_stack_0000fff8,in_stack_0000fffa,dVar2);
    }
  }
  FUN_1060_1d90((int16 *)PTR_DAT_10a8_0000_10a8_131e,(int16 *)0x0);
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far
FUN_1060_290c(int param_1,undefined2 param_2_00,uint param_3,uint param_4,HDC16 param_5,int param_6)

{
  byte bVar1;
  uint uVar2;
  undefined4 uVar3;
  ulong uVar4;
  int16 *piVar5;
  bool16 bVar6;
  int iVar7;
  uint uVar8;
  undefined *puVar9;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  bool16 unaff_SS;
  undefined2 uVar10;
  undefined in_stack_0000ffe2;
  undefined in_stack_0000ffe3;
  undefined2 in_stack_0000ffe4;
  undefined2 in_stack_0000ffe6;
  undefined2 in_stack_0000ffe8;
  undefined2 in_stack_0000ffea;
  undefined2 in_stack_0000ffec;
  int local_12;
  uint local_e;
  byte bStack_b;
  undefined4 local_a;
  HDC16 local_4;

  GETCLIENTRECT((HWND16)&stack0xffea,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_131e,unaff_SS));
  uVar10 = 0x10;
  piVar5 = GETASYNCKEYSTATE((int16 *)&PTR_DAT_10a8_0000_10a8_0010,
                            (int16)CONCAT214(in_stack_0000ffec,
                                             CONCAT212(in_stack_0000ffea,
                                                       CONCAT210(in_stack_0000ffe8,
                                                                 CONCAT28(in_stack_0000ffe6,
                                                                          CONCAT26(in_stack_0000ffe4
                                                                                   ,CONCAT15(
                                                  in_stack_0000ffe3,
                                                  CONCAT14(in_stack_0000ffe2,
                                                           CONCAT22(unaff_DI,unaff_SI)))))))));
  if (((uint)piVar5 & 0xfffe) == 0) {
    if (-1 < (int)param_5) {
      param_4 = CONCAT11(1,(char)param_4);
    }
  }
  else if ((int)param_5 < 0) {
    param_4 = CONCAT11(100,(char)param_4);
  }
  bVar1 = *(byte *)(*_PTR_DAT_10a8_0000_10a8_830e * 0x93 + 0x2f28);
  local_4 = 0;
  if (bVar1 != 0) {
    local_4 = 0;
    do {
      bVar6 = PTINRECT((RECT16 *)param_1,param_2_00._0_1_);
      if (bVar6 != 0) break;
      local_4 = local_4 + 1;
    } while ((int)local_4 < (int)(uint)bVar1);
  }
  if (bVar1 == local_4) {
    if (local_12 >> 1 <= param_1) {
      return 0;
    }
    if ((param_6 == 0) && (-1 < (int)param_5)) {
      puVar9 = PTR_DAT_10a8_0000_10a8_830e + param_5 * 4;
      if ((puVar9[0x3a] & 1) != 0) {
        param_4 = CONCAT11(100,(char)param_4);
      }
      uVar2 = *(uint *)(puVar9 + 0x3c);
      iVar7 = (uint)(byte)((ulong)uVar2 >> 8) - (param_4 >> 8);
      if (iVar7 < 0) {
        iVar7 = 0;
      }
      *(uint *)(puVar9 + 0x3c) = uVar2 & 0xff | iVar7 << 8;
      FUN_1010_1c24(_PTR_DAT_10a8_0000_10a8_830e);
      GETCLIENTRECT((HWND16)&stack0xffea,
                    (RECT16 *)
                    CONCAT13((char)((uint)PTR_DAT_10a8_0000_10a8_131e >> 8),
                             CONCAT12((char)PTR_DAT_10a8_0000_10a8_131e,unaff_SS)));
      FUN_1060_10d0((HWND16)PTR_DAT_10a8_0000_10a8_131e,(int16 *)0x0,&stack0xffea,param_5,uVar10,
                    unaff_SI,unaff_DI,CONCAT11(in_stack_0000ffe3,in_stack_0000ffe2),
                    CONCAT22(puVar9,in_stack_0000ffe4));
      INVALIDATERECT(1,(RECT16 *)&stack0xffea,unaff_SS);
      FUN_1060_1d90((int16 *)PTR_DAT_10a8_0000_10a8_131e,(int16 *)0x0);
      FUN_1060_23a6((HWND16)PTR_DAT_10a8_0000_10a8_131e,(int16 *)0x0,0xffff,(undefined4 *)0x0);
      if ((DAT_10a8_0a47 & 0x40) != 0) {
        FUN_1090_88fa();
      }
    }
    return 1;
  }
  uVar3 = *(undefined4 *)(PTR_DAT_10a8_0000_10a8_830e + local_4 * 4 + 0x3a);
  uVar4 = *(ulong *)(*_PTR_DAT_10a8_0000_10a8_830e * 0x93 + local_4 * 4 + 0x2ee8);
  if ((uVar4 & 1) != 0) {
    param_4 = CONCAT11(100,(char)param_4);
  }
  if (local_4 != param_5) {
    bStack_b = (byte)(uVar4 >> 0x18);
    local_a._3_1_ = (byte)((ulong)uVar3 >> 0x18);
    uVar2 = (uint)local_a._3_1_ << 8;
    if (((uVar2 < (uint)bStack_b << 8) &&
        ((local_a._3_1_ == 0 ||
         ((local_a._0_2_ = (uint)uVar3, (uint)local_a == param_3 &&
          (local_a._2_1_ = (char)((ulong)uVar3 >> 0x10), local_a._2_1_ == (char)param_4)))))) &&
       ((local_a._3_1_ != 0 || (local_e = (uint)uVar4, (local_e & param_3) != 0)))) {
      if (param_6 == 0) {
        uVar8 = (uint)local_a._3_1_ + (param_4 >> 8);
        uVar2 = (uint)bStack_b;
        iVar7 = (uVar8 - uVar2 & -(uint)(uVar8 < uVar2)) + uVar2;
        if (-1 < (int)param_5) {
          uVar2 = *(uint *)(PTR_DAT_10a8_0000_10a8_830e + param_5 * 4 + 0x3c);
          *(uint *)(PTR_DAT_10a8_0000_10a8_830e + param_5 * 4 + 0x3c) =
               uVar2 + iVar7 * -0x100 + (uint)local_a._3_1_ * 0x100 & 0xff00 | uVar2 & 0xff;
        }
        local_a = CONCAT22(param_4 & 0xff | iVar7 * 0x100,param_3);
        *(undefined4 *)((int)_PTR_DAT_10a8_0000_10a8_830e + local_4 * 4 + 0x3a) = local_a;
        FUN_1010_1c24(_PTR_DAT_10a8_0000_10a8_830e);
        FUN_1060_289a(local_4);
        GETCLIENTRECT((HWND16)&stack0xffea,
                      (RECT16 *)
                      CONCAT13((char)((uint)PTR_DAT_10a8_0000_10a8_131e >> 8),
                               CONCAT12((char)PTR_DAT_10a8_0000_10a8_131e,unaff_SS)));
        INVALIDATERECT(1,(RECT16 *)&stack0xffea,unaff_SS);
        if ((DAT_10a8_0a47 & 0x40) != 0) {
          FUN_1090_88fa();
        }
      }
      return 0xffff;
    }
    if (param_6 == 0) {
      MESSAGEBEEP((uint16)(ZEXT1416(CONCAT212(in_stack_0000ffe8,
                                              CONCAT210(in_stack_0000ffe6,
                                                        CONCAT28(uVar2,CONCAT17(in_stack_0000ffe3,
                                                                                CONCAT16(
                                                  in_stack_0000ffe2,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,uVar10))))))))
                          << 0x10));
    }
    return 3;
  }
  return 2;
}


/*
Unable to decompile 'FUN_1060_2bc4'
Cause:
Low-level Error: Overlapping input varnodes
*/


int __cdecl16far FUN_1060_2d74(int param_1)

{
  int iVar1;
  uint uVar2;
  int iVar3;

  iVar3 = 0;
  uVar2 = 0x7261;
  while ((iVar1 = param_1, (*(byte *)(uVar2 + 1) & 2) != 0 || (iVar1 = param_1 + -1, param_1 != 0)))
  {
    iVar3 = iVar3 + 1;
    uVar2 = uVar2 + 0x87;
    param_1 = iVar1;
    if ((uint)&PTR_DAT_10a8_0000_10a8_7ad0 < uVar2) {
      return 0;
    }
  }
  return (int)&PTR_DAT_10a8_0000_10a8_71e6 + iVar3 * 0x87;
}



int __cdecl16far FUN_1060_2daa(int param_1)

{
  int iVar1;
  int iVar2;
  long *plVar3;
  undefined *puVar4;
  int iVar5;

  puVar4 = (undefined *)0x0;
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    plVar3 = (long *)&PTR_DAT_10a8_0000_10a8_0072;
    do {
      if ((*plVar3 != 0) && (PTR_DAT_10a8_0001_10a8_00c0 != puVar4)) {
        iVar1 = *(int *)plVar3 + 0x7b;
        iVar5 = 0;
        iVar2 = param_1;
        do {
          param_1 = iVar2;
          if (((*(byte *)(iVar1 + 1) & 2) == 0) && (param_1 = iVar2 + -1, iVar2 == 0)) {
            return iVar5 * 0x87 + *(int *)((int)puVar4 * 4 + 0x72);
          }
          iVar1 = iVar1 + 0x87;
          iVar5 = iVar5 + 1;
          iVar2 = param_1;
        } while (iVar5 < 0x10);
      }
      plVar3 = plVar3 + 1;
      puVar4 = puVar4 + 1;
    } while ((int)puVar4 < (int)PTR_DAT_10a8_0002_10a8_0038);
  }
  return 0;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined2 __cdecl16far FUN_1060_2e28(HWND16 param_1,int param_2,word param_3)

{
  char *pcVar1;
  long lVar2;
  HWND16 HVar3;
  HWND16 enable;
  char *pcVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  undefined *puVar8;
  undefined2 unaff_BP;
  char cVar9;
  undefined2 unaff_SI;
  int *piVar10;
  HWND16 *pHVar11;
  undefined2 unaff_DI;
  undefined2 unaff_SS;
  LRESULT LVar12;
  undefined4 in_stack_00000000;
  undefined in_stack_0000000a [14];
  word in_stack_00000018;
  undefined2 in_stack_0000ffe6;
  int in_stack_0000ffe8;
  WPARAM16 in_stack_0000ffea;
  int in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  uint in_stack_0000fff0;
  char in_stack_0000fff2;
  undefined in_stack_0000fff3;
  undefined2 in_stack_0000fff4;
  int in_stack_0000fff6;
  undefined *in_stack_0000fff8;
  long *in_stack_0000fffa;
  HWND16 in_stack_0000fffc;

  SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffe8,
                                  CONCAT212(in_stack_0000ffe6,
                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(param_1,
                                                  0x40b00000000))))),in_stack_0000ffea,
              CONCAT22(in_stack_0000ffee,in_stack_0000ffec));
  if (param_2 != 0) {
    HVar3 = GETDLGITEM(0x411,(int16)CONCAT214(in_stack_0000ffee,
                                              CONCAT212(in_stack_0000ffec,
                                                        CONCAT210(in_stack_0000ffea,
                                                                  CONCAT28(in_stack_0000ffe8,
                                                                           CONCAT26(
                                                  in_stack_0000ffe6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_131e))))))));
    ENABLEWINDOW(0,HVar3);
    HVar3 = GETDLGITEM(0x412,(int16)CONCAT214(in_stack_0000ffee,
                                              CONCAT212(in_stack_0000ffec,
                                                        CONCAT210(in_stack_0000ffea,
                                                                  CONCAT28(in_stack_0000ffe8,
                                                                           CONCAT26(
                                                  in_stack_0000ffe6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_131e))))))));
    ENABLEWINDOW(0,HVar3);
  }
  iVar6 = 0;
  uVar7 = 0x7261;
  do {
    if ((*(byte *)(uVar7 + 1) & 2) != 0) break;
    iVar6 = iVar6 + 1;
    uVar7 = uVar7 + 0x87;
  } while (uVar7 < 0x7ad1);
  if (((param_2 == 0) || (param_2 == 1)) && (iVar6 < 0x10)) {
    HVar3 = 1;
  }
  else {
    HVar3 = 0;
  }
  enable = GETDLGITEM(0x410,(int16)CONCAT214(in_stack_0000ffee,
                                             CONCAT212(in_stack_0000ffec,
                                                       CONCAT210(in_stack_0000ffea,
                                                                 CONCAT28(in_stack_0000ffe8,
                                                                          CONCAT26(in_stack_0000ffe6
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_131e))))))));
  ENABLEWINDOW(HVar3,enable);
  if (param_2 == 1) {
    in_stack_0000fff0 = 0x4000;
    cVar9 = '\0';
    HVar3 = (HWND16)s_Small_Freighter_10a8_2eb6;
    do {
      in_stack_0000fff2 = cVar9;
      iVar6 = FUN_1060_32b2((uint *)&stack0xfff0);
      if (iVar6 == 1) {
        SENDMESSAGE(HVar3,(uint16)CONCAT214(in_stack_0000ffe8,
                                            CONCAT212(in_stack_0000ffe6,
                                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  param_1,0x403000010a8))))),in_stack_0000ffea,
                    CONCAT22(in_stack_0000ffee,in_stack_0000ffec));
      }
      cVar9 = cVar9 + '\x01';
      HVar3 = HVar3 + 0x93;
    } while (HVar3 < 0x3e37);
  }
  else {
    iVar6 = param_2 + -2;
    if (iVar6 == 0) {
      puVar8 = (undefined *)0x0;
      if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
        in_stack_0000fffa = (long *)&PTR_DAT_10a8_0000_10a8_0072;
        do {
          if ((PTR_DAT_10a8_0001_10a8_00c0 != puVar8) && (*in_stack_0000fffa != 0)) {
            iVar6 = 0;
            do {
              lVar2 = *in_stack_0000fffa;
              if ((*(byte *)((int)lVar2 + iVar6 + 0x7c) & 2) == 0) {
                FUN_1010_0792((int)puVar8,1,0,0,0,0);
                lVar2 = *in_stack_0000fffa;
                pcVar4 = (char *)&DAT_10a8_86de;
                uVar7 = 0xffff;
                do {
                  if (uVar7 == 0) break;
                  uVar7 = uVar7 - 1;
                  pcVar1 = pcVar4;
                  pcVar4 = pcVar4 + 1;
                } while (*pcVar1 != '\0');
                _WSPRINTF((int16 *)((int)&PTR_DAT_10a8_0000_10a8_86dc + 1 + ~uVar7),
                          (LPSTR)0x147c10a8,(LPCSTR)CONCAT22((int)lVar2 + iVar6 + 8,0x10a8),
                          (VA_LIST16)((ulong)lVar2 >> 0x10));
                SENDMESSAGE((HWND16)&DAT_10a8_86de,
                            (uint16)CONCAT214(in_stack_0000ffe8,
                                              CONCAT212(in_stack_0000ffe6,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(param_1,0x403000010a8))))),
                            in_stack_0000ffea,CONCAT22(in_stack_0000ffee,in_stack_0000ffec));
              }
              iVar6 = iVar6 + 0x87;
              in_stack_0000fff8 = puVar8;
            } while (iVar6 < 0x870);
          }
          in_stack_0000fffa = in_stack_0000fffa + 1;
          puVar8 = puVar8 + 1;
        } while ((int)puVar8 < (int)PTR_DAT_10a8_0002_10a8_0038);
      }
    }
    else if (((iVar6 < 1) || (SBORROW2(iVar6,1))) || (1 < param_2 + -3)) {
      iVar6 = 0;
      in_stack_0000fffa = (long *)0x0;
      piVar10 = (int *)&PTR_DAT_10a8_0000_10a8_7267;
      do {
        if ((*(byte *)((int)piVar10 + -5) & 2) == 0) {
          if (in_stack_0000fffa == (long *)0x0) {
            FUN_1028_5d44(iVar6,(undefined2 *)&stack0xfff6);
            if ((*piVar10 == 0) && (in_stack_0000fff6 == 0)) {
              in_stack_0000fffc = 1;
            }
            else {
              in_stack_0000fffc = 0;
            }
            HVar3 = GETDLGITEM(0x412,(int16)CONCAT214(in_stack_0000ffee,
                                                      CONCAT212(in_stack_0000ffec,
                                                                CONCAT210(in_stack_0000ffea,
                                                                          CONCAT28(in_stack_0000ffe8
                                                                                   ,CONCAT26(
                                                  in_stack_0000ffe6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_131e))))))));
            ENABLEWINDOW(in_stack_0000fffc,HVar3);
            HVar3 = GETDLGITEM(0x411,(int16)CONCAT214(in_stack_0000ffee,
                                                      CONCAT212(in_stack_0000ffec,
                                                                CONCAT210(in_stack_0000ffea,
                                                                          CONCAT28(in_stack_0000ffe8
                                                                                   ,CONCAT26(
                                                  in_stack_0000ffe6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_131e))))))));
            ENABLEWINDOW(1,HVar3);
            in_stack_0000fffa = (long *)(2 - (uint)(*piVar10 == 0));
          }
          SENDMESSAGE((int)piVar10 - 0x79,
                      (uint16)CONCAT214(in_stack_0000ffe8,
                                        CONCAT212(in_stack_0000ffe6,
                                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  param_1,0x403000010a8))))),in_stack_0000ffea,
                      CONCAT22(in_stack_0000ffee,in_stack_0000ffec));
        }
        iVar6 = iVar6 + 1;
        piVar10 = (int *)((int)piVar10 + 0x87);
      } while (piVar10 < (int *)0x7ad7);
    }
    else {
      pHVar11 = (HWND16 *)&PTR_PTR_10a8_1278;
      do {
        SENDMESSAGE(*pHVar11,(uint16)CONCAT214(in_stack_0000ffe8,
                                               CONCAT212(in_stack_0000ffe6,
                                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(param_1,0x403000010a8))))),
                    in_stack_0000ffea,CONCAT22(in_stack_0000ffee,in_stack_0000ffec));
        pHVar11 = pHVar11 + 1;
      } while (pHVar11 < (HWND16 *)&PTR_PTR_DAT_10a8_0064_10a8_117f_10a8_128e);
    }
  }
  LVar12 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffe8,
                                           CONCAT212(in_stack_0000ffe6,
                                                     CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  param_1,0x40600000000))))),in_stack_0000ffea,
                       CONCAT22(in_stack_0000ffee,in_stack_0000ffec));
  iVar6 = (int)LVar12;
  if (0x20 < iVar6) {
    iVar6 = 0x20;
  }
  GETWINDOWRECT((HWND16)&stack0xffe8,(RECT16 *)CONCAT22(param_1,unaff_SS));
  iVar5 = (int)PTR_DAT_10a8_0000_10a8_5794 - (uint)((int)PTR_DAT_10a8_0000_10a8_5794 < 0xf);
  SETWINDOWPOS(6,(uint)(0xe < (int)PTR_DAT_10a8_0000_10a8_5794) + iVar5 * (iVar6 + 1) + 8,
               (int16)CONCAT214(iVar5,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,(qword)
                                                  (uint)(in_stack_0000ffec - in_stack_0000ffe8))))),
               (int16)CONCAT214(in_stack_0000fff6,
                                CONCAT212(in_stack_0000fff4,
                                          CONCAT111(in_stack_0000fff3,
                                                    CONCAT110(in_stack_0000fff2,
                                                              CONCAT28(in_stack_0000fff0,
                                                                       CONCAT26(in_stack_0000ffee,
                                                                                CONCAT24(
                                                  in_stack_0000ffec,
                                                  CONCAT22(in_stack_0000ffea,in_stack_0000ffe8))))))
                                         )),
               (int16)CONCAT88(CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000)),
                               CONCAT26(unaff_BP,CONCAT24(in_stack_0000fffc,
                                                          CONCAT22(in_stack_0000fffa,
                                                                   in_stack_0000fff8)))),
               (int16)CONCAT142(in_stack_0000000a,param_3),in_stack_00000018);
  LVar12 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffe8,
                                           CONCAT212(iVar5,CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(param_1,0x40e00000000))))),
                       in_stack_0000ffea,CONCAT22(in_stack_0000ffee,in_stack_0000ffec));
  return (int)LVar12;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1060_30e2(undefined2 param_1,uint param_2)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  char *pcVar8;
  undefined2 *puVar9;
  undefined2 *puVar10;
  uint unaff_SS;
  char cVar11;
  undefined in_stack_0000ff2d;
  undefined in_stack_0000ff2e;
  undefined in_stack_0000ff2f;
  WPARAM16 in_stack_0000ff30;
  LPARAM in_stack_0000ff32;
  uint local_c;
  uint local_a;
  int local_8;
  uint local_6;
  uint local_4;

  local_6 = 1;
  cVar11 = 'A';
  SENDMESSAGE(0,(uint16)CONCAT115(in_stack_0000ff2f,
                                  CONCAT114(in_stack_0000ff2e,
                                            CONCAT113(in_stack_0000ff2d,
                                                      CONCAT112(0x41,CONCAT210(unaff_DI,CONCAT28(
                                                  unaff_SI,CONCAT26(param_1,0x40500000000))))))),
              in_stack_0000ff30,in_stack_0000ff32);
  do {
    if ((local_6 & param_2) != 0) {
      local_4 = 0;
      local_c = local_6;
      while( true ) {
        local_a = local_a & 0xff00 | local_4 & 0xff;
        iVar5 = FUN_1060_32b2(&local_c);
        if (iVar5 == 0) break;
        if (iVar5 == 1) {
          iVar5 = *(int *)(local_8 + 0x32);
          iVar4 = *(int *)(local_8 + 0x32);
          pcVar8 = (char *)(local_8 + 8);
          puVar10 = (undefined2 *)&stack0xff30;
          uVar6 = 0xffff;
          do {
            if (uVar6 == 0) break;
            uVar6 = uVar6 - 1;
            pcVar2 = pcVar8;
            pcVar8 = pcVar8 + 1;
          } while (*pcVar2 != '\0');
          uVar6 = ~uVar6;
          puVar9 = (undefined2 *)(pcVar8 + -uVar6);
          for (uVar7 = uVar6 >> 1; uVar7 != 0; uVar7 = uVar7 - 1) {
            puVar3 = puVar10;
            puVar10 = puVar10 + 1;
            puVar1 = puVar9;
            puVar9 = puVar9 + 1;
            *puVar3 = *puVar1;
          }
          for (uVar6 = (uint)((uVar6 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
            puVar3 = puVar10;
            puVar10 = (undefined2 *)((int)puVar10 + 1);
            puVar1 = puVar9;
            puVar9 = (undefined2 *)((int)puVar9 + 1);
            *(undefined *)puVar3 = *(undefined *)puVar1;
          }
          SENDMESSAGE((HWND16)&stack0xff2c,
                      (uint16)CONCAT115((char)(iVar4 / 0x1a) + 'A',
                                        CONCAT114((char)(iVar5 % 0x1a) + 'A',
                                                  CONCAT113((char)local_4 + 'A',
                                                            CONCAT112(cVar11,CONCAT210(unaff_DI,
                                                  CONCAT28(unaff_SI,CONCAT26(param_1,CONCAT24(0x401,
                                                  (ulong)unaff_SS)))))))),in_stack_0000ff30,
                      in_stack_0000ff32);
        }
        local_4 = local_4 + 1;
      }
    }
    cVar11 = cVar11 + '\x01';
    local_6 = local_6 << 1;
    if (local_6 == 0) {
      return;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1060_31aa(void)

{
  byte bVar1;
  undefined *puVar2;
  uint uVar3;
  undefined *puVar4;
  int *piVar5;
  int iVar6;
  byte *pbVar7;

  if (_PTR_DAT_10a8_0000_10a8_830e != (int *)0x0) {
    iVar6 = *_PTR_DAT_10a8_0000_10a8_830e * 0x93;
    if (PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0) {
      puVar2 = (undefined *)&PTR_DAT_10a8_0000_10a8_000c;
      puVar4 = PTR_DAT_10a8_0000_10a8_5794 + 0xc;
    }
    else {
      puVar2 = PTR_DAT_10a8_0000_10a8_82bc + -0x14a;
      puVar4 = (undefined *)&PTR_DAT_10a8_0000_10a8_0020;
    }
    bVar1 = *(byte *)(iVar6 + 0x2f28);
    uVar3 = (uint)bVar1;
    if (bVar1 != 0) {
      pbVar7 = (byte *)(iVar6 + 0x2f31);
      piVar5 = (int *)&PTR_DAT_10a8_0000_10a8_59d6;
      do {
        *piVar5 = (int)(puVar2 + (*pbVar7 & 0xf) * 0x20);
        piVar5[1] = (int)(puVar4 + (*pbVar7 & 0xf0) * 2);
        piVar5[2] = *piVar5 + 0x40;
        piVar5[3] = piVar5[1] + 0x40;
        piVar5 = piVar5 + 4;
        pbVar7 = pbVar7 + 1;
        uVar3 = uVar3 - 1;
      } while (uVar3 != 0);
    }
    if (*(int *)(iVar6 + 0x2ee2) != 0) {
      uVar3 = *(uint *)(iVar6 + 0x2f2f);
      bVar1 = (byte)(uVar3 >> 8);
      PTR_DAT_10a8_0000_10a8_5752 = puVar2 + (bVar1 & 0xf) * 0x20;
      PTR_DAT_10a8_0000_10a8_5754 = puVar4 + (bVar1 & 0xf0) * 2;
      PTR_DAT_10a8_0000_10a8_5756 = puVar2 + (uVar3 & 0xf) * 0x20;
      PTR_DAT_10a8_0000_10a8_5758 = puVar4 + (uVar3 & 0xf0) * 2;
    }
    PTR_DAT_10a8_0000_10a8_71e0 = puVar2 + 0x102;
    PTR_DAT_10a8_0000_10a8_71e2 = puVar4 + 0x101;
  }
  return;
}



int __cdecl16far FUN_1060_328e(int param_1)

{
  int iVar1;
  int *piVar2;

  iVar1 = 0;
  piVar2 = (int *)&PTR_PTR_DAT_10a8_0064_10a8_117f_10a8_11fe;
  do {
    if (*piVar2 == param_1) {
      return iVar1;
    }
    iVar1 = iVar1 + 1;
    piVar2 = piVar2 + 1;
  } while (piVar2 < (int *)&PTR_PTR_DAT_10a8_0000_10a8_6c41_10a8_121a);
  return 0;
}



int __cdecl16far FUN_1060_32b2(uint *param_1)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  bool bVar5;
  bool bVar6;
  byte bVar7;
  char local_4;

  uVar4 = *param_1;
  uVar2 = param_1[1];
  if (uVar4 == 0x20) {
    if (7 < (uVar2 & 0xff)) {
      return 0;
    }
    uVar4 = (uVar2 & 0xff) * 0x3a + 0x28ee;
  }
  else {
    local_4 = (char)uVar2;
    if (0x20 < uVar4) {
      if (uVar4 == 0x1000) {
        uVar4 = uVar2 & 0xff;
        if (8 < uVar4) {
          return 0;
        }
        param_1[2] = uVar4 * 0x36 + 0x1dca;
        if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) goto LAB_1060_379a;
        if (((uVar4 == 1) || (uVar4 == 4)) &&
           (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,3), iVar3 == 0))
        {
          return -1;
        }
        uVar2 = uVar2 & 0xff;
        if (((uVar2 != 2) && (uVar2 != 3)) && (uVar2 != 4)) goto LAB_1060_379a;
        bVar7 = 0xe;
LAB_1060_344a:
        iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,bVar7);
        if (iVar3 != 0) {
          return -1;
        }
      }
      else {
        if (uVar4 < 0x1001) {
          if (uVar4 == 0x40) {
            uVar2 = uVar2 & 0xff;
            if (10 < uVar2) {
              return 0;
            }
            param_1[2] = uVar2 * 0x3a + 0x2670;
            if ((PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) ||
               (((uVar2 != 8 && (uVar2 != 9)) && (uVar2 != 10)))) goto LAB_1060_379a;
            bVar7 = 0xf;
            goto LAB_1060_344a;
          }
          if (uVar4 != 0x100) {
            return 0;
          }
          uVar4 = uVar2 & 0xff;
          if (5 < uVar4) {
            return 0;
          }
          param_1[2] = uVar4 * 0x36 + 0x1fb0;
          if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) goto LAB_1060_379a;
          if ((((uVar4 == 2) || (uVar4 == 3)) || (uVar4 == 4)) &&
             (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,0xd),
             iVar3 != 0)) {
            return -1;
          }
          if (((uVar2 & 0xff) != 0) && ((uVar2 & 0xff) != 5)) goto LAB_1060_379a;
          bVar7 = 2;
        }
        else if (uVar4 == 0x2000) {
          uVar2 = uVar2 & 0xff;
          if (0xd < uVar2) {
            return 0;
          }
          param_1[2] = uVar2 * 0x36 + 0x237c;
          if ((PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) || (4 < uVar2))
          goto LAB_1060_379a;
          bVar7 = 6;
        }
        else {
          if (uVar4 != 0x4000) {
            if (uVar4 != 0x8000) {
              return 0;
            }
            uVar4 = uVar2 & 0xff;
            if (0xb < uVar4) {
              return 0;
            }
            param_1[2] = uVar4 * 0x36 + 0x20f4;
            if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) goto LAB_1060_379a;
            if (((uVar4 < 7) && (*(int *)(uVar4 * 0x36 + 0x2128) < 0)) &&
               (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,0x12),
               iVar3 != 0)) {
              return -1;
            }
            if (((uVar2 & 0xff) < 7) || (0xb < (uVar2 & 0xff))) goto LAB_1060_379a;
            bVar7 = 0x10;
            goto LAB_1060_344a;
          }
          uVar4 = uVar2 & 0xff;
          if (0x1a < uVar4) {
            return 0;
          }
          param_1[2] = (int)&PTR_DAT_10a8_0000_10a8_2eae + uVar4 * 0x93;
          if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) goto LAB_1060_379a;
          if ((uVar4 == 0xe) &&
             (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,0), iVar3 == 0
             )) {
            return -1;
          }
          if ((((uVar2 & 0xff) == 0xd) || ((uVar2 & 0xff) == 3)) &&
             (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,0xb),
             iVar3 != 0)) {
            return -1;
          }
          if ((((uVar2 & 0xff) == 0x16) || ((uVar2 & 0xff) == 0x17)) &&
             (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,0xd),
             iVar3 != 0)) {
            return -1;
          }
          if ((((uVar2 & 0xff) == 0x14) || ((uVar2 & 0xff) == 0x18)) &&
             (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,2), iVar3 == 0
             )) {
            return -1;
          }
          uVar4 = uVar2 & 0xff;
          if ((((uVar4 == 9) || (uVar4 == 10)) || (uVar4 == 0x13)) &&
             (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,0x11),
             iVar3 != 0)) {
            return -1;
          }
          if (((local_4 == '\x12') &&
              (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,9),
              iVar3 == 0)) &&
             (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,3), iVar3 == 0
             )) {
            return -1;
          }
          uVar2 = uVar2 & 0xff;
          if (((uVar2 != 0xc) && (uVar2 != 0x16)) &&
             ((uVar2 != 0x19 && ((uVar2 != 0xb && (uVar2 != 8)))))) goto LAB_1060_379a;
          bVar7 = 9;
        }
LAB_1060_33af:
        iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,bVar7);
        if (iVar3 == 0) {
          return -1;
        }
      }
      goto LAB_1060_379a;
    }
    if (uVar4 != 0x10) {
      if (0x10 < uVar4) {
        return 0;
      }
      cVar1 = (char)uVar4;
      if (cVar1 == '\x01') {
        uVar4 = uVar2 & 0xff;
        if (0xb < uVar4) {
          return 0;
        }
        param_1[2] = uVar4 * 0x4a + 0x1486;
        if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) goto LAB_1060_379a;
        if ((uVar4 == 0) &&
           (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,0), iVar3 == 0))
        {
          return -1;
        }
        uVar4 = uVar2 & 0xff;
        if (((((uVar4 == 8) || (uVar4 == 9)) || (uVar4 == 10)) || (uVar4 == 7)) &&
           (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,0xc), iVar3 != 0
           )) {
          return -1;
        }
        if (((uVar2 & 0xff) != 0xb) && ((uVar2 & 0xff) != 2)) goto LAB_1060_379a;
        bVar7 = 1;
      }
      else {
        if (cVar1 != '\x02') {
          if (cVar1 == '\x04') {
            uVar2 = uVar2 & 0xff;
            if (5 < uVar2) {
              return 0;
            }
            param_1[2] = uVar2 * 0x36 + 0x1c86;
            if (uVar2 < 4) goto LAB_1060_379a;
            bVar5 = uVar2 < 5;
            bVar6 = uVar2 == 5;
          }
          else {
            if (cVar1 != '\b') {
              return 0;
            }
            uVar2 = uVar2 & 0xff;
            if (7 < uVar2) {
              return 0;
            }
            param_1[2] = uVar2 * 0x36 + 0x17fe;
            if (uVar2 < 6) goto LAB_1060_379a;
            bVar5 = uVar2 < 7;
            bVar6 = uVar2 == 7;
          }
          if (!bVar5 && !bVar6) goto LAB_1060_379a;
          bVar7 = 0x14;
          goto LAB_1060_344a;
        }
        uVar2 = uVar2 & 0xff;
        if (0xc < uVar2) {
          return 0;
        }
        param_1[2] = uVar2 * 0x38 + 0x19ae;
        if (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0xffff) goto LAB_1060_379a;
        if ((((uVar2 == 6) || (uVar2 == 7)) || (uVar2 == 0xb)) &&
           (iVar3 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,0x12),
           iVar3 != 0)) {
          return -1;
        }
        if (local_4 != '\x05') goto LAB_1060_379a;
        bVar7 = 3;
      }
      goto LAB_1060_33af;
    }
    if (0x11 < (uVar2 & 0xff)) {
      return 0;
    }
    uVar4 = (uVar2 & 0xff) * 0x38 + 0x2abe;
  }
  param_1[2] = uVar4;
LAB_1060_379a:
  iVar3 = FUN_1060_37ac(param_1[2] + 2);
  return iVar3;
}



int __cdecl16far FUN_1060_37ac(int param_1)

{
  char cVar1;
  bool bVar2;
  int iVar3;
  int local_6;
  int local_4;

  iVar3 = 0;
  local_4 = 0;
  bVar2 = false;
  local_6 = 0;
  do {
    cVar1 = *(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + iVar3 + -0x7788);
    if ((cVar1 < *(char *)(iVar3 + param_1)) &&
       (local_4 = local_4 + 1,
       *(char *)((int)&DAT_10a8_888b + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == iVar3)) {
      if ((int)cVar1 - (int)*(char *)(iVar3 + param_1) == -1) {
        bVar2 = true;
      }
      else {
        local_6 = iVar3 + 1;
      }
    }
    iVar3 = iVar3 + 1;
  } while (iVar3 < 6);
  if (local_4 == 0) {
    return 1;
  }
  if ((local_4 == 1) && (bVar2)) {
    return 2;
  }
  if ((local_4 == 1) && (local_6 != 0)) {
    return ((int)*(char *)(param_1 + local_6 + -1) -
           (int)*(char *)(local_6 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x7789)) + 1;
  }
  return 99;
}


/*
Unable to decompile 'FAKELISTPROC'
Cause:
Low-level Error: Symbol $$undef0000000d extends beyond the end of the address space
*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1060_3996(int param_1)

{
  char *pcVar1;
  char *pcVar2;
  uint uVar3;
  undefined4 *puVar4;
  char *pcVar5;

  pcVar2 = (char *)(param_1 + 8);
  uVar3 = 0xffff;
  pcVar5 = pcVar2;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar1 = pcVar5;
    pcVar5 = pcVar5 + 1;
  } while (*pcVar1 != '\0');
  if ((int)(~uVar3 - 1) < 0x1c) {
    puVar4 = (undefined4 *)(pcVar2 + (~uVar3 - 1));
    if (((*(char *)((int)puVar4 + -1) == ')') &&
        (pcVar5 = (char *)((int)puVar4 + -2), (*(byte *)(*pcVar5 + 0x4ca5) & 4) != 0)) &&
       (*(char *)((int)puVar4 + -3) == '(')) {
      if (*pcVar5 == '9') {
        *pcVar5 = '0';
      }
      else {
        pcVar1 = pcVar5;
        *pcVar1 = *pcVar1 + '\x01';
      }
    }
    else {
      *puVar4 = _PTR_PTR_DAT_10a8_0000_10a8_2820_10a8_1480;
      *(undefined *)(puVar4 + 1) = PTR_DAT_10a8_0000_10a8_1484._0_1_;
    }
  }
  FUN_1018_6628(pcVar2,0xa0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1068_0000(int param_1)

{
  int iVar1;
  undefined2 unaff_SI;
  int16 *piVar2;
  undefined in_stack_0000fee4 [12];
  int local_1c [9];
  undefined *local_a;
  int16 *local_8;
  void *local_6;

                    // Segment:    14
                    // Offset:     000450a0
                    // Length:     2036
                    // Min Alloc:  2036
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  local_a = PTR_DAT_10a8_0000_10a8_002e;
  PTR_DAT_10a8_0000_10a8_002e = (undefined *)local_1c;
  iVar1 = FUN_10a0_0704(local_1c);
  if (iVar1 != 0) {
    if (_PTR_DAT_10a8_0000_10a8_4182 != 0) {
      FUN_1038_05b8((uint)_PTR_DAT_10a8_0000_10a8_4182,
                    (uint)((ulong)_PTR_DAT_10a8_0000_10a8_4182 >> 0x10));
    }
    _PTR_DAT_10a8_0000_10a8_4182 = 0;
    if (PTR_DAT_10a8_0000_10a8_4186 != (undefined *)0x0) {
      ENDDIALOG(0,(int16)CONCAT124(in_stack_0000fee4,CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_4186))
               );
    }
    PTR_DAT_10a8_0000_10a8_4186 = (undefined *)0x0;
    PTR_DAT_10a8_0000_10a8_4188 = (undefined *)0x0;
    FUN_1018_50b2(0x1d,0x10);
    PTR_DAT_10a8_0000_10a8_002e = local_a;
    return 0;
  }
  if (param_1 == 0) {
    FUN_1068_0100((undefined4 *)&stack0xfee4);
    PTR_DAT_10a8_0000_10a8_4188 = (undefined *)&DAT_10a8_0001;
    local_6 = MAKEPROCINSTANCE((void *)CONCAT22(0x8c8,PTR_DAT_10a8_0000_10a8_839a),0x1068);
    local_8 = DIALOGBOX((int16 *)local_6,(HINSTANCE16)((ulong)local_6 >> 0x10),
                        (LPCSTR)CONCAT22(0x5d,PTR_DAT_10a8_0000_10a8_58b4),0,
                        PTR_DAT_10a8_0000_10a8_839a);
    FREEPROCINSTANCE(local_6);
    PTR_DAT_10a8_0000_10a8_4186 = (undefined *)0x0;
    PTR_DAT_10a8_0000_10a8_4188 = (undefined *)0x0;
    piVar2 = local_8;
  }
  else {
    piVar2 = (int16 *)&DAT_10a8_0001;
  }
  FUN_1068_07fa((int)piVar2);
  if ((piVar2 != (int16 *)0x0) && (PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001)) {
    local_8 = piVar2;
    FUN_1020_0736((int16 *)0x0,8);
  }
  PTR_DAT_10a8_0000_10a8_002e = local_a;
  return 1;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: ram

void __cdecl16far FUN_1068_0100(undefined4 *param_1)

{
  undefined2 *puVar1;
  ulong *puVar2;
  uint *puVar3;
  uint *puVar4;
  undefined4 *puVar5;
  undefined2 uVar6;
  ulong *puVar7;
  undefined *puVar8;
  uint *puVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  ulong *puVar14;
  undefined *in_DX;
  uint uVar15;
  uint uVar16;
  undefined uVar17;
  ulong *puVar18;
  uint *puVar19;
  undefined4 *puVar20;
  undefined2 unaff_SS;
  undefined2 local_20 [3];
  uint local_1a [7];
  uint local_c;
  int local_8;
  uint local_6;
  uint local_4;

  _DAT_10a8_0a46 = _DAT_10a8_0a46 ^ (byte)((char)(DAT_10a8_7bf6 >> 7) << 5 ^ DAT_10a8_0a46) & 0x20;
  _DAT_10a8_0a46 = _DAT_10a8_0a46 ^ ((DAT_10a8_7bf6 >> 8) << 6 ^ _DAT_10a8_0a46) & 0x1c0;
  if (param_1 == (undefined4 *)0x0) {
    param_1 = (undefined4 *)PTR_DAT_10a8_0000_10a8_885c;
  }
  if (_PTR_DAT_10a8_0000_10a8_7c0e == 0) {
    local_6 = 2;
  }
  else {
    local_6 = (uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_7c0e + 3);
  }
  PTR_DAT_10a8_0000_10a8_4182 = (undefined *)FUN_1038_0562(4,local_6,0);
  PTR_DAT_10a8_0000_10a8_4184 = in_DX;
  if (_PTR_DAT_10a8_0000_10a8_7c0e == 0) {
    uVar17 = 0;
  }
  else {
    puVar9 = (uint *)(PTR_DAT_10a8_0000_10a8_7c0e + 4);
    puVar19 = (uint *)((int)PTR_DAT_10a8_0000_10a8_4182 + 4);
    for (uVar12 = (local_6 << 2) >> 1; uVar12 != 0; uVar12 = uVar12 - 1) {
      puVar4 = puVar19;
      puVar19 = puVar19 + 1;
      puVar3 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar4 = *puVar3;
    }
    for (iVar13 = 0; iVar13 != 0; iVar13 = iVar13 + -1) {
      puVar4 = puVar19;
      puVar19 = (uint *)((int)puVar19 + 1);
      puVar3 = puVar9;
      puVar9 = (uint *)((int)puVar9 + 1);
      *(undefined *)puVar4 = *(undefined *)puVar3;
    }
    uVar17 = (undefined)local_6;
  }
  PTR_DAT_10a8_0000_10a8_4182[3] = uVar17;
  PTR_DAT_10a8_0000_10a8_8fe0 = (undefined *)0x0;
  PTR_DAT_10a8_0000_10a8_885c = (undefined *)param_1;
  puVar20 = param_1;
  for (iVar13 = 0x40; iVar13 != 0; iVar13 = iVar13 + -1) {
    puVar5 = puVar20;
    puVar20 = puVar20 + 1;
    *puVar5 = 0;
  }
  if ((DAT_10a8_7bdb & 2) == 0) {
    iVar13 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
    uVar6 = *(undefined2 *)((int)param_1 + iVar13 + 2);
    *(int *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0) =
         (int)CONCAT31((uint3)((byte)((uint)*(undefined2 *)
                                             (param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0) >> 8) &
                              0xfc),1);
    *(undefined2 *)((int)param_1 + iVar13 + 2) = uVar6;
    puVar2 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
    *puVar2 = *puVar2 & 0xfffe03ff;
    *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
         *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
    PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
  }
  else {
    iVar13 = 0;
    local_4 = 0x7261;
    do {
      if ((*(byte *)(local_4 + 1) & 2) == 0) {
        puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
        *(uint *)puVar5 = *(uint *)puVar5 | 0x3ff;
        puVar20 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
        uVar12 = *(uint *)((int)puVar20 + 2);
        puVar5 = puVar20;
        *(uint *)puVar5 = *(uint *)puVar5 ^ (iVar13 << 10 ^ *(uint *)puVar20) & 0xfc00;
        puVar3 = (uint *)((int)puVar20 + 2);
        *puVar3 = *puVar3 ^ (CARRY2(iVar13 << 9,iVar13 << 9) ^ uVar12) & 1;
        *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
             *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff5 | 4;
        PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
      }
      iVar13 = iVar13 + 1;
      local_4 = local_4 + 0x87;
    } while (local_4 < 0x7ad1);
  }
  iVar13 = FUN_1020_389e((int)&PTR_DAT_10a8_0000_10a8_7bd6,
                         CONCAT13((char)((uint)PTR_DAT_10a8_0001_10a8_00c0 >> 8),
                                  CONCAT12((char)PTR_DAT_10a8_0001_10a8_00c0,0x10a8)));
  uVar12 = iVar13 - ((uint)PTR_DAT_10a8_0000_10a8_7bf2 >> 4 & 0xff |
                    (uint)(byte)((ulong)((uint)PTR_DAT_10a8_0000_10a8_7bf2 >> 4) >> 8) << 8);
  if (uVar12 != 0) {
    iVar13 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
    uVar12 = (uVar12 - 0x3fc & -(uint)(uVar12 < 0x3fc)) + 0x3fc ^
             *(uint *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0);
    puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
    *(uint *)puVar5 = *(uint *)puVar5 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
    puVar1 = (undefined2 *)((int)param_1 + iVar13 + 2);
    *puVar1 = *puVar1;
    param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] =
         param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] & 0xfffe07ff | 0x400;
    *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
         *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
    PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
  }
  iVar13 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
  uVar12 = (uint)PTR_DAT_10a8_0000_10a8_7bf2 >> 4 ^
           *(uint *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0);
  puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
  *(uint *)puVar5 = *(uint *)puVar5 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
  puVar1 = (undefined2 *)((int)param_1 + iVar13 + 2);
  *puVar1 = *puVar1;
  param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] =
       param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] & 0xfffe0bff | 0x800;
  *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
       *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
  PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
  iVar13 = FUN_1020_37fc((int)&PTR_DAT_10a8_0000_10a8_7bd6,
                         CONCAT13((char)((uint)PTR_DAT_10a8_0001_10a8_00c0 >> 8),
                                  CONCAT12((char)PTR_DAT_10a8_0001_10a8_00c0,0x10a8)));
  uVar12 = iVar13 - ((uint)((ulong)_PTR_DAT_10a8_0000_10a8_7bf0 >> 8) & 0xfff);
  if (uVar12 != 0) {
    iVar13 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
    uVar12 = (uVar12 - 0x3fc & -(uint)(uVar12 < 0x3fc)) + 0x3fc ^
             *(uint *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0);
    puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
    *(uint *)puVar5 = *(uint *)puVar5 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
    puVar1 = (undefined2 *)((int)param_1 + iVar13 + 2);
    *puVar1 = *puVar1;
    param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] =
         param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] & 0xfffe0fff | 0xc00;
    *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
         *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
    PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
  }
  iVar13 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
  uVar12 = (uint)((ulong)_PTR_DAT_10a8_0000_10a8_7bf0 >> 8) ^
           *(uint *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0);
  puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
  *(uint *)puVar5 = *(uint *)puVar5 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
  puVar1 = (undefined2 *)((int)param_1 + iVar13 + 2);
  *puVar1 = *puVar1;
  param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] =
       param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] & 0xfffe13ff | 0x1000;
  *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
       *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
  PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
  iVar13 = FUN_1020_393a(&PTR_DAT_10a8_0000_10a8_7bd6,(int)PTR_DAT_10a8_0001_10a8_00c0);
  uVar12 = iVar13 - ((uint)PTR_DAT_10a8_0000_10a8_7bf4 & 0xff |
                    ((byte)(ZEXT24(PTR_DAT_10a8_0000_10a8_7bf4) >> 8) & 0xf) << 8);
  if (uVar12 != 0) {
    iVar13 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
    uVar12 = *(uint *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0) ^ uVar12;
    puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
    *(uint *)puVar5 = *(uint *)puVar5 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
    puVar1 = (undefined2 *)((int)param_1 + iVar13 + 2);
    *puVar1 = *puVar1;
    param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] =
         param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] & 0xfffe17ff | 0x1400;
    *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
         *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
    PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
  }
  iVar13 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
  uVar12 = *(uint *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0) ^ (uint)PTR_DAT_10a8_0000_10a8_7bf4
  ;
  puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
  *(uint *)puVar5 = *(uint *)puVar5 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
  puVar1 = (undefined2 *)((int)param_1 + iVar13 + 2);
  *puVar1 = *puVar1;
  param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] =
       param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] & 0xfffe1bff | 0x1800;
  *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
       *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
  PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
  if (((uint)PTR_DAT_10a8_0000_10a8_7bf4 & 0xfff) != 0) {
    local_1a[6] = 0x8000;
    local_c = (uint)CONCAT31((uint3)(byte)(local_c >> 8),7);
    iVar13 = 0;
    do {
      iVar10 = FUN_1060_32b2(local_1a + 6);
      if (iVar10 != 1) break;
      local_c = local_c & 0xff00 | (uint)(byte)((char)local_c + 1);
      iVar13 = iVar13 + 1;
    } while (iVar13 < 5);
    uVar12 = iVar13 - ((DAT_10a8_7bf6 >> 1 & 0x1f) + 1);
    if (0 < (int)uVar12) {
      iVar13 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
      uVar12 = *(uint *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0) ^ uVar12;
      puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
      *(uint *)puVar5 = *(uint *)puVar5 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
      puVar1 = (undefined2 *)((int)param_1 + iVar13 + 2);
      *puVar1 = *puVar1;
      param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] =
           param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] & 0xfffe1fff | 0x1c00;
      *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
           *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
      PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
    }
  }
  iVar13 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,10);
  if (iVar13 != 0) {
    puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
    *(uint *)puVar5 = *(uint *)puVar5 | 0x3ff;
    param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] =
         param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0] & 0xfffe23ff | 0x2000;
    *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
         *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
    PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
  }
  local_c = local_c & 0xff00;
  local_1a[6] = 0x8000;
  iVar13 = 0;
  do {
    if ((_PTR_DAT_10a8_0000_10a8_7bf4 & 0x1f000) == 0x1f000) {
LAB_1068_05b6:
      iVar10 = FUN_1060_32b2(local_1a + 6);
      if (iVar10 == 1) {
        iVar10 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
        uVar6 = *(undefined2 *)((int)param_1 + iVar10 + 2);
        *(int *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0) =
             (int)CONCAT31((uint3)((byte)((uint)*(undefined2 *)
                                                 (param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0) >> 8)
                                  & 0xfc),1);
        *(undefined2 *)((int)param_1 + iVar10 + 2) = uVar6;
        iVar10 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
        uVar11 = (iVar13 + 0xf) * 0x200;
        uVar12 = *(uint *)((int)param_1 + iVar10 + 2);
        puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
        *(uint *)puVar5 =
             *(uint *)puVar5 ^
             ((iVar13 + 0xf) * 0x400 ^ *(uint *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0)) &
             0xfc00;
        puVar3 = (uint *)((int)param_1 + iVar10 + 2);
        *puVar3 = *puVar3 ^ (CARRY2(uVar11,uVar11) ^ uVar12) & 1;
        *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
             *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
        PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
      }
    }
    else {
      uVar15 = DAT_10a8_7bf6 * 2 +
               (uint)CARRY2((uint)PTR_DAT_10a8_0000_10a8_7bf4,(uint)PTR_DAT_10a8_0000_10a8_7bf4);
      uVar12 = (uint)(CARRY2(DAT_10a8_7bf6,DAT_10a8_7bf6) ||
                     CARRY2(DAT_10a8_7bf6 * 2,
                            (uint)CARRY2((uint)PTR_DAT_10a8_0000_10a8_7bf4,
                                         (uint)PTR_DAT_10a8_0000_10a8_7bf4)));
      uVar11 = (int)PTR_DAT_10a8_0000_10a8_7bf4 * 4 + uVar12;
      uVar12 = (uint)(CARRY2((int)PTR_DAT_10a8_0000_10a8_7bf4 * 2,
                             (int)PTR_DAT_10a8_0000_10a8_7bf4 * 2) ||
                     CARRY2((int)PTR_DAT_10a8_0000_10a8_7bf4 * 4,uVar12));
      uVar16 = uVar15 * 2 + uVar12;
      uVar12 = (uint)(CARRY2(uVar15,uVar15) || CARRY2(uVar15 * 2,uVar12));
      uVar15 = uVar11 * 2 + uVar12;
      uVar12 = (uint)(CARRY2(uVar11,uVar11) || CARRY2(uVar11 * 2,uVar12));
      if ((int)((uVar16 * 2 + uVar12) * 2 +
                (uint)(CARRY2(uVar15,uVar15) ||
                      CARRY2(uVar15 * 2,(uint)(CARRY2(uVar16,uVar16) || CARRY2(uVar16 * 2,uVar12))))
               & 0x1f) < iVar13) goto LAB_1068_05b6;
    }
    local_c = local_c & 0xff00 | (uint)(byte)((char)local_c + 1);
    iVar13 = iVar13 + 1;
    if (6 < iVar13) {
      iVar13 = FUN_1020_3abc((ulong)&PTR_DAT_10a8_0000_10a8_7bd6,(int *)local_1a,
                             (int *)(local_1a + 3),local_20);
      if (iVar13 != 0) {
        local_4 = 10;
        iVar13 = 0;
        local_6 = 0;
        do {
          if (*(int *)((int)local_1a + iVar13) != -1) {
            puVar20 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
            uVar12 = (int)*(char *)(local_6 + 0x7be8) - *(int *)((int)local_1a + iVar13) ^
                     *(uint *)puVar20;
            puVar5 = puVar20;
            *(uint *)puVar5 =
                 *(uint *)puVar5 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
            puVar3 = (uint *)((int)puVar20 + 2);
            *puVar3 = *puVar3;
            puVar2 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
            *puVar2 = *puVar2 ^ ((long)(int)local_4 << 10 ^
                                param_1[(int)PTR_DAT_10a8_0000_10a8_8fe0]) & 0x1fc00U;
            *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
                 *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
            PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
          }
          if (*(int *)((int)local_1a + iVar13 + 6) != -1) {
            puVar20 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
            uVar12 = -((int)*(char *)(local_6 + 0x7be8) - *(int *)((int)local_1a + iVar13 + 6)) ^
                     *(uint *)puVar20;
            puVar5 = puVar20;
            *(uint *)puVar5 =
                 *(uint *)puVar5 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
            puVar3 = (uint *)((int)puVar20 + 2);
            *puVar3 = *puVar3;
            iVar10 = (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4;
            uVar11 = (local_4 + -1) * 0x200;
            uVar12 = *(uint *)((int)param_1 + iVar10 + 2);
            puVar5 = param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0;
            *(uint *)puVar5 =
                 *(uint *)puVar5 ^
                 ((local_4 + -1) * 0x400 ^ *(uint *)(param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0)) &
                 0xfc00;
            puVar3 = (uint *)((int)param_1 + iVar10 + 2);
            *puVar3 = *puVar3 ^ (CARRY2(uVar11,uVar11) ^ uVar12) & 1;
            *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) =
                 *(uint *)((int)param_1 + (int)PTR_DAT_10a8_0000_10a8_8fe0 * 4 + 2) & 0xfff3 | 2;
            PTR_DAT_10a8_0000_10a8_8fe0 = PTR_DAT_10a8_0000_10a8_8fe0 + 1;
          }
          local_4 = local_4 + 2;
          local_6 = local_6 + 1;
          iVar13 = iVar13 + 2;
        } while (iVar13 < 6);
      }
      puVar8 = PTR_DAT_10a8_0000_10a8_4184;
      local_8 = 0;
      puVar7 = (ulong *)PTR_DAT_10a8_0000_10a8_4182;
      if (PTR_DAT_10a8_0000_10a8_4182[3] != '\0') {
        do {
          puVar14 = puVar7 + 1;
          iVar13 = 0;
          puVar18 = (ulong *)PTR_DAT_10a8_0000_10a8_885c;
          if (0 < (int)PTR_DAT_10a8_0000_10a8_8fe0) {
            do {
              if ((((*(uint *)((int)puVar7 + 6) ^ *(uint *)((int)puVar18 + 2)) & 0xe) == 0) &&
                 (((*puVar14 ^ *puVar18) & 0x1fc00) == 0)) break;
              iVar13 = iVar13 + 1;
              puVar18 = puVar18 + 1;
            } while (iVar13 < (int)PTR_DAT_10a8_0000_10a8_8fe0);
          }
          puVar19 = (uint *)(PTR_DAT_10a8_0000_10a8_885c + iVar13 * 4);
          uVar12 = *puVar19;
          if ((uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8) != 0x3ff) {
            uVar12 = *puVar19;
            uVar11 = *(uint *)puVar14;
            if ((uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8) <
                (uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 3) << 8)) {
              puVar3 = puVar19;
              *puVar3 = *puVar3 & 0xfc00;
            }
            else {
              uVar12 = *puVar19 - *(uint *)puVar14 ^ *puVar19;
              puVar3 = puVar19;
              *puVar3 = *puVar3 ^ (uVar12 & 0xff | ((byte)((ulong)uVar12 >> 8) & 3) << 8);
              puVar3 = puVar19 + 1;
              *puVar3 = *puVar3;
            }
          }
          local_8 = local_8 + 1;
          puVar7 = puVar14;
        } while (local_8 < (int)(uint)(byte)PTR_DAT_10a8_0000_10a8_4182[3]);
      }
      return;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1068_07fa(int param_1)

{
  uint uVar1;

  if (param_1 == 0) {
    DAT_10a8_7bf6 = DAT_10a8_7bf6 ^ (((_DAT_10a8_0a46 & 0x20) >> 5) << 7 ^ DAT_10a8_7bf6) & 0x80;
    FUN_1038_05b8((uint)_PTR_DAT_10a8_0000_10a8_4182,
                  (uint)((ulong)_PTR_DAT_10a8_0000_10a8_4182 >> 0x10));
  }
  else {
    FUN_1038_05b8((uint)_PTR_DAT_10a8_0000_10a8_7c0e,
                  (uint)((ulong)_PTR_DAT_10a8_0000_10a8_7c0e >> 0x10));
    if (_PTR_DAT_10a8_0000_10a8_4182 != 0) {
      uVar1 = (uint)((ulong)_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
      if (*(char *)((uint)_PTR_DAT_10a8_0000_10a8_4182 + 3) == '\0') {
        FUN_1038_05b8((uint)_PTR_DAT_10a8_0000_10a8_4182,uVar1);
        _PTR_DAT_10a8_0000_10a8_4182 = 0;
      }
    }
    _PTR_DAT_10a8_0000_10a8_7c0e = _PTR_DAT_10a8_0000_10a8_4182;
    DAT_10a8_7bf6 = DAT_10a8_7bf6 ^ (((_DAT_10a8_0a46 & 0x1c0) >> 6) << 8 ^ DAT_10a8_7bf6) & 0x700;
    FUN_1010_02b0(-1,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bd6);
    FUN_1010_02b0((int)PTR_DAT_10a8_0000_10a8_7bd6,(undefined4 *)&PTR_DAT_10a8_0000_10a8_7bd6);
    if (PTR_DAT_10a8_0000_10a8_4b7e == (undefined *)0x0) {
      FUN_1020_3370((undefined *)0x0,0);
      FUN_1020_0736((int16 *)0x0,0x40);
    }
  }
  _PTR_DAT_10a8_0000_10a8_4182 = 0;
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulong __stdcall16far
FUN_1068_08c8(undefined4 param_1,HWND16 param_2,uint param_3,undefined *param_4)

{
  char cVar1;
  int16 *piVar2;
  RECT16 *pRVar3;
  bool16 bVar4;
  HWND16 HVar5;
  int iVar6;
  uint in_DX;
  undefined2 unaff_SI;
  HWND16 *pHVar7;
  undefined2 unaff_DI;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar8;
  undefined uVar9;
  undefined uVar10;
  undefined2 in_stack_0000ffb2;
  undefined8 in_stack_0000ffb4;
  undefined4 in_stack_0000ffbc;
  word in_stack_0000ffc0;
  undefined2 in_stack_0000ffc2;
  undefined in_stack_0000ffc4 [14];
  HWND16 HVar11;
  undefined2 uVar12;
  undefined4 uVar13;
  HWND16 HVar14;
  undefined2 uVar15;
  undefined2 uVar16;
  undefined2 uVar17;
  HWND16 in_stack_0000ffe2;
  word flags;
  undefined4 uStack_1c;
  undefined auStack_1a [2];
  undefined *puStack_18;
  undefined4 local_16;
  undefined4 uStack_12;
  HWND16 HStack_e;
  int iStack_c;
  HWND16 HStack_a;
  undefined4 uStack_8;
  HWND16 *pHStack_4;

  if (param_3 == 0x2b) {
    pHStack_4 = (HWND16 *)param_1._2_2_;
    if (*(int *)((RECT16 *)param_1 + 4) == -1) {
      FUN_1020_3122((int)(RECT16 *)param_1,param_1._2_2_);
    }
    else {
      iVar6 = *(int *)((RECT16 *)param_1 + 6);
      if ((iVar6 != 0) && ((iVar6 == 1 || iVar6 == 2 || (iVar6 == 4)))) {
        FUN_1020_3148((int)(RECT16 *)param_1,param_1._2_2_,4);
      }
    }
  }
  else {
    uVar9 = SUB21(param_4,0);
    uVar10 = (undefined)((uint)param_4 >> 8);
    if (param_3 < 0x2c) {
      if (param_3 == 0x20) {
        GETCURSORPOS((POINT16 *)((int)&uStack_8 + 2));
        SCREENTOCLIENT((int)&uStack_8 + 2,(POINT16 *)CONCAT13(uVar10,CONCAT12(uVar9,unaff_SS)));
        bVar4 = PTINRECT(uStack_8._2_2_,pHStack_4._0_1_);
        if (bVar4 == 0) goto LAB_1068_0daa;
        SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_7ad0);
      }
      else {
        if (0x20 < param_3) {
LAB_1068_0daa:
          return (ulong)in_DX << 0x10;
        }
        cVar1 = (char)param_3;
        if (cVar1 == '\x0f') {
          piVar2 = (int16 *)BEGINPAINT((HWND16)&stack0xffb2,
                                       (PAINTSTRUCT16 *)CONCAT13(uVar10,CONCAT12(uVar9,unaff_SS)));
          GETCLIENTRECT((HWND16)&local_16,(RECT16 *)CONCAT22(param_4,unaff_SS));
          FUN_1068_15b2((HWND16)param_4,piVar2);
          ENDPAINT((HWND16)&stack0xffb2,unaff_SS);
        }
        else {
          if (cVar1 != '\x14') {
            if ((cVar1 == '\x19') &&
               ((pRVar3 = (RECT16 *)
                          GETDLGITEM(0x8b,(int16)CONCAT88(in_stack_0000ffb4,
                                                          CONCAT26(in_stack_0000ffb2,
                                                                   CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_4))))), pRVar3 == (RECT16 *)param_1
                || (param_1._2_2_ == 6)))) {
              CVar8 = SETBKCOLOR((HDC16)_DAT_10a8_5714,
                                 CONCAT13((char)(param_2 >> 8),
                                          CONCAT12((char)param_2,
                                                   (int)((ulong)_DAT_10a8_5714 >> 0x10))));
              return CVar8.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
            }
            goto LAB_1068_0daa;
          }
          GETCLIENTRECT((HWND16)&local_16,(RECT16 *)CONCAT13(uVar10,CONCAT12(uVar9,unaff_SS)));
          FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_16,(RECT16 *)unaff_SS,param_2)
          ;
        }
      }
    }
    else if (param_3 == 0x2c) {
      *(undefined **)((RECT16 *)param_1 + 8) = PTR_DAT_10a8_0000_10a8_5794 + 2;
    }
    else {
      if (param_3 != 0x110) {
        if (param_3 == 0x111) {
          FUN_1068_0db2((HWND16)param_4,param_2,(RECT16 *)param_1,param_1._2_2_);
        }
        else if ((param_3 == 0x201) || (param_3 == 0x204)) {
          uStack_8 = param_1;
          bVar4 = PTINRECT((RECT16 *)param_1,SUB41((ulong)param_1 >> 0x10,0));
          if (bVar4 != 0) {
            if (param_3 == 0x201) {
              _PTR_DAT_10a8_0000_10a8_1144 = 0xb4000a;
              _DAT_10a8_1148 = 0x7c44;
              FUN_1018_50de(0x90,(char *)0x7c44);
              FUN_1058_0832(uVar9,(int)uStack_8,(char)((ulong)uStack_8 >> 0x10));
            }
            else {
              uStack_1c = 0xc08ec08d;
              puStack_18 = (undefined *)0xc08f;
              iVar6 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,10);
              pHStack_4 = (HWND16 *)
                          FUN_1058_0cc6((int)param_4,(int)uStack_8,uStack_8._2_2_,
                                        (-(uint)(iVar6 == 0) & 0xfffe) + 7,(int)&stack0xffdc,0,
                                        (_DAT_10a8_0a46 & 0x1c0) >> 6);
              if ((pHStack_4 != (HWND16 *)0xffff) &&
                 ((HWND16 *)((_DAT_10a8_0a46 & 0x1c0) >> 6) != pHStack_4)) {
                _DAT_10a8_0a46 = _DAT_10a8_0a46 ^ ((int)pHStack_4 << 6 ^ _DAT_10a8_0a46) & 0x1c0;
                local_16 = _PTR_DAT_10a8_0000_10a8_7c36;
                uStack_12._0_2_ = (int)_PTR_DAT_10a8_0000_10a8_7c3a;
                uStack_12 = _PTR_DAT_10a8_0000_10a8_7c3a & 0xffff0000 |
                            (ulong)((int)uStack_12 + 300);
                INVALIDATERECT(1,(RECT16 *)&local_16,(bool16)unaff_SS);
              }
            }
          }
        }
        goto LAB_1068_0daa;
      }
      HVar11 = 0x42e;
      uVar12 = 0x42f;
      uVar13 = 0x20001;
      HVar14 = 0x418;
      uVar15 = 0x419;
      uVar16 = 0x42d;
      uVar17 = 0x76;
      PTR_DAT_10a8_0000_10a8_4186 = param_4;
      if (*(int *)((int)&PTR_DAT_10a8_0000_10a8_8860 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) < 2)
      {
        HVar5 = GETDLGITEM(0x42f,(int16)CONCAT88(in_stack_0000ffb4,
                                                 CONCAT26(in_stack_0000ffb2,
                                                          CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_4)))));
        ENABLEWINDOW(0,HVar5);
        HVar5 = GETDLGITEM(0x42e,(int16)CONCAT88(in_stack_0000ffb4,
                                                 CONCAT26(in_stack_0000ffb2,
                                                          CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_4)))));
        ENABLEWINDOW(0,HVar5);
      }
      if ((DAT_10a8_0a48 & 6) < 2) {
        uStack_8._2_2_ = (RECT16 *)0x262;
        HStack_a = (int)(PTR_DAT_10a8_0000_10a8_5794 + 1) * 0x18;
      }
      else {
        uStack_8._2_2_ = (RECT16 *)0x2f8;
        HStack_a = 0x244;
      }
      SETWINDOWPOS(6,HStack_a,
                   (int16)CONCAT214(in_stack_0000ffb2,
                                    CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT19(uVar10,CONCAT18(
                                                  uVar9,ZEXT28(uStack_8._2_2_)))))),
                   (int16)CONCAT214(in_stack_0000ffc2,
                                    CONCAT212(in_stack_0000ffc0,
                                              CONCAT48(in_stack_0000ffbc,in_stack_0000ffb4))),
                   (int16)CONCAT214(HVar11,in_stack_0000ffc4),
                   (int16)CONCAT214(in_stack_0000ffe2,
                                    CONCAT212(uVar17,CONCAT210(uVar16,CONCAT28(uVar15,CONCAT26(
                                                  HVar14,CONCAT42(uVar13,uVar12)))))),
                   (word)uStack_1c);
      GETCLIENTRECT((HWND16)&local_16,(RECT16 *)CONCAT13(uVar10,CONCAT12(uVar9,unaff_SS)));
      iStack_c = (int)uStack_12 >> 1;
      HStack_e = (((int)PTR_DAT_10a8_0000_10a8_5794 * -0x11) / 2 + uStack_12._2_2_) - 0x18;
      local_16._0_2_ = ((int)uStack_12 * 0xb) / 0x14 + 0x10;
      iVar6 = (int)(-((int)local_16 - (int)uStack_12) +
                   (-((int)local_16 - (int)uStack_12) >> 0xf & 3U)) >> 2;
      uStack_12 = uStack_12 & 0xffff |
                  (ulong)(uint)(uStack_12._2_2_ - (((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2 + 6))
                  << 0x10;
      HVar5 = GETDLGITEM(0x8b,(int16)CONCAT88(in_stack_0000ffb4,
                                              CONCAT26(in_stack_0000ffb2,
                                                       CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4))
                                                      )));
      SETWINDOWPOS(4,((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2,
                   (int16)CONCAT214(in_stack_0000ffb2,
                                    CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT19((char)(HVar5 >> 8
                                                                                         ),CONCAT18(
                                                  (char)HVar5,
                                                  (qword)CONCAT14(6,uStack_12 & 0xffff0000 |
                                                                    (ulong)((int)local_16 - 0xc)))))
                                             )),
                   (int16)CONCAT214(in_stack_0000ffc2,
                                    CONCAT212(in_stack_0000ffc0,
                                              CONCAT48(in_stack_0000ffbc,in_stack_0000ffb4))),
                   (int16)CONCAT214(HVar11,in_stack_0000ffc4),
                   (int16)CONCAT214(in_stack_0000ffe2,
                                    CONCAT212(uVar17,CONCAT210(uVar16,CONCAT28(uVar15,CONCAT26(
                                                  HVar14,CONCAT42(uVar13,uVar12)))))),
                   (word)uStack_1c);
      pHVar7 = (HWND16 *)&stack0xffd2;
      pHStack_4 = pHVar7;
      uStack_8._0_2_ = iVar6;
      do {
        HVar5 = GETDLGITEM(*pHVar7,(int16)CONCAT88(in_stack_0000ffb4,
                                                   CONCAT26(in_stack_0000ffb2,
                                                            CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_4)))));
        SETWINDOWPOS(4,((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2,
                     (int16)CONCAT214(in_stack_0000ffb2,
                                      CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT19((char)(HVar5 >>
                                                                                           8),
                                                  CONCAT18((char)HVar5,
                                                           (qword)CONCAT15((char)((uint)(int)
                                                  local_16 >> 8),
                                                  CONCAT14((char)(int)local_16,
                                                           uStack_12 & 0xffff0000 |
                                                           (ulong)(iVar6 - 6)))))))),
                     (int16)CONCAT214(in_stack_0000ffc2,
                                      CONCAT212(in_stack_0000ffc0,
                                                CONCAT48(in_stack_0000ffbc,in_stack_0000ffb4))),
                     (int16)CONCAT214(HVar11,in_stack_0000ffc4),
                     (int16)CONCAT214(in_stack_0000ffe2,
                                      CONCAT212(uVar17,CONCAT210(uVar16,CONCAT28(uVar15,CONCAT26(
                                                  HVar14,CONCAT42(uVar13,uVar12)))))),
                     (word)uStack_1c);
        local_16._0_2_ = (int)local_16 + iVar6;
        pHVar7 = pHVar7 + 1;
      } while (pHVar7 < &stack0xffda);
      local_16._0_2_ = -((iVar6 + 0x12 >> 1) - iStack_c);
      HStack_a = (int)((-6 - (int)PTR_DAT_10a8_0000_10a8_5794) * 4 + HStack_e) / 2;
      local_16._2_2_ = 10;
      uStack_8._0_2_ = iVar6 + 0x18;
      if (0x32 < (int)HStack_a) {
        local_16._2_2_ = HStack_a + -0x28;
        HStack_a = 0x32;
      }
      pHVar7 = (HWND16 *)&stack0xffda;
      pHStack_4 = pHVar7;
      do {
        HVar5 = GETDLGITEM(*pHVar7,(int16)CONCAT88(in_stack_0000ffb4,
                                                   CONCAT26(in_stack_0000ffb2,
                                                            CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_4)))));
        in_DX = (int)PTR_DAT_10a8_0000_10a8_5794 * 3 >> 0xf;
        SETWINDOWPOS(4,((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2,
                     (int16)CONCAT214(in_stack_0000ffb2,
                                      CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT19((char)(HVar5 >>
                                                                                           8),
                                                  CONCAT18((char)HVar5,
                                                           (qword)CONCAT15((char)((uint)(int)
                                                  local_16 >> 8),
                                                  CONCAT14((char)(int)local_16,
                                                           CONCAT22(local_16._2_2_,
                                                                    (int)uStack_8 + -6)))))))),
                     (int16)CONCAT214(in_stack_0000ffc2,
                                      CONCAT212(in_stack_0000ffc0,
                                                CONCAT48(in_stack_0000ffbc,in_stack_0000ffb4))),
                     (int16)CONCAT214(HVar11,in_stack_0000ffc4),
                     (int16)CONCAT214(in_stack_0000ffe2,
                                      CONCAT212(uVar17,CONCAT210(uVar16,CONCAT28(uVar15,CONCAT26(
                                                  HVar14,CONCAT42(uVar13,uVar12)))))),
                     (word)uStack_1c);
        flags = (word)uStack_1c;
        local_16._2_2_ = local_16._2_2_ + HStack_a;
        pHVar7 = pHVar7 + 1;
      } while (pHVar7 < &stack0xffe2);
      HVar5 = GETDLGITEM(0x416,(int16)CONCAT88(in_stack_0000ffb4,
                                               CONCAT26(in_stack_0000ffb2,
                                                        CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)
                                                                ))));
      SETWINDOWPOS(4,HStack_e,
                   (int16)CONCAT214(in_stack_0000ffb2,
                                    CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT19((char)(HVar5 >> 8
                                                                                         ),CONCAT18(
                                                  (char)HVar5,
                                                  (qword)CONCAT14(6,CONCAT22(6,(int)local_16 + -0xc)
                                                                 )))))),
                   (int16)CONCAT214(in_stack_0000ffc2,
                                    CONCAT212(in_stack_0000ffc0,
                                              CONCAT48(in_stack_0000ffbc,in_stack_0000ffb4))),
                   (int16)CONCAT214(HVar11,in_stack_0000ffc4),
                   (int16)CONCAT214(in_stack_0000ffe2,
                                    CONCAT212(uVar17,CONCAT210(uVar16,CONCAT28(uVar15,CONCAT26(
                                                  HVar14,CONCAT42(uVar13,uVar12)))))),flags);
      HVar5 = GETDLGITEM(0x416,(int16)CONCAT88(in_stack_0000ffb4,
                                               CONCAT26(in_stack_0000ffb2,
                                                        CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)
                                                                ))));
      GETWINDOWRECT((HWND16)&stack0xffe2,
                    (RECT16 *)CONCAT13((char)(HVar5 >> 8),CONCAT12((char)HVar5,unaff_SS)));
      HVar5 = GETDLGITEM(0x417,(int16)CONCAT88(in_stack_0000ffb4,
                                               CONCAT26(in_stack_0000ffb2,
                                                        CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)
                                                                ))));
      SETWINDOWPOS(4,(int)puStack_18 - flags,
                   (int16)CONCAT214(in_stack_0000ffb2,
                                    CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT19((char)(HVar5 >> 8
                                                                                         ),CONCAT18(
                                                  (char)HVar5,
                                                  (qword)CONCAT15((char)((uint)((int)uStack_8 +
                                                                               (int)local_16) >> 8),
                                                                  CONCAT14((char)((int)uStack_8 +
                                                                                 (int)local_16),
                                                                           CONCAT22(6,(int)local_16
                                                                                      + -0xc))))))))
                   ,(int16)CONCAT214(in_stack_0000ffc2,
                                     CONCAT212(in_stack_0000ffc0,
                                               CONCAT48(in_stack_0000ffbc,in_stack_0000ffb4))),
                   (int16)CONCAT214(HVar11,in_stack_0000ffc4),
                   (int16)CONCAT214(in_stack_0000ffe2,
                                    CONCAT212(uVar17,CONCAT210(uVar16,CONCAT28(uVar15,CONCAT26(
                                                  HVar14,CONCAT42(uVar13,uVar12)))))),flags);
      SCREENTOCLIENT((HWND16)auStack_1a,(POINT16 *)CONCAT13(uVar10,CONCAT12(uVar9,unaff_SS)));
      PTR_DAT_10a8_0000_10a8_7b44 = puStack_18;
      FUN_1068_14fc(param_4);
      FUN_1018_5a04(param_4,(int *)0x418a,1,unaff_SI,
                    (int16)CONCAT412(in_stack_0000ffbc,
                                     CONCAT84(in_stack_0000ffb4,CONCAT22(in_stack_0000ffb2,unaff_DI)
                                             )),in_stack_0000ffc0);
    }
  }
  return (ulong)in_DX << 0x10 | 1;
}



// WARNING: Removing unreachable block (ram,0x10681420)
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1068_0db2(HWND16 param_1,HWND16 param_2,undefined2 param_3,int param_4)

{
  uint *puVar1;
  undefined2 *puVar2;
  char *pcVar3;
  ulong uVar4;
  byte bVar5;
  char cVar6;
  undefined *puVar7;
  HWND16 HVar8;
  int16 *piVar9;
  uint uVar10;
  uint uVar11;
  int iVar12;
  uint uVar13;
  ulong *puVar14;
  ulong *puVar15;
  uint *puVar16;
  ulong *puVar17;
  undefined2 unaff_SI;
  uint uVar18;
  undefined2 unaff_DI;
  int iVar19;
  undefined2 uVar20;
  bool16 unaff_SS;
  bool bVar21;
  LRESULT LVar22;
  undefined2 uVar23;
  int iVar24;
  undefined2 uVar25;
  WPARAM16 in_stack_0000ffdc;
  int in_stack_0000ffde;
  WPARAM16 in_stack_0000ffe0;
  uint *in_stack_0000ffe2;
  undefined2 in_stack_0000ffe4;
  undefined2 in_stack_0000ffe6;
  undefined2 in_stack_0000ffe8;
  word in_stack_0000ffea;
  uint uStack_12;
  undefined4 uStack_10;
  long lStack_c;

  if (param_2 < 0x418) {
    if (param_2 < 0x416) {
      if (param_2 != 0x8b) {
        if (0x8b < param_2) {
          return;
        }
        cVar6 = (char)param_2;
        if (cVar6 == '\0') {
          return;
        }
        if (cVar6 == '\x01' || cVar6 == '\x02') {
          PTR_DAT_10a8_0000_10a8_4186 = (undefined *)0x0;
          FUN_1018_5a04(param_1,(int *)0x418a,0,unaff_SI,
                        (int16)CONCAT214(in_stack_0000ffe8,
                                         CONCAT212(in_stack_0000ffe6,
                                                   CONCAT210(in_stack_0000ffe4,
                                                             CONCAT28(in_stack_0000ffe2,
                                                                      CONCAT26(in_stack_0000ffe0,
                                                                               CONCAT24(
                                                  in_stack_0000ffde,
                                                  CONCAT22(in_stack_0000ffdc,unaff_DI))))))),
                        in_stack_0000ffea);
          if (param_2 != 1) {
            param_2 = 0;
          }
          ENDDIALOG(param_2,(int16)CONCAT214(in_stack_0000ffe4,
                                             CONCAT212(in_stack_0000ffe2,
                                                       CONCAT210(in_stack_0000ffe0,
                                                                 CONCAT28(in_stack_0000ffde,
                                                                          CONCAT26(in_stack_0000ffdc
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_1))))))));
          return;
        }
        if (cVar6 != 'v') {
          return;
        }
        WINHELP(0x84,(LPCSTR)0x10000,
                (uint16)CONCAT214(in_stack_0000ffe0,
                                  CONCAT212(in_stack_0000ffde,
                                            CONCAT210(in_stack_0000ffdc,
                                                      CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(
                                                  param_1,CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be))))))));
        return;
      }
      puVar7 = (undefined *)
               GETDLGITEM(0x417,(int16)CONCAT214(in_stack_0000ffe4,
                                                 CONCAT212(in_stack_0000ffe2,
                                                           CONCAT210(in_stack_0000ffe0,
                                                                     CONCAT28(in_stack_0000ffde,
                                                                              CONCAT26(
                                                  in_stack_0000ffdc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                         );
      HVar8 = GETDLGITEM(0x8b,(int16)CONCAT214(in_stack_0000ffe4,
                                               CONCAT212(in_stack_0000ffe2,
                                                         CONCAT210(in_stack_0000ffe0,
                                                                   CONCAT28(in_stack_0000ffde,
                                                                            CONCAT26(
                                                  in_stack_0000ffdc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                        );
      LVar22 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffde,
                                               CONCAT212(in_stack_0000ffdc,
                                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar8,0x40000000000))))),
                           in_stack_0000ffe0,CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2));
      DAT_10a8_7bf6 = DAT_10a8_7bf6 ^ ((int)LVar22 << 7 ^ DAT_10a8_7bf6) & 0x80;
      LVar22 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffde,
                                               CONCAT212(in_stack_0000ffdc,
                                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(puVar7,0x40900000000))))),
                           in_stack_0000ffe0,CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2));
      uVar25 = (undefined2)LVar22;
      FUN_1020_3370(puVar7,_PTR_DAT_10a8_0000_10a8_4182);
LAB_1068_0ebd:
      SENDMESSAGE(0,(uint16)(ZEXT1416(CONCAT212(in_stack_0000ffde,
                                                CONCAT210(in_stack_0000ffdc,
                                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(puVar7,CONCAT22(0x407,uVar25))))))) <<
                            0x10),in_stack_0000ffe0,CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2));
      goto LAB_1068_14ac;
    }
    if (param_4 == 1) goto LAB_1068_14ac;
    if (param_4 != 2) {
      return;
    }
    if (param_2 == 0x416) goto LAB_1068_0ee0;
LAB_1068_12dc:
    HVar8 = GETDLGITEM(0x417,(int16)CONCAT214(in_stack_0000ffe4,
                                              CONCAT212(in_stack_0000ffe2,
                                                        CONCAT210(in_stack_0000ffe0,
                                                                  CONCAT28(in_stack_0000ffde,
                                                                           CONCAT26(
                                                  in_stack_0000ffdc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                      );
    LVar22 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffde,
                                             CONCAT212(in_stack_0000ffdc,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (HVar8,0x40900000000))))),in_stack_0000ffe0,
                         CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2));
    if (LVar22 < 0) {
      return;
    }
    if (((int)((ulong)LVar22 >> 0x10) == 0 || LVar22 < 0) && ((int)LVar22 == 0)) {
      return;
    }
    uVar25 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
    uVar18 = (uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_4182 + 3);
    lStack_c = LVar22 + -1;
    in_stack_0000ffdc = (int)lStack_c * 4;
    uVar4 = *(ulong *)((int)_PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffdc + 4);
    iVar19 = 0;
    puVar17 = (ulong *)PTR_DAT_10a8_0000_10a8_885c;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_8fe0) {
      do {
        uStack_10._2_2_ = (uint)(uVar4 >> 0x10);
        if ((((uStack_10._2_2_ ^ *(uint *)((int)puVar17 + 2)) & 0xe) == 0) &&
           (((uVar4 ^ *puVar17) & 0x1fc00) == 0)) break;
        iVar19 = iVar19 + 1;
        puVar17 = puVar17 + 1;
      } while (iVar19 < (int)PTR_DAT_10a8_0000_10a8_8fe0);
    }
    iVar19 = iVar19 * 4;
    uVar10 = *(uint *)(PTR_DAT_10a8_0000_10a8_885c + iVar19);
    uVar10 = uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 3) << 8;
    uVar25 = 0x11;
    iVar24 = (int)s__with_some_work_done_10a8_1343 + 5;
    piVar9 = GETASYNCKEYSTATE((int16 *)((int)&PTR_DAT_10a8_0000_10a8_0010 + 1),
                              (int16)CONCAT214(in_stack_0000ffe6,
                                               CONCAT212(in_stack_0000ffe4,
                                                         CONCAT210(in_stack_0000ffe2,
                                                                   CONCAT28(iVar19,CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(in_stack_0000ffdc,
                                                           CONCAT22(unaff_DI,unaff_SI))))))));
    if (((uint)piVar9 & 0xfffe) == 0) {
      iVar24 = 0x10;
      piVar9 = GETASYNCKEYSTATE((int16 *)&PTR_DAT_10a8_0000_10a8_0010,
                                (int16)CONCAT214(in_stack_0000ffe4,
                                                 CONCAT212(in_stack_0000ffe2,
                                                           CONCAT210(iVar19,CONCAT28(
                                                  in_stack_0000ffde,
                                                  CONCAT26(in_stack_0000ffdc,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  uVar25))))))));
      uVar11 = (-(uint)(((uint)piVar9 & 0xfffe) == 0) & 0xfff7) + 10;
    }
    else {
      uVar11 = 100;
    }
    uStack_10._0_2_ = (uint)uVar4;
    uVar13 = (uint)uStack_10 & 0xff | ((byte)(uVar4 >> 8) & 3) << 8;
    if ((int)uVar11 < (int)uVar13) {
      uVar13 = uVar11;
    }
    puVar16 = (uint *)(PTR_DAT_10a8_0000_10a8_885c + iVar19);
    uVar11 = *puVar16;
    if ((uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 3) << 8) != 0x3ff) {
      uVar11 = *puVar16 + uVar13 ^ *puVar16;
      puVar1 = puVar16;
      *puVar1 = *puVar1 ^ (uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 3) << 8);
      puVar1 = puVar16 + 1;
      *puVar1 = *puVar1;
    }
    uVar20 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
    iVar12 = (int)_PTR_DAT_10a8_0000_10a8_4182;
    uVar11 = *(int *)(iVar12 + in_stack_0000ffdc + 4) - uVar13 ^
             *(uint *)(iVar12 + in_stack_0000ffdc + 4);
    puVar1 = (uint *)(iVar12 + in_stack_0000ffdc + 4);
    *puVar1 = *puVar1 ^ (uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 3) << 8);
    puVar2 = (undefined2 *)(iVar12 + in_stack_0000ffdc + 6);
    *puVar2 = *puVar2;
    if ((*(uint *)(PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffdc + 4) & 0x3ff) == 0) {
      if (LVar22 < (int)uVar18) {
        FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_4182 & 0xffff0000 |
                      ZEXT24(PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffdc + 4),
                      _PTR_DAT_10a8_0000_10a8_4182 & 0xffff0000 |
                      ZEXT24(PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffdc + 8),
                      ((uVar18 - (int)lStack_c) + -1) * 4);
      }
      else {
        lStack_c = LVar22 + -2;
      }
      pcVar3 = (char *)((int)_PTR_DAT_10a8_0000_10a8_4182 + 3);
      *pcVar3 = *pcVar3 + -1;
    }
    uVar20 = (undefined2)_PTR_DAT_10a8_0000_10a8_4182;
    uVar23 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
    puVar7 = (undefined *)
             GETDLGITEM(0x417,(int16)CONCAT214(in_stack_0000ffdc,
                                               CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(uVar25
                                                  ,CONCAT26(iVar24,CONCAT24(uVar23,CONCAT22(uVar20,
                                                  param_1))))))));
    FUN_1020_3370(puVar7,CONCAT22(uVar23,uVar20));
    if (-1 < lStack_c) {
      HVar8 = GETDLGITEM(0x417,(int16)CONCAT214(iVar19,CONCAT212(in_stack_0000ffde,
                                                                 CONCAT210(in_stack_0000ffdc,
                                                                           CONCAT28(unaff_DI,
                                                  CONCAT26(unaff_SI,CONCAT24(uVar25,CONCAT22(iVar24,
                                                  param_1))))))));
      SENDMESSAGE(0,(uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(uVar25,CONCAT28(iVar24,
                                                  CONCAT26(HVar8,CONCAT24(0x407,(ulong)((int)
                                                  lStack_c + 1) << 0x10)))))),in_stack_0000ffdc,
                  CONCAT22(iVar19,in_stack_0000ffde));
    }
  }
  else {
    if (param_2 == 0x419) goto LAB_1068_12dc;
    if (0x419 < param_2) {
      if (param_2 != 0x42d) {
        if (param_2 == 0x42d) {
          return;
        }
        if (param_2 - 0x42e < 2) {
          FUN_1068_07fa(1);
          if (param_2 == 0x42f) {
            iVar19 = 1;
          }
          else {
            iVar19 = -1;
          }
          FUN_1020_24c8(iVar19,(undefined *)0x0);
          FUN_1068_0100((undefined4 *)0x0);
          FUN_1068_14fc(param_1);
          GETCLIENTRECT((HWND16)&stack0xffe4,(RECT16 *)CONCAT22(param_1,unaff_SS));
          INVALIDATERECT(1,(RECT16 *)&stack0xffe4,unaff_SS);
          return;
        }
        return;
      }
      iVar19 = 0;
      puVar7 = PTR_DAT_10a8_0000_10a8_4184;
      puVar17 = (ulong *)PTR_DAT_10a8_0000_10a8_4182;
      if (PTR_DAT_10a8_0000_10a8_4182[3] != '\0') {
        do {
          puVar14 = puVar17 + 1;
          iVar24 = 0;
          puVar15 = (ulong *)PTR_DAT_10a8_0000_10a8_885c;
          if (0 < (int)PTR_DAT_10a8_0000_10a8_8fe0) {
            do {
              if ((((*(uint *)((int)puVar17 + 6) ^ *(uint *)((int)puVar15 + 2)) & 0xe) == 0) &&
                 (((*puVar14 ^ *puVar15) & 0x1fc00) == 0)) break;
              iVar24 = iVar24 + 1;
              puVar15 = puVar15 + 1;
            } while (iVar24 < (int)PTR_DAT_10a8_0000_10a8_8fe0);
          }
          in_stack_0000ffe0 = iVar24 * 4;
          in_stack_0000ffe2 = (uint *)(PTR_DAT_10a8_0000_10a8_885c + in_stack_0000ffe0);
          uVar10 = *in_stack_0000ffe2;
          if ((uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 3) << 8) != 0x3ff) {
            uVar10 = *in_stack_0000ffe2 + *(int *)puVar14 ^ *in_stack_0000ffe2;
            puVar1 = in_stack_0000ffe2;
            *puVar1 = *puVar1 ^ (uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 3) << 8);
            puVar1 = in_stack_0000ffe2 + 1;
            *puVar1 = *puVar1;
          }
          puVar7 = (undefined *)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
          iVar19 = iVar19 + 1;
          puVar17 = puVar14;
        } while (iVar19 < (int)(uint)(byte)PTR_DAT_10a8_0000_10a8_4182[3]);
      }
      PTR_DAT_10a8_0000_10a8_4182[3] = 0;
      uVar25 = (undefined2)_PTR_DAT_10a8_0000_10a8_4182;
      uVar20 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
      puVar7 = (undefined *)
               GETDLGITEM(0x417,(int16)CONCAT214(in_stack_0000ffe0,
                                                 CONCAT212(in_stack_0000ffde,
                                                           CONCAT210(in_stack_0000ffdc,
                                                                     CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(uVar20,CONCAT22(uVar25,param_1))
                                                  ))))));
      FUN_1020_3370(puVar7,CONCAT22(uVar20,uVar25));
      HVar8 = GETDLGITEM(0x417,(int16)CONCAT214(in_stack_0000ffe4,
                                                CONCAT212(in_stack_0000ffe2,
                                                          CONCAT210(in_stack_0000ffe0,
                                                                    CONCAT28(in_stack_0000ffde,
                                                                             CONCAT26(
                                                  in_stack_0000ffdc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                        );
      SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(HVar8,
                                                  0x40700000000))))),in_stack_0000ffe0,
                  CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2));
      HVar8 = GETDLGITEM(0x416,(int16)CONCAT214(in_stack_0000ffe2,
                                                CONCAT212(in_stack_0000ffe0,
                                                          CONCAT210(in_stack_0000ffde,
                                                                    CONCAT28(in_stack_0000ffdc,
                                                                             CONCAT26(unaff_DI,
                                                  CONCAT24(unaff_SI,CONCAT22(0xffff,param_1))))))));
      FUN_1068_19a2(HVar8);
      puVar7 = (undefined *)
               GETDLGITEM(0x416,(int16)CONCAT214(in_stack_0000ffe4,
                                                 CONCAT212(in_stack_0000ffe2,
                                                           CONCAT210(in_stack_0000ffe0,
                                                                     CONCAT28(in_stack_0000ffde,
                                                                              CONCAT26(
                                                  in_stack_0000ffdc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                         );
      uVar25 = 0;
      goto LAB_1068_0ebd;
    }
    if (param_2 != 0x418) {
      return;
    }
LAB_1068_0ee0:
    HVar8 = GETDLGITEM(0x416,(int16)CONCAT214(in_stack_0000ffe4,
                                              CONCAT212(in_stack_0000ffe2,
                                                        CONCAT210(in_stack_0000ffe0,
                                                                  CONCAT28(in_stack_0000ffde,
                                                                           CONCAT26(
                                                  in_stack_0000ffdc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                      );
    lStack_c = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffde,
                                               CONCAT212(in_stack_0000ffdc,
                                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar8,0x40900000000))))),
                           in_stack_0000ffe0,CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2));
    if (lStack_c < 0) {
      return;
    }
    iVar19 = 0;
    puVar16 = (uint *)PTR_DAT_10a8_0000_10a8_885c;
    if (0 < (int)PTR_DAT_10a8_0000_10a8_8fe0) {
      do {
        if (((*puVar16 & 0x3ff) != 0) && (bVar21 = lStack_c == 0, lStack_c = lStack_c + -1, bVar21))
        break;
        iVar19 = iVar19 + 1;
        puVar16 = puVar16 + 2;
      } while (iVar19 < (int)PTR_DAT_10a8_0000_10a8_8fe0);
    }
    iVar19 = iVar19 * 4;
    uVar4 = *(ulong *)(PTR_DAT_10a8_0000_10a8_885c + iVar19);
    uVar25 = 0x11;
    iVar24 = (int)s__with_some_work_done_10a8_1343 + 5;
    piVar9 = GETASYNCKEYSTATE((int16 *)((int)&PTR_DAT_10a8_0000_10a8_0010 + 1),
                              (int16)CONCAT214(in_stack_0000ffe6,
                                               CONCAT212(in_stack_0000ffe4,
                                                         CONCAT210(in_stack_0000ffe2,
                                                                   CONCAT28(iVar19,CONCAT26(
                                                  in_stack_0000ffde,
                                                  CONCAT24(in_stack_0000ffdc,
                                                           CONCAT22(unaff_DI,unaff_SI))))))));
    uStack_10._0_2_ = (uint)uVar4;
    bVar5 = (byte)(uVar4 >> 8);
    if (((uint)piVar9 & 0xfffe) == 0) {
      iVar24 = 0x10;
      piVar9 = GETASYNCKEYSTATE((int16 *)&PTR_DAT_10a8_0000_10a8_0010,
                                (int16)CONCAT214(in_stack_0000ffe4,
                                                 CONCAT212(in_stack_0000ffe2,
                                                           CONCAT210(iVar19,CONCAT28(
                                                  in_stack_0000ffde,
                                                  CONCAT26(in_stack_0000ffdc,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  uVar25))))))));
      if (((uint)piVar9 & 0xfffe) != 0) {
        uVar10 = (uint)uStack_10 & 0xff | (bVar5 & 3) << 8;
        uVar10 = (uVar10 - 10 & -(uint)(uVar10 < 10)) + 10;
        goto LAB_1068_10f0;
      }
      uStack_10 = uVar4 & 0xffff0000 | CONCAT31((uint3)(bVar5 & 0xfc),1);
    }
    else {
      uVar10 = (uint)uStack_10 & 0xff | (bVar5 & 3) << 8;
      uVar10 = (uVar10 - 100 & -(uint)(uVar10 < 100)) + 100;
LAB_1068_10f0:
      uStack_10 = uVar4 & 0xffff0000 |
                  (ulong)((uint)uStack_10 ^
                         ((uVar10 ^ (uint)uStack_10) & 0xff |
                         ((byte)((ulong)(uVar10 ^ (uint)uStack_10) >> 8) & 3) << 8));
    }
    puVar16 = (uint *)(PTR_DAT_10a8_0000_10a8_885c + iVar19);
    uVar10 = *puVar16;
    if ((uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 3) << 8) != 0x3ff) {
      uVar10 = *puVar16 - (uint)uStack_10 ^ *puVar16;
      puVar1 = puVar16;
      *puVar1 = *puVar1 ^ (uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 3) << 8);
      puVar1 = puVar16 + 1;
      *puVar1 = *puVar1;
    }
    uVar10 = (uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_4182 + 3);
    HVar8 = GETDLGITEM(0x417,(int16)CONCAT214(iVar19,CONCAT212(in_stack_0000ffde,
                                                               CONCAT210(in_stack_0000ffdc,
                                                                         CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(uVar25,CONCAT22(iVar24,param_1))
                                                  ))))));
    LVar22 = SENDMESSAGE(0,(uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(uVar25,CONCAT28(
                                                  iVar24,CONCAT26(HVar8,0x40900000000))))),
                         in_stack_0000ffdc,CONCAT22(iVar19,in_stack_0000ffde));
    uVar20 = (undefined2)((ulong)LVar22 >> 0x10);
    if (LVar22 < 0) {
      uVar18 = uVar10 - 1;
      if ((int)uVar18 < 0) {
        uVar18 = 0;
      }
    }
    else {
      uVar18 = (int)LVar22 - 1;
    }
    uVar23 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
    if ((int)uVar18 < (int)uVar10) {
      if ((int)uVar18 < 0) {
LAB_1068_11ad:
        uVar18 = uVar18 + 1;
        if ((int)uVar18 < (int)uVar10) {
          in_stack_0000ffde = uVar18 * 4;
          uVar4 = *(ulong *)(PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffde + 4);
          if ((((uVar4 ^ uStack_10) & 0x1fc00) == 0) &&
             (uStack_12 = (uint)(uVar4 >> 0x10), ((uStack_12 ^ uStack_10._2_2_) & 0xe) == 0))
          goto LAB_1068_11e6;
        }
        goto LAB_1068_1220;
      }
      in_stack_0000ffde = uVar18 * 4;
      uVar4 = *(ulong *)(PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffde + 4);
      if ((((uVar4 ^ uStack_10) & 0x1fc00) != 0) ||
         (uStack_12 = (uint)(uVar4 >> 0x10), ((uStack_12 ^ uStack_10._2_2_) & 0xe) != 0))
      goto LAB_1068_11ad;
LAB_1068_11e6:
      uVar10 = *(uint *)(PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffde + 4);
      uVar10 = uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 3) << 8;
      uVar11 = uVar10 + ((uint)uStack_10 & 0x3ff);
      if ((CARRY2(uVar10,(uint)uStack_10 & 0x3ff) != false) || (0x3fc < uVar11)) {
        uVar11 = 0x3fc;
      }
      uVar11 = uVar11 ^ *(uint *)(PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffde + 4);
      puVar1 = (uint *)(PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffde + 4);
      *puVar1 = *puVar1 ^ (uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 3) << 8);
      puVar2 = (undefined2 *)(PTR_DAT_10a8_0000_10a8_4182 + in_stack_0000ffde + 6);
      *puVar2 = *puVar2;
    }
    else {
LAB_1068_1220:
      uVar11 = (uint)(byte)PTR_DAT_10a8_0000_10a8_4182[2];
      if (uVar11 == uVar10) {
        iVar12 = FUN_1038_0522((uint *)PTR_DAT_10a8_0000_10a8_4182,uVar23,uVar11 + 4);
        _PTR_DAT_10a8_0000_10a8_4182 = CONCAT22(uVar20,iVar12);
      }
      if (uVar10 != uVar18) {
        FUN_10a0_0ac6(_PTR_DAT_10a8_0000_10a8_4182 & 0xffff0000 |
                      ZEXT24(PTR_DAT_10a8_0000_10a8_4182 + uVar18 * 4 + 8),
                      _PTR_DAT_10a8_0000_10a8_4182 & 0xffff0000 |
                      ZEXT24(PTR_DAT_10a8_0000_10a8_4182 + uVar18 * 4 + 4),(uVar10 - uVar18) * 4);
      }
      *(uint *)(PTR_DAT_10a8_0000_10a8_4182 + uVar18 * 4 + 4) = (uint)uStack_10;
      *(uint *)(PTR_DAT_10a8_0000_10a8_4182 + uVar18 * 4 + 6) = uStack_10._2_2_;
      pcVar3 = (char *)((int)_PTR_DAT_10a8_0000_10a8_4182 + 3);
      *pcVar3 = *pcVar3 + '\x01';
    }
    uVar20 = (undefined2)_PTR_DAT_10a8_0000_10a8_4182;
    uVar23 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
    puVar7 = (undefined *)
             GETDLGITEM(0x417,(int16)CONCAT214(in_stack_0000ffdc,
                                               CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(uVar25
                                                  ,CONCAT26(iVar24,CONCAT24(uVar23,CONCAT22(uVar20,
                                                  param_1))))))));
    FUN_1020_3370(puVar7,CONCAT22(uVar23,uVar20));
    HVar8 = GETDLGITEM(0x417,(int16)CONCAT214(iVar19,CONCAT212(in_stack_0000ffde,
                                                               CONCAT210(in_stack_0000ffdc,
                                                                         CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(uVar25,CONCAT22(iVar24,param_1))
                                                  ))))));
    SENDMESSAGE(0,(uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(uVar25,CONCAT28(iVar24,
                                                  CONCAT26(HVar8,CONCAT24(0x407,(ulong)(uVar18 + 1)
                                                                                << 0x10)))))),
                in_stack_0000ffdc,CONCAT22(iVar19,in_stack_0000ffde));
    uVar10 = *(uint *)(PTR_DAT_10a8_0000_10a8_885c + iVar19) & 0x3ff;
  }
  if (uVar10 == 0) {
    HVar8 = GETDLGITEM(0x416,(int16)CONCAT214(in_stack_0000ffde,
                                              CONCAT212(in_stack_0000ffdc,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(uVar25,CONCAT24(iVar24,CONCAT22(0xffff,
                                                  param_1))))))));
    FUN_1068_19a2(HVar8);
  }
LAB_1068_14ac:
  GETCLIENTRECT((HWND16)&stack0xffe4,(RECT16 *)CONCAT22(param_1,unaff_SS));
  INVALIDATERECT(1,(RECT16 *)&stack0xffe4,unaff_SS);
  FUN_1068_15b2(param_1,(int16 *)0x0);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1068_14fc(undefined2 param_1)

{
  undefined2 uVar1;
  HWND16 HVar2;
  undefined *puVar3;
  undefined2 unaff_SI;
  undefined2 unaff_SS;
  LRESULT LVar4;
  undefined2 uVar5;
  undefined2 uVar6;
  undefined *hwnd;
  WPARAM16 in_stack_0000ffa8;
  undefined2 in_stack_0000ffaa;
  undefined2 in_stack_0000ffac;

  uVar1 = FUN_1010_1074((uint)PTR_DAT_10a8_0000_10a8_7bd6);
  _WSPRINTF((int16 *)&stack0xffa8,(LPSTR)CONCAT22(0x418e,unaff_SS),(LPCSTR)CONCAT22(uVar1,0x10a8),
            (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
  hwnd = &stack0xffa8;
  uVar1 = param_1;
  SETWINDOWTEXT((HWND16)hwnd,CONCAT22(param_1,unaff_SS));
  HVar2 = GETDLGITEM(0x416,(int16)CONCAT214(in_stack_0000ffaa,
                                            CONCAT212(in_stack_0000ffa8,
                                                      CONCAT210(unaff_SI,CONCAT28(uVar1,CONCAT26(
                                                  unaff_SS,CONCAT24(hwnd,CONCAT22(0xffff,param_1))))
                                                  ))));
  FUN_1068_19a2(HVar2);
  HVar2 = GETDLGITEM(0x416,(int16)CONCAT214(in_stack_0000ffac,
                                            CONCAT212(in_stack_0000ffaa,
                                                      CONCAT210(in_stack_0000ffa8,
                                                                CONCAT28(unaff_SI,CONCAT26(uVar1,
                                                  CONCAT24(unaff_SS,CONCAT22(hwnd,param_1))))))));
  SENDMESSAGE(0,(uint16)CONCAT214(unaff_SI,CONCAT212(uVar1,CONCAT210(unaff_SS,CONCAT28(hwnd,CONCAT26
                                                  (HVar2,0x40700000000))))),in_stack_0000ffa8,
              CONCAT22(in_stack_0000ffac,in_stack_0000ffaa));
  uVar5 = (undefined2)_PTR_DAT_10a8_0000_10a8_4182;
  uVar6 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
  puVar3 = (undefined *)
           GETDLGITEM(0x417,(int16)CONCAT214(in_stack_0000ffa8,
                                             CONCAT212(unaff_SI,CONCAT210(uVar1,CONCAT28(unaff_SS,
                                                  CONCAT26(hwnd,CONCAT24(uVar6,CONCAT22(uVar5,
                                                  param_1))))))));
  FUN_1020_3370(puVar3,CONCAT22(uVar6,uVar5));
  HVar2 = GETDLGITEM(0x417,(int16)CONCAT214(in_stack_0000ffac,
                                            CONCAT212(in_stack_0000ffaa,
                                                      CONCAT210(in_stack_0000ffa8,
                                                                CONCAT28(unaff_SI,CONCAT26(uVar1,
                                                  CONCAT24(unaff_SS,CONCAT22(hwnd,param_1))))))));
  SENDMESSAGE(0,(uint16)CONCAT214(unaff_SI,CONCAT212(uVar1,CONCAT210(unaff_SS,CONCAT28(hwnd,CONCAT26
                                                  (HVar2,CONCAT24(0x407,(ulong)*(byte *)((int)
                                                  _PTR_DAT_10a8_0000_10a8_4182 + 3) << 0x10)))))),
              in_stack_0000ffa8,CONCAT22(in_stack_0000ffac,in_stack_0000ffaa));
  HVar2 = GETDLGITEM(0x8b,(int16)CONCAT214(in_stack_0000ffac,
                                           CONCAT212(in_stack_0000ffaa,
                                                     CONCAT210(in_stack_0000ffa8,
                                                               CONCAT28(unaff_SI,CONCAT26(uVar1,
                                                  CONCAT24(unaff_SS,CONCAT22(hwnd,param_1))))))));
  LVar4 = SENDMESSAGE(0,(uint16)CONCAT214(unaff_SI,CONCAT212(uVar1,CONCAT210(unaff_SS,CONCAT28(hwnd,
                                                  CONCAT26(HVar2,CONCAT24(0x401,((ulong)(
                                                  DAT_10a8_7bf6 >> 7) & 1) << 0x10)))))),
                      in_stack_0000ffa8,CONCAT22(in_stack_0000ffac,in_stack_0000ffaa));
  return (int)LVar4;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1068_15b2(HWND16 param_1,int16 *param_2)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  undefined4 uVar4;
  long lVar5;
  HWND16 hwndDlg;
  HWND16 HVar6;
  undefined2 uVar7;
  int16 *hdc;
  HDC16 HVar8;
  uint uVar9;
  uint uVar10;
  VA_LIST16 unaff_SI;
  uint *puVar11;
  HRGN16 unaff_DI;
  int iVar12;
  char *pcVar13;
  undefined2 *puVar14;
  undefined2 *puVar15;
  undefined2 uVar16;
  undefined2 unaff_SS;
  bool bVar17;
  dword dVar18;
  int16 *__return_storage_ptr__;
  int iVar19;
  int16 *piVar20;
  int in_stack_0000ff66;
  undefined2 in_stack_0000ff68;
  WPARAM16 in_stack_0000ff6a;
  undefined2 in_stack_0000ff6c;
  undefined2 in_stack_0000ff6e;
  undefined2 in_stack_0000ff70;
  undefined2 in_stack_0000ff72;
  undefined2 in_stack_0000ff74;
  undefined2 in_stack_0000ff76;
  LPCSTR in_stack_0000ff78;
  undefined in_stack_0000ff7c [16];
  long local_32 [4];
  undefined4 local_22;
  undefined4 local_1e;
  HDC16 HStack_1a;
  undefined4 local_18;
  int16 *piStack_14;
  int iStack_12;
  int iStack_10;
  int iStack_e;
  long lStack_c;
  int16 *piStack_8;
  long *plStack_6;
  undefined *puStack_4;

  iStack_12 = 0;
  if (param_2 == (int16 *)0x0) {
    iStack_12 = 1;
    param_2 = (int16 *)GETDC(param_1);
  }
  HStack_1a = CREATECOMPATIBLEDC((HDC16)param_2);
  piStack_14 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_575a,HStack_1a,(HRGN16)unaff_SI,unaff_DI
                            ,(int16)CONCAT214(in_stack_0000ff74,
                                              CONCAT212(in_stack_0000ff72,
                                                        CONCAT210(in_stack_0000ff70,
                                                                  CONCAT28(in_stack_0000ff6e,
                                                                           CONCAT26(
                                                  in_stack_0000ff6c,
                                                  CONCAT24(in_stack_0000ff6a,
                                                           CONCAT22(in_stack_0000ff68,
                                                                    in_stack_0000ff66))))))));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff74,
                                CONCAT212(in_stack_0000ff72,
                                          CONCAT210(in_stack_0000ff70,
                                                    CONCAT28(in_stack_0000ff6e,
                                                             CONCAT26(in_stack_0000ff6c,
                                                                      CONCAT24(in_stack_0000ff6a,
                                                                               CONCAT22(
                                                  in_stack_0000ff68,in_stack_0000ff66))))))));
  dVar18 = GETTEXTEXTENT(2,(LPCSTR)0x10a841a6,
                         (int16)CONCAT214(in_stack_0000ff6e,
                                          CONCAT212(in_stack_0000ff6c,
                                                    CONCAT210(in_stack_0000ff6a,
                                                              CONCAT28(in_stack_0000ff68,
                                                                       CONCAT26(in_stack_0000ff66,
                                                                                CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_2))))))));
  iStack_e = (int)dVar18;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000ff74,
                                CONCAT212(in_stack_0000ff72,
                                          CONCAT210(in_stack_0000ff70,
                                                    CONCAT28(in_stack_0000ff6e,
                                                             CONCAT26(in_stack_0000ff6c,
                                                                      CONCAT24(in_stack_0000ff6a,
                                                                               CONCAT22(
                                                  in_stack_0000ff68,in_stack_0000ff66))))))));
  SETBKCOLOR((HDC16)_DAT_10a8_5714,(COLORREF)CONCAT22(param_2,(int)((ulong)_DAT_10a8_5714 >> 0x10)))
  ;
  iStack_10 = 0;
  do {
    iVar12 = iStack_10;
    hwndDlg = 0x417 - (iStack_10 == 0);
    HVar6 = GETDLGITEM(hwndDlg,(int16)CONCAT214(in_stack_0000ff6e,
                                                CONCAT212(in_stack_0000ff6c,
                                                          CONCAT210(in_stack_0000ff6a,
                                                                    CONCAT28(hwndDlg,CONCAT26(
                                                  in_stack_0000ff66,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                      );
    GETWINDOWRECT((HWND16)&local_22,(RECT16 *)CONCAT22(HVar6,unaff_SS));
    SCREENTOCLIENT((HWND16)&local_22,(POINT16 *)CONCAT22(param_1,unaff_SS));
    SCREENTOCLIENT((HWND16)&local_1e,(POINT16 *)CONCAT22(param_1,unaff_SS));
    HVar6 = GETDLGITEM(hwndDlg,(int16)CONCAT214(in_stack_0000ff6e,
                                                CONCAT212(in_stack_0000ff6c,
                                                          CONCAT210(in_stack_0000ff6a,
                                                                    CONCAT28(hwndDlg,CONCAT26(
                                                  in_stack_0000ff66,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                      );
    lStack_c = SENDMESSAGE(0,(uint16)CONCAT214(hwndDlg,CONCAT212(in_stack_0000ff66,
                                                                 CONCAT210(unaff_DI,CONCAT28(
                                                  unaff_SI,CONCAT26(HVar6,0x40900000000))))),
                           in_stack_0000ff6a,CONCAT22(in_stack_0000ff6e,in_stack_0000ff6c));
    if ((-1 < lStack_c) &&
       ((((uint)((ulong)lStack_c >> 0x10) | (uint)lStack_c) != 0 || (iVar12 != 1)))) {
      if (iVar12 == 0) {
        if ((int)PTR_DAT_10a8_0000_10a8_8fe0 < 1) {
          iVar12 = 0;
        }
        else {
          puStack_4 = PTR_DAT_10a8_0000_10a8_885c;
          iVar12 = 0;
          puVar11 = (uint *)PTR_DAT_10a8_0000_10a8_885c;
          do {
            if (((*puVar11 & 0x3ff) != 0) &&
               (lVar5 = lStack_c + -1, bVar17 = lStack_c == 0, lStack_c = lVar5, bVar17)) break;
            puVar11 = puVar11 + 2;
            iVar12 = iVar12 + 1;
          } while (iVar12 < (int)PTR_DAT_10a8_0000_10a8_8fe0);
        }
        plStack_6 = (long *)0x0;
        uVar16 = *(undefined2 *)(PTR_DAT_10a8_0000_10a8_885c + iVar12 * 4 + 2);
        uVar7 = (undefined2)
                CONCAT31((uint3)((byte)((ulong)*(undefined4 *)
                                                (PTR_DAT_10a8_0000_10a8_885c + iVar12 * 4) >> 8) &
                                0xfc),1);
      }
      else {
        lStack_c = lStack_c + -1;
        uVar16 = (undefined2)(_PTR_DAT_10a8_0000_10a8_4182 >> 0x10);
        uVar7 = *(undefined2 *)((int)_PTR_DAT_10a8_0000_10a8_4182 + (int)lStack_c * 4 + 4);
        uVar16 = *(undefined2 *)((int)_PTR_DAT_10a8_0000_10a8_4182 + (int)lStack_c * 4 + 6);
      }
      local_18 = CONCAT22(uVar16,uVar7);
      FUN_1068_1a7c((uint *)CONCAT22(unaff_SS,&local_18),local_32,(int)PTR_DAT_10a8_0001_10a8_00c0,0
                   );
      local_1e = local_1e & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_7b44 + 4) << 0x10;
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff74,
                                    CONCAT212(in_stack_0000ff72,
                                              CONCAT210(in_stack_0000ff70,
                                                        CONCAT28(in_stack_0000ff6e,
                                                                 CONCAT26(in_stack_0000ff6c,
                                                                          CONCAT24(in_stack_0000ff6a
                                                                                   ,CONCAT22(hwndDlg
                                                  ,in_stack_0000ff66))))))));
      TEXTOUT(0x12,(int16)CONCAT214(in_stack_0000ff66,
                                    CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26(
                                                  (undefined *)local_22,
                                                  CONCAT24(local_1e._2_2_,0x10a841a9)))))),
              (int16)CONCAT214(in_stack_0000ff76,
                               CONCAT212(in_stack_0000ff74,
                                         CONCAT210(in_stack_0000ff72,
                                                   CONCAT28(in_stack_0000ff70,
                                                            CONCAT26(in_stack_0000ff6e,
                                                                     CONCAT24(in_stack_0000ff6c,
                                                                              CONCAT22(
                                                  in_stack_0000ff6a,hwndDlg))))))),in_stack_0000ff78
              ,(int16)in_stack_0000ff7c);
      local_22 = local_22 & 0xffff0000 | (ulong)((int)(undefined *)local_22 + 0x14);
      local_1e = local_1e & 0xffff0000 | (ulong)((int)local_1e - 0x14);
      puStack_4 = (undefined *)&DAT_10a8_0001;
      plStack_6 = local_32;
      iVar12 = 1;
      do {
        local_1e = local_1e & 0xffff | ZEXT24(PTR_DAT_10a8_0000_10a8_5794 + local_1e._2_2_) << 0x10;
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT214(in_stack_0000ff74,
                                      CONCAT212(in_stack_0000ff72,
                                                CONCAT210(in_stack_0000ff70,
                                                          CONCAT28(in_stack_0000ff6e,
                                                                   CONCAT26(in_stack_0000ff6c,
                                                                            CONCAT24(
                                                  in_stack_0000ff6a,
                                                  CONCAT22(hwndDlg,in_stack_0000ff66))))))));
        in_stack_0000ff66 = (uint)(iVar12 == 4) + iVar12;
        uVar4 = *(undefined4 *)(in_stack_0000ff66 * 4 + 0x5be);
        SETTEXTCOLOR((HDC16)uVar4,(COLORREF)CONCAT22(param_2,(int)((ulong)uVar4 >> 0x10)));
        __return_storage_ptr__ = *(int16 **)(in_stack_0000ff66 * 2 + 0x60a);
        iVar19 = (int)s_From___s_c_c_10a8_10a2 + 6;
        piVar20 = param_2;
        hdc = LSTRLEN(__return_storage_ptr__,(LPCSTR)CONCAT22(__return_storage_ptr__,0x10a8));
        TEXTOUT((HDC16)hdc,
                (int16)CONCAT214(in_stack_0000ff66,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar20,CONCAT26((
                                                  undefined *)local_22,
                                                  CONCAT24(local_1e._2_2_,
                                                           CONCAT22(iVar19,__return_storage_ptr__)))
                                                  )))),
                (int16)CONCAT214(in_stack_0000ff76,
                                 CONCAT212(in_stack_0000ff74,
                                           CONCAT210(in_stack_0000ff72,
                                                     CONCAT28(in_stack_0000ff70,
                                                              CONCAT26(in_stack_0000ff6e,
                                                                       CONCAT24(in_stack_0000ff6c,
                                                                                CONCAT22(
                                                  in_stack_0000ff6a,hwndDlg))))))),in_stack_0000ff78
                ,(int16)in_stack_0000ff7c);
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT214(in_stack_0000ff74,
                                      CONCAT212(in_stack_0000ff72,
                                                CONCAT210(in_stack_0000ff70,
                                                          CONCAT28(in_stack_0000ff6e,
                                                                   CONCAT26(in_stack_0000ff6c,
                                                                            CONCAT24(
                                                  in_stack_0000ff6a,
                                                  CONCAT22(hwndDlg,in_stack_0000ff66))))))));
        SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_7ac8,
                     (COLORREF)CONCAT22(param_2,(int)((ulong)_PTR_DAT_10a8_0000_10a8_7ac8 >> 0x10)))
        ;
        lVar5 = *plStack_6;
        piStack_8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x41bc10a8,
                              (LPCSTR)CONCAT22((int)lVar5,0x10a8),(VA_LIST16)((ulong)lVar5 >> 0x10))
        ;
        FUN_1018_55f6(param_2,((int)local_1e - iStack_e) + -2,local_1e._2_2_,(int)&DAT_10a8_86de,
                      piStack_8,(int)PTR_DAT_10a8_0000_10a8_5924,CONCAT22(unaff_DI,unaff_SI),
                      in_stack_0000ff66,
                      CONCAT212(in_stack_0000ff74,
                                CONCAT210(in_stack_0000ff72,
                                          CONCAT28(in_stack_0000ff70,
                                                   CONCAT26(in_stack_0000ff6e,
                                                            CONCAT24(in_stack_0000ff6c,
                                                                     CONCAT22(in_stack_0000ff6a,
                                                                              hwndDlg)))))));
        if (iVar12 < 4) {
          TEXTOUT(2,(int16)CONCAT214(in_stack_0000ff66,
                                     CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26
                                                  ((int)local_1e - iStack_e,
                                                   CONCAT24(local_1e._2_2_,0x10a841c0)))))),
                  (int16)CONCAT214(in_stack_0000ff76,
                                   CONCAT212(in_stack_0000ff74,
                                             CONCAT210(in_stack_0000ff72,
                                                       CONCAT28(in_stack_0000ff70,
                                                                CONCAT26(in_stack_0000ff6e,
                                                                         CONCAT24(in_stack_0000ff6c,
                                                                                  CONCAT22(
                                                  in_stack_0000ff6a,hwndDlg))))))),in_stack_0000ff78
                  ,(int16)in_stack_0000ff7c);
        }
        plStack_6 = plStack_6 + 1;
        iVar12 = iVar12 + 1;
      } while (iVar12 < 5);
      if (iStack_10 != 0) {
        local_1e = local_1e & 0xffff |
                   (ulong)(uint)(local_1e._2_2_ + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2) <<
                   0x10;
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT214(in_stack_0000ff74,
                                      CONCAT212(in_stack_0000ff72,
                                                CONCAT210(in_stack_0000ff70,
                                                          CONCAT28(in_stack_0000ff6e,
                                                                   CONCAT26(in_stack_0000ff6c,
                                                                            CONCAT24(
                                                  in_stack_0000ff6a,
                                                  CONCAT22(hwndDlg,in_stack_0000ff66))))))));
        piStack_8 = _WSPRINTF((int16 *)&stack0xff6a,(LPSTR)CONCAT22(0x41c3,unaff_SS),
                              (LPCSTR)(CONCAT22(local_18._2_2_ >> 4,0x10a8) & 0x7fffff),unaff_SI);
        FUN_1020_16c0((ulong)&PTR_DAT_10a8_0000_10a8_7bd6,_PTR_DAT_10a8_0000_10a8_4182,(int)lStack_c
                      ,(VA_LIST16 *)0x0,(undefined2 *)0x0);
        pcVar13 = (char *)&DAT_10a8_86de;
        puVar15 = (undefined2 *)(&stack0xff6a + (int)piStack_8);
        uVar9 = 0xffff;
        do {
          if (uVar9 == 0) break;
          uVar9 = uVar9 - 1;
          pcVar2 = pcVar13;
          pcVar13 = pcVar13 + 1;
        } while (*pcVar2 != '\0');
        uVar9 = ~uVar9;
        puVar14 = (undefined2 *)(pcVar13 + -uVar9);
        for (uVar10 = uVar9 >> 1; uVar10 != 0; uVar10 = uVar10 - 1) {
          puVar3 = puVar15;
          puVar15 = puVar15 + 1;
          puVar1 = puVar14;
          puVar14 = puVar14 + 1;
          *puVar3 = *puVar1;
        }
        for (uVar9 = (uint)((uVar9 & 1) != 0); uVar9 != 0; uVar9 = uVar9 - 1) {
          puVar3 = puVar15;
          puVar15 = (undefined2 *)((int)puVar15 + 1);
          puVar1 = puVar14;
          puVar14 = (undefined2 *)((int)puVar14 + 1);
          *(undefined *)puVar3 = *(undefined *)puVar1;
        }
        uVar9 = 0xffff;
        pcVar13 = &stack0xff6a;
        do {
          if (uVar9 == 0) break;
          uVar9 = uVar9 - 1;
          pcVar2 = pcVar13;
          pcVar13 = pcVar13 + 1;
        } while (*pcVar2 != '\0');
        TEXTOUT(~uVar9 - 1,
                (int16)CONCAT214(in_stack_0000ff66,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26((
                                                  int)(undefined *)local_22 + -0x14,
                                                  CONCAT24(local_1e._2_2_,
                                                           CONCAT22(unaff_SS,&stack0xff6a))))))),
                (int16)CONCAT214(in_stack_0000ff76,
                                 CONCAT212(in_stack_0000ff74,
                                           CONCAT210(in_stack_0000ff72,
                                                     CONCAT28(in_stack_0000ff70,
                                                              CONCAT26(in_stack_0000ff6e,
                                                                       CONCAT24(in_stack_0000ff6c,
                                                                                CONCAT22(
                                                  in_stack_0000ff6a,hwndDlg))))))),in_stack_0000ff78
                ,(int16)in_stack_0000ff7c);
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT214(in_stack_0000ff74,
                                      CONCAT212(in_stack_0000ff72,
                                                CONCAT210(in_stack_0000ff70,
                                                          CONCAT28(in_stack_0000ff6e,
                                                                   CONCAT26(in_stack_0000ff6c,
                                                                            CONCAT24(
                                                  in_stack_0000ff6a,
                                                  CONCAT22(hwndDlg,in_stack_0000ff66))))))));
      }
    }
    HVar8 = HStack_1a;
    iStack_10 = iStack_10 + 1;
    if (1 < iStack_10) {
      SELECTOBJECT(piStack_14,HStack_1a,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff74,
                                    CONCAT212(in_stack_0000ff72,
                                              CONCAT210(in_stack_0000ff70,
                                                        CONCAT28(in_stack_0000ff6e,
                                                                 CONCAT26(in_stack_0000ff6c,
                                                                          CONCAT24(in_stack_0000ff6a
                                                                                   ,CONCAT22(hwndDlg
                                                  ,in_stack_0000ff66))))))));
      DELETEDC(HVar8);
      GETCLIENTRECT((HWND16)&local_22,(RECT16 *)CONCAT22(param_1,unaff_SS));
      local_22._2_2_ = -0xc - (((int)PTR_DAT_10a8_0000_10a8_5794 * 5) / 2 - local_1e._2_2_);
      local_22._0_2_ = (undefined *)0x6;
      local_1e = CONCAT22(((uint)PTR_DAT_10a8_0000_10a8_5794 | 1) + local_22._2_2_,
                          PTR_DAT_10a8_0000_10a8_5794 + 6);
      FUN_1008_9946((HRGN16)param_2,(int *)&local_22,(int16 *)PTR_DAT_10a8_0000_10a8_58a6,
                    (undefined1  [10])
                    CONCAT28(in_stack_0000ff6a,
                             CONCAT26(hwndDlg,CONCAT24(in_stack_0000ff66,CONCAT22(unaff_DI,unaff_SI)
                                                      ))),in_stack_0000ff6c,in_stack_0000ff6e,
                    in_stack_0000ff70,in_stack_0000ff72,in_stack_0000ff74);
      PTR_DAT_10a8_0000_10a8_7c36 = (undefined *)local_22;
      PTR_DAT_10a8_0000_10a8_7c36_2 = local_22._2_2_;
      _PTR_DAT_10a8_0000_10a8_7c3a = local_1e;
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000ff74,
                                    CONCAT212(in_stack_0000ff72,
                                              CONCAT210(in_stack_0000ff70,
                                                        CONCAT28(in_stack_0000ff6e,
                                                                 CONCAT26(in_stack_0000ff6c,
                                                                          CONCAT24(in_stack_0000ff6a
                                                                                   ,CONCAT22(hwndDlg
                                                  ,in_stack_0000ff66))))))));
      HVar8 = FUN_1018_50de(((_DAT_10a8_0a46 & 0x1c0) >> 6) + 0x82,(char *)&DAT_10a8_86de);
      TEXTOUT(HVar8,(int16)CONCAT214(in_stack_0000ff66,
                                     CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26
                                                  ((int)local_1e + 4,
                                                   CONCAT24(local_22._2_2_,0x10a886de)))))),
              (int16)CONCAT214(in_stack_0000ff76,
                               CONCAT212(in_stack_0000ff74,
                                         CONCAT210(in_stack_0000ff72,
                                                   CONCAT28(in_stack_0000ff70,
                                                            CONCAT26(in_stack_0000ff6e,
                                                                     CONCAT24(in_stack_0000ff6c,
                                                                              CONCAT22(
                                                  in_stack_0000ff6a,hwndDlg))))))),in_stack_0000ff78
              ,(int16)in_stack_0000ff7c);
      if (iStack_12 != 0) {
        RELEASEDC(param_2,param_1,(HDC16)unaff_SI);
      }
      return;
    }
  } while( true );
}



// WARNING: Restarted to delay deadcode elimination for space: stack

uint __cdecl16far FUN_1068_19a2(undefined2 param_1)

{
  uint uVar1;
  HWND16 hwnd;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  int iVar2;
  undefined2 unaff_DI;
  int iVar3;
  LRESULT LVar4;
  undefined2 in_stack_00000000;
  WPARAM16 in_stack_00000002;
  undefined2 in_stack_00000006;
  undefined4 uVar5;
  undefined2 uVar6;

  LVar4 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_00000000,
                                          CONCAT212(unaff_BP,CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(param_1,0x40500000000))))),
                      in_stack_00000002,_param_1);
  uVar1 = (uint)LVar4;
  iVar3 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_8fe0) {
    iVar2 = 0;
    do {
      uVar1 = *(uint *)(PTR_DAT_10a8_0000_10a8_885c + iVar2) & 0x3ff;
      if (uVar1 != 0) {
        uVar5 = 0x4010000;
        uVar6 = param_1;
        hwnd = FUN_1068_19f8((undefined2 *)CONCAT22(0x10a8,PTR_DAT_10a8_0000_10a8_885c + iVar2));
        LVar4 = SENDMESSAGE(hwnd,(uint16)CONCAT214(in_stack_00000000,
                                                   CONCAT212(unaff_BP,CONCAT210(unaff_DI,CONCAT28(
                                                  unaff_SI,CONCAT26(uVar6,CONCAT42(uVar5,0x10a8)))))
                                                  ),in_stack_00000002,_param_1);
        uVar1 = (uint)LVar4;
      }
      iVar2 = iVar2 + 4;
      iVar3 = iVar3 + 1;
    } while (iVar3 < (int)PTR_DAT_10a8_0000_10a8_8fe0);
  }
  return uVar1;
}



undefined2 __cdecl16far FUN_1068_19f8(undefined2 *param_1)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  char *pcVar7;
  undefined2 *puVar8;
  undefined2 *puVar9;

  uVar5 = *(uint *)((int)param_1 + 2);
  uVar4 = CONCAT11((char)uVar5,(char)((uint)*param_1 >> 8)) & 0x1fc;
  uVar6 = uVar4 >> 2;
  if ((uVar5 & 0xe) == 4) {
    pcVar7 = (char *)(uVar6 * 0x87 + 0x71ee);
  }
  else if ((uVar6 < 0xf) || (0x15 < uVar6)) {
    pcVar7 = *(char **)((uVar4 >> 1) + 0x4156);
  }
  else {
    pcVar7 = (char *)((int)s_Colonization_Module_10a8_1dd2 + uVar6 * 0x36);
  }
  uVar5 = 0xffff;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar2 = pcVar7;
    pcVar7 = pcVar7 + 1;
  } while (*pcVar2 != '\0');
  uVar5 = ~uVar5;
  puVar8 = (undefined2 *)(pcVar7 + -uVar5);
  puVar9 = (undefined2 *)&DAT_10a8_86de;
  for (uVar6 = uVar5 >> 1; uVar6 != 0; uVar6 = uVar6 - 1) {
    puVar3 = puVar9;
    puVar9 = puVar9 + 1;
    puVar1 = puVar8;
    puVar8 = puVar8 + 1;
    *puVar3 = *puVar1;
  }
  for (uVar5 = (uint)((uVar5 & 1) != 0); uVar5 != 0; uVar5 = uVar5 - 1) {
    puVar3 = puVar9;
    puVar9 = (undefined2 *)((int)puVar9 + 1);
    puVar1 = puVar8;
    puVar8 = (undefined2 *)((int)puVar8 + 1);
    *(undefined *)puVar3 = *(undefined *)puVar1;
  }
  return (int)&DAT_10a8_86de;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1068_1a7c(uint *param_1,long *param_2,int param_3,int param_4)

{
  uint *puVar1;
  long *plVar2;
  uint uVar3;
  qword qVar4;
  uint uVar5;
  int iVar6;
  long *plVar7;
  uint *puVar8;
  long *plVar9;
  int iVar10;
  uint local_1a [4];
  uint local_12;
  undefined2 local_10;
  int local_e;
  ulong local_c;
  ulong local_8;
  long *local_4;

  uVar3 = *(uint *)((int)param_1 + 2);
  uVar5 = (CONCAT11((char)uVar3,(char)((ulong)*param_1 >> 8)) & 0x1fc) >> 2;
  local_c = (ulong)uVar5;
  local_8 = (ulong)(*param_1 & 0x3ff);
  if ((uVar3 & 0xe) == 4) {
    FUN_1010_2474(param_3,CONCAT22(*(undefined2 *)(param_3 * 4 + 0x74),
                                   *(int *)(param_3 * 4 + 0x72) + uVar5 * 0x87),local_1a);
    puVar8 = local_1a;
    local_4 = param_2;
    plVar7 = param_2;
    do {
      puVar1 = puVar8;
      puVar8 = puVar8 + 1;
      *(uint *)plVar7 = *puVar1;
      *(uint *)((int)plVar7 + 2) = 0;
      plVar7 = plVar7 + 1;
    } while (puVar8 < &local_12);
    goto LAB_1068_1d66;
  }
  if (0x14 < uVar5 - 1) {
    iVar10 = FUN_1078_1d84(param_3 * 0x76 + -0x77a2,7);
    if (iVar10 == 0) {
      param_2[3] = 500;
      *param_2 = 500;
      param_2[2] = 0xfa;
      param_2[1] = 0xfa;
      goto LAB_1068_1d66;
    }
    param_2[2] = 0x32;
    param_2[1] = 0x32;
    *(undefined2 *)param_2 = 0x32;
    *(undefined2 *)((int)param_2 + 2) = 0;
LAB_1068_1b72:
    *(undefined2 *)(param_2 + 3) = 100;
    goto LAB_1068_1b77;
  }
  switch(uVar5) {
  case 1:
    iVar10 = param_3 * 0x76 + -0x77a2;
    iVar6 = FUN_1078_1d84(iVar10,0x1f);
    *(int *)param_2 = -(iVar6 + -2);
    *(int *)((int)param_2 + 2) = -(iVar6 + -2) >> 0xf;
    plVar7 = param_2;
    plVar9 = param_2;
    for (iVar6 = 2; plVar9 = plVar9 + 1, iVar6 != 0; iVar6 = iVar6 + -1) {
      plVar2 = plVar7;
      plVar7 = plVar7 + 1;
      *plVar9 = *plVar2;
    }
    iVar10 = FUN_1078_1d42(iVar10,2);
    *(int *)(param_2 + 3) = iVar10;
    *(int *)((int)param_2 + 0xe) = iVar10 >> 0xf;
    goto LAB_1068_1d66;
  case 2:
  case 4:
  case 6:
    plVar7 = param_2;
    for (iVar10 = 3; iVar10 != 0; iVar10 = iVar10 + -1) {
      plVar2 = plVar7;
      plVar7 = plVar7 + 1;
      *plVar2 = 0;
    }
    *(undefined2 *)(param_2 + 3) = 1;
    break;
  case 3:
    plVar7 = param_2;
    for (iVar10 = 3; iVar10 != 0; iVar10 = iVar10 + -1) {
      plVar2 = plVar7;
      plVar7 = plVar7 + 1;
      *plVar2 = 0;
    }
    iVar10 = FUN_1078_1d42(param_3 * 0x76 + -0x77a2,5);
    iVar6 = iVar10 >> 0xf;
    goto LAB_1068_1c32;
  case 5:
  case 7:
    local_12 = 0x8000;
    local_10 = (uint)CONCAT31((uint3)local_10._1_1_,7);
    FUN_1060_32b2(&local_12);
    iVar10 = 0;
    plVar7 = param_2;
    do {
      *plVar7 = (long)*(int *)(local_e + iVar10 + 0x2c);
      plVar7 = plVar7 + 1;
      iVar10 = iVar10 + 2;
    } while (iVar10 < 6);
    *(undefined2 *)(param_2 + 3) = *(undefined2 *)(local_e + 0x2a);
    *(undefined2 *)((int)param_2 + 0xe) = 0;
    if (local_c == 5) goto LAB_1068_1d66;
    plVar7 = param_2;
    for (iVar10 = 3; iVar10 != 0; iVar10 = iVar10 + -1) {
      plVar2 = plVar7;
      plVar7 = plVar7 + 1;
      *plVar2 = 0;
    }
    qVar4 = ((qword)((uint)PTR_DAT_10a8_0000_10a8_7bf4 & 0xff |
                    ((byte)(ZEXT24(PTR_DAT_10a8_0000_10a8_7bf4) >> 8) & 0xf) << 8) *
             (qword)(ulong)param_2[3] & 0xffffffff) / 10;
    iVar10 = (int)qVar4;
    iVar6 = (int)(qVar4 >> 0x10);
LAB_1068_1c32:
    *(int *)(param_2 + 3) = iVar10;
    *(int *)((int)param_2 + 0xe) = iVar6;
    goto LAB_1068_1d66;
  case 8:
    plVar7 = param_2;
    for (iVar10 = 3; iVar10 != 0; iVar10 = iVar10 + -1) {
      plVar2 = plVar7;
      plVar7 = plVar7 + 1;
      *plVar2 = 0;
    }
    *(undefined2 *)(param_2 + 3) = 0x19;
    break;
  case 9:
  case 10:
  case 0xb:
  case 0xc:
  case 0xd:
  case 0xe:
    param_2[2] = 0;
    param_2[1] = 0;
    *param_2 = 0;
    iVar10 = FUN_1078_1d84(param_3 * 0x76 + -0x77a2,6);
    if (iVar10 == 0) goto LAB_1068_1b72;
    *(undefined2 *)(param_2 + 3) = 0x5a;
    break;
  default:
    local_12 = 0x8000;
    local_c._0_1_ = (char)uVar5;
    local_10 = local_10 & 0xff00 | (uint)(byte)((char)local_c - 0xf);
    FUN_1060_32b2(&local_12);
    FUN_1010_239a(param_3,local_e,(int)s_From___s_c_c_10a8_10a2 + 6,local_1a);
    puVar8 = local_1a;
    local_4 = param_2;
    plVar7 = param_2;
    do {
      puVar1 = puVar8;
      puVar8 = puVar8 + 1;
      *(uint *)plVar7 = *puVar1;
      *(uint *)((int)plVar7 + 2) = 0;
      plVar7 = plVar7 + 1;
    } while (puVar8 < &local_12);
    goto LAB_1068_1d66;
  }
LAB_1068_1b77:
  *(undefined2 *)((int)param_2 + 0xe) = 0;
LAB_1068_1d66:
  if (param_4 == 0) {
    iVar10 = 4;
    do {
      *param_2 = local_8 * *param_2;
      param_2 = param_2 + 1;
      iVar10 = iVar10 + -1;
    } while (iVar10 != 0);
  }
  return;
}



ulong __stdcall16far DEFAULTSDLG(HWND16 param_1,int param_2,int param_3,int param_4,HWND16 param_5)

{
  uint *puVar1;
  int iVar2;
  HWND16 HVar3;
  HWND16 HVar4;
  uint in_DX;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  int iVar5;
  RECT16 *unaff_SS;
  COLORREF CVar6;
  LRESULT LVar7;
  word in_stack_00000000;
  undefined uVar8;
  undefined uVar9;
  undefined4 in_stack_0000fff2;
  WPARAM16 in_stack_0000fff6;
  undefined2 in_stack_0000fff8;
  undefined2 in_stack_0000fffa;
  int in_stack_0000fffc;

  uVar8 = (undefined)(param_5 >> 8);
  if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)&stack0xfff2,(RECT16 *)CONCAT13(uVar8,CONCAT12((char)param_5,unaff_SS)));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xfff2,unaff_SS,param_3);
  }
  else {
    if (param_4 == 0x19) {
      HVar4 = GETDLGITEM(0x805,(int16)CONCAT214(in_stack_0000fffa,
                                                CONCAT212(in_stack_0000fff8,
                                                          CONCAT210(in_stack_0000fff6,
                                                                    CONCAT46(in_stack_0000fff2,
                                                                             CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
      if ((((HVar4 == param_1) ||
           (HVar4 = GETDLGITEM(0x807,(int16)CONCAT214(in_stack_0000fffa,
                                                      CONCAT212(in_stack_0000fff8,
                                                                CONCAT210(in_stack_0000fff6,
                                                                          CONCAT46(in_stack_0000fff2
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_5))))))),
           HVar4 == param_1)) ||
          (HVar4 = GETDLGITEM(0x806,(int16)CONCAT214(in_stack_0000fffa,
                                                     CONCAT212(in_stack_0000fff8,
                                                               CONCAT210(in_stack_0000fff6,
                                                                         CONCAT46(in_stack_0000fff2,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5))))))), HVar4 == param_1
          )) || (param_2 == 6)) {
        uVar8 = 0xf;
        uVar9 = 0;
        CVar6 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000fff8,
                                             CONCAT212(in_stack_0000fff6,
                                                       CONCAT48(in_stack_0000fff2,
                                                                CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT13((char)((uint)param_3 >> 8),
                                                           CONCAT12((char)param_3,0xf))))))));
        CVar6 = SETBKCOLOR((HDC16)CVar6.value,
                           CONCAT13(uVar9,CONCAT12(uVar8,(int)(CVar6.value >> 0x10))));
        return CVar6.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
LAB_1068_202e:
      return (ulong)in_DX << 0x10;
    }
    if (param_4 == 0x110) {
      FUN_1018_5a04(param_5,(int *)0x41dc,1,unaff_SI,
                    (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                        CONCAT210(in_stack_0000fffa,
                                                                  CONCAT28(in_stack_0000fff8,
                                                                           CONCAT26(
                                                  in_stack_0000fff6,
                                                  CONCAT42(in_stack_0000fff2,unaff_DI)))))),
                    in_stack_00000000);
      iVar5 = 0;
      iVar2 = FUN_1078_1d84((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x77a2,10);
      iVar2 = (-(uint)(iVar2 == 0) & 0xfffe) + 7;
      if (0 < iVar2) {
        do {
          HVar4 = FUN_1018_5112(iVar5 + 0x89);
          HVar3 = GETDLGITEM(0x804,(int16)CONCAT214(iVar2,CONCAT212(in_stack_0000fff8,
                                                                    CONCAT210(in_stack_0000fff6,
                                                                              CONCAT46(
                                                  in_stack_0000fff2,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
          ;
          SENDMESSAGE(HVar4,(uint16)CONCAT412(in_stack_0000fff2,
                                              CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((char)(
                                                  HVar3 >> 8),CONCAT16((char)HVar3,0x403000010a8))))
                                             ),in_stack_0000fff6,CONCAT22(iVar2,in_stack_0000fff8));
          iVar5 = iVar5 + 1;
        } while (iVar5 < iVar2);
      }
      HVar4 = GETDLGITEM(0x804,(int16)CONCAT214(iVar2,CONCAT212(in_stack_0000fff8,
                                                                CONCAT210(in_stack_0000fff6,
                                                                          CONCAT46(in_stack_0000fff2
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_5)))))));
      SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000fff2,
                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((char)(HVar4 >>
                                                  8),CONCAT16((char)HVar4,
                                                              CONCAT15(4,CONCAT14(0xe,(ulong)((*(
                                                  byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                                                         (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) &
                                                  0x1c) >> 2) << 0x10))))))),in_stack_0000fff6,
                  CONCAT22(iVar2,in_stack_0000fff8));
      HVar4 = GETDLGITEM(0x805,(int16)CONCAT214(iVar2,CONCAT212(in_stack_0000fff8,
                                                                CONCAT210(in_stack_0000fff6,
                                                                          CONCAT46(in_stack_0000fff2
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_5)))))));
      SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000fff2,
                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((char)(HVar4 >>
                                                  8),CONCAT16((char)HVar4,
                                                              CONCAT15(4,CONCAT14(1,(ulong)((*(byte
                                                  *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                                                    (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) & 2) >>
                                                  1) << 0x10))))))),in_stack_0000fff6,
                  CONCAT22(iVar2,in_stack_0000fff8));
      HVar4 = GETDLGITEM(0x806,(int16)CONCAT214(iVar2,CONCAT212(in_stack_0000fff8,
                                                                CONCAT210(in_stack_0000fff6,
                                                                          CONCAT46(in_stack_0000fff2
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_5)))))));
      SENDMESSAGE(0,(uint16)(CONCAT412(in_stack_0000fff2,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((char)(HVar4 >>
                                                                                           8),
                                                  CONCAT16((char)HVar4,
                                                           CONCAT15(4,(uint5)CONCAT12(1,(uint)*(byte
                                                                                                *)((
                                                  int)&PTR_DAT_10a8_0000_10a8_88a2 +
                                                  (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76)) << 0x10)
                                                  ))))) & (undefined  [16])0xffffffffffffffff),
                  in_stack_0000fff6,CONCAT22(iVar2,in_stack_0000fff8));
      HVar4 = GETDLGITEM(0x807,(int16)CONCAT214(iVar2,CONCAT212(in_stack_0000fff8,
                                                                CONCAT210(in_stack_0000fff6,
                                                                          CONCAT46(in_stack_0000fff2
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_5)))))));
      LVar7 = SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000fff2,
                                              CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((char)(
                                                  HVar4 >> 8),
                                                  CONCAT16((char)HVar4,
                                                           CONCAT15(4,CONCAT14(1,(ulong)((*(byte *)(
                                                  (int)&PTR_DAT_10a8_0000_10a8_88a2 +
                                                  (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) & 0x20)
                                                  >> 5) << 0x10))))))),in_stack_0000fff6,
                          CONCAT22(iVar2,in_stack_0000fff8));
      in_DX = (uint)((ulong)LVar7 >> 0x10);
    }
    else {
      if (param_4 != 0x111) goto LAB_1068_202e;
      if ((param_3 == 1) || (param_3 == 2)) {
        if (param_3 == 1) {
          HVar4 = GETDLGITEM(0x804,(int16)CONCAT214(in_stack_0000fffa,
                                                    CONCAT212(in_stack_0000fff8,
                                                              CONCAT210(in_stack_0000fff6,
                                                                        CONCAT46(in_stack_0000fff2,
                                                                                 CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
          LVar7 = SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000fff2,
                                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((
                                                  char)(HVar4 >> 8),
                                                  CONCAT16((char)HVar4,0x40700000000))))),
                              in_stack_0000fff6,CONCAT22(in_stack_0000fffa,in_stack_0000fff8));
          in_stack_0000fffc = (int)LVar7;
          puVar1 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                           (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
          *puVar1 = *puVar1 ^ (byte)(*(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                                              (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) ^
                                    (byte)(in_stack_0000fffc << 2)) & 0x1c;
          HVar4 = GETDLGITEM(0x806,(int16)CONCAT214(in_stack_0000fffa,
                                                    CONCAT212(in_stack_0000fff8,
                                                              CONCAT210(in_stack_0000fff6,
                                                                        CONCAT46(in_stack_0000fff2,
                                                                                 CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
          LVar7 = SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000fff2,
                                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((
                                                  char)(HVar4 >> 8),
                                                  CONCAT16((char)HVar4,0x40000000000))))),
                              in_stack_0000fff6,CONCAT22(in_stack_0000fffa,in_stack_0000fff8));
          puVar1 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                           (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
          *puVar1 = *puVar1 ^ (byte)(*(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                                              (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) ^ (byte)LVar7
                                    ) & 1;
          HVar4 = GETDLGITEM(0x805,(int16)CONCAT214(in_stack_0000fffa,
                                                    CONCAT212(in_stack_0000fff8,
                                                              CONCAT210(in_stack_0000fff6,
                                                                        CONCAT46(in_stack_0000fff2,
                                                                                 CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
          LVar7 = SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000fff2,
                                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((
                                                  char)(HVar4 >> 8),
                                                  CONCAT16((char)HVar4,0x40000000000))))),
                              in_stack_0000fff6,CONCAT22(in_stack_0000fffa,in_stack_0000fff8));
          puVar1 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                           (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
          *puVar1 = *puVar1 ^ (byte)((char)LVar7 * '\x02' ^
                                    *(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                                             (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76)) & 2;
          HVar4 = GETDLGITEM(0x807,(int16)CONCAT214(in_stack_0000fffa,
                                                    CONCAT212(in_stack_0000fff8,
                                                              CONCAT210(in_stack_0000fff6,
                                                                        CONCAT46(in_stack_0000fff2,
                                                                                 CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
          LVar7 = SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000fff2,
                                                  CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17((
                                                  char)(HVar4 >> 8),
                                                  CONCAT16((char)HVar4,0x40000000000))))),
                              in_stack_0000fff6,CONCAT22(in_stack_0000fffa,in_stack_0000fff8));
          in_DX = (uint)((ulong)LVar7 >> 0x10);
          puVar1 = (uint *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                           (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
          *puVar1 = *puVar1 ^ (byte)((char)LVar7 << 5 ^
                                    *(byte *)((int)&PTR_DAT_10a8_0000_10a8_88a2 +
                                             (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76)) & 0x20;
          FUN_1020_4198();
        }
        FUN_1018_5a04(param_5,(int *)0x41dc,0,unaff_SI,
                      (int16)CONCAT214(unaff_BP,CONCAT212(in_stack_0000fffc,
                                                          CONCAT210(in_stack_0000fffa,
                                                                    CONCAT28(in_stack_0000fff8,
                                                                             CONCAT26(
                                                  in_stack_0000fff6,
                                                  CONCAT42(in_stack_0000fff2,unaff_DI)))))),
                      in_stack_00000000);
        if (param_3 != 1) {
          param_3 = 0;
        }
        ENDDIALOG(param_3,(int16)CONCAT214(in_stack_0000fffa,
                                           CONCAT212(in_stack_0000fff8,
                                                     CONCAT210(in_stack_0000fff6,
                                                               CONCAT46(in_stack_0000fff2,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5)))))));
      }
      else {
        if (param_3 != 0x76) goto LAB_1068_202e;
        WINHELP(0xa8,(LPCSTR)0x10000,
                (uint16)CONCAT214(in_stack_0000fff6,
                                  CONCAT410(in_stack_0000fff2,
                                            CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT15(uVar8,
                                                  CONCAT14((char)param_5,
                                                           CONCAT13(0x10,CONCAT12(0xa8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be)))))))));
      }
    }
  }
  return CONCAT22(in_DX,1);
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulong __stdcall16far RESEARCHDLG(HWND16 param_1,ulong param_2,uint param_3,int16 *param_4)

{
  int16 *piVar1;
  HWND16 HVar2;
  int16 *__return_storage_ptr__;
  HDC16 HVar3;
  HWND16 HVar4;
  undefined *puVar5;
  uint uVar6;
  undefined2 uVar7;
  undefined *in_DX;
  int iVar8;
  HRGN16 unaff_SI;
  undefined *puVar9;
  HRGN16 unaff_DI;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar10;
  dword dVar11;
  undefined2 uVar12;
  int16 *piVar13;
  undefined uVar14;
  undefined uVar15;
  byte bVar16;
  undefined uVar17;
  undefined uVar18;
  undefined2 in_stack_0000ffbc;
  undefined2 in_stack_0000ffbe;
  undefined2 in_stack_0000ffc0;
  undefined2 in_stack_0000ffc2;
  word in_stack_0000ffc4;
  undefined2 in_stack_0000ffc6;
  undefined2 in_stack_0000ffc8;
  word in_stack_0000ffca;
  undefined6 in_stack_0000ffcc;
  undefined6 in_stack_0000ffd2;
  undefined6 in_stack_0000ffd8;
  int in_stack_0000ffde;
  int in_stack_0000ffe0;
  int in_stack_0000ffe2;
  int in_stack_0000ffe4;
  undefined2 in_stack_0000ffe6;
  word in_stack_0000ffe8;
  int local_16;
  int local_14;
  undefined *local_10;
  int16 *local_e;
  int local_c;
  undefined *local_a;
  undefined *local_8;
  undefined *local_6;
  undefined *local_4;

                    // Segment:    15
                    // Offset:     00047240
                    // Length:     32b0
                    // Min Alloc:  32b0
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  if (param_3 == 0x20) {
    GETCURSORPOS((POINT16 *)&local_6);
    SCREENTOCLIENT((HWND16)&local_6,(POINT16 *)CONCAT22(param_4,unaff_SS));
    if ((((0xc < (int)local_6) && ((int)local_6 < (int)(PTR_DAT_10a8_0000_10a8_885a + -0xc))) &&
        ((int)PTR_DAT_10a8_0000_10a8_7b44 <= (int)local_4)) &&
       (in_DX = (undefined *)
                ((ulong)((long)(int)PTR_DAT_10a8_0000_10a8_5922 *
                        (long)(int)PTR_DAT_10a8_0000_10a8_5794) >> 0x10),
       (int)local_4 <
       (int)(PTR_DAT_10a8_0000_10a8_7b44 +
            (int)((long)(int)PTR_DAT_10a8_0000_10a8_5922 * (long)(int)PTR_DAT_10a8_0000_10a8_5794)))
       ) {
      SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_7ad0);
      goto LAB_1070_0079;
    }
  }
  else {
    uVar14 = SUB21(param_4,0);
    uVar15 = (undefined)((uint)param_4 >> 8);
    bVar16 = (byte)(param_2 >> 0x10);
    if (param_3 < 0x21) {
      if (param_3 == 0x19) {
        local_10 = (undefined *)0x431;
        do {
          HVar2 = GETDLGITEM((HWND16)local_10,
                             (int16)CONCAT214(in_stack_0000ffc4,
                                              CONCAT212(in_stack_0000ffc2,
                                                        CONCAT210(in_stack_0000ffc0,
                                                                  CONCAT28(in_stack_0000ffbe,
                                                                           CONCAT26(
                                                  in_stack_0000ffbc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)))))))
                            );
          if (HVar2 == param_1) break;
          local_10 = local_10 + 1;
        } while ((int)local_10 < 0x437);
        if (((int)local_10 < 0x437) || ((int)param_2 == 6)) {
          uVar14 = 0xf;
          uVar15 = 0;
          CVar10 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffc2,
                                                CONCAT212(in_stack_0000ffc0,
                                                          CONCAT210(in_stack_0000ffbe,
                                                                    CONCAT28(in_stack_0000ffbc,
                                                                             CONCAT26(unaff_DI,
                                                  CONCAT24(unaff_SI,param_2 & 0xff000000 |
                                                                    (ulong)CONCAT12(bVar16,0xf))))))
                                               ));
          CVar10 = SETBKCOLOR((HDC16)CVar10.value,
                              CONCAT13(uVar15,CONCAT12(uVar14,(int)(CVar10.value >> 0x10))));
          return CVar10.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
        }
      }
      else if (param_3 < 0x1a) {
        if ((char)param_3 == '\x0f') {
          piVar1 = (int16 *)BEGINPAINT((HWND16)&stack0xffbe,
                                       (PAINTSTRUCT16 *)CONCAT13(uVar15,CONCAT12(uVar14,unaff_SS)));
          GETCLIENTRECT((HWND16)&stack0xffe6,(RECT16 *)CONCAT22(param_4,unaff_SS));
          FUN_1070_0578(param_4,piVar1,(int)&stack0xffe6,0xffff);
          ENDPAINT((HWND16)&stack0xffbe,unaff_SS);
        }
        else {
          if ((char)param_3 != '\x14') goto LAB_1070_0504;
          GETCLIENTRECT((HWND16)&stack0xffe6,(RECT16 *)CONCAT13(uVar15,CONCAT12(uVar14,unaff_SS)));
          FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffe6,(RECT16 *)unaff_SS,
                   param_2._2_2_);
        }
LAB_1070_0079:
        return ZEXT24(in_DX) << 0x10 | 1;
      }
    }
    else {
      if (param_3 == 0x110) {
        PTR_DAT_10a8_0000_10a8_8856 =
             (undefined *)
             (int)*(char *)((int)&DAT_10a8_888a + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
        PTR_DAT_10a8_0000_10a8_8164 =
             (undefined *)
             (int)*(char *)((int)&DAT_10a8_888b + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
        CHECKRADIOBUTTON((HWND16)(PTR_DAT_10a8_0000_10a8_8164 + 0x431),
                         (uint16)CONCAT214(in_stack_0000ffc0,
                                           CONCAT212(in_stack_0000ffbe,
                                                     CONCAT210(in_stack_0000ffbc,
                                                               CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT15(uVar15,CONCAT14(uVar14,0x4310436))))))),
                         (uint16)CONCAT610(in_stack_0000ffcc,
                                           CONCAT28(in_stack_0000ffca,
                                                    CONCAT26(in_stack_0000ffc8,
                                                             CONCAT24(in_stack_0000ffc6,
                                                                      CONCAT22(in_stack_0000ffc4,
                                                                               in_stack_0000ffc2))))
                                          ),
                         (uint16)CONCAT214(in_stack_0000ffe0,
                                           CONCAT212(in_stack_0000ffde,
                                                     CONCAT66(in_stack_0000ffd8,in_stack_0000ffd2)))
                        );
        piVar1 = (int16 *)GETDC((HWND16)param_4);
        __return_storage_ptr__ =
             SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)piVar1,unaff_SI,unaff_DI,
                          (int16)CONCAT214(in_stack_0000ffca,
                                           CONCAT212(in_stack_0000ffc8,
                                                     CONCAT210(in_stack_0000ffc6,
                                                               CONCAT28(in_stack_0000ffc4,
                                                                        CONCAT26(in_stack_0000ffc2,
                                                                                 CONCAT24(
                                                  in_stack_0000ffc0,
                                                  CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc))))))
                                          ));
        dVar11 = GETTEXTEXTENT(7,s_Current_10a8_41e4,
                               (int16)CONCAT214(in_stack_0000ffc4,
                                                CONCAT212(in_stack_0000ffc2,
                                                          CONCAT210(in_stack_0000ffc0,
                                                                    CONCAT28(in_stack_0000ffbe,
                                                                             CONCAT26(
                                                  in_stack_0000ffbc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,piVar1))))))))
        ;
        local_4 = (undefined *)dVar11;
        PTR_DAT_10a8_0000_10a8_577c = (undefined *)0x0;
        local_10 = (undefined *)0x431;
        local_e = piVar1;
        do {
          uVar17 = SUB21(piVar1,0);
          uVar18 = (undefined)((uint)piVar1 >> 8);
          uVar14 = 0xa8;
          uVar15 = 0x10;
          uVar7 = SUB42(&DAT_10a8_86de,0);
          HVar3 = FUN_1018_50de((uint)(local_10 + -0x3f0),(char *)&DAT_10a8_86de);
          dVar11 = GETTEXTEXTENT(HVar3,(LPCSTR)CONCAT13(uVar15,CONCAT12(uVar14,uVar7)),
                                 (int16)CONCAT214(in_stack_0000ffc4,
                                                  CONCAT212(in_stack_0000ffc2,
                                                            CONCAT210(in_stack_0000ffc0,
                                                                      CONCAT28(in_stack_0000ffbe,
                                                                               CONCAT26(
                                                  in_stack_0000ffbc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,CONCAT11(
                                                  uVar18,uVar17)))))))));
          if ((int)PTR_DAT_10a8_0000_10a8_577c < (int)(undefined *)dVar11) {
            PTR_DAT_10a8_0000_10a8_577c = (undefined *)dVar11;
          }
          HVar2 = GETDLGITEM((HWND16)local_10,
                             (int16)CONCAT214(in_stack_0000ffc4,
                                              CONCAT212(in_stack_0000ffc2,
                                                        CONCAT210(in_stack_0000ffc0,
                                                                  CONCAT28(in_stack_0000ffbe,
                                                                           CONCAT26(
                                                  in_stack_0000ffbc,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)))))))
                            );
          uVar17 = (undefined)HVar2;
          uVar18 = (undefined)(HVar2 >> 8);
          uVar14 = 0xa8;
          uVar15 = 0x10;
          uVar7 = SUB42(&DAT_10a8_86de,0);
          SETWINDOWTEXT((HWND16)&DAT_10a8_86de,CONCAT13(uVar18,CONCAT12(uVar17,0x10a8)));
          SENDMESSAGE(0,(uint16)CONCAT214(unaff_SI,CONCAT113(uVar18,CONCAT112(uVar17,CONCAT111(
                                                  uVar15,CONCAT110(uVar14,CONCAT28(uVar7,CONCAT26(
                                                  HVar2,CONCAT24(0x30,ZEXT24(
                                                  PTR_DAT_10a8_0000_10a8_59c6) << 0x10)))))))),
                      unaff_DI,CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc));
          local_10 = local_10 + 1;
        } while ((int)local_10 < 0x437);
        PTR_DAT_10a8_0000_10a8_577c = PTR_DAT_10a8_0000_10a8_577c + 0x40;
        local_c = ((int)PTR_DAT_10a8_0000_10a8_5794 * 4 - ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1)) +
                  1;
        local_10 = (undefined *)0x431;
        do {
          HVar2 = GETDLGITEM((HWND16)local_10,
                             (int16)CONCAT214(in_stack_0000ffbe,
                                              CONCAT212(in_stack_0000ffbc,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT17(uVar18,CONCAT16(uVar17,CONCAT15(uVar15,
                                                  CONCAT14(uVar14,CONCAT22(uVar7,param_4))))))))));
          SETWINDOWPOS(0x44,((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2,
                       (int16)CONCAT115(uVar18,CONCAT114(uVar17,CONCAT113(uVar15,CONCAT112(uVar14,
                                                  CONCAT210(uVar7,CONCAT28(HVar2,(qword)CONCAT24(
                                                  0x10,CONCAT22(local_c,PTR_DAT_10a8_0000_10a8_577c)
                                                  ))))))),
                       (int16)CONCAT214(in_stack_0000ffc6,
                                        CONCAT212(in_stack_0000ffc4,
                                                  CONCAT210(in_stack_0000ffc2,
                                                            CONCAT28(in_stack_0000ffc0,
                                                                     CONCAT26(in_stack_0000ffbe,
                                                                              CONCAT24(
                                                  in_stack_0000ffbc,CONCAT22(unaff_DI,unaff_SI))))))
                                       ),
                       (int16)CONCAT610(in_stack_0000ffd2,
                                        CONCAT64(in_stack_0000ffcc,
                                                 CONCAT22(in_stack_0000ffca,in_stack_0000ffc8))),
                       (int16)CONCAT214(in_stack_0000ffe6,
                                        CONCAT212(in_stack_0000ffe4,
                                                  CONCAT210(in_stack_0000ffe2,
                                                            CONCAT28(in_stack_0000ffe0,
                                                                     CONCAT26(in_stack_0000ffde,
                                                                              in_stack_0000ffd8)))))
                       ,in_stack_0000ffe8);
          piVar1 = local_e;
          local_c = local_c + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
          local_10 = local_10 + 1;
        } while ((int)local_10 < 0x437);
        PTR_DAT_10a8_0000_10a8_885a = PTR_DAT_10a8_0000_10a8_577c + (int)local_4 + 0x28;
        PTR_DAT_10a8_0000_10a8_578c = (undefined *)0x0;
        local_10 = (undefined *)0x3b;
        do {
          iVar8 = (int)s_From___s_c_c_10a8_10a2 + 6;
          uVar12 = SUB42(&DAT_10a8_86de,0);
          piVar13 = piVar1;
          HVar3 = FUN_1018_50de((uint)local_10,(char *)&DAT_10a8_86de);
          dVar11 = GETTEXTEXTENT(HVar3,(LPCSTR)CONCAT22(iVar8,uVar12),
                                 (int16)CONCAT214(in_stack_0000ffbe,
                                                  CONCAT212(in_stack_0000ffbc,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT17(uVar18,CONCAT16(uVar17,CONCAT15(uVar15,
                                                  CONCAT14(uVar14,CONCAT22(uVar7,piVar13))))))))));
          iVar8 = local_c;
          if ((int)PTR_DAT_10a8_0000_10a8_578c < (int)(undefined *)dVar11) {
            PTR_DAT_10a8_0000_10a8_578c = (undefined *)dVar11;
          }
          local_10 = local_10 + 1;
        } while ((int)local_10 < 0x41);
        PTR_DAT_10a8_0000_10a8_8306 = PTR_DAT_10a8_0000_10a8_578c;
        dVar11 = GETTEXTEXTENT(7,(LPCSTR)0x10a841ec,
                               (int16)CONCAT214(in_stack_0000ffbe,
                                                CONCAT212(in_stack_0000ffbc,
                                                          CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT17(uVar18,CONCAT16(uVar17,CONCAT15(uVar15,
                                                  CONCAT14(uVar14,CONCAT22(uVar7,local_e))))))))));
        PTR_DAT_10a8_0000_10a8_578c = PTR_DAT_10a8_0000_10a8_578c + (int)dVar11 + 0x30;
        iVar8 = iVar8 + (int)PTR_DAT_10a8_0000_10a8_5794 * 10;
        HVar2 = GETDLGITEM(2,(int16)CONCAT214(in_stack_0000ffbe,
                                              CONCAT212(in_stack_0000ffbc,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT17(uVar18,CONCAT16(uVar17,CONCAT15(uVar15,
                                                  CONCAT14(uVar14,CONCAT22(uVar7,param_4))))))))));
        HVar4 = ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
        SETWINDOWPOS(0x44,HVar4,
                     (int16)CONCAT115(uVar18,CONCAT114(uVar17,CONCAT113(uVar15,CONCAT112(uVar14,
                                                  CONCAT210(uVar7,CONCAT28(HVar2,(qword)CONCAT24(
                                                  PTR_DAT_10a8_0000_10a8_578c +
                                                  (int)PTR_DAT_10a8_0000_10a8_885a + -0x98,
                                                  CONCAT22((iVar8 - HVar4) + -8,0x46)))))))),
                     (int16)CONCAT214(in_stack_0000ffc6,
                                      CONCAT212(in_stack_0000ffc4,
                                                CONCAT210(in_stack_0000ffc2,
                                                          CONCAT28(in_stack_0000ffc0,
                                                                   CONCAT26(in_stack_0000ffbe,
                                                                            CONCAT24(
                                                  in_stack_0000ffbc,CONCAT22(unaff_DI,unaff_SI))))))
                                     ),
                     (int16)CONCAT610(in_stack_0000ffd2,
                                      CONCAT64(in_stack_0000ffcc,
                                               CONCAT22(in_stack_0000ffca,in_stack_0000ffc8))),
                     (int16)CONCAT214(in_stack_0000ffe6,
                                      CONCAT212(in_stack_0000ffe4,
                                                CONCAT210(in_stack_0000ffe2,
                                                          CONCAT28(in_stack_0000ffe0,
                                                                   CONCAT26(in_stack_0000ffde,
                                                                            in_stack_0000ffd8))))),
                     in_stack_0000ffe8);
        HVar2 = GETDLGITEM(0x76,(int16)CONCAT214(in_stack_0000ffbe,
                                                 CONCAT212(in_stack_0000ffbc,
                                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT17(uVar18,CONCAT16(uVar17,CONCAT15(uVar15,
                                                  CONCAT14(uVar14,CONCAT22(uVar7,param_4))))))))));
        HVar4 = ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
        SETWINDOWPOS(0x44,HVar4,
                     (int16)CONCAT115(uVar18,CONCAT114(uVar17,CONCAT113(uVar15,CONCAT112(uVar14,
                                                  CONCAT210(uVar7,CONCAT28(HVar2,(qword)CONCAT24(
                                                  PTR_DAT_10a8_0000_10a8_578c +
                                                  (int)PTR_DAT_10a8_0000_10a8_885a + -0x4c,
                                                  CONCAT22((iVar8 - HVar4) + -8,0x46)))))))),
                     (int16)CONCAT214(in_stack_0000ffc6,
                                      CONCAT212(in_stack_0000ffc4,
                                                CONCAT210(in_stack_0000ffc2,
                                                          CONCAT28(in_stack_0000ffc0,
                                                                   CONCAT26(in_stack_0000ffbe,
                                                                            CONCAT24(
                                                  in_stack_0000ffbc,CONCAT22(unaff_DI,unaff_SI))))))
                                     ),
                     (int16)CONCAT610(in_stack_0000ffd2,
                                      CONCAT64(in_stack_0000ffcc,
                                               CONCAT22(in_stack_0000ffca,in_stack_0000ffc8))),
                     (int16)CONCAT214(in_stack_0000ffe6,
                                      CONCAT212(in_stack_0000ffe4,
                                                CONCAT210(in_stack_0000ffe2,
                                                          CONCAT28(in_stack_0000ffe0,
                                                                   CONCAT26(in_stack_0000ffde,
                                                                            in_stack_0000ffd8))))),
                     in_stack_0000ffe8);
        GETWINDOWRECT((HWND16)&stack0xffde,(RECT16 *)CONCAT22(param_4,unaff_SS));
        GETCLIENTRECT((HWND16)&stack0xffe6,(RECT16 *)CONCAT22(param_4,unaff_SS));
        SETWINDOWPOS(6,((iVar8 - in_stack_0000ffe0) - local_14) + in_stack_0000ffe4,
                     (int16)CONCAT115(uVar18,CONCAT114(uVar17,CONCAT113(uVar15,CONCAT112(uVar14,
                                                  CONCAT210(uVar7,CONCAT28(param_4,ZEXT28(
                                                  PTR_DAT_10a8_0000_10a8_578c +
                                                  ((in_stack_0000ffe2 - in_stack_0000ffde) -
                                                  local_16) + (int)PTR_DAT_10a8_0000_10a8_885a))))))
                                     ),
                     (int16)CONCAT214(in_stack_0000ffc6,
                                      CONCAT212(in_stack_0000ffc4,
                                                CONCAT210(in_stack_0000ffc2,
                                                          CONCAT28(in_stack_0000ffc0,
                                                                   CONCAT26(in_stack_0000ffbe,
                                                                            CONCAT24(
                                                  in_stack_0000ffbc,CONCAT22(unaff_DI,unaff_SI))))))
                                     ),
                     (int16)CONCAT610(in_stack_0000ffd2,
                                      CONCAT64(in_stack_0000ffcc,
                                               CONCAT22(in_stack_0000ffca,in_stack_0000ffc8))),
                     (int16)CONCAT214(in_stack_0000ffe6,
                                      CONCAT212(in_stack_0000ffe4,
                                                CONCAT210(in_stack_0000ffe2,
                                                          CONCAT28(in_stack_0000ffe0,
                                                                   CONCAT26(in_stack_0000ffde,
                                                                            in_stack_0000ffd8))))),
                     in_stack_0000ffe8);
        FUN_1018_5a04(param_4,(int *)0x41e0,1,unaff_SI,
                      (int16)CONCAT214(in_stack_0000ffc2,
                                       CONCAT212(in_stack_0000ffc0,
                                                 CONCAT210(in_stack_0000ffbe,
                                                           CONCAT28(in_stack_0000ffbc,
                                                                    CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT13(uVar18,CONCAT12(uVar17,CONCAT11(
                                                  uVar15,uVar14))))))))),in_stack_0000ffc4);
        SELECTOBJECT(__return_storage_ptr__,(HRGN16)local_e,unaff_SI,CONCAT11(uVar15,uVar14),
                     (int16)CONCAT214(in_stack_0000ffc4,
                                      CONCAT212(in_stack_0000ffc2,
                                                CONCAT210(in_stack_0000ffc0,
                                                          CONCAT28(in_stack_0000ffbe,
                                                                   CONCAT26(in_stack_0000ffbc,
                                                                            CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,CONCAT11(uVar18,uVar17)))))))));
        RELEASEDC(local_e,(HWND16)param_4,unaff_SI);
        _PTR_DAT_10a8_0000_10a8_5892 = 0;
        puVar5 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
        local_a = puVar5;
        local_8 = PTR_DAT_10a8_0000_10a8_006c;
        local_6 = PTR_DAT_10a8_0000_10a8_006a;
        local_4 = PTR_DAT_10a8_0000_10a8_006c;
        in_DX = PTR_DAT_10a8_0000_10a8_006c;
        for (puVar9 = PTR_DAT_10a8_0000_10a8_006a; puVar9 < puVar5; puVar9 = puVar9 + 0x3c) {
          if (*(undefined **)(puVar9 + 2) == PTR_DAT_10a8_0001_10a8_00c0) {
            uVar6 = FUN_1020_39d0((int)puVar9,local_4,(int)PTR_DAT_10a8_0001_10a8_00c0);
            in_DX = (undefined *)((int)uVar6 >> 0xf);
            _PTR_DAT_10a8_0000_10a8_5892 =
                 CONCAT22(in_DX + (uint)CARRY2((uint)PTR_DAT_10a8_0000_10a8_5892,uVar6) +
                                  (int)((ulong)_PTR_DAT_10a8_0000_10a8_5892 >> 0x10),
                          PTR_DAT_10a8_0000_10a8_5892 + uVar6);
          }
        }
        PTR_DAT_10a8_0000_10a8_57a2 =
             (undefined *)FUN_1070_3114((long)(int)PTR_DAT_10a8_0000_10a8_8856);
        PTR_DAT_10a8_0000_10a8_57a4 = in_DX;
        goto LAB_1070_0079;
      }
      if (param_3 == 0x111) {
        if ((((int)param_2 != 0) || (param_2 < 0x4310000)) || (0x436ffff < param_2)) {
          if (param_2._2_2_ == 2) {
            HVar2 = 0;
            iVar8 = (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76;
            if (((undefined *)(int)*(char *)((int)&DAT_10a8_888b + iVar8) !=
                 PTR_DAT_10a8_0000_10a8_8164) ||
               ((undefined *)(int)*(char *)((int)&DAT_10a8_888a + iVar8) !=
                PTR_DAT_10a8_0000_10a8_8856)) {
              *(undefined *)((int)&DAT_10a8_888a + iVar8) = PTR_DAT_10a8_0000_10a8_8856._0_1_;
              *(undefined *)((int)&DAT_10a8_888b + iVar8) = PTR_DAT_10a8_0000_10a8_8164._0_1_;
              local_10 = PTR_DAT_10a8_0000_10a8_8856 + (int)PTR_DAT_10a8_0000_10a8_8164 * 0x100;
              FUN_1020_4788(0x22,2,&local_10);
              HVar2 = 1;
              if (((DAT_10a8_0a47 & 0x40) != 0) && (PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0x0)
                 ) {
                DAT_10a8_8318 = DAT_10a8_8318 | 4;
                FUN_1090_88fa();
              }
            }
            FUN_1018_5a04(param_4,(int *)0x41e0,0,unaff_SI,
                          (int16)CONCAT214(in_stack_0000ffc8,
                                           CONCAT212(in_stack_0000ffc6,
                                                     CONCAT210(in_stack_0000ffc4,
                                                               CONCAT28(in_stack_0000ffc2,
                                                                        CONCAT26(in_stack_0000ffc0,
                                                                                 CONCAT24(
                                                  in_stack_0000ffbe,CONCAT22(iVar8,unaff_DI))))))),
                          in_stack_0000ffca);
            ENDDIALOG(HVar2,(int16)CONCAT214(in_stack_0000ffc4,
                                             CONCAT212(in_stack_0000ffc2,
                                                       CONCAT210(in_stack_0000ffc0,
                                                                 CONCAT28(in_stack_0000ffbe,
                                                                          CONCAT26(iVar8,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_4))))))));
          }
          else {
            if (param_2._2_2_ != 0x76) goto LAB_1070_0504;
            WINHELP(0x95,(LPCSTR)0x10000,
                    (uint16)CONCAT214(in_stack_0000ffc0,
                                      CONCAT212(in_stack_0000ffbe,
                                                CONCAT210(in_stack_0000ffbc,
                                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT15(uVar15,CONCAT14(uVar14,CONCAT13(0x10,
                                                  CONCAT12(0xa8,PTR_s_stars__hlp_10a8_00b2_10a8_00be
                                                          ))))))))));
          }
          goto LAB_1070_0079;
        }
        PTR_DAT_10a8_0000_10a8_8164 = (undefined *)(param_2._2_2_ - 0x431);
        GETCLIENTRECT((HWND16)&stack0xffe6,(RECT16 *)CONCAT13(uVar15,CONCAT12(uVar14,unaff_SS)));
        FUN_1070_0578(param_4,(int16 *)0x0,(int)&stack0xffe6,4);
      }
      else if ((param_3 == 0x201) || (param_3 == 0x203)) {
        uVar7 = FUN_1070_0f92(param_4,param_1,(int)param_2,bVar16);
        return CONCAT22(in_DX,uVar7);
      }
    }
  }
LAB_1070_0504:
  return ZEXT24(in_DX) << 0x10;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1070_0578(int16 *param_1,int16 *param_2,int param_3,uint param_4)

{
  char *pcVar1;
  undefined4 uVar2;
  char cVar3;
  int16 *__return_storage_ptr__;
  undefined2 uVar4;
  HDC16 HVar5;
  int16 *piVar6;
  undefined *puVar7;
  uint uVar8;
  long lVar9;
  uint uVar10;
  VA_LIST16 pWVar11;
  VA_LIST16 unaff_SI;
  int iVar12;
  int iVar13;
  undefined *puVar14;
  VA_LIST16 unaff_DI;
  char *pcVar15;
  VA_LIST16 unaff_SS;
  bool bVar16;
  COLORREF CVar17;
  COLORREF CVar18;
  dword dVar19;
  HRGN16 in_stack_0000ffba;
  undefined2 in_stack_0000ffbc;
  undefined2 in_stack_0000ffbe;
  undefined2 in_stack_0000ffc0;
  undefined2 in_stack_0000ffc2;
  undefined2 in_stack_0000ffc4;
  undefined2 in_stack_0000ffc6;
  undefined2 in_stack_0000ffc8;
  undefined2 in_stack_0000ffca;
  undefined2 in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  undefined2 in_stack_0000ffd2;
  undefined4 in_stack_0000ffd4;
  int in_stack_0000ffd8;
  undefined *in_stack_0000ffda;
  undefined *puVar20;
  int in_stack_0000ffdc;
  int in_stack_0000ffde;
  uint in_stack_0000ffe0;
  char in_stack_0000ffe2;
  undefined in_stack_0000ffe3;
  int in_stack_0000ffe4;
  int iVar21;
  char in_stack_0000ffea;
  undefined uVar22;
  char in_stack_0000ffeb;
  undefined uVar23;
  int in_stack_0000ffec;
  HDC16 hdc;
  int local_a;
  uint local_6;
  uint local_4;

  iVar21 = 0;
  if (param_2 == (int16 *)0x0) {
    iVar21 = 1;
    param_2 = (int16 *)GETDC((HWND16)param_1);
  }
  __return_storage_ptr__ =
       SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,
                    (HRGN16)unaff_DI,
                    (int16)CONCAT214(in_stack_0000ffc8,
                                     CONCAT212(in_stack_0000ffc6,
                                               CONCAT210(in_stack_0000ffc4,
                                                         CONCAT28(in_stack_0000ffc2,
                                                                  CONCAT26(in_stack_0000ffc0,
                                                                           CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,in_stack_0000ffba))))))
                                    ));
  CVar17 = SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_2) << 0x10));
  CVar18 = SETBKCOLOR((HDC16)_DAT_10a8_5714,CONCAT22(param_2,(int)((ulong)_DAT_10a8_5714 >> 0x10)));
  hdc = (HDC16)CVar18.value;
  if ((char)param_4 != '\0') {
    piVar6 = param_2;
    uVar4 = FUN_1018_5112(0x112);
    dVar19 = GETTEXTEXTENT(7,(LPCSTR)CONCAT22(0x10a8,uVar4),
                           (int16)CONCAT214(in_stack_0000ffc2,
                                            CONCAT212(in_stack_0000ffc0,
                                                      CONCAT210(in_stack_0000ffbe,
                                                                CONCAT28(in_stack_0000ffbc,
                                                                         CONCAT26(in_stack_0000ffba,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,piVar6))))))));
    SETRECT((RECT16 *)
            CONCAT22(PTR_DAT_10a8_0000_10a8_885a + -8,(int)PTR_DAT_10a8_0000_10a8_5794 * 0xd),
            (int16)CONCAT214(in_stack_0000ffbc,
                             CONCAT212(in_stack_0000ffba,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffd8,
                                                           CONCAT22(8,PTR_DAT_10a8_0000_10a8_5794)))
                                                  )))),
            (int16)CONCAT214(in_stack_0000ffcc,
                             CONCAT212(in_stack_0000ffca,
                                       CONCAT210(in_stack_0000ffc8,
                                                 CONCAT28(in_stack_0000ffc6,
                                                          CONCAT26(in_stack_0000ffc4,
                                                                   CONCAT24(in_stack_0000ffc2,
                                                                            CONCAT22(
                                                  in_stack_0000ffc0,in_stack_0000ffbe))))))),
            (int16)CONCAT214(in_stack_0000ffdc,
                             CONCAT212(in_stack_0000ffda,
                                       CONCAT210(in_stack_0000ffd8,
                                                 CONCAT46(in_stack_0000ffd4,
                                                          CONCAT24(in_stack_0000ffd2,
                                                                   CONCAT22(in_stack_0000ffd0,
                                                                            in_stack_0000ffce)))))),
            (int16)CONCAT214(in_stack_0000ffec,
                             CONCAT113(in_stack_0000ffeb,
                                       CONCAT112(in_stack_0000ffea,
                                                 CONCAT210(iVar21,CONCAT28(__return_storage_ptr__,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT15(in_stack_0000ffe3,
                                                           CONCAT14(in_stack_0000ffe2,
                                                                    CONCAT22(in_stack_0000ffe0,
                                                                             in_stack_0000ffde))))))
                                                ))));
    if ((param_4 & 3) != 0) {
      FUN_1018_5bba((undefined *)param_2,(undefined4 *)&stack0xffd8,-1,unaff_SI,unaff_DI,
                    in_stack_0000ffba,in_stack_0000ffbc,in_stack_0000ffbe,in_stack_0000ffc0,
                    in_stack_0000ffc2,in_stack_0000ffc4,in_stack_0000ffc6,in_stack_0000ffc8,
                    in_stack_0000ffca,in_stack_0000ffcc);
      HVar5 = FUN_1018_50de(0x34,(char *)&DAT_10a8_86de);
      TEXTOUT(HVar5,(int16)CONCAT214(in_stack_0000ffba,
                                     CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26
                                                  (in_stack_0000ffd8 + 8,
                                                   CONCAT24(-(((int)PTR_DAT_10a8_0000_10a8_5794 >> 1
                                                              ) - (int)in_stack_0000ffda),0x10a886de
                                                           )))))),
              (int16)CONCAT214(in_stack_0000ffca,
                               CONCAT212(in_stack_0000ffc8,
                                         CONCAT210(in_stack_0000ffc6,
                                                   CONCAT28(in_stack_0000ffc4,
                                                            CONCAT26(in_stack_0000ffc2,
                                                                     CONCAT24(in_stack_0000ffc0,
                                                                              CONCAT22(
                                                  in_stack_0000ffbe,in_stack_0000ffbc))))))),
              (LPCSTR)CONCAT22(in_stack_0000ffce,in_stack_0000ffcc),
              (int16)CONCAT214(in_stack_0000ffde,
                               CONCAT212(in_stack_0000ffdc,
                                         CONCAT210(in_stack_0000ffda,
                                                   CONCAT28(in_stack_0000ffd8,
                                                            CONCAT44(in_stack_0000ffd4,
                                                                     CONCAT22(in_stack_0000ffd2,
                                                                              in_stack_0000ffd0)))))
                              ));
      in_stack_0000ffda = in_stack_0000ffda + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
      iVar12 = -8 - ((int)dVar19 - in_stack_0000ffdc);
      piVar6 = param_2;
      puVar7 = in_stack_0000ffda;
      uVar4 = FUN_1018_5112(0x112);
      TEXTOUT(7,(int16)CONCAT214(in_stack_0000ffba,
                                 CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar6,CONCAT26(
                                                  iVar12,CONCAT24(in_stack_0000ffda,
                                                                  CONCAT22(0x10a8,uVar4))))))),
              (int16)CONCAT214(in_stack_0000ffca,
                               CONCAT212(in_stack_0000ffc8,
                                         CONCAT210(in_stack_0000ffc6,
                                                   CONCAT28(in_stack_0000ffc4,
                                                            CONCAT26(in_stack_0000ffc2,
                                                                     CONCAT24(in_stack_0000ffc0,
                                                                              CONCAT22(
                                                  in_stack_0000ffbe,in_stack_0000ffbc))))))),
              (LPCSTR)CONCAT22(in_stack_0000ffce,in_stack_0000ffcc),
              (int16)CONCAT214(in_stack_0000ffde,
                               CONCAT212(in_stack_0000ffdc,
                                         CONCAT210(puVar7,CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT44(in_stack_0000ffd4,
                                                                            CONCAT22(
                                                  in_stack_0000ffd2,in_stack_0000ffd0)))))));
      puVar7 = puVar7 + (int)PTR_DAT_10a8_0000_10a8_5794;
      iVar12 = in_stack_0000ffd8 + 0x1a;
      piVar6 = param_2;
      in_stack_0000ffda = puVar7;
      uVar4 = FUN_1018_5112(0x113);
      TEXTOUT(0xe,(int16)CONCAT214(in_stack_0000ffba,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar6,CONCAT26(
                                                  iVar12,CONCAT24(puVar7,CONCAT22(0x10a8,uVar4))))))
                                  ),
              (int16)CONCAT214(in_stack_0000ffca,
                               CONCAT212(in_stack_0000ffc8,
                                         CONCAT210(in_stack_0000ffc6,
                                                   CONCAT28(in_stack_0000ffc4,
                                                            CONCAT26(in_stack_0000ffc2,
                                                                     CONCAT24(in_stack_0000ffc0,
                                                                              CONCAT22(
                                                  in_stack_0000ffbe,in_stack_0000ffbc))))))),
              (LPCSTR)CONCAT22(in_stack_0000ffce,in_stack_0000ffcc),
              (int16)CONCAT214(in_stack_0000ffde,
                               CONCAT212(in_stack_0000ffdc,
                                         CONCAT210(in_stack_0000ffda,
                                                   CONCAT28(in_stack_0000ffd8,
                                                            CONCAT44(in_stack_0000ffd4,
                                                                     CONCAT22(in_stack_0000ffd2,
                                                                              in_stack_0000ffd0)))))
                              ));
      iVar13 = -8 - (((int)dVar19 >> 1) - in_stack_0000ffdc);
      FUN_1018_52da(param_2,iVar13,in_stack_0000ffda,(int)s_Level_10a8_41f4,
                    (int16 *)((int)&PTR_LOOP_10a8_0004 + 1),(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                    (int16)CONCAT214(in_stack_0000ffc8,
                                     CONCAT212(in_stack_0000ffc6,
                                               CONCAT210(in_stack_0000ffc4,
                                                         CONCAT28(in_stack_0000ffc2,
                                                                  CONCAT26(in_stack_0000ffc0,
                                                                           CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,in_stack_0000ffba))))))
                                    ));
      PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_2,CONCAT28(
                                                  in_stack_0000ffd8 + 8,
                                                  CONCAT26(in_stack_0000ffda +
                                                           (int)PTR_DAT_10a8_0000_10a8_5794,
                                                           CONCAT24((in_stack_0000ffdc -
                                                                    in_stack_0000ffd8) + -0x10,
                                                                    0x10000)))))),
             (int16)CONCAT214(in_stack_0000ffc8,
                              CONCAT212(in_stack_0000ffc6,
                                        CONCAT210(in_stack_0000ffc4,
                                                  CONCAT28(in_stack_0000ffc2,
                                                           CONCAT26(in_stack_0000ffc0,
                                                                    CONCAT24(in_stack_0000ffbe,
                                                                             CONCAT22(
                                                  in_stack_0000ffbc,in_stack_0000ffba))))))),
             (int16)CONCAT214(in_stack_0000ffd8,
                              CONCAT410(in_stack_0000ffd4,
                                        CONCAT28(in_stack_0000ffd2,
                                                 CONCAT26(in_stack_0000ffd0,
                                                          CONCAT24(in_stack_0000ffce,
                                                                   CONCAT22(in_stack_0000ffcc,
                                                                            in_stack_0000ffca)))))),
             (int16)CONCAT214(iVar21,CONCAT212(__return_storage_ptr__,
                                               CONCAT210(in_stack_0000ffe4,
                                                         CONCAT19(in_stack_0000ffe3,
                                                                  CONCAT18(in_stack_0000ffe2,
                                                                           CONCAT26(
                                                  in_stack_0000ffe0,
                                                  CONCAT24(in_stack_0000ffde,
                                                           CONCAT22(in_stack_0000ffdc,
                                                                    in_stack_0000ffda)))))))),
             CONCAT22(in_stack_0000ffec,CONCAT11(in_stack_0000ffeb,in_stack_0000ffea)));
      in_stack_0000ffda =
           in_stack_0000ffda +
           (int)(PTR_DAT_10a8_0000_10a8_5794 + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 2) + 2);
      iVar12 = 0;
      do {
        piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x41fa10a8,
                           (LPCSTR)CONCAT22((int)*(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 +
                                                           iVar12 + -0x7788),0x10a8),unaff_SI);
        FUN_1018_52da(param_2,iVar13,in_stack_0000ffda,(int)&DAT_10a8_86de,piVar6,
                      (LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                      (int16)CONCAT214(in_stack_0000ffc8,
                                       CONCAT212(in_stack_0000ffc6,
                                                 CONCAT210(in_stack_0000ffc4,
                                                           CONCAT28(in_stack_0000ffc2,
                                                                    CONCAT26(in_stack_0000ffc0,
                                                                             CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,in_stack_0000ffba))))))
                                      ));
        in_stack_0000ffda = in_stack_0000ffda + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
        iVar12 = iVar12 + 1;
      } while (iVar12 < 6);
    }
    SETRECT((RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_885a + -8,*(int *)(param_3 + 6) + -8),
            (int16)CONCAT214(in_stack_0000ffbc,
                             CONCAT212(in_stack_0000ffba,
                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(unaff_SS,
                                                  CONCAT24(&stack0xffd8,
                                                           CONCAT22(8,((int)
                                                  PTR_DAT_10a8_0000_10a8_5794 * 3) / 2 +
                                                  in_stack_0000ffde))))))),
            (int16)CONCAT214(in_stack_0000ffcc,
                             CONCAT212(in_stack_0000ffca,
                                       CONCAT210(in_stack_0000ffc8,
                                                 CONCAT28(in_stack_0000ffc6,
                                                          CONCAT26(in_stack_0000ffc4,
                                                                   CONCAT24(in_stack_0000ffc2,
                                                                            CONCAT22(
                                                  in_stack_0000ffc0,in_stack_0000ffbe))))))),
            (int16)CONCAT214(in_stack_0000ffdc,
                             CONCAT212(in_stack_0000ffda,
                                       CONCAT210(in_stack_0000ffd8,
                                                 CONCAT46(in_stack_0000ffd4,
                                                          CONCAT24(in_stack_0000ffd2,
                                                                   CONCAT22(in_stack_0000ffd0,
                                                                            in_stack_0000ffce)))))),
            (int16)CONCAT214(in_stack_0000ffec,
                             CONCAT113(in_stack_0000ffeb,
                                       CONCAT112(in_stack_0000ffea,
                                                 CONCAT210(iVar21,CONCAT28(__return_storage_ptr__,
                                                                           CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT15(in_stack_0000ffe3,
                                                           CONCAT14(in_stack_0000ffe2,
                                                                    CONCAT22(in_stack_0000ffe0,
                                                                             in_stack_0000ffde))))))
                                                ))));
    if (((param_4 & 4) == 0) || ((param_4 & 3) != 0)) {
      FUN_1018_5bba((undefined *)param_2,(undefined4 *)&stack0xffd8,-1,unaff_SI,unaff_DI,
                    in_stack_0000ffba,in_stack_0000ffbc,in_stack_0000ffbe,in_stack_0000ffc0,
                    in_stack_0000ffc2,in_stack_0000ffc4,in_stack_0000ffc6,in_stack_0000ffc8,
                    in_stack_0000ffca,in_stack_0000ffcc);
      HVar5 = FUN_1018_50de(0x35,(char *)&DAT_10a8_86de);
      TEXTOUT(HVar5,(int16)CONCAT214(in_stack_0000ffba,
                                     CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26
                                                  (in_stack_0000ffd8 + 8,
                                                   CONCAT24(-(((int)PTR_DAT_10a8_0000_10a8_5794 >> 1
                                                              ) - (int)in_stack_0000ffda),0x10a886de
                                                           )))))),
              (int16)CONCAT214(in_stack_0000ffca,
                               CONCAT212(in_stack_0000ffc8,
                                         CONCAT210(in_stack_0000ffc6,
                                                   CONCAT28(in_stack_0000ffc4,
                                                            CONCAT26(in_stack_0000ffc2,
                                                                     CONCAT24(in_stack_0000ffc0,
                                                                              CONCAT22(
                                                  in_stack_0000ffbe,in_stack_0000ffbc))))))),
              (LPCSTR)CONCAT22(in_stack_0000ffce,in_stack_0000ffcc),
              (int16)CONCAT214(in_stack_0000ffde,
                               CONCAT212(in_stack_0000ffdc,
                                         CONCAT210(in_stack_0000ffda,
                                                   CONCAT28(in_stack_0000ffd8,
                                                            CONCAT44(in_stack_0000ffd4,
                                                                     CONCAT22(in_stack_0000ffd2,
                                                                              in_stack_0000ffd0)))))
                              ));
      in_stack_0000ffea = *(char *)((int)&DAT_10a8_888b + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
      in_stack_0000ffeb = in_stack_0000ffea >> 7;
      PTR_DAT_10a8_0000_10a8_7b44 = PTR_DAT_10a8_0000_10a8_5794 + (int)in_stack_0000ffda;
      iVar12 = 0;
      PTR_DAT_10a8_0000_10a8_5922 = (undefined *)0x0;
      do {
        if (iVar12 == 0) {
          SETTEXTCOLOR(0x7f00,(COLORREF)(ZEXT24(param_2) << 0x10));
          in_stack_0000ffec = 1;
          local_a = 1;
        }
        else if (iVar12 == 1) {
          SETTEXTCOLOR(0,(COLORREF)CONCAT22(param_2,0x7f));
          local_a = 2;
          in_stack_0000ffec = 4;
        }
        else if (iVar12 == 2) {
          SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_2) << 0x10));
          local_a = 5;
          in_stack_0000ffec = 10;
        }
        *(undefined *)((int)&DAT_10a8_888b + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) =
             PTR_DAT_10a8_0000_10a8_8164._0_1_;
        uVar8 = 1;
        do {
          if (uVar8 != 0) {
            cVar3 = '\0';
            in_stack_0000ffe0 = uVar8;
            while (in_stack_0000ffe2 = cVar3, iVar13 = FUN_1060_32b2((uint *)&stack0xffe0),
                  iVar13 != 0) {
              if ((local_a <= iVar13 + -1) && (iVar13 + -1 <= in_stack_0000ffec)) {
                in_stack_0000ffda = in_stack_0000ffda + (int)PTR_DAT_10a8_0000_10a8_5794;
                if (in_stack_0000ffde < (int)(PTR_DAT_10a8_0000_10a8_5794 + (int)in_stack_0000ffda))
                goto LAB_1070_093c;
                uVar10 = 0xffff;
                pcVar15 = (char *)(in_stack_0000ffe4 + 8);
                do {
                  if (uVar10 == 0) break;
                  uVar10 = uVar10 - 1;
                  pcVar1 = pcVar15;
                  pcVar15 = pcVar15 + 1;
                } while (*pcVar1 != '\0');
                TEXTOUT(~uVar10 - 1,
                        (int16)CONCAT214(in_stack_0000ffba,
                                         CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,
                                                  CONCAT26(in_stack_0000ffd8 + 8,
                                                           CONCAT24(in_stack_0000ffda,
                                                                    CONCAT22(0x10a8,(char *)(
                                                  in_stack_0000ffe4 + 8)))))))),
                        (int16)CONCAT214(in_stack_0000ffca,
                                         CONCAT212(in_stack_0000ffc8,
                                                   CONCAT210(in_stack_0000ffc6,
                                                             CONCAT28(in_stack_0000ffc4,
                                                                      CONCAT26(in_stack_0000ffc2,
                                                                               CONCAT24(
                                                  in_stack_0000ffc0,
                                                  CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc))))))
                                        ),(LPCSTR)CONCAT22(in_stack_0000ffce,in_stack_0000ffcc),
                        (int16)CONCAT214(in_stack_0000ffde,
                                         CONCAT212(in_stack_0000ffdc,
                                                   CONCAT210(in_stack_0000ffda,
                                                             CONCAT28(in_stack_0000ffd8,
                                                                      CONCAT44(in_stack_0000ffd4,
                                                                               CONCAT22(
                                                  in_stack_0000ffd2,in_stack_0000ffd0)))))));
                if ((int)PTR_DAT_10a8_0000_10a8_5922 < 8) {
                  iVar13 = (int)PTR_DAT_10a8_0000_10a8_5922 * 4;
                  *(uint *)((int)&PTR_DAT_10a8_0000_10a8_7c12 + iVar13) = in_stack_0000ffe0;
                  *(undefined2 *)((int)&PTR_DAT_10a8_0000_10a8_7c14 + iVar13) =
                       CONCAT11(in_stack_0000ffe3,in_stack_0000ffe2);
                  PTR_DAT_10a8_0000_10a8_5922 = PTR_DAT_10a8_0000_10a8_5922 + 1;
                }
              }
              cVar3 = cVar3 + '\x01';
            }
          }
          uVar8 = uVar8 * 2;
        } while (uVar8 != 0);
        iVar12 = iVar12 + 1;
      } while (iVar12 < 3);
LAB_1070_093c:
      *(char *)((int)&DAT_10a8_888b + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) = in_stack_0000ffea;
      SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_2) << 0x10));
    }
    else {
      FUN_1018_5948((int *)&stack0xffd8,-6,-((int)PTR_DAT_10a8_0000_10a8_5794 >> 1));
      in_stack_0000ffda = in_stack_0000ffda + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
      INVALIDATERECT(1,(RECT16 *)&stack0xffd8,(bool16)unaff_SS);
    }
  }
  SETRECT((RECT16 *)
          CONCAT22(PTR_DAT_10a8_0000_10a8_578c + (int)PTR_DAT_10a8_0000_10a8_885a + -8,
                   PTR_DAT_10a8_0000_10a8_5794 + ((int)PTR_DAT_10a8_0000_10a8_5794 * 0xb) / 2),
          (int16)CONCAT214(in_stack_0000ffbe,
                           CONCAT212(in_stack_0000ffbc,
                                     CONCAT210(in_stack_0000ffba,
                                               CONCAT28(unaff_DI,CONCAT26(unaff_SS,CONCAT24(&
                                                  stack0xffd8,
                                                  CONCAT22(PTR_DAT_10a8_0000_10a8_885a + 8,
                                                           PTR_DAT_10a8_0000_10a8_5794))))))),
          (int16)CONCAT214(in_stack_0000ffce,
                           CONCAT212(in_stack_0000ffcc,
                                     CONCAT210(in_stack_0000ffca,
                                               CONCAT28(in_stack_0000ffc8,
                                                        CONCAT26(in_stack_0000ffc6,
                                                                 CONCAT24(in_stack_0000ffc4,
                                                                          CONCAT22(in_stack_0000ffc2
                                                                                   ,
                                                  in_stack_0000ffc0))))))),
          (int16)CONCAT214(in_stack_0000ffde,
                           CONCAT212(in_stack_0000ffdc,
                                     CONCAT210(in_stack_0000ffda,
                                               CONCAT28(in_stack_0000ffd8,
                                                        CONCAT44(in_stack_0000ffd4,
                                                                 CONCAT22(in_stack_0000ffd2,
                                                                          in_stack_0000ffd0)))))),
          (int16)CONCAT214(hdc,CONCAT212(in_stack_0000ffec,
                                         CONCAT111(in_stack_0000ffeb,
                                                   CONCAT110(in_stack_0000ffea,
                                                             CONCAT28(iVar21,CONCAT26(
                                                  __return_storage_ptr__,
                                                  CONCAT24(in_stack_0000ffe4,
                                                           CONCAT13(in_stack_0000ffe3,
                                                                    CONCAT12(in_stack_0000ffe2,
                                                                             in_stack_0000ffe0))))))
                                                  ))));
  puVar14 = PTR_DAT_10a8_0000_10a8_8306 + in_stack_0000ffd8 + 8;
  dVar19 = GETTEXTEXTENT(6,(LPCSTR)0x10a841fd,
                         (int16)CONCAT214(in_stack_0000ffc4,
                                          CONCAT212(in_stack_0000ffc2,
                                                    CONCAT210(in_stack_0000ffc0,
                                                              CONCAT28(in_stack_0000ffbe,
                                                                       CONCAT26(in_stack_0000ffbc,
                                                                                CONCAT24(
                                                  in_stack_0000ffba,CONCAT22(unaff_DI,param_2)))))))
                        );
  iVar12 = (int)(dVar19 >> 0x10);
  puVar7 = puVar14 + (int)dVar19;
  if (((param_4 & 4) != 0) && ((param_4 & 3) == 0)) {
    FUN_1018_5948((int *)&stack0xffd8,-6,-((int)PTR_DAT_10a8_0000_10a8_5794 >> 1));
    INVALIDATERECT(1,(RECT16 *)&stack0xffd8,(bool16)unaff_SS);
    goto LAB_1070_0f59;
  }
  if ((param_4 & 0x300) != 0) {
    if ((char)PTR_DAT_10a8_0000_10a8_8164[(int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x7788] < '\n')
    {
      uVar8 = FUN_1070_10f4((int)PTR_DAT_10a8_0000_10a8_8164,
                            (char)PTR_DAT_10a8_0000_10a8_8164
                                  [(int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x7788] + 1,
                            (int)PTR_DAT_10a8_0001_10a8_00c0);
      local_6 = *(uint *)((int)(PTR_DAT_10a8_0000_10a8_8164 +
                               (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x3b) * 2 + -0x7782);
      local_4 = 0;
      if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 2) != 0) {
        bVar16 = CARRY2(local_6,local_6);
        local_6 = local_6 * 2;
        local_4 = (uint)bVar16;
      }
      iVar13 = uVar8 - local_6;
      pWVar11 = (VA_LIST16)((iVar12 - local_4) - (uint)(uVar8 < local_6));
      if (((int)pWVar11 < 1) && ((int)pWVar11 < 0)) {
        pWVar11 = (VA_LIST16)0x0;
        iVar13 = 0;
      }
      uVar22 = (undefined)iVar13;
      uVar23 = (undefined)((uint)iVar13 >> 8);
    }
    else {
      uVar22 = 0xff;
      uVar23 = 0xff;
      pWVar11 = (VA_LIST16)0xffff;
    }
    if (((param_4 & 0x200) == 0) || ((param_4 & 0xf) != 0)) {
      FUN_1018_5bba((undefined *)param_2,(undefined4 *)&stack0xffd8,-1,unaff_DI,in_stack_0000ffba,
                    in_stack_0000ffbc,in_stack_0000ffbe,in_stack_0000ffc0,in_stack_0000ffc2,
                    in_stack_0000ffc4,in_stack_0000ffc6,in_stack_0000ffc8,in_stack_0000ffca,
                    in_stack_0000ffcc,in_stack_0000ffce);
      HVar5 = FUN_1018_50de(0x36,(char *)&DAT_10a8_86de);
      TEXTOUT(HVar5,(int16)CONCAT214(in_stack_0000ffbc,
                                     CONCAT212(in_stack_0000ffba,
                                               CONCAT210(unaff_DI,CONCAT28(param_2,CONCAT26(
                                                  in_stack_0000ffd8 + 8,
                                                  CONCAT24(-(((int)PTR_DAT_10a8_0000_10a8_5794 >> 1)
                                                            - (int)in_stack_0000ffda),0x10a886de))))
                                              )),
              (int16)CONCAT214(in_stack_0000ffcc,
                               CONCAT212(in_stack_0000ffca,
                                         CONCAT210(in_stack_0000ffc8,
                                                   CONCAT28(in_stack_0000ffc6,
                                                            CONCAT26(in_stack_0000ffc4,
                                                                     CONCAT24(in_stack_0000ffc2,
                                                                              CONCAT22(
                                                  in_stack_0000ffc0,in_stack_0000ffbe))))))),
              (LPCSTR)CONCAT22(in_stack_0000ffd0,in_stack_0000ffce),
              (int16)CONCAT214(in_stack_0000ffe0,
                               CONCAT212(in_stack_0000ffde,
                                         CONCAT210(in_stack_0000ffdc,
                                                   CONCAT28(in_stack_0000ffda,
                                                            CONCAT26(in_stack_0000ffd8,
                                                                     CONCAT42(in_stack_0000ffd4,
                                                                              in_stack_0000ffd2)))))
                              ));
      in_stack_0000ffda = in_stack_0000ffda + (int)PTR_DAT_10a8_0000_10a8_5794;
      FUN_1018_50de((uint)(PTR_DAT_10a8_0000_10a8_8164 + 0x41),&stack0xffba);
      piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x420410a8,
                         (LPCSTR)CONCAT22(&stack0xffba,0x10a8),unaff_SS);
      FUN_1018_55f6(param_2,(int)puVar14,(int)in_stack_0000ffda,(int)&DAT_10a8_86de,piVar6,0,
                    CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                    CONCAT212(in_stack_0000ffca,
                              CONCAT210(in_stack_0000ffc8,
                                        CONCAT28(in_stack_0000ffc6,
                                                 CONCAT26(in_stack_0000ffc4,
                                                          CONCAT24(in_stack_0000ffc2,
                                                                   CONCAT22(in_stack_0000ffc0,
                                                                            in_stack_0000ffbe)))))))
      ;
      in_stack_0000ffda = in_stack_0000ffda + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
      piVar6 = (int16 *)0x0;
      iVar12 = 0;
      uVar4 = FUN_1018_5112(0x3b);
      FUN_1018_55f6(param_2,(int)puVar14,(int)in_stack_0000ffda,uVar4,piVar6,iVar12,
                    CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                    CONCAT212(in_stack_0000ffca,
                              CONCAT210(in_stack_0000ffc8,
                                        CONCAT28(in_stack_0000ffc6,
                                                 CONCAT26(in_stack_0000ffc4,
                                                          CONCAT24(in_stack_0000ffc2,
                                                                   CONCAT22(in_stack_0000ffc0,
                                                                            in_stack_0000ffbe)))))))
      ;
      piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x421610a8,
                         (LPCSTR)CONCAT22(CONCAT11(uVar23,uVar22),0x10a8),pWVar11);
      if (CONCAT22(pWVar11,CONCAT11(uVar23,uVar22)) == -1) {
        uVar4 = SUB42(s_Maxed_Out_10a8_421a,0);
        piVar6 = (int16 *)0x9;
      }
      else {
        uVar4 = SUB42(&DAT_10a8_86de,0);
      }
      TEXTOUT((HDC16)piVar6,
              (int16)CONCAT214(in_stack_0000ffbc,
                               CONCAT212(in_stack_0000ffba,
                                         CONCAT210(unaff_DI,CONCAT28(param_2,CONCAT26(puVar14,
                                                  CONCAT24(in_stack_0000ffda,CONCAT22(0x10a8,uVar4))
                                                  ))))),
              (int16)CONCAT214(in_stack_0000ffcc,
                               CONCAT212(in_stack_0000ffca,
                                         CONCAT210(in_stack_0000ffc8,
                                                   CONCAT28(in_stack_0000ffc6,
                                                            CONCAT26(in_stack_0000ffc4,
                                                                     CONCAT24(in_stack_0000ffc2,
                                                                              CONCAT22(
                                                  in_stack_0000ffc0,in_stack_0000ffbe))))))),
              (LPCSTR)CONCAT22(in_stack_0000ffd0,in_stack_0000ffce),
              (int16)CONCAT214(in_stack_0000ffe0,
                               CONCAT212(in_stack_0000ffde,
                                         CONCAT210(in_stack_0000ffdc,
                                                   CONCAT28(in_stack_0000ffda,
                                                            CONCAT26(in_stack_0000ffd8,
                                                                     CONCAT42(in_stack_0000ffd4,
                                                                              in_stack_0000ffd2)))))
                              ));
      in_stack_0000ffda = in_stack_0000ffda + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
      piVar6 = (int16 *)0x0;
      iVar12 = 0;
      uVar4 = FUN_1018_5112(0x3c);
      FUN_1018_55f6(param_2,(int)puVar14,(int)in_stack_0000ffda,uVar4,piVar6,iVar12,
                    CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                    CONCAT212(in_stack_0000ffca,
                              CONCAT210(in_stack_0000ffc8,
                                        CONCAT28(in_stack_0000ffc6,
                                                 CONCAT26(in_stack_0000ffc4,
                                                          CONCAT24(in_stack_0000ffc2,
                                                                   CONCAT22(in_stack_0000ffc0,
                                                                            in_stack_0000ffbe)))))))
      ;
    }
    else {
      in_stack_0000ffda =
           in_stack_0000ffda +
           (int)(PTR_DAT_10a8_0000_10a8_5794 + (((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2) * 2);
      piVar6 = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HRGN16)param_2,(HRGN16)unaff_DI,
                            in_stack_0000ffba,
                            (int16)CONCAT214(in_stack_0000ffca,
                                             CONCAT212(in_stack_0000ffc8,
                                                       CONCAT210(in_stack_0000ffc6,
                                                                 CONCAT28(in_stack_0000ffc4,
                                                                          CONCAT26(in_stack_0000ffc2
                                                                                   ,CONCAT24(
                                                  in_stack_0000ffc0,
                                                  CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc))))))
                                            ));
      PATBLT(0x21,(int16)CONCAT214(in_stack_0000ffba,
                                   CONCAT212(unaff_DI,CONCAT210(param_2,CONCAT28(puVar14,CONCAT26(
                                                  in_stack_0000ffda,
                                                  CONCAT24((int)puVar7 - (int)puVar14,
                                                           CONCAT22(PTR_DAT_10a8_0000_10a8_5794,0xf0
                                                                   ))))))),
             (int16)CONCAT214(in_stack_0000ffca,
                              CONCAT212(in_stack_0000ffc8,
                                        CONCAT210(in_stack_0000ffc6,
                                                  CONCAT28(in_stack_0000ffc4,
                                                           CONCAT26(in_stack_0000ffc2,
                                                                    CONCAT24(in_stack_0000ffc0,
                                                                             CONCAT22(
                                                  in_stack_0000ffbe,in_stack_0000ffbc))))))),
             (int16)CONCAT214(in_stack_0000ffda,
                              CONCAT212(in_stack_0000ffd8,
                                        CONCAT48(in_stack_0000ffd4,
                                                 CONCAT26(in_stack_0000ffd2,
                                                          CONCAT24(in_stack_0000ffd0,
                                                                   CONCAT22(in_stack_0000ffce,
                                                                            in_stack_0000ffcc)))))),
             (int16)CONCAT115(uVar23,CONCAT114(uVar22,CONCAT212(iVar21,CONCAT210(
                                                  __return_storage_ptr__,
                                                  CONCAT28(in_stack_0000ffe4,
                                                           CONCAT17(in_stack_0000ffe3,
                                                                    CONCAT16(in_stack_0000ffe2,
                                                                             CONCAT24(
                                                  in_stack_0000ffe0,
                                                  CONCAT22(in_stack_0000ffde,in_stack_0000ffdc))))))
                                                  ))),CONCAT22(hdc,pWVar11));
      SELECTOBJECT(piVar6,(HRGN16)param_2,(HRGN16)unaff_DI,in_stack_0000ffba,
                   (int16)CONCAT214(in_stack_0000ffca,
                                    CONCAT212(in_stack_0000ffc8,
                                              CONCAT210(in_stack_0000ffc6,
                                                        CONCAT28(in_stack_0000ffc4,
                                                                 CONCAT26(in_stack_0000ffc2,
                                                                          CONCAT24(in_stack_0000ffc0
                                                                                   ,CONCAT22(
                                                  in_stack_0000ffbe,in_stack_0000ffbc))))))));
    }
    if (CONCAT22(pWVar11,CONCAT11(uVar23,uVar22)) == -1) {
      uVar4 = SUB42(s_Maxed_Out_10a8_4224,0);
LAB_1070_0c3f:
      piVar6 = (int16 *)0x9;
    }
    else {
      if (CONCAT22(pWVar11,CONCAT11(uVar23,uVar22)) == 0) {
        uVar22 = 1;
        uVar23 = 0;
        pWVar11 = (VA_LIST16)0x0;
      }
      else {
        if (_PTR_DAT_10a8_0000_10a8_57a2 == 0) {
          uVar4 = SUB42(s_Never_10a8_422e,0);
          goto LAB_1070_0c3f;
        }
        lVar9 = (CONCAT22(pWVar11,CONCAT11(uVar23,uVar22)) + _PTR_DAT_10a8_0000_10a8_57a2 + -1) /
                _PTR_DAT_10a8_0000_10a8_57a2;
        uVar22 = (undefined)lVar9;
        uVar23 = (undefined)((ulong)lVar9 >> 8);
        pWVar11 = (VA_LIST16)((ulong)lVar9 >> 0x10);
      }
      piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x423810a8,
                         (LPCSTR)CONCAT22(CONCAT11(uVar23,uVar22),0x10a8),pWVar11);
      uVar4 = SUB42(&DAT_10a8_86de,0);
    }
    TEXTOUT((HDC16)piVar6,
            (int16)CONCAT214(in_stack_0000ffbc,
                             CONCAT212(in_stack_0000ffba,
                                       CONCAT210(unaff_DI,CONCAT28(param_2,CONCAT26(puVar14,CONCAT24
                                                  (in_stack_0000ffda,CONCAT22(0x10a8,uVar4))))))),
            (int16)CONCAT214(in_stack_0000ffcc,
                             CONCAT212(in_stack_0000ffca,
                                       CONCAT210(in_stack_0000ffc8,
                                                 CONCAT28(in_stack_0000ffc6,
                                                          CONCAT26(in_stack_0000ffc4,
                                                                   CONCAT24(in_stack_0000ffc2,
                                                                            CONCAT22(
                                                  in_stack_0000ffc0,in_stack_0000ffbe))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffd0,in_stack_0000ffce),
            (int16)CONCAT214(in_stack_0000ffe0,
                             CONCAT212(in_stack_0000ffde,
                                       CONCAT210(in_stack_0000ffdc,
                                                 CONCAT28(in_stack_0000ffda,
                                                          CONCAT26(in_stack_0000ffd8,
                                                                   CONCAT42(in_stack_0000ffd4,
                                                                            in_stack_0000ffd2)))))))
    ;
  }
  in_stack_0000ffde = ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2 + in_stack_0000ffde;
  iVar12 = (int)PTR_DAT_10a8_0000_10a8_5794 * 8 + in_stack_0000ffde;
  if ((param_4 & 0x400) != 0) {
    FUN_1018_5bba((undefined *)param_2,(undefined4 *)&stack0xffd8,-1,unaff_DI,in_stack_0000ffba,
                  in_stack_0000ffbc,in_stack_0000ffbe,in_stack_0000ffc0,in_stack_0000ffc2,
                  in_stack_0000ffc4,in_stack_0000ffc6,in_stack_0000ffc8,in_stack_0000ffca,
                  in_stack_0000ffcc,in_stack_0000ffce);
    HVar5 = FUN_1018_50de(0x37,(char *)&DAT_10a8_86de);
    TEXTOUT(HVar5,(int16)CONCAT214(in_stack_0000ffbc,
                                   CONCAT212(in_stack_0000ffba,
                                             CONCAT210(unaff_DI,CONCAT28(param_2,CONCAT26(
                                                  in_stack_0000ffd8 + 8,
                                                  CONCAT24(-(((int)PTR_DAT_10a8_0000_10a8_5794 >> 1)
                                                            - in_stack_0000ffde),0x10a886de)))))),
            (int16)CONCAT214(in_stack_0000ffcc,
                             CONCAT212(in_stack_0000ffca,
                                       CONCAT210(in_stack_0000ffc8,
                                                 CONCAT28(in_stack_0000ffc6,
                                                          CONCAT26(in_stack_0000ffc4,
                                                                   CONCAT24(in_stack_0000ffc2,
                                                                            CONCAT22(
                                                  in_stack_0000ffc0,in_stack_0000ffbe))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffd0,in_stack_0000ffce),
            (int16)CONCAT214(in_stack_0000ffe0,
                             CONCAT212(iVar12,CONCAT210(in_stack_0000ffdc,
                                                        CONCAT28(in_stack_0000ffde,
                                                                 CONCAT26(in_stack_0000ffd8,
                                                                          CONCAT42(in_stack_0000ffd4
                                                                                   ,
                                                  in_stack_0000ffd2)))))));
  }
  puVar20 = PTR_DAT_10a8_0000_10a8_5794 + in_stack_0000ffde;
  if ((param_4 & 0x800) != 0) {
    piVar6 = (int16 *)0x0;
    iVar13 = 0;
    uVar4 = FUN_1018_5112(0x3d);
    FUN_1018_55f6(param_2,(int)puVar14,(int)puVar20,uVar4,piVar6,iVar13,
                  CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                  CONCAT212(in_stack_0000ffca,
                            CONCAT210(in_stack_0000ffc8,
                                      CONCAT28(in_stack_0000ffc6,
                                               CONCAT26(in_stack_0000ffc4,
                                                        CONCAT24(in_stack_0000ffc2,
                                                                 CONCAT22(in_stack_0000ffc0,
                                                                          in_stack_0000ffbe)))))));
    piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x424610a8,
                       (LPCSTR)CONCAT22((int)_PTR_DAT_10a8_0000_10a8_5892,0x10a8),
                       (VA_LIST16)((ulong)_PTR_DAT_10a8_0000_10a8_5892 >> 0x10));
    FUN_1018_55f6(param_2,(int)puVar7,(int)puVar20,(int)&DAT_10a8_86de,piVar6,0,
                  CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                  CONCAT212(in_stack_0000ffca,
                            CONCAT210(in_stack_0000ffc8,
                                      CONCAT28(in_stack_0000ffc6,
                                               CONCAT26(in_stack_0000ffc4,
                                                        CONCAT24(in_stack_0000ffc2,
                                                                 CONCAT22(in_stack_0000ffc0,
                                                                          in_stack_0000ffbe)))))));
  }
  puVar20 = puVar20 + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
  if ((param_4 & 0x1000) != 0) {
    piVar6 = (int16 *)0x0;
    iVar13 = 0;
    uVar4 = FUN_1018_5112(0x3e);
    FUN_1018_55f6(param_2,(int)puVar14,(int)puVar20,uVar4,piVar6,iVar13,
                  CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                  CONCAT212(in_stack_0000ffca,
                            CONCAT210(in_stack_0000ffc8,
                                      CONCAT28(in_stack_0000ffc6,
                                               CONCAT26(in_stack_0000ffc4,
                                                        CONCAT24(in_stack_0000ffc2,
                                                                 CONCAT22(in_stack_0000ffc0,
                                                                          in_stack_0000ffbe)))))));
    uVar2 = *(undefined4 *)
             ((int)&PTR_DAT_10a8_0000_10a8_888c + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76);
    piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x424a10a8,(LPCSTR)CONCAT22((int)uVar2,0x10a8)
                       ,(VA_LIST16)((ulong)uVar2 >> 0x10));
    FUN_1018_55f6(param_2,(int)puVar7,(int)puVar20,(int)&DAT_10a8_86de,piVar6,0,
                  CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                  CONCAT212(in_stack_0000ffca,
                            CONCAT210(in_stack_0000ffc8,
                                      CONCAT28(in_stack_0000ffc6,
                                               CONCAT26(in_stack_0000ffc4,
                                                        CONCAT24(in_stack_0000ffc2,
                                                                 CONCAT22(in_stack_0000ffc0,
                                                                          in_stack_0000ffbe)))))));
  }
  puVar20 = puVar20 + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
  local_4 = 0;
  if ((param_4 & 0x2000) == 0) {
    if (((param_4 & 0x4000) != 0) && ((param_4 & 0xf) == 0)) {
      dVar19 = GETTEXTEXTENT(3,(LPCSTR)0x10a8424e,
                             (int16)CONCAT214(in_stack_0000ffc4,
                                              CONCAT212(in_stack_0000ffc2,
                                                        CONCAT210(in_stack_0000ffc0,
                                                                  CONCAT28(in_stack_0000ffbe,
                                                                           CONCAT26(
                                                  in_stack_0000ffbc,
                                                  CONCAT24(in_stack_0000ffba,
                                                           CONCAT22(unaff_DI,param_2))))))));
      local_4 = (uint)dVar19;
    }
  }
  else {
    piVar6 = (int16 *)0x0;
    iVar13 = 0;
    uVar4 = FUN_1018_5112(0x3f);
    FUN_1018_55f6(param_2,(int)puVar14,(int)puVar20,uVar4,piVar6,iVar13,
                  CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                  CONCAT212(in_stack_0000ffca,
                            CONCAT210(in_stack_0000ffc8,
                                      CONCAT28(in_stack_0000ffc6,
                                               CONCAT26(in_stack_0000ffc4,
                                                        CONCAT24(in_stack_0000ffc2,
                                                                 CONCAT22(in_stack_0000ffc0,
                                                                          in_stack_0000ffbe)))))));
  }
  piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x425210a8,
                     (LPCSTR)CONCAT22(PTR_DAT_10a8_0000_10a8_8856,0x10a8),unaff_DI);
  FUN_1018_55f6(param_2,(int)puVar7,(int)puVar20,(int)&DAT_10a8_86de,piVar6,local_4,
                CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                CONCAT212(in_stack_0000ffca,
                          CONCAT210(in_stack_0000ffc8,
                                    CONCAT28(in_stack_0000ffc6,
                                             CONCAT26(in_stack_0000ffc4,
                                                      CONCAT24(in_stack_0000ffc2,
                                                               CONCAT22(in_stack_0000ffc0,
                                                                        in_stack_0000ffbe)))))));
  if (((param_4 & 0x4000) == 0) || ((param_4 & 0xf) != 0)) {
    dVar19 = GETTEXTEXTENT(1,(LPCSTR)0x10a84255,
                           (int16)CONCAT214(in_stack_0000ffc4,
                                            CONCAT212(in_stack_0000ffc2,
                                                      CONCAT210(in_stack_0000ffc0,
                                                                CONCAT28(in_stack_0000ffbe,
                                                                         CONCAT26(in_stack_0000ffbc,
                                                                                  CONCAT24(
                                                  in_stack_0000ffba,CONCAT22(unaff_DI,param_2)))))))
                          );
    TEXTOUT(1,(int16)CONCAT214(in_stack_0000ffbc,
                               CONCAT212(in_stack_0000ffba,
                                         CONCAT210(unaff_DI,CONCAT28(param_2,CONCAT26(puVar7,
                                                  CONCAT24(puVar20,0x10a84257)))))),
            (int16)CONCAT214(in_stack_0000ffcc,
                             CONCAT212(in_stack_0000ffca,
                                       CONCAT210(in_stack_0000ffc8,
                                                 CONCAT28(in_stack_0000ffc6,
                                                          CONCAT26(in_stack_0000ffc4,
                                                                   CONCAT24(in_stack_0000ffc2,
                                                                            CONCAT22(
                                                  in_stack_0000ffc0,in_stack_0000ffbe))))))),
            (LPCSTR)CONCAT22(in_stack_0000ffd0,in_stack_0000ffce),
            (int16)CONCAT214(in_stack_0000ffe0,
                             CONCAT212(iVar12,CONCAT210(in_stack_0000ffdc,
                                                        CONCAT28(puVar20,CONCAT26(in_stack_0000ffd8,
                                                                                  CONCAT42(
                                                  in_stack_0000ffd4,in_stack_0000ffd2)))))));
    PTR_DAT_10a8_0000_10a8_5a5a = puVar7 + (int)dVar19 + 4;
    PTR_DAT_10a8_0000_10a8_5a5c = puVar20 + -4;
    PTR_DAT_10a8_0000_10a8_5a5e = puVar7 + (int)dVar19 + 0x13;
    PTR_DAT_10a8_0000_10a8_5a60 = puVar20 + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1) + 1;
    PTR_DAT_10a8_0000_10a8_5a62 = PTR_DAT_10a8_0000_10a8_5a5a;
    PTR_DAT_10a8_0000_10a8_5a64 = PTR_DAT_10a8_0000_10a8_5a5c;
    PTR_DAT_10a8_0000_10a8_5a66 = PTR_DAT_10a8_0000_10a8_5a5e;
    PTR_DAT_10a8_0000_10a8_5a68 = PTR_DAT_10a8_0000_10a8_5a60;
    OFFSETRECT((RECT16 *)
               ZEXT24(PTR_DAT_10a8_0000_10a8_5a60 + (-1 - (int)PTR_DAT_10a8_0000_10a8_5a5c)),
               (int16)CONCAT214(in_stack_0000ffc2,
                                CONCAT212(in_stack_0000ffc0,
                                          CONCAT210(in_stack_0000ffbe,
                                                    CONCAT28(in_stack_0000ffbc,
                                                             CONCAT26(in_stack_0000ffba,
                                                                      CONCAT24(unaff_DI,0x10a85a62))
                                                            )))),
               (int16)CONCAT214(in_stack_0000ffd2,
                                CONCAT212(in_stack_0000ffd0,
                                          CONCAT210(in_stack_0000ffce,
                                                    CONCAT28(in_stack_0000ffcc,
                                                             CONCAT26(in_stack_0000ffca,
                                                                      CONCAT24(in_stack_0000ffc8,
                                                                               CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4))))))));
    FUN_1018_5f08((HRGN16)param_2,(undefined4 *)&PTR_DAT_10a8_0000_10a8_5a5a,0xa0,0,0);
    FUN_1018_5f08((HRGN16)param_2,(undefined4 *)&PTR_DAT_10a8_0000_10a8_5a62,0xa1,0,0);
  }
  puVar20 = puVar20 + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
  if (((param_4 & 0x4000) == 0) || ((param_4 & 0xf) != 0)) {
    piVar6 = (int16 *)0x0;
    iVar12 = 0;
    uVar4 = FUN_1018_5112(0x40);
    FUN_1018_55f6(param_2,(int)puVar14,(int)puVar20,uVar4,piVar6,iVar12,
                  CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                  CONCAT212(in_stack_0000ffca,
                            CONCAT210(in_stack_0000ffc8,
                                      CONCAT28(in_stack_0000ffc6,
                                               CONCAT26(in_stack_0000ffc4,
                                                        CONCAT24(in_stack_0000ffc2,
                                                                 CONCAT22(in_stack_0000ffc0,
                                                                          in_stack_0000ffbe)))))));
  }
  piVar6 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x425910a8,
                     (LPCSTR)CONCAT22((int)_PTR_DAT_10a8_0000_10a8_57a2,0x10a8),
                     (VA_LIST16)((ulong)_PTR_DAT_10a8_0000_10a8_57a2 >> 0x10));
  FUN_1018_55f6(param_2,(int)puVar7,(int)puVar20,(int)&DAT_10a8_86de,piVar6,
                (int)puVar7 - (int)puVar14,CONCAT22(in_stack_0000ffba,unaff_DI),in_stack_0000ffbc,
                CONCAT212(in_stack_0000ffca,
                          CONCAT210(in_stack_0000ffc8,
                                    CONCAT28(in_stack_0000ffc6,
                                             CONCAT26(in_stack_0000ffc4,
                                                      CONCAT24(in_stack_0000ffc2,
                                                               CONCAT22(in_stack_0000ffc0,
                                                                        in_stack_0000ffbe)))))));
LAB_1070_0f59:
  SETBKCOLOR(hdc,(COLORREF)CONCAT22(param_2,(int)(CVar18.value >> 0x10)));
  SETTEXTCOLOR((HDC16)CVar17.value,(COLORREF)CONCAT22(param_2,(int)(CVar17.value >> 0x10)));
  SELECTOBJECT(__return_storage_ptr__,(HRGN16)param_2,(HRGN16)unaff_DI,in_stack_0000ffba,
               (int16)CONCAT214(in_stack_0000ffca,
                                CONCAT212(in_stack_0000ffc8,
                                          CONCAT210(in_stack_0000ffc6,
                                                    CONCAT28(in_stack_0000ffc4,
                                                             CONCAT26(in_stack_0000ffc2,
                                                                      CONCAT24(in_stack_0000ffc0,
                                                                               CONCAT22(
                                                  in_stack_0000ffbe,in_stack_0000ffbc))))))));
  if (iVar21 != 0) {
    RELEASEDC(param_2,(HWND16)param_1,(HDC16)unaff_DI);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1070_0f92(int16 *param_1,int param_2,int param_3,byte param_4)

{
  bool16 bVar1;
  int iVar2;
  int iVar3;
  undefined *puVar4;
  undefined4 *puVar5;
  undefined2 unaff_SS;
  HWND16 local_2c;
  int16 *local_2a;
  undefined local_14 [8];
  undefined4 local_c;
  int local_8;
  int local_6;
  undefined *local_4;

  local_c = CONCAT22(param_3,param_2);
  bVar1 = PTINRECT((RECT16 *)param_2,SUB21(param_3,0));
  if (bVar1 == 0) {
    bVar1 = PTINRECT((RECT16 *)local_c,SUB41((ulong)local_c >> 0x10,0));
    if (bVar1 == 0) {
      if (((((int)PTR_DAT_10a8_0000_10a8_7b44 <= param_3) &&
           (param_3 < (int)(PTR_DAT_10a8_0000_10a8_7b44 +
                           (int)PTR_DAT_10a8_0000_10a8_5922 * (int)PTR_DAT_10a8_0000_10a8_5794))) &&
          (0xc < param_2)) && (param_2 < (int)(PTR_DAT_10a8_0000_10a8_885a + -0xc))) {
        _PTR_DAT_10a8_0000_10a8_1146 =
             *(undefined4 *)
              ((int)&PTR_DAT_10a8_0000_10a8_7c12 +
              ((param_3 - (int)PTR_DAT_10a8_0000_10a8_7b44) / (int)PTR_DAT_10a8_0000_10a8_5794) * 4)
        ;
        FUN_1060_32b2((uint *)&PTR_DAT_10a8_0000_10a8_1146);
        PTR_DAT_10a8_0000_10a8_1144 = (undefined *)0x9;
        FUN_1058_0832();
        return 1;
      }
      return 0;
    }
    local_8 = -1;
    puVar5 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_5a62;
    local_4 = (undefined *)0xa1;
  }
  else {
    local_8 = 1;
    puVar5 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_5a5a;
    local_4 = (undefined *)0xa0;
  }
  GETCLIENTRECT((HWND16)local_14,(RECT16 *)CONCAT22(param_1,unaff_SS));
  FUN_1018_5d4c(&local_2c,param_1,0,puVar5,local_4,0x50,0,0);
  local_6 = (-(uint)((param_4 & 4) == 0) & 0xfff7) + 10;
  iVar2 = FUN_1018_5dc4(&local_2c);
  if (iVar2 != 0) {
    iVar2 = local_6 * local_8;
    do {
      local_4 = PTR_DAT_10a8_0000_10a8_8856 + iVar2;
      if ((int)local_4 < 0) {
        local_4 = (undefined *)0x0;
      }
      if (100 < (int)local_4) {
        local_4 = (undefined *)&DAT_10a8_0064;
      }
      if (local_4 != PTR_DAT_10a8_0000_10a8_8856) {
        puVar4 = (undefined *)((int)local_4 >> 0xf);
        PTR_DAT_10a8_0000_10a8_8856 = local_4;
        PTR_DAT_10a8_0000_10a8_57a2 = (undefined *)FUN_1070_3114((long)(int)local_4);
        PTR_DAT_10a8_0000_10a8_57a4 = puVar4;
        FUN_1070_0578(param_1,local_2a,(int)local_14,0x4200);
      }
      iVar3 = FUN_1018_5dc4(&local_2c);
    } while (iVar3 != 0);
  }
  return 1;
}



int __cdecl16far FUN_1070_10f4(int param_1,int param_2,int param_3)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int local_6;

  iVar4 = 0;
  iVar5 = 0;
  do {
    iVar5 = iVar5 + *(char *)(param_3 * 0x76 + iVar4 + -0x7788);
    iVar4 = iVar4 + 1;
  } while (iVar4 < 6);
  uVar3 = iVar5 * 10;
  puVar1 = (uint *)(param_2 * 4 + 0x50c);
  uVar2 = uVar3 + *puVar1;
  uVar3 = ((int)uVar3 >> 0xf) + *(int *)(param_2 * 4 + 0x50e) + (uint)CARRY2(uVar3,*puVar1);
  iVar4 = FUN_1078_1d42(param_3 * 0x76 + -0x77a2,param_1 + 8);
  local_6 = uVar2 - (iVar4 + -1) *
                    ((uVar2 >> 1 | (uint)((uVar3 & 1) != 0) << 0xf) >> 1 |
                    (uint)(((int)uVar3 >> 1 & 1U) != 0) << 0xf);
  if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 2) != 0) {
    local_6 = local_6 * 2;
  }
  return local_6;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulong __stdcall16far
BROWSERDLG(HWND16 param_1,int param_2,int param_3,uint param_4,undefined *param_5)

{
  uint uVar1;
  undefined2 uVar2;
  int16 *piVar3;
  int16 *piVar4;
  int16 *__return_storage_ptr__;
  int16 *hdc;
  HWND16 HVar5;
  HWND16 HVar6;
  uint16 *puVar7;
  HWND16 HVar8;
  int iVar9;
  int *in_DX;
  undefined2 unaff_SI;
  HWND16 *pHVar10;
  undefined2 unaff_DI;
  int iVar11;
  PAINTSTRUCT16 *unaff_SS;
  bool bVar12;
  COLORREF CVar13;
  dword dVar14;
  LRESULT LVar15;
  undefined2 uVar16;
  undefined2 uVar17;
  undefined2 uVar18;
  HDC16 hrsc1;
  HRGN16 hsrc2;
  undefined *puVar19;
  undefined2 in_stack_0000ffc4;
  WPARAM16 in_stack_0000ffc6;
  WPARAM16 in_stack_0000ffc8;
  undefined2 in_stack_0000ffca;
  word in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  word in_stack_0000ffd2;
  undefined4 in_stack_0000ffd4;
  undefined4 in_stack_0000ffd8;
  undefined4 in_stack_0000ffdc;
  undefined8 in_stack_0000ffe0;
  HWND16 in_stack_0000ffe8;
  HMENU16 in_stack_0000ffea;
  HINSTANCE16 in_stack_0000ffec;
  undefined2 in_stack_0000ffee;
  word in_stack_0000fff0;
  int iVar20;
  int local_c;
  int local_6;

  if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)&stack0xffe6,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffe6,(RECT16 *)unaff_SS,param_3);
    goto LAB_1070_1209;
  }
  if (param_4 < 0x15) {
    if (param_4 == 2) {
      FUN_1018_5a04(param_5,(int *)0x425e,0,unaff_SI,
                    (int16)CONCAT214(in_stack_0000ffd0,
                                     CONCAT212(in_stack_0000ffce,
                                               CONCAT210(in_stack_0000ffcc,
                                                         CONCAT28(in_stack_0000ffca,
                                                                  CONCAT26(in_stack_0000ffc8,
                                                                           CONCAT24(
                                                  in_stack_0000ffc6,
                                                  CONCAT22(in_stack_0000ffc4,unaff_DI))))))),
                    in_stack_0000ffd2);
      PTR_DAT_10a8_0000_10a8_00c2 = (undefined *)0x0;
      PTR_DAT_10a8_0000_10a8_4262 = (undefined *)0x0;
      uVar2 = FUN_1008_5196(PTR_DAT_10a8_0000_10a8_58b4,4);
      CHECKMENUITEM(0,(uint16)CONCAT214(in_stack_0000ffca,
                                        CONCAT212(in_stack_0000ffc8,
                                                  CONCAT210(in_stack_0000ffc6,
                                                            CONCAT28(in_stack_0000ffc4,
                                                                     CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(uVar2,0x100))))))),
                    (uint16)CONCAT412(in_stack_0000ffd8,
                                      CONCAT48(in_stack_0000ffd4,
                                               CONCAT26(in_stack_0000ffd2,
                                                        CONCAT24(in_stack_0000ffd0,
                                                                 CONCAT22(in_stack_0000ffce,
                                                                          in_stack_0000ffcc))))));
    }
    else if (param_4 == 0xf) {
      BEGINPAINT((HWND16)&stack0xffc6,(PAINTSTRUCT16 *)CONCAT22(param_5,unaff_SS));
      ENDPAINT((HWND16)&stack0xffc6,unaff_SS);
      goto LAB_1070_1209;
    }
    goto LAB_1070_176c;
  }
  if (param_4 == 0x19) {
    HVar8 = 0x10a;
    do {
      HVar5 = GETDLGITEM(HVar8,(int16)CONCAT214(in_stack_0000ffcc,
                                                CONCAT212(in_stack_0000ffca,
                                                          CONCAT210(in_stack_0000ffc8,
                                                                    CONCAT28(in_stack_0000ffc6,
                                                                             CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                        );
      if (HVar5 == param_1) break;
      HVar8 = HVar8 + 1;
    } while ((int)HVar8 < 0x10c);
    if (((int)HVar8 < 0x10c) || (param_2 == 6)) {
      uVar2 = 0xf;
      CVar13 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffca,
                                            CONCAT212(in_stack_0000ffc8,
                                                      CONCAT210(in_stack_0000ffc6,
                                                                CONCAT28(in_stack_0000ffc4,
                                                                         CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(param_3,0xf))))))));
      CVar13 = SETBKCOLOR((HDC16)CVar13.value,CONCAT22(uVar2,(int)(CVar13.value >> 0x10)));
      return CVar13.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
    }
    goto LAB_1070_176c;
  }
  if (param_4 == 0x110) {
    PTR_DAT_10a8_0000_10a8_00c2 = param_5;
    hrsc1 = 0;
    hsrc2 = 0;
    uVar17 = 7;
    uVar18 = 0;
    puVar19 = param_5;
    piVar3 = GETSYSTEMMETRICS((int16 *)0x7,
                              (int16)(ZEXT1016(CONCAT28(in_stack_0000ffc6,
                                                        CONCAT26(in_stack_0000ffc4,
                                                                 CONCAT24(unaff_DI,CONCAT22(unaff_SI
                                                  ,param_5))))) << 0x30));
    iVar9 = ((int)piVar3 + 0xad) * 2;
    uVar16 = 8;
    piVar3 = GETSYSTEMMETRICS((int16 *)0x8,
                              (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(puVar19,
                                                  CONCAT28(hsrc2,CONCAT26(hrsc1,CONCAT24(uVar18,
                                                  CONCAT22(uVar17,iVar9))))))));
    iVar11 = (int)PTR_DAT_10a8_0000_10a8_5794 * 7;
    uVar2 = 4;
    piVar4 = GETSYSTEMMETRICS((int16 *)&PTR_LOOP_10a8_0004,
                              (int16)CONCAT214(unaff_SI,CONCAT212(puVar19,CONCAT210(hsrc2,CONCAT28(
                                                  hrsc1,CONCAT26(uVar18,CONCAT24(uVar17,CONCAT22(
                                                  iVar9,uVar16))))))));
    SETWINDOWPOS(6,(HWND16)(PTR_DAT_10a8_0000_10a8_8394 +
                           (int)piVar4 + ((int)piVar3 + iVar11) * 2 + 0x67),
                 (int16)CONCAT214(puVar19,CONCAT212(hsrc2,CONCAT210(hrsc1,CONCAT28(uVar18,CONCAT26(
                                                  uVar17,CONCAT24(iVar9,CONCAT22(uVar16,uVar2)))))))
                 ,(int16)CONCAT214(in_stack_0000ffce,
                                   CONCAT212(in_stack_0000ffcc,
                                             CONCAT210(in_stack_0000ffca,
                                                       CONCAT28(in_stack_0000ffc8,
                                                                CONCAT26(in_stack_0000ffc6,
                                                                         CONCAT24(in_stack_0000ffc4,
                                                                                  CONCAT22(unaff_DI,
                                                  unaff_SI))))))),
                 (int16)CONCAT412(in_stack_0000ffdc,
                                  CONCAT48(in_stack_0000ffd8,
                                           CONCAT44(in_stack_0000ffd4,
                                                    CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))
                 ,(int16)CONCAT214(in_stack_0000ffee,
                                   CONCAT212(in_stack_0000ffec,
                                             CONCAT210(in_stack_0000ffea,
                                                       CONCAT28(in_stack_0000ffe8,in_stack_0000ffe0)
                                                      ))),in_stack_0000fff0);
    FUN_1018_5a04(param_5,(int *)0x425e,1,hrsc1,
                  (int16)CONCAT214(in_stack_0000ffca,
                                   CONCAT212(in_stack_0000ffc8,
                                             CONCAT210(in_stack_0000ffc6,
                                                       CONCAT28(in_stack_0000ffc4,
                                                                CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(puVar19,hsrc2))))))),in_stack_0000ffcc);
    piVar4 = (int16 *)GETDC((HWND16)param_5);
    __return_storage_ptr__ =
         SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)piVar4,hrsc1,hsrc2,
                      (int16)CONCAT214(in_stack_0000ffcc,
                                       CONCAT212(in_stack_0000ffca,
                                                 CONCAT210(in_stack_0000ffc8,
                                                           CONCAT28(in_stack_0000ffc6,
                                                                    CONCAT26(in_stack_0000ffc4,
                                                                             CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,puVar19))))))));
    HVar8 = GETDLGITEM(0x10b,(int16)CONCAT214(in_stack_0000ffc6,
                                              CONCAT212(in_stack_0000ffc4,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(puVar19,CONCAT24(hsrc2,CONCAT22(hrsc1,
                                                  param_5))))))));
    iVar9 = (int)s_From___s_c_c_10a8_10a2 + 6;
    uVar2 = SUB42(&DAT_10a8_86de,0);
    piVar3 = piVar4;
    hdc = GETDLGITEMTEXT((int16 *)0x50,(HWND16)&DAT_10a8_86de,
                         (int16)CONCAT214(hsrc2,CONCAT212(hrsc1,CONCAT210(piVar4,CONCAT28(0x10a8,
                                                  CONCAT26(0x86de,CONCAT24(param_5,0x42e10a8)))))),
                         CONCAT22(unaff_SI,puVar19),
                         (uint16)CONCAT214(in_stack_0000ffd0,
                                           CONCAT212(in_stack_0000ffce,
                                                     CONCAT210(in_stack_0000ffcc,
                                                               CONCAT28(in_stack_0000ffca,
                                                                        CONCAT26(in_stack_0000ffc8,
                                                                                 CONCAT24(
                                                  in_stack_0000ffc6,
                                                  CONCAT22(in_stack_0000ffc4,unaff_DI))))))));
    dVar14 = GETTEXTEXTENT((HDC16)hdc,(LPCSTR)CONCAT22(iVar9,uVar2),
                           (int16)CONCAT214(in_stack_0000ffc6,
                                            CONCAT212(in_stack_0000ffc4,
                                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  puVar19,CONCAT24(hsrc2,CONCAT22(hrsc1,piVar3))))))
                                           ));
    iVar9 = (int)dVar14 + 0xe;
    HVar5 = GETDLGITEM(0x42e,(int16)CONCAT214(in_stack_0000ffc6,
                                              CONCAT212(in_stack_0000ffc4,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(puVar19,CONCAT24(hsrc2,CONCAT22(hrsc1,
                                                  param_5))))))));
    SETWINDOWPOS(4,((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2,
                 (int16)CONCAT214(puVar19,CONCAT212(hsrc2,CONCAT210(hrsc1,CONCAT28(HVar5,(qword)
                                                  CONCAT24(6,CONCAT22(6,iVar9)))))),
                 (int16)CONCAT214(in_stack_0000ffce,
                                  CONCAT212(in_stack_0000ffcc,
                                            CONCAT210(in_stack_0000ffca,
                                                      CONCAT28(in_stack_0000ffc8,
                                                               CONCAT26(in_stack_0000ffc6,
                                                                        CONCAT24(in_stack_0000ffc4,
                                                                                 CONCAT22(unaff_DI,
                                                  unaff_SI))))))),
                 (int16)CONCAT412(in_stack_0000ffdc,
                                  CONCAT48(in_stack_0000ffd8,
                                           CONCAT44(in_stack_0000ffd4,
                                                    CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))
                 ,(int16)CONCAT214(in_stack_0000ffee,
                                   CONCAT212(in_stack_0000ffec,
                                             CONCAT210(in_stack_0000ffea,
                                                       CONCAT28(in_stack_0000ffe8,in_stack_0000ffe0)
                                                      ))),in_stack_0000fff0);
    HVar5 = GETDLGITEM(0x42f,(int16)CONCAT214(in_stack_0000ffc6,
                                              CONCAT212(in_stack_0000ffc4,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(puVar19,CONCAT24(hsrc2,CONCAT22(hrsc1,
                                                  param_5))))))));
    iVar11 = -((int)dVar14 + -0x144);
    SETWINDOWPOS(4,((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2,
                 (int16)CONCAT214(puVar19,CONCAT212(hsrc2,CONCAT210(hrsc1,CONCAT28(HVar5,(qword)
                                                  CONCAT24(iVar11,CONCAT22(6,iVar9)))))),
                 (int16)CONCAT214(in_stack_0000ffce,
                                  CONCAT212(in_stack_0000ffcc,
                                            CONCAT210(in_stack_0000ffca,
                                                      CONCAT28(in_stack_0000ffc8,
                                                               CONCAT26(in_stack_0000ffc6,
                                                                        CONCAT24(iVar9,CONCAT22(
                                                  unaff_DI,unaff_SI))))))),
                 (int16)CONCAT412(in_stack_0000ffdc,
                                  CONCAT48(in_stack_0000ffd8,
                                           CONCAT44(in_stack_0000ffd4,
                                                    CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))
                 ,(int16)CONCAT214(in_stack_0000ffee,
                                   CONCAT212(in_stack_0000ffec,
                                             CONCAT210(in_stack_0000ffea,
                                                       CONCAT28(in_stack_0000ffe8,in_stack_0000ffe0)
                                                      ))),in_stack_0000fff0);
    SETWINDOWPOS(4,(int)PTR_DAT_10a8_0000_10a8_5794 * 0xe,
                 (int16)CONCAT214(puVar19,CONCAT212(hsrc2,CONCAT210(hrsc1,CONCAT28(HVar8,(qword)
                                                  CONCAT24(iVar9 + 0xc,
                                                           CONCAT22(6,(0xa0 - iVar9) * 2)))))),
                 (int16)CONCAT214(in_stack_0000ffce,
                                  CONCAT212(in_stack_0000ffcc,
                                            CONCAT210(in_stack_0000ffca,
                                                      CONCAT28(in_stack_0000ffc8,
                                                               CONCAT26(in_stack_0000ffc6,
                                                                        CONCAT24(iVar9,CONCAT22(
                                                  unaff_DI,unaff_SI))))))),
                 (int16)CONCAT412(in_stack_0000ffdc,
                                  CONCAT48(in_stack_0000ffd8,
                                           CONCAT44(in_stack_0000ffd4,
                                                    CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))
                 ,(int16)CONCAT214(in_stack_0000ffee,
                                   CONCAT212(in_stack_0000ffec,
                                             CONCAT210(in_stack_0000ffea,
                                                       CONCAT28(in_stack_0000ffe8,in_stack_0000ffe0)
                                                      ))),in_stack_0000fff0);
    HVar5 = GETDLGITEM(2,(int16)CONCAT214(in_stack_0000ffc6,
                                          CONCAT212(iVar9,CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(puVar19,CONCAT24(hsrc2,CONCAT22(hrsc1,
                                                  param_5))))))));
    HVar6 = ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
    SETWINDOWPOS(4,HVar6,(int16)CONCAT214(puVar19,CONCAT212(hsrc2,CONCAT210(hrsc1,CONCAT28(HVar5,(
                                                  qword)CONCAT24(iVar11,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_8394 +
                                                  HVar6 + (int)PTR_DAT_10a8_0000_10a8_5794 * 0xb +
                                                  0x60,iVar9)))))),
                 (int16)CONCAT214(in_stack_0000ffce,
                                  CONCAT212(in_stack_0000ffcc,
                                            CONCAT210(in_stack_0000ffca,
                                                      CONCAT28(in_stack_0000ffc8,
                                                               CONCAT26(in_stack_0000ffc6,
                                                                        CONCAT24(iVar9,CONCAT22(
                                                  unaff_DI,unaff_SI))))))),
                 (int16)CONCAT412(in_stack_0000ffdc,
                                  CONCAT48(in_stack_0000ffd8,
                                           CONCAT44(in_stack_0000ffd4,
                                                    CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))
                 ,(int16)CONCAT214(in_stack_0000ffee,
                                   CONCAT212(in_stack_0000ffec,
                                             CONCAT210(in_stack_0000ffea,
                                                       CONCAT28(in_stack_0000ffe8,in_stack_0000ffe0)
                                                      ))),in_stack_0000fff0);
    HVar5 = GETDLGITEM(0x10a,(int16)CONCAT214(in_stack_0000ffc6,
                                              CONCAT212(iVar9,CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(puVar19,CONCAT24(hsrc2,CONCAT22(hrsc1,
                                                  param_5))))))));
    HVar6 = ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
    SETWINDOWPOS(4,HVar6,(int16)CONCAT214(puVar19,CONCAT212(hsrc2,CONCAT210(hrsc1,CONCAT28(HVar5,(
                                                  qword)CONCAT24(6,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_8394 +
                                                  HVar6 + (int)PTR_DAT_10a8_0000_10a8_5794 * 0xb +
                                                  0x60,0x14c - iVar9)))))),
                 (int16)CONCAT214(in_stack_0000ffce,
                                  CONCAT212(in_stack_0000ffcc,
                                            CONCAT210(in_stack_0000ffca,
                                                      CONCAT28(in_stack_0000ffc8,
                                                               CONCAT26(in_stack_0000ffc6,
                                                                        CONCAT24(iVar9,CONCAT22(
                                                  unaff_DI,unaff_SI))))))),
                 (int16)CONCAT412(in_stack_0000ffdc,
                                  CONCAT48(in_stack_0000ffd8,
                                           CONCAT44(in_stack_0000ffd4,
                                                    CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))
                 ,(int16)CONCAT214(in_stack_0000ffee,
                                   CONCAT212(in_stack_0000ffec,
                                             CONCAT210(in_stack_0000ffea,
                                                       CONCAT28(in_stack_0000ffe8,in_stack_0000ffe0)
                                                      ))),in_stack_0000fff0);
    SELECTOBJECT(__return_storage_ptr__,(HRGN16)piVar4,hrsc1,hsrc2,
                 (int16)CONCAT214(in_stack_0000ffcc,
                                  CONCAT212(in_stack_0000ffca,
                                            CONCAT210(in_stack_0000ffc8,
                                                      CONCAT28(in_stack_0000ffc6,
                                                               CONCAT26(iVar9,CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,puVar19))))))));
    RELEASEDC(piVar4,(HWND16)param_5,hrsc1);
    if (PTR_DAT_10a8_0000_10a8_4262 == (undefined *)0x0) {
      PTR_DAT_10a8_0000_10a8_5706 = (undefined *)&DAT_10a8_0001;
      _DAT_10a8_5708 = _DAT_10a8_5708 & 0xff00;
    }
    FUN_1060_32b2((uint *)&PTR_DAT_10a8_0000_10a8_5706);
    PTR_DAT_10a8_0000_10a8_84d4 =
         (undefined *)
         CREATEWINDOW((LPCSTR)0x0,(LPCSTR)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),
                      CONCAT22(PTR_DAT_10a8_0000_10a8_8394 +
                               (int)PTR_DAT_10a8_0000_10a8_5794 * 0xb + 0x4e,param_5),
                      (int16)CONCAT214(0x11e,ZEXT1014(CONCAT28(0x5000,(qword)CONCAT24(6,CONCAT22(((
                                                  int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2 + 0xc,
                                                  0x14c))))),
                      (int16)CONCAT214(in_stack_0000ffc6,
                                       CONCAT212(iVar9,CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (puVar19,CONCAT24(hsrc2,CONCAT22(hrsc1,0x10a8)))))
                                                )),
                      (int16)CONCAT412(in_stack_0000ffd4,
                                       CONCAT210(in_stack_0000ffd2,
                                                 CONCAT28(in_stack_0000ffd0,
                                                          CONCAT26(in_stack_0000ffce,
                                                                   CONCAT24(in_stack_0000ffcc,
                                                                            CONCAT22(
                                                  in_stack_0000ffca,in_stack_0000ffc8)))))),
                      (int16)CONCAT88(in_stack_0000ffe0,
                                      CONCAT44(in_stack_0000ffdc,in_stack_0000ffd8)),
                      in_stack_0000ffe8,in_stack_0000ffea,in_stack_0000ffec,
                      (LPVOID)CONCAT22(in_stack_0000fff0,in_stack_0000ffee));
    pHVar10 = (HWND16 *)&PTR_PTR_10a8_42d0;
    do {
      SENDMESSAGE(*pHVar10,(uint16)CONCAT214(iVar9,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  puVar19,CONCAT26(HVar8,0x403000010a8))))),
                  in_stack_0000ffc6,CONCAT22(in_stack_0000ffca,in_stack_0000ffc8));
      pHVar10 = pHVar10 + 1;
    } while (pHVar10 < (HWND16 *)0x42ea);
    LVar15 = SENDMESSAGE(0,(uint16)CONCAT214(iVar9,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  puVar19,CONCAT26(HVar8,0x40e00000000))))),
                         in_stack_0000ffc6,CONCAT22(in_stack_0000ffca,in_stack_0000ffc8));
    in_DX = (int *)((ulong)LVar15 >> 0x10);
LAB_1070_1209:
    return CONCAT22(in_DX,1);
  }
  if (param_4 != 0x111) goto LAB_1070_176c;
  if (param_3 == 2) {
    FUN_1018_5a04(param_5,(int *)0x425e,0,unaff_SI,
                  (int16)CONCAT214(in_stack_0000ffd0,
                                   CONCAT212(in_stack_0000ffce,
                                             CONCAT210(in_stack_0000ffcc,
                                                       CONCAT28(in_stack_0000ffca,
                                                                CONCAT26(in_stack_0000ffc8,
                                                                         CONCAT24(in_stack_0000ffc6,
                                                                                  CONCAT22(
                                                  in_stack_0000ffc4,unaff_DI))))))),
                  in_stack_0000ffd2);
    PTR_DAT_10a8_0000_10a8_00c2 = (undefined *)0x0;
    PTR_DAT_10a8_0000_10a8_4262 = (undefined *)0x0;
    uVar2 = FUN_1008_5196(PTR_DAT_10a8_0000_10a8_58b4,4);
    CHECKMENUITEM(0,(uint16)CONCAT214(in_stack_0000ffca,
                                      CONCAT212(in_stack_0000ffc8,
                                                CONCAT210(in_stack_0000ffc6,
                                                          CONCAT28(in_stack_0000ffc4,
                                                                   CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(uVar2,0x100))))))),
                  (uint16)CONCAT412(in_stack_0000ffd8,
                                    CONCAT48(in_stack_0000ffd4,
                                             CONCAT26(in_stack_0000ffd2,
                                                      CONCAT24(in_stack_0000ffd0,
                                                               CONCAT22(in_stack_0000ffce,
                                                                        in_stack_0000ffcc))))));
    ENDDIALOG(1,(int16)CONCAT214(in_stack_0000ffcc,
                                 CONCAT212(in_stack_0000ffca,
                                           CONCAT210(in_stack_0000ffc8,
                                                     CONCAT28(in_stack_0000ffc6,
                                                              CONCAT26(in_stack_0000ffc4,
                                                                       CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5))))))));
    goto LAB_1070_1209;
  }
  if (param_3 == 0x10b) {
    if (param_2 != 1) goto LAB_1070_176c;
    puVar7 = ISDLGBUTTONCHECKED((uint16 *)((int)s_starsmessage_10a8_0104 + 6),(HWND16)param_5,
                                (uint16)CONCAT214(in_stack_0000ffce,
                                                  CONCAT212(in_stack_0000ffcc,
                                                            CONCAT210(in_stack_0000ffca,
                                                                      CONCAT28(in_stack_0000ffc8,
                                                                               CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(in_stack_0000ffc4,
                                                           CONCAT22(unaff_DI,unaff_SI))))))));
    HVar8 = GETDLGITEM(0x10b,(int16)CONCAT214(in_stack_0000ffcc,
                                              CONCAT212(in_stack_0000ffca,
                                                        CONCAT210(in_stack_0000ffc8,
                                                                  CONCAT28(in_stack_0000ffc6,
                                                                           CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                      );
    LVar15 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc6,
                                             CONCAT212(in_stack_0000ffc4,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (HVar8,0x40700000000))))),in_stack_0000ffc8,
                         CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
    in_DX = (int *)((ulong)LVar15 >> 0x10);
    if (LVar15 < 0) goto LAB_1070_176c;
    if ((in_DX == (int *)0x0 || LVar15 < 0) && ((LVar15 < 0 || ((int)LVar15 == 0)))) {
      LVar15 = 1;
    }
    in_DX = (int *)((ulong)LVar15 >> 0x10);
    PTR_DAT_10a8_0000_10a8_5706 = (undefined *)*(undefined2 *)((int)LVar15 * 2 + 0x42ea);
    _DAT_10a8_5708 = _DAT_10a8_5708 & 0xff00;
    while (iVar9 = FUN_1060_32b2((uint *)&PTR_DAT_10a8_0000_10a8_5706), iVar9 != 0) {
      if ((iVar9 == 1) || (puVar7 == (uint16 *)0x0)) goto LAB_1070_175e;
      _DAT_10a8_5708 = _DAT_10a8_5708 & 0xff00 | (uint)(byte)(DAT_10a8_5708 + 1);
    }
LAB_1070_1758:
    PTR_DAT_10a8_0000_10a8_570a = (undefined *)0x0;
  }
  else {
    if ((param_3 != 0x42f) && (param_3 != 0x42e)) goto LAB_1070_176c;
    uVar1 = _DAT_10a8_5708 & 0xff;
    HVar8 = GETDLGITEM(0x10b,(int16)CONCAT214(in_stack_0000ffcc,
                                              CONCAT212(in_stack_0000ffca,
                                                        CONCAT210(in_stack_0000ffc8,
                                                                  CONCAT28(in_stack_0000ffc6,
                                                                           CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                      );
    LVar15 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc6,
                                             CONCAT212(in_stack_0000ffc4,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (HVar8,0x40700000000))))),in_stack_0000ffc8,
                         CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
    bVar12 = LVar15 != 0;
    iVar9 = 0;
    in_DX = (int *)0x42ea;
    local_6 = 0;
    do {
      if (PTR_DAT_10a8_0000_10a8_5706 == (undefined *)*in_DX) break;
      local_6 = local_6 + 1;
      in_DX = in_DX + 1;
    } while (in_DX < (int *)((int)s__None_Available_10a8_4303 + 1));
    iVar11 = local_6;
    puVar7 = ISDLGBUTTONCHECKED((uint16 *)((int)s_starsmessage_10a8_0104 + 6),(HWND16)param_5,
                                (uint16)CONCAT214(in_stack_0000ffce,
                                                  CONCAT212(in_stack_0000ffcc,
                                                            CONCAT210(in_stack_0000ffca,
                                                                      CONCAT28(in_stack_0000ffc8,
                                                                               CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(in_stack_0000ffc4,
                                                           CONCAT22(unaff_DI,unaff_SI))))))));
    while( true ) {
      _DAT_10a8_5708 = _DAT_10a8_5708 & 0xff00 | (uint)(byte)(DAT_10a8_5708 + 1);
      iVar20 = iVar9;
      if (((byte)(DAT_10a8_5708 + 1) == uVar1) && (bVar12)) break;
      while( true ) {
        iVar9 = iVar20 + 1;
        if (0x15e < iVar20) goto LAB_1070_1758;
        local_c = FUN_1060_32b2((uint *)&PTR_DAT_10a8_0000_10a8_5706);
        if (local_c != 0) break;
        iVar20 = iVar9;
        if ((param_3 != 0x42f) || (bVar12)) {
          if ((DAT_10a8_5708 == 0) && (bVar12)) {
            PTR_DAT_10a8_0000_10a8_570a = (undefined *)0x0;
            goto LAB_1070_171a;
          }
          if ((param_3 != 0x42e) || (bVar12)) {
            if (param_3 == 0x42f) goto LAB_1070_16a9;
            break;
          }
          if (DAT_10a8_5708 < 0x65) break;
          local_6 = local_6 + -1;
          if (local_6 < 1) {
            local_6 = 0xc;
          }
          PTR_DAT_10a8_0000_10a8_5706 = (undefined *)*(undefined2 *)(local_6 * 2 + 0x42ea);
          _DAT_10a8_5708 = CONCAT11((char)(_DAT_10a8_5708 >> 8),100);
        }
        else {
          local_6 = local_6 + 1;
          if (0xc < local_6) {
            local_6 = 1;
          }
          PTR_DAT_10a8_0000_10a8_5706 = (undefined *)*(undefined2 *)(local_6 * 2 + 0x42ea);
LAB_1070_16a9:
          _DAT_10a8_5708 = _DAT_10a8_5708 & 0xff00;
        }
      }
      if ((local_c == 1) || ((local_c != 0 && (puVar7 == (uint16 *)0x0)))) break;
    }
LAB_1070_171a:
    if (((_DAT_10a8_5708 & 0xff) == uVar1) &&
       ((iVar11 == local_6 && ((local_c == 1 || (puVar7 == (uint16 *)0x0)))))) goto LAB_1070_176c;
    if (((_DAT_10a8_5708 & 0xff) == uVar1) && (iVar11 == local_6)) {
      iVar9 = FUN_1060_32b2((uint *)&PTR_DAT_10a8_0000_10a8_5706);
      if (iVar9 == 1) goto LAB_1070_176c;
      goto LAB_1070_1758;
    }
  }
LAB_1070_175e:
  INVALIDATERECT(1,(RECT16 *)0x0,0);
LAB_1070_176c:
  return ZEXT24(in_DX) << 0x10;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulong __stdcall16far BROWSERWNDPROC(HWND16 param_1,undefined4 param_2,ulong param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  VA_LIST16 pWVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  undefined2 unaff_SI;
  undefined4 *puVar7;
  undefined2 unaff_DI;
  undefined4 *puVar8;
  PAINTSTRUCT16 *unaff_SS;
  ulong uVar9;
  undefined4 *in_stack_0000ffc8;
  PAINTSTRUCT16 *in_stack_0000ffca;
  WPARAM16 in_stack_0000ffd0;
  LPARAM in_stack_0000ffd2;
  undefined local_10 [4];
  undefined4 local_c;
  undefined4 local_8;
  undefined2 local_4;

  if ((int)param_3 != 1) {
    if ((int)param_3 != 0xf) {
      if ((int)param_3 == 0x14) {
        GETCLIENTRECT((HWND16)local_10,(RECT16 *)(param_3 & 0xffff0000 | ZEXT24(unaff_SS)));
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)local_10,(RECT16 *)unaff_SS,
                 param_2._2_2_);
      }
      else {
        if ((int)param_3 == 0x20) {
          in_stack_0000ffc8 = &local_8;
          in_stack_0000ffca = unaff_SS;
          GETCURSORPOS((POINT16 *)in_stack_0000ffc8);
          SCREENTOCLIENT((HWND16)&local_8,(POINT16 *)(param_3 & 0xffff0000 | ZEXT24(unaff_SS)));
        }
        else {
          if ((int)param_3 != 0x201) goto LAB_1070_18de;
          local_8 = CONCAT22((undefined2)param_2,param_1);
        }
        if ((((PTR_DAT_10a8_0000_10a8_5706 != (undefined *)((int)s_Small_Colonizer_10a8_3ffe + 2))
             || (PTR_DAT_10a8_0000_10a8_131e != (undefined *)0x0)) || ((int)local_8 < 5)) ||
           (((0x44 < (int)local_8 || (local_8._2_2_ < (int)(PTR_DAT_10a8_0000_10a8_8394 + 5))) ||
            ((int)(PTR_DAT_10a8_0000_10a8_8394 + 0x45) <= local_8._2_2_)))) {
LAB_1070_18de:
          uVar9 = DEFWINDOWPROC(param_1,(uint16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(
                                                  in_stack_0000ffca,
                                                  CONCAT28(in_stack_0000ffc8,
                                                           CONCAT26(param_3._2_2_,
                                                                    CONCAT24((int)param_3,param_2)))
                                                  ))),in_stack_0000ffd0,in_stack_0000ffd2);
          return uVar9;
        }
        if ((int)param_3 == 0x201) {
          PTR_DAT_10a8_0000_10a8_1144 = (undefined *)0xf;
          puVar8 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_57a6;
          puVar7 = (undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_2eae + (uint)DAT_10a8_5708 * 0x93);
          for (iVar5 = 0x1e; iVar5 != 0; iVar5 = iVar5 + -1) {
            puVar2 = puVar8;
            puVar8 = puVar8 + 1;
            puVar1 = puVar7;
            puVar7 = puVar7 + 1;
            *puVar2 = *puVar1;
          }
          *(undefined2 *)puVar8 = *(undefined2 *)puVar7;
          *(undefined *)(undefined2 *)((int)puVar8 + 2) =
               *(undefined *)(undefined2 *)((int)puVar7 + 2);
          local_4 = 0;
          if ((byte)PTR_DAT_10a8_0000_10a8_5820 != 0) {
            iVar6 = 0x57e2;
            iVar5 = 0;
            do {
              *(undefined *)(iVar6 + 1) = 0;
              iVar6 = iVar6 + 4;
              iVar5 = iVar5 + 1;
            } while (iVar5 < (int)(uint)(byte)PTR_DAT_10a8_0000_10a8_5820);
          }
          PTR_DAT_10a8_0000_10a8_1146 = (undefined *)&PTR_DAT_10a8_0000_10a8_57a6;
          _DAT_10a8_1148 = (int)s_From___s_c_c_10a8_10a2 + 6;
          PTR_DAT_10a8_0000_10a8_114a = (undefined *)0x0;
          FUN_1058_0832(param_3._2_2_,(int)local_8,local_8._2_2_);
        }
        else {
          SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_7ad0);
        }
      }
      uVar4 = 1;
      goto LAB_1070_17f7;
    }
    pWVar3 = (VA_LIST16)
             BEGINPAINT((HWND16)&stack0xffd0,
                        (PAINTSTRUCT16 *)(param_3 & 0xffff0000 | ZEXT24(unaff_SS)));
    GETCLIENTRECT((HWND16)local_10,(RECT16 *)(param_3 & 0xffff0000 | ZEXT24(unaff_SS)));
    FUN_1070_18f4(pWVar3,(int)local_c,(int)((ulong)local_c >> 0x10),
                  (int16 *)&PTR_DAT_10a8_0000_10a8_5706);
    ENDPAINT((HWND16)&stack0xffd0,unaff_SS);
  }
  uVar4 = 0;
LAB_1070_17f7:
  return (ulong)uVar4;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int16 * __cdecl16far FUN_1070_18f4(VA_LIST16 param_1,int param_2,int param_3,int16 *param_4)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  byte bVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  char cVar7;
  int16 *piVar8;
  int iVar9;
  HDC16 HVar10;
  int16 *hdc;
  uint uVar11;
  ulong uVar12;
  VA_LIST16 unaff_SI;
  int16 **ppiVar13;
  undefined4 *puVar14;
  uint uVar15;
  HRGN16 unaff_DI;
  undefined *puVar16;
  uint uVar17;
  char *pcVar18;
  undefined2 *puVar19;
  undefined2 *puVar20;
  int iVar21;
  uint unaff_SS;
  bool bVar22;
  dword dVar23;
  COLORREF CVar24;
  undefined2 uVar25;
  undefined2 uVar26;
  VA_LIST16 pWVar27;
  int iVar28;
  int16 *in_stack_0000feca;
  undefined in_stack_0000fecc;
  char cVar29;
  undefined in_stack_0000fecd;
  undefined2 in_stack_0000fece;
  undefined2 in_stack_0000fed0;
  undefined2 in_stack_0000fed2;
  undefined2 in_stack_0000fed4;
  undefined2 in_stack_0000fed6;
  undefined2 in_stack_0000fed8;
  undefined2 in_stack_0000feda;
  undefined2 in_stack_0000fedc;
  undefined2 in_stack_0000fede;
  undefined2 in_stack_0000fee0;
  undefined2 in_stack_0000fee2;
  undefined6 in_stack_0000fee4;
  undefined4 in_stack_0000feea;
  undefined2 in_stack_0000feee;
  undefined2 in_stack_0000fef0;
  undefined2 in_stack_0000fef2;
  HDC16 in_stack_0000fef4;
  undefined4 in_stack_0000fef6;
  dword in_stack_0000fefa;
  undefined8 in_stack_0000fefe;
  undefined in_stack_0000ff06 [16];
  dword in_stack_0000ff16;
  uint local_3a [4];
  uint local_32;
  uint local_30;
  undefined *local_2e;
  int local_2c;
  int local_2a;
  undefined *local_28;
  uint local_26;
  undefined4 local_24;
  int local_20;
  uint local_1e;
  int16 *local_1c;
  int local_1a;
  HDC16 local_18;
  int local_16;
  long local_14;
  int local_10;
  undefined *local_e;
  undefined4 local_c;
  undefined2 local_8;
  undefined4 local_6;

  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000fed8,
                                CONCAT212(in_stack_0000fed6,
                                          CONCAT210(in_stack_0000fed4,
                                                    CONCAT28(in_stack_0000fed2,
                                                             CONCAT26(in_stack_0000fed0,
                                                                      CONCAT24(in_stack_0000fece,
                                                                               CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(in_stack_0000fecc,in_stack_0000feca))))))
                                         )));
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,(unkuint10)
                                                                             CONCAT26(param_3 + -1,
                                                                                      CONCAT24(
                                                  param_2,0x100f0))))),
         (int16)CONCAT214(in_stack_0000fed8,
                          CONCAT212(in_stack_0000fed6,
                                    CONCAT210(in_stack_0000fed4,
                                              CONCAT28(in_stack_0000fed2,
                                                       CONCAT26(in_stack_0000fed0,
                                                                CONCAT24(in_stack_0000fece,
                                                                         CONCAT13(in_stack_0000fecd,
                                                                                  CONCAT12(
                                                  in_stack_0000fecc,in_stack_0000feca)))))))),
         (int16)CONCAT610(in_stack_0000fee4,
                          CONCAT28(in_stack_0000fee2,
                                   CONCAT26(in_stack_0000fee0,
                                            CONCAT24(in_stack_0000fede,
                                                     CONCAT22(in_stack_0000fedc,in_stack_0000feda)))
                                  )),
         (int16)CONCAT412(in_stack_0000fef6,
                          CONCAT210(in_stack_0000fef4,
                                    CONCAT28(in_stack_0000fef2,
                                             CONCAT26(in_stack_0000fef0,
                                                      CONCAT24(in_stack_0000feee,in_stack_0000feea))
                                            ))),in_stack_0000fefa);
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(param_2 + -1,
                                                                                      (qword)
                                                  CONCAT24(1,CONCAT22(param_3,0xf0)))))),
         (int16)CONCAT214(in_stack_0000fed8,
                          CONCAT212(in_stack_0000fed6,
                                    CONCAT210(in_stack_0000fed4,
                                              CONCAT28(in_stack_0000fed2,
                                                       CONCAT26(in_stack_0000fed0,
                                                                CONCAT24(in_stack_0000fece,
                                                                         CONCAT13(in_stack_0000fecd,
                                                                                  CONCAT12(
                                                  in_stack_0000fecc,in_stack_0000feca)))))))),
         (int16)CONCAT610(in_stack_0000fee4,
                          CONCAT28(in_stack_0000fee2,
                                   CONCAT26(in_stack_0000fee0,
                                            CONCAT24(in_stack_0000fede,
                                                     CONCAT22(in_stack_0000fedc,in_stack_0000feda)))
                                  )),
         (int16)CONCAT412(in_stack_0000fef6,
                          CONCAT210(in_stack_0000fef4,
                                    CONCAT28(in_stack_0000fef2,
                                             CONCAT26(in_stack_0000fef0,
                                                      CONCAT24(in_stack_0000feee,in_stack_0000feea))
                                            ))),in_stack_0000fefa);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000fed8,
                                CONCAT212(in_stack_0000fed6,
                                          CONCAT210(in_stack_0000fed4,
                                                    CONCAT28(in_stack_0000fed2,
                                                             CONCAT26(in_stack_0000fed0,
                                                                      CONCAT24(in_stack_0000fece,
                                                                               CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(in_stack_0000fecc,in_stack_0000feca))))))
                                         )));
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,(unkuint10)
                                                                             CONCAT24(param_2,
                                                  0x100f0)))),
         (int16)CONCAT214(in_stack_0000fed8,
                          CONCAT212(in_stack_0000fed6,
                                    CONCAT210(in_stack_0000fed4,
                                              CONCAT28(in_stack_0000fed2,
                                                       CONCAT26(in_stack_0000fed0,
                                                                CONCAT24(in_stack_0000fece,
                                                                         CONCAT13(in_stack_0000fecd,
                                                                                  CONCAT12(
                                                  in_stack_0000fecc,in_stack_0000feca)))))))),
         (int16)CONCAT610(in_stack_0000fee4,
                          CONCAT28(in_stack_0000fee2,
                                   CONCAT26(in_stack_0000fee0,
                                            CONCAT24(in_stack_0000fede,
                                                     CONCAT22(in_stack_0000fedc,in_stack_0000feda)))
                                  )),
         (int16)CONCAT412(in_stack_0000fef6,
                          CONCAT210(in_stack_0000fef4,
                                    CONCAT28(in_stack_0000fef2,
                                             CONCAT26(in_stack_0000fef0,
                                                      CONCAT24(in_stack_0000feee,in_stack_0000feea))
                                            ))),in_stack_0000fefa);
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,(unkuint10)
                                                                             CONCAT24(1,CONCAT22(
                                                  param_3,0xf0))))),
         (int16)CONCAT214(in_stack_0000fed8,
                          CONCAT212(in_stack_0000fed6,
                                    CONCAT210(in_stack_0000fed4,
                                              CONCAT28(in_stack_0000fed2,
                                                       CONCAT26(in_stack_0000fed0,
                                                                CONCAT24(in_stack_0000fece,
                                                                         CONCAT13(in_stack_0000fecd,
                                                                                  CONCAT12(
                                                  in_stack_0000fecc,in_stack_0000feca)))))))),
         (int16)CONCAT610(in_stack_0000fee4,
                          CONCAT28(in_stack_0000fee2,
                                   CONCAT26(in_stack_0000fee0,
                                            CONCAT24(in_stack_0000fede,
                                                     CONCAT22(in_stack_0000fedc,in_stack_0000feda)))
                                  )),
         (int16)CONCAT412(in_stack_0000fef6,
                          CONCAT210(in_stack_0000fef4,
                                    CONCAT28(in_stack_0000fef2,
                                             CONCAT26(in_stack_0000fef0,
                                                      CONCAT24(in_stack_0000feee,in_stack_0000feea))
                                            ))),in_stack_0000fefa);
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(4,CONCAT26((-1
                                                                                                 - (
                                                  int)PTR_DAT_10a8_0000_10a8_5794) * 2 + param_3,
                                                  CONCAT24(param_2 + -8,0x100f0)))))),
         (int16)CONCAT214(in_stack_0000fed8,
                          CONCAT212(in_stack_0000fed6,
                                    CONCAT210(in_stack_0000fed4,
                                              CONCAT28(in_stack_0000fed2,
                                                       CONCAT26(in_stack_0000fed0,
                                                                CONCAT24(in_stack_0000fece,
                                                                         CONCAT13(in_stack_0000fecd,
                                                                                  CONCAT12(
                                                  in_stack_0000fecc,in_stack_0000feca)))))))),
         (int16)CONCAT610(in_stack_0000fee4,
                          CONCAT28(in_stack_0000fee2,
                                   CONCAT26(in_stack_0000fee0,
                                            CONCAT24(in_stack_0000fede,
                                                     CONCAT22(in_stack_0000fedc,in_stack_0000feda)))
                                  )),
         (int16)CONCAT412(in_stack_0000fef6,
                          CONCAT210(in_stack_0000fef4,
                                    CONCAT28(in_stack_0000fef2,
                                             CONCAT26(in_stack_0000fef0,
                                                      CONCAT24(in_stack_0000feee,in_stack_0000feea))
                                            ))),in_stack_0000fefa);
  SETBKMODE((int16 *)&DAT_10a8_0001,(HDC16)param_1,
            (int16)CONCAT214(in_stack_0000fed4,
                             CONCAT212(in_stack_0000fed2,
                                       CONCAT210(in_stack_0000fed0,
                                                 CONCAT28(in_stack_0000fece,
                                                          CONCAT17(in_stack_0000fecd,
                                                                   CONCAT16(in_stack_0000fecc,
                                                                            CONCAT24(
                                                  in_stack_0000feca,CONCAT22(unaff_DI,unaff_SI))))))
                                      )));
  if (*(int *)((int)param_4 + 4) == 0) {
    SETRECT((RECT16 *)CONCAT22(param_2 + -5,param_3 + -5),
            (int16)CONCAT115(in_stack_0000fecd,
                             CONCAT114(in_stack_0000fecc,
                                       CONCAT212(in_stack_0000feca,
                                                 CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  unaff_SS,CONCAT24(&local_30,0x50005))))))),
            (int16)CONCAT214(in_stack_0000fedc,
                             CONCAT212(in_stack_0000feda,
                                       CONCAT210(in_stack_0000fed8,
                                                 CONCAT28(in_stack_0000fed6,
                                                          CONCAT26(in_stack_0000fed4,
                                                                   CONCAT24(in_stack_0000fed2,
                                                                            CONCAT22(
                                                  in_stack_0000fed0,in_stack_0000fece))))))),
            (int16)CONCAT412(in_stack_0000feea,
                             CONCAT66(in_stack_0000fee4,
                                      CONCAT24(in_stack_0000fee2,
                                               CONCAT22(in_stack_0000fee0,in_stack_0000fede)))),
            (int16)CONCAT412(in_stack_0000fefa,
                             CONCAT48(in_stack_0000fef6,
                                      CONCAT26(in_stack_0000fef4,
                                               CONCAT24(in_stack_0000fef2,
                                                        CONCAT22(in_stack_0000fef0,in_stack_0000feee
                                                                ))))));
    piVar8 = (int16 *)FUN_1018_56e0((HRGN16)param_1,(int *)&local_30,
                                    (char *)((int)s__None_Available_10a8_4303 + 1),0xe);
    return piVar8;
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_7a68,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000fed8,
                                CONCAT212(in_stack_0000fed6,
                                          CONCAT210(in_stack_0000fed4,
                                                    CONCAT28(in_stack_0000fed2,
                                                             CONCAT26(in_stack_0000fed0,
                                                                      CONCAT24(in_stack_0000fece,
                                                                               CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(in_stack_0000fecc,in_stack_0000feca))))))
                                         )));
  FUN_1018_52da(param_1,param_2 >> 1,3,*(int *)((int)param_4 + 4) + 8,(int16 *)0x0,
                (LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                (int16)CONCAT214(in_stack_0000fed8,
                                 CONCAT212(in_stack_0000fed6,
                                           CONCAT210(in_stack_0000fed4,
                                                     CONCAT28(in_stack_0000fed2,
                                                              CONCAT26(in_stack_0000fed0,
                                                                       CONCAT24(in_stack_0000fece,
                                                                                CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(in_stack_0000fecc,in_stack_0000feca))))))
                                          )));
  if (*(int *)param_4 == 0x4000) {
    FUN_1028_23ac(0,0,(HRGN16)param_1,5,(int)(PTR_DAT_10a8_0000_10a8_8394 + 5),0,
                  *(int *)(*(int *)((int)param_4 + 4) + 0x32),(void *)0x0,(bitmapinfo *)0x0,unaff_SI
                  ,unaff_DI,in_stack_0000feca,
                  (undefined1  [10])
                  CONCAT28(in_stack_0000fed4,
                           CONCAT26(in_stack_0000fed2,
                                    CONCAT24(in_stack_0000fed0,
                                             CONCAT22(in_stack_0000fece,
                                                      CONCAT11(in_stack_0000fecd,in_stack_0000fecc))
                                            ))),CONCAT22(in_stack_0000fed8,in_stack_0000fed6));
  }
  else {
    local_6._2_2_ = CREATECOMPATIBLEDC((HDC16)param_1);
    iVar9 = *(int *)(*(int *)((int)param_4 + 4) + 0x32);
    local_6._0_2_ =
         *(int16 **)
          ((int)&PTR_DAT_10a8_0000_10a8_575a + ((int)(iVar9 + (iVar9 >> 0xf & 0x1fU)) >> 5) * 2);
    piVar8 = SELECTOBJECT((int16 *)local_6,local_6._2_2_,(HRGN16)unaff_SI,unaff_DI,
                          (int16)CONCAT214(in_stack_0000fed8,
                                           CONCAT212(in_stack_0000fed6,
                                                     CONCAT210(in_stack_0000fed4,
                                                               CONCAT28(in_stack_0000fed2,
                                                                        CONCAT26(in_stack_0000fed0,
                                                                                 CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(in_stack_0000fecc,
                                                                    in_stack_0000feca)))))))));
    local_6 = CONCAT22(local_6._2_2_,piVar8);
    uVar17 = *(uint *)(*(int *)((int)param_4 + 4) + 0x32);
    BITBLT(0x20,(int16)CONCAT214(5,CONCAT212(PTR_DAT_10a8_0000_10a8_8394 + 5,
                                             CONCAT210(0x40,CONCAT28(0x40,CONCAT26(local_6._2_2_,
                                                                                   CONCAT24((uVar17
                                                  & 7) << 6,CONCAT22((uVar17 & 0x18) << 3,0xcc))))))
                                ),
           (int16)CONCAT214(in_stack_0000fed2,
                            CONCAT212(in_stack_0000fed0,
                                      CONCAT210(in_stack_0000fece,
                                                CONCAT19(in_stack_0000fecd,
                                                         CONCAT18(in_stack_0000fecc,
                                                                  CONCAT26(in_stack_0000feca,
                                                                           CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_1)))))))),
           (int16)CONCAT214(in_stack_0000fee2,
                            CONCAT212(in_stack_0000fee0,
                                      CONCAT210(in_stack_0000fede,
                                                CONCAT28(in_stack_0000fedc,
                                                         CONCAT26(in_stack_0000feda,
                                                                  CONCAT24(in_stack_0000fed8,
                                                                           CONCAT22(
                                                  in_stack_0000fed6,in_stack_0000fed4))))))),
           (int16)CONCAT214(in_stack_0000fef2,
                            CONCAT212(in_stack_0000fef0,
                                      CONCAT210(in_stack_0000feee,
                                                CONCAT46(in_stack_0000feea,in_stack_0000fee4)))),
           in_stack_0000fef4,
           (int16)CONCAT88(in_stack_0000fefe,CONCAT44(in_stack_0000fefa,in_stack_0000fef6)),
           (int16)in_stack_0000ff06,in_stack_0000ff16);
    SELECTOBJECT((int16 *)local_6,(HRGN16)(local_6 >> 0x10),(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(in_stack_0000fecc,in_stack_0000feca))))))
                                           )));
    DELETEDC(local_6._2_2_);
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000fed8,
                                CONCAT212(in_stack_0000fed6,
                                          CONCAT210(in_stack_0000fed4,
                                                    CONCAT28(in_stack_0000fed2,
                                                             CONCAT26(in_stack_0000fed0,
                                                                      CONCAT24(in_stack_0000fece,
                                                                               CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(in_stack_0000fecc,in_stack_0000feca))))))
                                         )));
  local_8 = PTR_DAT_10a8_0000_10a8_8394 + 0x47;
  TEXTOUT(9,(int16)CONCAT214(in_stack_0000feca,
                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(5,
                                                  CONCAT24(local_8,0x10a84313)))))),
          (int16)CONCAT214(in_stack_0000feda,
                           CONCAT212(in_stack_0000fed8,
                                     CONCAT210(in_stack_0000fed6,
                                               CONCAT28(in_stack_0000fed4,
                                                        CONCAT26(in_stack_0000fed2,
                                                                 CONCAT24(in_stack_0000fed0,
                                                                          CONCAT22(in_stack_0000fece
                                                                                   ,CONCAT11(
                                                  in_stack_0000fecd,in_stack_0000fecc)))))))),
          (LPCSTR)CONCAT22(in_stack_0000fede,in_stack_0000fedc),
          (int16)CONCAT214(in_stack_0000feee,
                           CONCAT410(in_stack_0000feea,
                                     CONCAT64(in_stack_0000fee4,
                                              CONCAT22(in_stack_0000fee2,in_stack_0000fee0)))));
  iVar9 = 0;
  local_1a = 0;
  local_16 = 0;
  do {
    iVar28 = (int)s_From___s_c_c_10a8_10a2 + 6;
    uVar25 = SUB42(&DAT_10a8_86de,0);
    pWVar27 = param_1;
    HVar10 = FUN_1018_50de(iVar9 + 0x47,(char *)&DAT_10a8_86de);
    dVar23 = GETTEXTEXTENT(HVar10,(LPCSTR)CONCAT22(iVar28,uVar25),
                           (int16)CONCAT214(in_stack_0000fed2,
                                            CONCAT212(in_stack_0000fed0,
                                                      CONCAT210(in_stack_0000fece,
                                                                CONCAT19(in_stack_0000fecd,
                                                                         CONCAT18(in_stack_0000fecc,
                                                                                  CONCAT26(
                                                  in_stack_0000feca,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,pWVar27)))))))
                                           ));
    if (local_1a < (int)dVar23) {
      local_1a = (int)dVar23;
    }
    iVar9 = iVar9 + 1;
  } while (iVar9 < 6);
  dVar23 = GETTEXTEXTENT(2,(LPCSTR)0x10a8431d,
                         (int16)CONCAT214(in_stack_0000fed2,
                                          CONCAT212(in_stack_0000fed0,
                                                    CONCAT210(in_stack_0000fece,
                                                              CONCAT19(in_stack_0000fecd,
                                                                       CONCAT18(in_stack_0000fecc,
                                                                                CONCAT26(
                                                  in_stack_0000feca,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_1)))))))
                                         ));
  uVar12 = dVar23 >> 0x10;
  local_1a = local_1a + 5;
  local_c = CONCAT22(local_c._2_2_,(int)dVar23 + local_1a);
  local_6 = local_6 & 0xffff;
  local_16 = 0;
  iVar9 = 0;
  puVar16 = local_8;
  do {
    cVar29 = *(char *)(*(int *)((int)param_4 + 4) + iVar9 + 2);
    if ('\0' < cVar29) {
      puVar16 = puVar16 + (int)PTR_DAT_10a8_0000_10a8_5794;
      if (*(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + iVar9 + -0x7788) < cVar29) {
        HVar10 = 0x7f;
      }
      else {
        HVar10 = 0;
      }
      SETTEXTCOLOR(HVar10,(COLORREF)(ZEXT24(param_1) << 0x10));
      iVar28 = 0;
      piVar8 = (int16 *)FUN_1018_50de(iVar9 + 0x47,(char *)&DAT_10a8_86de);
      local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
      FUN_1018_55f6(param_1,local_1a,(int)puVar16,(int)&DAT_10a8_86de,piVar8,iVar28,
                    CONCAT22(unaff_DI,unaff_SI),in_stack_0000feca,
                    CONCAT212(in_stack_0000fed8,
                              CONCAT210(in_stack_0000fed6,
                                        CONCAT28(in_stack_0000fed4,
                                                 CONCAT26(in_stack_0000fed2,
                                                          CONCAT24(in_stack_0000fed0,
                                                                   CONCAT22(in_stack_0000fece,
                                                                            CONCAT11(
                                                  in_stack_0000fecd,cVar29))))))));
      CVar24 = SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_1) << 0x10));
      uVar12 = CVar24.value >> 0x10;
      iVar28 = 0;
      piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x432010a8,
                         (LPCSTR)CONCAT22((int)*(char *)(*(int *)((int)param_4 + 4) + iVar9 + 2),
                                          0x10a8),(VA_LIST16)0x0);
      FUN_1018_55f6(param_1,(HDC16)local_c,(int)puVar16,(int)&DAT_10a8_86de,piVar8,iVar28,
                    CONCAT22(unaff_DI,unaff_SI),in_stack_0000feca,
                    CONCAT212(in_stack_0000fed8,
                              CONCAT210(in_stack_0000fed6,
                                        CONCAT28(in_stack_0000fed4,
                                                 CONCAT26(in_stack_0000fed2,
                                                          CONCAT24(in_stack_0000fed0,
                                                                   CONCAT22(in_stack_0000fece,
                                                                            CONCAT11(
                                                  in_stack_0000fecd,cVar29))))))));
      local_6 = CONCAT22(1,(int16 *)local_6);
    }
    uVar25 = (undefined2)uVar12;
    iVar9 = iVar9 + 1;
  } while (iVar9 < 6);
  local_8 = puVar16;
  if (local_6._2_2_ == 0) {
    local_8 = puVar16 + (int)PTR_DAT_10a8_0000_10a8_5794;
    FUN_1018_52da(param_1,0x25,local_8,(int)s_____None_____10a8_4323,
                  (int16 *)&PTR_DAT_10a8_0000_10a8_000c,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                  (int16)CONCAT214(in_stack_0000fed8,
                                   CONCAT212(in_stack_0000fed6,
                                             CONCAT210(in_stack_0000fed4,
                                                       CONCAT28(in_stack_0000fed2,
                                                                CONCAT26(in_stack_0000fed0,
                                                                         CONCAT24(in_stack_0000fece,
                                                                                  CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
  }
  iVar9 = FUN_1060_32b2((uint *)param_4);
  if (iVar9 < 1) {
    local_14 = -1;
  }
  else {
    uVar26 = FUN_1070_31b6((char *)(*(int *)((int)param_4 + 4) + 2));
    local_14 = CONCAT22(uVar25,uVar26);
  }
  if (local_14 < 100000) {
    if (0 < local_14) {
      piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x433b10a8,
                         (LPCSTR)CONCAT22((int)local_14,0x10a8),(VA_LIST16)((ulong)local_14 >> 0x10)
                        );
      puVar16 = local_8 + (int)PTR_DAT_10a8_0000_10a8_5794;
      uVar25 = SUB42(&DAT_10a8_86de,0);
      goto LAB_1070_1c2d;
    }
    if (local_14 == -1) {
      SETTEXTCOLOR(0x7f,(COLORREF)(ZEXT24(param_1) << 0x10));
      FUN_1018_52da(param_1,0x25,local_8 + (int)PTR_DAT_10a8_0000_10a8_5794 + 4,
                    (int)s_UnAvail_10a8_4345,(int16 *)0x7,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                    (int16)CONCAT214(in_stack_0000fed8,
                                     CONCAT212(in_stack_0000fed6,
                                               CONCAT210(in_stack_0000fed4,
                                                         CONCAT28(in_stack_0000fed2,
                                                                  CONCAT26(in_stack_0000fed0,
                                                                           CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                   );
      SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_1) << 0x10));
    }
    else {
      FUN_1018_52da(param_1,0x25,local_8 + (int)PTR_DAT_10a8_0000_10a8_5794 + 4,
                    (int)s_Available_10a8_434d,(int16 *)0x9,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                    (int16)CONCAT214(in_stack_0000fed8,
                                     CONCAT212(in_stack_0000fed6,
                                               CONCAT210(in_stack_0000fed4,
                                                         CONCAT28(in_stack_0000fed2,
                                                                  CONCAT26(in_stack_0000fed0,
                                                                           CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                   );
    }
  }
  else {
    puVar16 = local_8 + (int)PTR_DAT_10a8_0000_10a8_5794;
    uVar25 = SUB42(s_Cost__Lots_10a8_4330,0);
    piVar8 = (int16 *)0xa;
LAB_1070_1c2d:
    TEXTOUT((HDC16)piVar8,
            (int16)CONCAT214(in_stack_0000feca,
                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(5,
                                                  CONCAT24(puVar16 + 4,CONCAT22(0x10a8,uVar25)))))))
            ,(int16)CONCAT214(in_stack_0000feda,
                              CONCAT212(in_stack_0000fed8,
                                        CONCAT210(in_stack_0000fed6,
                                                  CONCAT28(in_stack_0000fed4,
                                                           CONCAT26(in_stack_0000fed2,
                                                                    CONCAT24(in_stack_0000fed0,
                                                                             CONCAT22(
                                                  in_stack_0000fece,
                                                  CONCAT11(in_stack_0000fecd,cVar29)))))))),
            (LPCSTR)CONCAT22(in_stack_0000fede,in_stack_0000fedc),
            (int16)CONCAT214(in_stack_0000feee,
                             CONCAT410(in_stack_0000feea,
                                       CONCAT64(in_stack_0000fee4,
                                                CONCAT22(in_stack_0000fee2,in_stack_0000fee0)))));
  }
  local_e = PTR_DAT_10a8_0000_10a8_8394 + 5;
  if ((int)PTR_DAT_10a8_0000_10a8_5794 * 4 < 0x40) {
    local_e = local_e + ((0x10 - (int)PTR_DAT_10a8_0000_10a8_5794) * 4 >> 1);
  }
  local_1a = 0;
  ppiVar13 = (int16 **)&PTR_s_Ironium_10a8_05db_10a8_060c;
  local_8 = local_e;
  do {
    iVar9 = (int)s_From___s_c_c_10a8_10a2 + 6;
    piVar8 = *ppiVar13;
    pWVar27 = param_1;
    hdc = LSTRLEN(*ppiVar13,(LPCSTR)CONCAT22(piVar8,0x10a8));
    dVar23 = GETTEXTEXTENT((HDC16)hdc,(LPCSTR)CONCAT22(iVar9,piVar8),
                           (int16)CONCAT214(in_stack_0000fed2,
                                            CONCAT212(in_stack_0000fed0,
                                                      CONCAT210(in_stack_0000fece,
                                                                CONCAT19(in_stack_0000fecd,
                                                                         CONCAT18(cVar29,CONCAT26(
                                                  in_stack_0000feca,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,pWVar27)))))))
                                           ));
    if (local_1a < (int)dVar23) {
      local_1a = (int)dVar23;
    }
    ppiVar13 = ppiVar13 + 1;
  } while (ppiVar13 < (int16 **)((int)&PTR_s_Resources_10a8_0600_10a8_0614 + 1));
  local_1a = local_1a + 0x4d;
  FUN_1010_239a((int)PTR_DAT_10a8_0001_10a8_00c0,*(int *)((int)param_4 + 4),
                (int)s_From___s_c_c_10a8_10a2 + 6,local_3a + 1);
  local_6 = 0x5c20002;
  puVar14 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_05c2;
  do {
    if (puVar14 != (undefined4 *)0x5ce) {
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000fed8,
                                    CONCAT212(in_stack_0000fed6,
                                              CONCAT210(in_stack_0000fed4,
                                                        CONCAT28(in_stack_0000fed2,
                                                                 CONCAT26(in_stack_0000fed0,
                                                                          CONCAT24(in_stack_0000fece
                                                                                   ,CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
      uVar5 = *puVar14;
      SETTEXTCOLOR((HDC16)uVar5,(COLORREF)CONCAT22(param_1,(int)((ulong)uVar5 >> 0x10)));
      FUN_1018_55f6(param_1,local_1a,(int)local_8,*(undefined2 *)((int)(int16 *)local_6 + 0x60a),
                    (int16 *)0x0,0,CONCAT22(unaff_DI,unaff_SI),in_stack_0000feca,
                    CONCAT212(in_stack_0000fed8,
                              CONCAT210(in_stack_0000fed6,
                                        CONCAT28(in_stack_0000fed4,
                                                 CONCAT26(in_stack_0000fed2,
                                                          CONCAT24(in_stack_0000fed0,
                                                                   CONCAT22(in_stack_0000fece,
                                                                            CONCAT11(
                                                  in_stack_0000fecd,cVar29))))))));
      SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                   (int16)CONCAT214(in_stack_0000fed8,
                                    CONCAT212(in_stack_0000fed6,
                                              CONCAT210(in_stack_0000fed4,
                                                        CONCAT28(in_stack_0000fed2,
                                                                 CONCAT26(in_stack_0000fed0,
                                                                          CONCAT24(in_stack_0000fece
                                                                                   ,CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
      SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_7ac8,
                   (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_7ac8 >> 0x10)));
      uVar17 = local_32;
      if (puVar14 != (undefined4 *)&PTR_DAT_10a8_0000_10a8_05d2) {
        uVar17 = *(uint *)((int)local_3a + (int)(int16 *)local_6);
      }
      local_c = local_c & 0xffff | (ulong)uVar17 << 0x10;
      piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x435710a8,(LPCSTR)CONCAT22(uVar17,0x10a8),
                         unaff_SI);
      local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
      FUN_1018_55f6(param_1,(int)(PTR_DAT_10a8_0000_10a8_5924 + local_1a),(int)local_8,
                    (int)&DAT_10a8_86de,piVar8,0,CONCAT22(unaff_DI,unaff_SI),in_stack_0000feca,
                    CONCAT212(in_stack_0000fed8,
                              CONCAT210(in_stack_0000fed6,
                                        CONCAT28(in_stack_0000fed4,
                                                 CONCAT26(in_stack_0000fed2,
                                                          CONCAT24(in_stack_0000fed0,
                                                                   CONCAT22(in_stack_0000fece,
                                                                            CONCAT11(
                                                  in_stack_0000fecd,cVar29))))))));
      if (puVar14 < (undefined4 *)&PTR_DAT_10a8_0000_10a8_05d2) {
        TEXTOUT(2,(int16)CONCAT214(in_stack_0000feca,
                                   CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_5924 + local_1a,
                                                  CONCAT24(local_8,0x10a8435a)))))),
                (int16)CONCAT214(in_stack_0000feda,
                                 CONCAT212(in_stack_0000fed8,
                                           CONCAT210(in_stack_0000fed6,
                                                     CONCAT28(in_stack_0000fed4,
                                                              CONCAT26(in_stack_0000fed2,
                                                                       CONCAT24(in_stack_0000fed0,
                                                                                CONCAT22(
                                                  in_stack_0000fece,
                                                  CONCAT11(in_stack_0000fecd,cVar29)))))))),
                (LPCSTR)CONCAT22(in_stack_0000fede,in_stack_0000fedc),
                (int16)CONCAT214(in_stack_0000feee,
                                 CONCAT410(in_stack_0000feea,
                                           CONCAT64(in_stack_0000fee4,
                                                    CONCAT22(in_stack_0000fee2,in_stack_0000fee0))))
               );
      }
      local_8 = local_8 + (int)PTR_DAT_10a8_0000_10a8_5794;
    }
    local_6 = local_6 & 0xffff0000 | (ulong)((int)(int16 *)local_6 + 2);
    puVar14 = puVar14 + 1;
  } while (puVar14 < (undefined4 *)((int)&PTR_DAT_10a8_0000_10a8_05d2 + 1));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000fed8,
                                CONCAT212(in_stack_0000fed6,
                                          CONCAT210(in_stack_0000fed4,
                                                    CONCAT28(in_stack_0000fed2,
                                                             CONCAT26(in_stack_0000fed0,
                                                                      CONCAT24(in_stack_0000fece,
                                                                               CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
  if (*(int *)(*(int *)((int)param_4 + 4) + 0x28) != 0) {
    piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x435d10a8,
                       (LPCSTR)CONCAT22(*(undefined2 *)(*(int *)((int)param_4 + 4) + 0x28),0x10a8),
                       unaff_SI);
    TEXTOUT((HDC16)piVar8,
            (int16)CONCAT214(in_stack_0000feca,
                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(
                                                  PTR_DAT_10a8_0000_10a8_5924 + local_1a + 0x20,
                                                  CONCAT24(local_e,0x10a886de)))))),
            (int16)CONCAT214(in_stack_0000feda,
                             CONCAT212(in_stack_0000fed8,
                                       CONCAT210(in_stack_0000fed6,
                                                 CONCAT28(in_stack_0000fed4,
                                                          CONCAT26(in_stack_0000fed2,
                                                                   CONCAT24(in_stack_0000fed0,
                                                                            CONCAT22(
                                                  in_stack_0000fece,
                                                  CONCAT11(in_stack_0000fecd,cVar29)))))))),
            (LPCSTR)CONCAT22(in_stack_0000fede,in_stack_0000fedc),
            (int16)CONCAT214(in_stack_0000feee,
                             CONCAT410(in_stack_0000feea,
                                       CONCAT64(in_stack_0000fee4,
                                                CONCAT22(in_stack_0000fee2,in_stack_0000fee0)))));
  }
  iVar9 = (HDC16)local_c + 4;
  if (iVar9 < 0x49) {
    iVar9 = 0x49;
  }
  SETRECT((RECT16 *)CONCAT22(param_2 + -5,-9 - ((int)PTR_DAT_10a8_0000_10a8_5794 * 2 - param_3)),
          (int16)CONCAT115(in_stack_0000fecd,
                           CONCAT114(cVar29,CONCAT212(in_stack_0000feca,
                                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  unaff_SS,CONCAT24(&local_30,
                                                                    CONCAT22(iVar9,
                                                  PTR_DAT_10a8_0000_10a8_8394 + 0x47)))))))),
          (int16)CONCAT214(in_stack_0000fedc,
                           CONCAT212(in_stack_0000feda,
                                     CONCAT210(in_stack_0000fed8,
                                               CONCAT28(in_stack_0000fed6,
                                                        CONCAT26(in_stack_0000fed4,
                                                                 CONCAT24(in_stack_0000fed2,
                                                                          CONCAT22(in_stack_0000fed0
                                                                                   ,
                                                  in_stack_0000fece))))))),
          (int16)CONCAT412(in_stack_0000feea,
                           CONCAT66(in_stack_0000fee4,
                                    CONCAT24(in_stack_0000fee2,
                                             CONCAT22(in_stack_0000fee0,in_stack_0000fede)))),
          (int16)CONCAT412(in_stack_0000fefa,
                           CONCAT48(in_stack_0000fef6,
                                    CONCAT26(in_stack_0000fef4,
                                             CONCAT24(in_stack_0000fef2,
                                                      CONCAT22(in_stack_0000fef0,in_stack_0000feee))
                                            ))));
  if (0xe < (int)PTR_DAT_10a8_0000_10a8_5794) {
    local_30 = local_30 + 4;
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000fed8,
                                CONCAT212(in_stack_0000fed6,
                                          CONCAT210(in_stack_0000fed4,
                                                    CONCAT28(in_stack_0000fed2,
                                                             CONCAT26(in_stack_0000fed0,
                                                                      CONCAT24(in_stack_0000fece,
                                                                               CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(local_30,
                                                  CONCAT26(local_2e,CONCAT24(local_2c - local_30,
                                                                             0x100f0)))))),
         (int16)CONCAT214(in_stack_0000fed8,
                          CONCAT212(in_stack_0000fed6,
                                    CONCAT210(in_stack_0000fed4,
                                              CONCAT28(in_stack_0000fed2,
                                                       CONCAT26(in_stack_0000fed0,
                                                                CONCAT24(in_stack_0000fece,
                                                                         CONCAT13(in_stack_0000fecd,
                                                                                  CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))),
         (int16)CONCAT610(in_stack_0000fee4,
                          CONCAT28(in_stack_0000fee2,
                                   CONCAT26(in_stack_0000fee0,
                                            CONCAT24(in_stack_0000fede,
                                                     CONCAT22(in_stack_0000fedc,in_stack_0000feda)))
                                  )),
         (int16)CONCAT412(in_stack_0000fef6,
                          CONCAT210(in_stack_0000fef4,
                                    CONCAT28(in_stack_0000fef2,
                                             CONCAT26(in_stack_0000fef0,
                                                      CONCAT24(in_stack_0000feee,in_stack_0000feea))
                                            ))),in_stack_0000fefa);
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(local_30,
                                                  CONCAT26(local_2e,CONCAT24(1,CONCAT22(local_2a -
                                                                                        (int)
                                                  local_2e,0xf0))))))),
         (int16)CONCAT214(in_stack_0000fed8,
                          CONCAT212(in_stack_0000fed6,
                                    CONCAT210(in_stack_0000fed4,
                                              CONCAT28(in_stack_0000fed2,
                                                       CONCAT26(in_stack_0000fed0,
                                                                CONCAT24(in_stack_0000fece,
                                                                         CONCAT13(in_stack_0000fecd,
                                                                                  CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))),
         (int16)CONCAT610(in_stack_0000fee4,
                          CONCAT28(in_stack_0000fee2,
                                   CONCAT26(in_stack_0000fee0,
                                            CONCAT24(in_stack_0000fede,
                                                     CONCAT22(in_stack_0000fedc,in_stack_0000feda)))
                                  )),
         (int16)CONCAT412(in_stack_0000fef6,
                          CONCAT210(in_stack_0000fef4,
                                    CONCAT28(in_stack_0000fef2,
                                             CONCAT26(in_stack_0000fef0,
                                                      CONCAT24(in_stack_0000feee,in_stack_0000feea))
                                            ))),in_stack_0000fefa);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT214(in_stack_0000fed8,
                                CONCAT212(in_stack_0000fed6,
                                          CONCAT210(in_stack_0000fed4,
                                                    CONCAT28(in_stack_0000fed2,
                                                             CONCAT26(in_stack_0000fed0,
                                                                      CONCAT24(in_stack_0000fece,
                                                                               CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(local_30,
                                                  CONCAT26(local_2a + -1,
                                                           CONCAT24(local_2c - local_30,0x100f0)))))
                              ),
         (int16)CONCAT214(in_stack_0000fed8,
                          CONCAT212(in_stack_0000fed6,
                                    CONCAT210(in_stack_0000fed4,
                                              CONCAT28(in_stack_0000fed2,
                                                       CONCAT26(in_stack_0000fed0,
                                                                CONCAT24(in_stack_0000fece,
                                                                         CONCAT13(in_stack_0000fecd,
                                                                                  CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))),
         (int16)CONCAT610(in_stack_0000fee4,
                          CONCAT28(in_stack_0000fee2,
                                   CONCAT26(in_stack_0000fee0,
                                            CONCAT24(in_stack_0000fede,
                                                     CONCAT22(in_stack_0000fedc,in_stack_0000feda)))
                                  )),
         (int16)CONCAT412(in_stack_0000fef6,
                          CONCAT210(in_stack_0000fef4,
                                    CONCAT28(in_stack_0000fef2,
                                             CONCAT26(in_stack_0000fef0,
                                                      CONCAT24(in_stack_0000feee,in_stack_0000feea))
                                            ))),in_stack_0000fefa);
  PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(local_2c + -1,
                                                                                      CONCAT26(
                                                  local_2e,CONCAT24(1,CONCAT22(local_2a -
                                                                               (int)local_2e,0xf0)))
                                                  )))),
         (int16)CONCAT214(in_stack_0000fed8,
                          CONCAT212(in_stack_0000fed6,
                                    CONCAT210(in_stack_0000fed4,
                                              CONCAT28(in_stack_0000fed2,
                                                       CONCAT26(in_stack_0000fed0,
                                                                CONCAT24(in_stack_0000fece,
                                                                         CONCAT13(in_stack_0000fecd,
                                                                                  CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))),
         (int16)CONCAT610(in_stack_0000fee4,
                          CONCAT28(in_stack_0000fee2,
                                   CONCAT26(in_stack_0000fee0,
                                            CONCAT24(in_stack_0000fede,
                                                     CONCAT22(in_stack_0000fedc,in_stack_0000feda)))
                                  )),
         (int16)CONCAT412(in_stack_0000fef6,
                          CONCAT210(in_stack_0000fef4,
                                    CONCAT28(in_stack_0000fef2,
                                             CONCAT26(in_stack_0000fef0,
                                                      CONCAT24(in_stack_0000feee,in_stack_0000feea))
                                            ))),in_stack_0000fefa);
  FUN_1018_5948((int *)&local_30,-3,-3);
  local_1e = 0xffff;
  piVar8 = *(int16 **)param_4;
  if (piVar8 == (int16 *)&PTR_DAT_10a8_0000_10a8_0020) {
    FUN_1018_5948((int *)&local_30,-4,-4);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
    local_6 = local_6 & 0xffff | (ulong)local_30 << 0x10;
    FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,(int)s_Torp_Power__10a8_43d4,
                  (int16 *)0x0,(LPCSTR)CONCAT22(unaff_SI,1),
                  (int16)CONCAT214(in_stack_0000fed6,
                                   CONCAT212(in_stack_0000fed4,
                                             CONCAT210(in_stack_0000fed2,
                                                       CONCAT28(in_stack_0000fed0,
                                                                CONCAT26(in_stack_0000fece,
                                                                         CONCAT15(in_stack_0000fecd,
                                                                                  CONCAT14(cVar29,
                                                  CONCAT22(in_stack_0000feca,unaff_DI)))))))));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
    piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x43e210a8,
                       (LPCSTR)CONCAT22(*(undefined2 *)(*(int *)((int)param_4 + 4) + 0x36),0x10a8),
                       unaff_SI);
    FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,(int)&DAT_10a8_86de,piVar8,
                  (LPCSTR)CONCAT22(unaff_SI,1),
                  (int16)CONCAT214(in_stack_0000fed6,
                                   CONCAT212(in_stack_0000fed4,
                                             CONCAT210(in_stack_0000fed2,
                                                       CONCAT28(in_stack_0000fed0,
                                                                CONCAT26(in_stack_0000fece,
                                                                         CONCAT15(in_stack_0000fecd,
                                                                                  CONCAT14(cVar29,
                                                  CONCAT22(in_stack_0000feca,unaff_DI)))))))));
    local_6 = local_6 & 0xffff | (ulong)local_30 << 0x10;
    local_2e = local_2e + (int)PTR_DAT_10a8_0000_10a8_5794;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
    FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,(int)s_Torpedo_Range__10a8_43e5,
                  (int16 *)0x0,(LPCSTR)CONCAT22(unaff_SI,1),
                  (int16)CONCAT214(in_stack_0000fed6,
                                   CONCAT212(in_stack_0000fed4,
                                             CONCAT210(in_stack_0000fed2,
                                                       CONCAT28(in_stack_0000fed0,
                                                                CONCAT26(in_stack_0000fece,
                                                                         CONCAT15(in_stack_0000fecd,
                                                                                  CONCAT14(cVar29,
                                                  CONCAT22(in_stack_0000feca,unaff_DI)))))))));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
    uVar25 = *(undefined2 *)(*(int *)((int)param_4 + 4) + 0x34);
    uVar26 = 0x43f6;
  }
  else {
    if ((int16 *)&PTR_DAT_10a8_0000_10a8_0020 < piVar8) {
      if (piVar8 == (int16 *)((int)s_backup_10a8_0ffa + 6U)) {
        FUN_1018_5948((int *)&local_30,-4,-4);
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT214(in_stack_0000fed8,
                                      CONCAT212(in_stack_0000fed6,
                                                CONCAT210(in_stack_0000fed4,
                                                          CONCAT28(in_stack_0000fed2,
                                                                   CONCAT26(in_stack_0000fed0,
                                                                            CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                    );
        local_26 = local_30;
        local_28 = local_2e;
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT214(in_stack_0000fed8,
                                      CONCAT212(in_stack_0000fed6,
                                                CONCAT210(in_stack_0000fed4,
                                                          CONCAT28(in_stack_0000fed2,
                                                                   CONCAT26(in_stack_0000fed0,
                                                                            CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                    );
        bVar4 = *(byte *)((int)param_4 + 2);
        piVar8 = param_4;
        switch(bVar4) {
        case 0:
          uVar17 = 0x93;
          break;
        case 1:
          uVar17 = 0x94;
          local_1e = 0x2f;
          break;
        case 2:
          local_1e = 0x30;
          uVar17 = 0x95;
          break;
        case 3:
          local_1e = 0x30;
          uVar17 = 0x96;
          break;
        case 4:
          local_1e = 0x2f;
          uVar17 = 0x97;
          break;
        case 5:
          uVar17 = 0x92;
          break;
        case 6:
          uVar17 = 0x91;
          break;
        case 7:
          uVar17 = 0xec;
          break;
        case 8:
          uVar17 = 0xed;
          break;
        default:
          uVar17 = 0xffff;
          piVar8 = (int16 *)(uint)bVar4;
        }
        if (uVar17 == 0xffff) goto switchD_1070_28cb_caseD_6;
        uVar17 = FUN_1018_50de(uVar17,(char *)&DAT_10a8_86de);
        local_c = local_c & 0xffff | (ulong)uVar17 << 0x10;
      }
      else {
        if ((int16 *)((int)s_backup_10a8_0ffa + 6U) < piVar8) {
          if (piVar8 == (int16 *)0x2000) {
            FUN_1018_5948((int *)&local_30,-4,-4);
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,
                         unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                   CONCAT212(in_stack_0000fed6,
                                                             CONCAT210(in_stack_0000fed4,
                                                                       CONCAT28(in_stack_0000fed2,
                                                                                CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
            local_6 = CONCAT22(local_30,local_2e);
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,
                         unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                   CONCAT212(in_stack_0000fed6,
                                                             CONCAT210(in_stack_0000fed4,
                                                                       CONCAT28(in_stack_0000fed2,
                                                                                CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
            if (*(byte *)((int)param_4 + 2) < 5) {
              local_1e = 0xce;
              FUN_1018_50de(0xcf,&stack0xfece);
              piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xfece,0x10a8),
                                 (LPCSTR)CONCAT22(*(undefined2 *)(*(int *)((int)param_4 + 4) + 0x34)
                                                  ,unaff_SS),unaff_SI);
            }
            else {
              FUN_1018_50de(0xd0,&stack0xfece);
              piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xfece,0x10a8),
                                 (LPCSTR)CONCAT22(*(undefined2 *)
                                                   (((int)(*(byte *)((int)param_4 + 2) - 5) / 3) * 2
                                                   + 0x634),unaff_SS),
                                 (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
            }
            local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
            if ((int)piVar8 < 1) goto switchD_1070_28cb_caseD_6;
            iVar9 = local_2c - local_30;
            puVar14 = &local_6;
            puVar6 = &local_6;
          }
          else {
            if (piVar8 == (int16 *)((int)s_Small_Colonizer_10a8_3ffe + 2U)) {
              FUN_1018_5948((int *)&local_30,-4,-4);
              local_6 = CONCAT22(0x38,(int)(local_2c - local_30) / 2 + local_30);
              in_stack_0000feca = (int16 *)(uint)*(byte *)((int)param_4 + 2);
              if (in_stack_0000feca == (int16 *)0xe) {
                local_1e = 199;
              }
              else if ((in_stack_0000feca == (int16 *)&DAT_10a8_0003) ||
                      (in_stack_0000feca == (int16 *)((int)&PTR_DAT_10a8_0000_10a8_000c + 1U))) {
                local_1e = 200;
              }
              else if (in_stack_0000feca == (int16 *)&PTR_DAT_10a8_0000_10a8_0016) {
                local_1e = 0xca;
              }
              else if (in_stack_0000feca == (int16 *)((int)&PTR_DAT_10a8_0000_10a8_0016 + 1U)) {
                local_1e = 0xc9;
              }
              else if ((in_stack_0000feca == (int16 *)&PTR_DAT_10a8_0000_10a8_0014) ||
                      (in_stack_0000feca == (int16 *)&PTR_DAT_10a8_0000_10a8_0018)) {
                local_1e = 0xc5;
              }
              else if (((in_stack_0000feca == (int16 *)0x9) || (in_stack_0000feca == (int16 *)0xa))
                      || (in_stack_0000feca == (int16 *)((int)&PTR_DAT_10a8_0000_10a8_0012 + 1U))) {
                local_1e = 0xcb;
              }
              else if (in_stack_0000feca == (int16 *)&PTR_DAT_10a8_0000_10a8_0012) {
                local_1e = 0xd2;
              }
              else if (((in_stack_0000feca == (int16 *)&PTR_DAT_10a8_0000_10a8_000c) ||
                       (in_stack_0000feca == (int16 *)&PTR_DAT_10a8_0000_10a8_0016)) ||
                      ((in_stack_0000feca == (int16 *)((int)&PTR_DAT_10a8_0000_10a8_0018 + 1U) ||
                       ((in_stack_0000feca == (int16 *)0xb || (in_stack_0000feca == (int16 *)0x8))))
                      )) {
                local_1e = 0xcc;
              }
              iVar9 = 0;
              local_16 = 0;
              do {
                uVar17 = FUN_1018_50de(local_6._2_2_,(char *)&DAT_10a8_86de);
                local_c = local_c & 0xffff | (ulong)uVar17 << 0x10;
                SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,
                             unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                       CONCAT212(in_stack_0000fed6,
                                                                 CONCAT210(in_stack_0000fed4,
                                                                           CONCAT28(
                                                  in_stack_0000fed2,
                                                  CONCAT26(in_stack_0000fed0,
                                                           CONCAT24(in_stack_0000fece,
                                                                    CONCAT13(in_stack_0000fecd,
                                                                             CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
                FUN_1018_55f6(param_1,(int)(int16 *)local_6,(int)local_2e,(int)&DAT_10a8_86de,
                              local_c._2_2_,0,CONCAT22(unaff_DI,unaff_SI),in_stack_0000feca,
                              CONCAT212(in_stack_0000fed8,
                                        CONCAT210(in_stack_0000fed6,
                                                  CONCAT28(in_stack_0000fed4,
                                                           CONCAT26(in_stack_0000fed2,
                                                                    CONCAT24(in_stack_0000fed0,
                                                                             CONCAT22(
                                                  in_stack_0000fece,
                                                  CONCAT11(in_stack_0000fecd,cVar29))))))));
                SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,
                             unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                       CONCAT212(in_stack_0000fed6,
                                                                 CONCAT210(in_stack_0000fed4,
                                                                           CONCAT28(
                                                  in_stack_0000fed2,
                                                  CONCAT26(in_stack_0000fed0,
                                                           CONCAT24(in_stack_0000fece,
                                                                    CONCAT13(in_stack_0000fecd,
                                                                             CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
                if (iVar9 == 0) {
                  uVar25 = *(undefined2 *)(*(int *)((int)param_4 + 4) + 0x36);
                  uVar26 = 0x437a;
                }
                else if (iVar9 == 1) {
                  uVar25 = *(undefined2 *)(*(int *)((int)param_4 + 4) + 0x34);
                  uVar26 = 0x437f;
                }
                else {
                  uVar25 = *(undefined2 *)(*(int *)((int)param_4 + 4) + 0x38);
                  uVar26 = 0x4384;
                }
                piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar26,0x10a8),
                                   (LPCSTR)CONCAT22(uVar25,0x10a8),unaff_SI);
                local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
                TEXTOUT((HDC16)piVar8,
                        (int16)CONCAT214(in_stack_0000feca,
                                         CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26((int16 *)local_6,
                                                           CONCAT24(local_2e,0x10a886de)))))),
                        (int16)CONCAT214(in_stack_0000feda,
                                         CONCAT212(in_stack_0000fed8,
                                                   CONCAT210(in_stack_0000fed6,
                                                             CONCAT28(in_stack_0000fed4,
                                                                      CONCAT26(in_stack_0000fed2,
                                                                               CONCAT24(
                                                  in_stack_0000fed0,
                                                  CONCAT22(in_stack_0000fece,
                                                           CONCAT11(in_stack_0000fecd,cVar29))))))))
                        ,(LPCSTR)CONCAT22(in_stack_0000fede,in_stack_0000fedc),
                        (int16)CONCAT214(in_stack_0000feee,
                                         CONCAT410(in_stack_0000feea,
                                                   CONCAT64(in_stack_0000fee4,
                                                            CONCAT22(in_stack_0000fee2,
                                                                     in_stack_0000fee0)))));
                local_6 = local_6 & 0xffff | (ulong)(local_6._2_2_ + 1) << 0x10;
                piVar8 = (int16 *)(((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2);
                local_2e = local_2e + (int)piVar8;
                iVar9 = iVar9 + 1;
              } while (iVar9 < 3);
              goto switchD_1070_28cb_caseD_6;
            }
            piVar8 = piVar8 + -0x800;
            if (piVar8 != (int16 *)0x0) goto switchD_1070_28cb_caseD_6;
            FUN_1018_5948((int *)&local_30,-4,-4);
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,
                         unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                   CONCAT212(in_stack_0000fed6,
                                                             CONCAT210(in_stack_0000fed4,
                                                                       CONCAT28(in_stack_0000fed2,
                                                                                CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
            local_24._2_2_ = local_30;
            local_24._0_2_ = local_2e;
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,
                         unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                   CONCAT212(in_stack_0000fed6,
                                                             CONCAT210(in_stack_0000fed4,
                                                                       CONCAT28(in_stack_0000fed2,
                                                                                CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
            local_c = local_c & 0xffff;
            bVar4 = *(byte *)((int)param_4 + 2);
            piVar8 = (int16 *)(uint)bVar4;
            in_stack_0000feca = (int16 *)(uint)bVar4;
            if ((in_stack_0000feca < (int16 *)0x7) || ((int16 *)0xb < in_stack_0000feca)) {
              if (in_stack_0000feca < (int16 *)0x7) {
                uVar17 = *(uint *)(*(int *)((int)param_4 + 4) + 0x34);
                FUN_1018_50de(0x29,&stack0xfece);
                piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xfece,0x10a8),
                                   (LPCSTR)CONCAT22((uVar17 ^ (int)uVar17 >> 0xf) -
                                                    ((int)uVar17 >> 0xf),unaff_SS),unaff_SI);
                local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
                if ((int)uVar17 < 0) {
                  FUN_1018_5366(param_1,(undefined **)((int)&local_24 + 2),&local_24,
                                (int)&DAT_10a8_86de,piVar8,local_30,local_2c - local_30,0,0,1);
                  local_24._2_2_ = local_30;
                  local_24._0_2_ =
                       (undefined *)local_24 + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
                  FUN_1018_50de(0x2c,&stack0xfece);
                  piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xfece,0x10a8),
                                     (LPCSTR)CONCAT22((int)-uVar17 >> 1,unaff_SS),unaff_SI);
                  local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
                  local_1e = 0xd1;
                }
              }
            }
            else {
              SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,
                           unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                     CONCAT212(in_stack_0000fed6,
                                                               CONCAT210(in_stack_0000fed4,
                                                                         CONCAT28(in_stack_0000fed2,
                                                                                  CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
              local_2c = local_2c + -2;
              piVar8 = (int16 *)FUN_1018_50de(0x25,(char *)&DAT_10a8_86de);
              local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
              FUN_1018_52da(param_1,((int)(local_2c - local_30) >> 1) + local_30,local_2e,
                            (int)&DAT_10a8_86de,piVar8,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                            (int16)CONCAT214(in_stack_0000fed8,
                                             CONCAT212(in_stack_0000fed6,
                                                       CONCAT210(in_stack_0000fed4,
                                                                 CONCAT28(in_stack_0000fed2,
                                                                          CONCAT26(in_stack_0000fed0
                                                                                   ,CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                           );
              local_2e = local_2e + (int)PTR_DAT_10a8_0000_10a8_5794;
              dVar23 = GETTEXTEXTENT(3,(LPCSTR)0x10a843fc,
                                     (int16)CONCAT214(in_stack_0000fed2,
                                                      CONCAT212(in_stack_0000fed0,
                                                                CONCAT210(in_stack_0000fece,
                                                                          CONCAT19(in_stack_0000fecd
                                                                                   ,CONCAT18(cVar29,
                                                  CONCAT26(in_stack_0000feca,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_1)))))))));
              iVar9 = (int)dVar23;
              local_20 = (int)(((local_2c - local_30) - iVar9) + -10) / 5;
              iVar28 = (local_2a - (int)local_2e) - (int)PTR_DAT_10a8_0000_10a8_5794;
              local_1e = (iVar28 + -8) / 5;
              PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  local_30 + iVar9 + 6,
                                                  CONCAT26(local_2e,CONCAT24(1,(ulong)(iVar28 - 4)
                                                                               << 0x10)))))),
                     (int16)CONCAT214(in_stack_0000fed8,
                                      CONCAT212(in_stack_0000fed6,
                                                CONCAT210(in_stack_0000fed4,
                                                          CONCAT28(in_stack_0000fed2,
                                                                   CONCAT26(in_stack_0000fed0,
                                                                            CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                     ,(int16)CONCAT610(in_stack_0000fee4,
                                       CONCAT28(in_stack_0000fee2,
                                                CONCAT26(in_stack_0000fee0,
                                                         CONCAT24(in_stack_0000fede,
                                                                  CONCAT22(in_stack_0000fedc,
                                                                           in_stack_0000feda))))),
                     (int16)CONCAT412(in_stack_0000fef6,
                                      CONCAT210(in_stack_0000fef4,
                                                CONCAT28(in_stack_0000fef2,
                                                         CONCAT26(in_stack_0000fef0,
                                                                  CONCAT24(in_stack_0000feee,
                                                                           in_stack_0000feea))))),
                     in_stack_0000fefa);
              PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  local_30 + iVar9 + 6,
                                                  CONCAT26((local_2a -
                                                           (int)PTR_DAT_10a8_0000_10a8_5794) + -4,
                                                           CONCAT24(((local_2c - local_30) - iVar9)
                                                                    + -6,0x10000)))))),
                     (int16)CONCAT214(in_stack_0000fed8,
                                      CONCAT212(in_stack_0000fed6,
                                                CONCAT210(in_stack_0000fed4,
                                                          CONCAT28(in_stack_0000fed2,
                                                                   CONCAT26(in_stack_0000fed0,
                                                                            CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                     ,(int16)CONCAT610(in_stack_0000fee4,
                                       CONCAT28(in_stack_0000fee2,
                                                CONCAT26(in_stack_0000fee0,
                                                         CONCAT24(in_stack_0000fede,
                                                                  CONCAT22(in_stack_0000fedc,
                                                                           in_stack_0000feda))))),
                     (int16)CONCAT412(in_stack_0000fef6,
                                      CONCAT210(in_stack_0000fef4,
                                                CONCAT28(in_stack_0000fef2,
                                                         CONCAT26(in_stack_0000fef0,
                                                                  CONCAT24(in_stack_0000feee,
                                                                           in_stack_0000feea))))),
                     in_stack_0000fefa);
              local_8 = (undefined *)(local_30 + iVar9);
              local_18 = (-(int)PTR_DAT_10a8_0000_10a8_5794 - (local_1e * 5 - local_2a)) + -4;
              local_6._2_2_ = 100;
              SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_1) << 0x10));
              iVar28 = local_18;
              iVar21 = local_6._2_2_;
              local_1a = iVar9;
              do {
                piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x440010a8,
                                   (LPCSTR)CONCAT22(iVar21,0x10a8),unaff_SI);
                local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
                FUN_1018_55f6(param_1,(int)local_8,iVar28 - ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1),
                              (int)&DAT_10a8_86de,piVar8,0,CONCAT22(unaff_DI,unaff_SI),
                              in_stack_0000feca,
                              CONCAT212(in_stack_0000fed8,
                                        CONCAT210(in_stack_0000fed6,
                                                  CONCAT28(in_stack_0000fed4,
                                                           CONCAT26(in_stack_0000fed2,
                                                                    CONCAT24(in_stack_0000fed0,
                                                                             CONCAT22(
                                                  in_stack_0000fece,
                                                  CONCAT11(in_stack_0000fecd,cVar29))))))));
                PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  local_8 + 4,CONCAT26(iVar28,0x500010000))))),
                       (int16)CONCAT214(in_stack_0000fed8,
                                        CONCAT212(in_stack_0000fed6,
                                                  CONCAT210(in_stack_0000fed4,
                                                            CONCAT28(in_stack_0000fed2,
                                                                     CONCAT26(in_stack_0000fed0,
                                                                              CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                       ,(int16)CONCAT610(in_stack_0000fee4,
                                         CONCAT28(in_stack_0000fee2,
                                                  CONCAT26(in_stack_0000fee0,
                                                           CONCAT24(in_stack_0000fede,
                                                                    CONCAT22(in_stack_0000fedc,
                                                                             in_stack_0000feda))))),
                       (int16)CONCAT412(in_stack_0000fef6,
                                        CONCAT210(in_stack_0000fef4,
                                                  CONCAT28(in_stack_0000fef2,
                                                           CONCAT26(in_stack_0000fef0,
                                                                    CONCAT24(in_stack_0000feee,
                                                                             in_stack_0000feea))))),
                       in_stack_0000fefa);
                puVar16 = local_8;
                iVar28 = iVar28 + local_1e;
                iVar21 = iVar21 + -0x14;
              } while (iVar21 != 0);
              HVar10 = local_2a - (int)PTR_DAT_10a8_0000_10a8_5794;
              FUN_1018_55f6(param_1,(int)local_8,HVar10,0x4405,(int16 *)&DAT_10a8_0003,0,
                            CONCAT22(unaff_DI,unaff_SI),in_stack_0000feca,
                            CONCAT212(in_stack_0000fed8,
                                      CONCAT210(in_stack_0000fed6,
                                                CONCAT28(in_stack_0000fed4,
                                                         CONCAT26(in_stack_0000fed2,
                                                                  CONCAT24(in_stack_0000fed0,
                                                                           CONCAT22(
                                                  in_stack_0000fece,
                                                  CONCAT11(in_stack_0000fecd,cVar29))))))));
              puVar16 = puVar16 + 6;
              dVar23 = GETTEXTEXTENT(1,(LPCSTR)0x10a84409,
                                     (int16)CONCAT214(in_stack_0000fed2,
                                                      CONCAT212(in_stack_0000fed0,
                                                                CONCAT210(in_stack_0000fece,
                                                                          CONCAT19(in_stack_0000fecd
                                                                                   ,CONCAT18(cVar29,
                                                  CONCAT26(in_stack_0000feca,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_1)))))))));
              local_c = local_c & 0xffff | dVar23 << 0x10;
              local_6 = ZEXT24((int16 *)local_6);
              local_6._2_2_ = 0;
              local_18 = HVar10;
              do {
                piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x440b10a8,
                                   (LPCSTR)CONCAT22(local_6._2_2_,0x10a8),unaff_SI);
                local_6._0_2_ = (int16 *)CONCAT11((char)piVar8,(undefined)local_6);
                local_6 = local_6 & 0xffff0000 | ZEXT24((int16 *)local_6);
                if (local_6._2_2_ == 0) {
LAB_1070_2e7f:
                  local_c._2_2_ = (int16 *)((int)local_c._2_2_ >> 1);
                }
                else if (local_6._2_2_ == 100) {
                  local_c._2_2_ =
                       (int16 *)((int)local_c._2_2_ * 3 - ((int)local_c._2_2_ * 3 >> 0xf));
                  goto LAB_1070_2e7f;
                }
                local_c = local_c & 0xffff0000 | ZEXT24(local_c._2_2_);
                local_6._1_1_ = (char)(ZEXT24((int16 *)local_6) >> 8);
                TEXTOUT((int)local_6._1_1_,
                        (int16)CONCAT214(in_stack_0000feca,
                                         CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26((int)puVar16 - (int)local_c._2_2_,
                                                           CONCAT24(local_18,0x10a886de)))))),
                        (int16)CONCAT214(in_stack_0000feda,
                                         CONCAT212(in_stack_0000fed8,
                                                   CONCAT210(in_stack_0000fed6,
                                                             CONCAT28(in_stack_0000fed4,
                                                                      CONCAT26(in_stack_0000fed2,
                                                                               CONCAT24(
                                                  in_stack_0000fed0,
                                                  CONCAT22(in_stack_0000fece,
                                                           CONCAT11(in_stack_0000fecd,cVar29))))))))
                        ,(LPCSTR)CONCAT22(in_stack_0000fede,in_stack_0000fedc),
                        (int16)CONCAT214(in_stack_0000feee,
                                         CONCAT410(in_stack_0000feea,
                                                   CONCAT64(in_stack_0000fee4,
                                                            CONCAT22(in_stack_0000fee2,
                                                                     in_stack_0000fee0)))));
                if (0 < (int)local_6._2_2_) {
                  PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,
                                                  CONCAT28(puVar16,CONCAT26(local_18 - 6,0x100050000
                                                                           ))))),
                         (int16)CONCAT214(in_stack_0000fed8,
                                          CONCAT212(in_stack_0000fed6,
                                                    CONCAT210(in_stack_0000fed4,
                                                              CONCAT28(in_stack_0000fed2,
                                                                       CONCAT26(in_stack_0000fed0,
                                                                                CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                         ,(int16)CONCAT610(in_stack_0000fee4,
                                           CONCAT28(in_stack_0000fee2,
                                                    CONCAT26(in_stack_0000fee0,
                                                             CONCAT24(in_stack_0000fede,
                                                                      CONCAT22(in_stack_0000fedc,
                                                                               in_stack_0000feda))))
                                          ),
                         (int16)CONCAT412(in_stack_0000fef6,
                                          CONCAT210(in_stack_0000fef4,
                                                    CONCAT28(in_stack_0000fef2,
                                                             CONCAT26(in_stack_0000fef0,
                                                                      CONCAT24(in_stack_0000feee,
                                                                               in_stack_0000feea))))
                                         ),in_stack_0000fefa);
                }
                puVar16 = puVar16 + local_20;
                local_6._2_2_ = local_6._2_2_ + 0x14;
              } while ((int)local_6._2_2_ < 0x65);
              local_1c = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_85ca,(HRGN16)param_1,
                                      (HRGN16)unaff_SI,unaff_DI,
                                      (int16)CONCAT214(in_stack_0000fed8,
                                                       CONCAT212(in_stack_0000fed6,
                                                                 CONCAT210(in_stack_0000fed4,
                                                                           CONCAT28(
                                                  in_stack_0000fed2,
                                                  CONCAT26(in_stack_0000fed0,
                                                           CONCAT24(in_stack_0000fece,
                                                                    CONCAT13(in_stack_0000fecd,
                                                                             CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
              local_e = (undefined *)(local_1a + local_30 + 6);
              local_10 = (local_2a - (int)PTR_DAT_10a8_0000_10a8_5794) + -4;
              local_6 = 1000000;
              local_c = (ulong)(1000 - *(int *)(*(int *)((int)param_4 + 4) + 0x34));
              iVar9 = 0;
              do {
                piVar8 = MULDIV((int16 *)&PTR_DAT_10a8_0000_10a8_0014,
                                (int16)CONCAT214(in_stack_0000fed0,
                                                 CONCAT212(in_stack_0000fece,
                                                           CONCAT111(in_stack_0000fecd,
                                                                     CONCAT110(cVar29,CONCAT28(
                                                  in_stack_0000feca,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(iVar9
                                                  ,local_20)))))))),
                                (int16)CONCAT214(in_stack_0000fee0,
                                                 CONCAT212(in_stack_0000fede,
                                                           CONCAT210(in_stack_0000fedc,
                                                                     CONCAT28(in_stack_0000feda,
                                                                              CONCAT26(
                                                  in_stack_0000fed8,
                                                  CONCAT24(in_stack_0000fed6,
                                                           CONCAT22(in_stack_0000fed4,
                                                                    in_stack_0000fed2))))))),
                                (int16)CONCAT214(in_stack_0000fef0,
                                                 CONCAT212(in_stack_0000feee,
                                                           CONCAT48(in_stack_0000feea,
                                                                    CONCAT62(in_stack_0000fee4,
                                                                             in_stack_0000fee2)))));
                local_8 = (undefined *)((int)piVar8 + (int)local_e);
                local_18 = (int)((long)((local_6 - 1000000) * (long)(int)local_1e) / 200000) +
                           local_10;
                local_6 = (long)(local_c * local_6) / 1000;
                if (iVar9 == 0) {
                  MOVETO(local_18,(int16)CONCAT214(in_stack_0000fed0,
                                                   CONCAT212(in_stack_0000fece,
                                                             CONCAT111(in_stack_0000fecd,
                                                                       CONCAT110(cVar29,CONCAT28(
                                                  in_stack_0000feca,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  param_1,local_8)))))))),
                         (int16)CONCAT214(in_stack_0000fee0,
                                          CONCAT212(in_stack_0000fede,
                                                    CONCAT210(in_stack_0000fedc,
                                                              CONCAT28(in_stack_0000feda,
                                                                       CONCAT26(in_stack_0000fed8,
                                                                                CONCAT24(
                                                  in_stack_0000fed6,
                                                  CONCAT22(in_stack_0000fed4,in_stack_0000fed2))))))
                                         ));
                }
                else {
                  LINETO(local_18,(int16)CONCAT214(in_stack_0000fed0,
                                                   CONCAT212(in_stack_0000fece,
                                                             CONCAT111(in_stack_0000fecd,
                                                                       CONCAT110(cVar29,CONCAT28(
                                                  in_stack_0000feca,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  param_1,local_8)))))))),
                         (int16)CONCAT214(in_stack_0000fee0,
                                          CONCAT212(in_stack_0000fede,
                                                    CONCAT210(in_stack_0000fedc,
                                                              CONCAT28(in_stack_0000feda,
                                                                       CONCAT26(in_stack_0000fed8,
                                                                                CONCAT24(
                                                  in_stack_0000fed6,
                                                  CONCAT22(in_stack_0000fed4,in_stack_0000fed2))))))
                                         ));
                }
                iVar9 = iVar9 + 1;
              } while (iVar9 < 0x65);
              piVar8 = SELECTOBJECT(local_1c,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                                    (int16)CONCAT214(in_stack_0000fed8,
                                                     CONCAT212(in_stack_0000fed6,
                                                               CONCAT210(in_stack_0000fed4,
                                                                         CONCAT28(in_stack_0000fed2,
                                                                                  CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
              local_c = local_c & 0xffff;
              local_1e = 0xcd;
            }
            if ((int)local_c._2_2_ < 1) goto switchD_1070_28cb_caseD_6;
            iVar9 = local_2c - local_30;
            puVar14 = &local_24;
            puVar6 = &local_24;
            piVar8 = local_c._2_2_;
          }
          piVar8 = (int16 *)FUN_1018_5366(param_1,(int)puVar6 + 2,puVar14,(int)&DAT_10a8_86de,piVar8
                                          ,local_30,iVar9,0,0,1);
          goto switchD_1070_28cb_caseD_6;
        }
        if (piVar8 == (int16 *)&PTR_DAT_10a8_0000_10a8_0040) {
          FUN_1018_5948((int *)&local_30,-4,-4);
          SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,
                       unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                 CONCAT212(in_stack_0000fed6,
                                                           CONCAT210(in_stack_0000fed4,
                                                                     CONCAT28(in_stack_0000fed2,
                                                                              CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
          local_6 = CONCAT22(local_30,local_2e);
          SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,
                       unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                 CONCAT212(in_stack_0000fed6,
                                                           CONCAT210(in_stack_0000fed4,
                                                                     CONCAT28(in_stack_0000fed2,
                                                                              CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
          if (*(int *)(*(int *)((int)param_4 + 4) + 0x36) == 0) {
            uVar17 = FUN_1018_50de(0x11b,(char *)&DAT_10a8_86de);
            local_c = local_c & 0xffff | (ulong)uVar17 << 0x10;
          }
          else {
            FUN_1018_50de(0x11c,(char *)&DAT_10a8_86de);
            iVar9 = *(int *)(*(int *)((int)param_4 + 4) + 0x36);
            piVar8 = _WSPRINTF((int16 *)&stack0xff00,(LPSTR)CONCAT22(0x86de,unaff_SS),
                               (LPCSTR)CONCAT22(iVar9 / 10,0x10a8),(VA_LIST16)(iVar9 % 10));
            local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
            uVar17 = (uint)*(byte *)((int)param_4 + 2);
            if (uVar17 < 5) {
              iVar9 = 1;
            }
            else if ((uVar17 < 8) || (10 < uVar17)) {
              iVar9 = 0;
            }
            else {
              iVar9 = (uVar17 - 7) * 3;
            }
            if (0 < iVar9) {
              FUN_1018_50de(0x11d,(char *)&DAT_10a8_86de);
              piVar8 = _WSPRINTF((int16 *)(&stack0xff00 + (int)local_c._2_2_),
                                 (LPSTR)CONCAT22(0x86de,unaff_SS),
                                 (LPCSTR)CONCAT22(iVar9 * 100,0x10a8),unaff_SI);
              local_c = local_c & 0xffff | (ulong)(uint)((int)local_c._2_2_ + (int)piVar8) << 0x10;
            }
            pcVar18 = &stack0xff00;
            uVar17 = 0xffff;
            do {
              if (uVar17 == 0) break;
              uVar17 = uVar17 - 1;
              pcVar2 = pcVar18;
              pcVar18 = pcVar18 + 1;
            } while (*pcVar2 != '\0');
            uVar17 = ~uVar17;
            puVar19 = (undefined2 *)(pcVar18 + -uVar17);
            puVar20 = (undefined2 *)&DAT_10a8_86de;
            for (uVar11 = uVar17 >> 1; uVar11 != 0; uVar11 = uVar11 - 1) {
              puVar3 = puVar20;
              puVar20 = puVar20 + 1;
              puVar1 = puVar19;
              puVar19 = puVar19 + 1;
              *puVar3 = *puVar1;
            }
            for (uVar17 = (uint)((uVar17 & 1) != 0); uVar17 != 0; uVar17 = uVar17 - 1) {
              puVar3 = puVar20;
              puVar20 = (undefined2 *)((int)puVar20 + 1);
              puVar1 = puVar19;
              puVar19 = (undefined2 *)((int)puVar19 + 1);
              *(undefined *)puVar3 = *(undefined *)puVar1;
            }
          }
          FUN_1018_5366(param_1,(int)&local_6 + 2,&local_6,(int)&DAT_10a8_86de,local_c._2_2_,
                        local_30,local_2c - local_30,0,0,1);
          local_6 = CONCAT22(local_30,(int)local_6 + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1));
          if (*(int *)(*(int *)((int)param_4 + 4) + 0x38) == 0) {
            piVar8 = (int16 *)FUN_1018_50de(0x11e,(char *)&DAT_10a8_86de);
          }
          else {
            FUN_1018_50de(0x11f,&stack0xff00);
            piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xff00,0x10a8),
                               (LPCSTR)CONCAT22(*(undefined2 *)(*(int *)((int)param_4 + 4) + 0x38),
                                                unaff_SS),unaff_SI);
          }
          local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
          FUN_1018_5366(param_1,(int)&local_6 + 2,&local_6,(int)&DAT_10a8_86de,piVar8,local_30,
                        local_2c - local_30,0,1,1);
          piVar8 = (int16 *)(uint)*(byte *)((int)param_4 + 2);
          in_stack_0000feca = piVar8;
          if (((int16 *)0x7 < piVar8) && (piVar8 < (int16 *)0xb)) {
            local_1e = 0x32;
          }
          goto switchD_1070_28cb_caseD_6;
        }
        piVar8 = piVar8 + -0x10;
        if (piVar8 != (int16 *)0x0) goto switchD_1070_28cb_caseD_6;
        FUN_1018_5948((int *)&local_30,-4,-4);
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT214(in_stack_0000fed8,
                                      CONCAT212(in_stack_0000fed6,
                                                CONCAT210(in_stack_0000fed4,
                                                          CONCAT28(in_stack_0000fed2,
                                                                   CONCAT26(in_stack_0000fed0,
                                                                            CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                    );
        local_26 = local_30;
        local_28 = local_2e;
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT214(in_stack_0000fed8,
                                      CONCAT212(in_stack_0000fed6,
                                                CONCAT210(in_stack_0000fed4,
                                                          CONCAT28(in_stack_0000fed2,
                                                                   CONCAT26(in_stack_0000fed0,
                                                                            CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                    );
        piVar8 = (int16 *)(uint)*(byte *)((int)param_4 + 2);
        switch(piVar8) {
        case (int16 *)0x0:
        case (int16 *)0x5:
          local_1e = 0xc4;
        case (int16 *)0x2:
        case (int16 *)0x3:
        case (int16 *)0x4:
          if (local_1e == 0xffff) {
            local_1e = 0xc6;
          }
        case (int16 *)0x1:
          iVar9 = FUN_1018_50de(0x99,(char *)&DAT_10a8_86de);
          piVar8 = _WSPRINTF((int16 *)((int)&DAT_10a8_86de + iVar9),(LPSTR)0x43f910a8,
                             (LPCSTR)CONCAT22(*(undefined2 *)(*(int *)((int)param_4 + 4) + 0x34),
                                              0x10a8),unaff_SI);
          iVar28 = FUN_1018_50de(0x9a,(char *)((int)piVar8 + (int)&DAT_10a8_86de + iVar9));
          local_c = local_c & 0xffff | (ulong)(uint)((int)piVar8 + iVar28 + iVar9) << 0x10;
          break;
        default:
          goto switchD_1070_28cb_caseD_6;
        }
      }
      FUN_1018_5366(param_1,&local_26,&local_28,(int)&DAT_10a8_86de,local_c._2_2_,local_30,
                    local_2c - local_30,0,0,1);
      local_26 = local_30;
      piVar8 = (int16 *)((int)PTR_DAT_10a8_0000_10a8_5794 * 2);
      local_28 = local_28 + (int)piVar8;
      goto switchD_1070_28cb_caseD_6;
    }
    if (piVar8 != (int16 *)&PTR_DAT_10a8_0000_10a8_0010) {
      if (piVar8 < (int16 *)((int)&PTR_DAT_10a8_0000_10a8_0010 + 1U)) {
        cVar7 = (char)piVar8;
        if (cVar7 == '\x01') {
          SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,
                       unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                 CONCAT212(in_stack_0000fed6,
                                                           CONCAT210(in_stack_0000fed4,
                                                                     CONCAT28(in_stack_0000fed2,
                                                                              CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
          local_2c = local_2c + -2;
          piVar8 = (int16 *)FUN_1018_50de(0x24,(char *)&DAT_10a8_86de);
          local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
          FUN_1018_52da(param_1,((int)(local_2c - local_30) >> 1) + local_30,local_2e,
                        (int)&DAT_10a8_86de,piVar8,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                        (int16)CONCAT214(in_stack_0000fed8,
                                         CONCAT212(in_stack_0000fed6,
                                                   CONCAT210(in_stack_0000fed4,
                                                             CONCAT28(in_stack_0000fed2,
                                                                      CONCAT26(in_stack_0000fed0,
                                                                               CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                       );
          local_2e = local_2e + (int)PTR_DAT_10a8_0000_10a8_5794;
          dVar23 = GETTEXTEXTENT(4,(LPCSTR)0x10a84369,
                                 (int16)CONCAT214(in_stack_0000fed2,
                                                  CONCAT212(in_stack_0000fed0,
                                                            CONCAT210(in_stack_0000fece,
                                                                      CONCAT19(in_stack_0000fecd,
                                                                               CONCAT18(cVar29,
                                                  CONCAT26(in_stack_0000feca,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_1)))))))));
          iVar9 = (int)dVar23;
          local_20 = (int)(((local_2c - local_30) - iVar9) + -8) / 9;
          iVar28 = (local_2a - (int)local_2e) - (int)PTR_DAT_10a8_0000_10a8_5794;
          local_10 = (iVar28 + -8) / 6;
          PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  local_30 + iVar9 + 6,
                                                  CONCAT26(local_2e,CONCAT24(1,(ulong)(iVar28 - 4)
                                                                               << 0x10)))))),
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))),
                 (int16)CONCAT610(in_stack_0000fee4,
                                  CONCAT28(in_stack_0000fee2,
                                           CONCAT26(in_stack_0000fee0,
                                                    CONCAT24(in_stack_0000fede,
                                                             CONCAT22(in_stack_0000fedc,
                                                                      in_stack_0000feda))))),
                 (int16)CONCAT412(in_stack_0000fef6,
                                  CONCAT210(in_stack_0000fef4,
                                            CONCAT28(in_stack_0000fef2,
                                                     CONCAT26(in_stack_0000fef0,
                                                              CONCAT24(in_stack_0000feee,
                                                                       in_stack_0000feea))))),
                 in_stack_0000fefa);
          PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  local_30 + iVar9 + 6,
                                                  CONCAT26((local_2a -
                                                           (int)PTR_DAT_10a8_0000_10a8_5794) + -4,
                                                           CONCAT24(((local_2c - local_30) - iVar9)
                                                                    + -6,0x10000)))))),
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))),
                 (int16)CONCAT610(in_stack_0000fee4,
                                  CONCAT28(in_stack_0000fee2,
                                           CONCAT26(in_stack_0000fee0,
                                                    CONCAT24(in_stack_0000fede,
                                                             CONCAT22(in_stack_0000fedc,
                                                                      in_stack_0000feda))))),
                 (int16)CONCAT412(in_stack_0000fef6,
                                  CONCAT210(in_stack_0000fef4,
                                            CONCAT28(in_stack_0000fef2,
                                                     CONCAT26(in_stack_0000fef0,
                                                              CONCAT24(in_stack_0000feee,
                                                                       in_stack_0000feea))))),
                 in_stack_0000fefa);
          local_e = (undefined *)(local_30 + iVar9);
          local_c = local_c & 0xffff0000 |
                    (ulong)((-(int)PTR_DAT_10a8_0000_10a8_5794 - (local_10 * 6 - local_2a)) - 4);
          local_6._2_2_ = 800;
          SETTEXTCOLOR(0x7f,(COLORREF)(ZEXT24(param_1) << 0x10));
          iVar28 = local_6._2_2_;
          local_1a = iVar9;
          do {
            if (iVar28 == 100) {
              SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_1) << 0x10));
              SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0022,(HRGN16)param_1,(HRGN16)unaff_SI,
                           unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                     CONCAT212(in_stack_0000fed6,
                                                               CONCAT210(in_stack_0000fed4,
                                                                         CONCAT28(in_stack_0000fed2,
                                                                                  CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
              PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28((
                                                  int)local_e + 4,
                                                  CONCAT26((HDC16)local_c,
                                                           CONCAT24(((local_2c - local_1a) -
                                                                    local_30) + -4,0x100f0)))))),
                     (int16)CONCAT214(in_stack_0000fed8,
                                      CONCAT212(in_stack_0000fed6,
                                                CONCAT210(in_stack_0000fed4,
                                                          CONCAT28(in_stack_0000fed2,
                                                                   CONCAT26(in_stack_0000fed0,
                                                                            CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                     ,(int16)CONCAT610(in_stack_0000fee4,
                                       CONCAT28(in_stack_0000fee2,
                                                CONCAT26(in_stack_0000fee0,
                                                         CONCAT24(in_stack_0000fede,
                                                                  CONCAT22(in_stack_0000fedc,
                                                                           in_stack_0000feda))))),
                     (int16)CONCAT412(in_stack_0000fef6,
                                      CONCAT210(in_stack_0000fef4,
                                                CONCAT28(in_stack_0000fef2,
                                                         CONCAT26(in_stack_0000fef0,
                                                                  CONCAT24(in_stack_0000feee,
                                                                           in_stack_0000feea))))),
                     in_stack_0000fefa);
            }
            piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x436e10a8,
                               (LPCSTR)CONCAT22(iVar28,0x10a8),unaff_SI);
            local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
            FUN_1018_55f6(param_1,(int)local_e,
                          (HDC16)local_c - ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1),
                          (int)&DAT_10a8_86de,piVar8,0,CONCAT22(unaff_DI,unaff_SI),in_stack_0000feca
                          ,CONCAT212(in_stack_0000fed8,
                                     CONCAT210(in_stack_0000fed6,
                                               CONCAT28(in_stack_0000fed4,
                                                        CONCAT26(in_stack_0000fed2,
                                                                 CONCAT24(in_stack_0000fed0,
                                                                          CONCAT22(in_stack_0000fece
                                                                                   ,CONCAT11(
                                                  in_stack_0000fecd,cVar29))))))));
            PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28((int
                                                  )local_e + 4,CONCAT26((HDC16)local_c,0x500010000))
                                                  ))),
                   (int16)CONCAT214(in_stack_0000fed8,
                                    CONCAT212(in_stack_0000fed6,
                                              CONCAT210(in_stack_0000fed4,
                                                        CONCAT28(in_stack_0000fed2,
                                                                 CONCAT26(in_stack_0000fed0,
                                                                          CONCAT24(in_stack_0000fece
                                                                                   ,CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))),
                   (int16)CONCAT610(in_stack_0000fee4,
                                    CONCAT28(in_stack_0000fee2,
                                             CONCAT26(in_stack_0000fee0,
                                                      CONCAT24(in_stack_0000fede,
                                                               CONCAT22(in_stack_0000fedc,
                                                                        in_stack_0000feda))))),
                   (int16)CONCAT412(in_stack_0000fef6,
                                    CONCAT210(in_stack_0000fef4,
                                              CONCAT28(in_stack_0000fef2,
                                                       CONCAT26(in_stack_0000fef0,
                                                                CONCAT24(in_stack_0000feee,
                                                                         in_stack_0000feea))))),
                   in_stack_0000fefa);
            iVar9 = (int)local_e;
            local_c._0_2_ = (HDC16)local_c + local_10;
            iVar28 = iVar28 >> 1;
          } while (0x18 < iVar28);
          uVar17 = local_2a - (int)PTR_DAT_10a8_0000_10a8_5794;
          FUN_1018_55f6(param_1,(int)local_e,uVar17,0x4373,(int16 *)&PTR_LOOP_10a8_0004,0,
                        CONCAT22(unaff_DI,unaff_SI),in_stack_0000feca,
                        CONCAT212(in_stack_0000fed8,
                                  CONCAT210(in_stack_0000fed6,
                                            CONCAT28(in_stack_0000fed4,
                                                     CONCAT26(in_stack_0000fed2,
                                                              CONCAT24(in_stack_0000fed0,
                                                                       CONCAT22(in_stack_0000fece,
                                                                                CONCAT11(
                                                  in_stack_0000fecd,cVar29))))))));
          iVar9 = iVar9 + 6;
          dVar23 = GETTEXTEXTENT(1,(LPCSTR)0x10a84378,
                                 (int16)CONCAT214(in_stack_0000fed2,
                                                  CONCAT212(in_stack_0000fed0,
                                                            CONCAT210(in_stack_0000fece,
                                                                      CONCAT19(in_stack_0000fecd,
                                                                               CONCAT18(cVar29,
                                                  CONCAT26(in_stack_0000feca,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_1)))))))));
          local_6 = CONCAT22((uint)dVar23 >> 1,(int16 *)local_6);
          local_8 = (undefined *)CONCAT11(0x30,(undefined)local_8);
          local_16 = 0;
          local_c = local_c & 0xffff0000 | (ulong)uVar17;
          iVar28 = 0;
          do {
            TEXTOUT(1,(int16)CONCAT214(in_stack_0000feca,
                                       CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26(iVar9 - local_6._2_2_,
                                                           CONCAT24((HDC16)local_c,
                                                                    CONCAT22(unaff_SS,(int)&local_8
                                                                                      + 1))))))),
                    (int16)CONCAT214(in_stack_0000feda,
                                     CONCAT212(in_stack_0000fed8,
                                               CONCAT210(in_stack_0000fed6,
                                                         CONCAT28(in_stack_0000fed4,
                                                                  CONCAT26(in_stack_0000fed2,
                                                                           CONCAT24(
                                                  in_stack_0000fed0,
                                                  CONCAT22(in_stack_0000fece,
                                                           CONCAT11(in_stack_0000fecd,cVar29))))))))
                    ,(LPCSTR)CONCAT22(in_stack_0000fede,in_stack_0000fedc),
                    (int16)CONCAT214(in_stack_0000feee,
                                     CONCAT410(in_stack_0000feea,
                                               CONCAT64(in_stack_0000fee4,
                                                        CONCAT22(in_stack_0000fee2,in_stack_0000fee0
                                                                )))));
            if (0 < iVar28) {
              PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  iVar9,CONCAT26((HDC16)local_c + -6,0x100050000))))
                                          ),
                     (int16)CONCAT214(in_stack_0000fed8,
                                      CONCAT212(in_stack_0000fed6,
                                                CONCAT210(in_stack_0000fed4,
                                                          CONCAT28(in_stack_0000fed2,
                                                                   CONCAT26(in_stack_0000fed0,
                                                                            CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                     ,(int16)CONCAT610(in_stack_0000fee4,
                                       CONCAT28(in_stack_0000fee2,
                                                CONCAT26(in_stack_0000fee0,
                                                         CONCAT24(in_stack_0000fede,
                                                                  CONCAT22(in_stack_0000fedc,
                                                                           in_stack_0000feda))))),
                     (int16)CONCAT412(in_stack_0000fef6,
                                      CONCAT210(in_stack_0000fef4,
                                                CONCAT28(in_stack_0000fef2,
                                                         CONCAT26(in_stack_0000fef0,
                                                                  CONCAT24(in_stack_0000feee,
                                                                           in_stack_0000feea))))),
                     in_stack_0000fefa);
            }
            local_8 = (undefined *)((uint)local_8 & 0xff | (uint)(byte)(local_8._1_1_ + 1) << 8);
            iVar9 = iVar9 + local_20;
            iVar28 = iVar28 + 1;
          } while (iVar28 < 10);
          local_1c = SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_85ca,(HRGN16)param_1,
                                  (HRGN16)unaff_SI,unaff_DI,
                                  (int16)CONCAT214(in_stack_0000fed8,
                                                   CONCAT212(in_stack_0000fed6,
                                                             CONCAT210(in_stack_0000fed4,
                                                                       CONCAT28(in_stack_0000fed2,
                                                                                CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
          local_e = (undefined *)(local_1a + local_30 + 6);
          local_18 = (local_2a - (int)PTR_DAT_10a8_0000_10a8_5794) - 4;
          iVar9 = 0;
          do {
            local_c = local_c & 0xffff0000 | (ulong)local_18;
            uVar11 = 0x19;
            uVar17 = *(uint *)(*(int *)((int)param_4 + 4) + iVar9 + 0x36);
            local_6 = local_6 & 0xffff0000;
            if (0x18 < (int)uVar17) {
              uVar11 = 0x19;
              uVar15 = local_18;
              do {
                uVar15 = uVar15 - local_10;
                uVar11 = uVar11 * 2;
              } while ((int)uVar11 <= (int)uVar17);
              local_6 = (ulong)uVar11 << 0x10;
              local_c = CONCAT22(iVar9,uVar15);
            }
            local_6 = local_6 | uVar17;
            if (uVar11 == 0x19) {
              if (uVar17 == 0) {
                local_c = local_c & 0xffff0000 | (ulong)((HDC16)local_c - 1);
              }
              else {
                iVar28 = (int)(uVar17 * local_10 * 4) / 100;
                if (iVar28 < 1) {
                  iVar28 = 1;
                }
                local_c = local_c & 0xffff0000 | (ulong)((HDC16)local_c - iVar28);
              }
            }
            else {
              local_6 = CONCAT22(uVar11,uVar17);
              piVar8 = MULDIV((int16 *)((int)uVar11 >> 1),
                              (int16)CONCAT214(in_stack_0000fed0,
                                               CONCAT212(in_stack_0000fece,
                                                         CONCAT111(in_stack_0000fecd,
                                                                   CONCAT110(cVar29,CONCAT28(
                                                  in_stack_0000feca,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(-((
                                                  int)(int16 *)((int)uVar11 >> 1) - uVar17),100)))))
                                                  ))),
                              (int16)CONCAT214(in_stack_0000fee0,
                                               CONCAT212(in_stack_0000fede,
                                                         CONCAT210(in_stack_0000fedc,
                                                                   CONCAT28(in_stack_0000feda,
                                                                            CONCAT26(
                                                  in_stack_0000fed8,
                                                  CONCAT24(in_stack_0000fed6,
                                                           CONCAT22(in_stack_0000fed4,
                                                                    in_stack_0000fed2))))))),
                              (int16)CONCAT214(in_stack_0000fef0,
                                               CONCAT212(in_stack_0000feee,
                                                         CONCAT48(in_stack_0000feea,
                                                                  CONCAT62(in_stack_0000fee4,
                                                                           in_stack_0000fee2)))));
              local_c = local_c & 0xffff0000 |
                        (ulong)((HDC16)local_c + ((int)piVar8 * local_10) / -100);
            }
            if (iVar9 == 0) {
              MOVETO((HDC16)local_c,
                     (int16)CONCAT214(in_stack_0000fed0,
                                      CONCAT212(in_stack_0000fece,
                                                CONCAT111(in_stack_0000fecd,
                                                          CONCAT110(cVar29,CONCAT28(
                                                  in_stack_0000feca,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  param_1,local_e)))))))),
                     (int16)CONCAT214(in_stack_0000fee0,
                                      CONCAT212(in_stack_0000fede,
                                                CONCAT210(in_stack_0000fedc,
                                                          CONCAT28(in_stack_0000feda,
                                                                   CONCAT26(in_stack_0000fed8,
                                                                            CONCAT24(
                                                  in_stack_0000fed6,
                                                  CONCAT22(in_stack_0000fed4,in_stack_0000fed2))))))
                                     ));
            }
            else {
              LINETO((HDC16)local_c,
                     (int16)CONCAT214(in_stack_0000fed0,
                                      CONCAT212(in_stack_0000fece,
                                                CONCAT111(in_stack_0000fecd,
                                                          CONCAT110(cVar29,CONCAT28(
                                                  in_stack_0000feca,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT22(
                                                  param_1,local_e)))))))),
                     (int16)CONCAT214(in_stack_0000fee0,
                                      CONCAT212(in_stack_0000fede,
                                                CONCAT210(in_stack_0000fedc,
                                                          CONCAT28(in_stack_0000feda,
                                                                   CONCAT26(in_stack_0000fed8,
                                                                            CONCAT24(
                                                  in_stack_0000fed6,
                                                  CONCAT22(in_stack_0000fed4,in_stack_0000fed2))))))
                                     ));
            }
            local_e = local_e + local_20;
            iVar9 = iVar9 + 2;
          } while (iVar9 < 0x13);
          SELECTOBJECT(local_1c,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                       (int16)CONCAT214(in_stack_0000fed8,
                                        CONCAT212(in_stack_0000fed6,
                                                  CONCAT210(in_stack_0000fed4,
                                                            CONCAT28(in_stack_0000fed2,
                                                                     CONCAT26(in_stack_0000fed0,
                                                                              CONCAT24(
                                                  in_stack_0000fece,
                                                  CONCAT13(in_stack_0000fecd,
                                                           CONCAT12(cVar29,in_stack_0000feca))))))))
                      );
          iVar9 = *(int *)(*(int *)((int)param_4 + 4) + 0x34);
          piVar8 = (int16 *)(iVar9 - 1);
          if (piVar8 == (int16 *)0x0) {
            local_1e = 0x26;
          }
          else {
            piVar8 = (int16 *)(iVar9 - 2);
            if (piVar8 == (int16 *)0x0) {
              local_1e = 0x27;
            }
            else if ((((int)piVar8 < 1) || (SBORROW2((int)piVar8,1))) ||
                    (piVar8 = (int16 *)(iVar9 - 4), piVar8 != (int16 *)0x0 && 0 < iVar9 + -3)) {
              piVar8 = (int16 *)(uint)*(byte *)((int)param_4 + 2);
              in_stack_0000feca = piVar8;
              if (((int16 *)0x7 < piVar8) && (piVar8 < (int16 *)0xb)) {
                local_1e = 0xef;
              }
            }
            else {
              local_1e = 0x28;
            }
          }
        }
        else if (cVar7 == '\x02') {
          FUN_1018_5948((int *)&local_30,-4,-4);
          SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,
                       unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                 CONCAT212(in_stack_0000fed6,
                                                           CONCAT210(in_stack_0000fed4,
                                                                     CONCAT28(in_stack_0000fed2,
                                                                              CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
          iVar9 = *(int *)(*(int *)((int)param_4 + 4) + 0x34);
          if (iVar9 == 0) {
            piVar8 = (int16 *)FUN_1018_50de(0x2a,(char *)&DAT_10a8_86de);
          }
          else {
            FUN_1018_50de(0x29,&stack0xfece);
            piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xfece,0x10a8),
                               (LPCSTR)CONCAT22(iVar9,unaff_SS),unaff_SI);
          }
          local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
          piVar8 = DRAWTEXT((int16 *)0x810,(HDC16)&local_30,(LPCSTR)CONCAT22(piVar8,unaff_SS),
                            (int16)CONCAT214(in_stack_0000fece,
                                             CONCAT113(in_stack_0000fecd,
                                                       CONCAT112(cVar29,CONCAT210(in_stack_0000feca,
                                                                                  CONCAT28(unaff_DI,
                                                  CONCAT26(unaff_SI,CONCAT24(param_1,0x10a886de)))))
                                                  )),
                            (RECT16 *)CONCAT22(in_stack_0000fed2,in_stack_0000fed0),
                            (uint16)CONCAT214(in_stack_0000fee2,
                                              CONCAT212(in_stack_0000fee0,
                                                        CONCAT210(in_stack_0000fede,
                                                                  CONCAT28(in_stack_0000fedc,
                                                                           CONCAT26(
                                                  in_stack_0000feda,
                                                  CONCAT24(in_stack_0000fed8,
                                                           CONCAT22(in_stack_0000fed6,
                                                                    in_stack_0000fed4))))))));
          local_2e = local_2e + ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1) + (int)piVar8;
          iVar9 = *(int *)(*(int *)((int)param_4 + 4) + 0x36);
          local_16 = iVar9;
          if (iVar9 == 0) {
            piVar8 = (int16 *)FUN_1018_50de(0x2b,(char *)&DAT_10a8_86de);
            local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
          }
          else if (iVar9 == 4) {
            piVar8 = (int16 *)FUN_1018_50de(0x2d,(char *)&DAT_10a8_86de);
            local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
            local_1e = 0x2e;
          }
          else {
            FUN_1018_50de(0x2c,&stack0xfece);
            if (iVar9 == 1) {
              local_6 = CONCAT22(0x32,(int16 *)local_6);
            }
            else {
              if (iVar9 == 2) {
                uVar17 = 100;
              }
              else {
                uVar17 = 200;
              }
              local_6 = local_6 & 0xffff | (ulong)uVar17 << 0x10;
            }
            piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xfece,0x10a8),
                               (LPCSTR)(local_6 & 0xffff0000 | (ulong)unaff_SS),unaff_SI);
            local_c = local_c & 0xffff | ZEXT24(piVar8) << 0x10;
            local_1e = 0xd1;
          }
          piVar8 = DRAWTEXT((int16 *)0x810,(HDC16)&local_30,(LPCSTR)CONCAT22(piVar8,unaff_SS),
                            (int16)CONCAT214(in_stack_0000fece,
                                             CONCAT113(in_stack_0000fecd,
                                                       CONCAT112(cVar29,CONCAT210(in_stack_0000feca,
                                                                                  CONCAT28(unaff_DI,
                                                  CONCAT26(unaff_SI,CONCAT24(param_1,0x10a886de)))))
                                                  )),
                            (RECT16 *)CONCAT22(in_stack_0000fed2,in_stack_0000fed0),
                            (uint16)CONCAT214(in_stack_0000fee2,
                                              CONCAT212(in_stack_0000fee0,
                                                        CONCAT210(in_stack_0000fede,
                                                                  CONCAT28(in_stack_0000fedc,
                                                                           CONCAT26(
                                                  in_stack_0000feda,
                                                  CONCAT24(in_stack_0000fed8,
                                                           CONCAT22(in_stack_0000fed6,
                                                                    in_stack_0000fed4))))))));
        }
        else {
          if (cVar7 == '\x04') {
            FUN_1018_5948((int *)&local_30,-4,-4);
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,
                         unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                   CONCAT212(in_stack_0000fed6,
                                                             CONCAT210(in_stack_0000fed4,
                                                                       CONCAT28(in_stack_0000fed2,
                                                                                CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
            local_6 = local_6 & 0xffff | (ulong)local_30 << 0x10;
            FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,
                          (int)s_Shield_Strength__10a8_4387,(int16 *)0x0,
                          (LPCSTR)CONCAT22(unaff_SI,1),
                          (int16)CONCAT214(in_stack_0000fed6,
                                           CONCAT212(in_stack_0000fed4,
                                                     CONCAT210(in_stack_0000fed2,
                                                               CONCAT28(in_stack_0000fed0,
                                                                        CONCAT26(in_stack_0000fece,
                                                                                 CONCAT15(
                                                  in_stack_0000fecd,
                                                  CONCAT14(cVar29,CONCAT22(in_stack_0000feca,
                                                                           unaff_DI)))))))));
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,
                         unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                   CONCAT212(in_stack_0000fed6,
                                                             CONCAT210(in_stack_0000fed4,
                                                                       CONCAT28(in_stack_0000fed2,
                                                                                CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
            piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x439a10a8,
                               (LPCSTR)CONCAT22(*(undefined2 *)(*(int *)((int)param_4 + 4) + 0x34),
                                                0x10a8),unaff_SI);
            piVar8 = (int16 *)FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,
                                            (int)&DAT_10a8_86de,piVar8,(LPCSTR)CONCAT22(unaff_SI,1),
                                            (int16)CONCAT214(in_stack_0000fed6,
                                                             CONCAT212(in_stack_0000fed4,
                                                                       CONCAT210(in_stack_0000fed2,
                                                                                 CONCAT28(
                                                  in_stack_0000fed0,
                                                  CONCAT26(in_stack_0000fece,
                                                           CONCAT15(in_stack_0000fecd,
                                                                    CONCAT14(cVar29,CONCAT22(
                                                  in_stack_0000feca,unaff_DI)))))))));
            bVar22 = *(byte *)((int)param_4 + 2) < 4;
          }
          else {
            piVar8 = (int16 *)((uint)piVar8 & 0xff00 | (uint)(byte)(cVar7 - 8U));
            if ((byte)(cVar7 - 8U) != 0) goto switchD_1070_28cb_caseD_6;
            FUN_1018_5948((int *)&local_30,-4,-4);
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,
                         unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                   CONCAT212(in_stack_0000fed6,
                                                             CONCAT210(in_stack_0000fed4,
                                                                       CONCAT28(in_stack_0000fed2,
                                                                                CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
            local_6 = local_6 & 0xffff | (ulong)local_30 << 0x10;
            FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,
                          (int)s_Armor_Strength__10a8_439d,(int16 *)0x0,(LPCSTR)CONCAT22(unaff_SI,1)
                          ,(int16)CONCAT214(in_stack_0000fed6,
                                            CONCAT212(in_stack_0000fed4,
                                                      CONCAT210(in_stack_0000fed2,
                                                                CONCAT28(in_stack_0000fed0,
                                                                         CONCAT26(in_stack_0000fece,
                                                                                  CONCAT15(
                                                  in_stack_0000fecd,
                                                  CONCAT14(cVar29,CONCAT22(in_stack_0000feca,
                                                                           unaff_DI)))))))));
            SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,
                         unaff_DI,(int16)CONCAT214(in_stack_0000fed8,
                                                   CONCAT212(in_stack_0000fed6,
                                                             CONCAT210(in_stack_0000fed4,
                                                                       CONCAT28(in_stack_0000fed2,
                                                                                CONCAT26(
                                                  in_stack_0000fed0,
                                                  CONCAT24(in_stack_0000fece,
                                                           CONCAT13(in_stack_0000fecd,
                                                                    CONCAT12(cVar29,
                                                  in_stack_0000feca)))))))));
            piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x43af10a8,
                               (LPCSTR)CONCAT22(*(undefined2 *)(*(int *)((int)param_4 + 4) + 0x34),
                                                0x10a8),unaff_SI);
            piVar8 = (int16 *)FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,
                                            (int)&DAT_10a8_86de,piVar8,(LPCSTR)CONCAT22(unaff_SI,1),
                                            (int16)CONCAT214(in_stack_0000fed6,
                                                             CONCAT212(in_stack_0000fed4,
                                                                       CONCAT210(in_stack_0000fed2,
                                                                                 CONCAT28(
                                                  in_stack_0000fed0,
                                                  CONCAT26(in_stack_0000fece,
                                                           CONCAT15(in_stack_0000fecd,
                                                                    CONCAT14(cVar29,CONCAT22(
                                                  in_stack_0000feca,unaff_DI)))))))));
            bVar22 = *(byte *)((int)param_4 + 2) < 6;
          }
          if (!bVar22) {
            local_1e = 0x31;
          }
        }
      }
      goto switchD_1070_28cb_caseD_6;
    }
    FUN_1018_5948((int *)&local_30,-4,-4);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
    local_6 = local_6 & 0xffff | (ulong)local_30 << 0x10;
    FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,(int)s_Beam_Power__10a8_43b2,
                  (int16 *)0x0,(LPCSTR)CONCAT22(unaff_SI,1),
                  (int16)CONCAT214(in_stack_0000fed6,
                                   CONCAT212(in_stack_0000fed4,
                                             CONCAT210(in_stack_0000fed2,
                                                       CONCAT28(in_stack_0000fed0,
                                                                CONCAT26(in_stack_0000fece,
                                                                         CONCAT15(in_stack_0000fecd,
                                                                                  CONCAT14(cVar29,
                                                  CONCAT22(in_stack_0000feca,unaff_DI)))))))));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
    piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x43c010a8,
                       (LPCSTR)CONCAT22(*(undefined2 *)(*(int *)((int)param_4 + 4) + 0x36),0x10a8),
                       unaff_SI);
    FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,(int)&DAT_10a8_86de,piVar8,
                  (LPCSTR)CONCAT22(unaff_SI,1),
                  (int16)CONCAT214(in_stack_0000fed6,
                                   CONCAT212(in_stack_0000fed4,
                                             CONCAT210(in_stack_0000fed2,
                                                       CONCAT28(in_stack_0000fed0,
                                                                CONCAT26(in_stack_0000fece,
                                                                         CONCAT15(in_stack_0000fecd,
                                                                                  CONCAT14(cVar29,
                                                  CONCAT22(in_stack_0000feca,unaff_DI)))))))));
    local_6 = local_6 & 0xffff | (ulong)local_30 << 0x10;
    local_2e = local_2e + (int)PTR_DAT_10a8_0000_10a8_5794;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
    FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,(int)s_Beam_Range__10a8_43c3,
                  (int16 *)0x0,(LPCSTR)CONCAT22(unaff_SI,1),
                  (int16)CONCAT214(in_stack_0000fed6,
                                   CONCAT212(in_stack_0000fed4,
                                             CONCAT210(in_stack_0000fed2,
                                                       CONCAT28(in_stack_0000fed0,
                                                                CONCAT26(in_stack_0000fece,
                                                                         CONCAT15(in_stack_0000fecd,
                                                                                  CONCAT14(cVar29,
                                                  CONCAT22(in_stack_0000feca,unaff_DI)))))))));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
    uVar25 = *(undefined2 *)(*(int *)((int)param_4 + 4) + 0x34);
    uVar26 = 0x43d1;
  }
  piVar8 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(uVar26,0x10a8),
                     (LPCSTR)CONCAT22(uVar25,0x10a8),unaff_SI);
  piVar8 = (int16 *)FUN_1018_5318(param_1,(int *)((int)&local_6 + 2),local_2e,(int)&DAT_10a8_86de,
                                  piVar8,(LPCSTR)CONCAT22(unaff_SI,1),
                                  (int16)CONCAT214(in_stack_0000fed6,
                                                   CONCAT212(in_stack_0000fed4,
                                                             CONCAT210(in_stack_0000fed2,
                                                                       CONCAT28(in_stack_0000fed0,
                                                                                CONCAT26(
                                                  in_stack_0000fece,
                                                  CONCAT15(in_stack_0000fecd,
                                                           CONCAT14(cVar29,CONCAT22(
                                                  in_stack_0000feca,unaff_DI)))))))));
switchD_1070_28cb_caseD_6:
  if (local_1e != 0xffff) {
    iVar9 = FUN_1018_50de(local_1e,(char *)&DAT_10a8_86de);
    SETRECT((RECT16 *)CONCAT22(param_2 + -4,param_3 + -5),
            (int16)CONCAT115(in_stack_0000fecd,
                             CONCAT114(cVar29,CONCAT212(in_stack_0000feca,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(unaff_SS,CONCAT24(&local_1c,
                                                                             CONCAT22(4,-((int)
                                                  PTR_DAT_10a8_0000_10a8_5794 * 2 - param_3)))))))))
            ,(int16)CONCAT214(in_stack_0000fedc,
                              CONCAT212(in_stack_0000feda,
                                        CONCAT210(in_stack_0000fed8,
                                                  CONCAT28(in_stack_0000fed6,
                                                           CONCAT26(in_stack_0000fed4,
                                                                    CONCAT24(in_stack_0000fed2,
                                                                             CONCAT22(
                                                  in_stack_0000fed0,in_stack_0000fece))))))),
            (int16)CONCAT412(in_stack_0000feea,
                             CONCAT66(in_stack_0000fee4,
                                      CONCAT24(in_stack_0000fee2,
                                               CONCAT22(in_stack_0000fee0,in_stack_0000fede)))),
            (int16)CONCAT412(in_stack_0000fefa,
                             CONCAT48(in_stack_0000fef6,
                                      CONCAT26(in_stack_0000fef4,
                                               CONCAT24(in_stack_0000fef2,
                                                        CONCAT22(in_stack_0000fef0,in_stack_0000feee
                                                                ))))));
    piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_59cc;
    if (0xe < (int)PTR_DAT_10a8_0000_10a8_5794) {
      piVar8 = (int16 *)PTR_DAT_10a8_0000_10a8_59ce;
    }
    SELECTOBJECT(piVar8,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT214(in_stack_0000fed8,
                                  CONCAT212(in_stack_0000fed6,
                                            CONCAT210(in_stack_0000fed4,
                                                      CONCAT28(in_stack_0000fed2,
                                                               CONCAT26(in_stack_0000fed0,
                                                                        CONCAT24(in_stack_0000fece,
                                                                                 CONCAT13(
                                                  in_stack_0000fecd,
                                                  CONCAT12(cVar29,in_stack_0000feca)))))))));
    if (local_14 == -1) {
      HVar10 = 0x7f;
    }
    else {
      HVar10 = 0;
    }
    SETTEXTCOLOR(HVar10,(COLORREF)(ZEXT24(param_1) << 0x10));
    piVar8 = DRAWTEXT((int16 *)0x810,(HDC16)&local_1c,(LPCSTR)CONCAT22(iVar9,unaff_SS),
                      (int16)CONCAT214(in_stack_0000fece,
                                       CONCAT113(in_stack_0000fecd,
                                                 CONCAT112(cVar29,CONCAT210(in_stack_0000feca,
                                                                            CONCAT28(unaff_DI,
                                                  CONCAT26(unaff_SI,CONCAT24(param_1,0x10a886de)))))
                                                )),
                      (RECT16 *)CONCAT22(in_stack_0000fed2,in_stack_0000fed0),
                      (uint16)CONCAT214(in_stack_0000fee2,
                                        CONCAT212(in_stack_0000fee0,
                                                  CONCAT210(in_stack_0000fede,
                                                            CONCAT28(in_stack_0000fedc,
                                                                     CONCAT26(in_stack_0000feda,
                                                                              CONCAT24(
                                                  in_stack_0000fed8,
                                                  CONCAT22(in_stack_0000fed6,in_stack_0000fed4))))))
                                       ));
    if (local_14 == -1) {
      CVar24 = SETTEXTCOLOR(0,(COLORREF)(ZEXT24(param_1) << 0x10));
      piVar8 = (int16 *)CVar24.value;
    }
  }
  return piVar8;
}



int __cdecl16far FUN_1070_3114(long param_1)

{
  int iVar1;
  undefined4 uVar2;
  undefined *puVar3;
  undefined *puVar4;
  int iVar5;
  undefined *puVar6;
  long lStackY_22;

  puVar3 = PTR_DAT_10a8_0000_10a8_006c;
  iVar1 = 0;
  puVar4 = PTR_DAT_10a8_0000_10a8_006a + (int)PTR_DAT_10a8_0000_10a8_7d52 * 0x3c;
  puVar6 = PTR_DAT_10a8_0000_10a8_006a;
  if (PTR_DAT_10a8_0000_10a8_006a < puVar4) {
    do {
      if (*(undefined **)(puVar6 + 2) == PTR_DAT_10a8_0001_10a8_00c0) {
        iVar5 = FUN_1020_39d0((int)puVar6,puVar3,(int)PTR_DAT_10a8_0001_10a8_00c0);
        if ((*(long *)(puVar6 + 0x38) != 0) &&
           (uVar2 = *(undefined4 *)(puVar6 + 0x38), *(char *)((int)uVar2 + 3) != '\0')) {
          if ((*(uint *)(puVar6 + 0x20) & 0x80) != 0) goto LAB_1070_31a3;
          lStackY_22 = (long)iVar5;
          iVar5 = (int)((lStackY_22 * param_1) / 100);
        }
        iVar1 = iVar1 + iVar5;
      }
LAB_1070_31a3:
      puVar6 = puVar6 + 0x3c;
    } while (puVar6 < puVar4);
  }
  return iVar1;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1070_31b6(char *param_1)

{
  char *pcVar1;
  undefined2 *puVar2;
  undefined2 *puVar3;
  char cVar4;
  undefined2 *puVar5;
  uint uVar6;
  int iVar7;
  char *pcVar8;
  undefined2 *puVar9;
  int iVar10;
  undefined2 unaff_SS;
  bool bVar11;
  undefined2 local_18 [3];
  undefined2 *local_12;
  undefined4 local_10;
  uint local_c;
  int local_a;
  int local_8;
  uint local_6;
  char *local_4;

  local_10 = 0;
  puVar5 = (undefined2 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + -0x7788);
  local_12 = puVar5;
  iVar10 = 0;
  local_4 = param_1;
  pcVar8 = param_1;
  do {
    if ('\n' < *pcVar8) break;
    pcVar8 = pcVar8 + 1;
    iVar10 = iVar10 + 1;
  } while (iVar10 < 6);
  if (5 < iVar10) {
    iVar10 = 0;
    do {
      cVar4 = *(char *)((int)puVar5 + iVar10);
      *(char *)((int)local_18 + iVar10) = cVar4;
      pcVar8 = param_1 + iVar10;
      pcVar1 = pcVar8;
      if (*pcVar1 != cVar4 && cVar4 <= *pcVar1) {
        local_6 = *(uint *)(((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x3b + iVar10) * 2 + -0x7782);
        local_4 = (char *)0x0;
        if (((byte)PTR_DAT_10a8_0000_10a8_0040 & 2) != 0) {
          bVar11 = CARRY2(local_6,local_6);
          local_6 = local_6 * 2;
          local_4 = (char *)(uint)bVar11;
        }
        iVar7 = -((int)local_4 + (uint)(local_6 != 0));
        local_c = -local_6;
        local_a = iVar7;
        cVar4 = *(char *)((int)puVar5 + iVar10);
        pcVar1 = pcVar8;
        local_8 = iVar10;
        if (*pcVar1 != cVar4 && cVar4 <= *pcVar1) {
          do {
            uVar6 = FUN_1070_10f4(iVar10,*(char *)((int)puVar5 + iVar10) + 1,
                                  (int)PTR_DAT_10a8_0001_10a8_00c0);
            bVar11 = CARRY2(local_c,uVar6);
            local_c = local_c + uVar6;
            local_a = local_a + iVar7 + (uint)bVar11;
            pcVar1 = (char *)((int)puVar5 + iVar10);
            *pcVar1 = *pcVar1 + '\x01';
            cVar4 = *(char *)((int)puVar5 + iVar10);
            pcVar1 = pcVar8;
          } while (*pcVar1 != cVar4 && cVar4 <= *pcVar1);
        }
        if ((local_a < 1) && (local_a < 0)) {
          local_a = 0;
          local_c = 0;
        }
        local_10 = CONCAT22((int)((ulong)local_10 >> 0x10) + local_a +
                            (uint)CARRY2((uint)local_10,local_c),(uint)local_10 + local_c);
      }
      iVar10 = iVar10 + 1;
    } while (iVar10 < 6);
    puVar9 = local_18;
    for (iVar10 = 3; iVar10 != 0; iVar10 = iVar10 + -1) {
      puVar3 = puVar5;
      puVar5 = puVar5 + 1;
      puVar2 = puVar9;
      puVar9 = puVar9 + 1;
      *puVar3 = *puVar2;
    }
    return (uint)local_10;
  }
  return 0xffff;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1078_0000(undefined *param_1,undefined *param_2,int param_3)

{
  int16 *piVar1;
  int iVar2;
  HWND16 HVar3;
  char *pcVar4;
  VA_LIST16 unaff_SI;
  undefined2 unaff_DI;
  void *pvVar5;
  void *func;
  void *func_00;
  void *func_01;
  undefined2 in_stack_0000ff5e;
  undefined2 in_stack_0000ff60;
  undefined2 in_stack_0000ff62;
  undefined2 in_stack_0000ff64;
  undefined2 in_stack_0000ff66;
  undefined2 in_stack_0000ff68;
  undefined local_8e [138];
  HINSTANCE16 local_4;

  func_01 = (void *)CONCAT22(in_stack_0000ff68,in_stack_0000ff66);
  func_00 = (void *)CONCAT22(in_stack_0000ff64,in_stack_0000ff62);
                    // Segment:    16
                    // Offset:     0004a6c0
                    // Length:     315e
                    // Min Alloc:  315e
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  func = (void *)CONCAT22(in_stack_0000ff60,in_stack_0000ff5e);
  PTR_DAT_10a8_0000_10a8_7ace = local_8e;
  PTR_DAT_10a8_0000_10a8_83aa = param_2;
  PTR_DAT_10a8_0000_10a8_7acc = param_1;
LAB_1078_0019:
  PTR_DAT_10a8_0000_10a8_591c = (undefined *)&DAT_10a8_0001;
  pvVar5 = MAKEPROCINSTANCE((void *)CONCAT13(3,CONCAT12(6,PTR_DAT_10a8_0000_10a8_839a)),
                            (HANDLE16)s_BUTTON_10a8_1078);
  local_4 = (HINSTANCE16)((ulong)pvVar5 >> 0x10);
  piVar1 = DIALOGBOX((int16 *)pvVar5,local_4,(LPCSTR)CONCAT22(0x92,PTR_DAT_10a8_0000_10a8_7acc),0,
                     PTR_DAT_10a8_0000_10a8_839a);
  FREEPROCINSTANCE(pvVar5);
  if (piVar1 == (int16 *)0x0) {
    return 0;
  }
  if (piVar1 != (int16 *)&DAT_10a8_0003) goto LAB_1078_00c2;
LAB_1078_0063:
  do {
    if (PTR_DAT_10a8_0000_10a8_83aa != (undefined *)0x0) {
      return 0;
    }
    iVar2 = FUN_1078_2274((int)&PTR_DAT_10a8_0000_10a8_8166,CONCAT22(unaff_DI,unaff_SI));
    if (-1 < iVar2) {
      _PTR_DAT_10a8_0000_10a8_024c = 0;
      piVar1 = FUN_1010_26a0();
      if (piVar1 != (int16 *)0x0) {
        if (param_3 != 0) {
          return 1;
        }
        if ((char)PTR_DAT_10a8_0000_10a8_48ca == '\0') {
          pcVar4 = (char *)s_stars_r1_10a8_495f;
        }
        else {
          pcVar4 = (char *)&PTR_DAT_10a8_0000_10a8_48ca;
        }
        iVar2 = FUN_1078_298a(pcVar4,(undefined2 *)&PTR_DAT_10a8_0000_10a8_8166);
        if (iVar2 != 0) {
          return 1;
        }
      }
      goto LAB_1078_0019;
    }
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x48da10a8,(LPCSTR)CONCAT22(-iVar2,0x10a8),unaff_SI);
    HVar3 = GETFOCUS();
    MESSAGEBOX((int16 *)&PTR_DAT_10a8_0000_10a8_0010,0x4958,(LPCSTR)0x86de10a8,
               (LPCSTR)CONCAT22(HVar3,0x10a8),
               (uint16)CONCAT214((int)((ulong)func_01 >> 0x10),
                                 CONCAT212((int)func_01,
                                           CONCAT210((int)((ulong)func_00 >> 0x10),
                                                     CONCAT28((int)func_00,
                                                              CONCAT26((int)((ulong)func >> 0x10),
                                                                       CONCAT24((int)func,
                                                                                CONCAT22(unaff_DI,
                                                  unaff_SI))))))));
    if (PTR_DAT_10a8_0000_10a8_591c == (undefined *)&DAT_10a8_0002) goto LAB_1078_00c2;
    if (PTR_DAT_10a8_0000_10a8_591c == (undefined *)&DAT_10a8_0003) goto LAB_1078_0117;
    if (PTR_DAT_10a8_0000_10a8_591c == (undefined *)&PTR_LOOP_10a8_0004) goto LAB_1078_016c;
    if (PTR_DAT_10a8_0000_10a8_591c != (undefined *)((int)&PTR_LOOP_10a8_0004 + 1))
    goto LAB_1078_0019;
    do {
      PTR_DAT_10a8_0000_10a8_591c = (undefined *)((int)&PTR_LOOP_10a8_0004 + 1);
      func_01 = MAKEPROCINSTANCE((void *)CONCAT13(0x1f,CONCAT12(0xac,PTR_DAT_10a8_0000_10a8_839a)),
                                 (HANDLE16)s_BUTTON_10a8_1078);
      local_4 = (HINSTANCE16)((ulong)func_01 >> 0x10);
      piVar1 = DIALOGBOX((int16 *)func_01,local_4,(LPCSTR)CONCAT22(0x96,PTR_DAT_10a8_0000_10a8_7acc)
                         ,0,PTR_DAT_10a8_0000_10a8_839a);
      FREEPROCINSTANCE(func_01);
      if (piVar1 == (int16 *)0x0) {
        return 0;
      }
      if (piVar1 != (int16 *)&DAT_10a8_0001) break;
LAB_1078_016c:
      while( true ) {
        PTR_DAT_10a8_0000_10a8_591c = (undefined *)&PTR_LOOP_10a8_0004;
        pvVar5 = MAKEPROCINSTANCE((void *)CONCAT13(0x1d,CONCAT12(0xe0,PTR_DAT_10a8_0000_10a8_839a)),
                                  (HANDLE16)s_BUTTON_10a8_1078);
        local_4 = (HINSTANCE16)((ulong)pvVar5 >> 0x10);
        piVar1 = DIALOGBOX((int16 *)pvVar5,local_4,
                           (LPCSTR)CONCAT22(0x95,PTR_DAT_10a8_0000_10a8_7acc),0,
                           PTR_DAT_10a8_0000_10a8_839a);
        FREEPROCINSTANCE(pvVar5);
        if (piVar1 == (int16 *)0x0) {
          return 0;
        }
        if (piVar1 != (int16 *)&DAT_10a8_0001) break;
LAB_1078_0117:
        while( true ) {
          PTR_DAT_10a8_0000_10a8_591c = (undefined *)&DAT_10a8_0003;
          func_00 = MAKEPROCINSTANCE((void *)CONCAT13(0x17,CONCAT12(0x56,PTR_DAT_10a8_0000_10a8_839a
                                                                   )),(HANDLE16)s_BUTTON_10a8_1078);
          local_4 = (HINSTANCE16)((ulong)func_00 >> 0x10);
          piVar1 = DIALOGBOX((int16 *)func_00,local_4,
                             (LPCSTR)CONCAT22(0x94,PTR_DAT_10a8_0000_10a8_7acc),0,
                             PTR_DAT_10a8_0000_10a8_839a);
          FREEPROCINSTANCE(func_00);
          if (piVar1 == (int16 *)0x0) {
            return 0;
          }
          if (piVar1 != (int16 *)&DAT_10a8_0001) break;
LAB_1078_00c2:
          PTR_DAT_10a8_0000_10a8_591c = (undefined *)&DAT_10a8_0002;
          func = MAKEPROCINSTANCE((void *)CONCAT13(0xb,CONCAT12(0x3e,PTR_DAT_10a8_0000_10a8_839a)),
                                  (HANDLE16)s_BUTTON_10a8_1078);
          local_4 = (HINSTANCE16)((ulong)func >> 0x10);
          piVar1 = DIALOGBOX((int16 *)func,local_4,
                             (LPCSTR)CONCAT22(0x93,PTR_DAT_10a8_0000_10a8_7acc),0,
                             PTR_DAT_10a8_0000_10a8_839a);
          FREEPROCINSTANCE(func);
          if (piVar1 == (int16 *)0x0) {
            return 0;
          }
          if (piVar1 == (int16 *)&DAT_10a8_0001) goto LAB_1078_0019;
          if (piVar1 == (int16 *)&DAT_10a8_0003) goto LAB_1078_0063;
        }
        if (piVar1 == (int16 *)&DAT_10a8_0003) goto LAB_1078_0063;
      }
    } while (piVar1 != (int16 *)&DAT_10a8_0003);
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulong __stdcall16far RACEWIZARDDLG1(dword param_1,uint param_2,uint param_3,undefined4 *param_4)

{
  byte *pbVar1;
  undefined2 *puVar2;
  undefined4 *puVar3;
  char *pcVar4;
  byte *pbVar5;
  undefined2 *puVar6;
  undefined4 *puVar7;
  HDC16 HVar8;
  uint16 *puVar9;
  HWND16 HVar10;
  int iVar11;
  int iVar12;
  RECT16 *pRVar13;
  HWND16 HVar14;
  HWND16 hwnd;
  HWND16 HVar15;
  undefined4 *puVar16;
  int iVar17;
  int16 *__return_storage_ptr__;
  bool16 bVar18;
  char *pcVar19;
  uint uVar20;
  void *in_DX;
  uint *puVar21;
  bitmapinfo *unaff_BP;
  HDC16 unaff_SI;
  uint16 *puVar22;
  uint uVar23;
  byte *pbVar24;
  HRGN16 unaff_DI;
  int iVar25;
  byte *pbVar26;
  char *pcVar27;
  byte *pbVar28;
  undefined2 *puVar29;
  undefined2 *puVar30;
  PAINTSTRUCT16 *unaff_SS;
  bool bVar31;
  bool bVar32;
  COLORREF CVar33;
  LRESULT LVar34;
  undefined4 in_stack_00000000;
  undefined2 in_stack_0000000e;
  dword in_stack_00000010;
  undefined uVar35;
  undefined uVar36;
  undefined2 uVar37;
  HRGN16 in_stack_0000ffc4;
  WPARAM16 in_stack_0000ffc6;
  WPARAM16 in_stack_0000ffc8;
  undefined2 in_stack_0000ffca;
  HWND16 in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  word in_stack_0000ffd2;
  undefined2 in_stack_0000ffd4;
  undefined2 in_stack_0000ffd6;
  undefined2 in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  undefined2 in_stack_0000ffdc;
  unkbyte10 in_stack_0000ffde;
  int in_stack_0000ffe8;
  int in_stack_0000ffea;
  int in_stack_0000ffec;
  int in_stack_0000ffee;
  undefined2 in_stack_0000fff0;
  undefined4 *puVar38;
  byte bVar39;
  undefined2 in_stack_0000fffa;
  void *in_stack_0000fffc;
  char *pcVar40;
  void *pvVar41;
  void *pvVar42;

  if (param_3 == 0x110) {
    FUN_1078_2aea(param_4,(VA_LIST16)&DAT_10a8_0001);
    SETDLGITEMTEXT((HWND16)&PTR_DAT_10a8_0000_10a8_81bc,
                   (int16)CONCAT214(in_stack_0000ffc8,
                                    CONCAT212(in_stack_0000ffc6,
                                              CONCAT210(in_stack_0000ffc4,
                                                        CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24
                                                  (param_4,0x10c10a8)))))),
                   CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
    if ((char)PTR_DAT_10a8_0000_10a8_81bc == '\0') {
      GETDLGITEMTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0010,(HWND16)&PTR_DAT_10a8_0000_10a8_81bc,
                     (int16)CONCAT214(in_stack_0000ffc8,
                                      CONCAT212(in_stack_0000ffc6,
                                                CONCAT210(in_stack_0000ffc4,
                                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_4,0x10f10a8)))))),
                     CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
                     (uint16)CONCAT214(in_stack_0000ffdc,
                                       CONCAT212(in_stack_0000ffda,
                                                 CONCAT210(in_stack_0000ffd8,
                                                           CONCAT28(in_stack_0000ffd6,
                                                                    CONCAT26(in_stack_0000ffd4,
                                                                             CONCAT24(
                                                  in_stack_0000ffd2,
                                                  CONCAT22(in_stack_0000ffd0,in_stack_0000ffce))))))
                                      ));
      SETDLGITEMTEXT((HWND16)&PTR_DAT_10a8_0000_10a8_81bc,
                     (int16)CONCAT214(in_stack_0000ffc8,
                                      CONCAT212(in_stack_0000ffc6,
                                                CONCAT210(in_stack_0000ffc4,
                                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_4,0x10c10a8)))))),
                     CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
    }
    FUN_1018_5a04(param_4,(int *)0x489e,1,unaff_SI,
                  (int16)CONCAT214(in_stack_0000ffd0,
                                   CONCAT212(in_stack_0000ffce,
                                             CONCAT210(in_stack_0000ffcc,
                                                       CONCAT28(in_stack_0000ffca,
                                                                CONCAT26(in_stack_0000ffc8,
                                                                         CONCAT24(in_stack_0000ffc6,
                                                                                  CONCAT22(
                                                  in_stack_0000ffc4,unaff_DI))))))),
                  in_stack_0000ffd2);
    if (((((byte)PTR_DAT_10a8_0000_10a8_0040 & 8) == 0) ||
        (PTR_DAT_10a8_0001_10a8_00c0 != (undefined *)0x0)) ||
       (PTR_DAT_10a8_0000_10a8_83aa == (undefined *)0x0)) {
      iVar25 = 0;
      pbVar24 = (byte *)&DAT_10a8_446e;
      do {
        iVar11 = 0x56;
        pbVar28 = (byte *)&PTR_DAT_10a8_0000_10a8_8166;
        bVar31 = false;
        iVar17 = 0;
        bVar32 = true;
        pbVar26 = pbVar24;
        do {
          if (iVar11 == 0) break;
          iVar11 = iVar11 + -1;
          pbVar5 = pbVar26;
          pbVar26 = pbVar26 + 1;
          pbVar1 = pbVar28;
          pbVar28 = pbVar28 + 1;
          bVar31 = *pbVar1 < *pbVar5;
          bVar32 = *pbVar1 == *pbVar5;
        } while (bVar32);
        if (!bVar32) {
          iVar17 = (1 - (uint)bVar31) - (uint)(bVar31 != 0);
        }
        if (iVar17 == 0) break;
        iVar25 = iVar25 + 1;
        pbVar24 = pbVar24 + 0x76;
      } while (pbVar24 < (byte *)s_Berserker_10a8_47a8);
    }
    else {
      iVar25 = 0;
    }
    CHECKRADIOBUTTON(iVar25 + 0x10f,
                     (uint16)CONCAT214(in_stack_0000ffc8,
                                       CONCAT212(in_stack_0000ffc6,
                                                 CONCAT210(in_stack_0000ffc4,
                                                           CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_4,0x10f0116)))))),
                     (uint16)CONCAT214(in_stack_0000ffd8,
                                       CONCAT212(in_stack_0000ffd6,
                                                 CONCAT210(in_stack_0000ffd4,
                                                           CONCAT28(in_stack_0000ffd2,
                                                                    CONCAT26(in_stack_0000ffd0,
                                                                             CONCAT24(
                                                  in_stack_0000ffce,
                                                  CONCAT22(in_stack_0000ffcc,in_stack_0000ffca))))))
                                      ),
                     (uint16)CONCAT214(in_stack_0000ffe8,
                                       CONCAT104(in_stack_0000ffde,
                                                 CONCAT22(in_stack_0000ffdc,in_stack_0000ffda))));
    SENDDLGITEMMESSAGE(0,(int16)CONCAT214(in_stack_0000ffc4,
                                          CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_4,
                                                  0x10c0415000f0000)))),in_stack_0000ffc6,
                       CONCAT22(in_stack_0000ffca,in_stack_0000ffc8));
    SENDDLGITEMMESSAGE(0,(int16)CONCAT214(in_stack_0000ffc4,
                                          CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_4,
                                                  0x10d041500100000)))),in_stack_0000ffc6,
                       CONCAT22(in_stack_0000ffca,in_stack_0000ffc8));
    HVar14 = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffcc,
                                               CONCAT212(in_stack_0000ffca,
                                                         CONCAT210(in_stack_0000ffc8,
                                                                   CONCAT28(in_stack_0000ffc6,
                                                                            CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)))))))
                       );
    uVar23 = 0xbb;
    HVar10 = HVar14;
    do {
      uVar35 = 0;
      uVar36 = 0;
      uVar37 = 0x403;
      HVar15 = HVar14;
      hwnd = FUN_1018_5112(uVar23);
      SENDMESSAGE(hwnd,(uint16)CONCAT214(in_stack_0000ffc6,
                                         CONCAT212(in_stack_0000ffc4,
                                                   CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar15,CONCAT24(uVar37,CONCAT13(uVar36,CONCAT12(
                                                  uVar35,0x10a8)))))))),in_stack_0000ffc8,
                  CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
      uVar23 = uVar23 + 1;
    } while ((int)uVar23 < 0xc0);
    uVar37 = 0x40e;
    HVar14 = HVar10;
    iVar25 = FUN_1078_1d42((int)&PTR_DAT_10a8_0000_10a8_8166,7);
    LVar34 = SENDMESSAGE(0,(uint16)(ZEXT1416(CONCAT212(in_stack_0000ffc6,
                                                       CONCAT210(in_stack_0000ffc4,
                                                                 CONCAT28(unaff_DI,CONCAT26(unaff_SI
                                                  ,CONCAT24(HVar10,CONCAT22(uVar37,iVar25))))))) <<
                                   0x10),in_stack_0000ffc8,
                         CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
    in_DX = (void *)((ulong)LVar34 >> 0x10);
    if (_PTR_DAT_10a8_0000_10a8_8172 != 0) {
      SETDLGITEMTEXT((HWND16)&PTR_DAT_10a8_0000_10a8_48ba,
                     (int16)CONCAT214(in_stack_0000ffc8,
                                      CONCAT212(in_stack_0000ffc6,
                                                CONCAT210(in_stack_0000ffc4,
                                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_4,0x10d10a8)))))),
                     CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
    }
    if (PTR_DAT_10a8_0000_10a8_83aa == (undefined *)0x0) {
      HVar10 = 0x115;
    }
    else {
      HVar10 = 0x10c;
      do {
        HVar15 = GETDLGITEM(HVar10,(int16)CONCAT214(in_stack_0000ffcc,
                                                    CONCAT212(in_stack_0000ffca,
                                                              CONCAT210(in_stack_0000ffc8,
                                                                        CONCAT28(in_stack_0000ffc6,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)))))))
                           );
        ENABLEWINDOW(0,HVar15);
        HVar10 = HVar10 + 1;
      } while ((int)HVar10 < 0x10e);
      HVar10 = 0x10f;
    }
    if (HVar10 < 0x117) {
      do {
        HVar15 = GETDLGITEM(HVar10,(int16)CONCAT214(in_stack_0000ffcc,
                                                    CONCAT212(in_stack_0000ffca,
                                                              CONCAT210(in_stack_0000ffc8,
                                                                        CONCAT28(in_stack_0000ffc6,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)))))))
                           );
        ENABLEWINDOW(0,HVar15);
        HVar10 = HVar10 + 1;
      } while ((int)HVar10 < 0x117);
    }
    ENABLEWINDOW(0,HVar14);
    goto LAB_1078_0572;
  }
  if (param_3 < 0x111) {
    if (param_3 == 0x19) {
      HVar10 = 0x10f;
      do {
        pRVar13 = (RECT16 *)
                  GETDLGITEM(HVar10,(int16)CONCAT214(in_stack_0000ffcc,
                                                     CONCAT212(in_stack_0000ffca,
                                                               CONCAT210(in_stack_0000ffc8,
                                                                         CONCAT28(in_stack_0000ffc6,
                                                                                  CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)))))))
                            );
        if (pRVar13 == (RECT16 *)param_1) break;
        HVar10 = HVar10 + 1;
      } while ((int)HVar10 < 0x117);
      if (((int)HVar10 < 0x117) || (param_1._2_2_ == 6)) {
        uVar37 = 0xf;
        CVar33 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffca,
                                              CONCAT212(in_stack_0000ffc8,
                                                        CONCAT210(in_stack_0000ffc6,
                                                                  CONCAT28(in_stack_0000ffc4,
                                                                           CONCAT26(unaff_DI,
                                                  CONCAT24(unaff_SI,CONCAT22(param_2,0xf))))))));
        CVar33 = SETBKCOLOR((HDC16)CVar33.value,CONCAT22(uVar37,(int)(CVar33.value >> 0x10)));
        return CVar33.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
    }
    else if (param_3 < 0x1a) {
      if ((char)param_3 == '\x0f') {
        HVar8 = BEGINPAINT((HWND16)&stack0xffc4,(PAINTSTRUCT16 *)CONCAT22(param_4,unaff_SS));
        uVar35 = (undefined)HVar8;
        uVar36 = (undefined)(HVar8 >> 8);
        puVar22 = (uint16 *)((int)s_starsmessage_10a8_0104 + 0xb);
        do {
          puVar9 = ISDLGBUTTONCHECKED(puVar22,(HWND16)param_4,
                                      (uint16)CONCAT214(in_stack_0000ffd0,
                                                        CONCAT212(in_stack_0000ffce,
                                                                  CONCAT210(in_stack_0000ffcc,
                                                                            CONCAT28(
                                                  in_stack_0000ffca,
                                                  CONCAT26(in_stack_0000ffc8,
                                                           CONCAT24(in_stack_0000ffc6,
                                                                    CONCAT22(in_stack_0000ffc4,
                                                                             unaff_DI))))))));
          if (puVar9 != (uint16 *)0x0) break;
          puVar22 = (uint16 *)((int)puVar22 + 1);
        } while ((int)puVar22 < 0x117);
        if ((int)puVar22 < 0x116) {
          iVar25 = (int)puVar22 * 0x76 + -0x387c;
        }
        else {
          iVar25 = (int)&PTR_DAT_10a8_0000_10a8_8166;
        }
        GETCLIENTRECT((HWND16)&stack0xffe4,(RECT16 *)CONCAT22(param_4,unaff_SS));
        FUN_1078_275a(CONCAT11(uVar36,uVar35),(undefined4 *)&stack0xffe4,iVar25);
        HVar10 = GETDLGITEM(0x10f,(int16)CONCAT214(in_stack_0000ffce,
                                                   CONCAT212(in_stack_0000ffcc,
                                                             CONCAT210(in_stack_0000ffca,
                                                                       CONCAT28(in_stack_0000ffc8,
                                                                                CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(in_stack_0000ffc4,
                                                           CONCAT22(unaff_DI,param_4))))))));
        GETWINDOWRECT((HWND16)&stack0xffec,(RECT16 *)CONCAT22(HVar10,unaff_SS));
        SCREENTOCLIENT((HWND16)&stack0xffec,(POINT16 *)CONCAT22(param_4,unaff_SS));
        HVar10 = GETDLGITEM(0x116,(int16)CONCAT214(in_stack_0000ffce,
                                                   CONCAT212(in_stack_0000ffcc,
                                                             CONCAT210(in_stack_0000ffca,
                                                                       CONCAT28(in_stack_0000ffc8,
                                                                                CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(in_stack_0000ffc4,
                                                           CONCAT22(unaff_DI,param_4))))))));
        GETWINDOWRECT((HWND16)&stack0xffe4,(RECT16 *)CONCAT22(HVar10,unaff_SS));
        SCREENTOCLIENT((HWND16)&stack0xffe8,(POINT16 *)CONCAT22(param_4,unaff_SS));
        iVar25 = in_stack_0000ffe8;
        iVar17 = in_stack_0000ffea;
        FUN_1018_5948((int *)&stack0xffec,(int)PTR_DAT_10a8_0000_10a8_5794,
                      (int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
        FUN_1018_5bba((undefined *)CONCAT11(uVar36,uVar35),(undefined4 *)&stack0xffec,-1,unaff_DI,
                      in_stack_0000ffc4,in_stack_0000ffc6,in_stack_0000ffc8,in_stack_0000ffca,
                      in_stack_0000ffcc,in_stack_0000ffce,in_stack_0000ffd0,in_stack_0000ffd2,
                      in_stack_0000ffd4,in_stack_0000ffd6,in_stack_0000ffd8);
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,CONCAT11(uVar36,uVar35),unaff_DI,
                     in_stack_0000ffc4,
                     (int16)CONCAT214(in_stack_0000ffd4,
                                      CONCAT212(in_stack_0000ffd2,
                                                CONCAT210(in_stack_0000ffd0,
                                                          CONCAT28(in_stack_0000ffce,
                                                                   CONCAT26(in_stack_0000ffcc,
                                                                            CONCAT24(
                                                  in_stack_0000ffca,
                                                  CONCAT22(in_stack_0000ffc8,in_stack_0000ffc6))))))
                                     ));
        HVar8 = CONCAT11(uVar36,uVar35);
        uVar37 = 0xf;
        CVar33 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffcc,
                                              CONCAT212(in_stack_0000ffca,
                                                        CONCAT210(in_stack_0000ffc8,
                                                                  CONCAT28(in_stack_0000ffc6,
                                                                           CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(HVar8,0xf))))))));
        CVar33 = SETBKCOLOR((HDC16)CVar33.value,CONCAT22(uVar37,(int)(CVar33.value >> 0x10)));
        in_DX = (void *)(CVar33.value >> 0x10);
        iVar11 = -(((int)PTR_DAT_10a8_0000_10a8_5794 >> 1) - in_stack_0000ffee);
        TEXTOUT(0x10,(int16)CONCAT214(in_stack_0000ffc4,
                                      CONCAT212(unaff_DI,CONCAT210(HVar8,CONCAT28(CONCAT11(uVar36,
                                                  uVar35),CONCAT26(in_stack_0000ffec + 8,
                                                                   CONCAT15((char)((uint)iVar11 >> 8
                                                                                  ),CONCAT14((char)
                                                  iVar11,0x10a84968))))))),
                (int16)CONCAT214(in_stack_0000ffd4,
                                 CONCAT212(in_stack_0000ffd2,
                                           CONCAT210(in_stack_0000ffd0,
                                                     CONCAT28(in_stack_0000ffce,
                                                              CONCAT26(in_stack_0000ffcc,
                                                                       CONCAT24(in_stack_0000ffca,
                                                                                CONCAT22(
                                                  in_stack_0000ffc8,in_stack_0000ffc6))))))),
                (LPCSTR)CONCAT22(in_stack_0000ffd8,in_stack_0000ffd6),
                (int16)CONCAT214(in_stack_0000ffe8,
                                 CONCAT104(in_stack_0000ffde,
                                           CONCAT22(in_stack_0000ffdc,in_stack_0000ffda))));
        HVar10 = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffcc,
                                                   CONCAT212(in_stack_0000ffca,
                                                             CONCAT210(in_stack_0000ffc8,
                                                                       CONCAT28(in_stack_0000ffc6,
                                                                                CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(HVar8,param_4))))))));
        GETWINDOWRECT((HWND16)&stack0xffec,(RECT16 *)CONCAT22(HVar10,unaff_SS));
        SCREENTOCLIENT((HWND16)&stack0xfff0,(POINT16 *)CONCAT22(param_4,unaff_SS));
        iVar11 = iVar25 + 0x20;
        iVar12 = iVar17 + -0x20;
        uVar23 = ((uint)PTR_DAT_10a8_0000_10a8_816c & 0xf8) >> 3;
        if (0x1f < uVar23) {
          uVar23 = 0;
        }
        SELECTPALETTE(0,(HPALETTE16)PTR_DAT_10a8_0000_10a8_839e,CONCAT11(uVar36,uVar35));
        REALIZEPALETTE((uint16 *)CONCAT11(uVar36,uVar35),HVar8);
        FUN_1018_6c46(CONCAT11(uVar36,uVar35),iVar11,iVar12,0x20,0x20,
                      (HGLOBAL16)PTR_DAT_10a8_0000_10a8_84d6,(uVar23 & 7) << 5,
                      -((uVar23 & 0xfff8) * 4 + -0x60),0x20,0x20,0xcc0020,
                      CONCAT210(in_stack_0000ffca,
                                CONCAT28(in_stack_0000ffc8,
                                         CONCAT26(in_stack_0000ffc6,
                                                  CONCAT24(in_stack_0000ffc4,
                                                           CONCAT22(unaff_DI,HVar8))))),
                      CONCAT22(in_stack_0000ffce,in_stack_0000ffcc),
                      CONCAT210(in_stack_0000ffda,
                                CONCAT28(in_stack_0000ffd8,
                                         CONCAT26(in_stack_0000ffd6,
                                                  CONCAT24(in_stack_0000ffd4,
                                                           CONCAT22(in_stack_0000ffd2,
                                                                    in_stack_0000ffd0))))),
                      (int16)CONCAT214(in_stack_0000ffea,
                                       CONCAT212(in_stack_0000ffe8,
                                                 CONCAT102(in_stack_0000ffde,in_stack_0000ffdc))),
                      (int16)CONCAT214(in_stack_0000fffa,
                                       CONCAT113(uVar36,CONCAT112(uVar35,CONCAT210(iVar12,CONCAT28(
                                                  iVar11,CONCAT26(iVar17,CONCAT24(iVar25,CONCAT22(
                                                  in_stack_0000ffee,in_stack_0000ffec)))))))),
                      in_stack_0000fffc,unaff_BP,
                      (uint16)CONCAT214(in_stack_0000000e,
                                        CONCAT212(param_4,CONCAT210(param_3,CONCAT28(param_2,
                                                  CONCAT26(param_1._2_2_,
                                                           CONCAT24((RECT16 *)param_1,
                                                                    in_stack_00000000)))))),
                      in_stack_00000010);
        if (PTR_DAT_10a8_0000_10a8_83aa == (undefined *)0x0) {
          SETRECT((RECT16 *)CONCAT22(iVar11 + 0x10,iVar12 + 0x31),
                  (int16)CONCAT214(in_stack_0000ffc6,
                                   CONCAT212(in_stack_0000ffc4,
                                             CONCAT210(unaff_DI,CONCAT28(HVar8,CONCAT26(0x10a8,
                                                  CONCAT24(0x87f2,CONCAT13((char)((uint)(iVar11 + 2)
                                                                                 >> 8),
                                                                           CONCAT12((char)(iVar11 +
                                                  2),iVar12 + 0x23)))))))),
                  (int16)CONCAT214(in_stack_0000ffd6,
                                   CONCAT212(in_stack_0000ffd4,
                                             CONCAT210(in_stack_0000ffd2,
                                                       CONCAT28(in_stack_0000ffd0,
                                                                CONCAT26(in_stack_0000ffce,
                                                                         CONCAT24(in_stack_0000ffcc,
                                                                                  CONCAT22(
                                                  in_stack_0000ffca,in_stack_0000ffc8))))))),
                  (int16)CONCAT106(in_stack_0000ffde,
                                   CONCAT24(in_stack_0000ffdc,
                                            CONCAT22(in_stack_0000ffda,in_stack_0000ffd8))),
                  (int16)CONCAT214(iVar12,CONCAT212(iVar11,CONCAT210(iVar17,CONCAT28(iVar25,CONCAT26
                                                  (in_stack_0000ffee,
                                                   CONCAT24(in_stack_0000ffec,
                                                            CONCAT22(in_stack_0000ffea,
                                                                     in_stack_0000ffe8))))))));
          uRam10a887fa = _PTR_DAT_10a8_0000_10a8_87f2;
          uRam10a887fe = _PTR_DAT_10a8_0000_10a8_87f6;
          OFFSETRECT((RECT16 *)0xe0000,
                     (int16)CONCAT214(in_stack_0000ffca,
                                      CONCAT212(in_stack_0000ffc8,
                                                CONCAT210(in_stack_0000ffc6,
                                                          CONCAT28(in_stack_0000ffc4,
                                                                   CONCAT26(unaff_DI,CONCAT24(HVar8,
                                                  0x10a887fa)))))),
                     (int16)CONCAT214(in_stack_0000ffda,
                                      CONCAT212(in_stack_0000ffd8,
                                                CONCAT210(in_stack_0000ffd6,
                                                          CONCAT28(in_stack_0000ffd4,
                                                                   CONCAT26(in_stack_0000ffd2,
                                                                            CONCAT24(
                                                  in_stack_0000ffd0,
                                                  CONCAT22(in_stack_0000ffce,in_stack_0000ffcc))))))
                                     ));
          iVar25 = 0;
          puVar38 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_87f2;
          do {
            FUN_1018_5f08(CONCAT11(uVar36,uVar35),puVar38,3 - (iVar25 == 0) | 0x20,0,0);
            iVar25 = iVar25 + 1;
            puVar38 = puVar38 + 2;
          } while (puVar38 < (undefined4 *)&PTR_DAT_10a8_0000_10a8_8802);
        }
        ENDPAINT((HWND16)&stack0xffc4,unaff_SS);
      }
      else {
        if ((char)param_3 != '\x14') goto LAB_1078_0b36;
        GETCLIENTRECT((HWND16)&stack0xffe4,(RECT16 *)CONCAT22(param_4,unaff_SS));
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffe4,(RECT16 *)unaff_SS,param_2
                );
      }
      goto LAB_1078_0572;
    }
  }
  else {
    if (param_3 == 0x111) {
      if (param_2 == 0x76) {
        WINHELP(0x78,(LPCSTR)0x10000,
                (uint16)CONCAT214(in_stack_0000ffc8,
                                  CONCAT212(in_stack_0000ffc6,
                                            CONCAT210(in_stack_0000ffc4,
                                                      CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(
                                                  param_4,CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be))))))));
      }
      else {
        in_DX = (void *)0x0;
        puVar21 = (uint *)&PTR_DAT_10a8_0002_10a8_4894;
        do {
          if (*puVar21 == param_2) break;
          in_DX = (void *)((int)in_DX + 1);
          puVar21 = puVar21 + 1;
        } while (puVar21 < (uint *)0x489c);
        if (3 < (int)in_DX) {
          if (((param_1._2_2_ == 0) && (0x10e < param_2)) && (param_2 < 0x117)) {
            puVar38 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_81bc;
            for (iVar25 = 8; iVar25 != 0; iVar25 = iVar25 + -1) {
              puVar3 = puVar38;
              puVar38 = puVar38 + 1;
              *puVar3 = 0;
            }
            GETDLGITEMTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0010,
                           (HWND16)&PTR_DAT_10a8_0000_10a8_81bc,
                           (int16)CONCAT214(in_stack_0000ffc8,
                                            CONCAT212(in_stack_0000ffc6,
                                                      CONCAT210(in_stack_0000ffc4,
                                                                CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_4,0x10c10a8)))))),
                           CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
                           (uint16)CONCAT214(in_stack_0000ffdc,
                                             CONCAT212(in_stack_0000ffda,
                                                       CONCAT210(in_stack_0000ffd8,
                                                                 CONCAT28(in_stack_0000ffd6,
                                                                          CONCAT26(in_stack_0000ffd4
                                                                                   ,CONCAT24(
                                                  in_stack_0000ffd2,
                                                  CONCAT22(in_stack_0000ffd0,in_stack_0000ffce))))))
                                            ));
            GETDLGITEMTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0010,(HWND16)&stack0xffd4,
                           (int16)CONCAT214(in_stack_0000ffc8,
                                            CONCAT212(in_stack_0000ffc6,
                                                      CONCAT210(in_stack_0000ffc4,
                                                                CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_4,CONCAT22(param_2,unaff_SS))))))),
                           CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
                           (uint16)CONCAT214(in_stack_0000ffdc,
                                             CONCAT212(in_stack_0000ffda,
                                                       CONCAT210(in_stack_0000ffd8,
                                                                 CONCAT28(in_stack_0000ffd6,
                                                                          CONCAT26(in_stack_0000ffd4
                                                                                   ,CONCAT24(
                                                  in_stack_0000ffd2,
                                                  CONCAT22(in_stack_0000ffd0,in_stack_0000ffce))))))
                                            ));
            pcVar40 = (char *)s_Humanoid_10a8_44c4;
            iVar25 = 0;
            do {
              pbVar24 = (byte *)&PTR_DAT_10a8_0000_10a8_81bc;
              uVar23 = 0xffff;
              iVar17 = 0;
              pcVar27 = pcVar40;
              do {
                if (uVar23 == 0) break;
                uVar23 = uVar23 - 1;
                pcVar4 = pcVar27;
                pcVar27 = pcVar27 + 1;
              } while (*pcVar4 != '\0');
              pcVar19 = (char *)~uVar23;
              bVar31 = pcVar27 < pcVar19;
              pbVar28 = (byte *)(pcVar27 + -(int)pcVar19);
              bVar32 = pbVar28 == (byte *)0x0;
              do {
                if (pcVar19 == (char *)0x0) break;
                pcVar19 = pcVar19 + -1;
                pbVar5 = pbVar28;
                pbVar28 = pbVar28 + 1;
                pbVar1 = pbVar24;
                pbVar24 = pbVar24 + 1;
                bVar31 = *pbVar1 < *pbVar5;
                bVar32 = *pbVar1 == *pbVar5;
              } while (bVar32);
              if (!bVar32) {
                iVar17 = (1 - (uint)bVar31) - (uint)(bVar31 != 0);
              }
              if (iVar17 == 0) break;
              iVar25 = iVar25 + 1;
              pcVar40 = pcVar40 + 0x76;
            } while (pcVar40 < (char *)((int)s_Crusher_10a8_47f7 + 7));
            if ((iVar25 < 7) && (param_2 < 0x116)) {
              puVar38 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_81bc;
              for (iVar25 = 8; iVar25 != 0; iVar25 = iVar25 + -1) {
                puVar3 = puVar38;
                puVar38 = puVar38 + 1;
                *puVar3 = 0;
              }
              pcVar40 = (char *)(param_2 * 0x76 + -0x3826);
              uVar23 = 0xffff;
              do {
                if (uVar23 == 0) break;
                uVar23 = uVar23 - 1;
                pcVar4 = pcVar40;
                pcVar40 = pcVar40 + 1;
              } while (*pcVar4 != '\0');
              uVar23 = ~uVar23;
              puVar29 = (undefined2 *)(pcVar40 + -uVar23);
              puVar30 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_81bc;
              for (uVar20 = uVar23 >> 1; uVar20 != 0; uVar20 = uVar20 - 1) {
                puVar6 = puVar30;
                puVar30 = puVar30 + 1;
                puVar2 = puVar29;
                puVar29 = puVar29 + 1;
                *puVar6 = *puVar2;
              }
              for (uVar23 = (uint)((uVar23 & 1) != 0); uVar23 != 0; uVar23 = uVar23 - 1) {
                puVar6 = puVar30;
                puVar30 = (undefined2 *)((int)puVar30 + 1);
                puVar2 = puVar29;
                puVar29 = (undefined2 *)((int)puVar29 + 1);
                *(undefined *)puVar6 = *(undefined *)puVar2;
              }
              SETDLGITEMTEXT((HWND16)&PTR_DAT_10a8_0000_10a8_81bc,
                             (int16)CONCAT214(in_stack_0000ffc8,
                                              CONCAT212(in_stack_0000ffc6,
                                                        CONCAT210(in_stack_0000ffc4,
                                                                  CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(param_4,0x10c10a8)))))),
                             CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
            }
            if (param_2 < 0x116) {
              iVar25 = param_2 * 0x76 + -0x387c;
            }
            else {
              iVar25 = (int)&PTR_DAT_10a8_0000_10a8_8166;
            }
            GETCLIENTRECT((HWND16)&stack0xffe4,(RECT16 *)CONCAT22(param_4,unaff_SS));
            puVar38 = (undefined4 *)&stack0xffe4;
            iVar17 = iVar25;
            __return_storage_ptr__ = (int16 *)GETDC((HWND16)param_4);
            FUN_1078_275a((HRGN16)__return_storage_ptr__,puVar38,iVar17);
            RELEASEDC(__return_storage_ptr__,(HWND16)param_4,unaff_SI);
            uVar23 = FUN_1078_1d42(iVar25,7);
            HVar10 = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffcc,
                                                       CONCAT212(in_stack_0000ffca,
                                                                 CONCAT210(in_stack_0000ffc8,
                                                                           CONCAT28(
                                                  in_stack_0000ffc6,
                                                  CONCAT26(in_stack_0000ffc4,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_4))))))));
            LVar34 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc6,
                                                     CONCAT212(in_stack_0000ffc4,
                                                               CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar10,CONCAT24(0x40e,(ulong)uVar23 <<
                                                                                 0x10)))))),
                                 in_stack_0000ffc8,CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
            in_DX = (void *)((ulong)LVar34 >> 0x10);
            HVar10 = GETDLGITEM(0x42f,(int16)CONCAT214(in_stack_0000ffcc,
                                                       CONCAT212(in_stack_0000ffca,
                                                                 CONCAT210(in_stack_0000ffc8,
                                                                           CONCAT28(
                                                  in_stack_0000ffc6,
                                                  CONCAT26(in_stack_0000ffc4,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_4))))))));
            ENABLEWINDOW((uint)(param_2 != 0x115),HVar10);
          }
          goto LAB_1078_0b36;
        }
        pvVar41 = in_DX;
        if (param_2 != 2) {
          bVar39 = (byte)PTR_DAT_10a8_0000_10a8_816c >> 3;
          puVar22 = (uint16 *)((int)s_starsmessage_10a8_0104 + 0xb);
          do {
            puVar9 = ISDLGBUTTONCHECKED(puVar22,(HWND16)param_4,
                                        (uint16)CONCAT214(in_stack_0000ffce,
                                                          CONCAT212(in_stack_0000ffcc,
                                                                    CONCAT210(in_stack_0000ffca,
                                                                              CONCAT28(
                                                  in_stack_0000ffc8,
                                                  CONCAT26(in_stack_0000ffc6,
                                                           CONCAT24(in_stack_0000ffc4,
                                                                    CONCAT22(unaff_DI,unaff_SI))))))
                                                  ));
            if (puVar9 != (uint16 *)0x0) break;
            puVar22 = (uint16 *)((int)puVar22 + 1);
          } while ((int)puVar22 < 0x117);
          if ((int)puVar22 < 0x116) {
            puVar16 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_8166;
            puVar38 = (undefined4 *)((int)puVar22 * 0x76 + -0x387c);
            for (iVar25 = 0x1d; iVar25 != 0; iVar25 = iVar25 + -1) {
              puVar7 = puVar16;
              puVar16 = puVar16 + 1;
              puVar3 = puVar38;
              puVar38 = puVar38 + 1;
              *puVar7 = *puVar3;
            }
            *(undefined2 *)puVar16 = *(undefined2 *)puVar38;
          }
          GETDLGITEMTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0010,(HWND16)&PTR_DAT_10a8_0000_10a8_81bc,
                         (int16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(in_stack_0000ffc4,
                                                              CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_4,0x10c10a8)))))),
                         CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
                         (uint16)CONCAT214(in_stack_0000ffdc,
                                           CONCAT212(in_stack_0000ffda,
                                                     CONCAT210(in_stack_0000ffd8,
                                                               CONCAT28(in_stack_0000ffd6,
                                                                        CONCAT26(in_stack_0000ffd4,
                                                                                 CONCAT24(
                                                  in_stack_0000ffd2,
                                                  CONCAT22(in_stack_0000ffd0,in_stack_0000ffce))))))
                                          ));
          FUN_1078_1d42((int)&PTR_DAT_10a8_0000_10a8_8166,7);
          GETDLGITEMTEXT((int16 *)&PTR_DAT_10a8_0000_10a8_0010,(HWND16)&PTR_DAT_10a8_0000_10a8_48ba,
                         (int16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(in_stack_0000ffc4,
                                                              CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_4,0x10d10a8)))))),
                         CONCAT22(in_stack_0000ffcc,in_stack_0000ffca),
                         (uint16)CONCAT214(in_stack_0000ffdc,
                                           CONCAT212(in_stack_0000ffda,
                                                     CONCAT210(in_stack_0000ffd8,
                                                               CONCAT28(in_stack_0000ffd6,
                                                                        CONCAT26(in_stack_0000ffd4,
                                                                                 CONCAT24(
                                                  in_stack_0000ffd2,
                                                  CONCAT22(in_stack_0000ffd0,in_stack_0000ffce))))))
                                          ));
          HVar10 = GETDLGITEM(0x414,(int16)CONCAT214(in_stack_0000ffcc,
                                                     CONCAT212(in_stack_0000ffca,
                                                               CONCAT210(in_stack_0000ffc8,
                                                                         CONCAT28(in_stack_0000ffc6,
                                                                                  CONCAT26(
                                                  in_stack_0000ffc4,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_4)))))))
                             );
          LVar34 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc6,
                                                   CONCAT212(in_stack_0000ffc4,
                                                             CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar10,0x40700000000))))),
                               in_stack_0000ffc8,CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
          in_DX = (void *)((ulong)LVar34 >> 0x10);
          FUN_1078_1d54((int)&PTR_DAT_10a8_0000_10a8_8166,7,(int)LVar34);
          uVar37 = FUN_1010_2710((char *)&PTR_DAT_10a8_0000_10a8_48ba);
          _PTR_DAT_10a8_0000_10a8_8172 = CONCAT22(in_DX,uVar37);
          PTR_DAT_10a8_0000_10a8_816c =
               (undefined *)
               ((uint)PTR_DAT_10a8_0000_10a8_816c ^
               (byte)(bVar39 << 3 ^ (byte)PTR_DAT_10a8_0000_10a8_816c) & 0xf8);
        }
        FUN_1018_5a04(param_4,(int *)0x489e,0,unaff_SI,
                      (int16)CONCAT214(in_stack_0000ffd0,
                                       CONCAT212(in_stack_0000ffce,
                                                 CONCAT210(in_stack_0000ffcc,
                                                           CONCAT28(in_stack_0000ffca,
                                                                    CONCAT26(in_stack_0000ffc8,
                                                                             CONCAT24(
                                                  in_stack_0000ffc6,
                                                  CONCAT22(in_stack_0000ffc4,unaff_DI))))))),
                      in_stack_0000ffd2);
        ENDDIALOG((HWND16)pvVar41,
                  (int16)CONCAT214(in_stack_0000ffcc,
                                   CONCAT212(in_stack_0000ffca,
                                             CONCAT210(in_stack_0000ffc8,
                                                       CONCAT28(in_stack_0000ffc6,
                                                                CONCAT26(in_stack_0000ffc4,
                                                                         CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_4))))))));
      }
LAB_1078_0572:
      return ZEXT24(in_DX) << 0x10 | 1;
    }
    if (((param_3 == 0x201) || (param_3 == 0x203)) &&
       (PTR_DAT_10a8_0000_10a8_83aa == (undefined *)0x0)) {
      bVar18 = PTINRECT((RECT16 *)param_1,SUB41(param_1 >> 0x10,0));
      if ((bVar18 != 0) ||
         (bVar18 = PTINRECT((RECT16 *)param_1,SUB41(param_1 >> 0x10,0)), bVar18 != 0)) {
        bVar18 = PTINRECT((RECT16 *)param_1,SUB41(param_1 >> 0x10,0));
        if (bVar18 == 0) {
          uVar35 = 1;
          uVar36 = 0;
          uVar37 = 0x23;
          puVar38 = (undefined4 *)0x87fa;
        }
        else {
          uVar35 = 0xff;
          uVar36 = 0xff;
          uVar37 = 0x22;
          puVar38 = (undefined4 *)&PTR_DAT_10a8_0000_10a8_87f2;
        }
        pvVar41 = (void *)((uint)PTR_DAT_10a8_0000_10a8_816c >> 3 & 0x1f);
        if ((void *)((int)&PTR_DAT_10a8_0000_10a8_001e + 1U) < pvVar41) {
          pvVar41 = (void *)0x0;
        }
        puVar9 = (uint16 *)GETDC((HWND16)param_4);
        SELECTPALETTE(0,(HPALETTE16)PTR_DAT_10a8_0000_10a8_839e,(bool16)puVar9);
        REALIZEPALETTE(puVar9,unaff_SI);
        FUN_1018_5d4c((undefined2 *)&stack0xffcc,param_4,0,puVar38,uVar37,0x50,0,0);
        iVar25 = FUN_1018_5dc4((HWND16 *)&stack0xffcc);
        puVar22 = puVar9;
        pvVar42 = pvVar41;
        while (iVar25 != 0) {
          pvVar41 = (void *)(((int)pvVar41 + CONCAT11(uVar36,uVar35) + 0x20) % 0x20);
          PTR_DAT_10a8_0000_10a8_87f4 = (undefined *)((ulong)_PTR_DAT_10a8_0000_10a8_87f2 >> 0x10);
          in_DX = pvVar41;
          FUN_1018_6c46(puVar9,PTR_DAT_10a8_0000_10a8_87f2 + -2,PTR_DAT_10a8_0000_10a8_87f4 + -0x23,
                        0x20,0x20,(HGLOBAL16)PTR_DAT_10a8_0000_10a8_84d6,((uint)pvVar41 & 7) << 5,
                        -(((uint)pvVar41 & 0xfff8) * 4 + -0x60),0x20,0x20,0xcc0020,
                        CONCAT210(in_stack_0000ffca,
                                  CONCAT28(in_stack_0000ffc8,
                                           CONCAT26(in_stack_0000ffc6,
                                                    CONCAT24(in_stack_0000ffc4,
                                                             CONCAT22(unaff_DI,unaff_SI))))),
                        CONCAT22(in_stack_0000ffce,in_stack_0000ffcc),
                        CONCAT210(in_stack_0000ffda,
                                  CONCAT28(in_stack_0000ffd8,
                                           CONCAT26(in_stack_0000ffd6,
                                                    CONCAT24(in_stack_0000ffd4,
                                                             CONCAT22(in_stack_0000ffd2,
                                                                      in_stack_0000ffd0))))),
                        (int16)CONCAT214(in_stack_0000ffea,
                                         CONCAT212(in_stack_0000ffe8,
                                                   CONCAT102(in_stack_0000ffde,in_stack_0000ffdc))),
                        (int16)CONCAT214(puVar22,CONCAT113(uVar36,CONCAT112(uVar35,CONCAT210(puVar38
                                                  ,CONCAT28((int)(param_1 >> 0x10),
                                                            CONCAT26((int)param_1,
                                                                     CONCAT24(in_stack_0000fff0,
                                                                              CONCAT22(
                                                  in_stack_0000ffee,in_stack_0000ffec)))))))),
                        pvVar42,unaff_BP,
                        (uint16)CONCAT214(in_stack_0000000e,
                                          CONCAT212(param_4,CONCAT210(param_3,CONCAT28(param_2,
                                                  CONCAT26(param_1._2_2_,
                                                           CONCAT24((RECT16 *)param_1,
                                                                    in_stack_00000000)))))),
                        in_stack_00000010);
          iVar25 = FUN_1018_5dc4((HWND16 *)&stack0xffcc);
        }
        PTR_DAT_10a8_0000_10a8_816c =
             (undefined *)
             ((uint)PTR_DAT_10a8_0000_10a8_816c ^
             (byte)((char)pvVar41 << 3 ^ (byte)PTR_DAT_10a8_0000_10a8_816c) & 0xf8);
        RELEASEDC((int16 *)puVar9,(HWND16)param_4,unaff_SI);
        goto LAB_1078_0572;
      }
    }
  }
LAB_1078_0b36:
  return ZEXT24(in_DX) << 0x10;
}



// WARNING: Could not reconcile some variable overlaps

ulong __stdcall16far
RACEWIZARDDLG2(HWND16 param_1,int param_2,uint param_3,uint param_4,HWND16 param_5)

{
  undefined4 *puVar1;
  int16 *piVar2;
  HWND16 HVar3;
  int iVar4;
  int16 *__return_storage_ptr__;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  uint hdc;
  int iVar11;
  uint in_DX;
  undefined4 *puVar12;
  uint *puVar13;
  uint unaff_SI;
  HWND16 HVar14;
  int iVar15;
  HRGN16 unaff_DI;
  int iVar16;
  int iVar17;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar18;
  dword dVar19;
  dword dVar20;
  LRESULT LVar21;
  undefined2 uVar22;
  undefined uVar23;
  undefined uVar24;
  undefined2 in_stack_0000ffb6;
  undefined2 in_stack_0000ffb8;
  WPARAM16 in_stack_0000ffba;
  undefined2 in_stack_0000ffbc;
  undefined2 in_stack_0000ffbe;
  undefined2 in_stack_0000ffc0;
  undefined2 in_stack_0000ffc2;
  word in_stack_0000ffc4;
  uint uVar25;
  undefined2 in_stack_0000ffc6;
  uint uVar26;
  undefined2 in_stack_0000ffc8;
  undefined4 in_stack_0000ffca;
  unkbyte10 in_stack_0000ffce;
  undefined2 in_stack_0000ffd8;
  undefined in_stack_0000ffda [14];
  word in_stack_0000ffe8;
  int local_14;
  undefined4 local_6;

  if (param_4 == 0x20) {
    GETCURSORPOS((POINT16 *)&local_6);
    SCREENTOCLIENT((HWND16)&local_6,(POINT16 *)CONCAT22(param_5,unaff_SS));
    iVar4 = FUN_1078_1448();
    if (-1 < iVar4) {
      SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_834a);
      goto LAB_1078_0ba4;
    }
  }
  else {
    uVar23 = (undefined)param_5;
    uVar24 = (undefined)(param_5 >> 8);
    if (0x20 < param_4) {
      if (param_4 == 0x110) {
        FUN_1078_2aea(param_5,(VA_LIST16)&DAT_10a8_0002);
        piVar2 = (int16 *)GETDC(param_5);
        GETCLIENTRECT((HWND16)&stack0xffe8,(RECT16 *)CONCAT13(uVar24,CONCAT12(uVar23,unaff_SS)));
        __return_storage_ptr__ =
             SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)piVar2,unaff_SI,unaff_DI,
                          (int16)CONCAT214(in_stack_0000ffc4,
                                           CONCAT212(in_stack_0000ffc2,
                                                     CONCAT210(in_stack_0000ffc0,
                                                               CONCAT28(in_stack_0000ffbe,
                                                                        CONCAT26(in_stack_0000ffbc,
                                                                                 CONCAT24(
                                                  in_stack_0000ffba,
                                                  CONCAT22(in_stack_0000ffb8,in_stack_0000ffb6))))))
                                          ));
        dVar19 = GETTEXTEXTENT(0xc,s_Temperature__10a8_4979,
                               (int16)CONCAT214(in_stack_0000ffbe,
                                                CONCAT212(in_stack_0000ffbc,
                                                          CONCAT210(in_stack_0000ffba,
                                                                    CONCAT28(in_stack_0000ffb8,
                                                                             CONCAT26(
                                                  in_stack_0000ffb6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,piVar2))))))))
        ;
        iVar16 = (int)dVar19 + 10;
        dVar19 = GETTEXTEXTENT(5,(LPCSTR)0x10a84986,
                               (int16)CONCAT214(in_stack_0000ffbe,
                                                CONCAT212(in_stack_0000ffbc,
                                                          CONCAT210(in_stack_0000ffba,
                                                                    CONCAT28(in_stack_0000ffb8,
                                                                             CONCAT26(
                                                  in_stack_0000ffb6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,piVar2))))))))
        ;
        local_6._0_2_ = (local_14 - ((int)dVar19 + 10)) - iVar16;
        iVar4 = (int)PTR_DAT_10a8_0000_10a8_5794 * 3;
        HVar14 = iVar4 / 2;
        SETRECT((RECT16 *)CONCAT22(HVar14 + iVar16,HVar14 + iVar4),
                (int16)CONCAT214(in_stack_0000ffb8,
                                 CONCAT212(in_stack_0000ffb6,
                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17(0x10,
                                                  CONCAT16(0xa8,CONCAT24(PTR_DAT_10a8_0000_10a8_7ace
                                                                         ,CONCAT22(iVar16,iVar4)))))
                                                  ))),
                (int16)CONCAT214(in_stack_0000ffc8,
                                 CONCAT212(in_stack_0000ffc6,
                                           CONCAT210(in_stack_0000ffc4,
                                                     CONCAT28(in_stack_0000ffc2,
                                                              CONCAT26(in_stack_0000ffc0,
                                                                       CONCAT24(in_stack_0000ffbe,
                                                                                CONCAT22(
                                                  in_stack_0000ffbc,in_stack_0000ffba))))))),
                (int16)CONCAT214(in_stack_0000ffd8,CONCAT104(in_stack_0000ffce,in_stack_0000ffca)),
                (int16)CONCAT214(in_stack_0000ffe8,in_stack_0000ffda));
        iVar5 = ((uint)local_6 - HVar14) + iVar16;
        iVar6 = iVar4 + HVar14;
        SETRECT((RECT16 *)CONCAT22(iVar5 + -6,iVar6),
                (int16)CONCAT214(in_stack_0000ffb8,
                                 CONCAT212(in_stack_0000ffb6,
                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17(0x10,
                                                  CONCAT16(0xa8,CONCAT24(PTR_DAT_10a8_0000_10a8_7ace
                                                                         + 8,CONCAT22(HVar14 +
                                                  iVar16 + 6,iVar4)))))))),
                (int16)CONCAT214(in_stack_0000ffc8,
                                 CONCAT212(in_stack_0000ffc6,
                                           CONCAT210(in_stack_0000ffc4,
                                                     CONCAT28(iVar6,CONCAT26(iVar5,CONCAT24(
                                                  in_stack_0000ffbe,
                                                  CONCAT22(in_stack_0000ffbc,in_stack_0000ffba))))))
                                ),
                (int16)CONCAT214(in_stack_0000ffd8,CONCAT104(in_stack_0000ffce,in_stack_0000ffca)),
                (int16)CONCAT214(in_stack_0000ffe8,in_stack_0000ffda));
        iVar7 = (uint)local_6 + iVar16;
        SETRECT((RECT16 *)CONCAT22(iVar7,iVar6),
                (int16)CONCAT214(in_stack_0000ffb8,
                                 CONCAT212(in_stack_0000ffb6,
                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17(0x10,
                                                  CONCAT16(0xa8,CONCAT24(PTR_DAT_10a8_0000_10a8_7ace
                                                                         + 0x10,CONCAT22(iVar5,iVar4
                                                                                        )))))))),
                (int16)CONCAT214(in_stack_0000ffc8,
                                 CONCAT212(in_stack_0000ffc6,
                                           CONCAT210(in_stack_0000ffc4,
                                                     CONCAT28(iVar6,CONCAT26(iVar5,CONCAT24(iVar7,
                                                  CONCAT22(in_stack_0000ffbc,in_stack_0000ffba))))))
                                ),
                (int16)CONCAT214(in_stack_0000ffd8,CONCAT104(in_stack_0000ffce,in_stack_0000ffca)),
                (int16)CONCAT214(in_stack_0000ffe8,in_stack_0000ffda));
        iVar8 = iVar6 + 4;
        uVar26 = HVar14 * 3;
        iVar11 = (HVar14 + 2) * 2 + iVar4;
        SETRECT((RECT16 *)CONCAT22(uVar26 + iVar16,iVar11),
                (int16)CONCAT214(in_stack_0000ffb8,
                                 CONCAT212(in_stack_0000ffb6,
                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17(0x10,
                                                  CONCAT16(0xa8,CONCAT24(PTR_DAT_10a8_0000_10a8_7ace
                                                                         + 0x18,CONCAT22(iVar16,
                                                  iVar8)))))))),
                (int16)CONCAT214(in_stack_0000ffc8,
                                 CONCAT212(uVar26,CONCAT210(in_stack_0000ffc4,
                                                            CONCAT28(iVar6,CONCAT26(iVar5,CONCAT24(
                                                  iVar7,CONCAT22(iVar8,iVar11))))))),
                (int16)CONCAT214(in_stack_0000ffd8,CONCAT104(in_stack_0000ffce,in_stack_0000ffca)),
                (int16)CONCAT214(in_stack_0000ffe8,in_stack_0000ffda));
        SETRECT((RECT16 *)CONCAT22(iVar7,iVar11),
                (int16)CONCAT214(in_stack_0000ffb8,
                                 CONCAT212(in_stack_0000ffb6,
                                           CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17(0x10,
                                                  CONCAT16(0xa8,CONCAT24(PTR_DAT_10a8_0000_10a8_7ace
                                                                         + 0x20,CONCAT22(((uint)
                                                  local_6 - uVar26) + iVar16,iVar8)))))))),
                (int16)CONCAT214(in_stack_0000ffc8,
                                 CONCAT212(uVar26,CONCAT210(in_stack_0000ffc4,
                                                            CONCAT28(iVar6,CONCAT26(iVar5,CONCAT24(
                                                  iVar7,CONCAT22(iVar8,iVar11))))))),
                (int16)CONCAT214(in_stack_0000ffd8,CONCAT104(in_stack_0000ffce,in_stack_0000ffca)),
                (int16)CONCAT214(in_stack_0000ffe8,in_stack_0000ffda));
        local_6._2_2_ = 0;
        uVar25 = HVar14 * 6;
        do {
          puVar12 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + local_6._2_2_);
          puVar12[10] = *puVar12;
          puVar12[0xb] = puVar12[1];
          OFFSETRECT((RECT16 *)(ulong)uVar26,
                     (int16)CONCAT214(iVar8,CONCAT212(iVar11,CONCAT210(in_stack_0000ffb8,
                                                                       CONCAT28(in_stack_0000ffb6,
                                                                                CONCAT26(unaff_DI,
                                                  CONCAT24(unaff_SI,CONCAT13(0x10,CONCAT12(0xa8,
                                                  PTR_DAT_10a8_0000_10a8_7ace + local_6._2_2_ + 0x28
                                                  )))))))),
                     (int16)CONCAT412(in_stack_0000ffca,
                                      CONCAT210(in_stack_0000ffc8,
                                                CONCAT28(uVar26,CONCAT26(uVar25,CONCAT24(iVar6,
                                                  CONCAT22(iVar5,iVar7)))))));
          puVar12 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + local_6._2_2_);
          puVar12[0x14] = *puVar12;
          puVar12[0x15] = puVar12[1];
          OFFSETRECT((RECT16 *)(ulong)uVar25,
                     (int16)CONCAT214(iVar8,CONCAT212(iVar11,CONCAT210(in_stack_0000ffb8,
                                                                       CONCAT28(in_stack_0000ffb6,
                                                                                CONCAT26(unaff_DI,
                                                  CONCAT24(unaff_SI,CONCAT13(0x10,CONCAT12(0xa8,
                                                  PTR_DAT_10a8_0000_10a8_7ace + local_6._2_2_ + 0x50
                                                  )))))))),
                     (int16)CONCAT412(in_stack_0000ffca,
                                      CONCAT210(in_stack_0000ffc8,
                                                CONCAT28(uVar26,CONCAT26(uVar25,CONCAT24(iVar6,
                                                  CONCAT22(iVar5,iVar7)))))));
          local_6._2_2_ = local_6._2_2_ + 8;
        } while ((int)local_6._2_2_ < 0x28);
        iVar17 = 0;
        iVar9 = (-2 - HVar14) * 6 + (uint)local_6;
        iVar10 = (HVar14 + 2) * 3 + iVar16;
        local_6 = (ulong)(uint)local_6;
        iVar15 = 0;
        do {
          HVar3 = GETDLGITEM(iVar15 + 0x123,
                             (int16)CONCAT214(iVar7,CONCAT212(iVar8,CONCAT210(iVar11,CONCAT28(iVar9,
                                                  CONCAT26(iVar10,CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5))))))));
          SETWINDOWPOS(4,HVar14,(int16)CONCAT214(iVar10,CONCAT212(unaff_DI,CONCAT210(unaff_SI,
                                                  CONCAT19((char)(HVar3 >> 8),
                                                           CONCAT18((char)HVar3,
                                                                    (qword)CONCAT24(iVar10,CONCAT22(
                                                  *(undefined2 *)
                                                   (PTR_DAT_10a8_0000_10a8_7ace + iVar17 + 0x1a),
                                                  iVar9))))))),
                       (int16)CONCAT214(uVar26,CONCAT212(uVar25,CONCAT210(iVar6,CONCAT28(iVar5,
                                                  CONCAT26(iVar7,CONCAT24(iVar8,CONCAT22(iVar11,
                                                  iVar9))))))),
                       (int16)CONCAT106(in_stack_0000ffce,
                                        CONCAT42(in_stack_0000ffca,in_stack_0000ffc8)),
                       (int16)CONCAT142(in_stack_0000ffda,in_stack_0000ffd8),in_stack_0000ffe8);
          CHECKDLGBUTTON((uint)(*(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar15) == -1),
                         (int16)CONCAT214(iVar8,CONCAT212(iVar11,CONCAT210(iVar9,CONCAT28(iVar10,
                                                  CONCAT26(unaff_DI,CONCAT24(unaff_SI,CONCAT13(
                                                  uVar24,CONCAT12(uVar23,iVar15 + 0x123)))))))),
                         (uint16)CONCAT412(in_stack_0000ffca,
                                           CONCAT210(in_stack_0000ffc8,
                                                     CONCAT28(uVar26,CONCAT26(uVar25,CONCAT24(iVar6,
                                                  CONCAT22(iVar5,iVar7)))))));
          iVar15 = iVar15 + 1;
          iVar17 = iVar17 + 0x28;
        } while (iVar17 < 0x78);
        hdc = FUN_1018_50de(0xac,(char *)&DAT_10a8_86de);
        local_6 = local_6 & 0xffff0000 | (ulong)hdc;
        dVar19 = GETTEXTEXTENT(hdc,&DAT_10a8_86de,
                               (int16)CONCAT214(iVar7,CONCAT212(iVar8,CONCAT210(iVar11,CONCAT28(
                                                  iVar9,CONCAT26(iVar10,CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,piVar2))))))));
        dVar20 = GETTEXTEXTENT(3,(LPCSTR)0x10a8498c,
                               (int16)CONCAT214(iVar7,CONCAT212(iVar8,CONCAT210(iVar11,CONCAT28(
                                                  iVar9,CONCAT26(iVar10,CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,piVar2))))))));
        in_DX = (uint)(dVar20 >> 0x10);
        *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x78) = (int)dVar19 + (int)dVar20 + iVar16 + 4;
        *(HWND16 *)(PTR_DAT_10a8_0000_10a8_7ace + 0x7a) = HVar14 * 9 + iVar4 + -3;
        *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x7c) =
             *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x78) + 0xf;
        *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x7e) =
             ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1) + *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x7a)
             + 3;
        puVar1 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + 0x84);
        puVar12 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + 0x7c);
        *(undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + 0x80) =
             *(undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + 0x78);
        *puVar1 = *puVar12;
        OFFSETRECT((RECT16 *)
                   (ulong)((*(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x7e) -
                           *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x7a)) - 1),
                   (int16)CONCAT214(iVar8,CONCAT212(iVar11,CONCAT210(iVar9,CONCAT28(iVar10,CONCAT26(
                                                  unaff_DI,CONCAT24(unaff_SI,CONCAT13(0x10,CONCAT12(
                                                  0xa8,PTR_DAT_10a8_0000_10a8_7ace + 0x80)))))))),
                   (int16)CONCAT412(in_stack_0000ffca,
                                    CONCAT210(in_stack_0000ffc8,
                                              CONCAT28(uVar26,CONCAT26(uVar25,CONCAT24(iVar6,
                                                  CONCAT22(iVar5,iVar7)))))));
        PTR_DAT_10a8_0000_10a8_7d5e = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_0010 + 1);
        SELECTOBJECT(__return_storage_ptr__,(HRGN16)piVar2,unaff_SI,unaff_DI,
                     (int16)CONCAT214(uVar25,CONCAT212(iVar6,CONCAT210(iVar5,CONCAT28(iVar7,CONCAT26
                                                  (iVar8,CONCAT24(iVar11,CONCAT22(iVar9,iVar10))))))
                                     ));
        RELEASEDC(piVar2,param_5,unaff_SI);
        local_6 = CONCAT22(0x123,(uint)local_6);
        local_6._2_2_ = 0x123;
        do {
          HVar14 = GETDLGITEM(local_6._2_2_,
                              (int16)CONCAT214(iVar7,CONCAT212(iVar8,CONCAT210(iVar11,CONCAT28(iVar9
                                                  ,CONCAT26(iVar10,CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5))))))));
          ENABLEWINDOW(0,HVar14);
          local_6._2_2_ = local_6._2_2_ + 1;
        } while ((int)local_6._2_2_ < 0x126);
        FUN_1018_5a04(param_5,(int *)0x489e,1,unaff_SI,
                      (int16)CONCAT214(iVar6,CONCAT212(iVar5,CONCAT210(iVar7,CONCAT28(iVar8,CONCAT26
                                                  (iVar11,CONCAT24(iVar9,CONCAT22(iVar10,unaff_DI)))
                                                  )))),uVar25);
      }
      else {
        if (param_4 != 0x111) {
          if ((param_4 == 0x201) || (param_4 == 0x203)) {
            local_6 = CONCAT22(param_2,param_1);
            uVar22 = FUN_1078_144c(param_5,CONCAT22(param_2,param_1),(byte)param_3);
            return CONCAT22(in_DX,uVar22);
          }
          goto LAB_1078_1034;
        }
        if (param_3 == 0x76) {
          WINHELP(0x7d,(LPCSTR)0x10000,
                  (uint16)CONCAT214(in_stack_0000ffba,
                                    CONCAT212(in_stack_0000ffb8,
                                              CONCAT210(in_stack_0000ffb6,
                                                        CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT15
                                                  (uVar24,CONCAT14(uVar23,CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be)))))))));
        }
        else {
          HVar14 = 0;
          puVar13 = (uint *)&PTR_DAT_10a8_0002_10a8_4894;
          do {
            if (*puVar13 == param_3) break;
            HVar14 = HVar14 + 1;
            puVar13 = puVar13 + 1;
          } while (puVar13 < (uint *)0x489c);
          if (3 < (int)HVar14) {
            if ((0x122 < param_3) && (param_3 < 0x126)) {
              local_6 = local_6 & 0xffff | (ulong)(param_3 - 0x123) << 0x10;
              HVar14 = GETDLGITEM(param_3,(int16)CONCAT214(in_stack_0000ffbe,
                                                           CONCAT212(in_stack_0000ffbc,
                                                                     CONCAT210(in_stack_0000ffba,
                                                                               CONCAT28(
                                                  in_stack_0000ffb8,
                                                  CONCAT26(in_stack_0000ffb6,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_5))))))));
              LVar21 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffb8,
                                                       CONCAT212(in_stack_0000ffb6,
                                                                 CONCAT210(unaff_DI,CONCAT28(
                                                  unaff_SI,CONCAT17((char)(HVar14 >> 8),
                                                                    CONCAT16((char)HVar14,
                                                                             0x40000000000)))))),
                                   in_stack_0000ffba,CONCAT22(in_stack_0000ffbe,in_stack_0000ffbc));
              in_DX = (uint)((ulong)LVar21 >> 0x10);
              if ((int)LVar21 == 1) {
                *(undefined *)(local_6._2_2_ + -0x7e8a) = 0xff;
                *(undefined *)((int)&PTR_DAT_10a8_0000_10a8_817c + local_6._2_2_) = 0xff;
                *(undefined *)((int)&PTR_DAT_10a8_0000_10a8_8179 + local_6._2_2_) = 0xff;
              }
              else {
                *(undefined *)((int)&PTR_DAT_10a8_0000_10a8_8179 + local_6._2_2_) = 0x14;
                *(undefined *)((int)&PTR_DAT_10a8_0000_10a8_817c + local_6._2_2_) = 0x50;
                *(undefined *)(local_6._2_2_ + -0x7e8a) = 0x32;
              }
              FUN_1078_103c(param_5,(int16 *)0x0,CONCAT11(0xff,(char)(1 << (local_6._2_1_ & 0x1f))),
                            unaff_SI,unaff_DI,in_stack_0000ffb6);
            }
            goto LAB_1078_1034;
          }
          FUN_1018_5a04(param_5,(int *)0x489e,0,unaff_SI,
                        (int16)CONCAT214(in_stack_0000ffc2,
                                         CONCAT212(in_stack_0000ffc0,
                                                   CONCAT210(in_stack_0000ffbe,
                                                             CONCAT28(in_stack_0000ffbc,
                                                                      CONCAT26(in_stack_0000ffba,
                                                                               CONCAT24(
                                                  in_stack_0000ffb8,
                                                  CONCAT22(in_stack_0000ffb6,unaff_DI))))))),
                        in_stack_0000ffc4);
          ENDDIALOG(HVar14,(int16)CONCAT214(in_stack_0000ffbe,
                                            CONCAT212(in_stack_0000ffbc,
                                                      CONCAT210(in_stack_0000ffba,
                                                                CONCAT28(in_stack_0000ffb8,
                                                                         CONCAT26(in_stack_0000ffb6,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5))))))));
        }
      }
      goto LAB_1078_0ba4;
    }
    if (param_4 == 0x19) {
      HVar14 = 0x123;
      do {
        HVar3 = GETDLGITEM(HVar14,(int16)CONCAT214(in_stack_0000ffbe,
                                                   CONCAT212(in_stack_0000ffbc,
                                                             CONCAT210(in_stack_0000ffba,
                                                                       CONCAT28(in_stack_0000ffb8,
                                                                                CONCAT26(
                                                  in_stack_0000ffb6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                          );
        if (HVar3 == param_1) break;
        HVar14 = HVar14 + 1;
      } while ((int)HVar14 < 0x126);
      if (((int)HVar14 < 0x126) || (param_2 == 6)) {
        uVar22 = 0xf;
        CVar18 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffbc,
                                              CONCAT212(in_stack_0000ffba,
                                                        CONCAT210(in_stack_0000ffb8,
                                                                  CONCAT28(in_stack_0000ffb6,
                                                                           CONCAT26(unaff_DI,
                                                  CONCAT24(unaff_SI,CONCAT13((char)(param_3 >> 8),
                                                                             CONCAT12((byte)param_3,
                                                                                      0xf)))))))));
        CVar18 = SETBKCOLOR((HDC16)CVar18.value,CONCAT22(uVar22,(int)(CVar18.value >> 0x10)));
        return CVar18.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
    }
    else if (param_4 < 0x1a) {
      if ((char)param_4 == '\x0f') {
        piVar2 = (int16 *)BEGINPAINT((HWND16)&stack0xffc8,
                                     (PAINTSTRUCT16 *)CONCAT22(param_5,unaff_SS));
        FUN_1078_103c(param_5,piVar2,unaff_SI,unaff_DI,in_stack_0000ffb6,in_stack_0000ffb8);
        ENDPAINT((HWND16)&stack0xffc8,unaff_SS);
      }
      else {
        if ((char)param_4 != '\x14') goto LAB_1078_1034;
        GETCLIENTRECT((HWND16)&stack0xffe8,(RECT16 *)CONCAT13(uVar24,CONCAT12(uVar23,unaff_SS)));
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffe8,(RECT16 *)unaff_SS,param_3
                );
      }
LAB_1078_0ba4:
      return CONCAT22(in_DX,1);
    }
  }
LAB_1078_1034:
  return (ulong)in_DX << 0x10;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far
FUN_1078_103c(HWND16 param_1,int16 *param_2,uint param_3,undefined2 param_4,undefined2 param_5,
             undefined2 param_6)

{
  int16 *__return_storage_ptr__;
  int iVar1;
  undefined *puVar2;
  undefined2 uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int16 *piVar7;
  int iVar8;
  int iVar9;
  HDC16 hdc;
  int *piVar10;
  undefined2 unaff_BP;
  VA_LIST16 unaff_SI;
  int iVar11;
  HRGN16 unaff_DI;
  int iVar12;
  int iVar13;
  undefined2 unaff_SS;
  dword dVar14;
  undefined4 in_stack_00000000;
  undefined4 in_stack_00000010;
  dword in_stack_00000014;
  int iVar15;
  int16 *piVar16;
  undefined2 in_stack_0000ffe4;
  undefined2 in_stack_0000ffe6;
  int in_stack_0000ffe8;
  undefined2 in_stack_0000ffea;
  undefined2 in_stack_0000ffec;
  int iVar17;
  undefined2 in_stack_0000fff0;
  int16 **ppiVar18;
  undefined in_stack_0000fff2;
  undefined in_stack_0000fff3;
  undefined2 *puVar19;
  undefined2 uVar20;
  int in_stack_0000fffa;
  undefined2 uVar21;

  iVar17 = 0;
  if (param_2 == (int16 *)0x0) {
    iVar17 = 1;
    param_2 = (int16 *)GETDC(param_1);
  }
  GETCLIENTRECT((HWND16)&stack0xffe4,(RECT16 *)CONCAT22(param_1,unaff_SS));
  FUN_1078_275a((HRGN16)param_2,(undefined4 *)&stack0xffe4,0);
  __return_storage_ptr__ =
       SETBKMODE((int16 *)&DAT_10a8_0001,(HDC16)param_2,
                 (int16)CONCAT214(iVar17,CONCAT212(in_stack_0000ffec,
                                                   CONCAT210(in_stack_0000ffea,
                                                             CONCAT28(in_stack_0000ffe8,
                                                                      CONCAT26(in_stack_0000ffe6,
                                                                               CONCAT24(
                                                  in_stack_0000ffe4,CONCAT22(unaff_DI,unaff_SI))))))
                                 ));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT115(in_stack_0000fff3,
                                CONCAT114(in_stack_0000fff2,
                                          CONCAT212(in_stack_0000fff0,
                                                    CONCAT210(iVar17,CONCAT28(__return_storage_ptr__
                                                                              ,CONCAT26(
                                                  in_stack_0000ffea,
                                                  CONCAT24(in_stack_0000ffe8,
                                                           CONCAT22(in_stack_0000ffe6,
                                                                    in_stack_0000ffe4)))))))));
  iVar1 = (in_stack_0000ffe8 - *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x14)) / 2 +
          *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x14);
  puVar19 = (undefined2 *)0x634;
  uVar20 = 0;
  uVar21 = 0;
  iVar11 = 0;
  iVar12 = 0;
  do {
    if ((param_3 & 1 << ((byte)iVar12 & 0x1f)) != 0) {
      if (param_3 != 0xffff) {
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                     (int16)CONCAT115(in_stack_0000fff3,
                                      CONCAT114(in_stack_0000fff2,
                                                CONCAT212(in_stack_0000fff0,
                                                          CONCAT210(iVar17,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(in_stack_0000ffea,
                                                           CONCAT24(in_stack_0000ffe8,
                                                                    CONCAT22(in_stack_0000ffe6,
                                                                             in_stack_0000ffe4))))))
                                               )));
        PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_2,CONCAT28(*(
                                                  undefined2 *)(PTR_DAT_10a8_0000_10a8_7ace + 0x14),
                                                  CONCAT26(*(undefined2 *)
                                                            (PTR_DAT_10a8_0000_10a8_7ace +
                                                            iVar11 + 0x12),
                                                           CONCAT24(in_stack_0000ffe8 -
                                                                    *(int *)(
                                                  PTR_DAT_10a8_0000_10a8_7ace + 0x14),
                                                  CONCAT22(*(int *)(PTR_DAT_10a8_0000_10a8_7ace +
                                                                   iVar11 + 0x26) -
                                                           *(int *)(PTR_DAT_10a8_0000_10a8_7ace +
                                                                   iVar11 + 0x12),0xf0))))))),
               (int16)CONCAT115(in_stack_0000fff3,
                                CONCAT114(in_stack_0000fff2,
                                          CONCAT212(in_stack_0000fff0,
                                                    CONCAT210(iVar17,CONCAT28(__return_storage_ptr__
                                                                              ,CONCAT26(
                                                  in_stack_0000ffea,
                                                  CONCAT24(in_stack_0000ffe8,
                                                           CONCAT22(in_stack_0000ffe6,
                                                                    in_stack_0000ffe4)))))))),
               (int16)CONCAT412(in_stack_00000000,
                                CONCAT210(unaff_BP,CONCAT28(uVar21,CONCAT26(in_stack_0000fffa,
                                                                            CONCAT24(uVar20,CONCAT22
                                                  (iVar1,puVar19)))))),
               (int16)CONCAT412(in_stack_00000010,
                                CONCAT210(param_6,CONCAT28(param_5,CONCAT26(param_4,CONCAT24(param_3
                                                  ,CONCAT22(param_2,param_1)))))),in_stack_00000014)
        ;
      }
      if (*(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar12) == -1) {
        piVar16 = (int16 *)&DAT_10a8_0003;
        iVar15 = 0x4990;
        puVar2 = PTR_DAT_10a8_0000_10a8_5794 + *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar11 + 0x12)
        ;
      }
      else {
        uVar3 = FUN_1020_307e(iVar12,(VA_LIST16)
                                     (int)*(char *)((int)&PTR_DAT_10a8_0000_10a8_8179 + iVar12));
        FUN_1018_52da(param_2,iVar1,*(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar11 + 0x12) + 1,uVar3,
                      (int16 *)0x0,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                      (int16)CONCAT115(in_stack_0000fff3,
                                       CONCAT114(in_stack_0000fff2,
                                                 CONCAT212(in_stack_0000fff0,
                                                           CONCAT210(iVar17,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(in_stack_0000ffea,
                                                           CONCAT24(in_stack_0000ffe8,
                                                                    CONCAT22(in_stack_0000ffe6,
                                                                             in_stack_0000ffe4))))))
                                                )));
        FUN_1018_52da(param_2,iVar1,
                      PTR_DAT_10a8_0000_10a8_5794 +
                      *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar11 + 0x12) + 1,0x4994,
                      (int16 *)&DAT_10a8_0002,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                      (int16)CONCAT115(in_stack_0000fff3,
                                       CONCAT114(in_stack_0000fff2,
                                                 CONCAT212(in_stack_0000fff0,
                                                           CONCAT210(iVar17,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(in_stack_0000ffea,
                                                           CONCAT24(in_stack_0000ffe8,
                                                                    CONCAT22(in_stack_0000ffe6,
                                                                             in_stack_0000ffe4))))))
                                                )));
        iVar15 = FUN_1020_307e(iVar12,(VA_LIST16)
                                      (int)*(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar12));
        piVar16 = (int16 *)0x0;
        puVar2 = (undefined *)
                 ((int)PTR_DAT_10a8_0000_10a8_5794 * 2 +
                 *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar11 + 0x12));
        in_stack_0000fffa = iVar15;
      }
      FUN_1018_52da(param_2,iVar1,puVar2 + 1,iVar15,piVar16,(LPCSTR)CONCAT22(unaff_DI,unaff_SI),
                    (int16)CONCAT115(in_stack_0000fff3,
                                     CONCAT114(in_stack_0000fff2,
                                               CONCAT212(in_stack_0000fff0,
                                                         CONCAT210(iVar17,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(in_stack_0000ffea,
                                                           CONCAT24(in_stack_0000ffe8,
                                                                    CONCAT22(in_stack_0000ffe6,
                                                                             in_stack_0000ffe4))))))
                                              )));
      if (param_3 == 0xffff) {
        FUN_1018_55f6(param_2,*(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar11) + -4,
                      ((int)(PTR_DAT_10a8_0000_10a8_5794 +
                            ((int)PTR_DAT_10a8_0000_10a8_5794 >> 0xf & 3)) >> 2) +
                      *(int *)((int)(PTR_DAT_10a8_0000_10a8_7ace + iVar11) + 2),*puVar19,
                      (int16 *)0x0,0,CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffe4,
                      CONCAT113(in_stack_0000fff3,
                                CONCAT112(in_stack_0000fff2,
                                          CONCAT210(in_stack_0000fff0,
                                                    CONCAT28(iVar17,CONCAT26(__return_storage_ptr__,
                                                                             CONCAT24(
                                                  in_stack_0000ffea,
                                                  CONCAT22(in_stack_0000ffe8,in_stack_0000ffe6))))))
                               ));
      }
    }
    puVar19 = puVar19 + 1;
    iVar12 = iVar12 + 1;
    iVar11 = iVar11 + 0x28;
  } while (iVar11 < 0x78);
  ppiVar18 = (int16 **)&PTR_DAT_10a8_0000_10a8_85ba;
  iVar15 = 0;
  iVar11 = 0;
  iVar13 = 0;
  iVar12 = 0;
  do {
    if (4 < iVar13) {
      iVar13 = 0;
    }
    if (*(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar12 / 5) == -1) {
      uVar4 = 4;
    }
    else {
      uVar4 = 0;
    }
    if ((iVar13 == 0) || (iVar13 == 2)) {
      if ((param_3 & 0xfff0) != 0) {
        uVar5 = 0;
        uVar6 = 3 - (iVar13 == 0) | uVar4 | 4;
LAB_1078_131f:
        FUN_1018_5f08((HRGN16)param_2,(undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + iVar15),uVar6,0,
                      uVar5);
      }
    }
    else if (iVar13 == 1) {
      if ((param_3 & 1 << ((byte)iVar11 & 0x1f)) != 0) {
        piVar10 = (int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar15);
        PATBLT(0x42,(int16)(ZEXT1416(CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,CONCAT26
                                                  (*(undefined2 *)
                                                    (PTR_DAT_10a8_0000_10a8_7ace + iVar15),
                                                   CONCAT24(piVar10[1],
                                                            CONCAT22(piVar10[2] - *piVar10,
                                                                     piVar10[3] - piVar10[1])))))))
                           << 0x10),
               (int16)CONCAT115((char)((uint)iVar11 >> 8),
                                CONCAT114((byte)iVar11,
                                          CONCAT212(ppiVar18,CONCAT210(iVar17,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(in_stack_0000ffea,
                                                           CONCAT24(in_stack_0000ffe8,
                                                                    CONCAT22(in_stack_0000ffe6,
                                                                             in_stack_0000ffe4))))))
                                         )),
               (int16)CONCAT412(in_stack_00000000,
                                CONCAT210(unaff_BP,CONCAT28(uVar4,CONCAT26(in_stack_0000fffa,
                                                                           CONCAT24(iVar12,CONCAT22(
                                                  iVar1,puVar19)))))),
               (int16)CONCAT412(in_stack_00000010,
                                CONCAT210(param_6,CONCAT28(param_5,CONCAT26(param_4,CONCAT24(param_3
                                                  ,CONCAT22(param_2,param_1)))))),in_stack_00000014)
        ;
        if (uVar4 == 0) {
          uVar4 = (uint)*(char *)((int)&PTR_DAT_10a8_0000_10a8_8179 + iVar11);
          in_stack_0000fffa = (int)*(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar11);
          piVar10 = (int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar15);
          puVar19 = (undefined2 *)((piVar10[2] - *piVar10) + -2);
          iVar1 = (piVar10[3] - piVar10[1]) + -2;
          SELECTOBJECT(*ppiVar18,(HRGN16)param_2,(HRGN16)unaff_SI,unaff_DI,
                       (int16)CONCAT115((char)((uint)iVar11 >> 8),
                                        CONCAT114((char)iVar11,
                                                  CONCAT212(ppiVar18,CONCAT210(iVar17,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(in_stack_0000ffea,
                                                           CONCAT24(in_stack_0000ffe8,
                                                                    CONCAT22(in_stack_0000ffe6,
                                                                             in_stack_0000ffe4))))))
                                                 )));
          piVar16 = param_2;
          piVar7 = MULDIV((int16 *)&DAT_10a8_0064,
                          (int16)CONCAT214(in_stack_0000ffe8,
                                           CONCAT212(in_stack_0000ffe6,
                                                     CONCAT210(in_stack_0000ffe4,
                                                               CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_2,CONCAT22(uVar4,puVar19))))))),
                          (int16)CONCAT214(iVar12,CONCAT212(iVar1,CONCAT210(puVar19,CONCAT19((char)(
                                                  (uint)iVar11 >> 8),
                                                  CONCAT18((char)iVar11,
                                                           CONCAT26(ppiVar18,CONCAT24(iVar17,
                                                  CONCAT22(__return_storage_ptr__,in_stack_0000ffea)
                                                  ))))))),
                          (int16)CONCAT412(_param_2,CONCAT210(param_1,CONCAT46(in_stack_00000000,
                                                                               CONCAT24(unaff_BP,
                                                  CONCAT22(uVar4,in_stack_0000fffa))))));
          iVar8 = (int)piVar7 + *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar15) + 1;
          iVar9 = *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar15 + 2) + 1;
          piVar7 = MULDIV((int16 *)&DAT_10a8_0064,
                          (int16)CONCAT214(in_stack_0000ffe4,
                                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar16,
                                                  CONCAT26(iVar8,CONCAT24(iVar9,CONCAT22(
                                                  in_stack_0000fffa - uVar4,puVar19))))))),
                          (int16)CONCAT214(puVar19,CONCAT113((char)((uint)iVar11 >> 8),
                                                             CONCAT112((char)iVar11,
                                                                       CONCAT210(ppiVar18,CONCAT28(
                                                  iVar17,CONCAT26(__return_storage_ptr__,
                                                                  CONCAT24(in_stack_0000ffea,
                                                                           CONCAT22(
                                                  in_stack_0000ffe8,in_stack_0000ffe6)))))))),
                          (int16)CONCAT214(param_1,CONCAT410(in_stack_00000000,
                                                             CONCAT28(unaff_BP,CONCAT26(uVar4,
                                                  CONCAT24(in_stack_0000fffa,CONCAT22(iVar12,iVar1))
                                                  )))));
          PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(piVar16,CONCAT28(iVar8,
                                                  CONCAT26(iVar9,CONCAT24(piVar7,CONCAT22(iVar1,0xf0
                                                                                         ))))))),
                 (int16)CONCAT115((char)((uint)iVar11 >> 8),
                                  CONCAT114((char)iVar11,
                                            CONCAT212(ppiVar18,CONCAT210(iVar17,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(in_stack_0000ffea,
                                                           CONCAT24(in_stack_0000ffe8,
                                                                    CONCAT22(in_stack_0000ffe6,
                                                                             in_stack_0000ffe4))))))
                                           )),
                 (int16)CONCAT412(in_stack_00000000,
                                  CONCAT210(unaff_BP,CONCAT28(uVar4,CONCAT26(in_stack_0000fffa,
                                                                             CONCAT24(iVar12,
                                                  CONCAT22(iVar1,puVar19)))))),
                 (int16)CONCAT412(in_stack_00000010,
                                  CONCAT210(param_6,CONCAT28(param_5,CONCAT26(param_4,CONCAT24(
                                                  param_3,CONCAT22(param_2,param_1)))))),
                 in_stack_00000014);
        }
      }
      ppiVar18 = ppiVar18 + 2;
      iVar11 = iVar11 + 1;
    }
    else if ((param_3 & 0xfff0) != 0) {
      if (iVar13 == 3) {
        uVar5 = 0x4997;
      }
      else {
        uVar5 = 0x49a1;
      }
      uVar6 = 0xc;
      goto LAB_1078_131f;
    }
    iVar12 = iVar12 + 1;
    iVar13 = iVar13 + 1;
    iVar15 = iVar15 + 8;
    if (0x77 < iVar15) {
      if ((param_3 & 8) != 0) {
        if (param_3 == 0xffff) {
          hdc = FUN_1018_50de(0xac,(char *)&DAT_10a8_86de);
          TEXTOUT(hdc,(int16)CONCAT214(in_stack_0000ffe4,
                                       CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_2,
                                                  CONCAT26(*(undefined2 *)
                                                            PTR_DAT_10a8_0000_10a8_7ace,
                                                           CONCAT24(*(int *)(
                                                  PTR_DAT_10a8_0000_10a8_7ace + 0x7a) + 3,0x10a886de
                                                  )))))),
                  (int16)CONCAT214(puVar19,CONCAT113((char)((uint)iVar11 >> 8),
                                                     CONCAT112((char)iVar11,
                                                               CONCAT210(ppiVar18,CONCAT28(iVar17,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(in_stack_0000ffea,
                                                                    CONCAT22(in_stack_0000ffe8,
                                                                             in_stack_0000ffe6))))))
                                                  )),(LPCSTR)CONCAT22(iVar12,iVar1),
                  (int16)CONCAT412(_param_2,CONCAT210(param_1,CONCAT46(in_stack_00000000,
                                                                       CONCAT24(unaff_BP,CONCAT22(
                                                  uVar4,in_stack_0000fffa))))));
          FUN_1018_5f08((HRGN16)param_2,(undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + 0x78),0xa4,0,0)
          ;
          FUN_1018_5f08((HRGN16)param_2,(undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + 0x80),0xa5,0,0)
          ;
        }
        else {
          dVar14 = GETTEXTEXTENT(3,(LPCSTR)0x10a849ab,
                                 (int16)CONCAT214(__return_storage_ptr__,
                                                  CONCAT212(in_stack_0000ffea,
                                                            CONCAT210(in_stack_0000ffe8,
                                                                      CONCAT28(in_stack_0000ffe6,
                                                                               CONCAT26(
                                                  in_stack_0000ffe4,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_2)))))))
                                );
          SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HRGN16)param_2,(HRGN16)unaff_SI,
                       unaff_DI,(int16)CONCAT115((char)((uint)iVar11 >> 8),
                                                 CONCAT114((char)iVar11,
                                                           CONCAT212(ppiVar18,CONCAT210(iVar17,
                                                  CONCAT28(__return_storage_ptr__,
                                                           CONCAT26(in_stack_0000ffea,
                                                                    CONCAT24(in_stack_0000ffe8,
                                                                             CONCAT22(
                                                  in_stack_0000ffe6,in_stack_0000ffe4)))))))));
          PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_2,CONCAT28(-4 - (
                                                  (int)dVar14 -
                                                  *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x78)),
                                                  CONCAT26(*(int *)(PTR_DAT_10a8_0000_10a8_7ace +
                                                                   0x7a) + 3,
                                                           CONCAT24((int)dVar14,
                                                                    CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_5794,0xf0))))))),
                 (int16)CONCAT115((char)((uint)iVar11 >> 8),
                                  CONCAT114((char)iVar11,
                                            CONCAT212(ppiVar18,CONCAT210(iVar17,CONCAT28(
                                                  __return_storage_ptr__,
                                                  CONCAT26(in_stack_0000ffea,
                                                           CONCAT24(in_stack_0000ffe8,
                                                                    CONCAT22(in_stack_0000ffe6,
                                                                             in_stack_0000ffe4))))))
                                           )),
                 (int16)CONCAT412(in_stack_00000000,
                                  CONCAT210(unaff_BP,CONCAT28(uVar4,CONCAT26(in_stack_0000fffa,
                                                                             CONCAT24(iVar12,
                                                  CONCAT22(iVar1,puVar19)))))),
                 (int16)CONCAT412(in_stack_00000010,
                                  CONCAT210(param_6,CONCAT28(param_5,CONCAT26(param_4,CONCAT24(
                                                  param_3,CONCAT22(param_2,param_1)))))),
                 in_stack_00000014);
        }
        piVar16 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x49af10a8,
                            (LPCSTR)CONCAT22((int)(char)PTR_DAT_10a8_0000_10a8_817f,0x10a8),unaff_SI
                           );
        FUN_1018_55f6(param_2,*(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x78) + -4,
                      *(int *)(PTR_DAT_10a8_0000_10a8_7ace + 0x7a) + 3,(int)&DAT_10a8_86de,piVar16,0
                      ,CONCAT22(unaff_DI,unaff_SI),in_stack_0000ffe4,
                      CONCAT113((char)((uint)iVar11 >> 8),
                                CONCAT112((char)iVar11,
                                          CONCAT210(ppiVar18,CONCAT28(iVar17,CONCAT26(
                                                  __return_storage_ptr__,
                                                  CONCAT24(in_stack_0000ffea,
                                                           CONCAT22(in_stack_0000ffe8,
                                                                    in_stack_0000ffe6))))))));
      }
      SETBKMODE(__return_storage_ptr__,(HDC16)param_2,
                (int16)CONCAT214(iVar17,CONCAT212(__return_storage_ptr__,
                                                  CONCAT210(in_stack_0000ffea,
                                                            CONCAT28(in_stack_0000ffe8,
                                                                     CONCAT26(in_stack_0000ffe6,
                                                                              CONCAT24(
                                                  in_stack_0000ffe4,CONCAT22(unaff_DI,unaff_SI))))))
                                ));
      if (iVar17 != 0) {
        RELEASEDC(param_2,param_1,(HDC16)unaff_SI);
      }
      return;
    }
  } while( true );
}



undefined2 __cdecl16far FUN_1078_1448(void)

{
  return 0xffff;
}



undefined2 __cdecl16far FUN_1078_144c(HWND16 param_1,ulong param_2,byte param_3)

{
  uint *puVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int16 *piVar5;
  int iVar6;
  int iVar7;
  int16 *piVar8;
  int iVar9;
  uint uVar10;
  char cVar11;
  char cVar12;
  int iVar13;
  uint *puVar14;
  int *piVar15;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  undefined2 in_stack_0000ffd6;
  undefined2 in_stack_0000ffd8;
  HWND16 in_stack_0000ffda;
  int16 *in_stack_0000ffdc;
  undefined in_stack_0000ffde [16];
  undefined4 in_stack_0000ffee;
  char in_stack_0000fff4;
  byte bVar16;
  char cVar17;
  undefined in_stack_0000fff5;
  char cVar18;
  int16 *piVar19;
  undefined2 in_stack_0000fffa;
  undefined *puVar20;
  byte bVar21;

  iVar3 = FUN_1078_1448();
  if (iVar3 < 0) {
    return 0;
  }
  iVar13 = iVar3 % 5;
  iVar4 = iVar3 / 5;
  if ((iVar13 == 1) && (iVar3 < 0xf)) {
    SETCAPTURE(param_1);
    SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_8390);
    piVar5 = (int16 *)(((int)*(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar4) -
                       (int)*(char *)((int)&PTR_DAT_10a8_0000_10a8_8179 + iVar4)) / 2);
    iVar6 = FUN_1018_6506((undefined2 *)&param_2,
                          CONCAT210(in_stack_0000ffdc,
                                    CONCAT28(in_stack_0000ffda,
                                             CONCAT26(in_stack_0000ffd8,
                                                      CONCAT24(in_stack_0000ffd6,
                                                               CONCAT22(unaff_DI,unaff_SI))))));
    if (iVar6 != 0) {
      iVar7 = iVar3 << 3;
      iVar6 = iVar3;
      piVar19 = piVar5;
      do {
        puVar14 = (uint *)(PTR_DAT_10a8_0000_10a8_7ace + iVar7);
        puVar1 = puVar14;
        if (*puVar1 != (uint)param_2 && (int)(uint)param_2 <= (int)*puVar1) {
          param_2._0_2_ = *puVar14;
          param_2 = param_2 & 0xffff0000 | (ulong)(uint)param_2;
        }
        if ((int)puVar14[2] < (int)(uint)param_2) {
          param_2._0_2_ = puVar14[2];
          param_2 = param_2 & 0xffff0000 | (ulong)(uint)param_2;
        }
        piVar15 = (int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar7);
        piVar8 = MULDIV((int16 *)(piVar15[2] - *piVar15),
                        (int16)CONCAT214(in_stack_0000ffdc,
                                         CONCAT212(in_stack_0000ffda,
                                                   CONCAT210(iVar7,CONCAT28(puVar14,CONCAT26(
                                                  unaff_DI,CONCAT24(unaff_SI,CONCAT22((uint)param_2
                                                                                      - *piVar15,100
                                                                                     ))))))),
                        (int16)in_stack_0000ffde,
                        (int16)CONCAT115((char)((uint)iVar13 >> 8),
                                         CONCAT114((char)iVar13,
                                                   CONCAT212(in_stack_0000fffa,
                                                             CONCAT210(iVar6,CONCAT19((char)((uint)
                                                  piVar19 >> 8),
                                                  CONCAT18((char)piVar19,
                                                           CONCAT17(in_stack_0000fff5,
                                                                    CONCAT16(in_stack_0000fff4,
                                                                             CONCAT24(iVar4,
                                                  in_stack_0000ffee))))))))));
        if ((int)(int16 *)(100 - (int)piVar5) < (int)piVar8) {
          piVar8 = (int16 *)(100 - (int)piVar5);
        }
        if ((int)piVar8 < (int)piVar5) {
          piVar8 = piVar5;
        }
        in_stack_0000fff4 = (char)piVar8;
        in_stack_0000fff5 = (undefined)((uint)piVar8 >> 8);
        if ((int16 *)((int)*(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar4) - (int)piVar8) !=
            piVar5) {
          *(char *)((int)&PTR_DAT_10a8_0000_10a8_8179 + iVar4) = in_stack_0000fff4 - (char)piVar5;
          *(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar4) = (char)piVar5 + in_stack_0000fff4;
          FUN_1078_103c(param_1,(int16 *)0x0,1 << ((byte)iVar4 & 0x1f),unaff_SI,unaff_DI,puVar14);
        }
        iVar9 = FUN_1018_6506((undefined2 *)&param_2,
                              CONCAT210(in_stack_0000ffdc,
                                        CONCAT28(in_stack_0000ffda,
                                                 CONCAT26(iVar7,CONCAT24(puVar14,CONCAT22(unaff_DI,
                                                  unaff_SI))))));
      } while (iVar9 != 0);
    }
    RELEASECAPTURE();
  }
  else {
    cVar18 = '\0';
    bVar16 = 0;
    puVar20 = (undefined *)0x0;
    if (iVar3 == 0xf) {
      bVar16 = 1;
      bVar21 = 0xa0;
    }
    else if (iVar3 == 0x10) {
      bVar16 = 0xff;
      bVar21 = 0xa1;
    }
    else if (iVar13 == 0) {
      bVar16 = 0xff;
      bVar21 = 2;
    }
    else if (iVar13 == 2) {
      bVar16 = 1;
      bVar21 = 3;
    }
    else {
      if (iVar13 == 3) {
        cVar18 = '\x01';
        puVar20 = PTR_s_______10a8_48a2_10a8_48b6;
      }
      else {
        cVar18 = -1;
        puVar20 = PTR_s_______10a8_48ac_10a8_48b8;
      }
      bVar21 = 8;
    }
    FUN_1018_5d4c((undefined2 *)&stack0xffda,param_1,0,
                  (undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + iVar3 * 8),(uint)bVar21,0x50,0,
                  puVar20);
    uVar10 = (uint)bVar16;
    if ((param_3 & 4) != 0) {
      cVar18 = cVar18 * '\n';
      uVar10 = (uint)bVar16 * 10;
    }
    iVar13 = FUN_1018_5dc4((HWND16 *)&stack0xffda);
    cVar17 = (char)uVar10;
    while (iVar13 != 0) {
      if ((iVar3 == 0xf) || (iVar3 == 0x10)) {
        cVar2 = cVar17 + (char)PTR_DAT_10a8_0000_10a8_817f;
        if (cVar2 < '\x01') {
          cVar2 = '\x01';
        }
        if ('\x0f' < cVar2) {
          cVar2 = '\x0f';
        }
        if (cVar2 != (char)PTR_DAT_10a8_0000_10a8_817f) {
          uVar10 = 8;
          PTR_DAT_10a8_0000_10a8_817f._0_1_ = cVar2;
          goto LAB_1078_170e;
        }
      }
      else {
        cVar2 = (*(char *)((int)&PTR_DAT_10a8_0000_10a8_8179 + iVar4) - cVar18) + cVar17;
        cVar11 = cVar18 + cVar17 + *(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar4);
        if ('d' < cVar11) {
          cVar2 = cVar2 + ('d' - cVar11);
          cVar11 = 'd';
        }
        if (cVar2 < '\0') {
          iVar13 = (int)cVar11 - (int)cVar2;
          if (100 < iVar13) {
            iVar13 = 100;
          }
          cVar11 = (char)iVar13;
          cVar2 = '\0';
        }
        if ((int)cVar11 - (int)cVar2 < 10) {
          cVar12 = (char)(10 - ((int)cVar11 - (int)cVar2) >> 1);
          cVar2 = cVar2 - cVar12;
          cVar11 = cVar11 + cVar12;
        }
        if ((*(char *)((int)&PTR_DAT_10a8_0000_10a8_8179 + iVar4) != cVar2) ||
           (*(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar4) != cVar11)) {
          *(char *)((int)&PTR_DAT_10a8_0000_10a8_8179 + iVar4) = cVar2;
          *(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar4) = cVar11;
          uVar10 = 1 << ((byte)iVar4 & 0x1f);
LAB_1078_170e:
          FUN_1078_103c(param_1,in_stack_0000ffdc,uVar10,unaff_SI,unaff_DI,in_stack_0000ffd6);
        }
      }
      iVar13 = FUN_1018_5dc4((HWND16 *)&stack0xffda);
    }
  }
  if (iVar3 < 0xf) {
    cVar18 = *(char *)((int)&PTR_DAT_10a8_0000_10a8_8179 + iVar4);
    *(char *)(iVar4 + -0x7e8a) =
         cVar18 + (char)(((int)*(char *)((int)&PTR_DAT_10a8_0000_10a8_817c + iVar4) - (int)cVar18) /
                        2);
  }
  return 1;
}



ulong __stdcall16far
RACEWIZARDDLG3(HWND16 param_1,int param_2,uint param_3,uint param_4,HWND16 param_5)

{
  int16 *piVar1;
  HWND16 HVar2;
  int iVar3;
  undefined2 uVar4;
  uint in_DX;
  uint *puVar5;
  int unaff_SI;
  undefined2 unaff_DI;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar6;
  LRESULT LVar7;
  undefined uVar8;
  undefined uVar9;
  undefined uVar10;
  undefined uVar11;
  undefined4 in_stack_0000ffd2;
  WPARAM16 in_stack_0000ffd6;
  undefined2 in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  undefined4 in_stack_0000ffdc;
  word in_stack_0000ffe0;
  undefined local_e [8];
  undefined4 local_6;

  uVar8 = (undefined)param_5;
  uVar9 = (undefined)(param_5 >> 8);
  if (param_4 == 0x20) {
    GETCURSORPOS((POINT16 *)&local_6);
    SCREENTOCLIENT((HWND16)&local_6,(POINT16 *)CONCAT13(uVar9,CONCAT12(uVar8,unaff_SS)));
    iVar3 = FUN_1078_1448();
    if (-1 < iVar3) {
      SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_834a);
      goto LAB_1078_17bc;
    }
  }
  else {
    if (0x20 < param_4) {
      if (param_4 == 0x110) {
        FUN_1078_2aea(param_5,(VA_LIST16)&DAT_10a8_0003);
        HVar2 = GETDLGITEM(0x123,(int16)CONCAT214(in_stack_0000ffda,
                                                  CONCAT212(in_stack_0000ffd8,
                                                            CONCAT210(in_stack_0000ffd6,
                                                                      CONCAT46(in_stack_0000ffd2,
                                                                               CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
        uVar10 = (undefined)HVar2;
        uVar11 = (undefined)(HVar2 >> 8);
        uVar8 = 1;
        uVar9 = 4;
        uVar4 = FUN_1078_1d84((int)&PTR_DAT_10a8_0000_10a8_8166,0x1f);
        LVar7 = SENDMESSAGE(0,(uint16)(ZEXT1416(CONCAT410(in_stack_0000ffd2,
                                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT15(uVar11,CONCAT14(uVar10,CONCAT13(uVar9,
                                                  CONCAT12(uVar8,uVar4)))))))) << 0x10),
                            in_stack_0000ffd6,CONCAT22(in_stack_0000ffda,in_stack_0000ffd8));
        in_DX = (uint)((ulong)LVar7 >> 0x10);
        HVar2 = GETDLGITEM(0x123,(int16)CONCAT214(in_stack_0000ffda,
                                                  CONCAT212(in_stack_0000ffd8,
                                                            CONCAT210(in_stack_0000ffd6,
                                                                      CONCAT46(in_stack_0000ffd2,
                                                                               CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
        ENABLEWINDOW(0,HVar2);
        FUN_1018_5a04(param_5,(int *)0x489e,1,unaff_SI,
                      (int16)CONCAT412(in_stack_0000ffdc,
                                       CONCAT210(in_stack_0000ffda,
                                                 CONCAT28(in_stack_0000ffd8,
                                                          CONCAT26(in_stack_0000ffd6,
                                                                   CONCAT42(in_stack_0000ffd2,
                                                                            unaff_DI))))),
                      in_stack_0000ffe0);
      }
      else {
        if (param_4 != 0x111) {
          if ((param_4 == 0x201) || (param_4 == 0x203)) {
            local_6 = CONCAT22(param_2,param_1);
            uVar4 = FUN_1078_1c6c(param_5,param_1,param_2,(byte)param_3);
            return CONCAT22(in_DX,uVar4);
          }
          goto LAB_1078_1954;
        }
        if (param_3 == 0x76) {
          WINHELP(0x80,(LPCSTR)0x10000,
                  (uint16)CONCAT214(in_stack_0000ffd6,
                                    CONCAT410(in_stack_0000ffd2,
                                              CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT15(uVar9,
                                                  CONCAT14(uVar8,CONCAT13(0x10,CONCAT12(0xa8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be)))))))));
          in_DX = param_3;
        }
        else {
          HVar2 = 0;
          puVar5 = (uint *)&PTR_DAT_10a8_0002_10a8_4894;
          do {
            if (*puVar5 == param_3) break;
            HVar2 = HVar2 + 1;
            puVar5 = puVar5 + 1;
          } while (puVar5 < (uint *)0x489c);
          if (3 < (int)HVar2) {
            in_DX = param_3;
            if (param_3 == 0x123) {
              HVar2 = GETDLGITEM(0x123,(int16)CONCAT214(in_stack_0000ffda,
                                                        CONCAT212(in_stack_0000ffd8,
                                                                  CONCAT210(in_stack_0000ffd6,
                                                                            CONCAT46(
                                                  in_stack_0000ffd2,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
              ;
              LVar7 = SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000ffd2,
                                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT17(
                                                  (char)(HVar2 >> 8),
                                                  CONCAT16((char)HVar2,0x40000000000))))),
                                  in_stack_0000ffd6,CONCAT22(in_stack_0000ffda,in_stack_0000ffd8));
              in_DX = (uint)((ulong)LVar7 >> 0x10);
              FUN_1078_1da8((int)&PTR_DAT_10a8_0000_10a8_8166,'\x1f',(int)LVar7);
              FUN_1078_195c(param_5,(int16 *)0x0,99);
            }
            goto LAB_1078_1954;
          }
          FUN_1018_5a04(param_5,(int *)0x489e,0,unaff_SI,
                        (int16)CONCAT412(in_stack_0000ffdc,
                                         CONCAT210(in_stack_0000ffda,
                                                   CONCAT28(in_stack_0000ffd8,
                                                            CONCAT26(in_stack_0000ffd6,
                                                                     CONCAT42(in_stack_0000ffd2,
                                                                              unaff_DI))))),
                        in_stack_0000ffe0);
          ENDDIALOG(HVar2,(int16)CONCAT214(in_stack_0000ffda,
                                           CONCAT212(in_stack_0000ffd8,
                                                     CONCAT210(in_stack_0000ffd6,
                                                               CONCAT46(in_stack_0000ffd2,
                                                                        CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5)))))));
          in_DX = param_3;
        }
      }
      goto LAB_1078_17bc;
    }
    if (param_4 == 0x19) {
      HVar2 = GETDLGITEM(0x123,(int16)CONCAT214(in_stack_0000ffda,
                                                CONCAT212(in_stack_0000ffd8,
                                                          CONCAT210(in_stack_0000ffd6,
                                                                    CONCAT46(in_stack_0000ffd2,
                                                                             CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
      if ((HVar2 == param_1) || (param_2 == 6)) {
        uVar8 = 0xf;
        uVar9 = 0;
        CVar6 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffd8,
                                             CONCAT212(in_stack_0000ffd6,
                                                       CONCAT48(in_stack_0000ffd2,
                                                                CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT13((char)(param_3 >> 8),
                                                           CONCAT12((byte)param_3,0xf))))))));
        CVar6 = SETBKCOLOR((HDC16)CVar6.value,
                           CONCAT13(uVar9,CONCAT12(uVar8,(int)(CVar6.value >> 0x10))));
        return CVar6.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
    }
    else if (param_4 < 0x1a) {
      if ((char)param_4 == '\x0f') {
        piVar1 = (int16 *)BEGINPAINT((HWND16)&stack0xffd2,
                                     (PAINTSTRUCT16 *)CONCAT13(uVar9,CONCAT12(uVar8,unaff_SS)));
        FUN_1078_195c(param_5,piVar1,unaff_SI);
        ENDPAINT((HWND16)&stack0xffd2,unaff_SS);
      }
      else {
        if ((char)param_4 != '\x14') goto LAB_1078_1954;
        GETCLIENTRECT((HWND16)local_e,(RECT16 *)CONCAT13(uVar9,CONCAT12(uVar8,unaff_SS)));
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)local_e,(RECT16 *)unaff_SS,param_3);
      }
LAB_1078_17bc:
      return CONCAT22(in_DX,1);
    }
  }
LAB_1078_1954:
  return (ulong)in_DX << 0x10;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1078_195c(HWND16 param_1,int16 *param_2,int param_3)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  int16 *__return_storage_ptr__;
  int iVar4;
  int iVar5;
  HWND16 HVar6;
  int iVar7;
  HDC16 hdc;
  uint uVar8;
  undefined4 *puVar9;
  undefined2 unaff_BP;
  HRGN16 unaff_SI;
  undefined2 unaff_DI;
  char *pcVar10;
  undefined2 *puVar11;
  undefined2 *puVar12;
  undefined2 unaff_SS;
  COLORREF CVar13;
  dword dVar14;
  undefined4 in_stack_00000000;
  word in_stack_0000000a;
  undefined2 uVar15;
  int16 *valist;
  undefined4 in_stack_0000ffda;
  int in_stack_0000ffde;
  undefined2 in_stack_0000ffe0;
  undefined2 in_stack_0000ffe2;
  int iVar16;
  undefined *puVar17;
  uint uVar18;
  uint uVar19;
  HDC16 in_stack_0000fff2;
  int iVar20;
  int iVar21;
  int in_stack_0000fff8;
  int in_stack_0000fffa;
  int iVar22;

  iVar16 = 0;
  if (param_2 == (int16 *)0x0) {
    iVar16 = 1;
    param_2 = (int16 *)GETDC(param_1);
  }
  GETCLIENTRECT((HWND16)&stack0xffda,(RECT16 *)CONCAT22(param_1,unaff_SS));
  FUN_1078_275a((HRGN16)param_2,(undefined4 *)&stack0xffda,0);
  __return_storage_ptr__ =
       SETBKMODE((int16 *)&DAT_10a8_0002,(HDC16)param_2,
                 (int16)CONCAT214(iVar16,CONCAT212(in_stack_0000ffe2,
                                                   CONCAT210(in_stack_0000ffe0,
                                                             CONCAT28(in_stack_0000ffde,
                                                                      CONCAT44(in_stack_0000ffda,
                                                                               CONCAT22(unaff_DI,
                                                  unaff_SI)))))));
  uVar15 = 0xf;
  valist = param_2;
  CVar13 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffe0,
                                        CONCAT212(in_stack_0000ffde,
                                                  CONCAT48(in_stack_0000ffda,
                                                           CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(param_2,0xf)))))));
  CVar13 = SETBKCOLOR((HDC16)CVar13.value,CONCAT22(uVar15,(int)(CVar13.value >> 0x10)));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_2,(HRGN16)valist,unaff_SI,
               (int16)CONCAT214((int)CVar13.value,
                                CONCAT212(iVar16,CONCAT210(__return_storage_ptr__,
                                                           CONCAT28(in_stack_0000ffe0,
                                                                    CONCAT26(in_stack_0000ffde,
                                                                             CONCAT42(
                                                  in_stack_0000ffda,unaff_DI)))))));
  iVar21 = (int)(PTR_DAT_10a8_0000_10a8_5794 + 2) * 3;
  dVar14 = GETTEXTEXTENT(1,(LPCSTR)0x10a849cb,
                         (int16)CONCAT214(in_stack_0000ffe0,
                                          CONCAT212(in_stack_0000ffde,
                                                    CONCAT48(in_stack_0000ffda,
                                                             CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(valist,param_2)))))));
  iVar4 = (int)dVar14;
  dVar14 = GETTEXTEXTENT(2,(LPCSTR)0x10a849cd,
                         (int16)CONCAT214(in_stack_0000ffe0,
                                          CONCAT212(in_stack_0000ffde,
                                                    CONCAT48(in_stack_0000ffda,
                                                             CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(valist,param_2)))))));
  iVar5 = (int)dVar14;
  uVar18 = 0xad;
  iVar20 = 0;
  iVar22 = 0;
  puVar17 = (undefined *)0xe;
  do {
    if (iVar20 == 4) {
      if (param_3 == -1) {
        HVar6 = GETDLGITEM(0x123,(int16)CONCAT214(in_stack_0000ffe0,
                                                  CONCAT212(in_stack_0000ffde,
                                                            CONCAT48(in_stack_0000ffda,
                                                                     CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(valist,param_1)))))));
        SETWINDOWPOS(4,((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2,
                     (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(valist,CONCAT28(HVar6,(
                                                  qword)CONCAT24(6,CONCAT22(iVar21,in_stack_0000ffde
                                                                                   + -0xc)))))),
                     (int16)CONCAT214((int)(CVar13.value >> 0x10),
                                      CONCAT212((int)CVar13.value,
                                                CONCAT210(iVar16,CONCAT28(__return_storage_ptr__,
                                                                          CONCAT26(in_stack_0000ffe0
                                                                                   ,CONCAT24(
                                                  in_stack_0000ffde,in_stack_0000ffda)))))),
                     (int16)CONCAT214(in_stack_0000fff8,
                                      CONCAT212(iVar21,CONCAT210(iVar20,CONCAT28(in_stack_0000fff2,
                                                                                 CONCAT26(uVar18,
                                                  CONCAT24(iVar4,CONCAT22(iVar5,puVar17))))))),
                     (int16)CONCAT106(CONCAT28(0xffff,CONCAT26(param_2,CONCAT24(param_1,
                                                  in_stack_00000000))),
                                      CONCAT24(unaff_BP,CONCAT22(iVar22,in_stack_0000fffa))),
                     in_stack_0000000a);
      }
      iVar21 = iVar21 + ((int)PTR_DAT_10a8_0000_10a8_5794 * 5) / 2;
    }
    uVar19 = uVar18 + 1;
    in_stack_0000fff2 = FUN_1018_50de(uVar18,(char *)&DAT_10a8_86de);
    if (param_3 == -1) {
      TEXTOUT(in_stack_0000fff2,
              (int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(valist,CONCAT28(param_2,
                                                  CONCAT26(6,CONCAT24(iVar21,0x10a886de)))))),
              (int16)CONCAT214((int)(CVar13.value >> 0x10),
                               CONCAT212((int)CVar13.value,
                                         CONCAT210(iVar16,CONCAT28(__return_storage_ptr__,
                                                                   CONCAT26(in_stack_0000ffe0,
                                                                            CONCAT24(
                                                  in_stack_0000ffde,in_stack_0000ffda)))))),
              (LPCSTR)CONCAT22(iVar5,puVar17),
              (int16)CONCAT214(iVar22,CONCAT212(in_stack_0000fffa,
                                                CONCAT210(in_stack_0000fff8,
                                                          CONCAT28(iVar21,CONCAT26(iVar20,CONCAT24(
                                                  in_stack_0000fff2,CONCAT22(uVar19,iVar4))))))));
    }
    dVar14 = GETTEXTEXTENT(in_stack_0000fff2,&DAT_10a8_86de,
                           (int16)CONCAT214(in_stack_0000ffe0,
                                            CONCAT212(in_stack_0000ffde,
                                                      CONCAT48(in_stack_0000ffda,
                                                               CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(valist,param_2)))))));
    in_stack_0000fffa = (int)dVar14 + 6;
    uVar18 = (uint)*(char *)(iVar20 + 0x49bc);
    uVar8 = (int)uVar18 >> 0xf;
    in_stack_0000fff8 = ((uVar18 ^ uVar8) - uVar8) * iVar4;
    iVar7 = FUN_1078_1d42((int)&PTR_DAT_10a8_0000_10a8_8166,(int)*(char *)(iVar20 + 0x49c4));
    _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x49d010a8,(LPCSTR)CONCAT22(iVar7,0x10a8),
              (VA_LIST16)valist);
    if (*(char *)(iVar20 + 0x49bc) < '\0') {
      in_stack_0000fff8 = in_stack_0000fff8 + iVar5;
      pcVar10 = (char *)&DAT_10a8_49d3;
      uVar18 = 0xffff;
      do {
        if (uVar18 == 0) break;
        uVar18 = uVar18 - 1;
        pcVar2 = pcVar10;
        pcVar10 = pcVar10 + 1;
      } while (*pcVar2 != '\0');
      uVar18 = ~uVar18;
      puVar11 = (undefined2 *)(pcVar10 + -uVar18);
      pcVar10 = (char *)&DAT_10a8_86de;
      iVar7 = -1;
      do {
        if (iVar7 == 0) break;
        iVar7 = iVar7 + -1;
        pcVar2 = pcVar10;
        pcVar10 = pcVar10 + 1;
      } while (*pcVar2 != '\0');
      puVar12 = (undefined2 *)(pcVar10 + -1);
      for (uVar8 = uVar18 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
        puVar3 = puVar12;
        puVar12 = puVar12 + 1;
        puVar1 = puVar11;
        puVar11 = puVar11 + 1;
        *puVar3 = *puVar1;
      }
      for (uVar18 = (uint)((uVar18 & 1) != 0); uVar18 != 0; uVar18 = uVar18 - 1) {
        puVar3 = puVar12;
        puVar12 = (undefined2 *)((int)puVar12 + 1);
        puVar1 = puVar11;
        puVar11 = (undefined2 *)((int)puVar11 + 1);
        *(undefined *)puVar3 = *(undefined *)puVar1;
      }
    }
    in_stack_0000fffa = in_stack_0000fffa + in_stack_0000fff8;
    if ((param_3 == -1) || (iVar20 == param_3)) {
      FUN_1018_55f6(param_2,in_stack_0000fffa,iVar21,(int)&DAT_10a8_86de,(int16 *)0x0,
                    in_stack_0000fff8,CONCAT22(unaff_SI,valist),unaff_DI,
                    CONCAT212((int)CVar13.value,
                              CONCAT210(iVar16,CONCAT28(__return_storage_ptr__,
                                                        CONCAT26(in_stack_0000ffe0,
                                                                 CONCAT24(in_stack_0000ffde,
                                                                          in_stack_0000ffda))))));
    }
    *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22) = in_stack_0000fffa + 4;
    *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22 + 2) = iVar21 + -3;
    *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22 + 4) =
         *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22) + 0xf;
    *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22 + 6) =
         ((int)PTR_DAT_10a8_0000_10a8_5794 >> 1) +
         *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22 + 2) + 3;
    puVar9 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22);
    puVar9[2] = *puVar9;
    puVar9[3] = puVar9[1];
    OFFSETRECT((RECT16 *)
               (ulong)((*(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22 + 6) -
                       *(int *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22 + 2)) - 1),
               (int16)CONCAT214(in_stack_0000ffde,
                                CONCAT410(in_stack_0000ffda,
                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(valist,
                                                  CONCAT22(0x10a8,PTR_DAT_10a8_0000_10a8_7ace +
                                                                  iVar22 + 8)))))),
               (int16)CONCAT214(iVar4,CONCAT212(iVar5,CONCAT210(puVar17,CONCAT28((int)(CVar13.value
                                                                                      >> 0x10),
                                                                                 CONCAT26((int)
                                                  CVar13.value,
                                                  CONCAT24(iVar16,CONCAT22(__return_storage_ptr__,
                                                                           in_stack_0000ffe0))))))))
    ;
    if (param_3 == -1) {
      FUN_1018_5f08((HRGN16)param_2,(undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22),0xa4,0,0);
      FUN_1018_5f08((HRGN16)param_2,(undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + iVar22 + 8),0xa5,0,
                    0);
      hdc = FUN_1018_50de(uVar19,(char *)&DAT_10a8_86de);
      TEXTOUT(hdc,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(valist,CONCAT28(param_2,
                                                  CONCAT26(*(int *)(PTR_DAT_10a8_0000_10a8_7ace +
                                                                   iVar22 + 4) + 4,
                                                           CONCAT24(iVar21,0x10a886de)))))),
              (int16)CONCAT214((int)(CVar13.value >> 0x10),
                               CONCAT212((int)CVar13.value,
                                         CONCAT210(iVar16,CONCAT28(__return_storage_ptr__,
                                                                   CONCAT26(in_stack_0000ffe0,
                                                                            CONCAT24(
                                                  in_stack_0000ffde,in_stack_0000ffda)))))),
              (LPCSTR)CONCAT22(iVar5,puVar17),
              (int16)CONCAT214(iVar22,CONCAT212(in_stack_0000fffa,
                                                CONCAT210(in_stack_0000fff8,
                                                          CONCAT28(iVar21,CONCAT26(iVar20,CONCAT24(
                                                  in_stack_0000fff2,CONCAT22(uVar19,iVar4))))))));
    }
    uVar18 = uVar19 + 1;
    iVar22 = iVar22 + 0x10;
    iVar21 = iVar21 + ((int)*(char *)(iVar20 + 0x49b4) * (int)PTR_DAT_10a8_0000_10a8_5794) / 2;
    iVar20 = iVar20 + 1;
    if (6 < iVar20) {
      PTR_DAT_10a8_0000_10a8_7d5e = puVar17;
      SETBKCOLOR((HDC16)CVar13.value,(COLORREF)CONCAT22(param_2,(int)(CVar13.value >> 0x10)));
      SETBKMODE(__return_storage_ptr__,(HDC16)param_2,
                (int16)CONCAT214(__return_storage_ptr__,
                                 CONCAT212(in_stack_0000ffe0,
                                           CONCAT210(in_stack_0000ffde,
                                                     CONCAT46(in_stack_0000ffda,
                                                              CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  valist)))))));
      if (iVar16 != 0) {
        RELEASEDC(param_2,param_1,(HDC16)valist);
      }
      return;
    }
  } while( true );
}



undefined2 __cdecl16far
FUN_1078_1c6c(HWND16 param_1,undefined2 param_2,undefined2 param_3_00,byte param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  HWND16 local_22;
  int16 *local_20;
  int local_a;
  undefined2 local_8;
  uint local_6;
  int local_4;

  local_6 = FUN_1078_1448();
  if ((int)local_6 < 0) {
    return 0;
  }
  iVar3 = (int)local_6 >> 1;
  if ((local_6 & 1) == 0) {
    local_a = 1;
    local_8 = 0xa0;
  }
  else {
    local_a = -1;
    local_8 = 0xa1;
  }
  FUN_1018_5d4c(&local_22,param_1,0,(undefined4 *)(PTR_DAT_10a8_0000_10a8_7ace + local_6 * 8),
                local_8,0x50,0,0);
  if ((param_4 & 4) != 0) {
    local_a = local_a * 3;
  }
  iVar1 = FUN_1018_5dc4(&local_22);
  local_4 = iVar3;
  while (iVar1 != 0) {
    iVar1 = FUN_1078_1d42((int)&PTR_DAT_10a8_0000_10a8_8166,(int)*(char *)(iVar3 + 0x49c4));
    iVar2 = FUN_1078_1d54((int)&PTR_DAT_10a8_0000_10a8_8166,(int)*(char *)(iVar3 + 0x49c4),
                          iVar1 + local_a);
    if (iVar2 != iVar1) {
      FUN_1078_195c(param_1,local_20,iVar3);
    }
    iVar1 = FUN_1018_5dc4(&local_22);
  }
  return 1;
}



int __cdecl16far FUN_1078_1d42(int param_1,int param_2)

{
  return (int)*(char *)(param_1 + param_2 + 0x32);
}



int __cdecl16far FUN_1078_1d54(int param_1,int param_2,int param_3)

{
  char cVar1;

  cVar1 = *(char *)(param_2 + 0x2f8);
  if (param_3 < cVar1) {
    param_3 = (int)cVar1;
  }
  cVar1 = *(char *)(param_2 + 0x2ea);
  if (cVar1 < param_3) {
    param_3 = (int)cVar1;
  }
  *(undefined *)(param_1 + param_2 + 0x32) = (char)param_3;
  return param_3;
}



undefined2 __cdecl16far FUN_1078_1d84(int param_1,byte param_2)

{
  if ((1LL << (param_2 & 0x1f) & *(ulong *)(param_1 + 0x40)) != 0) {
    return 1;
  }
  return 0;
}



void __cdecl16far FUN_1078_1da8(int param_1,char param_2,int param_3)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  bool bVar4;

  uVar2 = 1;
  uVar3 = 0;
  if (param_2 != '\0') {
    do {
      bVar4 = CARRY2(uVar2,uVar2);
      uVar2 = uVar2 * 2;
      uVar3 = uVar3 * 2 + (uint)bVar4;
      param_2 = param_2 + -1;
    } while (param_2 != '\0');
  }
  if (param_3 != 0) {
    puVar1 = (uint *)(param_1 + 0x40);
    *puVar1 = *puVar1 | uVar2;
    puVar1 = (uint *)(param_1 + 0x42);
    *puVar1 = *puVar1 | uVar3;
    return;
  }
  puVar1 = (uint *)(param_1 + 0x40);
  *puVar1 = *puVar1 & ~uVar2;
  puVar1 = (uint *)(param_1 + 0x42);
  *puVar1 = *puVar1 & ~uVar3;
  return;
}



ulong __stdcall16far
RACEWIZARDDLG4(HWND16 param_1,int param_2,uint param_3,int param_4,undefined2 param_5)

{
  HDC16 HVar1;
  undefined2 uVar2;
  HWND16 HVar3;
  uint in_DX;
  uint *puVar4;
  undefined2 unaff_SI;
  int iVar5;
  undefined2 unaff_DI;
  HWND16 HVar6;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar7;
  LRESULT LVar8;
  undefined uVar9;
  undefined uVar10;
  undefined4 in_stack_0000ffd6;
  WPARAM16 in_stack_0000ffda;
  undefined2 in_stack_0000ffdc;
  undefined2 in_stack_0000ffde;
  undefined4 in_stack_0000ffe0;
  word in_stack_0000ffe4;
  undefined4 local_a [2];

  if (param_4 == 0xf) {
    HVar1 = BEGINPAINT((HWND16)&stack0xffd6,(PAINTSTRUCT16 *)CONCAT22(param_5,unaff_SS));
    GETCLIENTRECT((HWND16)local_a,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FUN_1078_275a(HVar1,local_a,0);
    ENDPAINT((HWND16)&stack0xffd6,unaff_SS);
  }
  else if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)local_a,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)local_a,(RECT16 *)unaff_SS,param_3);
  }
  else {
    if (param_4 == 0x19) {
      HVar6 = 0x123;
      do {
        HVar3 = GETDLGITEM(HVar6,(int16)CONCAT214(in_stack_0000ffde,
                                                  CONCAT212(in_stack_0000ffdc,
                                                            CONCAT210(in_stack_0000ffda,
                                                                      CONCAT46(in_stack_0000ffd6,
                                                                               CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
        if (HVar3 == param_1) break;
        HVar6 = HVar6 + 1;
      } while ((int)HVar6 < 0x139);
      if (((int)HVar6 < 0x139) || (param_2 == 6)) {
        uVar9 = 0xf;
        uVar10 = 0;
        CVar7 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffdc,
                                             CONCAT212(in_stack_0000ffda,
                                                       CONCAT48(in_stack_0000ffd6,
                                                                CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(param_3,0xf)))))));
        CVar7 = SETBKCOLOR((HDC16)CVar7.value,
                           CONCAT13(uVar10,CONCAT12(uVar9,(int)(CVar7.value >> 0x10))));
        return CVar7.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
LAB_1078_1fa3:
      return (ulong)in_DX << 0x10;
    }
    if (param_4 == 0x110) {
      FUN_1078_2aea(param_5,(VA_LIST16)&PTR_LOOP_10a8_0004);
      iVar5 = 0;
      do {
        HVar6 = GETDLGITEM(iVar5 + 0x123,
                           (int16)CONCAT214(in_stack_0000ffde,
                                            CONCAT212(in_stack_0000ffdc,
                                                      CONCAT210(in_stack_0000ffda,
                                                                CONCAT46(in_stack_0000ffd6,
                                                                         CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5)))))));
        uVar9 = 1;
        uVar10 = 4;
        uVar2 = FUN_1078_1d84((int)&PTR_DAT_10a8_0000_10a8_8166,(byte)iVar5);
        LVar8 = SENDMESSAGE(0,(uint16)(ZEXT1416(CONCAT410(in_stack_0000ffd6,
                                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(HVar6,CONCAT13(uVar10,CONCAT12(uVar9,
                                                  uVar2))))))) << 0x10),in_stack_0000ffda,
                            CONCAT22(in_stack_0000ffde,in_stack_0000ffdc));
        in_DX = (uint)((ulong)LVar8 >> 0x10);
        iVar5 = iVar5 + 1;
      } while (iVar5 < 0x16);
      HVar6 = 0x123;
      do {
        HVar3 = GETDLGITEM(HVar6,(int16)CONCAT214(in_stack_0000ffde,
                                                  CONCAT212(in_stack_0000ffdc,
                                                            CONCAT210(in_stack_0000ffda,
                                                                      CONCAT46(in_stack_0000ffd6,
                                                                               CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5)))))));
        ENABLEWINDOW(0,HVar3);
        HVar6 = HVar6 + 1;
      } while ((int)HVar6 < 0x139);
      FUN_1018_5a04(param_5,(int *)0x489e,1,unaff_SI,
                    (int16)CONCAT412(in_stack_0000ffe0,
                                     CONCAT210(in_stack_0000ffde,
                                               CONCAT28(in_stack_0000ffdc,
                                                        CONCAT26(in_stack_0000ffda,
                                                                 CONCAT42(in_stack_0000ffd6,unaff_DI
                                                                         ))))),in_stack_0000ffe4);
    }
    else {
      if (param_4 != 0x111) goto LAB_1078_1fa3;
      if (param_3 == 0x76) {
        WINHELP(0x81,(LPCSTR)0x10000,
                (uint16)CONCAT214(in_stack_0000ffda,
                                  CONCAT410(in_stack_0000ffd6,
                                            CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(param_5,
                                                  CONCAT13(0x10,CONCAT12(0xa8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be))))))));
      }
      else {
        HVar6 = 0;
        puVar4 = (uint *)&PTR_DAT_10a8_0002_10a8_4894;
        do {
          if (*puVar4 == param_3) break;
          HVar6 = HVar6 + 1;
          puVar4 = puVar4 + 1;
        } while (puVar4 < (uint *)0x489c);
        if (3 < (int)HVar6) {
          in_DX = param_3;
          if ((0x122 < param_3) && (param_3 < 0x139)) {
            HVar6 = GETDLGITEM(param_3,(int16)CONCAT214(in_stack_0000ffde,
                                                        CONCAT212(in_stack_0000ffdc,
                                                                  CONCAT210(in_stack_0000ffda,
                                                                            CONCAT46(
                                                  in_stack_0000ffd6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
            ;
            LVar8 = SENDMESSAGE(0,(uint16)CONCAT412(in_stack_0000ffd6,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar6,0x40000000000)))),in_stack_0000ffda,
                                CONCAT22(in_stack_0000ffde,in_stack_0000ffdc));
            in_DX = (uint)((ulong)LVar8 >> 0x10);
            FUN_1078_1da8((int)&PTR_DAT_10a8_0000_10a8_8166,(char)(param_3 - 0x123),(int)LVar8);
            INVALIDATERECT(0,(RECT16 *)0x0,0);
          }
          goto LAB_1078_1fa3;
        }
        FUN_1018_5a04(param_5,(int *)0x489e,0,unaff_SI,
                      (int16)CONCAT412(in_stack_0000ffe0,
                                       CONCAT210(in_stack_0000ffde,
                                                 CONCAT28(in_stack_0000ffdc,
                                                          CONCAT26(in_stack_0000ffda,
                                                                   CONCAT42(in_stack_0000ffd6,
                                                                            unaff_DI))))),
                      in_stack_0000ffe4);
        ENDDIALOG(HVar6,(int16)CONCAT214(in_stack_0000ffde,
                                         CONCAT212(in_stack_0000ffdc,
                                                   CONCAT210(in_stack_0000ffda,
                                                             CONCAT46(in_stack_0000ffd6,
                                                                      CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5)))))));
        in_DX = param_3;
      }
    }
  }
  return CONCAT22(in_DX,1);
}



ulong __stdcall16far
RACEWIZARDDLG5(HWND16 param_1,int param_2,uint param_3,int param_4,VA_LIST16 param_5)

{
  int16 *piVar1;
  int iVar2;
  HWND16 HVar3;
  uint in_DX;
  uint *puVar4;
  undefined2 unaff_SI;
  int iVar5;
  VA_LIST16 unaff_DI;
  int iVar6;
  HWND16 HVar7;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar8;
  int iVar9;
  undefined2 uVar10;
  int iVar11;
  VA_LIST16 pWVar12;
  undefined *puVar13;
  HRGN16 in_stack_0000ffc8;
  undefined2 in_stack_0000ffca;
  undefined2 in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  undefined2 in_stack_0000ffd2;
  undefined2 in_stack_0000ffd4;
  word in_stack_0000ffd6;
  undefined2 in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  undefined2 in_stack_0000ffdc;
  undefined in_stack_0000ffde [14];
  undefined2 in_stack_0000ffec;
  int local_10;
  int local_e;
  undefined *local_8;
  undefined2 local_6;
  int local_4;

  if (param_4 == 0xf) {
    local_8 = (undefined *)
              BEGINPAINT((HWND16)&stack0xffc8,(PAINTSTRUCT16 *)CONCAT22(param_5,unaff_SS));
    GETCLIENTRECT((HWND16)&stack0xffe8,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FUN_1078_275a((HRGN16)local_8,(undefined4 *)&stack0xffe8,0);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)local_8,(HRGN16)unaff_DI,
                 in_stack_0000ffc8,
                 (int16)CONCAT214(in_stack_0000ffd8,
                                  CONCAT212(in_stack_0000ffd6,
                                            CONCAT210(in_stack_0000ffd4,
                                                      CONCAT28(in_stack_0000ffd2,
                                                               CONCAT26(in_stack_0000ffd0,
                                                                        CONCAT24(in_stack_0000ffce,
                                                                                 CONCAT22(
                                                  in_stack_0000ffcc,in_stack_0000ffca))))))));
    uVar10 = 0xf;
    puVar13 = local_8;
    CVar8 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffd0,
                                         CONCAT212(in_stack_0000ffce,
                                                   CONCAT210(in_stack_0000ffcc,
                                                             CONCAT28(in_stack_0000ffca,
                                                                      CONCAT26(in_stack_0000ffc8,
                                                                               CONCAT24(unaff_DI,
                                                  CONCAT22(local_8,0xf))))))));
    CVar8 = SETBKCOLOR((HDC16)CVar8.value,CONCAT22(uVar10,(int)(CVar8.value >> 0x10)));
    in_DX = (uint)(CVar8.value >> 0x10);
    local_4 = 0;
    local_6 = 0x10f;
    HVar7 = 0x10f;
    do {
      HVar3 = GETDLGITEM(HVar7,(int16)CONCAT214(in_stack_0000ffd0,
                                                CONCAT212(in_stack_0000ffce,
                                                          CONCAT210(in_stack_0000ffcc,
                                                                    CONCAT28(in_stack_0000ffca,
                                                                             CONCAT26(
                                                  in_stack_0000ffc8,
                                                  CONCAT24(unaff_DI,CONCAT22(puVar13,param_5))))))))
      ;
      GETWINDOWRECT((HWND16)&local_10,(RECT16 *)CONCAT22(HVar3,unaff_SS));
      SCREENTOCLIENT((HWND16)&local_10,(POINT16 *)CONCAT22(param_5,unaff_SS));
      HVar3 = GETDLGITEM(HVar7 + 2,
                         (int16)CONCAT214(in_stack_0000ffd0,
                                          CONCAT212(in_stack_0000ffce,
                                                    CONCAT210(in_stack_0000ffcc,
                                                              CONCAT28(in_stack_0000ffca,
                                                                       CONCAT26(in_stack_0000ffc8,
                                                                                CONCAT24(unaff_DI,
                                                  CONCAT22(puVar13,param_5))))))));
      GETWINDOWRECT((HWND16)&stack0xffe8,(RECT16 *)CONCAT22(HVar3,unaff_SS));
      SCREENTOCLIENT((HWND16)&stack0xffec,(POINT16 *)CONCAT22(param_5,unaff_SS));
      FUN_1018_5948(&local_10,(int)PTR_DAT_10a8_0000_10a8_5794,(int)PTR_DAT_10a8_0000_10a8_5794 >> 1
                   );
      FUN_1018_5bba(local_8,(undefined4 *)&local_10,-1,puVar13,unaff_DI,in_stack_0000ffc8,
                    in_stack_0000ffca,in_stack_0000ffcc,in_stack_0000ffce,in_stack_0000ffd0,
                    in_stack_0000ffd2,in_stack_0000ffd4,in_stack_0000ffd6,in_stack_0000ffd8,
                    in_stack_0000ffda);
      iVar6 = (int)s_From___s_c_c_10a8_10a2 + 6;
      uVar10 = SUB42(s__Research_10a8_49d6,0);
      iVar5 = FUN_1018_50de(local_4 + 0x41,(char *)&DAT_10a8_86de);
      piVar1 = _WSPRINTF((int16 *)((int)&DAT_10a8_86de + iVar5),(LPSTR)CONCAT22(uVar10,0x10a8),
                         (LPCSTR)CONCAT22(puVar13,iVar6),unaff_DI);
      TEXTOUT(iVar5 + (int)piVar1,
              (int16)CONCAT214(in_stack_0000ffc8,
                               CONCAT212(unaff_DI,CONCAT210(puVar13,CONCAT28(local_8,CONCAT26(
                                                  local_10 + 8,
                                                  CONCAT24(-(((int)PTR_DAT_10a8_0000_10a8_5794 >> 1)
                                                            - local_e),0x10a886de)))))),
              (int16)CONCAT214(in_stack_0000ffd8,
                               CONCAT212(in_stack_0000ffd6,
                                         CONCAT210(in_stack_0000ffd4,
                                                   CONCAT28(in_stack_0000ffd2,
                                                            CONCAT26(in_stack_0000ffd0,
                                                                     CONCAT24(in_stack_0000ffce,
                                                                              CONCAT22(
                                                  in_stack_0000ffcc,in_stack_0000ffca))))))),
              (LPCSTR)CONCAT22(in_stack_0000ffdc,in_stack_0000ffda),
              (int16)CONCAT214(in_stack_0000ffec,in_stack_0000ffde));
      local_4 = local_4 + 1;
      HVar7 = HVar7 + 3;
    } while ((int)HVar7 < 0x121);
    ENDPAINT((HWND16)&stack0xffc8,unaff_SS);
  }
  else if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)&stack0xffe8,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffe8,(RECT16 *)unaff_SS,param_3);
  }
  else {
    if (param_4 == 0x19) {
      HVar7 = 0x10f;
      do {
        HVar3 = GETDLGITEM(HVar7,(int16)CONCAT214(in_stack_0000ffd0,
                                                  CONCAT212(in_stack_0000ffce,
                                                            CONCAT210(in_stack_0000ffcc,
                                                                      CONCAT28(in_stack_0000ffca,
                                                                               CONCAT26(
                                                  in_stack_0000ffc8,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                          );
        if (HVar3 == param_1) break;
        HVar7 = HVar7 + 1;
      } while ((int)HVar7 < 0x121);
      if (((int)HVar7 < 0x121) || (param_2 == 6)) {
        uVar10 = 0xf;
        CVar8 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffce,
                                             CONCAT212(in_stack_0000ffcc,
                                                       CONCAT210(in_stack_0000ffca,
                                                                 CONCAT28(in_stack_0000ffc8,
                                                                          CONCAT26(unaff_DI,CONCAT24
                                                  (unaff_SI,CONCAT22(param_3,0xf))))))));
        CVar8 = SETBKCOLOR((HDC16)CVar8.value,CONCAT22(uVar10,(int)(CVar8.value >> 0x10)));
        return CVar8.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
LAB_1078_226c:
      return (ulong)in_DX << 0x10;
    }
    if (param_4 == 0x110) {
      FUN_1078_2aea(param_5,(VA_LIST16)((int)&PTR_LOOP_10a8_0004 + 1));
      iVar6 = 0;
      iVar5 = 0x10f;
      do {
        iVar9 = iVar5 + 2;
        iVar11 = iVar5;
        pWVar12 = param_5;
        iVar2 = FUN_1078_1d42((int)&PTR_DAT_10a8_0000_10a8_8166,iVar6 + 8);
        CHECKRADIOBUTTON(iVar2 + iVar5,
                         (uint16)CONCAT214(in_stack_0000ffcc,
                                           CONCAT212(in_stack_0000ffca,
                                                     CONCAT210(in_stack_0000ffc8,
                                                               CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(pWVar12,CONCAT22(iVar11,iVar9))))))),
                         (uint16)CONCAT214(in_stack_0000ffdc,
                                           CONCAT212(in_stack_0000ffda,
                                                     CONCAT210(in_stack_0000ffd8,
                                                               CONCAT28(in_stack_0000ffd6,
                                                                        CONCAT26(in_stack_0000ffd4,
                                                                                 CONCAT24(
                                                  in_stack_0000ffd2,
                                                  CONCAT22(in_stack_0000ffd0,in_stack_0000ffce))))))
                                          ),(uint16)CONCAT214(in_stack_0000ffec,in_stack_0000ffde));
        iVar6 = iVar6 + 1;
        iVar5 = iVar5 + 3;
      } while (iVar5 < 0x121);
      HVar7 = 0x10f;
      do {
        HVar3 = GETDLGITEM(HVar7,(int16)CONCAT214(in_stack_0000ffd0,
                                                  CONCAT212(in_stack_0000ffce,
                                                            CONCAT210(in_stack_0000ffcc,
                                                                      CONCAT28(in_stack_0000ffca,
                                                                               CONCAT26(
                                                  in_stack_0000ffc8,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                          );
        ENABLEWINDOW(0,HVar3);
        HVar7 = HVar7 + 1;
      } while ((int)HVar7 < 0x121);
      FUN_1018_5a04(param_5,(int *)0x489e,1,unaff_SI,
                    (int16)CONCAT214(in_stack_0000ffd4,
                                     CONCAT212(in_stack_0000ffd2,
                                               CONCAT210(in_stack_0000ffd0,
                                                         CONCAT28(in_stack_0000ffce,
                                                                  CONCAT26(in_stack_0000ffcc,
                                                                           CONCAT24(
                                                  in_stack_0000ffca,
                                                  CONCAT22(in_stack_0000ffc8,unaff_DI))))))),
                    in_stack_0000ffd6);
    }
    else {
      if (param_4 != 0x111) goto LAB_1078_226c;
      if (param_3 == 0x76) {
        WINHELP(0x82,(LPCSTR)0x10000,
                (uint16)CONCAT214(in_stack_0000ffcc,
                                  CONCAT212(in_stack_0000ffca,
                                            CONCAT210(in_stack_0000ffc8,
                                                      CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(
                                                  param_5,CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be))))))));
      }
      else {
        HVar7 = 0;
        puVar4 = (uint *)&PTR_DAT_10a8_0002_10a8_4894;
        do {
          if (*puVar4 == param_3) break;
          HVar7 = HVar7 + 1;
          puVar4 = puVar4 + 1;
        } while (puVar4 < (uint *)0x489c);
        if (3 < (int)HVar7) {
          in_DX = param_3;
          if (((param_2 == 0) && (0x10e < param_3)) && (param_3 < 0x121)) {
            in_DX = (int)(param_3 - 0x10f) % 3;
            FUN_1078_1d54((int)&PTR_DAT_10a8_0000_10a8_8166,(int)(param_3 - 0x10f) / 3 + 8,
                          (int)(param_3 - 0x10f) % 3);
            INVALIDATERECT(0,(RECT16 *)0x0,0);
          }
          goto LAB_1078_226c;
        }
        FUN_1018_5a04(param_5,(int *)0x489e,0,unaff_SI,
                      (int16)CONCAT214(in_stack_0000ffd4,
                                       CONCAT212(in_stack_0000ffd2,
                                                 CONCAT210(in_stack_0000ffd0,
                                                           CONCAT28(in_stack_0000ffce,
                                                                    CONCAT26(in_stack_0000ffcc,
                                                                             CONCAT24(
                                                  in_stack_0000ffca,
                                                  CONCAT22(in_stack_0000ffc8,unaff_DI))))))),
                      in_stack_0000ffd6);
        ENDDIALOG(HVar7,(int16)CONCAT214(in_stack_0000ffd0,
                                         CONCAT212(in_stack_0000ffce,
                                                   CONCAT210(in_stack_0000ffcc,
                                                             CONCAT28(in_stack_0000ffca,
                                                                      CONCAT26(in_stack_0000ffc8,
                                                                               CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5))))))));
        in_DX = param_3;
      }
    }
  }
  return CONCAT22(in_DX,1);
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined2 __cdecl16far FUN_1078_2274(int param_1,undefined4 param_2)

{
  char cVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int16 *piVar5;
  uint uVar6;
  long lVar7;
  long lVar8;
  ulong uVar9;
  uint uVar10;
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  int iVar11;
  int *piVar12;
  int iVar13;
  undefined2 unaff_DI;
  bool bVar14;
  undefined4 in_stack_00000000;
  long lStackY_2e;
  undefined2 in_stack_0000ffe4;
  undefined2 in_stack_0000ffe6;
  undefined2 in_stack_0000ffe8;
  int iVar15;
  int iVar16;
  int in_stack_0000fff8;
  long lVar17;

  uVar6 = 0;
  iVar13 = 0;
  iVar11 = 0;
  lVar7 = 1;
  iVar16 = 0;
  iVar15 = 0;
  do {
    if ((*(char *)(iVar11 + param_1 + 0x16) == -1) || (*(char *)(iVar11 + param_1 + 0x13) == -1)) {
      iVar3 = 100;
      iVar16 = iVar16 + 1;
    }
    else {
      iVar2 = (int)*(char *)(iVar11 + param_1 + 0x13);
      iVar3 = *(char *)(iVar11 + param_1 + 0x16) - iVar2;
      if (iVar3 < 10) {
        iVar3 = 10;
      }
      if (100 < iVar3) {
        iVar3 = 100;
      }
      uVar4 = (iVar3 / 2 + iVar2) - 0x32;
      uVar10 = (int)uVar4 >> 0xf;
      in_stack_0000fff8 = (uVar4 ^ uVar10) - uVar10;
      if (0x2d < in_stack_0000fff8) {
        in_stack_0000fff8 = 0x2d;
      }
      iVar15 = iVar15 + in_stack_0000fff8;
      if ((iVar11 < 2) && (in_stack_0000fff8 < 6)) {
        uVar4 = (6 - in_stack_0000fff8) * 3;
        bVar14 = uVar6 < uVar4;
        uVar6 = uVar6 + (6 - in_stack_0000fff8) * -3;
        iVar13 = (iVar13 - ((int)uVar4 >> 0xf)) - (uint)bVar14;
      }
    }
    lVar7 = iVar3 * lVar7;
    iVar11 = iVar11 + 1;
  } while (iVar11 < 3);
  lVar8 = (lVar7 + 999) / 1000;
  iVar11 = 0;
  piVar12 = (int *)((int)s_Stars______s_____s_____s_10a8_02ba + 0xe);
  do {
    if (lVar8 <= *piVar12) break;
    iVar11 = iVar11 + 1;
    piVar12 = piVar12 + 1;
  } while (piVar12 < (int *)((int)s_Stars______s____Host_Mode_10a8_02d3 + 0x17));
  iVar11 = iVar11 * 2;
  if (*(int *)(iVar11 + 0x2c8) == lVar8) {
    uVar4 = *(uint *)(iVar11 + 0x2a6);
  }
  else {
    uVar4 = *(uint *)(iVar11 + 0x2a4);
    bVar14 = CARRY2(uVar6,uVar4);
    uVar6 = uVar6 + uVar4;
    iVar13 = iVar13 + ((int)uVar4 >> 0xf) + (uint)bVar14;
    lStackY_2e = (long)(int)(*(int *)(iVar11 + 0x2a6) - uVar4);
    uVar4 = (uint)((lStackY_2e * (lVar7 + (long)*(int *)(iVar11 + 0x2c6) * -1000)) /
                  ((long)(*(int *)(iVar11 + 0x2c8) - *(int *)(iVar11 + 0x2c6)) * 1000));
  }
  if (iVar15 < 0x33) {
    if (iVar15 < 0x24) {
      iVar3 = iVar15 << 2;
    }
    else {
      iVar3 = iVar15 * 6;
    }
  }
  else {
    iVar3 = iVar15 << 3;
  }
  cVar1 = *(char *)(param_1 + 0x19);
  if ('\x0f' < cVar1) {
    cVar1 = '\x0f';
  }
  if (cVar1 < '\x01') {
    cVar1 = '\x01';
  }
  iVar2 = (int)cVar1;
  lVar17 = CONCAT22(iVar13 + ((int)uVar4 >> 0xf) + (uint)CARRY2(uVar6,uVar4),uVar6 + uVar4) +
           (long)*(int *)(iVar16 * 2 + 0x280) + (long)iVar3 + (long)*(int *)(iVar2 * 2 + 0x286);
  if (0xfa < lVar8) {
    iVar13 = 0;
    if (4 < iVar2) {
      iVar13 = (4 - iVar2) * 100;
    }
    if (8 < iVar2) {
      iVar13 = iVar13 + (8 - iVar2) * 0x1e;
    }
    piVar5 = MULDIV((int16 *)0x96,
                    (int16)CONCAT214(in_stack_0000ffe8,
                                     CONCAT212(in_stack_0000ffe6,
                                               CONCAT210(in_stack_0000ffe4,
                                                         CONCAT28(iVar11,CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT13((char)((uint)iVar13 >> 8),
                                                                    CONCAT12((char)iVar13,
                                                                             (int)lVar8 + -0xfa)))))
                                                  ))),
                    (int16)CONCAT214(in_stack_0000fff8,
                                     CONCAT212(iVar2,CONCAT210((int)((ulong)lVar8 >> 0x10),
                                                               CONCAT28((int)lVar8,
                                                                        CONCAT26((int)((ulong)lVar7
                                                                                      >> 0x10),
                                                                                 CONCAT24((int)lVar7
                                                                                          ,CONCAT22(
                                                  iVar16,iVar15))))))),
                    (int16)CONCAT106(CONCAT46(param_2,CONCAT24(param_1,in_stack_00000000)),
                                     CONCAT24(unaff_BP,lVar17)));
    lVar17 = lVar17 + (int)piVar5;
  }
  if ((lVar8 < 200) && (iVar2 < 6)) {
    iVar13 = 200 - (int)lVar8;
    piVar5 = MULDIV((int16 *)((int)&PTR_DAT_10a8_0000_10a8_002c + 1),
                    (int16)CONCAT214(in_stack_0000ffe8,
                                     CONCAT212(in_stack_0000ffe6,
                                               CONCAT210(in_stack_0000ffe4,
                                                         CONCAT28(iVar11,CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT13((char)((uint)iVar13 >> 8),
                                                                    CONCAT12((char)iVar13,
                                                                             (0x1a - iVar2) * 5)))))
                                                  ))),
                    (int16)CONCAT214(in_stack_0000fff8,
                                     CONCAT212(iVar2,CONCAT210((int)((ulong)lVar8 >> 0x10),
                                                               CONCAT28((int)lVar8,
                                                                        CONCAT26((int)((ulong)lVar7
                                                                                      >> 0x10),
                                                                                 CONCAT24((int)lVar7
                                                                                          ,CONCAT22(
                                                  iVar16,iVar15))))))),
                    (int16)CONCAT106(CONCAT46(param_2,CONCAT24(param_1,in_stack_00000000)),
                                     CONCAT24(unaff_BP,lVar17)));
    lVar17 = lVar17 + (int)piVar5;
  }
  if (0xfa < lVar8) {
    iVar15 = FUN_1078_1d84(param_1,6);
    if (iVar15 != 0) {
      uVar9 = ((lVar8 + -0xfa) * 2) / 5;
      lVar17 = lVar17 - (uVar9 & 0xffff | (ulong)(uint)((int)uVar9 >> 0xf) << 0x10);
    }
  }
  iVar15 = FUN_1078_1d42(param_1,0);
  uVar6 = (uint)lVar17;
  if (0x19 < iVar15) {
    iVar15 = 0x19;
  }
  if (iVar15 < 9) {
    bVar14 = uVar6 < 1000;
    iVar15 = uVar6 - 1000;
LAB_1078_250c:
    lVar17 = CONCAT22((int)((ulong)lVar17 >> 0x10) - (uint)bVar14,iVar15);
  }
  else {
    if (iVar15 == 9) {
      bVar14 = uVar6 < 0x15e;
      iVar15 = uVar6 - 0x15e;
      goto LAB_1078_250c;
    }
    if (10 < iVar15) {
      lVar17 = lVar17 + (iVar15 + -10) * 100;
    }
  }
  iVar15 = FUN_1078_1d42(param_1,1);
  iVar15 = -(iVar15 + -10);
  iVar13 = FUN_1078_1d42(param_1,2);
  iVar13 = -(iVar13 + -10);
  iVar16 = FUN_1078_1d42(param_1,3);
  iVar16 = iVar16 + -10;
  if (iVar15 < 1) {
    iVar15 = iVar15 * 0x79;
  }
  else {
    iVar15 = iVar15 * 100;
  }
  if (iVar13 < 0) {
    iVar13 = iVar13 * -0x37;
  }
  else {
    iVar13 = iVar13 * iVar13 * -0x3c;
  }
  if (-iVar16 < 1) {
    iVar16 = iVar16 * -0x23;
  }
  else {
    iVar16 = iVar16 * -0x28;
  }
  iVar16 = iVar15 + iVar13 + iVar16;
  if (700 < iVar16) {
    iVar16 = (iVar16 + -700) / 3 + 700;
  }
  lVar17 = lVar17 + iVar16;
  iVar15 = FUN_1078_1d84(param_1,0x1f);
  if (iVar15 != 0) {
    lVar17 = lVar17 + -0xaf;
  }
  iVar15 = FUN_1078_1d42(param_1,4);
  iVar15 = -(iVar15 + -10);
  iVar13 = FUN_1078_1d42(param_1,5);
  iVar13 = -(iVar13 + -3);
  iVar16 = FUN_1078_1d42(param_1,6);
  iVar16 = iVar16 + -10;
  if (iVar15 < 1) {
    iVar15 = iVar15 * 0xa9;
  }
  else {
    iVar15 = iVar15 * 100;
  }
  if (iVar13 < 1) {
    iVar13 = iVar13 * -0x41 + 0x50;
  }
  else {
    iVar13 = -0x168;
  }
  if (-iVar16 < 1) {
    iVar16 = iVar16 * -0x23;
  }
  else {
    iVar16 = iVar16 * -0x28;
  }
  lVar17 = lVar17 + (iVar15 + iVar13 + iVar16);
  iVar13 = 0;
  iVar15 = 0;
  do {
    iVar16 = FUN_1078_1d84(param_1,(byte)iVar13);
    if (iVar16 != 0) {
      if (iVar13 < 0xb) {
        iVar16 = 1;
      }
      else {
        iVar16 = -1;
      }
      iVar15 = iVar15 + iVar16;
      lVar17 = lVar17 + *(int *)(iVar13 * 2 + 0x254);
    }
    iVar13 = iVar13 + 1;
  } while (iVar13 < 0x16);
  if (iVar15 < 1) {
    if (iVar15 < 0) {
      iVar15 = -(iVar15 + -1);
      if (2 < iVar15) {
        iVar15 = 2;
      }
      iVar15 = iVar15 * iVar15;
      if (3 < iVar15) {
        iVar15 = 3;
      }
      lVar17 = lVar17 + iVar15 * 0x45;
    }
  }
  else {
    iVar15 = (iVar15 + -1) * (iVar15 + -1);
    uVar6 = iVar15 * 0x88;
    lVar17 = CONCAT22(((int)((ulong)lVar17 >> 0x10) - ((int)uVar6 >> 0xf)) -
                      (uint)((uint)lVar17 < uVar6),(uint)lVar17 + iVar15 * -0x88);
  }
  iVar13 = 0;
  iVar15 = 8;
  do {
    iVar16 = FUN_1078_1d42(param_1,iVar15);
    iVar13 = iVar13 + iVar16 + -1;
    iVar15 = iVar15 + 1;
  } while (iVar15 < 0xe);
  if (iVar13 < 1) {
    iVar15 = -iVar13;
    if (3 < iVar15) {
      iVar15 = 3;
    }
    iVar15 = (iVar15 + -1) * iVar15;
    if (8 < iVar15) {
      iVar15 = 8;
    }
    lVar17 = lVar17 + (iVar15 - iVar13) * 0x8c;
  }
  else {
    uVar4 = iVar13 * iVar13 * 0x96;
    uVar6 = (uint)lVar17 + iVar13 * iVar13 * -0x96;
    iVar15 = ((int)((ulong)lVar17 >> 0x10) - ((int)uVar4 >> 0xf)) - (uint)((uint)lVar17 < uVar4);
    lVar17 = CONCAT22(iVar15,uVar6);
    if (iVar13 == 6) {
      bVar14 = 0xf98d < uVar6;
      iVar13 = uVar6 + 0x672;
    }
    else {
      if (iVar13 != 5) goto LAB_1078_2740;
      bVar14 = 0xfda7 < uVar6;
      iVar13 = uVar6 + 600;
    }
    lVar17 = CONCAT22(iVar15 + (uint)bVar14,iVar13);
  }
LAB_1078_2740:
  return (int)(lVar17 / 3);
}



void __cdecl16far FUN_1078_275a(HRGN16 param_1,undefined4 *param_2,int param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined2 *plf16;
  int16 *__return_storage_ptr__;
  int16 *__return_storage_ptr___00;
  int iVar3;
  int iVar4;
  int16 *__return_storage_ptr___01;
  HDC16 HVar5;
  int iVar6;
  int iVar7;
  HRGN16 unaff_SI;
  undefined4 *puVar8;
  HRGN16 unaff_DI;
  undefined4 *puVar9;
  TEXTMETRIC16 *unaff_SS;
  dword dVar10;
  COLORREF CVar11;
  COLORREF CVar12;
  undefined2 uVar13;
  HRGN16 hdest;
  VA_LIST16 valist;
  undefined2 in_stack_0000ffc4;
  int in_stack_0000ffc6;
  undefined4 in_stack_0000ffc8;
  undefined2 in_stack_0000ffcc;
  int in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  undefined2 in_stack_0000ffd2;
  undefined in_stack_0000ffd4 [14];
  undefined4 in_stack_0000ffe2;
  int iVar14;
  int iVar15;
  undefined2 local_a;

  plf16 = (undefined2 *)LOCALALLOC(0x32,0x40);
  *plf16 = 0xffe8;
  puVar9 = (undefined4 *)(plf16 + 9);
  puVar8 = (undefined4 *)s_Arial_Bold_10a8_49e0;
  for (iVar7 = 2; iVar7 != 0; iVar7 = iVar7 + -1) {
    puVar2 = puVar9;
    puVar9 = puVar9 + 1;
    puVar1 = puVar8;
    puVar8 = puVar8 + 1;
    *puVar2 = *puVar1;
  }
  *(undefined2 *)puVar9 = *(undefined2 *)puVar8;
  *(undefined *)(undefined2 *)((int)puVar9 + 2) = *(undefined *)(undefined2 *)((int)puVar8 + 2);
  hdest = param_1;
  __return_storage_ptr__ = (int16 *)CREATEFONTINDIRECT((LOGFONT16 *)plf16);
  __return_storage_ptr___00 =
       SELECTOBJECT(__return_storage_ptr__,hdest,unaff_SI,unaff_DI,
                    (int16)CONCAT214(in_stack_0000ffd2,
                                     CONCAT212(in_stack_0000ffd0,
                                               CONCAT210(in_stack_0000ffce,
                                                         CONCAT28(in_stack_0000ffcc,
                                                                  CONCAT44(in_stack_0000ffc8,
                                                                           CONCAT22(
                                                  in_stack_0000ffc6,in_stack_0000ffc4)))))));
  GETTEXTMETRICS((HDC16)&stack0xffc6,unaff_SS);
  iVar3 = in_stack_0000ffce + in_stack_0000ffc6;
  dVar10 = GETTEXTEXTENT(6,(LPCSTR)0x10a849eb,
                         (int16)CONCAT214(in_stack_0000ffcc,
                                          CONCAT410(in_stack_0000ffc8,
                                                    CONCAT28(in_stack_0000ffc6,
                                                             CONCAT26(in_stack_0000ffc4,
                                                                      CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_1)))))));
  iVar14 = (int)((ulong)*param_2 >> 0x10);
  iVar15 = (int)param_2[1];
  iVar7 = iVar15 - ((int)dVar10 + 8);
  iVar3 = iVar14 + iVar3 + 4;
  if (param_3 == 0) {
    param_3 = (int)&PTR_DAT_10a8_0000_10a8_8166;
  }
  iVar4 = FUN_1078_2274(param_3,CONCAT22(unaff_DI,unaff_SI));
  __return_storage_ptr___01 =
       SETBKMODE((int16 *)&DAT_10a8_0001,param_1,
                 (int16)CONCAT214(in_stack_0000ffce,
                                  CONCAT212(in_stack_0000ffcc,
                                            CONCAT48(in_stack_0000ffc8,
                                                     CONCAT26(in_stack_0000ffc6,
                                                              CONCAT24(in_stack_0000ffc4,
                                                                       CONCAT22(unaff_DI,unaff_SI)))
                                                    ))));
  if (iVar4 < 0) {
    HVar5 = 0x7f;
  }
  else {
    HVar5 = 0;
  }
  CVar11 = SETTEXTCOLOR(HVar5,(COLORREF)((ulong)param_1 << 0x10));
  uVar13 = 0xf;
  valist = (VA_LIST16)param_1;
  CVar12 = GETSYSCOLOR((int16)CONCAT412(in_stack_0000ffc8,
                                        CONCAT210(in_stack_0000ffc6,
                                                  CONCAT28(iVar4,CONCAT26(unaff_DI,CONCAT24(unaff_SI
                                                  ,CONCAT22(param_1,0xf)))))));
  CVar12 = SETBKCOLOR((HDC16)CVar12.value,CONCAT22(uVar13,(int)(CVar12.value >> 0x10)));
  _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x49f210a8,(LPCSTR)CONCAT22(iVar4,0x10a8),valist);
  FUN_1018_5580(param_1,(int *)&stack0xffe6,(LPCSTR)0xffff86de,
                (int16)CONCAT214(in_stack_0000ffcc,
                                 CONCAT410(in_stack_0000ffc8,
                                           CONCAT28(in_stack_0000ffc6,
                                                    CONCAT26(iVar4,CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,valist)))))));
  SETTEXTCOLOR(0,(COLORREF)((ulong)param_1 << 0x10));
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,param_1,(HRGN16)valist,unaff_SI,
               (int16)CONCAT214(in_stack_0000ffd0,
                                CONCAT212(in_stack_0000ffce,
                                          CONCAT210(in_stack_0000ffcc,
                                                    CONCAT46(in_stack_0000ffc8,
                                                             CONCAT24(in_stack_0000ffc6,
                                                                      CONCAT22(iVar4,unaff_DI)))))))
  ;
  dVar10 = GETTEXTEXTENT(0xb,s_Points_Left_10a8_49f5,
                         (int16)CONCAT412(in_stack_0000ffc8,
                                          CONCAT210(in_stack_0000ffc6,
                                                    CONCAT28(iVar4,CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(valist,param_1)))))));
  iVar6 = (int)dVar10;
  FUN_1018_55f6(param_1,iVar7,3,(int)s_Advantage_10a8_4a01,(int16 *)0x9,0,CONCAT22(unaff_SI,valist),
                unaff_DI,CONCAT212(in_stack_0000ffd0,
                                   CONCAT210(in_stack_0000ffce,
                                             CONCAT28(in_stack_0000ffcc,
                                                      CONCAT44(in_stack_0000ffc8,
                                                               CONCAT22(in_stack_0000ffc6,iVar4)))))
               );
  FUN_1018_55f6(param_1,iVar7,(int)(PTR_DAT_10a8_0000_10a8_5794 + 3),(int)s_Points_Left_10a8_4a0b,
                (int16 *)0xb,0,CONCAT22(unaff_SI,valist),unaff_DI,
                CONCAT212(in_stack_0000ffd0,
                          CONCAT210(in_stack_0000ffce,
                                    CONCAT28(in_stack_0000ffcc,
                                             CONCAT44(in_stack_0000ffc8,
                                                      CONCAT22(in_stack_0000ffc6,iVar4))))));
  HVar5 = (HDC16)CVar12.value;
  iVar7 = iVar7 - (iVar6 + 4);
  PATBLT(0x42,(int16)CONCAT214(unaff_SI,CONCAT212(valist,CONCAT210(param_1,CONCAT28(iVar7 + -1,
                                                                                    (qword)CONCAT24(
                                                  1,(ulong)(iVar3 + 1) << 0x10))))),
         (int16)CONCAT214(in_stack_0000ffd0,
                          CONCAT212(in_stack_0000ffce,
                                    CONCAT210(in_stack_0000ffcc,
                                              CONCAT46(in_stack_0000ffc8,
                                                       CONCAT24(in_stack_0000ffc6,
                                                                CONCAT22(iVar4,unaff_DI)))))),
         (int16)CONCAT142(in_stack_0000ffd4,in_stack_0000ffd2),
         (int16)CONCAT214(__return_storage_ptr__,
                          CONCAT212(__return_storage_ptr___00,
                                    CONCAT210(iVar3,CONCAT28(iVar15,CONCAT26(iVar14,CONCAT24(iVar7,
                                                  in_stack_0000ffe2)))))),CONCAT22(HVar5,iVar6));
  PATBLT(0x42,(int16)CONCAT214(unaff_SI,CONCAT212(valist,CONCAT210(param_1,CONCAT28(iVar7 + -4,
                                                                                    (qword)CONCAT24(
                                                  2,(ulong)(iVar3 + 4) << 0x10))))),
         (int16)CONCAT214(in_stack_0000ffd0,
                          CONCAT212(in_stack_0000ffce,
                                    CONCAT210(in_stack_0000ffcc,
                                              CONCAT46(in_stack_0000ffc8,
                                                       CONCAT24(in_stack_0000ffc6,
                                                                CONCAT22(iVar4,unaff_DI)))))),
         (int16)CONCAT142(in_stack_0000ffd4,in_stack_0000ffd2),
         (int16)CONCAT214(__return_storage_ptr__,
                          CONCAT212(__return_storage_ptr___00,
                                    CONCAT210(iVar3,CONCAT28(iVar15,CONCAT26(iVar14,CONCAT24(iVar7,
                                                  in_stack_0000ffe2)))))),CONCAT22(HVar5,iVar6));
  PATBLT(0x42,(int16)CONCAT214(unaff_SI,CONCAT212(valist,CONCAT210(param_1,CONCAT28(iVar7,CONCAT26(
                                                  iVar3,CONCAT24(iVar15 - iVar7,0x10000)))))),
         (int16)CONCAT214(in_stack_0000ffd0,
                          CONCAT212(in_stack_0000ffce,
                                    CONCAT210(in_stack_0000ffcc,
                                              CONCAT46(in_stack_0000ffc8,
                                                       CONCAT24(in_stack_0000ffc6,
                                                                CONCAT22(iVar4,unaff_DI)))))),
         (int16)CONCAT142(in_stack_0000ffd4,in_stack_0000ffd2),
         (int16)CONCAT214(__return_storage_ptr__,
                          CONCAT212(__return_storage_ptr___00,
                                    CONCAT210(iVar3,CONCAT28(iVar15,CONCAT26(iVar14,CONCAT24(iVar7,
                                                  in_stack_0000ffe2)))))),CONCAT22(HVar5,iVar6));
  PATBLT(0x42,(int16)CONCAT214(unaff_SI,CONCAT212(valist,CONCAT210(param_1,CONCAT28(iVar7 + -2,
                                                                                    CONCAT26(iVar3 +
                                                                                             2,
                                                  CONCAT24((iVar15 - iVar7) + 2,0x20000)))))),
         (int16)CONCAT214(in_stack_0000ffd0,
                          CONCAT212(in_stack_0000ffce,
                                    CONCAT210(in_stack_0000ffcc,
                                              CONCAT46(in_stack_0000ffc8,
                                                       CONCAT24(in_stack_0000ffc6,
                                                                CONCAT22(iVar4,unaff_DI)))))),
         (int16)CONCAT142(in_stack_0000ffd4,in_stack_0000ffd2),
         (int16)CONCAT214(__return_storage_ptr__,
                          CONCAT212(__return_storage_ptr___00,
                                    CONCAT210(iVar3,CONCAT28(iVar15,CONCAT26(iVar14,CONCAT24(iVar7,
                                                  in_stack_0000ffe2)))))),CONCAT22(HVar5,iVar6));
  local_a = (undefined2)(CVar12.value >> 0x10);
  SETBKCOLOR(HVar5,(COLORREF)CONCAT22(param_1,local_a));
  SETTEXTCOLOR((HDC16)CVar11.value,(COLORREF)CONCAT22(param_1,(int)(CVar11.value >> 0x10)));
  SETBKMODE(__return_storage_ptr___01,param_1,
            (int16)CONCAT214(in_stack_0000ffcc,
                             CONCAT410(in_stack_0000ffc8,
                                       CONCAT28(in_stack_0000ffc6,
                                                CONCAT26(iVar4,CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  valist)))))));
  SELECTOBJECT(__return_storage_ptr___00,param_1,(HRGN16)valist,unaff_SI,
               (int16)CONCAT214(in_stack_0000ffd0,
                                CONCAT212(in_stack_0000ffce,
                                          CONCAT210(in_stack_0000ffcc,
                                                    CONCAT46(in_stack_0000ffc8,
                                                             CONCAT24(in_stack_0000ffc6,
                                                                      CONCAT22(iVar4,unaff_DI)))))))
  ;
  DELETEOBJECT((HGDIOBJ16)__return_storage_ptr__);
  LOCALFREE((HLOCAL16)plf16);
  return;
}



undefined2 __cdecl16far FUN_1078_298a(char *param_1,undefined2 *param_2)

{
  undefined2 *puVar1;
  undefined4 *puVar2;
  char *pcVar3;
  undefined2 *puVar4;
  undefined4 *puVar5;
  bool16 bVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  undefined4 *puVar10;
  undefined2 *puVar11;
  undefined4 *puVar12;
  char *pcVar13;
  undefined2 *puVar14;
  undefined2 unaff_SS;
  undefined4 local_34a;
  undefined local_24a;
  undefined2 local_14a [128];
  undefined2 local_4a;
  undefined2 local_48;
  undefined *local_46;
  undefined4 *local_42;
  int local_16;

  if (param_1 == (char *)0x0) {
    local_14a[0]._0_1_ = 0;
  }
  else {
    puVar14 = local_14a;
    uVar7 = 0xffff;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar3 = param_1;
      param_1 = param_1 + 1;
    } while (*pcVar3 != '\0');
    uVar7 = ~uVar7;
    puVar11 = (undefined2 *)(param_1 + -uVar7);
    for (uVar8 = uVar7 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
      puVar4 = puVar14;
      puVar14 = puVar14 + 1;
      puVar1 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar4 = *puVar1;
    }
    for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
      puVar4 = puVar14;
      puVar14 = (undefined2 *)((int)puVar14 + 1);
      puVar1 = puVar11;
      puVar11 = (undefined2 *)((int)puVar11 + 1);
      *(undefined *)puVar4 = *(undefined *)puVar1;
    }
  }
  local_24a = 0;
  puVar12 = &local_34a;
  puVar10 = (undefined4 *)s_Stars__Race_Files___R___10a8_4a17;
  for (iVar9 = 6; iVar9 != 0; iVar9 = iVar9 + -1) {
    puVar5 = puVar12;
    puVar12 = puVar12 + 1;
    puVar2 = puVar10;
    puVar10 = puVar10 + 1;
    *puVar5 = *puVar2;
  }
  iVar9 = 0;
  while ((char)local_34a != '\0') {
    if (*(char *)((int)&local_34a + iVar9) == '|') {
      *(undefined *)((int)&local_34a + iVar9) = 0;
    }
    local_34a._0_1_ = *(char *)((int)&local_34a + iVar9 + 1);
    iVar9 = iVar9 + 1;
  }
  puVar12 = (undefined4 *)&local_4a;
  for (iVar9 = 0x12; iVar9 != 0; iVar9 = iVar9 + -1) {
    puVar2 = puVar12;
    puVar12 = puVar12 + 1;
    *puVar2 = 0;
  }
  local_4a = 0x48;
  local_48 = 0;
  local_46 = PTR_DAT_10a8_0000_10a8_7acc;
  local_42 = &local_34a;
  bVar6 = GETSAVEFILENAME(CONCAT22(unaff_SS,&local_4a));
  if (bVar6 != 0) {
    iVar9 = FUN_1040_3e38(0xffff0005,(int)local_14a);
    if (iVar9 != 0) {
      FUN_1040_2086(param_2,(undefined2 *)0x0);
      FUN_1040_422c(0,(uint16 *)0x0,0);
      FUN_1040_1f9c();
      pcVar13 = (char *)((int)local_14a + local_16);
      uVar7 = 0xffff;
      do {
        if (uVar7 == 0) break;
        uVar7 = uVar7 - 1;
        pcVar3 = pcVar13;
        pcVar13 = pcVar13 + 1;
      } while (*pcVar3 != '\0');
      uVar7 = ~uVar7;
      puVar14 = (undefined2 *)(pcVar13 + -uVar7);
      puVar11 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_48ca;
      for (uVar8 = uVar7 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
        puVar4 = puVar11;
        puVar11 = puVar11 + 1;
        puVar1 = puVar14;
        puVar14 = puVar14 + 1;
        *puVar4 = *puVar1;
      }
      for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
        puVar4 = puVar11;
        puVar11 = (undefined2 *)((int)puVar11 + 1);
        puVar1 = puVar14;
        puVar14 = (undefined2 *)((int)puVar14 + 1);
        *(undefined *)puVar4 = *(undefined *)puVar1;
      }
      return 1;
    }
    FUN_1018_50b2(0xc0,0x10);
  }
  return 0;
}



void __cdecl16far FUN_1078_2aea(undefined2 param_1,VA_LIST16 param_2)

{
  undefined2 unaff_SS;
  VA_LIST16 in_stack_0000ffcc;

  FUN_1018_50de((uint)(PTR_DAT_10a8_0000_10a8_83aa + 0xc2),&stack0xffcc);
  _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xffcc,0x10a8),
            (LPCSTR)CONCAT22(param_2,unaff_SS),in_stack_0000ffcc);
  SETWINDOWTEXT((HWND16)&DAT_10a8_86de,CONCAT22(param_1,0x10a8));
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1078_2b26(undefined4 *param_1)

{
  byte *pbVar1;
  undefined2 *puVar2;
  undefined4 *puVar3;
  byte *pbVar4;
  char *pcVar5;
  undefined2 *puVar6;
  undefined4 *puVar7;
  ulong uVar8;
  char cVar9;
  uint uVar10;
  undefined2 uVar11;
  int iVar12;
  byte *pbVar13;
  int iVar14;
  uint uVar15;
  int iVar16;
  undefined2 *puVar17;
  undefined2 unaff_SI;
  undefined *puVar18;
  undefined4 *puVar19;
  undefined4 *puVar20;
  undefined2 unaff_DI;
  char *pcVar21;
  byte *pbVar22;
  undefined2 *puVar23;
  undefined2 unaff_SS;
  bool bVar24;
  bool bVar25;
  undefined4 uVar26;
  undefined4 local_84 [3];
  undefined4 local_78 [21];
  char local_22 [20];
  int local_e;
  int local_c;
  undefined4 local_a;
  undefined2 local_6;
  int local_4;

  uVar26 = CONCAT22(unaff_DI,unaff_SI);
  uVar10 = FUN_1018_4a4a(0x19);
  if ((int)uVar10 < 4) {
    puVar18 = (undefined *)((int)param_1 + 0x16);
    iVar16 = 3;
    do {
      *puVar18 = 0xff;
      puVar18[-3] = 0xff;
      puVar18[-6] = 0xff;
      puVar18 = puVar18 + 1;
      iVar16 = iVar16 + -1;
    } while (iVar16 != 0);
    iVar16 = 4;
  }
  else {
    if ((int)uVar10 < 7) {
      puVar20 = param_1 + 4;
      iVar16 = 3;
      do {
        *(undefined *)puVar20 = 0x32;
        *(undefined *)((int)puVar20 + 3) = 0;
        *(undefined *)((int)puVar20 + 6) = 100;
        puVar20 = (undefined4 *)((int)puVar20 + 1);
        iVar16 = iVar16 + -1;
      } while (iVar16 != 0);
      uVar11 = FUN_1018_4a4a(4);
      cVar9 = (char)uVar11 + '\x03';
      goto LAB_1078_2cc2;
    }
    if (8 < (int)uVar10) {
      local_a = local_a & 0xffff0000 | (ulong)uVar10;
      puVar20 = param_1 + 4;
      local_4 = 3;
      do {
        iVar16 = FUN_1018_4a4a(0x2d);
        local_a = local_a & 0xffff | (ulong)(uint)(iVar16 * 2) << 0x10;
        uVar11 = FUN_1018_4a4a(-(iVar16 * 2 - 0x65U));
        cVar9 = (char)uVar11;
        *(char *)puVar20 = (char)(local_a._2_2_ / 2) + cVar9;
        *(char *)((int)puVar20 + 3) = cVar9;
        *(char *)((int)puVar20 + 6) = cVar9 + local_a._2_1_;
        puVar20 = (undefined4 *)((int)puVar20 + 1);
        local_4 = local_4 + -1;
      } while (local_4 != 0);
      if ((int)local_a < 0xc) {
        iVar16 = FUN_1018_4a4a(3);
        *(undefined *)((int)param_1 + iVar16 + 0x16) = 0xff;
        *(undefined *)((int)param_1 + iVar16 + 0x13) = 0xff;
        *(undefined *)((int)param_1 + iVar16 + 0x10) = 0xff;
      }
      else if ((int)local_a < 0xe) {
        iVar16 = FUN_1018_4a4a(3);
        *(undefined *)((int)param_1 + iVar16 + 0x10) = 0x32;
        *(undefined *)((int)param_1 + iVar16 + 0x13) = 0;
        *(undefined *)((int)param_1 + iVar16 + 0x16) = 100;
      }
      else if ((int)local_a < 0x11) {
        iVar16 = FUN_1018_4a4a(3);
        uVar10 = FUN_1018_4a4a(0x5b);
        local_a = local_a & 0xffff | (ulong)uVar10 << 0x10;
        cVar9 = (char)uVar10;
        *(char *)((int)param_1 + iVar16 + 0x10) = cVar9 + '\x05';
        *(char *)((int)param_1 + iVar16 + 0x13) = cVar9;
        *(char *)((int)param_1 + iVar16 + 0x16) = cVar9 + '\n';
      }
      uVar11 = FUN_1018_4a4a(9);
      cVar9 = (char)uVar11 + '\a';
      goto LAB_1078_2cc2;
    }
    iVar16 = 0;
    do {
      uVar10 = FUN_1018_4a4a(2);
      uVar8 = local_a & 0xffff;
      local_a = uVar8 | (ulong)uVar10 << 0x10;
      if ((iVar16 == 2) && (*(char *)(param_1 + 4) == *(char *)((int)param_1 + 0x11))) {
        local_a._0_2_ = (int)uVar8;
        local_a = (ulong)CONCAT12(*(char *)(param_1 + 4) != '\0',(int)local_a);
      }
      if (local_a._2_2_ == 0) {
        *(undefined *)((int)param_1 + iVar16 + 0x10) = 0x32;
        *(undefined *)((int)param_1 + iVar16 + 0x13) = 0;
        *(undefined *)((int)param_1 + iVar16 + 0x16) = 100;
      }
      else {
        uVar11 = FUN_1018_4a4a(4);
        *(char *)((int)param_1 + 0x19) = (char)uVar11 + '\x02';
      }
      iVar16 = iVar16 + 1;
    } while (iVar16 < 3);
    iVar16 = 5;
  }
  uVar11 = FUN_1018_4a4a(iVar16);
  cVar9 = (char)uVar11 + '\x02';
LAB_1078_2cc2:
  *(char *)((int)param_1 + 0x19) = cVar9;
  uVar10 = FUN_1018_4a4a(3);
  local_6 = 8;
  local_a = local_a & 0xffff0000 | (ulong)uVar10;
  iVar16 = 8;
  do {
    if (uVar10 == 0) {
      local_4 = 1;
    }
    else {
      local_4 = FUN_1018_4a4a(3);
    }
    FUN_1078_1d54((int)param_1,iVar16,local_4);
    iVar16 = iVar16 + 1;
  } while (iVar16 < 0xe);
  uVar10 = FUN_1018_4a4a(4);
  iVar16 = 0;
  local_a = local_a & 0xffff0000 | (ulong)uVar10;
  do {
    if (uVar10 == 0) {
      local_4 = 0;
    }
    else {
      local_4 = FUN_1018_4a4a(2);
    }
    FUN_1078_1da8((int)param_1,(char)iVar16,local_4);
    iVar16 = iVar16 + 1;
  } while (iVar16 < 0x15);
  iVar16 = FUN_1018_4a4a(3);
  iVar12 = FUN_1018_4a4a(2);
  FUN_1078_1da8((int)param_1,'\x1f',iVar12);
  if (iVar16 == 0) {
    puVar18 = (undefined *)((int)param_1 + 0x32);
    do {
      *puVar18 = *(undefined *)(iVar16 + 0x44a0);
      iVar16 = iVar16 + 1;
      puVar18 = puVar18 + 1;
    } while (iVar16 < 7);
    uVar11 = FUN_1018_4a4a(5);
    *(undefined *)((int)param_1 + 0x39) = (char)uVar11;
  }
  else {
    iVar16 = 0;
    pcVar21 = (char *)((int)param_1 + 0x32);
    do {
      cVar9 = *(char *)(iVar16 + 0x2f8);
      uVar11 = FUN_1018_4a4a(((int)*(char *)(iVar16 + 0x2ea) - (int)cVar9) + 1);
      *pcVar21 = (char)uVar11 + cVar9;
      pcVar21 = pcVar21 + 1;
      iVar16 = iVar16 + 1;
    } while (iVar16 < 8);
  }
  pbVar13 = (byte *)((int)param_1 + 0x56);
  iVar12 = 7;
  pbVar22 = (byte *)s_Random_10a8_4a32;
  bVar24 = false;
  iVar16 = 0;
  bVar25 = true;
  do {
    if (iVar12 == 0) break;
    iVar12 = iVar12 + -1;
    pbVar4 = pbVar22;
    pbVar22 = pbVar22 + 1;
    pbVar1 = pbVar13;
    pbVar13 = pbVar13 + 1;
    bVar24 = *pbVar1 < *pbVar4;
    bVar25 = *pbVar1 == *pbVar4;
  } while (bVar25);
  if (!bVar25) {
    iVar16 = (1 - (uint)bVar24) - (uint)(bVar24 != 0);
  }
  if (iVar16 == 0) {
    iVar16 = FUN_1018_4a4a(0x18);
    pcVar21 = *(char **)(iVar16 * 2 + 0x4864);
    puVar17 = (undefined2 *)((int)param_1 + 0x56);
    uVar10 = 0xffff;
    do {
      if (uVar10 == 0) break;
      uVar10 = uVar10 - 1;
      pcVar5 = pcVar21;
      pcVar21 = pcVar21 + 1;
    } while (*pcVar5 != '\0');
    uVar10 = ~uVar10;
    puVar23 = (undefined2 *)(pcVar21 + -uVar10);
    for (uVar15 = uVar10 >> 1; uVar15 != 0; uVar15 = uVar15 - 1) {
      puVar6 = puVar17;
      puVar17 = puVar17 + 1;
      puVar2 = puVar23;
      puVar23 = puVar23 + 1;
      *puVar6 = *puVar2;
    }
    for (uVar10 = (uint)((uVar10 & 1) != 0); uVar10 != 0; uVar10 = uVar10 - 1) {
      puVar6 = puVar17;
      puVar17 = (undefined2 *)((int)puVar17 + 1);
      puVar2 = puVar23;
      puVar23 = (undefined2 *)((int)puVar23 + 1);
      *(undefined *)puVar6 = *(undefined *)puVar2;
    }
  }
  iVar16 = FUN_1078_2274((int)param_1,uVar26);
  if ((iVar16 < 0) || (0x32 < iVar16)) {
    local_e = 0;
LAB_1078_2e2f:
    iVar12 = FUN_1078_2274((int)param_1,uVar26);
    iVar16 = local_e;
    if ((-1 < iVar12) && (iVar12 < 0x33)) {
      return;
    }
    local_e = local_e + 1;
    if (iVar16 < 0xfb) {
      local_c = iVar12 + -0x32;
      if (SBORROW2(local_c,-iVar12) != local_c + iVar12 < 0) {
        local_c = -iVar12;
      }
      uVar10 = FUN_1018_4a4a(10);
      local_a = local_a & 0xffff0000 | (ulong)uVar10;
      if ((int)uVar10 < 3) {
        iVar16 = FUN_1018_4a4a(6);
        uVar10 = (uint)*(char *)((int)param_1 + iVar16 + 0x3a);
        local_a = local_a & 0xffff | (ulong)uVar10 << 0x10;
        if (0 < (int)uVar10) goto code_r0x10782e91;
        goto LAB_1078_2ebd;
      }
      if ((int)uVar10 < 6) {
        uVar10 = FUN_1018_4a4a(0x16);
        local_a = local_a & 0xffff0000 | (ulong)uVar10;
        uVar10 = FUN_1078_1d84((int)param_1,(byte)uVar10);
        local_a = local_a & 0xffff | (ulong)uVar10 << 0x10;
        iVar16 = 0;
        do {
          FUN_1078_1da8((int)param_1,(char)local_a,iVar16);
          iVar14 = FUN_1078_2274((int)param_1,uVar26);
          iVar12 = iVar14 + -0x32;
          if (SBORROW2(iVar12,-iVar14) != iVar12 + iVar14 < 0) {
            iVar12 = -iVar14;
          }
        } while ((local_c <= iVar12) && (iVar16 = iVar16 + 1, iVar16 < 2));
        if (1 < iVar16) {
          FUN_1078_1da8((int)param_1,(char)local_a,(int)(local_a >> 0x10));
        }
      }
      else {
        if ((int)uVar10 < 9) {
          uVar10 = FUN_1018_4a4a(7);
          local_a = local_a & 0xffff0000 | (ulong)uVar10;
          uVar10 = FUN_1078_1d42((int)param_1,uVar10);
          local_a = local_a & 0xffff | (ulong)uVar10 << 0x10;
          iVar16 = -1;
          do {
            FUN_1078_1d54((int)param_1,(int)local_a,local_a._2_2_ + iVar16);
            iVar14 = FUN_1078_2274((int)param_1,uVar26);
            iVar12 = iVar14 + -0x32;
            if (SBORROW2(iVar12,-iVar14) != iVar12 + iVar14 < 0) {
              iVar12 = -iVar14;
            }
          } while ((local_c <= iVar12) && (iVar16 = iVar16 + 2, iVar16 < 2));
          if (1 < iVar16) {
            FUN_1078_1d54((int)param_1,(int)local_a,(int)(local_a >> 0x10));
          }
          goto LAB_1078_2e2f;
        }
        iVar16 = FUN_1018_4a4a(2);
        if (iVar16 != 0) {
          cVar9 = *(char *)((int)param_1 + 0x19);
          if ('\x01' < cVar9) {
            *(char *)((int)param_1 + 0x19) = cVar9 + -1;
            iVar12 = FUN_1078_2274((int)param_1,uVar26);
            iVar16 = iVar12 + -0x32;
            if (SBORROW2(iVar16,-iVar12) != iVar16 + iVar12 < 0) {
              iVar16 = -iVar12;
            }
            if (iVar16 < local_c) goto LAB_1078_2e2f;
          }
          if (cVar9 < '\x0f') {
            *(char *)((int)param_1 + 0x19) = cVar9 + '\x01';
            iVar12 = FUN_1078_2274((int)param_1,uVar26);
            iVar16 = iVar12 + -0x32;
            if (SBORROW2(iVar16,-iVar12) != iVar16 + iVar12 < 0) {
              iVar16 = -iVar12;
            }
            if (iVar16 < local_c) goto LAB_1078_2e2f;
          }
          *(char *)((int)param_1 + 0x19) = cVar9;
          goto LAB_1078_2e2f;
        }
        uVar10 = FUN_1018_4a4a(3);
        local_a = local_a & 0xffff0000 | (ulong)uVar10;
        if (*(char *)((int)param_1 + uVar10 + 0x10) == -1) {
          uVar11 = FUN_1018_4a4a(0x1f);
          cVar9 = (char)uVar11;
          *(char *)((int)param_1 + (int)local_a + 0x10) = cVar9 + '#';
          *(char *)((int)param_1 + (int)local_a + 0x13) = cVar9;
          *(char *)((int)param_1 + (int)local_a + 0x16) = cVar9 + 'F';
          iVar12 = FUN_1078_2274((int)param_1,uVar26);
          iVar16 = iVar12 + -0x32;
          if (SBORROW2(iVar16,-iVar12) != iVar16 + iVar12 < 0) {
            iVar16 = -iVar12;
          }
          if (local_c <= iVar16) {
            *(undefined *)((int)param_1 + (int)local_a + 0x16) = 0xff;
            *(undefined *)((int)param_1 + (int)local_a + 0x13) = 0xff;
            *(undefined *)((int)param_1 + (int)local_a + 0x10) = 0xff;
          }
        }
        else {
          puVar20 = local_84;
          puVar19 = param_1;
          for (iVar16 = 0x1d; iVar16 != 0; iVar16 = iVar16 + -1) {
            puVar7 = puVar20;
            puVar20 = puVar20 + 1;
            puVar3 = puVar19;
            puVar19 = puVar19 + 1;
            *puVar7 = *puVar3;
          }
          *(undefined2 *)puVar20 = *(undefined2 *)puVar19;
          *(undefined *)((int)param_1 + (int)local_a + 0x16) = 0xff;
          *(undefined *)((int)param_1 + (int)local_a + 0x13) = 0xff;
          *(undefined *)((int)param_1 + (int)local_a + 0x10) = 0xff;
          local_4 = FUN_1078_2274((int)param_1,uVar26);
          iVar16 = local_4 + -0x32;
          if (SBORROW2(iVar16,-local_4) != iVar16 + local_4 < 0) {
            iVar16 = -local_4;
          }
          if (local_c <= iVar16) {
            puVar20 = local_84;
            puVar19 = param_1;
            for (iVar16 = 0x1d; iVar16 != 0; iVar16 = iVar16 + -1) {
              puVar7 = puVar19;
              puVar19 = puVar19 + 1;
              puVar3 = puVar20;
              puVar20 = puVar20 + 1;
              *puVar7 = *puVar3;
            }
            *(undefined2 *)puVar19 = *(undefined2 *)puVar20;
          }
        }
      }
      goto LAB_1078_2e2f;
    }
    puVar20 = local_78;
    puVar19 = param_1;
    for (iVar16 = 0x1d; iVar16 != 0; iVar16 = iVar16 + -1) {
      puVar7 = puVar20;
      puVar20 = puVar20 + 1;
      puVar3 = puVar19;
      puVar19 = puVar19 + 1;
      *puVar7 = *puVar3;
    }
    *(undefined2 *)puVar20 = *(undefined2 *)puVar19;
    puVar20 = (undefined4 *)&DAT_10a8_446e;
    puVar19 = param_1;
    for (iVar16 = 0x1d; iVar16 != 0; iVar16 = iVar16 + -1) {
      puVar7 = puVar19;
      puVar19 = puVar19 + 1;
      puVar3 = puVar20;
      puVar20 = puVar20 + 1;
      *puVar7 = *puVar3;
    }
    *(undefined2 *)puVar19 = *(undefined2 *)puVar20;
    puVar17 = (undefined2 *)((int)param_1 + 0x56);
    pcVar21 = local_22;
    uVar10 = 0xffff;
    do {
      if (uVar10 == 0) break;
      uVar10 = uVar10 - 1;
      pcVar5 = pcVar21;
      pcVar21 = pcVar21 + 1;
    } while (*pcVar5 != '\0');
    uVar10 = ~uVar10;
    puVar23 = (undefined2 *)(pcVar21 + -uVar10);
    for (uVar15 = uVar10 >> 1; uVar15 != 0; uVar15 = uVar15 - 1) {
      puVar6 = puVar17;
      puVar17 = puVar17 + 1;
      puVar2 = puVar23;
      puVar23 = puVar23 + 1;
      *puVar6 = *puVar2;
    }
    for (uVar10 = (uint)((uVar10 & 1) != 0); uVar10 != 0; uVar10 = uVar10 - 1) {
      puVar6 = puVar17;
      puVar17 = (undefined2 *)((int)puVar17 + 1);
      puVar2 = puVar23;
      puVar23 = (undefined2 *)((int)puVar23 + 1);
      *(undefined *)puVar6 = *(undefined *)puVar2;
    }
  }
  return;
code_r0x10782e91:
  pcVar5 = (char *)((int)param_1 + iVar16 + 0x3a);
  *pcVar5 = *pcVar5 + -1;
  local_4 = FUN_1078_2274((int)param_1,uVar26);
  iVar12 = local_4 + -0x32;
  if (SBORROW2(iVar12,-local_4) != iVar12 + local_4 < 0) {
    iVar12 = -local_4;
  }
  if (local_c <= iVar12) {
    *(undefined *)((int)param_1 + iVar16 + 0x3a) = local_a._2_1_;
LAB_1078_2ebd:
    if (local_a._2_2_ < 2) {
      pcVar5 = (char *)((int)param_1 + iVar16 + 0x3a);
      *pcVar5 = *pcVar5 + '\x01';
      local_4 = FUN_1078_2274((int)param_1,uVar26);
      iVar12 = local_4 + -0x32;
      if (SBORROW2(iVar12,-local_4) != iVar12 + local_4 < 0) {
        iVar12 = -local_4;
      }
      if (local_c <= iVar12) {
        *(undefined *)((int)param_1 + iVar16 + 0x3a) = local_a._2_1_;
      }
    }
  }
  goto LAB_1078_2e2f;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1080_0000(uint param_1)

{
  byte bVar1;
  undefined *puVar2;
  undefined2 uVar3;
  void *func;
  undefined local_806 [2050];
  HINSTANCE16 local_4;

                    // Segment:    17
                    // Offset:     0004da00
                    // Length:     1478
                    // Min Alloc:  1478
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  PTR_DAT_10a8_0000_10a8_579e = local_806;
  PTR_DAT_10a8_0000_10a8_5920 = (undefined *)0xffff;
  if ((DAT_10a8_0a48 & 6) < 4) {
    PTR_DAT_10a8_0000_10a8_591a = (undefined *)0x161;
    PTR_DAT_10a8_0000_10a8_5750 = (undefined *)&PTR_DAT_10a8_0000_10a8_0020;
  }
  else {
    PTR_DAT_10a8_0000_10a8_591a = (undefined *)0x2a1;
    PTR_DAT_10a8_0000_10a8_5750 = (undefined *)&PTR_DAT_10a8_0000_10a8_0040;
  }
  uVar3 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_4444 >> 0x10);
  bVar1 = *_PTR_DAT_10a8_0000_10a8_4444;
  _PTR_DAT_10a8_0000_10a8_83a6 = _PTR_DAT_10a8_0000_10a8_4444;
  while (bVar1 != param_1) {
    _PTR_DAT_10a8_0000_10a8_83a6 =
         (byte *)((ulong)_PTR_DAT_10a8_0000_10a8_83a6 & 0xffff0000 |
                 ZEXT24(PTR_DAT_10a8_0000_10a8_83a6 + *(int *)(PTR_DAT_10a8_0000_10a8_83a6 + 6)));
    bVar1 = PTR_DAT_10a8_0000_10a8_83a6[*(int *)(PTR_DAT_10a8_0000_10a8_83a6 + 6)];
  }
  PTR_DAT_10a8_0000_10a8_5780 = (undefined *)((ulong)_PTR_DAT_10a8_0000_10a8_83a6 >> 0x10);
  PTR_DAT_10a8_0000_10a8_577e =
       PTR_DAT_10a8_0000_10a8_83a6 + *(int *)(PTR_DAT_10a8_0000_10a8_83a6 + 6);
  DAT_10a8_0a48 = DAT_10a8_0a48 & 0xfe;
  puVar2 = FUN_1080_00cc((undefined *)0x7530);
  PTR_DAT_10a8_0000_10a8_571a = puVar2 + -1;
  FUN_1080_00cc((undefined *)0xffff);
  func = MAKEPROCINSTANCE((void *)CONCAT22(0x234,PTR_DAT_10a8_0000_10a8_839a),0x1080);
  local_4 = (HINSTANCE16)((ulong)func >> 0x10);
  DIALOGBOX((int16 *)func,local_4,(LPCSTR)CONCAT22(0xa0,PTR_DAT_10a8_0000_10a8_58b4),0,
            PTR_DAT_10a8_0000_10a8_839a);
  FREEPROCINSTANCE(func);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined * __cdecl16far FUN_1080_00cc(undefined *param_1)

{
  undefined4 *puVar1;
  byte *pbVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  undefined2 uVar6;
  int local_6;
  int local_4;

  if ((PTR_DAT_10a8_0000_10a8_5920 == param_1) &&
     (PTR_DAT_10a8_0000_10a8_5920 != (undefined *)0xffff)) {
    return param_1;
  }
  if (((int)param_1 < (int)PTR_DAT_10a8_0000_10a8_5920) ||
     (PTR_DAT_10a8_0000_10a8_5920 == (undefined *)0xffff)) {
    local_4 = 0;
    uVar6 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_83a6 >> 0x10);
    if (*(char *)((int)_PTR_DAT_10a8_0000_10a8_83a6 + 2) != '\0') {
      local_6 = 0;
      do {
        puVar1 = (undefined4 *)(PTR_DAT_10a8_0000_10a8_579e + local_6);
        *puVar1 = *(undefined4 *)(PTR_DAT_10a8_0000_10a8_83a6 + local_6 + 0xe);
        puVar1[1] = *(undefined4 *)(PTR_DAT_10a8_0000_10a8_83a6 + local_6 + 0x12);
        local_6 = local_6 + 8;
        uVar6 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_83a6 >> 0x10);
        local_4 = local_4 + 1;
      } while (local_4 < (int)(uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_83a6 + 2));
    }
    PTR_DAT_10a8_0000_10a8_5920 = (undefined *)0xffff;
    PTR_DAT_10a8_0000_10a8_84d8 = (undefined *)0x0;
    PTR_DAT_10a8_0000_10a8_8392._0_1_ = PTR_DAT_10a8_0000_10a8_579e[4];
    _PTR_DAT_10a8_0000_10a8_5916 =
         (byte *)CONCAT22(uVar6,PTR_DAT_10a8_0000_10a8_83a6 +
                                (uint)(byte)PTR_DAT_10a8_0000_10a8_83a6[2] * 8 + 0xe);
  }
  while (((int)PTR_DAT_10a8_0000_10a8_5920 < (int)param_1 &&
         (PTR_DAT_10a8_0000_10a8_5916 < PTR_DAT_10a8_0000_10a8_577e))) {
    if (-1 < (int)PTR_DAT_10a8_0000_10a8_5920) {
      iVar4 = 0;
      uVar6 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_5916 >> 0x10);
      if (PTR_DAT_10a8_0000_10a8_5916[3] != '\0') {
        iVar5 = 0;
        do {
          piVar3 = (int *)(PTR_DAT_10a8_0000_10a8_579e +
                          (uint)(byte)PTR_DAT_10a8_0000_10a8_5916[iVar5 + 6] * 8 + 6);
          *piVar3 = *piVar3 - *(int *)(PTR_DAT_10a8_0000_10a8_5916 + iVar5 + 7);
          iVar5 = iVar5 + 3;
          iVar4 = iVar4 + 1;
        } while (iVar4 < (int)(uint)(byte)PTR_DAT_10a8_0000_10a8_5916[3]);
      }
      pbVar2 = PTR_DAT_10a8_0000_10a8_5916 + 3;
      _PTR_DAT_10a8_0000_10a8_5916 =
           (byte *)((ulong)_PTR_DAT_10a8_0000_10a8_5916 & 0xffff0000 |
                   ZEXT24(PTR_DAT_10a8_0000_10a8_5916 + (*pbVar2 + 2) * 3));
    }
    if (PTR_DAT_10a8_0000_10a8_5916 < PTR_DAT_10a8_0000_10a8_577e) {
      PTR_DAT_10a8_0000_10a8_579e[(uint)*_PTR_DAT_10a8_0000_10a8_5916 * 8 + 4] =
           PTR_DAT_10a8_0000_10a8_5916[1];
      PTR_DAT_10a8_0000_10a8_8392._0_1_ =
           PTR_DAT_10a8_0000_10a8_579e[(uint)*_PTR_DAT_10a8_0000_10a8_5916 * 8 + 4];
      PTR_DAT_10a8_0000_10a8_84d8 = (undefined *)(uint)*_PTR_DAT_10a8_0000_10a8_5916;
    }
    PTR_DAT_10a8_0000_10a8_5920 = PTR_DAT_10a8_0000_10a8_5920 + 1;
  }
  FUN_1080_141e();
  return PTR_DAT_10a8_0000_10a8_5920;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __stdcall16far
VCRDLG(int param_1,int param_2,uint param_3,uint param_4,undefined *param_5)

{
  ulong uVar1;
  char cVar2;
  byte bVar3;
  int16 *piVar4;
  int iVar5;
  HWND16 HVar6;
  HWND16 HVar7;
  uint16 *puVar8;
  int iVar9;
  undefined *puVar10;
  int unaff_SI;
  undefined2 unaff_DI;
  undefined2 uVar11;
  PAINTSTRUCT16 *unaff_SS;
  undefined uVar12;
  undefined uVar13;
  undefined2 in_stack_0000ffc6;
  undefined2 in_stack_0000ffc8;
  undefined2 in_stack_0000ffca;
  undefined2 in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined4 in_stack_0000ffd0;
  word in_stack_0000ffd4;
  undefined2 in_stack_0000ffd6;
  undefined4 in_stack_0000ffd8;
  void *in_stack_0000ffdc;
  unkbyte10 in_stack_0000ffde;
  int in_stack_0000ffe8;
  undefined2 in_stack_0000ffea;
  int in_stack_0000ffec;
  int in_stack_0000ffee;
  int in_stack_0000fff0;
  int in_stack_0000fff2;
  int in_stack_0000fff4;
  undefined in_stack_0000fff6;
  undefined in_stack_0000fff7;
  HWND16 in_stack_0000fff8;
  HWND16 local_6;
  undefined2 local_4;

  uVar12 = SUB21(param_5,0);
  uVar13 = (undefined)((uint)param_5 >> 8);
  if (param_4 == 0x110) {
    PTR_DAT_10a8_0000_10a8_4ae2 = param_5;
    GETWINDOWRECT((HWND16)&stack0xffe6,(RECT16 *)CONCAT13(uVar13,CONCAT12(uVar12,unaff_SS)));
    GETCLIENTRECT((HWND16)&stack0xffee,(RECT16 *)CONCAT13(uVar13,CONCAT12(uVar12,unaff_SS)));
    iVar5 = (in_stack_0000ffec - in_stack_0000ffe8) - in_stack_0000fff4;
    HVar6 = GETDLGITEM(0xa1,(int16)CONCAT214(in_stack_0000ffce,
                                             CONCAT212(in_stack_0000ffcc,
                                                       CONCAT210(in_stack_0000ffca,
                                                                 CONCAT28(in_stack_0000ffc8,
                                                                          CONCAT26(in_stack_0000ffc6
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,param_5))))))));
    GETWINDOWRECT((HWND16)&stack0xffee,
                  (RECT16 *)CONCAT13((char)(HVar6 >> 8),CONCAT12((char)HVar6,unaff_SS)));
    SETWINDOWPOS(6,(HWND16)(PTR_DAT_10a8_0000_10a8_591a +
                           (iVar5 - in_stack_0000fff0) + in_stack_0000fff4 + 0x30),
                 (int16)CONCAT214(in_stack_0000ffc6,
                                  CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT19(uVar13,CONCAT18(
                                                  uVar12,ZEXT28(PTR_DAT_10a8_0000_10a8_591a + 0xfa))
                                                  )))),
                 (int16)CONCAT214(in_stack_0000ffd6,
                                  CONCAT212(in_stack_0000ffd4,
                                            CONCAT48(in_stack_0000ffd0,
                                                     CONCAT26(in_stack_0000ffce,
                                                              CONCAT24(in_stack_0000ffcc,
                                                                       CONCAT22(in_stack_0000ffca,
                                                                                in_stack_0000ffc8)))
                                                    ))),
                 (int16)CONCAT106(in_stack_0000ffde,CONCAT24(in_stack_0000ffdc,in_stack_0000ffd8)),
                 (int16)CONCAT115(in_stack_0000fff7,
                                  CONCAT114(in_stack_0000fff6,
                                            CONCAT212(in_stack_0000fff4,
                                                      CONCAT210(in_stack_0000fff2,
                                                                CONCAT28(in_stack_0000fff0,
                                                                         CONCAT26(in_stack_0000ffee,
                                                                                  CONCAT24(
                                                  in_stack_0000ffec,
                                                  CONCAT22(in_stack_0000ffea,in_stack_0000ffe8))))))
                                           )),in_stack_0000fff8);
    local_6 = 0;
    iVar5 = 0;
    HVar6 = in_stack_0000fff8;
    do {
      if (iVar5 < 5) {
        in_stack_0000fff8 = iVar5 + 0xa1;
      }
      else if (iVar5 == 5) {
        in_stack_0000fff8 = 1;
      }
      else if (iVar5 == 6) {
        in_stack_0000fff8 = 0x76;
      }
      HVar7 = GETDLGITEM(in_stack_0000fff8,
                         (int16)CONCAT214(in_stack_0000ffce,
                                          CONCAT212(in_stack_0000ffcc,
                                                    CONCAT210(in_stack_0000ffca,
                                                              CONCAT28(in_stack_0000ffc8,
                                                                       CONCAT26(in_stack_0000ffc6,
                                                                                CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5))))))));
      GETWINDOWRECT((HWND16)&stack0xffee,
                    (RECT16 *)CONCAT13((char)(HVar7 >> 8),CONCAT12((char)HVar7,unaff_SS)));
      MAPWINDOWPOINTS(2,(HWND16)&stack0xffee,(POINT16 *)unaff_SS,
                      (uint16)CONCAT214(in_stack_0000ffcc,
                                        CONCAT212(in_stack_0000ffca,
                                                  CONCAT210(in_stack_0000ffc8,
                                                            CONCAT28(in_stack_0000ffc6,
                                                                     CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,ZEXT24(param_5))))))));
      if ((int)PTR_DAT_10a8_0000_10a8_5750 < 0x40) {
        local_4 = (undefined *)0x0;
      }
      else {
        local_4 = (undefined *)
                  ((((((in_stack_0000fff2 - in_stack_0000ffee) + 8) * iVar5 -
                     ((in_stack_0000fff2 - in_stack_0000ffee) * 7) / 2) +
                    (int)PTR_DAT_10a8_0000_10a8_591a / 2) - in_stack_0000ffee) + -8);
      }
      OFFSETRECT((RECT16 *)
                 CONCAT22(local_4,PTR_DAT_10a8_0000_10a8_591a + (0x20 - in_stack_0000fff0)),
                 (int16)CONCAT214(in_stack_0000ffcc,
                                  CONCAT212(in_stack_0000ffca,
                                            CONCAT210(in_stack_0000ffc8,
                                                      CONCAT28(in_stack_0000ffc6,
                                                               CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT13((char)((uint)unaff_SS >> 8),
                                                           CONCAT12((char)unaff_SS,&stack0xffee)))))
                                                  ))),
                 (int16)CONCAT214(in_stack_0000ffdc,
                                  CONCAT410(in_stack_0000ffd8,
                                            CONCAT28(in_stack_0000ffd6,
                                                     CONCAT26(in_stack_0000ffd4,
                                                              CONCAT42(in_stack_0000ffd0,
                                                                       in_stack_0000ffce))))));
      HVar7 = GETDLGITEM(in_stack_0000fff8,
                         (int16)CONCAT214(in_stack_0000ffce,
                                          CONCAT212(in_stack_0000ffcc,
                                                    CONCAT210(in_stack_0000ffca,
                                                              CONCAT28(in_stack_0000ffc8,
                                                                       CONCAT26(in_stack_0000ffc6,
                                                                                CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5))))))));
      SETWINDOWPOS(5,0,(int16)CONCAT214(in_stack_0000ffc6,
                                        CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT19((char)(HVar7
                                                  >> 8),CONCAT18((char)HVar7,
                                                                 (qword)CONCAT22(in_stack_0000ffee,
                                                                                 in_stack_0000fff0)
                                                                 << 0x10))))),
                   (int16)CONCAT214(in_stack_0000ffd6,
                                    CONCAT212(in_stack_0000ffd4,
                                              CONCAT48(in_stack_0000ffd0,
                                                       CONCAT26(in_stack_0000ffce,
                                                                CONCAT24(in_stack_0000ffcc,
                                                                         CONCAT22(in_stack_0000ffca,
                                                                                  in_stack_0000ffc8)
                                                                        ))))),
                   (int16)CONCAT106(in_stack_0000ffde,CONCAT24(in_stack_0000ffdc,in_stack_0000ffd8))
                   ,(int16)CONCAT115(in_stack_0000fff7,
                                     CONCAT114(in_stack_0000fff6,
                                               CONCAT212(in_stack_0000fff4,
                                                         CONCAT210(in_stack_0000fff2,
                                                                   CONCAT28(in_stack_0000fff0,
                                                                            CONCAT26(
                                                  in_stack_0000ffee,
                                                  CONCAT24(in_stack_0000ffec,
                                                           CONCAT22(in_stack_0000ffea,
                                                                    in_stack_0000ffe8)))))))),HVar6)
      ;
      iVar5 = iVar5 + 1;
    } while (iVar5 < 7);
    FUN_1080_141e();
    FUN_1018_5a04(param_5,(int *)0x4ade,1,unaff_SI,
                  (int16)CONCAT412(in_stack_0000ffd0,
                                   CONCAT210(in_stack_0000ffce,
                                             CONCAT28(in_stack_0000ffcc,
                                                      CONCAT26(in_stack_0000ffca,
                                                               CONCAT24(in_stack_0000ffc8,
                                                                        CONCAT22(in_stack_0000ffc6,
                                                                                 unaff_DI)))))),
                  in_stack_0000ffd4);
    return 1;
  }
  if (param_4 < 0x111) {
    if (param_4 != 0x20) {
      if (0x20 < param_4) {
        return 0;
      }
      cVar2 = (char)param_4;
      if (cVar2 == '\x02') {
        PTR_DAT_10a8_0000_10a8_4ae2 = (undefined *)0x0;
        return 0;
      }
      if (cVar2 == '\x0f') {
        uVar12 = 0xff;
        uVar13 = 0xff;
        piVar4 = (int16 *)BEGINPAINT((HWND16)&stack0xffce,
                                     (PAINTSTRUCT16 *)CONCAT22(param_5,unaff_SS));
        FUN_1080_06ee(piVar4,CONCAT11(uVar13,uVar12),unaff_SI);
        ENDPAINT((HWND16)&stack0xffce,unaff_SS);
      }
      else {
        if (cVar2 != '\x14') {
          return 0;
        }
        GETCLIENTRECT((HWND16)&stack0xffee,(RECT16 *)CONCAT13(uVar13,CONCAT12(uVar12,unaff_SS)));
        FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffee,(RECT16 *)unaff_SS,param_3
                );
      }
      return 1;
    }
    GETCURSORPOS((POINT16 *)&local_6);
    SCREENTOCLIENT((HWND16)&local_6,(POINT16 *)CONCAT22(param_5,unaff_SS));
    if ((int)local_6 < 0x11) {
      return 0;
    }
    iVar5 = (int)PTR_DAT_10a8_0000_10a8_5750 * 10 + 0x2e;
    if (iVar5 <= (int)local_6) {
      return 0;
    }
    if ((int)local_4 < 0x10) {
      return 0;
    }
    if (iVar5 <= (int)local_4) {
      return 0;
    }
    SETCURSOR((HCURSOR16)PTR_DAT_10a8_0000_10a8_834a);
    return 1;
  }
  if (param_4 != 0x111) {
    if (param_4 != 0x113) {
      if ((param_4 != 0x201) && (param_4 != 0x204)) {
        return 0;
      }
      iVar5 = (param_1 + -0x10) / (int)(PTR_DAT_10a8_0000_10a8_5750 + 3);
      iVar9 = (param_2 + -0x10) / (int)(PTR_DAT_10a8_0000_10a8_5750 + 3);
      if ((((9 < iVar5) && (1 < iVar9)) && (iVar9 < 10)) && (-1 < (int)PTR_DAT_10a8_0000_10a8_84d8))
      {
        PTR_DAT_10a8_0000_10a8_1144 = (undefined *)0xb;
        uVar1 = *(ulong *)(((((byte)PTR_DAT_10a8_0000_10a8_579e
                                    [(int)PTR_DAT_10a8_0000_10a8_84d8 * 8 + 1] & 0x1e) << 8) >> 9) *
                           4 + 0x72);
        _PTR_DAT_10a8_0000_10a8_1146 =
             uVar1 & 0xffff0000 |
             (ulong)((int)uVar1 +
                    (uint)(PTR_DAT_10a8_0000_10a8_579e[(int)PTR_DAT_10a8_0000_10a8_84d8 * 8 + 3] &
                          0xf) * 0x87);
        PTR_DAT_10a8_0000_10a8_114a = (undefined *)0x0;
        PTR_DAT_10a8_0000_10a8_114c =
             (undefined *)
             (uint)((undefined *)
                    ((((byte)PTR_DAT_10a8_0000_10a8_579e[(int)PTR_DAT_10a8_0000_10a8_84d8 * 8 + 1] &
                      0x1e) << 8) >> 9) != PTR_DAT_10a8_0001_10a8_00c0);
        FUN_1058_0832(param_5,(char)param_1,(char)param_2);
        return 0;
      }
      if (iVar5 < 0) {
        return 0;
      }
      if (iVar9 < 0) {
        return 0;
      }
      if (9 < iVar5) {
        return 0;
      }
      if (9 < iVar9) {
        return 0;
      }
      bVar3 = (char)iVar9 << 4 | (byte)iVar5 & 0xf;
      local_4 = (undefined *)((uint)local_4 & 0xff | (uint)bVar3 << 8);
      if (param_4 == 0x204) {
        puVar10 = (undefined *)
                  FUN_1080_1212((int)param_5,
                                CONCAT13((char)((uint)param_2 >> 8),CONCAT12((char)param_2,param_1))
                                ,bVar3);
        if ((int)puVar10 < 0) {
          return 0;
        }
        PTR_DAT_10a8_0000_10a8_8392._0_1_ = local_4._1_1_;
      }
      else {
        uVar11 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_83a6 >> 0x10);
        if ((bVar3 != (byte)PTR_DAT_10a8_0000_10a8_8392) ||
           (PTR_DAT_10a8_0000_10a8_84d8 == (undefined *)0xffff)) {
          PTR_DAT_10a8_0000_10a8_84d8 =
               (undefined *)(*(byte *)((int)_PTR_DAT_10a8_0000_10a8_83a6 + 2) - 1);
          PTR_DAT_10a8_0000_10a8_8392._0_1_ = bVar3;
        }
        puVar10 = PTR_DAT_10a8_0000_10a8_84d8;
        do {
          puVar10 = puVar10 + 1;
          if ((undefined *)(uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_83a6 + 2) == puVar10) {
            puVar10 = (undefined *)0x0;
          }
          if ((PTR_DAT_10a8_0000_10a8_579e[(int)puVar10 * 8 + 4] == bVar3) &&
             (*(int *)(PTR_DAT_10a8_0000_10a8_579e + (int)puVar10 * 8 + 6) != 0))
          goto LAB_1080_06da;
        } while (PTR_DAT_10a8_0000_10a8_84d8 != puVar10);
        PTR_DAT_10a8_0000_10a8_84d8 = (undefined *)0xffff;
        puVar10 = PTR_DAT_10a8_0000_10a8_84d8;
      }
      goto LAB_1080_06da;
    }
    if ((_DAT_10a8_0a48 & 1) == 0) {
      return 0;
    }
    if (PTR_DAT_10a8_0000_10a8_571a == PTR_DAT_10a8_0000_10a8_5920) {
      iVar5 = 2;
      goto LAB_1080_0505;
    }
    goto LAB_1080_0564;
  }
  if ((param_3 < 0xa1) || (0xa5 < param_3)) {
    if ((param_3 != 1) && (param_3 != 2)) {
      if (param_3 == 0x76) {
        WINHELP(1,(LPCSTR)0x10000,
                (uint16)CONCAT214(in_stack_0000ffca,
                                  CONCAT212(in_stack_0000ffc8,
                                            CONCAT210(in_stack_0000ffc6,
                                                      CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT15(
                                                  uVar13,CONCAT14(uVar12,CONCAT13(0x10,CONCAT12(0xa8
                                                  ,PTR_s_stars__hlp_10a8_00b2_10a8_00be))))))))));
        return 1;
      }
      return 0;
    }
    if ((_DAT_10a8_0a48 & 1) != 0) {
      _DAT_10a8_0a48 = _DAT_10a8_0a48 & 0xfffe;
      KILLTIMER(0xa6c,(uint16)CONCAT214(in_stack_0000ffce,
                                        CONCAT212(in_stack_0000ffcc,
                                                  CONCAT210(in_stack_0000ffca,
                                                            CONCAT28(in_stack_0000ffc8,
                                                                     CONCAT26(in_stack_0000ffc6,
                                                                              CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5))))))));
    }
    FUN_1018_5a04(param_5,(int *)0x4ade,0,unaff_SI,
                  (int16)CONCAT412(in_stack_0000ffd0,
                                   CONCAT210(in_stack_0000ffce,
                                             CONCAT28(in_stack_0000ffcc,
                                                      CONCAT26(in_stack_0000ffca,
                                                               CONCAT24(in_stack_0000ffc8,
                                                                        CONCAT22(in_stack_0000ffc6,
                                                                                 unaff_DI)))))),
                  in_stack_0000ffd4);
    ENDDIALOG(local_6,(int16)CONCAT214(in_stack_0000ffce,
                                       CONCAT212(in_stack_0000ffcc,
                                                 CONCAT210(in_stack_0000ffca,
                                                           CONCAT28(in_stack_0000ffc8,
                                                                    CONCAT26(in_stack_0000ffc6,
                                                                             CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5))))))));
    return 1;
  }
  iVar5 = param_3 - 0xa1;
  if ((_DAT_10a8_0a48 & 1) != 0) {
LAB_1080_0505:
    KILLTIMER(0xa6c,(uint16)CONCAT214(in_stack_0000ffce,
                                      CONCAT212(in_stack_0000ffcc,
                                                CONCAT210(in_stack_0000ffca,
                                                          CONCAT28(in_stack_0000ffc8,
                                                                   CONCAT26(in_stack_0000ffc6,
                                                                            CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,param_5))))))));
    _DAT_10a8_0a48 = _DAT_10a8_0a48 & 0xfffe;
    if (iVar5 == 2) {
      return 0;
    }
  }
  if (iVar5 == 0) {
    puVar10 = (undefined *)0xffff;
  }
  else if (iVar5 == 1) {
    puVar10 = PTR_DAT_10a8_0000_10a8_5920 + -1;
  }
  else {
    if (iVar5 == 2) {
      puVar8 = SETTIMER((uint16 *)0x0,0,
                        (uint16)CONCAT214(in_stack_0000ffca,
                                          CONCAT212(in_stack_0000ffc8,
                                                    CONCAT210(in_stack_0000ffc6,
                                                              CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT15(uVar13,CONCAT14(uVar12,0xa6c01c2))))))),
                        (uint16)CONCAT412(in_stack_0000ffd8,
                                          CONCAT210(in_stack_0000ffd6,
                                                    CONCAT28(in_stack_0000ffd4,
                                                             CONCAT44(in_stack_0000ffd0,
                                                                      CONCAT22(in_stack_0000ffce,
                                                                               in_stack_0000ffcc))))
                                         ),in_stack_0000ffdc);
      _DAT_10a8_0a48 = _DAT_10a8_0a48 ^ (byte)(1U - (puVar8 == (uint16 *)0x0) ^ DAT_10a8_0a48) & 1;
LAB_1080_0564:
      puVar10 = PTR_DAT_10a8_0000_10a8_5920 + 1;
      if ((int)puVar10 <= (int)PTR_DAT_10a8_0000_10a8_571a) goto LAB_1080_0573;
    }
    else {
      if (iVar5 == 3) goto LAB_1080_0564;
      puVar10 = local_4;
      if (iVar5 != 4) goto LAB_1080_0573;
    }
    puVar10 = PTR_DAT_10a8_0000_10a8_571a;
  }
LAB_1080_0573:
  FUN_1080_00cc(puVar10);
  puVar10 = PTR_DAT_10a8_0000_10a8_84d8;
LAB_1080_06da:
  PTR_DAT_10a8_0000_10a8_84d8 = puVar10;
  FUN_1080_06ee((int16 *)0x0,-2,-1);
  return 0;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1080_06ee(int16 *param_1,int param_2,int param_3)

{
  char *pcVar1;
  undefined4 uVar2;
  char cVar3;
  int16 *__return_storage_ptr__;
  int16 *__return_storage_ptr___00;
  undefined *puVar4;
  int16 *piVar5;
  char *pcVar6;
  int16 *piVar7;
  byte bVar8;
  uint uVar9;
  uint uVar10;
  int iVar11;
  int iVar12;
  VA_LIST16 unaff_SI;
  int iVar13;
  undefined *puVar14;
  int *piVar15;
  byte *pbVar16;
  HRGN16 unaff_DI;
  int iVar17;
  int unaff_SS;
  int iVar18;
  bool bVar19;
  undefined2 uVar20;
  undefined *puVar21;
  undefined2 uVar22;
  undefined *puVar23;
  undefined *puVar24;
  byte in_stack_0000ff82;
  undefined in_stack_0000ff83;
  uint in_stack_0000ff84;
  byte in_stack_0000ff86;
  undefined7 in_stack_0000ff87;
  dword in_stack_0000ff8e;
  undefined2 in_stack_0000ff92;
  LPCSTR in_stack_0000ff94;
  unkbyte10 in_stack_0000ff98;
  undefined6 in_stack_0000ffa2;
  unkbyte10 in_stack_0000ffa8;
  dword in_stack_0000ffb2;
  int16 *local_e;
  uint local_a;
  int local_8;
  int *local_6;
  undefined2 local_4;

  iVar18 = (int)s_From___s_c_c_10a8_10a2 + 6;
  bVar19 = param_1 == (int16 *)0x0;
  if (bVar19) {
    param_1 = (int16 *)GETDC((HWND16)PTR_DAT_10a8_0000_10a8_4ae2);
  }
  __return_storage_ptr__ =
       SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                    (int16)CONCAT412(in_stack_0000ff8e,
                                     CONCAT75(in_stack_0000ff87,
                                              CONCAT14(in_stack_0000ff86,
                                                       CONCAT22(in_stack_0000ff84,
                                                                CONCAT11(in_stack_0000ff83,
                                                                         in_stack_0000ff82))))));
  __return_storage_ptr___00 =
       SETBKMODE((int16 *)&DAT_10a8_0001,(HDC16)param_1,
                 (int16)CONCAT79(in_stack_0000ff87,
                                 CONCAT18(in_stack_0000ff86,
                                          CONCAT26(in_stack_0000ff84,
                                                   CONCAT15(in_stack_0000ff83,
                                                            CONCAT14(in_stack_0000ff82,
                                                                     CONCAT22(unaff_DI,unaff_SI)))))
                                ));
  if (param_2 == -2) {
    GETCLIENTRECT((HWND16)&local_a,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_4ae2,unaff_SS));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_591a + 0x12,
                                                  (qword)CONCAT24((byte *)((int)local_6 +
                                                                          (-0x12 - (int)
                                                  PTR_DAT_10a8_0000_10a8_591a)),
                                                  CONCAT22(PTR_DAT_10a8_0000_10a8_591a + 0x10,0xf0))
                                                  )))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    param_2 = -1;
  }
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT412(in_stack_0000ff8e,
                                CONCAT75(in_stack_0000ff87,
                                         CONCAT14(in_stack_0000ff86,
                                                  CONCAT22(in_stack_0000ff84,
                                                           CONCAT11(in_stack_0000ff83,
                                                                    in_stack_0000ff82))))));
  if (param_2 == -1) {
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(0x10,
                                                  CONCAT26(0x10,CONCAT24(PTR_DAT_10a8_0000_10a8_591a
                                                                         ,0x200f0)))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(0x10,
                                                  CONCAT26(0x10,CONCAT24(2,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_591a,0xf0))))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT412(in_stack_0000ff8e,
                                  CONCAT75(in_stack_0000ff87,
                                           CONCAT14(in_stack_0000ff86,
                                                    CONCAT22(in_stack_0000ff84,
                                                             CONCAT11(in_stack_0000ff83,
                                                                      in_stack_0000ff82))))));
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(0x11,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_591a + 0xe,
                                                           CONCAT24(PTR_DAT_10a8_0000_10a8_591a + -1
                                                                    ,0x100f0)))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(0x10,
                                                  CONCAT26(PTR_DAT_10a8_0000_10a8_591a + 0xf,
                                                           CONCAT24(PTR_DAT_10a8_0000_10a8_591a,
                                                                    0x100f0)))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_591a + 0xe,
                                                  CONCAT26(0x11,CONCAT24(1,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_591a + -3,0xf0))))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(
                                                  PTR_DAT_10a8_0000_10a8_591a + 0xf,
                                                  CONCAT26(0x10,CONCAT24(1,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_591a + -2,0xf0))))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT412(in_stack_0000ff8e,
                                  CONCAT75(in_stack_0000ff87,
                                           CONCAT14(in_stack_0000ff86,
                                                    CONCAT22(in_stack_0000ff84,
                                                             CONCAT11(in_stack_0000ff83,
                                                                      in_stack_0000ff82))))));
    iVar13 = 1;
    do {
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28((int)(
                                                  PTR_DAT_10a8_0000_10a8_5750 + 3) * iVar13 + 0x11,
                                                  CONCAT26(0x12,CONCAT24(1,CONCAT22(
                                                  PTR_DAT_10a8_0000_10a8_591a + -4,0xf0))))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(0x12,
                                                  CONCAT26((int)(PTR_DAT_10a8_0000_10a8_5750 + 3) *
                                                           iVar13 + 0x11,
                                                           CONCAT24(PTR_DAT_10a8_0000_10a8_591a + -4
                                                                    ,0x100f0)))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar13 = iVar13 + 1;
    } while (iVar13 < 10);
    puVar4 = PTR_DAT_10a8_0000_10a8_591a + 0x16;
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
                 (int16)CONCAT412(in_stack_0000ff8e,
                                  CONCAT75(in_stack_0000ff87,
                                           CONCAT14(in_stack_0000ff86,
                                                    CONCAT22(in_stack_0000ff84,
                                                             CONCAT11(in_stack_0000ff83,
                                                                      in_stack_0000ff82))))));
    uVar22 = 0x10;
    iVar13 = (int)s_From___s_c_c_10a8_10a2 + 6;
    uVar20 = SUB42(&DAT_10a8_86de,0);
    puVar14 = puVar4;
    piVar7 = param_1;
    piVar5 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x4ae410a8,
                       (LPCSTR)CONCAT22(PTR_DAT_10a8_0000_10a8_5920 + 2,0x10a8),
                       (VA_LIST16)(PTR_DAT_10a8_0000_10a8_571a + 2));
    TEXTOUT((HDC16)piVar5,
            (int16)CONCAT115(in_stack_0000ff83,
                             CONCAT114(in_stack_0000ff82,
                                       CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar7,
                                                  CONCAT26(puVar14,CONCAT24(uVar22,CONCAT22(iVar13,
                                                  uVar20)))))))),
            (int16)CONCAT214(in_stack_0000ff92,
                             CONCAT410(in_stack_0000ff8e,
                                       CONCAT73(in_stack_0000ff87,
                                                CONCAT12(in_stack_0000ff86,in_stack_0000ff84)))),
            in_stack_0000ff94,(int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
    if (-1 < (int)PTR_DAT_10a8_0000_10a8_5920) {
      puVar14 = PTR_DAT_10a8_0000_10a8_5794 + 0x14;
      pcVar6 = (char *)FUN_1010_0792((((byte)PTR_DAT_10a8_0000_10a8_579e
                                             [(uint)*_PTR_DAT_10a8_0000_10a8_5916 * 8 + 1] & 0x1e)
                                     << 8) >> 9,1,1,1,0,0);
      local_4._0_1_ = (byte)pcVar6;
      local_4._1_1_ = (byte)((uint)pcVar6 >> 8);
      uVar9 = 0xffff;
      do {
        if (uVar9 == 0) break;
        uVar9 = uVar9 - 1;
        pcVar1 = pcVar6;
        pcVar6 = pcVar6 + 1;
      } while (*pcVar1 != '\0');
      TEXTOUT(~uVar9 - 1,
              (int16)CONCAT115(in_stack_0000ff83,
                               CONCAT114(in_stack_0000ff82,
                                         CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26(puVar4,CONCAT24(puVar14,0x10a886de)))))))
              ,(int16)CONCAT214(in_stack_0000ff92,
                                CONCAT410(in_stack_0000ff8e,
                                          CONCAT73(in_stack_0000ff87,
                                                   CONCAT12(in_stack_0000ff86,in_stack_0000ff84)))),
              in_stack_0000ff94,(int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
      puVar14 = puVar14 + (int)PTR_DAT_10a8_0000_10a8_5794;
      if ((undefined *)(uint)*_PTR_DAT_10a8_0000_10a8_5916 == PTR_DAT_10a8_0000_10a8_84d8) {
        SETTEXTCOLOR(0,(COLORREF)CONCAT22(param_1,0x7f));
      }
      iVar13 = (int)s_From___s_c_c_10a8_10a2 + 6;
      uVar20 = SUB42(&DAT_10a8_86de,0);
      uVar2 = *(undefined4 *)
               (((((byte)PTR_DAT_10a8_0000_10a8_579e[(uint)*_PTR_DAT_10a8_0000_10a8_5916 * 8 + 1] &
                  0x1e) << 8) >> 9) * 4 + 0x72);
      puVar21 = puVar14;
      puVar23 = puVar4;
      piVar7 = param_1;
      piVar5 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x4af710a8,
                         (LPCSTR)CONCAT22((int)uVar2 +
                                          (uint)(PTR_DAT_10a8_0000_10a8_579e
                                                 [(uint)*_PTR_DAT_10a8_0000_10a8_5916 * 8 + 3] & 0xf
                                                ) * 0x87 + 8,0x10a8),
                         (VA_LIST16)((ulong)uVar2 >> 0x10));
      TEXTOUT((HDC16)piVar5,
              (int16)CONCAT115(in_stack_0000ff83,
                               CONCAT114(in_stack_0000ff82,
                                         CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar7,
                                                  CONCAT26(puVar23,CONCAT24(puVar21,CONCAT22(iVar13,
                                                  uVar20)))))))),
              (int16)CONCAT214(in_stack_0000ff92,
                               CONCAT410(in_stack_0000ff8e,
                                         CONCAT73(in_stack_0000ff87,
                                                  CONCAT12(in_stack_0000ff86,in_stack_0000ff84)))),
              in_stack_0000ff94,(int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
      puVar14 = puVar14 + (int)PTR_DAT_10a8_0000_10a8_5794;
      SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                   (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)));
      uVar20 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_5916 >> 0x10);
      if (*(int *)((int)_PTR_DAT_10a8_0000_10a8_5916 + 4) != 0) {
        puVar21 = &stack0xff88;
        iVar13 = unaff_SS;
        puVar23 = puVar14;
        puVar24 = puVar4;
        piVar7 = param_1;
        uVar20 = FUN_1010_0792((((byte)PTR_DAT_10a8_0000_10a8_579e
                                       [(uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_5916 + 2) * 8 +
                                        1] & 0x1e) << 8) >> 9,0,1,1,0,0);
        piVar5 = _WSPRINTF((int16 *)&stack0xff88,(LPSTR)CONCAT22(0x4aff,unaff_SS),
                           (LPCSTR)CONCAT22(uVar20,0x10a8),
                           (VA_LIST16)((int)s_From___s_c_c_10a8_10a2 + 6));
        TEXTOUT((HDC16)piVar5,
                (int16)CONCAT115(in_stack_0000ff83,
                                 CONCAT114(in_stack_0000ff82,
                                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar7,
                                                  CONCAT26(puVar24,CONCAT24(puVar23,CONCAT22(iVar13,
                                                  puVar21)))))))),
                (int16)CONCAT214(in_stack_0000ff92,
                                 CONCAT410(in_stack_0000ff8e,
                                           CONCAT73(in_stack_0000ff87,
                                                    CONCAT12(in_stack_0000ff86,in_stack_0000ff84))))
                ,in_stack_0000ff94,(int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
        puVar14 = puVar14 + (int)PTR_DAT_10a8_0000_10a8_5794;
        if (*(int *)((int)_PTR_DAT_10a8_0000_10a8_5916 + 4) != 0) {
          SETTEXTCOLOR(0x7f,(COLORREF)(ZEXT24(param_1) << 0x10));
        }
        iVar13 = (int)s_From___s_c_c_10a8_10a2 + 6;
        uVar20 = SUB42(&DAT_10a8_86de,0);
        bVar8 = *(byte *)((int)_PTR_DAT_10a8_0000_10a8_5916 + 2);
        uVar2 = *(undefined4 *)
                 (((((byte)PTR_DAT_10a8_0000_10a8_579e[(uint)bVar8 * 8 + 1] & 0x1e) << 8) >> 9) * 4
                 + 0x72);
        puVar21 = puVar14;
        puVar23 = puVar4;
        piVar7 = param_1;
        piVar5 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x4b0a10a8,
                           (LPCSTR)CONCAT22((int)uVar2 +
                                            (uint)(PTR_DAT_10a8_0000_10a8_579e[(uint)bVar8 * 8 + 3]
                                                  & 0xf) * 0x87 + 8,0x10a8),
                           (VA_LIST16)((ulong)uVar2 >> 0x10));
        TEXTOUT((HDC16)piVar5,
                (int16)CONCAT115(in_stack_0000ff83,
                                 CONCAT114(in_stack_0000ff82,
                                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar7,
                                                  CONCAT26(puVar23,CONCAT24(puVar21,CONCAT22(iVar13,
                                                  uVar20)))))))),
                (int16)CONCAT214(in_stack_0000ff92,
                                 CONCAT410(in_stack_0000ff8e,
                                           CONCAT73(in_stack_0000ff87,
                                                    CONCAT12(in_stack_0000ff86,in_stack_0000ff84))))
                ,in_stack_0000ff94,(int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
        puVar14 = puVar14 + (int)PTR_DAT_10a8_0000_10a8_5794;
        SETTEXTCOLOR((HDC16)_PTR_DAT_10a8_0000_10a8_5910,
                     (COLORREF)CONCAT22(param_1,(int)((ulong)_PTR_DAT_10a8_0000_10a8_5910 >> 0x10)))
        ;
        uVar20 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_5916 >> 0x10);
        local_4._1_1_ =
             PTR_DAT_10a8_0000_10a8_579e
             [(uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_5916 + 2) * 8 + 4];
        iVar13 = (int)s_From___s_c_c_10a8_10a2 + 6;
        uVar22 = SUB42(&DAT_10a8_86de,0);
        uVar9 = *(uint *)((int)_PTR_DAT_10a8_0000_10a8_5916 + 4);
        bVar8 = (byte)(uVar9 >> 0xc) & 0xe;
        if ((uVar9 >> 0xc & 0xe) != 0) {
          do {
            bVar8 = bVar8 - 1;
          } while (bVar8 != 0);
        }
        puVar21 = puVar14;
        puVar23 = puVar4;
        piVar7 = param_1;
        piVar5 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)0x4b1210a8,
                           (LPCSTR)(CONCAT22((uint)local_4._1_1_,0x10a8) & 0xfffff),
                           (VA_LIST16)(uint)(local_4._1_1_ >> 4));
        TEXTOUT((HDC16)piVar5,
                (int16)CONCAT115(in_stack_0000ff83,
                                 CONCAT114(in_stack_0000ff82,
                                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar7,
                                                  CONCAT26(puVar23,CONCAT24(puVar21,CONCAT22(iVar13,
                                                  uVar22)))))))),
                (int16)CONCAT214(in_stack_0000ff92,
                                 CONCAT410(in_stack_0000ff8e,
                                           CONCAT73(in_stack_0000ff87,
                                                    CONCAT12(in_stack_0000ff86,in_stack_0000ff84))))
                ,in_stack_0000ff94,(int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
        puVar14 = puVar14 + (int)PTR_DAT_10a8_0000_10a8_5794;
        uVar9 = (uint)((ulong)_PTR_DAT_10a8_0000_10a8_5916 >> 0x10);
        iVar13 = (int)_PTR_DAT_10a8_0000_10a8_5916;
        if (*(char *)(iVar13 + 3) != '\0') {
          iVar17 = 0;
          local_4._0_1_ = (byte)((ulong)_PTR_DAT_10a8_0000_10a8_5916 >> 0x10);
          local_4._1_1_ = (byte)((ulong)_PTR_DAT_10a8_0000_10a8_5916 >> 0x18);
          bVar8 = *(byte *)(iVar13 + 3);
          uVar10 = (uint)bVar8;
          if (bVar8 != 0) {
            piVar15 = (int *)(iVar13 + 7);
            do {
              iVar17 = iVar17 + *piVar15;
              uVar10 = uVar10 - 1;
              piVar15 = (int *)((int)piVar15 + 3);
              iVar18 = unaff_SS;
              local_6 = (int *)(iVar13 + 7);
            } while (uVar10 != 0);
          }
          local_e = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(0x4b31,iVar18),
                              (LPCSTR)CONCAT22(iVar17,iVar18),unaff_SI);
          if (iVar17 == 1) {
            *(undefined2 *)((int)local_e + -0x7922) = *(undefined2 *)0x4b44;
            local_e = (int16 *)((int)local_e + 1);
          }
          else {
            *(undefined2 *)((int)local_e + -0x7922) = *(undefined2 *)0x4b46;
            *(undefined *)(local_e + -0x792) = *(undefined *)0x4b48;
            local_e = (int16 *)((int)local_e + 2);
          }
          TEXTOUT((HDC16)local_e,
                  (int16)CONCAT115(in_stack_0000ff83,
                                   CONCAT114(in_stack_0000ff82,
                                             CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26(puVar4,CONCAT24(puVar14,CONCAT22(iVar18,
                                                  0x86de)))))))),
                  (int16)CONCAT214(in_stack_0000ff92,
                                   CONCAT410(in_stack_0000ff8e,
                                             CONCAT73(in_stack_0000ff87,
                                                      CONCAT12(in_stack_0000ff86,in_stack_0000ff84))
                                            )),in_stack_0000ff94,
                  (int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
        }
      }
    }
    if (*(char *)&PTR_DAT_10a8_0000_10a8_8392 != -1) {
      uVar22 = 200;
      uVar20 = SUB42(&DAT_10a8_86de,0);
      iVar13 = iVar18;
      puVar14 = puVar4;
      piVar7 = param_1;
      piVar5 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(0x4b49,iVar18),
                         (LPCSTR)((ulong)CONCAT12(*(undefined *)&PTR_DAT_10a8_0000_10a8_8392,iVar18)
                                 & 0xfffff),
                         (VA_LIST16)(uint)(*(byte *)&PTR_DAT_10a8_0000_10a8_8392 >> 4));
      TEXTOUT((HDC16)piVar5,
              (int16)CONCAT115(in_stack_0000ff83,
                               CONCAT114(in_stack_0000ff82,
                                         CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(piVar7,
                                                  CONCAT26(puVar14,CONCAT24(uVar22,CONCAT22(iVar13,
                                                  uVar20)))))))),
              (int16)CONCAT214(in_stack_0000ff92,
                               CONCAT410(in_stack_0000ff8e,
                                         CONCAT73(in_stack_0000ff87,
                                                  CONCAT12(in_stack_0000ff86,in_stack_0000ff84)))),
              in_stack_0000ff94,(int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
      iVar13 = *(int *)&PTR_DAT_10a8_0000_10a8_5794 + 200;
      if (-1 < *(int *)&PTR_DAT_10a8_0000_10a8_84d8) {
        pcVar6 = (char *)FUN_1010_0792(((*(byte *)(*(int *)&PTR_DAT_10a8_0000_10a8_84d8 * 8 +
                                                   *(int *)&PTR_DAT_10a8_0000_10a8_579e + 1) & 0x1e)
                                       << 8) >> 9,1,1,1,0,0);
        local_4._0_1_ = (byte)pcVar6;
        local_4._1_1_ = (byte)((uint)pcVar6 >> 8);
        uVar9 = 0xffff;
        do {
          if (uVar9 == 0) break;
          uVar9 = uVar9 - 1;
          pcVar1 = pcVar6;
          pcVar6 = pcVar6 + 1;
        } while (*pcVar1 != '\0');
        TEXTOUT(~uVar9 - 1,
                (int16)CONCAT115(in_stack_0000ff83,
                                 CONCAT114(in_stack_0000ff82,
                                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26(puVar4,CONCAT24(iVar13,CONCAT22(iVar18,
                                                  0x86de)))))))),
                (int16)CONCAT214(in_stack_0000ff92,
                                 CONCAT410(in_stack_0000ff8e,
                                           CONCAT73(in_stack_0000ff87,
                                                    CONCAT12(in_stack_0000ff86,in_stack_0000ff84))))
                ,in_stack_0000ff94,(int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
        iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5794;
        iVar12 = *(int *)&PTR_DAT_10a8_0000_10a8_84d8 * 8 + *(int *)&PTR_DAT_10a8_0000_10a8_579e;
        uVar2 = *(undefined4 *)((((*(byte *)(iVar12 + 1) & 0x1e) << 8) >> 9) * 4 + 0x72);
        local_e = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(0x4b5e,iVar18),
                            (LPCSTR)CONCAT22((int)uVar2 + (uint)(*(byte *)(iVar12 + 3) & 0xf) * 0x87
                                             + 8,iVar18),(VA_LIST16)((ulong)uVar2 >> 0x10));
        uVar2 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_5916;
        uVar20 = (undefined2)((ulong)uVar2 >> 0x10);
        iVar12 = (int)uVar2;
        if ((*(char *)(iVar12 + 3) != '\0') && (-1 < *(int *)&PTR_DAT_10a8_0000_10a8_5920)) {
          iVar11 = 0;
          local_8 = 0;
          if (*(char *)(iVar12 + 3) != '\0') {
            local_6 = (int *)(iVar12 + 6);
            local_4._0_1_ = (byte)((ulong)uVar2 >> 0x10);
            local_4._1_1_ = (byte)((ulong)uVar2 >> 0x18);
            local_a = (uint)*(byte *)(iVar12 + 3);
            uVar9 = local_a;
            piVar15 = local_6;
            do {
              if ((uint)*(byte *)piVar15 == *(uint *)&PTR_DAT_10a8_0000_10a8_84d8) {
                iVar11 = iVar11 + *(int *)((int)piVar15 + 1);
              }
              piVar15 = (int *)((int)piVar15 + 3);
              uVar9 = uVar9 - 1;
            } while (uVar9 != 0);
          }
          if (0 < iVar11) {
            piVar7 = _WSPRINTF((int16 *)((int)local_e + -0x7922),(LPSTR)CONCAT22(0x4b66,iVar18),
                               (LPCSTR)CONCAT22(iVar11,iVar18),unaff_SI);
            local_e = (int16 *)((int)local_e + (int)piVar7);
          }
        }
        SETTEXTCOLOR(0,(COLORREF)CONCAT22(param_1,0x7f));
        TEXTOUT((HDC16)local_e,
                (int16)CONCAT115(in_stack_0000ff83,
                                 CONCAT114(in_stack_0000ff82,
                                           CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,
                                                  CONCAT26(puVar4,CONCAT24(iVar13 + iVar17,
                                                                           CONCAT22(iVar18,0x86de)))
                                                  ))))),
                (int16)CONCAT214(in_stack_0000ff92,
                                 CONCAT410(in_stack_0000ff8e,
                                           CONCAT73(in_stack_0000ff87,
                                                    CONCAT12(in_stack_0000ff86,in_stack_0000ff84))))
                ,in_stack_0000ff94,(int16)CONCAT610(in_stack_0000ffa2,in_stack_0000ff98));
        uVar2 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_5910;
        SETTEXTCOLOR((HDC16)uVar2,(COLORREF)CONCAT22(param_1,(int)((ulong)uVar2 >> 0x10)));
      }
    }
    param_2 = 0;
    param_3 = 99;
  }
  for (; param_2 <= param_3; param_2 = param_2 + 1) {
    iVar12 = param_2 % 10;
    iVar13 = param_2 / 10;
    iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar12 *
                                                  iVar17 + 0x12,
                                                  CONCAT26(iVar13 * iVar17 + 0x12,
                                                           CONCAT24(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0x10000)))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar12 *
                                                  iVar17 + 0x12,
                                                  CONCAT26(iVar13 * iVar17 + 0x12,
                                                           CONCAT24(1,(ulong)(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2) << 0x10)))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar12 *
                                                  iVar17 + *(int *)&PTR_DAT_10a8_0000_10a8_5750 +
                                                  0x13,CONCAT26(iVar13 * iVar17 + 0x12,
                                                                CONCAT24(1,(ulong)(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2) << 0x10)))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
    PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar12 *
                                                  iVar17 + 0x12,
                                                  CONCAT26(iVar13 * iVar17 +
                                                           *(int *)&PTR_DAT_10a8_0000_10a8_5750 +
                                                           0x13,CONCAT24(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0x10000)))))),
           (int16)CONCAT412(in_stack_0000ff8e,
                            CONCAT75(in_stack_0000ff87,
                                     CONCAT14(in_stack_0000ff86,
                                              CONCAT22(in_stack_0000ff84,
                                                       CONCAT11(in_stack_0000ff83,in_stack_0000ff82)
                                                      )))),
           (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
           (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    local_a = 0xffff;
    local_8 = 0;
    local_6 = (int *)0x0;
    uVar2 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_83a6;
    in_stack_0000ff86 = *(byte *)((int)uVar2 + 2);
    bVar8 = (byte)iVar12;
    cVar3 = (char)iVar13;
    if (in_stack_0000ff86 != 0) {
      local_4 = (byte *)(*(int *)&PTR_DAT_10a8_0000_10a8_579e + 4);
      in_stack_0000ff84 = (uint)(byte)(cVar3 << 4 | bVar8 & 0xf);
      iVar17 = local_8;
      pbVar16 = local_4;
      do {
        if (((in_stack_0000ff84 == *pbVar16) && (*(int *)(pbVar16 + 2) != 0)) &&
           ((local_6 = (int *)((int)local_6 + 1), local_a == 0xffff ||
            (*(int *)&PTR_DAT_10a8_0000_10a8_84d8 == iVar17)))) {
          uVar2 = *(undefined4 *)(((*(uint *)(pbVar16 + -4) & 0x1e00) >> 9) * 4 + 0x72);
          local_a = *(uint *)((int)uVar2 + (uint)(pbVar16[-1] & 0xf) * 0x87 + 0x32);
        }
        pbVar16 = pbVar16 + 8;
        iVar17 = iVar17 + 1;
      } while (iVar17 < (int)(uint)in_stack_0000ff86);
    }
    if ((int)local_6 < 1) {
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      iVar11 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 2;
      PATBLT(0x42,(int16)(ZEXT1416(CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(param_1,CONCAT26(
                                                  iVar17 * iVar12 + 0x12,
                                                  CONCAT24(iVar17 * iVar13 + 0x12,
                                                           CONCAT22(iVar11,iVar11))))))) << 0x10),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
    }
    else {
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + 0x12,
                                                  CONCAT26(iVar17 * iVar13 + 0x12,
                                                           CONCAT24(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0x10000)))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + 0x12,
                                                  CONCAT26(iVar17 * iVar13 + 0x12,
                                                           CONCAT24(1,(ulong)(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2) << 0x10)))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + *(int *)&PTR_DAT_10a8_0000_10a8_5750 +
                                                  0x13,CONCAT26(iVar17 * iVar13 + 0x12,
                                                                CONCAT24(1,(ulong)(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2) << 0x10)))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x42,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + 0x12,
                                                  CONCAT26(iVar17 * iVar13 +
                                                           *(int *)&PTR_DAT_10a8_0000_10a8_5750 +
                                                           0x13,CONCAT24(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0x10000)))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      FUN_1028_23ac(0,0,(HRGN16)param_1,iVar17 * iVar12 + 0x13,iVar17 * iVar13 + 0x13,0,local_a,
                    local_6,(bitmapinfo *)(uint)(*(int *)&PTR_DAT_10a8_0000_10a8_5750 < 0x40),
                    unaff_SI,unaff_DI,CONCAT11(in_stack_0000ff83,in_stack_0000ff82),
                    (undefined1  [10])
                    CONCAT73(in_stack_0000ff87,CONCAT12(in_stack_0000ff86,in_stack_0000ff84)),
                    in_stack_0000ff8e);
    }
    uVar2 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_5916;
    uVar20 = (undefined2)((ulong)uVar2 >> 0x10);
    iVar17 = (int)uVar2;
    if ((*(int *)(iVar17 + 4) != 0) &&
       (*(byte *)((uint)*(byte *)(iVar17 + 2) * 8 + *(int *)&PTR_DAT_10a8_0000_10a8_579e + 4) ==
        (byte)(bVar8 & 0xf | cVar3 << 4))) {
      piVar7 = SELECTOBJECT(*(int16 **)&PTR_DAT_10a8_0000_10a8_0024,(HRGN16)param_1,(HRGN16)unaff_SI
                            ,unaff_DI,
                            (int16)CONCAT412(in_stack_0000ff8e,
                                             CONCAT75(in_stack_0000ff87,
                                                      CONCAT14(in_stack_0000ff86,
                                                               CONCAT22(in_stack_0000ff84,
                                                                        CONCAT11(in_stack_0000ff83,
                                                                                 in_stack_0000ff82))
                                                              ))));
      local_4._0_1_ = (byte)piVar7;
      local_4._1_1_ = (byte)((uint)piVar7 >> 8);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + 0x12,
                                                  CONCAT26(iVar17 * iVar13 + 0x12,
                                                           CONCAT24(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0x200f0)))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + 0x12,
                                                  CONCAT26(iVar17 * iVar13 + 0x12,
                                                           CONCAT24(2,CONCAT22(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0xf0))))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + 0x12,
                                                  CONCAT26(iVar17 * iVar13 +
                                                           *(int *)&PTR_DAT_10a8_0000_10a8_5750 +
                                                           0x12,CONCAT24(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0x200f0)))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + *(int *)&PTR_DAT_10a8_0000_10a8_5750 +
                                                  0x12,CONCAT26(iVar17 * iVar13 + 0x12,
                                                                CONCAT24(2,CONCAT22(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0xf0))))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      SELECTOBJECT((int16 *)CONCAT11(local_4._1_1_,(byte)local_4),(HRGN16)param_1,(HRGN16)unaff_SI,
                   unaff_DI,(int16)CONCAT412(in_stack_0000ff8e,
                                             CONCAT75(in_stack_0000ff87,
                                                      CONCAT14(in_stack_0000ff86,
                                                               CONCAT22(in_stack_0000ff84,
                                                                        CONCAT11(in_stack_0000ff83,
                                                                                 in_stack_0000ff82))
                                                              ))));
    }
    in_stack_0000ff82 = bVar8 & 0xf | cVar3 << 4;
    if (((in_stack_0000ff82 == *(byte *)&PTR_DAT_10a8_0000_10a8_8392) &&
        (*(int *)&PTR_DAT_10a8_0000_10a8_84d8 == -1)) ||
       ((-1 < *(int *)&PTR_DAT_10a8_0000_10a8_84d8 &&
        ((*(byte *)(*(int *)&PTR_DAT_10a8_0000_10a8_84d8 * 8 + *(int *)&PTR_DAT_10a8_0000_10a8_579e
                   + 4) == in_stack_0000ff82 &&
         (*(int *)(*(int *)&PTR_DAT_10a8_0000_10a8_84d8 * 8 + *(int *)&PTR_DAT_10a8_0000_10a8_579e +
                  6) != 0)))))) {
      piVar7 = SELECTOBJECT(*(int16 **)&PTR_DAT_10a8_0000_10a8_0028,(HRGN16)param_1,(HRGN16)unaff_SI
                            ,unaff_DI,
                            (int16)CONCAT412(in_stack_0000ff8e,
                                             CONCAT75(in_stack_0000ff87,
                                                      CONCAT14(in_stack_0000ff86,
                                                               CONCAT22(in_stack_0000ff84,
                                                                        CONCAT11(in_stack_0000ff83,
                                                                                 in_stack_0000ff82))
                                                              ))));
      local_4._0_1_ = (byte)piVar7;
      local_4._1_1_ = (byte)((uint)piVar7 >> 8);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + 0x12,
                                                  CONCAT26(iVar17 * iVar13 + 0x12,
                                                           CONCAT24(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0x100f0)))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + 0x12,
                                                  CONCAT26(iVar17 * iVar13 + 0x12,
                                                           CONCAT24(1,CONCAT22(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0xf0))))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + 0x12,
                                                  CONCAT26(iVar17 * iVar13 +
                                                           *(int *)&PTR_DAT_10a8_0000_10a8_5750 +
                                                           0x13,CONCAT24(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0x100f0)))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      iVar17 = *(int *)&PTR_DAT_10a8_0000_10a8_5750 + 3;
      PATBLT(0x21,(int16)CONCAT214(unaff_DI,CONCAT212(unaff_SI,CONCAT210(param_1,CONCAT28(iVar17 *
                                                  iVar12 + *(int *)&PTR_DAT_10a8_0000_10a8_5750 +
                                                  0x13,CONCAT26(iVar17 * iVar13 + 0x12,
                                                                CONCAT24(1,CONCAT22(*(int *)&
                                                  PTR_DAT_10a8_0000_10a8_5750 + 2,0xf0))))))),
             (int16)CONCAT412(in_stack_0000ff8e,
                              CONCAT75(in_stack_0000ff87,
                                       CONCAT14(in_stack_0000ff86,
                                                CONCAT22(in_stack_0000ff84,
                                                         CONCAT11(in_stack_0000ff83,
                                                                  in_stack_0000ff82))))),
             (int16)CONCAT106(in_stack_0000ff98,CONCAT42(in_stack_0000ff94,in_stack_0000ff92)),
             (int16)CONCAT106(in_stack_0000ffa8,in_stack_0000ffa2),in_stack_0000ffb2);
      SELECTOBJECT((int16 *)CONCAT11(local_4._1_1_,(byte)local_4),(HRGN16)param_1,(HRGN16)unaff_SI,
                   unaff_DI,(int16)CONCAT412(in_stack_0000ff8e,
                                             CONCAT75(in_stack_0000ff87,
                                                      CONCAT14(in_stack_0000ff86,
                                                               CONCAT22(in_stack_0000ff84,
                                                                        CONCAT11(in_stack_0000ff83,
                                                                                 in_stack_0000ff82))
                                                              ))));
    }
  }
  SETBKMODE(__return_storage_ptr___00,(HDC16)param_1,
            (int16)CONCAT79(in_stack_0000ff87,
                            CONCAT18(in_stack_0000ff86,
                                     CONCAT26(in_stack_0000ff84,
                                              CONCAT15(in_stack_0000ff83,
                                                       CONCAT14(in_stack_0000ff82,
                                                                CONCAT22(unaff_DI,unaff_SI)))))));
  SELECTOBJECT(__return_storage_ptr__,(HRGN16)param_1,(HRGN16)unaff_SI,unaff_DI,
               (int16)CONCAT412(in_stack_0000ff8e,
                                CONCAT75(in_stack_0000ff87,
                                         CONCAT14(in_stack_0000ff86,
                                                  CONCAT22(in_stack_0000ff84,
                                                           CONCAT11(in_stack_0000ff83,
                                                                    in_stack_0000ff82))))));
  if (bVar19) {
    RELEASEDC(param_1,*(HWND16 *)&PTR_DAT_10a8_0000_10a8_4ae2,(HDC16)unaff_SI);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1080_1212(int param_1,undefined4 param_2,char param_3)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  undefined4 uVar4;
  int16 *piVar5;
  undefined2 *puVar6;
  undefined *puVar7;
  uint uVar8;
  uint uVar9;
  int iVar10;
  VA_LIST16 unaff_SI;
  byte *pbVar11;
  char *pcVar12;
  undefined2 *puVar13;
  undefined2 uVar14;
  undefined2 unaff_SS;
  undefined2 local_6bc [767];
  undefined local_bd [81];
  undefined2 local_6c [40];
  HMENU16 local_1c;
  uint local_1a;
  undefined2 *local_18;
  int local_16;
  HMENU16 local_14;
  int local_12;
  int local_10;
  undefined *local_e;
  undefined2 local_c;
  int local_a;
  uint local_8;
  byte *local_6;
  undefined2 local_4;

  local_1c = 0xffff;
  local_18 = local_6bc;
  local_1a = (uint)(PTR_DAT_10a8_0000_10a8_579e
                    [(uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_5916 + 2) * 8 + 4] == param_3);
  local_14 = 0;
  local_e = (undefined *)0x0;
  if (*(char *)((int)_PTR_DAT_10a8_0000_10a8_83a6 + 2) != '\0') {
    local_16 = 0;
    local_10 = 0;
    do {
      if ((PTR_DAT_10a8_0000_10a8_579e[local_10 + 4] == param_3) &&
         (*(int *)(PTR_DAT_10a8_0000_10a8_579e + local_10 + 6) != 0)) {
        FUN_1010_0792((((byte)PTR_DAT_10a8_0000_10a8_579e[local_10 + 1] & 0x1e) << 8) >> 9,0,0,0,0,0
                     );
        pcVar12 = (char *)&DAT_10a8_86de;
        uVar8 = 0xffff;
        do {
          if (uVar8 == 0) break;
          uVar8 = uVar8 - 1;
          pcVar2 = pcVar12;
          pcVar12 = pcVar12 + 1;
        } while (*pcVar2 != '\0');
        local_12 = ~uVar8 - 1;
        uVar4 = *(undefined4 *)
                 (((((byte)PTR_DAT_10a8_0000_10a8_579e[local_10 + 1] & 0x1e) << 8) >> 9) * 4 + 0x72)
        ;
        piVar5 = _WSPRINTF((int16 *)((int)&PTR_DAT_10a8_0000_10a8_86dc + 1 + ~uVar8),
                           (LPSTR)0x4b6d10a8,
                           (LPCSTR)CONCAT22((int)uVar4 +
                                            (uint)(PTR_DAT_10a8_0000_10a8_579e[local_10 + 3] & 0xf)
                                            * 0x87 + 8,0x10a8),(VA_LIST16)((ulong)uVar4 >> 0x10));
        local_12 = local_12 + (int)piVar5;
        if (local_1a != 0) {
          uVar14 = (undefined2)((ulong)_PTR_DAT_10a8_0000_10a8_5916 >> 0x10);
          iVar10 = (int)_PTR_DAT_10a8_0000_10a8_5916;
          if ((*(char *)(iVar10 + 3) != '\0') && (-1 < (int)PTR_DAT_10a8_0000_10a8_5920)) {
            local_a = 0;
            local_c = 0;
            if (*(char *)(iVar10 + 3) != '\0') {
              local_6 = (byte *)(iVar10 + 6);
              local_8 = (uint)*(byte *)(iVar10 + 3);
              uVar8 = local_8;
              pbVar11 = local_6;
              do {
                if ((undefined *)(uint)*pbVar11 == local_e) {
                  local_a = local_a + *(int *)(pbVar11 + 1);
                }
                pbVar11 = pbVar11 + 3;
                uVar8 = uVar8 - 1;
                local_4 = uVar14;
              } while (uVar8 != 0);
            }
            if (0 < local_a) {
              piVar5 = _WSPRINTF((int16 *)((int)&DAT_10a8_86de + local_12),(LPSTR)0x4b7610a8,
                                 (LPCSTR)CONCAT22(local_a,0x10a8),unaff_SI);
              local_12 = local_12 + (int)piVar5;
            }
          }
        }
        puVar6 = (undefined2 *)((int)local_18 + local_12 + 1);
        if ((local_bd <= puVar6) || (0x4f < local_16)) break;
        *(undefined2 *)((int)local_6c + local_16) = local_18;
        *(undefined **)(local_bd + local_16 + 1) = local_e;
        pcVar12 = (char *)&DAT_10a8_86de;
        uVar8 = 0xffff;
        do {
          if (uVar8 == 0) break;
          uVar8 = uVar8 - 1;
          pcVar2 = pcVar12;
          pcVar12 = pcVar12 + 1;
        } while (*pcVar2 != '\0');
        uVar8 = ~uVar8;
        puVar13 = (undefined2 *)(pcVar12 + -uVar8);
        for (uVar9 = uVar8 >> 1; uVar9 != 0; uVar9 = uVar9 - 1) {
          puVar3 = local_18;
          local_18 = local_18 + 1;
          puVar1 = puVar13;
          puVar13 = puVar13 + 1;
          *puVar3 = *puVar1;
        }
        for (uVar8 = (uint)((uVar8 & 1) != 0); uVar8 != 0; uVar8 = uVar8 - 1) {
          puVar3 = local_18;
          local_18 = (undefined2 *)((int)local_18 + 1);
          puVar1 = puVar13;
          puVar13 = (undefined2 *)((int)puVar13 + 1);
          *(undefined *)puVar3 = *(undefined *)puVar1;
        }
        if (local_e == PTR_DAT_10a8_0000_10a8_84d8) {
          local_1c = local_14;
        }
        local_16 = local_16 + 2;
        local_14 = local_14 + 1;
        local_18 = puVar6;
      }
      local_10 = local_10 + 8;
      local_e = local_e + 1;
    } while ((int)local_e < (int)(uint)*(byte *)((int)_PTR_DAT_10a8_0000_10a8_83a6 + 2));
  }
  if ((local_14 != 0) &&
     (puVar7 = FUN_1058_0cc6(param_1,(int)param_2,(int)((ulong)param_2 >> 0x10),local_14,0,
                             (int)local_6c,local_1c), puVar7 != (undefined *)0xffff)) {
    return *(undefined2 *)(local_bd + (int)puVar7 * 2 + 1);
  }
  return 0xffff;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1080_141e(void)

{
  HWND16 HVar1;
  undefined2 unaff_SI;
  HWND16 HVar2;
  undefined in_stack_00000000 [12];

  HVar2 = 0xa1;
  do {
    HVar1 = GETDLGITEM(HVar2,(int16)CONCAT124(in_stack_00000000,
                                              CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_4ae2)));
    ENABLEWINDOW((uint)(PTR_DAT_10a8_0000_10a8_5920 < (undefined *)0x8000),HVar1);
    HVar2 = HVar2 + 1;
  } while ((int)HVar2 < 0xa3);
  HVar2 = 0xa3;
  do {
    HVar1 = GETDLGITEM(HVar2,(int16)CONCAT124(in_stack_00000000,
                                              CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_4ae2)));
    ENABLEWINDOW((uint)((int)PTR_DAT_10a8_0000_10a8_5920 < (int)PTR_DAT_10a8_0000_10a8_571a),HVar1);
    HVar2 = HVar2 + 1;
  } while ((int)HVar2 < 0xa6);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

ulong __stdcall16far
RELATIONSDLG(HWND16 param_1,undefined2 param_2_00,uint param_3,uint param_4,HRGN16 param_5)

{
  undefined *puVar1;
  HWND16 HVar2;
  int iVar3;
  HWND16 hwnd;
  uint in_DX;
  undefined2 unaff_SI;
  HRGN16 unaff_DI;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar4;
  LRESULT LVar5;
  undefined2 uVar6;
  undefined uVar7;
  undefined uVar8;
  HRGN16 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  WPARAM16 in_stack_0000ffd2;
  undefined2 in_stack_0000ffd4;
  undefined2 in_stack_0000ffd6;
  undefined2 in_stack_0000ffd8;
  undefined2 in_stack_0000ffda;
  word in_stack_0000ffdc;
  undefined2 in_stack_0000ffde;
  undefined2 in_stack_0000ffe0;
  undefined2 in_stack_0000ffe2;
  undefined2 in_stack_0000ffe4;
  undefined in_stack_0000ffe6 [12];
  undefined2 in_stack_0000fff2;
  undefined2 in_stack_0000fff4;
  undefined4 local_a;

                    // Segment:    18
                    // Offset:     0004efa0
                    // Length:     40f4
                    // Min Alloc:  40f4
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  if (param_4 != 0x14) {
    if (param_4 < 0x15) {
      if (param_4 == 2) {
        if ((PTR_DAT_10a8_0000_10a8_59c2 != (undefined *)0x0) &&
           (FUN_1020_4140(), PTR_DAT_10a8_0000_10a8_07aa == (undefined *)&DAT_10a8_0003)) {
          INVALIDATERECT(1,(RECT16 *)0x0,0);
        }
      }
      else if (param_4 == 0xf) {
        puVar1 = (undefined *)
                 BEGINPAINT((HWND16)&stack0xffce,(PAINTSTRUCT16 *)CONCAT22(param_5,unaff_SS));
        HVar2 = GETDLGITEM(0x7d5,(int16)CONCAT214(in_stack_0000ffd8,
                                                  CONCAT212(in_stack_0000ffd6,
                                                            CONCAT210(in_stack_0000ffd4,
                                                                      CONCAT28(in_stack_0000ffd2,
                                                                               CONCAT26(
                                                  in_stack_0000ffd0,
                                                  CONCAT24(in_stack_0000ffce,
                                                           CONCAT22(unaff_DI,param_5))))))));
        GETWINDOWRECT((HWND16)&local_a,(RECT16 *)CONCAT22(HVar2,unaff_SS));
        SCREENTOCLIENT((HWND16)&local_a,(POINT16 *)CONCAT22(param_5,unaff_SS));
        HVar2 = GETDLGITEM(0x7d6,(int16)CONCAT214(in_stack_0000ffd8,
                                                  CONCAT212(in_stack_0000ffd6,
                                                            CONCAT210(in_stack_0000ffd4,
                                                                      CONCAT28(in_stack_0000ffd2,
                                                                               CONCAT26(
                                                  in_stack_0000ffd0,
                                                  CONCAT24(in_stack_0000ffce,
                                                           CONCAT22(unaff_DI,param_5))))))));
        GETWINDOWRECT((HWND16)&stack0xffee,(RECT16 *)CONCAT22(HVar2,unaff_SS));
        SCREENTOCLIENT((HWND16)&stack0xfff2,(POINT16 *)CONCAT22(param_5,unaff_SS));
        FUN_1018_5948((int *)&local_a,(int)PTR_DAT_10a8_0000_10a8_5794,
                      (int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
        FUN_1018_5bba(puVar1,&local_a,-1,unaff_DI,in_stack_0000ffce,in_stack_0000ffd0,
                      in_stack_0000ffd2,in_stack_0000ffd4,in_stack_0000ffd6,in_stack_0000ffd8,
                      in_stack_0000ffda,in_stack_0000ffdc,in_stack_0000ffde,in_stack_0000ffe0,
                      in_stack_0000ffe2);
        CVar4 = SETBKCOLOR((HDC16)_DAT_10a8_5714,
                           CONCAT22(puVar1,(int)((ulong)_DAT_10a8_5714 >> 0x10)));
        in_DX = (uint)(CVar4.value >> 0x10);
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)puVar1,unaff_DI,in_stack_0000ffce,
                     (int16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(in_stack_0000ffda,
                                                          CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT26(in_stack_0000ffd6,
                                                                            CONCAT24(
                                                  in_stack_0000ffd4,
                                                  CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))))
                                     ));
        iVar3 = -(((int)PTR_DAT_10a8_0000_10a8_5794 >> 1) - local_a._2_2_);
        TEXTOUT(8,(int16)CONCAT214(in_stack_0000ffd0,
                                   CONCAT212(in_stack_0000ffce,
                                             CONCAT210(unaff_DI,CONCAT28(puVar1,CONCAT26((int)
                                                  local_a + 8,
                                                  CONCAT15((char)((uint)iVar3 >> 8),
                                                           CONCAT14((char)iVar3,0x10a84452))))))),
                (int16)CONCAT214(in_stack_0000ffe0,
                                 CONCAT212(in_stack_0000ffde,
                                           CONCAT210(in_stack_0000ffdc,
                                                     CONCAT28(in_stack_0000ffda,
                                                              CONCAT26(in_stack_0000ffd8,
                                                                       CONCAT24(in_stack_0000ffd6,
                                                                                CONCAT22(
                                                  in_stack_0000ffd4,in_stack_0000ffd2))))))),
                (LPCSTR)CONCAT22(in_stack_0000ffe4,in_stack_0000ffe2),
                (int16)CONCAT214(in_stack_0000fff4,CONCAT212(in_stack_0000fff2,in_stack_0000ffe6)));
        SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)puVar1,unaff_DI,in_stack_0000ffce,
                     (int16)CONCAT214(in_stack_0000ffde,
                                      CONCAT212(in_stack_0000ffdc,
                                                CONCAT210(in_stack_0000ffda,
                                                          CONCAT28(in_stack_0000ffd8,
                                                                   CONCAT26(in_stack_0000ffd6,
                                                                            CONCAT24(
                                                  in_stack_0000ffd4,
                                                  CONCAT22(in_stack_0000ffd2,in_stack_0000ffd0))))))
                                     ));
        ENDPAINT((HWND16)&stack0xffce,unaff_SS);
        goto LAB_1088_0123;
      }
LAB_1088_02fe:
      return (ulong)in_DX << 0x10;
    }
    if (param_4 == 0x19) {
      HVar2 = GETDLGITEM(0x7d3,(int16)CONCAT214(in_stack_0000ffd6,
                                                CONCAT212(in_stack_0000ffd4,
                                                          CONCAT210(in_stack_0000ffd2,
                                                                    CONCAT28(in_stack_0000ffd0,
                                                                             CONCAT26(
                                                  in_stack_0000ffce,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                        );
      if (HVar2 != param_1) {
        uVar7 = 0xf;
        uVar8 = 0;
        CVar4 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffd4,
                                             CONCAT212(in_stack_0000ffd2,
                                                       CONCAT210(in_stack_0000ffd0,
                                                                 CONCAT28(in_stack_0000ffce,
                                                                          CONCAT26(unaff_DI,CONCAT24
                                                  (unaff_SI,CONCAT22(param_3,0xf))))))));
        CVar4 = SETBKCOLOR((HDC16)CVar4.value,
                           CONCAT13(uVar8,CONCAT12(uVar7,(int)(CVar4.value >> 0x10))));
        return CVar4.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
      }
      goto LAB_1088_02fe;
    }
    if (param_4 != 0x110) {
      if (param_4 != 0x111) goto LAB_1088_02fe;
      if (param_3 != 2) {
        if ((param_3 < 0x7d4) || (0x7d6 < param_3)) {
          if (param_3 == 0x7d3) {
            HVar2 = GETDLGITEM(0x7d3,(int16)CONCAT214(in_stack_0000ffd6,
                                                      CONCAT212(in_stack_0000ffd4,
                                                                CONCAT210(in_stack_0000ffd2,
                                                                          CONCAT28(in_stack_0000ffd0
                                                                                   ,CONCAT26(
                                                  in_stack_0000ffce,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                              );
            LVar5 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffd0,
                                                    CONCAT212(in_stack_0000ffce,
                                                              CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar2,0x40900000000))))),
                                in_stack_0000ffd2,CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4));
            in_DX = (uint)((ulong)LVar5 >> 0x10);
            iVar3 = (int)LVar5;
            if ((int)PTR_DAT_10a8_0001_10a8_00c0 <= iVar3) {
              iVar3 = iVar3 + 1;
            }
            CHECKRADIOBUTTON((int)*(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + iVar3 +
                                           -0x775c) + 0x7d4,
                             (uint16)CONCAT214(in_stack_0000ffd2,
                                               CONCAT212(in_stack_0000ffd0,
                                                         CONCAT210(in_stack_0000ffce,
                                                                   CONCAT28(unaff_DI,CONCAT26(
                                                  unaff_SI,CONCAT24(param_5,0x7d407d6)))))),
                             (uint16)CONCAT214(in_stack_0000ffe2,
                                               CONCAT212(in_stack_0000ffe0,
                                                         CONCAT210(in_stack_0000ffde,
                                                                   CONCAT28(in_stack_0000ffdc,
                                                                            CONCAT26(
                                                  in_stack_0000ffda,
                                                  CONCAT24(in_stack_0000ffd8,
                                                           CONCAT22(in_stack_0000ffd6,
                                                                    in_stack_0000ffd4))))))),
                             (uint16)CONCAT214(in_stack_0000fff2,
                                               CONCAT122(in_stack_0000ffe6,in_stack_0000ffe4)));
          }
          else if (param_3 == 0x76) {
            WINHELP(0xa5,(LPCSTR)0x10000,
                    (uint16)CONCAT214(in_stack_0000ffd2,
                                      CONCAT212(in_stack_0000ffd0,
                                                CONCAT210(in_stack_0000ffce,
                                                          CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_5,CONCAT13(0x10,CONCAT12(0xa8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be)))))))));
            goto LAB_1088_0123;
          }
        }
        else {
          HVar2 = GETDLGITEM(0x7d3,(int16)CONCAT214(in_stack_0000ffd6,
                                                    CONCAT212(in_stack_0000ffd4,
                                                              CONCAT210(in_stack_0000ffd2,
                                                                        CONCAT28(in_stack_0000ffd0,
                                                                                 CONCAT26(
                                                  in_stack_0000ffce,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          LVar5 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffd0,
                                                  CONCAT212(in_stack_0000ffce,
                                                            CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar2,0x40900000000))))),
                              in_stack_0000ffd2,CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4));
          in_DX = (uint)((ulong)LVar5 >> 0x10);
          iVar3 = (int)LVar5;
          if ((int)PTR_DAT_10a8_0001_10a8_00c0 <= iVar3) {
            iVar3 = iVar3 + 1;
          }
          *(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 + iVar3 + -0x775c) = (char)param_3 + ','
          ;
          PTR_DAT_10a8_0000_10a8_59c2 = (undefined *)&DAT_10a8_0001;
        }
        goto LAB_1088_02fe;
      }
      FUN_1018_5a04(param_5,(int *)0x444e,0,unaff_SI,
                    (int16)CONCAT214(in_stack_0000ffda,
                                     CONCAT212(in_stack_0000ffd8,
                                               CONCAT210(in_stack_0000ffd6,
                                                         CONCAT28(in_stack_0000ffd4,
                                                                  CONCAT26(in_stack_0000ffd2,
                                                                           CONCAT24(
                                                  in_stack_0000ffd0,
                                                  CONCAT22(in_stack_0000ffce,unaff_DI))))))),
                    in_stack_0000ffdc);
      HVar2 = GETDLGITEM(0x7d3,(int16)CONCAT214(in_stack_0000ffd6,
                                                CONCAT212(in_stack_0000ffd4,
                                                          CONCAT210(in_stack_0000ffd2,
                                                                    CONCAT28(in_stack_0000ffd0,
                                                                             CONCAT26(
                                                  in_stack_0000ffce,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                        );
      LVar5 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffd0,
                                              CONCAT212(in_stack_0000ffce,
                                                        CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar2,0x40900000000))))),
                          in_stack_0000ffd2,CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4));
      in_DX = (uint)((ulong)LVar5 >> 0x10);
      iVar3 = (int)LVar5;
      if ((int)PTR_DAT_10a8_0001_10a8_00c0 <= iVar3) {
        iVar3 = iVar3 + 1;
      }
      ENDDIALOG(iVar3 + 3,
                (int16)CONCAT214(in_stack_0000ffd6,
                                 CONCAT212(in_stack_0000ffd4,
                                           CONCAT210(in_stack_0000ffd2,
                                                     CONCAT28(in_stack_0000ffd0,
                                                              CONCAT26(in_stack_0000ffce,
                                                                       CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5))))))));
      goto LAB_1088_0123;
    }
    FUN_1018_5a04(param_5,(int *)0x444e,1,unaff_SI,
                  (int16)CONCAT214(in_stack_0000ffda,
                                   CONCAT212(in_stack_0000ffd8,
                                             CONCAT210(in_stack_0000ffd6,
                                                       CONCAT28(in_stack_0000ffd4,
                                                                CONCAT26(in_stack_0000ffd2,
                                                                         CONCAT24(in_stack_0000ffd0,
                                                                                  CONCAT22(
                                                  in_stack_0000ffce,unaff_DI))))))),
                  in_stack_0000ffdc);
    CHECKRADIOBUTTON((int)*(char *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76 +
                                    (uint)(PTR_DAT_10a8_0001_10a8_00c0 == (undefined *)0x0) +
                                   -0x775c) + 0x7d4,
                     (uint16)CONCAT214(in_stack_0000ffd2,
                                       CONCAT212(in_stack_0000ffd0,
                                                 CONCAT210(in_stack_0000ffce,
                                                           CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_5,0x7d407d6)))))),
                     (uint16)CONCAT214(in_stack_0000ffe2,
                                       CONCAT212(in_stack_0000ffe0,
                                                 CONCAT210(in_stack_0000ffde,
                                                           CONCAT28(in_stack_0000ffdc,
                                                                    CONCAT26(in_stack_0000ffda,
                                                                             CONCAT24(
                                                  in_stack_0000ffd8,
                                                  CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4))))))
                                      ),
                     (uint16)CONCAT214(in_stack_0000fff2,
                                       CONCAT122(in_stack_0000ffe6,in_stack_0000ffe4)));
    puVar1 = (undefined *)0x0;
    if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
      do {
        if (PTR_DAT_10a8_0001_10a8_00c0 != puVar1) {
          HVar2 = GETDLGITEM(0x7d3,(int16)CONCAT214(in_stack_0000ffd6,
                                                    CONCAT212(in_stack_0000ffd4,
                                                              CONCAT210(in_stack_0000ffd2,
                                                                        CONCAT28(in_stack_0000ffd0,
                                                                                 CONCAT26(
                                                  in_stack_0000ffce,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          uVar6 = 0;
          uVar7 = 1;
          uVar8 = 4;
          hwnd = FUN_1010_0792((int)puVar1,0,0,0,0,0);
          SENDMESSAGE(hwnd,(uint16)CONCAT214(in_stack_0000ffd0,
                                             CONCAT212(in_stack_0000ffce,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (HVar2,CONCAT15(uVar8,CONCAT14(uVar7,CONCAT22(
                                                  uVar6,0x10a8)))))))),in_stack_0000ffd2,
                      CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4));
        }
        puVar1 = puVar1 + 1;
      } while ((int)puVar1 < (int)PTR_DAT_10a8_0002_10a8_0038);
    }
    HVar2 = GETDLGITEM(0x7d3,(int16)CONCAT214(in_stack_0000ffd6,
                                              CONCAT212(in_stack_0000ffd4,
                                                        CONCAT210(in_stack_0000ffd2,
                                                                  CONCAT28(in_stack_0000ffd0,
                                                                           CONCAT26(
                                                  in_stack_0000ffce,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                      );
    LVar5 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffd0,
                                            CONCAT212(in_stack_0000ffce,
                                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar2,0x40700000000))))),in_stack_0000ffd2,
                        CONCAT22(in_stack_0000ffd6,in_stack_0000ffd4));
    in_DX = (uint)((ulong)LVar5 >> 0x10);
    PTR_DAT_10a8_0000_10a8_59c2 = (undefined *)0x0;
  }
  GETCLIENTRECT((HWND16)&stack0xffee,(RECT16 *)CONCAT22(param_5,unaff_SS));
  FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xffee,(RECT16 *)unaff_SS,param_3);
LAB_1088_0123:
  return CONCAT22(in_DX,1);
}


/*
Unable to decompile 'NEWPLANNAMEDLG'
Cause:
Low-level Error: Overlapping input varnodes
*/


// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: ram

ulong __stdcall16far
BATTLEPLANSDLG(HWND16 param_1,int param_2,uint param_3,int param_4,HRGN16 param_5)

{
  char *pcVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  char cVar4;
  ulong uVar5;
  undefined4 uVar6;
  undefined *hdest;
  HWND16 HVar7;
  uint uVar8;
  int16 *piVar9;
  char *pcVar10;
  HWND16 HVar11;
  int iVar12;
  uint in_DX;
  undefined4 *puVar13;
  undefined2 unaff_SI;
  undefined4 *puVar14;
  int iVar15;
  HRGN16 unaff_DI;
  undefined2 uVar16;
  PAINTSTRUCT16 *unaff_SS;
  COLORREF CVar17;
  LRESULT LVar18;
  void *pvVar19;
  undefined2 uVar20;
  HRGN16 in_stack_0000ffc6;
  int16 *__return_storage_ptr__;
  WPARAM16 in_stack_0000ffc8;
  HINSTANCE16 HVar21;
  undefined *in_stack_0000ffca;
  undefined *in_stack_0000ffcc;
  undefined2 in_stack_0000ffce;
  undefined2 in_stack_0000ffd0;
  undefined2 in_stack_0000ffd2;
  word in_stack_0000ffd4;
  undefined2 in_stack_0000ffd6;
  undefined2 in_stack_0000ffd8;
  LPCSTR in_stack_0000ffda;
  undefined in_stack_0000ffde [16];
  undefined local_12 [4];
  undefined2 local_e;
  undefined2 local_c;
  int local_a;
  int local_8;
  HWND16 local_6;
  undefined *local_4;

  if (param_4 == 0xf) {
    hdest = (undefined *)
            BEGINPAINT((HWND16)&stack0xffce,(PAINTSTRUCT16 *)CONCAT22(param_5,unaff_SS));
    CVar17 = SETBKCOLOR((HDC16)_DAT_10a8_5714,CONCAT22(hdest,(int)((ulong)_DAT_10a8_5714 >> 0x10)));
    in_DX = (uint)(CVar17.value >> 0x10);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)hdest,unaff_DI,in_stack_0000ffc6,
                 (int16)CONCAT214(in_stack_0000ffd6,
                                  CONCAT212(in_stack_0000ffd4,
                                            CONCAT210(in_stack_0000ffd2,
                                                      CONCAT28(in_stack_0000ffd0,
                                                               CONCAT26(in_stack_0000ffce,
                                                                        CONCAT24(in_stack_0000ffcc,
                                                                                 CONCAT22(
                                                  in_stack_0000ffca,in_stack_0000ffc8))))))));
    HVar7 = GETDLGITEM(0x41a,(int16)CONCAT214(in_stack_0000ffd0,
                                              CONCAT212(in_stack_0000ffce,
                                                        CONCAT210(in_stack_0000ffcc,
                                                                  CONCAT28(in_stack_0000ffca,
                                                                           CONCAT26(
                                                  in_stack_0000ffc8,
                                                  CONCAT24(in_stack_0000ffc6,
                                                           CONCAT22(unaff_DI,param_5))))))));
    GETWINDOWRECT((HWND16)&local_a,(RECT16 *)CONCAT22(HVar7,unaff_SS));
    SCREENTOCLIENT((HWND16)&local_a,(POINT16 *)CONCAT22(param_5,unaff_SS));
    HVar7 = GETDLGITEM(0x425,(int16)CONCAT214(in_stack_0000ffd0,
                                              CONCAT212(in_stack_0000ffce,
                                                        CONCAT210(in_stack_0000ffcc,
                                                                  CONCAT28(in_stack_0000ffca,
                                                                           CONCAT26(
                                                  in_stack_0000ffc8,
                                                  CONCAT24(in_stack_0000ffc6,
                                                           CONCAT22(unaff_DI,param_5))))))));
    GETWINDOWRECT((HWND16)local_12,(RECT16 *)CONCAT22(HVar7,unaff_SS));
    SCREENTOCLIENT((HWND16)&local_e,(POINT16 *)CONCAT22(param_5,unaff_SS));
    local_6 = local_e;
    local_4 = (undefined *)local_c;
    FUN_1018_5948(&local_a,(int)PTR_DAT_10a8_0000_10a8_5794,(int)PTR_DAT_10a8_0000_10a8_5794 >> 1);
    FUN_1018_5bba(hdest,(undefined4 *)&local_a,-1,unaff_DI,in_stack_0000ffc6,in_stack_0000ffc8,
                  in_stack_0000ffca,in_stack_0000ffcc,in_stack_0000ffce,in_stack_0000ffd0,
                  in_stack_0000ffd2,in_stack_0000ffd4,in_stack_0000ffd6,in_stack_0000ffd8,
                  (int)in_stack_0000ffda);
    TEXTOUT(8,(int16)CONCAT214(in_stack_0000ffc8,
                               CONCAT212(in_stack_0000ffc6,
                                         CONCAT210(unaff_DI,CONCAT28(hdest,CONCAT26(local_a + 8,
                                                                                    CONCAT24(-(((int
                                                  )PTR_DAT_10a8_0000_10a8_5794 >> 1) - local_8),
                                                  0x10a84460)))))),
            (int16)CONCAT214(in_stack_0000ffd8,
                             CONCAT212(in_stack_0000ffd6,
                                       CONCAT210(in_stack_0000ffd4,
                                                 CONCAT28(in_stack_0000ffd2,
                                                          CONCAT26(in_stack_0000ffd0,
                                                                   CONCAT24(in_stack_0000ffce,
                                                                            CONCAT22(
                                                  in_stack_0000ffcc,in_stack_0000ffca))))))),
            in_stack_0000ffda,(int16)in_stack_0000ffde);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,(HRGN16)hdest,unaff_DI,in_stack_0000ffc6,
                 (int16)CONCAT214(in_stack_0000ffd6,
                                  CONCAT212(in_stack_0000ffd4,
                                            CONCAT210(in_stack_0000ffd2,
                                                      CONCAT28(in_stack_0000ffd0,
                                                               CONCAT26(in_stack_0000ffce,
                                                                        CONCAT24(in_stack_0000ffcc,
                                                                                 CONCAT22(
                                                  in_stack_0000ffca,in_stack_0000ffc8))))))));
    ENDPAINT((HWND16)&stack0xffce,unaff_SS);
LAB_1088_0583:
    return (ulong)in_DX << 0x10 | 1;
  }
  if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)local_12,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)local_12,(RECT16 *)unaff_SS,param_3);
    goto LAB_1088_0583;
  }
  if (param_4 == 0x19) {
    HVar7 = 0x420;
    do {
      HVar11 = GETDLGITEM(HVar7,(int16)CONCAT214(in_stack_0000ffce,
                                                 CONCAT212(in_stack_0000ffcc,
                                                           CONCAT210(in_stack_0000ffca,
                                                                     CONCAT28(in_stack_0000ffc8,
                                                                              CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                         );
      if (HVar11 == param_1) break;
      HVar7 = HVar7 + 1;
    } while ((int)HVar7 < 0x422);
    if (((int)HVar7 < 0x426) || (param_2 == 6)) {
      uVar16 = 0xf;
      CVar17 = GETSYSCOLOR((int16)CONCAT214(in_stack_0000ffcc,
                                            CONCAT212(in_stack_0000ffca,
                                                      CONCAT210(in_stack_0000ffc8,
                                                                CONCAT28(in_stack_0000ffc6,
                                                                         CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(param_3,0xf))))))));
      CVar17 = SETBKCOLOR((HDC16)CVar17.value,CONCAT22(uVar16,(int)(CVar17.value >> 0x10)));
      return CVar17.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
    }
    goto LAB_1088_0d30;
  }
  if (param_4 == 0x110) {
    FUN_1018_5a04(param_5,(int *)&DAT_10a8_445c,1,unaff_SI,
                  (int16)CONCAT214(in_stack_0000ffd2,
                                   CONCAT212(in_stack_0000ffd0,
                                             CONCAT210(in_stack_0000ffce,
                                                       CONCAT28(in_stack_0000ffcc,
                                                                CONCAT26(in_stack_0000ffca,
                                                                         CONCAT24(in_stack_0000ffc8,
                                                                                  CONCAT22(
                                                  in_stack_0000ffc6,unaff_DI))))))),
                  in_stack_0000ffd4);
    PTR_DAT_10a8_0000_10a8_8850 = (undefined *)0x0;
    if ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002) &&
       (in_stack_0000ffca = PTR_DAT_10a8_0000_10a8_7bc6 + (int)PTR_DAT_10a8_0000_10a8_7b52 * 0x12,
       in_stack_0000ffcc = PTR_DAT_10a8_0000_10a8_7bc8, (in_stack_0000ffca[10] & 0xf) == 2)) {
      PTR_DAT_10a8_0000_10a8_8850 = *(undefined **)(in_stack_0000ffca + 0xc);
    }
    uVar16 = *(undefined2 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fa);
    puVar13 = (undefined4 *)
              (*(int *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc) +
              (int)PTR_DAT_10a8_0000_10a8_8850 * 0x2e);
    puVar14 = (undefined4 *)&DAT_10a8_82d8;
    for (iVar12 = 0xb; iVar12 != 0; iVar12 = iVar12 + -1) {
      puVar3 = puVar14;
      puVar14 = puVar14 + 1;
      puVar2 = puVar13;
      puVar13 = puVar13 + 1;
      *puVar3 = *puVar2;
    }
    *(undefined2 *)puVar14 = *(undefined2 *)puVar13;
    local_4 = (undefined *)0x0;
    if (PTR_DAT_10a8_0001_10a8_00c0[0x7a56] != '\0') {
      iVar15 = 0;
      iVar12 = 0;
      do {
        HVar7 = GETDLGITEM(0x427,(int16)CONCAT214(in_stack_0000ffce,
                                                  CONCAT212(in_stack_0000ffcc,
                                                            CONCAT210(in_stack_0000ffca,
                                                                      CONCAT28(in_stack_0000ffc8,
                                                                               CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                          );
        uVar5 = *(ulong *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc);
        SENDMESSAGE((int)uVar5 + iVar15 + 0xe,
                    (uint16)CONCAT214(in_stack_0000ffc8,
                                      CONCAT212(in_stack_0000ffc6,
                                                CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(HVar7,
                                                  CONCAT24(0x403,uVar5 >> 0x10)))))),
                    (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
        iVar15 = iVar15 + 0x2e;
        iVar12 = iVar12 + 1;
      } while (iVar12 < (int)(uint)(byte)PTR_DAT_10a8_0001_10a8_00c0[0x7a56]);
    }
    HVar7 = GETDLGITEM(0x427,(int16)CONCAT214(in_stack_0000ffce,
                                              CONCAT212(in_stack_0000ffcc,
                                                        CONCAT210(in_stack_0000ffca,
                                                                  CONCAT28(in_stack_0000ffc8,
                                                                           CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                      );
    SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                    CONCAT212(in_stack_0000ffc6,
                                              CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(HVar7,
                                                  CONCAT24(0x40e,ZEXT24(PTR_DAT_10a8_0000_10a8_8850)
                                                                 << 0x10)))))),
                (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
    HVar7 = GETDLGITEM(0x41b,(int16)CONCAT214(in_stack_0000ffce,
                                              CONCAT212(in_stack_0000ffcc,
                                                        CONCAT210(in_stack_0000ffca,
                                                                  CONCAT28(in_stack_0000ffc8,
                                                                           CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                      );
    ENABLEWINDOW(0,HVar7);
    local_6 = 0x422;
    do {
      uVar8 = 0x9f;
      do {
        HVar7 = GETDLGITEM(local_6,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                          );
        uVar16 = 0;
        uVar20 = 0x403;
        HVar11 = FUN_1018_5112(uVar8);
        SENDMESSAGE(HVar11,(uint16)CONCAT214(in_stack_0000ffc8,
                                             CONCAT212(in_stack_0000ffc6,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (HVar7,CONCAT24(uVar20,CONCAT22(uVar16,0x10a8)))))
                                                  )),(WPARAM16)in_stack_0000ffca,
                    CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
        HVar7 = local_6;
        uVar8 = uVar8 + 1;
      } while ((int)uVar8 < 0xa5);
      HVar11 = GETDLGITEM(local_6,(int16)CONCAT214(in_stack_0000ffce,
                                                   CONCAT212(in_stack_0000ffcc,
                                                             CONCAT210(in_stack_0000ffca,
                                                                       CONCAT28(in_stack_0000ffc8,
                                                                                CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                         );
      SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                      CONCAT212(in_stack_0000ffc6,
                                                CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(HVar11
                                                  ,CONCAT24(0x40e,(ulong)*(byte *)(HVar7 + 0x7eb8)
                                                                  << 0x10)))))),
                  (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
      local_6 = HVar7 + 1;
    } while ((int)local_6 < 0x426);
    uVar8 = 0xf3;
    do {
      HVar7 = GETDLGITEM(0x428,(int16)CONCAT214(in_stack_0000ffce,
                                                CONCAT212(in_stack_0000ffcc,
                                                          CONCAT210(in_stack_0000ffca,
                                                                    CONCAT28(in_stack_0000ffc8,
                                                                             CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                        );
      uVar16 = 0;
      uVar20 = 0x403;
      HVar11 = FUN_1018_5112(uVar8);
      SENDMESSAGE(HVar11,(uint16)CONCAT214(in_stack_0000ffc8,
                                           CONCAT212(in_stack_0000ffc6,
                                                     CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,CONCAT24(uVar20,CONCAT22(uVar16,0x10a8))))))
                                          ),(WPARAM16)in_stack_0000ffca,
                  CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
      uVar8 = uVar8 + 1;
    } while ((int)uVar8 < 0xf8);
    HVar7 = GETDLGITEM(0x428,(int16)CONCAT214(in_stack_0000ffce,
                                              CONCAT212(in_stack_0000ffcc,
                                                        CONCAT210(in_stack_0000ffca,
                                                                  CONCAT28(in_stack_0000ffc8,
                                                                           CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                      );
    SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                    CONCAT212(in_stack_0000ffc6,
                                              CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(HVar7,
                                                  CONCAT24(0x40e,(ulong)(((_DAT_10a8_82d8 >> 8 &
                                                                          0x1c) << 8) >> 10) << 0x10
                                                          )))))),(WPARAM16)in_stack_0000ffca,
                CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
    HVar7 = GETDLGITEM(0x420,(int16)CONCAT214(in_stack_0000ffce,
                                              CONCAT212(in_stack_0000ffcc,
                                                        CONCAT210(in_stack_0000ffca,
                                                                  CONCAT28(in_stack_0000ffc8,
                                                                           CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                      );
    SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                    CONCAT212(in_stack_0000ffc6,
                                              CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(HVar7,
                                                  CONCAT24(0x401,((ulong)DAT_10a8_82d9 & 1) << 0x10)
                                                  ))))),(WPARAM16)in_stack_0000ffca,
                CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
    HVar7 = GETDLGITEM(0x421,(int16)CONCAT214(in_stack_0000ffce,
                                              CONCAT212(in_stack_0000ffcc,
                                                        CONCAT210(in_stack_0000ffca,
                                                                  CONCAT28(in_stack_0000ffc8,
                                                                           CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                      );
    LVar18 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                             CONCAT212(in_stack_0000ffc6,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (HVar7,CONCAT24(0x401,(ulong)(((_DAT_10a8_82d8 >>
                                                                                  8 & 2) << 8) >> 9)
                                                                        << 0x10)))))),
                         (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
    in_DX = (uint)((ulong)LVar18 >> 0x10);
    PTR_DAT_10a8_0000_10a8_59c2 = (undefined *)0x0;
    goto LAB_1088_0583;
  }
  if (param_4 != 0x111) goto LAB_1088_0d30;
  if ((param_3 == 1) || (param_3 == 2)) {
    if (PTR_DAT_10a8_0000_10a8_59c2 != (undefined *)0x0) {
      uVar6 = *(undefined4 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc);
      uVar16 = (undefined2)((ulong)uVar6 >> 0x10);
      puVar13 = (undefined4 *)((int)uVar6 + (int)PTR_DAT_10a8_0000_10a8_8850 * 0x2e);
      puVar14 = (undefined4 *)&DAT_10a8_82d8;
      for (iVar12 = 0xb; iVar12 != 0; iVar12 = iVar12 + -1) {
        puVar3 = puVar13;
        puVar13 = puVar13 + 1;
        puVar2 = puVar14;
        puVar14 = puVar14 + 1;
        *puVar3 = *puVar2;
      }
      *(undefined2 *)puVar13 = *(undefined2 *)puVar14;
      FUN_1020_4230((byte *)&DAT_10a8_82d8);
    }
    FUN_1018_5a04(param_5,(int *)&DAT_10a8_445c,0,unaff_SI,
                  (int16)CONCAT214(in_stack_0000ffd2,
                                   CONCAT212(in_stack_0000ffd0,
                                             CONCAT210(in_stack_0000ffce,
                                                       CONCAT28(in_stack_0000ffcc,
                                                                CONCAT26(in_stack_0000ffca,
                                                                         CONCAT24(in_stack_0000ffc8,
                                                                                  CONCAT22(
                                                  in_stack_0000ffc6,unaff_DI))))))),
                  in_stack_0000ffd4);
    ENDDIALOG((HWND16)PTR_DAT_10a8_0000_10a8_8850,
              (int16)CONCAT214(in_stack_0000ffce,
                               CONCAT212(in_stack_0000ffcc,
                                         CONCAT210(in_stack_0000ffca,
                                                   CONCAT28(in_stack_0000ffc8,
                                                            CONCAT26(in_stack_0000ffc6,
                                                                     CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5))))))));
    PTR_DAT_10a8_0000_10a8_8850 = (undefined *)0xffff;
    goto LAB_1088_0583;
  }
  if ((param_3 < 0x422) || (0x425 < param_3)) {
    if (param_3 == 0x420) {
      LVar18 = SENDDLGITEMMESSAGE(0,(int16)CONCAT214(in_stack_0000ffc6,
                                                     CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  param_5,0x420040000000000)))),in_stack_0000ffc8,
                                  CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
      in_DX = (uint)((ulong)LVar18 >> 0x10);
      uVar8 = ((byte)((byte)LVar18 ^ DAT_10a8_82d9) & 1) << 8;
    }
    else if (param_3 == 0x421) {
      LVar18 = SENDDLGITEMMESSAGE(0,(int16)CONCAT214(in_stack_0000ffc6,
                                                     CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  param_5,0x421040000000000)))),in_stack_0000ffc8,
                                  CONCAT22(in_stack_0000ffcc,in_stack_0000ffca));
      in_DX = (uint)((ulong)LVar18 >> 0x10);
      uVar8 = ((byte)((byte)((ulong)(uint)((int)LVar18 << 9) >> 8) ^ DAT_10a8_82d9) & 2) << 8;
    }
    else {
      if (param_3 != 0x428) {
        if (param_3 == 0x41b) {
          FUN_1018_5a04(param_5,(int *)&DAT_10a8_445c,0,unaff_SI,
                        (int16)CONCAT214(in_stack_0000ffd2,
                                         CONCAT212(in_stack_0000ffd0,
                                                   CONCAT210(in_stack_0000ffce,
                                                             CONCAT28(in_stack_0000ffcc,
                                                                      CONCAT26(in_stack_0000ffca,
                                                                               CONCAT24(
                                                  in_stack_0000ffc8,
                                                  CONCAT22(in_stack_0000ffc6,unaff_DI))))))),
                        in_stack_0000ffd4);
          pvVar19 = MAKEPROCINSTANCE((void *)CONCAT22(0x38e,PTR_DAT_10a8_0000_10a8_839a),
                                     (int)s_COMBOBOX_10a8_1085 + 3);
          in_DX = (uint)((ulong)pvVar19 >> 0x10);
          __return_storage_ptr__ = (int16 *)pvVar19;
          HVar21 = in_DX;
          local_4 = (undefined *)in_DX;
          piVar9 = DIALOGBOX(__return_storage_ptr__,in_DX,
                             (LPCSTR)CONCAT22(0x7e3,PTR_DAT_10a8_0000_10a8_58b4),0,
                             PTR_DAT_10a8_0000_10a8_839a);
          FREEPROCINSTANCE((void *)CONCAT22(HVar21,__return_storage_ptr__));
          SETFOCUS(param_5);
          if (piVar9 != (int16 *)0x0) {
            uVar6 = *(undefined4 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc);
            uVar16 = (undefined2)((ulong)uVar6 >> 0x10);
            puVar13 = (undefined4 *)((int)uVar6 + (int)PTR_DAT_10a8_0000_10a8_8850 * 0x2e);
            puVar14 = (undefined4 *)&DAT_10a8_82d8;
            for (iVar12 = 0xb; iVar12 != 0; iVar12 = iVar12 + -1) {
              puVar3 = puVar13;
              puVar13 = puVar13 + 1;
              puVar2 = puVar14;
              puVar14 = puVar14 + 1;
              *puVar3 = *puVar2;
            }
            *(undefined2 *)puVar13 = *(undefined2 *)puVar14;
            HVar7 = GETDLGITEM(0x427,(int16)CONCAT214(in_stack_0000ffce,
                                                      CONCAT212(in_stack_0000ffcc,
                                                                CONCAT210(in_stack_0000ffca,
                                                                          CONCAT28(HVar21,CONCAT26(
                                                  __return_storage_ptr__,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                              );
            SENDMESSAGE(0,(uint16)CONCAT214(HVar21,CONCAT212(__return_storage_ptr__,
                                                             CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar7,0x40b00000000))))),
                        (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
            local_4 = (undefined *)0x0;
            if (PTR_DAT_10a8_0001_10a8_00c0[0x7a56] != '\0') {
              iVar15 = 0;
              iVar12 = 0;
              do {
                HVar7 = GETDLGITEM(0x427,(int16)CONCAT214(in_stack_0000ffce,
                                                          CONCAT212(in_stack_0000ffcc,
                                                                    CONCAT210(in_stack_0000ffca,
                                                                              CONCAT28(HVar21,
                                                  CONCAT26(__return_storage_ptr__,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_5))))))));
                uVar5 = *(ulong *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc);
                SENDMESSAGE((int)uVar5 + iVar15 + 0xe,
                            (uint16)CONCAT214(HVar21,CONCAT212(__return_storage_ptr__,
                                                               CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar7,CONCAT24(0x403,uVar5 >> 0x10)))))),
                            (WPARAM16)in_stack_0000ffca,
                            CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
                iVar15 = iVar15 + 0x2e;
                iVar12 = iVar12 + 1;
              } while (iVar12 < (int)(uint)(byte)PTR_DAT_10a8_0001_10a8_00c0[0x7a56]);
            }
            HVar7 = GETDLGITEM(0x427,(int16)CONCAT214(in_stack_0000ffce,
                                                      CONCAT212(in_stack_0000ffcc,
                                                                CONCAT210(in_stack_0000ffca,
                                                                          CONCAT28(HVar21,CONCAT26(
                                                  __return_storage_ptr__,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                              );
            LVar18 = SENDMESSAGE(0,(uint16)CONCAT214(HVar21,CONCAT212(__return_storage_ptr__,
                                                                      CONCAT210(unaff_DI,CONCAT28(
                                                  unaff_SI,CONCAT26(HVar7,CONCAT24(0x40e,ZEXT24(
                                                  PTR_DAT_10a8_0000_10a8_8850) << 0x10)))))),
                                 (WPARAM16)in_stack_0000ffca,
                                 CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
            in_DX = (uint)((ulong)LVar18 >> 0x10);
          }
          goto LAB_1088_0d30;
        }
        if (param_3 == 0x41c) {
          if (PTR_DAT_10a8_0001_10a8_00c0[0x7a56] == '\x0f') goto LAB_1088_0d30;
          if (PTR_DAT_10a8_0000_10a8_59c2 != (undefined *)0x0) {
            uVar6 = *(undefined4 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc);
            uVar16 = (undefined2)((ulong)uVar6 >> 0x10);
            puVar13 = (undefined4 *)((int)uVar6 + (int)PTR_DAT_10a8_0000_10a8_8850 * 0x2e);
            puVar14 = (undefined4 *)&DAT_10a8_82d8;
            for (iVar12 = 0xb; iVar12 != 0; iVar12 = iVar12 + -1) {
              puVar3 = puVar13;
              puVar13 = puVar13 + 1;
              puVar2 = puVar14;
              puVar14 = puVar14 + 1;
              *puVar3 = *puVar2;
            }
            *(undefined2 *)puVar13 = *(undefined2 *)puVar14;
            FUN_1020_4230((byte *)&DAT_10a8_82d8);
            PTR_DAT_10a8_0000_10a8_59c2 = (undefined *)0x0;
          }
          PTR_DAT_10a8_0000_10a8_8850 = (undefined *)(uint)(byte)PTR_DAT_10a8_0001_10a8_00c0[0x7a56]
          ;
          pcVar1 = PTR_DAT_10a8_0001_10a8_00c0 + 0x7a56;
          *pcVar1 = *pcVar1 + '\x01';
          pcVar10 = (char *)&PTR_DAT_10a8_0000_10a8_82e6;
          uVar8 = 0xffff;
          do {
            if (uVar8 == 0) break;
            uVar8 = uVar8 - 1;
            pcVar1 = pcVar10;
            pcVar10 = pcVar10 + 1;
          } while (*pcVar1 != '\0');
          uVar8 = ~uVar8;
          if ((int)(uVar8 - 1) < 0x1c) {
            if (((*(char *)((int)&DAT_10a8_82e4 + uVar8) == ')') &&
                (cVar4 = *(char *)((int)&DAT_10a8_82e3 + uVar8),
                (*(byte *)(cVar4 + 0x4ca5) & 4) != 0)) && (*(char *)(uVar8 + 0x82e2) == '(')) {
              if (cVar4 == '9') {
                *(undefined *)((int)&DAT_10a8_82e3 + uVar8) = 0x30;
              }
              else {
                pcVar1 = (char *)((int)&DAT_10a8_82e3 + uVar8);
                *pcVar1 = *pcVar1 + '\x01';
              }
            }
            else {
              *(undefined4 *)((int)&DAT_10a8_82e5 + uVar8) =
                   _PTR_PTR_DAT_10a8_0000_10a8_2820_10a8_4469;
              *(undefined *)(uVar8 + 0x82e9) = DAT_10a8_446d;
            }
          }
          _DAT_10a8_82d8 =
               _DAT_10a8_82d8 ^
               (byte)((char)PTR_DAT_10a8_0000_10a8_8850 << 4 ^ DAT_10a8_82d8) & 0xf0;
          uVar6 = *(undefined4 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc);
          uVar16 = (undefined2)((ulong)uVar6 >> 0x10);
          puVar13 = (undefined4 *)((int)uVar6 + (int)PTR_DAT_10a8_0000_10a8_8850 * 0x2e);
          puVar14 = (undefined4 *)&DAT_10a8_82d8;
          for (iVar12 = 0xb; iVar12 != 0; iVar12 = iVar12 + -1) {
            puVar3 = puVar13;
            puVar13 = puVar13 + 1;
            puVar2 = puVar14;
            puVar14 = puVar14 + 1;
            *puVar3 = *puVar2;
          }
          *(undefined2 *)puVar13 = *(undefined2 *)puVar14;
          local_6 = 0x422;
          HVar7 = 0x422;
          do {
            HVar11 = GETDLGITEM(HVar7,(int16)CONCAT214(in_stack_0000ffce,
                                                       CONCAT212(in_stack_0000ffcc,
                                                                 CONCAT210(in_stack_0000ffca,
                                                                           CONCAT28(
                                                  in_stack_0000ffc8,
                                                  CONCAT26(in_stack_0000ffc6,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_5))))))));
            SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                            CONCAT212(in_stack_0000ffc6,
                                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar11,CONCAT24(0x40e,(ulong)*(byte *)(HVar7 +
                                                  0x7eb8) << 0x10)))))),(WPARAM16)in_stack_0000ffca,
                        CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
            HVar7 = HVar7 + 1;
          } while ((int)HVar7 < 0x426);
          HVar7 = GETDLGITEM(0x427,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,0x40b00000000))))),
                      (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          local_4 = (undefined *)0x0;
          if (PTR_DAT_10a8_0001_10a8_00c0[0x7a56] != '\0') {
            iVar15 = 0;
            iVar12 = 0;
            do {
              HVar7 = GETDLGITEM(0x427,(int16)CONCAT214(in_stack_0000ffce,
                                                        CONCAT212(in_stack_0000ffcc,
                                                                  CONCAT210(in_stack_0000ffca,
                                                                            CONCAT28(
                                                  in_stack_0000ffc8,
                                                  CONCAT26(in_stack_0000ffc6,
                                                           CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  param_5))))))));
              uVar5 = *(ulong *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc);
              SENDMESSAGE((int)uVar5 + iVar15 + 0xe,
                          (uint16)CONCAT214(in_stack_0000ffc8,
                                            CONCAT212(in_stack_0000ffc6,
                                                      CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,CONCAT24(0x403,uVar5 >> 0x10)))))),
                          (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc))
              ;
              iVar15 = iVar15 + 0x2e;
              iVar12 = iVar12 + 1;
            } while (iVar12 < (int)(uint)(byte)PTR_DAT_10a8_0001_10a8_00c0[0x7a56]);
          }
          HVar7 = GETDLGITEM(0x427,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,CONCAT24(0x40e,ZEXT24(
                                                  PTR_DAT_10a8_0000_10a8_8850) << 0x10)))))),
                      (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          HVar7 = GETDLGITEM(0x428,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,CONCAT24(0x40e,(ulong)(((_DAT_10a8_82d8 >> 8
                                                                                & 0x1c) << 8) >> 10)
                                                                       << 0x10)))))),
                      (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          HVar7 = GETDLGITEM(0x420,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,CONCAT24(0x401,((ulong)(_DAT_10a8_82d8 >> 8)
                                                                       & 1) << 0x10)))))),
                      (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          HVar7 = GETDLGITEM(0x421,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,CONCAT24(0x401,(ulong)(((_DAT_10a8_82d8 >> 8
                                                                                & 2) << 8) >> 9) <<
                                                                       0x10)))))),
                      (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          PTR_DAT_10a8_0000_10a8_59c2 = (undefined *)&DAT_10a8_0001;
          HVar7 = GETDLGITEM(0x41b,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          uVar8 = 1;
        }
        else {
          if (param_3 != 0x427) {
            if (param_3 == 0x76) {
              WINHELP(0xa0,(LPCSTR)0x10000,
                      (uint16)CONCAT214(in_stack_0000ffca,
                                        CONCAT212(in_stack_0000ffc8,
                                                  CONCAT210(in_stack_0000ffc6,
                                                            CONCAT28(unaff_DI,CONCAT26(unaff_SI,
                                                  CONCAT24(param_5,CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be))))))));
              goto LAB_1088_0583;
            }
            goto LAB_1088_0d30;
          }
          HVar7 = GETDLGITEM(0x427,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          LVar18 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                                   CONCAT212(in_stack_0000ffc6,
                                                             CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar7,0x40700000000))))),
                               (WPARAM16)in_stack_0000ffca,
                               CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          in_DX = (uint)((ulong)LVar18 >> 0x10);
          local_4 = (undefined *)LVar18;
          if (local_4 == PTR_DAT_10a8_0000_10a8_8850) goto LAB_1088_0d30;
          if (PTR_DAT_10a8_0000_10a8_59c2 != (undefined *)0x0) {
            uVar6 = *(undefined4 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc);
            uVar16 = (undefined2)((ulong)uVar6 >> 0x10);
            puVar13 = (undefined4 *)((int)uVar6 + (int)PTR_DAT_10a8_0000_10a8_8850 * 0x2e);
            puVar14 = (undefined4 *)&DAT_10a8_82d8;
            for (iVar12 = 0xb; iVar12 != 0; iVar12 = iVar12 + -1) {
              puVar3 = puVar13;
              puVar13 = puVar13 + 1;
              puVar2 = puVar14;
              puVar14 = puVar14 + 1;
              *puVar3 = *puVar2;
            }
            *(undefined2 *)puVar13 = *(undefined2 *)puVar14;
            FUN_1020_4230((byte *)&DAT_10a8_82d8);
            PTR_DAT_10a8_0000_10a8_59c2 = (undefined *)0x0;
          }
          PTR_DAT_10a8_0000_10a8_8850 = local_4;
          uVar16 = *(undefined2 *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fa);
          puVar13 = (undefined4 *)
                    (*(int *)((int)PTR_DAT_10a8_0001_10a8_00c0 * 4 + -0x77fc) + (int)local_4 * 0x2e)
          ;
          puVar14 = (undefined4 *)&DAT_10a8_82d8;
          for (iVar12 = 0xb; iVar12 != 0; iVar12 = iVar12 + -1) {
            puVar3 = puVar14;
            puVar14 = puVar14 + 1;
            puVar2 = puVar13;
            puVar13 = puVar13 + 1;
            *puVar3 = *puVar2;
          }
          *(undefined2 *)puVar14 = *(undefined2 *)puVar13;
          HVar7 = GETDLGITEM(0x428,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,CONCAT24(0x40e,(ulong)(((_DAT_10a8_82d8 >> 8
                                                                                & 0x1c) << 8) >> 10)
                                                                       << 0x10)))))),
                      (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          HVar7 = GETDLGITEM(0x420,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,CONCAT24(0x401,((ulong)DAT_10a8_82d9 & 1) <<
                                                                       0x10)))))),
                      (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          HVar7 = GETDLGITEM(0x421,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                          CONCAT212(in_stack_0000ffc6,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar7,CONCAT24(0x401,(ulong)(((_DAT_10a8_82d8 >> 8
                                                                                & 2) << 8) >> 9) <<
                                                                       0x10)))))),
                      (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          HVar7 = GETDLGITEM(0x41b,(int16)CONCAT214(in_stack_0000ffce,
                                                    CONCAT212(in_stack_0000ffcc,
                                                              CONCAT210(in_stack_0000ffca,
                                                                        CONCAT28(in_stack_0000ffc8,
                                                                                 CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                            );
          uVar8 = (uint)(PTR_DAT_10a8_0000_10a8_8850 != (undefined *)0x0);
        }
        ENABLEWINDOW(uVar8,HVar7);
        HVar7 = 0x422;
        do {
          HVar11 = GETDLGITEM(HVar7,(int16)CONCAT214(in_stack_0000ffce,
                                                     CONCAT212(in_stack_0000ffcc,
                                                               CONCAT210(in_stack_0000ffca,
                                                                         CONCAT28(in_stack_0000ffc8,
                                                                                  CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                             );
          LVar18 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                                   CONCAT212(in_stack_0000ffc6,
                                                             CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar11,CONCAT24(0x40e,(ulong)*(byte *)(
                                                  HVar7 + 0x7eb8) << 0x10)))))),
                               (WPARAM16)in_stack_0000ffca,
                               CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
          in_DX = (uint)((ulong)LVar18 >> 0x10);
          HVar7 = HVar7 + 1;
        } while ((int)HVar7 < 0x426);
        goto LAB_1088_0d30;
      }
      HVar7 = GETDLGITEM(0x428,(int16)CONCAT214(in_stack_0000ffce,
                                                CONCAT212(in_stack_0000ffcc,
                                                          CONCAT210(in_stack_0000ffca,
                                                                    CONCAT28(in_stack_0000ffc8,
                                                                             CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                        );
      LVar18 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                               CONCAT212(in_stack_0000ffc6,
                                                         CONCAT210(unaff_DI,CONCAT28(unaff_SI,
                                                  CONCAT26(HVar7,0x40700000000))))),
                           (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc)
                          );
      in_DX = (uint)((ulong)LVar18 >> 0x10);
      uVar8 = ((byte)((byte)((ulong)(uint)((int)LVar18 << 10) >> 8) ^ DAT_10a8_82d9) & 0x1c) << 8;
    }
    _DAT_10a8_82d8 = _DAT_10a8_82d8 ^ uVar8;
  }
  else {
    HVar7 = GETDLGITEM(param_3,(int16)CONCAT214(in_stack_0000ffce,
                                                CONCAT212(in_stack_0000ffcc,
                                                          CONCAT210(in_stack_0000ffca,
                                                                    CONCAT28(in_stack_0000ffc8,
                                                                             CONCAT26(
                                                  in_stack_0000ffc6,
                                                  CONCAT24(unaff_DI,CONCAT22(unaff_SI,param_5)))))))
                      );
    LVar18 = SENDMESSAGE(0,(uint16)CONCAT214(in_stack_0000ffc8,
                                             CONCAT212(in_stack_0000ffc6,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (HVar7,0x40700000000))))),
                         (WPARAM16)in_stack_0000ffca,CONCAT22(in_stack_0000ffce,in_stack_0000ffcc));
    in_DX = (uint)((ulong)LVar18 >> 0x10);
    *(undefined *)(param_3 + 0x7eb8) = (char)LVar18;
  }
  PTR_DAT_10a8_0000_10a8_59c2 = (undefined *)&DAT_10a8_0001;
LAB_1088_0d30:
  return (ulong)in_DX << 0x10;
}



undefined __cdecl16far FUN_1088_0d38(int param_1,int param_2,undefined2 param_3,int param_4)

{
  undefined4 uVar1;
  int iVar2;
  uint local_4;

  iVar2 = (((*(byte *)(param_2 + 1) & 0x1e) << 8) >> 9) * 4;
  local_4 = *(byte *)(*(int *)(*(int *)(iVar2 + 0x72) + param_4 * 0x87) * 0x93 + 0x2f2d) & 0xf;
  if ((local_4 == 1) || (local_4 == 2)) {
    iVar2 = FUN_1088_1a74(param_1);
    if (iVar2 == -1) {
      local_4 = 0;
    }
  }
  uVar1 = *(undefined4 *)(param_2 + 100);
  if ((*(byte *)((int)uVar1 + 10) & 0xf) == 2) {
    uVar1 = *(undefined4 *)(param_2 + 100);
    iVar2 = *(int *)((int)uVar1 + 0xc);
  }
  else {
    iVar2 = 0;
  }
  uVar1 = *(undefined4 *)((((*(byte *)(param_2 + 1) & 0x1e) << 8) >> 9) * 4 + -0x77fc);
  return *(undefined *)((int)uVar1 + iVar2 * 0x2e + 2 + local_4);
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1088_0dde(uint *param_1,undefined2 param_2)

{
  int iVar1;
  int *piVar2;
  int unaff_SS;
  int iVar3;
  int local_14;
  undefined4 local_12;
  int *local_e;

  iVar3 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_14 = 0;
  local_12 = *(int **)(((*param_1 & 0x1e00) >> 9) * 4 + 0x72);
  local_e = (int *)CONCAT22(param_2,param_1 + 6);
  do {
    if (((*local_e != 0) && ((*(byte *)(*local_12 * 0x93 + 0x2f2d) & 0xf) == 3)) &&
       (iVar1 = 0, *(char *)((int)local_12 + 0x7a) != '\0')) {
      piVar2 = (int *)((int)local_12 + 0x3a);
      do {
        if (*piVar2 == 0x40) {
          return 1;
        }
        piVar2 = piVar2 + 2;
        iVar1 = iVar1 + 1;
        iVar3 = unaff_SS;
      } while (iVar1 < (int)(uint)*(byte *)((int)local_12 + 0x7a));
    }
    local_12 = (int *)((ulong)local_12 & 0xffff0000 | (ulong)((int)local_12 + 0x87));
    local_e = (int *)((ulong)local_e & 0xffff0000 | (ulong)((int)local_e + 2));
    local_14 = local_14 + 1;
  } while (local_14 < 0x10);
  return 0;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1088_0e78(uint *param_1,undefined2 param_2)

{
  undefined4 uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  byte *pbVar5;
  int unaff_SS;
  int iVar6;
  int local_14;
  undefined4 local_12;
  int *local_e;

  iVar6 = (int)s_From___s_c_c_10a8_10a2 + 6;
  iVar4 = ((*param_1 & 0x1e00) >> 9) * 4;
  uVar1 = *(undefined4 *)(param_1 + 0x32);
  local_14 = 0;
  local_12 = *(int **)(iVar4 + 0x72);
  local_e = (int *)CONCAT22(param_2,param_1 + 6);
  do {
    if (((*local_e != 0) &&
        (((uVar2 = *(byte *)(*local_12 * 0x93 + 0x2f2d) & 0xf, uVar2 == 1 || (uVar2 == 2)) &&
         (1 < *(byte *)(*(int *)(iVar4 + -0x77fc) + *(int *)((int)uVar1 + 0xc) * 0x2e + 2 + uVar2)))
        )) && (iVar3 = 0, *(char *)((int)local_12 + 0x7a) != '\0')) {
      pbVar5 = (byte *)((int)local_12 + 0x3a);
      do {
        if ((*pbVar5 & 0x30) != 0) {
          return 1;
        }
        pbVar5 = pbVar5 + 4;
        iVar3 = iVar3 + 1;
        iVar6 = unaff_SS;
      } while (iVar3 < (int)(uint)*(byte *)((int)local_12 + 0x7a));
    }
    local_12 = (int *)((ulong)local_12 & 0xffff0000 | (ulong)((int)local_12 + 0x87));
    local_e = (int *)((ulong)local_e & 0xffff0000 | (ulong)((int)local_e + 2));
    local_14 = local_14 + 1;
  } while (local_14 < 0x10);
  return 0;
}



uint __cdecl16far FUN_1088_0f48(int param_1,undefined2 param_2)

{
  undefined4 uVar1;
  int iVar2;

  uVar1 = *(undefined4 *)(param_1 + 100);
  if ((*(byte *)((int)uVar1 + 10) & 0xf) == 2) {
    uVar1 = *(undefined4 *)(param_1 + 100);
    iVar2 = *(int *)((int)uVar1 + 0xc);
  }
  else {
    iVar2 = 0;
  }
  uVar1 = *(undefined4 *)((((*(byte *)(param_1 + 1) & 0x1e) << 8) >> 9) * 4 + -0x77fc);
  return ((*(byte *)((int)uVar1 + iVar2 * 0x2e + 1) & 0x1c) << 8) >> 10;
}



byte __cdecl16far FUN_1088_0f96(int param_1,undefined2 param_2)

{
  undefined4 uVar1;
  int iVar2;

  uVar1 = *(undefined4 *)(param_1 + 100);
  if ((*(byte *)((int)uVar1 + 10) & 0xf) == 2) {
    uVar1 = *(undefined4 *)(param_1 + 100);
    iVar2 = *(int *)((int)uVar1 + 0xc);
  }
  else {
    iVar2 = 0;
  }
  uVar1 = *(undefined4 *)((((*(byte *)(param_1 + 1) & 0x1e) << 8) >> 9) * 4 + -0x77fc);
  return *(byte *)((int)uVar1 + iVar2 * 0x2e + 1) & 1;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far
FUN_1088_0fe2(undefined4 param_1,long param_2,undefined2 param_3,long param_4)

{
  int *piVar1;
  byte *pbVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined2 uVar5;
  undefined4 uVar6;
  ulong uVar7;
  long *plVar8;
  int iVar9;
  int iVar10;
  long lVar11;
  int iVar12;
  undefined4 *puVar13;
  undefined4 *puVar14;
  int *piVar15;
  undefined4 *puVar16;
  uint uVar17;
  undefined2 uVar18;
  undefined2 unaff_SS;
  long local_110;
  undefined4 local_106;
  uint local_102;
  long *local_fa [52];
  undefined4 local_92;
  int local_86 [16];
  int local_66 [32];
  long local_26;
  undefined2 local_1e;
  int iStack_1c;
  undefined4 local_1a;
  int local_16;
  undefined4 local_14;
  undefined4 local_10;
  ulong local_a;
  long *local_6;
  int local_4;

  uVar18 = (undefined2)((ulong)param_1 >> 0x10);
  puVar13 = (undefined4 *)param_1;
  local_16 = *(int *)((int)puVar13 + 2);
  local_10 = CONCAT22(0xffff,(int)local_10);
  local_1a = 0;
  local_1e = 0;
  iStack_1c = 0;
  if ((0xffff < param_2) || ((-1 < param_2 && ((int)param_2 != 0)))) {
    puVar16 = &local_92;
    puVar14 = puVar13;
    for (iVar12 = 0x1d; iVar12 != 0; iVar12 = iVar12 + -1) {
      puVar4 = puVar16;
      puVar16 = puVar16 + 1;
      puVar3 = puVar14;
      puVar14 = puVar14 + 1;
      *puVar4 = *puVar3;
    }
    local_14 = (local_26 * param_2) / param_4;
    if (param_4 < local_14) {
      pbVar2 = (byte *)((int)puVar13 + 5);
      *pbVar2 = *pbVar2 | 4;
      return 1;
    }
    if (local_14 != 0) {
      if (local_14 < 0) {
        local_14 = CONCAT22(-((int)((ulong)local_14 >> 0x10) + (uint)((uint)local_14 != 0)),
                            -(uint)local_14);
      }
      uVar17 = 0;
      uVar5 = *(undefined2 *)(local_16 * 4 + 0x74);
      local_6 = (long *)(*(int *)(local_16 * 4 + 0x72) + 0x83);
      piVar15 = local_86;
      do {
        if (*piVar15 != 0) {
          uVar7 = local_1a & 0xffff;
          local_1a = uVar7 | (ulong)(local_1a._2_2_ + 1U) << 0x10;
          local_1a._0_2_ = (int)uVar7;
          local_1a = CONCAT22(local_1a._2_2_ + 1U,(int)local_1a + *piVar15);
          if (local_10._2_2_ != -1) {
            lVar11 = *local_6 * (long)*piVar15;
            if (lVar11 - local_a == 0 || lVar11 < (long)local_a) goto LAB_1088_10cb;
          }
          local_a = *local_6 * (long)*piVar15;
          local_10 = local_10 & 0xffff | (ulong)uVar17 << 0x10;
        }
LAB_1088_10cb:
        local_6 = (long *)((int)local_6 + 0x87);
        uVar17 = uVar17 + 1;
        piVar15 = piVar15 + 1;
        if (local_66 <= piVar15) {
          puVar16 = &local_106;
          for (iVar12 = 0x1d; iVar12 != 0; iVar12 = iVar12 + -1) {
            puVar3 = puVar16;
            puVar16 = puVar16 + 1;
            *puVar3 = 0;
          }
          local_106._2_2_ = local_92._2_2_;
          local_102 = (uint)CONCAT31((uint3)(byte)(local_102 >> 8),7) | 0x400;
          local_4 = local_86[local_10._2_2_];
          uVar6 = *(undefined4 *)(local_16 * 4 + 0x72);
          iVar12 = *(int *)((int)uVar6 + local_10._2_2_ * 0x87 + 0x38);
          uVar17 = iVar12 * local_4 - local_66[local_10._2_2_];
          local_a = (ulong)uVar17;
          if ((local_14._2_2_ < 1) && ((local_14 < 0 || ((uint)local_14 < uVar17)))) {
            plVar8 = (long *)(local_14 / ((long)local_a / (long)local_4));
            if ((int)(local_4 + (local_4 >> 0xf & 3U)) >> 2 < (int)plVar8) {
              local_1e = 1;
            }
            iVar12 = iVar12 * (int)plVar8 - (uint)local_14;
            iVar9 = -iVar12;
            if (0 < iVar12) {
              iVar9 = 0;
            }
            piVar1 = local_66 + local_10._2_2_;
            *piVar1 = *piVar1 + iVar9;
            piVar1 = local_86 + local_10._2_2_;
            *piVar1 = *piVar1 - (int)plVar8;
            local_fa[local_10._2_2_] = plVar8;
            if (plVar8 != (long *)0x0) {
              iStack_1c = 1;
            }
          }
          else {
            iVar12 = 0;
            uVar5 = *(undefined2 *)(local_16 * 4 + 0x74);
            local_a = (ulong)(*(int *)(local_16 * 4 + 0x72) + 0x38);
            do {
              iVar9 = *(int *)((int)local_86 + iVar12);
              if (iVar9 != 0) {
                local_110 = (long)iVar9;
                local_10 = ((long)iVar9 * (long)(int)local_1a) / local_14;
                plVar8 = (long *)((long)local_10 /
                                 ((long)(ulong)(uint)(*(int *)local_a * iVar9 -
                                                     *(int *)((int)local_66 + iVar12)) / local_110))
                ;
                local_6 = plVar8;
                if (plVar8 != (long *)0x0) {
                  iStack_1c = 1;
                }
                if ((int)(iVar9 + (iVar9 >> 0xf & 3U)) >> 2 < (int)plVar8) {
                  local_1e = 1;
                }
                if ((int)plVar8 < iVar9) {
                  piVar1 = (int *)((int)local_86 + iVar12);
                  *piVar1 = *piVar1 - (int)plVar8;
                  *(long **)((int)local_fa + iVar12) = plVar8;
                  iVar9 = *(int *)local_a * (int)plVar8 - (int)local_10;
                  iVar10 = -iVar9;
                  if (0 < iVar9) {
                    iVar10 = 0;
                  }
                  piVar1 = (int *)((int)local_66 + iVar12);
                  *piVar1 = *piVar1 + iVar10;
                }
                else {
                  local_1a = local_1a & 0xffff | (ulong)(local_1a._2_2_ - 1) << 0x10;
                  *(undefined2 *)((int)local_fa + iVar12) = *(undefined2 *)((int)local_86 + iVar12);
                  *(undefined2 *)((int)local_86 + iVar12) = 0;
                }
              }
              local_a = local_a & 0xffff0000 | (ulong)((int)(int *)local_a + 0x87);
              iVar12 = iVar12 + 2;
            } while (iVar12 < 0x20);
            if (local_1a._2_2_ == 0) {
              pbVar2 = (byte *)((int)puVar13 + 5);
              *pbVar2 = *pbVar2 | 4;
            }
          }
          if ((iStack_1c != 0) && ((*(byte *)((int)puVar13 + 5) & 4) == 0)) {
            FUN_1028_555a((int)&local_92,(int)&local_106);
            puVar16 = &local_92;
            for (iVar12 = 0x1d; iVar12 != 0; iVar12 = iVar12 + -1) {
              puVar4 = puVar13;
              puVar13 = puVar13 + 1;
              puVar3 = puVar16;
              puVar16 = puVar16 + 1;
              *puVar4 = *puVar3;
            }
          }
          return local_1e;
        }
      } while( true );
    }
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1088_12e6(uint *param_1,uint param_2,undefined4 *param_3,uint *param_4)

{
  byte *pbVar1;
  uint *puVar2;
  undefined4 *puVar3;
  char cVar4;
  uint uVar5;
  undefined4 uVar6;
  uint uVar7;
  byte bVar8;
  int iVar9;
  undefined *puVar10;
  int iVar11;
  undefined4 *puVar12;
  undefined4 *puVar13;
  uint *puVar14;
  uint uVar15;
  undefined2 unaff_SS;
  uint local_5c [32];
  int local_1c;
  uint local_1a;
  uint *local_18;
  uint local_16;
  int local_14;
  uint local_12;
  uint local_10;
  int local_e;
  uint local_a;
  undefined4 *local_8;
  undefined4 local_6;

  local_1a = 0;
  local_8 = (undefined4 *)0x0;
  local_1c = 0;
  local_6 = (int *)(ulong)(uint)local_6;
  puVar12 = param_3;
  for (iVar9 = 8; iVar9 != 0; iVar9 = iVar9 + -1) {
    puVar3 = puVar12;
    puVar12 = puVar12 + 1;
    *puVar3 = 0;
  }
  puVar14 = local_5c;
  for (iVar9 = 0x20; iVar9 != 0; iVar9 = iVar9 + -1) {
    puVar2 = puVar14;
    puVar14 = puVar14 + 1;
    *puVar2 = 0;
  }
  local_16 = param_2;
  local_18 = param_1;
  do {
    if ((*(byte *)((int)local_18 + 5) & 4) == 0) {
      local_10 = local_18[1];
      local_1a = local_1a | 1 << ((byte)local_10 & 0x1f);
      uVar6 = *(undefined4 *)(local_18 + 0x32);
      if (((*(byte *)((int)uVar6 + 10) & 0xf) == 2) &&
         (iVar9 = FUN_1088_0e78(local_18,local_16), iVar9 != 0)) {
        local_8 = (undefined4 *)&DAT_10a8_0001;
        uVar6 = *(undefined4 *)(local_18 + 0x32);
        local_12 = *(uint *)((int)uVar6 + 0xe);
        if (local_12 < 2) {
          local_6 = (int *)((ulong)local_6 & 0xffff0000);
          if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
            local_6._0_2_ = 0;
            do {
              if ((uint)local_6 != local_10) {
                cVar4 = *(char *)(local_10 * 0x76 + (uint)local_6 + -0x775c);
                local_6 = (int *)((ulong)(uint)(int)cVar4 << 0x10);
                if (((int)cVar4 == 2) || ((cVar4 == '\0' && (local_12 == 1)))) {
                  puVar2 = (uint *)(local_10 * 2 + (int)param_3);
                  *puVar2 = *puVar2 | 1 << ((byte)(uint)local_6 & 0x1f);
                }
              }
              local_6._0_2_ = (uint)local_6 + 1;
            } while ((int)(uint)local_6 < (int)PTR_DAT_10a8_0002_10a8_0038);
            local_6 = (int *)((ulong)local_6 | (ulong)(uint)local_6);
          }
          if (*(int *)(local_10 * 2 + (int)param_3) == 0) {
            uVar15 = 0x93 - (local_12 == 0);
            local_6 = (int *)((ulong)local_6 & 0xffff | (ulong)uVar15 << 0x10);
            iVar9 = FUN_1010_74e0(local_10,uVar15,(int)s_Picardi_10a8_47ff + 1);
            if (iVar9 == 0) {
              FUN_1010_6b58((ulong)local_6 & 0xffff0000 | (ulong)local_10,
                            (int)s_Picardi_10a8_47ff + 1);
            }
          }
        }
        else if (local_12 == 2) {
          *(uint *)(local_10 * 2 + (int)param_3) = ~(1 << ((byte)local_10 & 0x1f));
        }
        else {
          puVar2 = (uint *)(local_10 * 2 + (int)param_3);
          *puVar2 = *puVar2 | 1 << ((char)local_12 - 3U & 0x1f);
        }
      }
      pbVar1 = (byte *)((int)local_18 + 5);
      *pbVar1 = *pbVar1 | 9;
    }
    puVar14 = (uint *)local_18[0x34];
    local_16 = local_18[0x35];
    local_18 = puVar14;
  } while ((puVar14 != param_1) || (local_16 != param_2));
  if (local_8 != (undefined4 *)0x0) {
    local_12 = 0;
    if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
      local_8 = (undefined4 *)PTR_DAT_10a8_0002_10a8_0038;
      puVar12 = param_3;
      puVar10 = PTR_DAT_10a8_0002_10a8_0038;
      do {
        if (*(uint *)puVar12 != 0) {
          local_12 = local_12 | local_1a & *(uint *)puVar12;
        }
        puVar12 = (undefined4 *)((int)puVar12 + 2);
        puVar10 = puVar10 + -1;
      } while (puVar10 != (undefined *)0x0);
    }
    if (local_12 != 0) {
      iVar9 = 0;
      puVar12 = param_3;
      if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
        do {
          bVar8 = (byte)iVar9;
          if ((local_12 & *(uint *)puVar12) == 0) {
            if (((local_12 & 1 << (bVar8 & 0x1f)) != 0) &&
               (iVar11 = 0, 0 < (int)PTR_DAT_10a8_0002_10a8_0038)) {
              local_8 = puVar12;
              puVar13 = param_3;
              do {
                if ((*(uint *)puVar13 & 1 << (bVar8 & 0x1f)) != 0) {
                  puVar3 = puVar12;
                  *(uint *)puVar3 = *(uint *)puVar3 | 1 << ((byte)iVar11 & 0x1f);
                }
                puVar13 = (undefined4 *)((int)puVar13 + 2);
                iVar11 = iVar11 + 1;
              } while (iVar11 < (int)PTR_DAT_10a8_0002_10a8_0038);
            }
          }
          else {
            local_12 = local_12 | 1 << (bVar8 & 0x1f);
          }
          iVar9 = iVar9 + 1;
          puVar12 = (undefined4 *)((int)puVar12 + 2);
        } while (iVar9 < (int)PTR_DAT_10a8_0002_10a8_0038);
      }
      do {
        if ((local_18 == param_1) && (local_16 == param_2)) {
          local_14 = 0;
        }
        uVar15 = local_18[1];
        uVar7 = 1 << ((byte)uVar15 & 0x1f);
        if (((local_1a & uVar7) != 0) && ((uVar7 & local_12) == 0)) {
          puVar14 = (uint *)(uVar15 * 2 + (int)param_3);
          *puVar14 = 0;
          local_6._0_2_ = 0;
          if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
            do {
              if ((((uint)local_6 != uVar15) &&
                  (*(char *)((uint)local_6 + uVar15 * 0x76 + -0x775c) == '\x01')) &&
                 ((local_12 & 1 << ((byte)(uint)local_6 & 0x1f)) != 0)) {
                if ((*puVar14 & 1 << ((byte)(uint)local_6 & 0x1f)) != 0) {
                  *puVar14 = 0;
                  break;
                }
                puVar2 = puVar14;
                *puVar2 = *puVar2 | *(uint *)((uint)local_6 * 2 + (int)param_3);
              }
              local_6._0_2_ = (uint)local_6 + 1;
            } while ((int)(uint)local_6 < (int)PTR_DAT_10a8_0002_10a8_0038);
          }
          if (*puVar14 == 0) {
            local_1a = local_1a & ~uVar7;
          }
          else {
            local_12 = local_12 | uVar7;
          }
          local_14 = 1;
        }
        puVar14 = (uint *)local_18[0x34];
        local_16 = local_18[0x35];
        local_18 = puVar14;
        if (((local_14 == 0) && (puVar14 == param_1)) && (local_16 == param_2)) {
          local_14 = 0;
          do {
            local_10 = local_18[1];
            if ((local_1a & 1 << ((byte)local_10 & 0x1f)) == 0) {
              pbVar1 = (byte *)((int)local_18 + 5);
              *pbVar1 = *pbVar1 & 0xfe;
            }
            else {
              local_8 = (undefined4 *)0x0;
              local_6 = *(int **)(local_10 * 4 + 0x72);
              puVar14 = local_18 + 6;
              local_a = local_16;
              local_e = 0x10;
              do {
                uVar7 = local_10;
                uVar15 = *puVar14;
                if (uVar15 != 0) {
                  if ((*(byte *)(*local_6 * 0x93 + 0x2f2d) & 0xf) != 0) {
                    puVar2 = local_5c + local_10 * 2;
                    uVar5 = *puVar2;
                    *puVar2 = *puVar2 + uVar15;
                    puVar2 = local_5c + uVar7 * 2 + 1;
                    *puVar2 = *puVar2 + ((int)uVar15 >> 0xf) + (uint)CARRY2(uVar5,uVar15);
                  }
                  local_1c = local_1c + 1;
                }
                local_6 = (int *)((ulong)local_6 & 0xffff0000 | (ulong)((uint)local_6 + 0x87));
                puVar14 = puVar14 + 1;
                local_8 = (undefined4 *)((int)local_8 + 1);
                local_e = local_e + -1;
              } while (local_e != 0);
            }
            if (0x100 < local_1c) {
              local_14 = 1;
              local_1c = 1;
            }
            puVar14 = (uint *)local_18[0x34];
            local_16 = local_18[0x35];
            local_18 = puVar14;
          } while ((puVar14 != param_1) || (local_16 != param_2));
          *param_4 = local_1a;
          uVar15 = 0;
          if (local_12 == 0) {
            local_6 = (int *)0x0;
          }
          else {
            do {
              if ((local_12 & 1) != 0) {
                uVar15 = uVar15 + 1;
              }
              local_12 = local_12 >> 1;
            } while (local_12 != 0);
            local_6 = (int *)(ulong)uVar15;
          }
          if (local_14 != 0) {
            return 0xffff;
          }
          if (_PTR_DAT_10a8_0000_10a8_4444 == 0) {
            local_6 = (int *)((ulong)local_6 | ZEXT24(PTR_DAT_10a8_0000_10a8_002e) << 0x10);
            puVar10 = PTR_DAT_10a8_0000_10a8_002e;
            PTR_DAT_10a8_0000_10a8_002e = (undefined *)&local_18;
            iVar9 = FUN_10a0_0704((int *)&local_18);
            if (iVar9 != 0) {
              PTR_DAT_10a8_0000_10a8_002e = local_6._2_2_;
              return 0xffff;
            }
            PTR_DAT_10a8_0000_10a8_4448 = (undefined *)FUN_1038_0232(-0x38,6);
            _PTR_DAT_10a8_0000_10a8_4444 = CONCAT22(puVar10,PTR_DAT_10a8_0000_10a8_4448);
            PTR_DAT_10a8_0000_10a8_444a = puVar10;
          }
          return (uint)local_6;
        }
      } while( true );
    }
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps

int __cdecl16far FUN_1088_1758(undefined4 param_1,int param_2)

{
  undefined2 uVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  int *piVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  undefined2 uVar10;
  byte bStack_13;
  int local_e;
  long local_c;
  int local_4;

  uVar10 = (undefined2)((ulong)param_1 >> 0x10);
  iVar6 = (int)param_1;
  iVar7 = *(int *)(iVar6 + 2) * 4;
  uVar1 = *(undefined2 *)(iVar7 + 0x74);
  iVar7 = *(int *)(iVar7 + 0x72) + param_2 * 0x87;
  local_e = 0;
  local_c._0_2_ = 0xffff;
  if (*(char *)(iVar7 + 0x7a) != '\0') {
    puVar2 = (uint *)(iVar7 + 0x3c);
    uVar8 = (uint)*(byte *)(iVar7 + 0x7a);
    local_e = 0;
    local_c._0_2_ = 0xffff;
    do {
      uVar4 = puVar2[-1];
      if (uVar4 == 1) {
        local_c._0_2_ = (uint)*(byte *)puVar2;
      }
      else if (uVar4 == 0x1000) {
        uVar4 = *puVar2;
        uVar3 = uVar4 & 0xff;
        bStack_13 = (byte)(uVar4 >> 8);
        if (uVar3 == 7) {
          uVar4 = (uint)bStack_13;
        }
        else {
          if (uVar3 != 8) goto LAB_1088_17eb;
          uVar4 = (uint)bStack_13 * 2;
        }
        local_e = local_e + uVar4;
      }
LAB_1088_17eb:
      puVar2 = puVar2 + 2;
      uVar8 = uVar8 - 1;
    } while (uVar8 != 0);
  }
  if ((uint)local_c != 0xffff) {
    iVar9 = 9;
    piVar5 = (int *)((uint)local_c * 0x4a + 0x14ce);
    do {
      if (*piVar5 < 0x79) break;
      piVar5 = piVar5 + -1;
      iVar9 = iVar9 + -1;
    } while (0 < iVar9);
    local_e = (iVar9 - (uint)((*(byte *)(*(int *)(iVar6 + 2) * 0x76 + -0x7762) & 8) == 0)) + local_e
    ;
    local_4 = *(int *)(iVar7 + 0x28);
    uVar8 = FUN_1028_1ed2((int *)CONCAT22(uVar1,iVar7),2);
    local_c = (long)(int)uVar8;
    uVar8 = (int)uVar8 >> 0xf | uVar8;
    if (uVar8 != 0) {
      iVar7 = FUN_1028_1e5c(param_1,2);
      local_4 = local_4 + (int)(((*(long *)(iVar6 + 0x50) + *(long *)(iVar6 + 0x54) +
                                  *(long *)(iVar6 + 0x58) + *(long *)(iVar6 + 0x5c)) * local_c) /
                               CONCAT22(uVar8,iVar7));
    }
    if (local_4 < 0x3e9) {
      if (local_4 < 0x1f5) {
        local_e = local_e + -3 + local_4 / -100;
      }
      else {
        local_e = local_e + -8;
      }
    }
    else {
      local_e = local_e + -9;
    }
    if (7 < local_e) {
      local_e = 7;
    }
    if (-1 < local_e) {
      return local_e;
    }
  }
  return 0;
}



undefined2 __cdecl16far FUN_1088_18d2(int param_1,undefined2 param_2,int param_3)

{
  byte bVar1;
  undefined2 uVar2;
  int iVar3;
  byte *pbVar4;
  int iVar5;
  int iVar6;

  iVar5 = *(int *)(param_1 + 2) * 4;
  uVar2 = *(undefined2 *)(iVar5 + 0x74);
  iVar5 = *(int *)(iVar5 + 0x72) + param_3 * 0x87;
  if (*(char *)(iVar5 + 0x7a) != '\0') {
    pbVar4 = (byte *)(iVar5 + 0x3c);
    iVar6 = 0;
    do {
      bVar1 = *pbVar4;
      iVar3 = *(int *)(pbVar4 + -2);
      if (iVar3 == 2) {
        if (bVar1 == 5) {
          return 1;
        }
      }
      else if (((iVar3 == 0x1000) && (bVar1 != 0)) && (bVar1 < 5)) {
        return 1;
      }
      pbVar4 = pbVar4 + 4;
      iVar6 = iVar6 + 1;
    } while (iVar6 < (int)(uint)*(byte *)(iVar5 + 0x7a));
  }
  return 0;
}



undefined2 __cdecl16far FUN_1088_1960(uint *param_1)

{
  ulong uVar1;
  int *piVar2;
  uint uVar3;
  long lVar4;
  undefined2 in_DX;

  piVar2 = FUN_1010_0c48(*param_1);
  lVar4 = (long)piVar2[((param_1[1] & 0xf00) >> 8) + 6];
  uVar1 = *(ulong *)((((*(byte *)((int)param_1 + 1) & 0x1e) << 8) >> 9) * 4 + 0x72);
  uVar3 = FUN_1010_0716(uVar1 & 0xffff0000 |
                        (ulong)((int)uVar1 + (uint)(*(byte *)((int)param_1 + 3) & 0xf) * 0x87));
  lVar4 = (ulong)uVar3 * lVar4;
  if ((int)((ulong)lVar4 >> 0x10) != 0) {
    lVar4 = 0xffff;
  }
  return (int)lVar4;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1088_19d6(int param_1)

{
  byte *pbVar1;
  int iVar2;
  uint *puVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  undefined4 local_2a [8];
  uint local_a;
  int local_8;
  ulong local_6;

  FUN_1010_0afa();
  iVar5 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    iVar4 = 0;
    do {
      local_6 = *(ulong *)((int)_PTR_DAT_10a8_0000_10a8_006e + iVar4);
      if (local_6 == 0) break;
      puVar3 = (uint *)local_6;
      uVar6 = (uint)(local_6 >> 0x10);
      if (param_1 == 0) {
        pbVar1 = (byte *)((int)puVar3 + 5);
        *pbVar1 = *pbVar1 & 0xef;
      }
      if (((*(byte *)((int)puVar3 + 5) & 0xc) == 0) && (*(long *)(puVar3 + 0x34) != 0)) {
        local_8 = FUN_1088_12e6(puVar3,uVar6,local_2a,&local_a);
        if (local_8 == -1) {
LAB_1088_1a57:
          FUN_1088_3250(local_6);
        }
        else if (local_8 != 0) {
          iVar2 = FUN_1088_2854((uint)local_6,
                                CONCAT13((char)((uint)local_8 >> 8),
                                         CONCAT12((char)local_8,(int)(local_6 >> 0x10))),
                                (int)local_2a,local_a);
          if (iVar2 == 0) goto LAB_1088_1a57;
        }
      }
      iVar4 = iVar4 + 4;
      iVar5 = iVar5 + 1;
    } while (iVar5 < (int)PTR_DAT_10a8_0000_10a8_83c6);
  }
  FUN_1088_3890();
  return;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1088_1a74(int param_1)

{
  uint uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 local_16;
  int local_12;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 *local_8;
  undefined2 local_6;
  undefined2 local_4;

  iVar2 = (((*(byte *)(param_1 + 1) & 0x1e) << 8) >> 9) * 4;
  local_6 = *(undefined2 *)(iVar2 + 0x74);
  iVar2 = *(int *)(iVar2 + 0x72) + (*(byte *)(param_1 + 3) & 0xf) * 0x87;
  local_c = 0xffff;
  if (*(char *)(iVar2 + 0x7a) != '\0') {
    puVar3 = (undefined4 *)(iVar2 + 0x3a);
    local_10 = CONCAT22(local_6,iVar2);
    local_c._2_2_ = 0;
    local_8 = puVar3;
    do {
      if ((*(byte *)puVar3 & 0x30) != 0) {
        local_16 = *puVar3;
        PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)(((*(byte *)(param_1 + 1) & 0x1e) << 8) >> 9);
        FUN_1060_32b2((uint *)&local_16);
        local_4 = 0xffff;
        PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
        if (((int)local_16 == 0x10) || ((int)local_16 == 0x20)) {
          uVar1 = *(uint *)(local_12 + 0x34);
        }
        else {
          uVar1 = 0xffff;
        }
        if ((uVar1 != 0xffff) && (((int)local_c == -1 || ((int)uVar1 < (int)local_c)))) {
          local_c = local_c & 0xffff0000 | (ulong)uVar1;
        }
      }
      puVar3 = puVar3 + 1;
      local_c._2_2_ = local_c._2_2_ + 1;
    } while (local_c._2_2_ < (int)(uint)*(byte *)((int)local_10 + 0x7a));
  }
  return (int)local_c;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1088_1b46(int param_1)

{
  uint uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 local_16;
  int local_12;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 *local_8;
  undefined2 local_6;
  undefined2 local_4;

  iVar2 = (((*(byte *)(param_1 + 1) & 0x1e) << 8) >> 9) * 4;
  local_6 = *(undefined2 *)(iVar2 + 0x74);
  iVar2 = *(int *)(iVar2 + 0x72) + (*(byte *)(param_1 + 3) & 0xf) * 0x87;
  local_c = 0xffff;
  if (*(char *)(iVar2 + 0x7a) != '\0') {
    puVar3 = (undefined4 *)(iVar2 + 0x3a);
    local_10 = CONCAT22(local_6,iVar2);
    local_c._2_2_ = 0;
    local_8 = puVar3;
    do {
      if ((*(byte *)puVar3 & 0x30) != 0) {
        local_16 = *puVar3;
        PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)(((*(byte *)(param_1 + 1) & 0x1e) << 8) >> 9);
        FUN_1060_32b2((uint *)&local_16);
        local_4 = 0xffff;
        PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
        if (((int)local_16 == 0x10) || ((int)local_16 == 0x20)) {
          uVar1 = *(uint *)(local_12 + 0x34);
        }
        else {
          uVar1 = 0xffff;
        }
        if ((int)local_c < (int)uVar1) {
          local_c = local_c & 0xffff0000 | (ulong)uVar1;
        }
      }
      puVar3 = puVar3 + 1;
      local_c._2_2_ = local_c._2_2_ + 1;
    } while (local_c._2_2_ < (int)(uint)*(byte *)((int)local_10 + 0x7a));
  }
  return (int)local_c;
}



// WARNING: Could not reconcile some variable overlaps

undefined2 __cdecl16far FUN_1088_1c0a(int param_1)

{
  undefined2 uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 local_14;
  undefined2 local_e;
  undefined4 local_c;
  undefined2 local_8;
  undefined4 *local_6;
  undefined2 local_4;

  local_e = 0xffff;
  iVar2 = (((*(byte *)(param_1 + 1) & 0x1e) << 8) >> 9) * 4;
  local_4 = *(undefined2 *)(iVar2 + 0x74);
  iVar2 = *(int *)(iVar2 + 0x72) + (*(byte *)(param_1 + 3) & 0xf) * 0x87;
  local_8 = 0;
  if (*(char *)(iVar2 + 0x7a) != '\0') {
    puVar3 = (undefined4 *)(iVar2 + 0x3a);
    local_c = CONCAT22(local_4,iVar2);
    iVar2 = 0;
    local_6 = puVar3;
    do {
      if ((*(byte *)puVar3 & 0x30) != 0) {
        local_14 = *puVar3;
        PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)(((*(byte *)(param_1 + 1) & 0x1e) << 8) >> 9);
        FUN_1060_32b2((uint *)&local_14);
        PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
        if ((int)local_14 == 0x20) {
          uVar1 = FUN_1088_1a74(param_1);
          return uVar1;
        }
        if ((int)local_14 == 0x10) {
          local_e = 1;
        }
      }
      puVar3 = puVar3 + 1;
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(uint)*(byte *)((int)local_c + 0x7a));
  }
  return local_e;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far
FUN_1088_1cce(int param_1,int param_2,int param_3,int param_4,uint *param_5,uint *param_6,
             uint param_7)

{
  uint *puVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  byte bVar4;
  uint uVar5;
  int iVar6;
  undefined4 *puVar7;
  int iVar8;
  undefined2 uVar9;
  int iVar10;
  undefined2 unaff_SS;
  undefined4 local_36 [4];
  byte local_26 [16];
  uint local_16;
  uint *local_14;
  uint local_10;
  int local_e;
  int *local_c;
  int local_8;
  int local_6;
  undefined4 *local_4;

  iVar6 = 0;
  bVar4 = 0;
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    do {
      if ((param_7 & 1 << ((byte)iVar6 & 0x1f)) != 0) {
        local_26[iVar6] = bVar4;
        bVar4 = bVar4 + 1;
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < (int)PTR_DAT_10a8_0002_10a8_0038);
  }
  local_10 = 0;
  local_16 = 0;
  puVar7 = local_36;
  for (iVar6 = 4; iVar8 = param_1, iVar10 = param_2, iVar6 != 0; iVar6 = iVar6 + -1) {
    puVar2 = puVar7;
    puVar7 = puVar7 + 1;
    *puVar2 = 0xffffffff;
  }
  do {
    if (((*(byte *)(iVar8 + 5) & 4) == 0) && ((*(byte *)(iVar8 + 5) & 1) != 0)) {
      local_8 = *(int *)(iVar8 + 2);
      local_6 = 0;
      local_e = 0;
      local_4 = (undefined4 *)(local_10 * 8 + param_4 + 4);
      local_c = (int *)CONCAT22(iVar10,iVar8 + 0xc);
      local_14 = (uint *)CONCAT22(iVar10,iVar8);
      do {
        if (*local_c != 0) {
          if (*(char *)((int)local_36 + local_8) == -1) {
            *(uint *)((int)local_4 + -2) = local_10 & 0xff | (uint)*(byte *)((int)local_4 + -1) << 8
            ;
            *(undefined *)((int)local_36 + local_8) = (undefined)local_10;
          }
          iVar6 = local_8;
          iVar8 = (*(uint *)((int)local_36 + local_8) & 0xff) * 8;
          *(undefined2 *)((int)local_4 + -2) =
               CONCAT11(*(undefined *)((int)local_4 + -1),*(undefined *)(param_4 + iVar8 + 2));
          *(uint *)(param_4 + iVar8 + 2) =
               local_10 & 0xff | (uint)*(byte *)(param_4 + iVar8 + 3) << 8;
          *(uint *)local_4 =
               CONCAT11(*(undefined *)((int)local_4 + 1),
                        *(undefined *)((uint)local_26[local_8] + param_3 + 0x306));
          uVar9 = (undefined2)((ulong)local_14 >> 0x10);
          uVar5 = *(uint *)(local_4 + -1) ^ *local_14;
          puVar2 = local_4 + -1;
          *(uint *)puVar2 = *(uint *)puVar2 ^ (uVar5 & 0xff | ((byte)((ulong)uVar5 >> 8) & 1) << 8);
          puVar2 = local_4 + -1;
          *(uint *)puVar2 =
               *(uint *)puVar2 ^
               ((*(byte *)((int)local_4 + -3) ^ *(byte *)((int)local_14 + 1)) & 0x1e) << 8;
          iVar8 = FUN_1088_18d2((int)local_14,uVar9,local_6);
          puVar2 = local_4;
          *(uint *)puVar2 =
               *(uint *)puVar2 ^
               ((byte)((byte)((ulong)(uint)(iVar8 << 0xc) >> 8) ^ *(byte *)((int)local_4 + 1)) &
               0x10) << 8;
          uVar5 = FUN_1088_0f48((int)local_14,(int)((ulong)local_14 >> 0x10));
          puVar2 = local_4;
          *(uint *)puVar2 =
               *(uint *)puVar2 ^
               ((byte)((byte)((ulong)(uVar5 << 9) >> 8) ^ *(byte *)((int)local_4 + 1)) & 0xe) << 8;
          bVar4 = FUN_1088_0f96((int)local_14,(int)((ulong)local_14 >> 0x10));
          puVar2 = local_4;
          *(uint *)puVar2 = *(uint *)puVar2 ^ ((bVar4 ^ *(byte *)((int)local_4 + 1)) & 1) << 8;
          puVar1 = (uint *)((int)local_4 + -2);
          *puVar1 = *puVar1 ^ ((*(byte *)((int)local_4 + -1) ^ (byte)local_6) & 0xf) << 8;
          uVar9 = FUN_1088_1960((uint *)(local_4 + -1));
          *(undefined2 *)((int)local_4 + 2) = uVar9;
          iVar8 = FUN_1088_0d38((int)(local_4 + -1),(int)local_14,(int)((ulong)local_14 >> 0x10),
                                local_6);
          uVar5 = *(uint *)((int)local_4 + -2);
          *(uint *)((int)local_4 + -2) =
               iVar8 << 0xc | uVar5 & 0xff | ((byte)((ulong)uVar5 >> 8) & 0xf) << 8;
          uVar3 = *(undefined4 *)(iVar6 * 4 + 0x72);
          uVar5 = *(uint *)local_4;
          *(uint *)local_4 =
               *(int *)(*(int *)((int)uVar3 + local_e) * 0x93 + 0x2f2d) << 0xe ^
               (uVar5 & 0xff | ((byte)((ulong)uVar5 >> 8) & 0x3f) << 8);
          iVar6 = FUN_1088_1758(local_14,local_6);
          uVar5 = *(uint *)(local_4 + -1);
          *(uint *)(local_4 + -1) =
               iVar6 << 0xd | uVar5 & 0xff | ((byte)((ulong)uVar5 >> 8) & 0x1f) << 8;
          local_16 = local_16 | 1 << (byte)((uint)*(undefined2 *)(local_4 + -1) >> 0xd);
          *_PTR_DAT_10a8_0000_10a8_4448 = local_4[-1];
          *(undefined4 *)(PTR_DAT_10a8_0000_10a8_4448 + 4) = *local_4;
          *(int *)((int)_PTR_DAT_10a8_0000_10a8_4448 + 6) = *local_c;
          _PTR_DAT_10a8_0000_10a8_4448 =
               (undefined4 *)
               ((ulong)_PTR_DAT_10a8_0000_10a8_4448 & 0xffff0000 |
               ZEXT24(PTR_DAT_10a8_0000_10a8_4448 + 8));
          local_4 = local_4 + 2;
          local_10 = local_10 + 1;
        }
        local_c = (int *)((ulong)local_c & 0xffff0000 | (ulong)((int)local_c + 2));
        local_6 = local_6 + 1;
        local_e = local_e + 0x87;
      } while (local_e < 0x870);
      iVar10 = (int)((ulong)local_14 >> 0x10);
      iVar8 = (int)local_14;
    }
    uVar3 = *(undefined4 *)(iVar8 + 0x68);
    iVar10 = (int)((ulong)uVar3 >> 0x10);
    iVar8 = (int)uVar3;
  } while ((iVar8 != param_1) || (iVar10 != param_2));
  *param_6 = local_10;
  *param_5 = local_16;
  return;
}



int __cdecl16far FUN_1088_1f58(int param_1,int param_2,int param_3,uint param_4,int *param_5)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  uint *puVar9;
  int local_c;
  int local_a;
  uint local_8;

  iVar8 = param_2 * 8 + param_1;
  local_c = -1;
  bVar1 = *(byte *)(iVar8 + 4);
  local_8 = ((*(byte *)(iVar8 + 5) & 0xe) << 8) >> 9;
  local_a = 1000;
  while( true ) {
    iVar8 = 0;
    if (0 < param_3) {
      puVar9 = (uint *)(param_1 + 4);
      do {
        uVar3 = *(byte *)((int)puVar9 + -3) & 0x1e;
        if (((((uVar3 << 8) >> 9 != ((*(byte *)(param_2 * 8 + param_1 + 1) & 0x1e) << 8) >> 9) &&
             ((*(byte *)((int)puVar9 + -1) & 0xf0) != 0xf0)) &&
            ((param_4 & 1 << ((byte)uVar3 >> 1)) != 0)) &&
           ((local_8 == 4 || (*puVar9 >> 0xe == local_8)))) {
          bVar2 = *(byte *)puVar9;
          if (bVar2 == bVar1) {
            *param_5 = 0;
            return iVar8;
          }
          uVar3 = (bVar2 & 0xf) - (bVar1 & 0xf);
          uVar7 = (int)uVar3 >> 0xf;
          iVar4 = (uVar3 ^ uVar7) - uVar7;
          uVar3 = (uint)(bVar2 >> 4) - (uint)(bVar1 >> 4);
          uVar7 = (int)uVar3 >> 0xf;
          iVar5 = (uVar3 ^ uVar7) - uVar7;
          iVar6 = iVar5;
          if (iVar5 < iVar4) {
            iVar6 = iVar4;
          }
          if ((iVar6 < local_a) && (local_c = iVar8, local_a = iVar4, iVar4 < iVar5)) {
            local_a = iVar5;
          }
        }
        puVar9 = puVar9 + 4;
        iVar8 = iVar8 + 1;
      } while (iVar8 < param_3);
    }
    if ((local_c != -1) || (local_8 == 4)) break;
    local_8 = 4;
  }
  *param_5 = local_a;
  return local_c;
}



int __cdecl16far FUN_1088_2066(int param_1,int param_2,int param_3)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint local_a;
  uint local_4;

  bVar1 = *(byte *)(undefined2 *)(param_1 + 4);
  uVar2 = bVar1 & 0xf;
  local_a = (uint)(bVar1 >> 4);
  bVar1 = *(byte *)(param_2 + 4);
  uVar3 = bVar1 & 0xf;
  uVar8 = (uint)(bVar1 >> 4);
  uVar4 = local_a;
  local_4 = uVar2;
  if (param_3 == 0) goto LAB_1088_2293;
  if (param_3 < 0) {
    if (uVar2 < uVar3) {
      uVar2 = uVar2 + param_3;
      if ((int)uVar2 < 0) {
        local_4 = 0;
        if ((int)(local_a + uVar2) < 0) {
          uVar4 = local_a - uVar2;
        }
        else {
          uVar4 = local_a + uVar2;
        }
      }
      else {
LAB_1088_227b:
        uVar4 = local_a;
        local_4 = uVar2;
      }
    }
    else if (uVar8 == local_a) {
      uVar2 = uVar2 - param_3;
      if ((int)uVar2 < 10) goto LAB_1088_227b;
      local_4 = 9;
      uVar4 = local_a + (uVar2 - 9);
      if (9 < (int)uVar4) {
        uVar4 = local_a - (uVar2 - 9);
      }
    }
    else {
      if (uVar8 < local_a) {
        iVar7 = 1;
      }
      else {
        iVar7 = -1;
      }
      if (param_3 != 0) {
        do {
          if (((8 < (int)local_a) || ((int)local_a < 1)) || (8 < (int)uVar2)) break;
          local_a = local_a + iVar7;
          uVar2 = uVar2 + 1;
          param_3 = param_3 + 1;
        } while (param_3 != 0);
      }
      uVar4 = local_a;
      local_4 = uVar2;
      if (param_3 != 0) {
        if (uVar2 == 9) {
          uVar4 = local_a - iVar7 * param_3;
          if ((int)uVar4 < 0) {
            uVar4 = 0;
          }
          else if (9 < (int)uVar4) {
            uVar4 = uVar2;
          }
        }
        else {
          local_4 = uVar2 - param_3;
          if (9 < (int)(uVar2 - param_3)) {
            local_4 = 9;
          }
        }
      }
    }
  }
  else if (uVar3 == uVar2) {
LAB_1088_2186:
    uVar5 = local_a - uVar8;
    uVar4 = uVar8;
    local_4 = uVar2;
    if (param_3 <= (int)((uVar5 ^ (int)uVar5 >> 0xf) - ((int)uVar5 >> 0xf))) {
      if (-1 < (int)uVar5) {
        param_3 = -param_3;
      }
      local_a = local_a + param_3;
      uVar4 = local_a;
      if ((*(byte *)(param_1 + 5) & 1) != 0) {
        iVar7 = FUN_1018_4a4a(3);
        uVar2 = iVar7 + -1 + uVar2;
        if ((0 < (int)uVar2) && ((int)uVar2 < 10)) goto LAB_1088_227b;
      }
    }
  }
  else {
    if (uVar8 != local_a) {
      if (uVar8 < local_a) {
        iVar7 = -1;
      }
      else {
        iVar7 = 1;
      }
      if (uVar3 < uVar2) {
        iVar6 = -1;
      }
      else {
        iVar6 = 1;
      }
      if (param_3 != 0) {
        do {
          if ((uVar8 == local_a) || (uVar3 == uVar2)) break;
          local_a = local_a + iVar7;
          uVar2 = uVar2 + iVar6;
          param_3 = param_3 + -1;
        } while (param_3 != 0);
      }
      uVar4 = local_a;
      local_4 = uVar2;
      if (param_3 == 0) goto LAB_1088_227d;
      if (uVar8 != local_a) goto LAB_1088_2186;
    }
    uVar5 = uVar2 - uVar3;
    uVar4 = local_a;
    local_4 = uVar3;
    if (param_3 <= (int)((uVar5 ^ (int)uVar5 >> 0xf) - ((int)uVar5 >> 0xf))) {
      if (-1 < (int)uVar5) {
        param_3 = -param_3;
      }
      local_4 = uVar2 + param_3;
      if ((*(byte *)(param_1 + 5) & 1) != 0) {
        iVar7 = FUN_1018_4a4a(3);
        local_a = iVar7 + -1 + local_a;
        if ((0 < (int)local_a) && ((int)local_a < 10)) {
          uVar4 = local_a;
        }
      }
    }
  }
LAB_1088_227d:
  *(undefined2 *)(param_1 + 4) =
       CONCAT11(*(undefined *)(param_1 + 5),(char)uVar4 << 4 | (byte)local_4 & 0xf);
LAB_1088_2293:
  if ((uVar3 == local_4) && (uVar8 == uVar4)) {
    return 0;
  }
  uVar2 = (int)(local_4 - uVar3) >> 0xf;
  iVar6 = (local_4 - uVar3 ^ uVar2) - uVar2;
  uVar3 = (int)(uVar4 - uVar8) >> 0xf;
  iVar7 = (uVar4 - uVar8 ^ uVar3) - uVar3;
  if (iVar7 < iVar6) {
    iVar7 = iVar6;
  }
  return iVar7;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far
FUN_1088_22c4(uint *param_1,uint *param_2,int param_3,int param_4,int param_5,undefined4 param_6)

{
  ulong uVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  long lVar6;
  ulong uVar7;
  int iVar8;
  undefined4 *puVar9;
  uint *puVar10;
  undefined2 uVar11;
  undefined4 local_20;
  int local_1c;
  undefined4 local_1a;
  int local_16;
  int local_14;
  undefined4 local_12;
  uint local_e;
  undefined4 *local_c;
  uint local_a;
  ulong local_8;
  uint *local_4;

  local_16 = 0;
  iVar2 = FUN_1088_1b46((int)param_1);
  iVar8 = (int)param_6;
  uVar11 = (undefined2)((ulong)param_6 >> 0x10);
  if ((iVar2 != -1) && (param_5 <= iVar2)) {
    iVar2 = FUN_1088_1c0a((int)param_1);
    if ((iVar2 < 2) || (param_5 == 0)) {
      local_14 = 0;
    }
    else {
      local_14 = 1;
    }
    iVar2 = (((*(byte *)((int)param_1 + 1) & 0x1e) << 8) >> 9) * 4;
    uVar4 = *(uint *)(iVar2 + 0x74);
    uVar7 = (ulong)uVar4;
    iVar2 = *(int *)(iVar2 + 0x72) + (*(byte *)((int)param_1 + 3) & 0xf) * 0x87;
    local_1a = 0;
    local_8 = 0;
    local_4 = (uint *)0x0;
    if (*(char *)(iVar2 + 0x7a) != '\0') {
      puVar9 = (undefined4 *)(iVar2 + 0x3a);
      local_12 = CONCAT22(uVar4,iVar2);
      local_c = puVar9;
      local_a = uVar4;
      do {
        if ((*(byte *)puVar9 & 0x30) != 0) {
          local_20 = *puVar9;
          PTR_DAT_10a8_0001_10a8_00c0 =
               (undefined *)(((*(byte *)((int)param_1 + 1) & 0x1e) << 8) >> 9);
          FUN_1060_32b2((uint *)&local_20);
          PTR_DAT_10a8_0001_10a8_00c0 = (undefined *)0xffff;
          local_e = (uint)*(byte *)((int)puVar9 + 3);
          if ((int)local_20 == 0x10) {
            if (param_5 <= *(int *)(local_1c + 0x34)) {
              lVar6 = (long)*(int *)(local_1c + 0x36) * (long)(0xb - param_5) * (long)(int)local_e;
              uVar7 = lVar6 % 10;
              local_1a = local_1a + lVar6 / 10;
            }
          }
          else if ((((int)local_20 == 0x20) && (local_14 != 0)) &&
                  (param_5 <= *(int *)(local_1c + 0x34))) {
            uVar1 = (long)*(int *)(local_1c + 0x36) * (long)(int)local_e;
            uVar7 = uVar1 >> 0x10;
            local_8 = uVar1 + local_8;
          }
        }
        uVar4 = (uint)uVar7;
        puVar9 = puVar9 + 1;
        local_4 = (uint *)((int)local_4 + 1);
      } while ((int)local_4 < (int)(uint)*(byte *)((int)local_12 + 0x7a));
    }
    piVar3 = FUN_1010_0c48(*param_1);
    local_12 = local_12 & 0xffff | (ulong)uVar4 << 0x10;
    local_1a = piVar3[(*(byte *)((int)param_1 + 3) & 0xf) + 6] * local_1a;
    local_8 = (long)piVar3[(*(byte *)((int)param_1 + 3) & 0xf) + 6] * local_8;
    iVar2 = (int)(local_8 >> 0x10);
    if (local_14 != 0) {
      iVar2 = iVar2 >> 1;
      local_8 = CONCAT22(iVar2,(uint)local_8 >> 1 | (uint)((local_8 >> 0x10 & 1) != 0) << 0xf);
      local_1a = local_1a + local_8;
    }
    if (local_1a != 0) {
      uVar4 = FUN_1010_1dc4(CONCAT22(iVar2 + local_1a._2_2_ +
                                     (uint)CARRY2((uint)local_8,(uint)local_1a),
                                     (uint)local_8 + (uint)local_1a));
      *(uint *)(iVar8 + 4) = uVar4;
      local_c = (undefined4 *)(param_2 + param_4 * 4);
      iVar2 = FUN_1088_25d8((uint *)local_c,(char)param_4,&local_1a,local_8);
      if (iVar2 != 0) {
        local_16 = 1;
      }
      if (local_1a != 0) {
        iVar2 = piVar3[(*(byte *)((int)param_1 + 3) & 0xf) + 6];
        if (1 < iVar2) {
          local_e = iVar2 - 1;
          local_a = 0;
          if (local_e != 0) {
            local_12 = local_12 & 0xffff0000 | ZEXT24(piVar3);
            local_4 = param_2;
            iVar2 = 0;
            puVar10 = param_2;
            do {
              if (param_3 <= iVar2) break;
              if (((((*(byte *)((int)local_12 + 1) ^ *(byte *)((int)puVar10 + 1)) & 0x1e) != 0) &&
                  ((*(byte *)((int)puVar10 + 3) & 0xf0) != 0xf0)) &&
                 ((local_c != (undefined4 *)puVar10 &&
                  ((*(char *)(uint *)((int)local_c + 4) == *(char *)(puVar10 + 2) &&
                   (iVar5 = FUN_1088_25d8(puVar10,(char)iVar2,&local_1a,0), iVar5 != 0)))))) {
                local_16 = local_16 + 1;
              }
              iVar2 = iVar2 + 1;
              puVar10 = puVar10 + 4;
              local_e = local_e - 1;
            } while (local_e != 0);
          }
        }
      }
      local_8 = (long)local_8 >> 1;
      if ((local_8 != 0) && (iVar2 = 0, 0 < param_3)) {
        do {
          local_1a = local_8;
          if (((*(byte *)((int)param_2 + 3) & 0xf0) != 0xf0) &&
             (((local_c != (undefined4 *)param_2 &&
               (*(char *)(uint *)((int)local_c + 4) == *(char *)(param_2 + 2))) &&
              (iVar5 = FUN_1088_25d8(param_2,(char)iVar2,&local_1a,0), iVar5 != 0)))) {
            local_16 = local_16 + 1;
          }
          param_2 = param_2 + 4;
          iVar2 = iVar2 + 1;
        } while (iVar2 < param_3);
      }
      *(undefined *)(iVar8 + 3) = (undefined)local_16;
      return;
    }
  }
  *(undefined *)(iVar8 + 3) = 0;
  *(undefined2 *)(iVar8 + 4) = 0;
  return;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1088_25d8(uint *param_1,undefined param_2,long *param_3,long param_4)

{
  uint *puVar1;
  byte *pbVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  uint uVar5;
  undefined4 uVar6;
  int *piVar7;
  undefined4 *puVar8;
  int iVar9;
  undefined2 in_DX;
  uint uVar10;
  uint *puVar11;
  undefined4 *puVar12;
  undefined2 uVar13;
  undefined2 unaff_SS;
  long local_102;
  undefined4 local_fc;
  undefined2 local_f8;
  int local_f0 [52];
  undefined4 local_88;
  uint local_7c [16];
  uint local_5c [36];
  undefined4 local_14;
  undefined2 local_10;
  uint local_e;
  uint local_c;
  uint local_a;
  uint *local_8;
  undefined4 local_6;

  local_6 = *param_3;
  local_10 = 0;
  if (param_1[3] != 0) {
    uVar5 = param_1[3];
    in_DX = 0;
    local_6._2_2_ = (uint)((ulong)local_6 >> 0x10);
    if (((int)local_6._2_2_ < 1) && ((0x7fff < local_6._2_2_ || ((uint)local_6 < uVar5)))) {
      puVar1 = param_1 + 3;
      *puVar1 = *puVar1 - (uint)local_6;
      local_6 = 0;
    }
    else {
      local_6 = CONCAT22(local_6._2_2_ - ((uint)local_6 < uVar5),(uint)local_6 - uVar5);
      param_1[3] = 0;
    }
  }
  local_6 = local_6 + param_4;
  if (local_6 == 0) {
    *param_3 = 0;
    return 0;
  }
  puVar8 = (undefined4 *)FUN_1010_0c48(*param_1);
  local_14 = CONCAT22(in_DX,puVar8);
  puVar12 = &local_88;
  for (iVar9 = 0x1d; iVar9 != 0; iVar9 = iVar9 + -1) {
    puVar4 = puVar12;
    puVar12 = puVar12 + 1;
    puVar3 = puVar8;
    puVar8 = puVar8 + 1;
    *puVar4 = *puVar3;
  }
  local_a = *(byte *)((int)param_1 + 3) & 0xf;
  uVar6 = *(undefined4 *)((((*(byte *)((int)param_1 + 1) & 0x1e) << 8) >> 9) * 4 + 0x72);
  local_e = *(uint *)((int)uVar6 + local_a * 0x87 + 0x38);
  uVar5 = local_5c[local_a];
  local_6 = CONCAT22((int)((ulong)local_6 >> 0x10) + (uint)CARRY2((uint)local_6,uVar5),
                     (uint)local_6 + uVar5);
  local_5c[local_a] = 0;
  uVar5 = local_a;
  local_c = local_7c[local_a];
  local_8 = (uint *)(PTR_DAT_10a8_0000_10a8_83ac +
                    (int)((((ulong)*(byte *)((int)param_1 + 1) & 0xffff1e) << 8) >> 4) + local_a * 2
                    );
  pbVar2 = (byte *)((int)(PTR_DAT_10a8_0000_10a8_83ac +
                         (int)((((ulong)*(byte *)((int)param_1 + 1) & 0xffff1e) << 8) >> 4) +
                         local_a * 2) + 1);
  *pbVar2 = *pbVar2 | 0x80;
  puVar12 = &local_fc;
  for (iVar9 = 0x1d; iVar9 != 0; iVar9 = iVar9 + -1) {
    puVar3 = puVar12;
    puVar12 = puVar12 + 1;
    *puVar3 = 0;
  }
  iVar9 = (int)local_e >> 0xf;
  local_102 = (long)(int)local_e;
  uVar10 = local_c;
  if ((iVar9 <= (int)local_6._2_2_) && ((iVar9 < (int)local_6._2_2_ || (local_e <= (uint)local_6))))
  {
    do {
      uVar10 = local_c;
      if (local_c == 0) break;
      local_6 = CONCAT22(((int)((ulong)local_6 >> 0x10) - iVar9) - (uint)((uint)local_6 < local_e),
                         (uint)local_6 - local_e);
      local_c = local_c - 1;
      uVar10 = *local_8;
      if ((uVar10 & 0xff | ((byte)((ulong)uVar10 >> 8) & 0x1f) << 8) < 0x1fff) {
        puVar1 = local_8;
        *puVar1 = *puVar1 + 1;
      }
      uVar10 = local_c;
    } while (local_102 <= local_6);
  }
  local_c = uVar10;
  if (local_7c[uVar5] != uVar10) {
    local_10 = 1;
    *(undefined *)_PTR_DAT_10a8_0000_10a8_4448 = param_2;
    _PTR_DAT_10a8_0000_10a8_4448 =
         (int *)((ulong)_PTR_DAT_10a8_0000_10a8_4448 & 0xffff0000 |
                ZEXT24(PTR_DAT_10a8_0000_10a8_4448 + 1));
    *_PTR_DAT_10a8_0000_10a8_4448 = local_7c[uVar5] - uVar10;
    piVar7 = _PTR_DAT_10a8_0000_10a8_4448;
    _PTR_DAT_10a8_0000_10a8_4448 =
         (int *)((ulong)_PTR_DAT_10a8_0000_10a8_4448 & 0xffff0000 |
                ZEXT24(PTR_DAT_10a8_0000_10a8_4448 + 2));
    local_f0[uVar5] = *piVar7;
    local_7c[uVar5] = uVar10;
    uVar13 = (undefined2)((ulong)local_14 >> 0x10);
    if (uVar10 == 0) {
      pbVar2 = (byte *)((int)param_1 + 3);
      *pbVar2 = *pbVar2 | 0xf0;
      puVar11 = local_7c;
      do {
        if (*puVar11 != 0) break;
        uVar10 = uVar10 + 1;
        puVar11 = puVar11 + 1;
      } while (puVar11 < local_5c);
      if (uVar10 == 0x10) {
        pbVar2 = (byte *)((int)local_14 + 5);
        *pbVar2 = *pbVar2 | 4;
      }
    }
    if ((*(byte *)((int)local_14 + 5) & 4) == 0) {
      local_fc._2_2_ = local_88._2_2_;
      local_f8 = (undefined2)CONCAT31((uint3)(local_f8._1_1_ | 4),7);
      FUN_1028_555a((int)&local_88,(int)&local_fc);
      puVar12 = &local_88;
      puVar8 = (undefined4 *)local_14;
      for (iVar9 = 0x1d; iVar9 != 0; iVar9 = iVar9 + -1) {
        puVar4 = puVar8;
        puVar8 = puVar8 + 1;
        puVar3 = puVar12;
        puVar12 = puVar12 + 1;
        *puVar4 = *puVar3;
      }
    }
  }
  if ((local_c != 0) && (local_6 != 0)) {
    iVar9 = local_e - 1;
    if ((int)(uint)local_6 < (int)(local_e - 1)) {
      iVar9 = (uint)local_6;
    }
    *(int *)((int)local_14 + ((param_1[1] & 0xf00) >> 8) * 2 + 0x2c) = iVar9;
    local_6 = 0;
  }
  if (param_4 < local_6) {
    *param_3 = local_6 - param_4;
  }
  else {
    *param_3 = 0;
  }
  return local_10;
}



// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1088_2854(uint param_1,undefined4 param_2,int param_3,uint param_4)

{
  int *piVar1;
  byte *pbVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  undefined *puVar5;
  uint *puVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  undefined4 *puVar10;
  uint uVar11;
  uint *puVar12;
  undefined2 unaff_SS;
  undefined4 local_a2a;
  undefined4 local_22a [128];
  undefined4 local_2a;
  int local_26;
  int local_24;
  uint local_20;
  int local_1e;
  uint local_1c;
  uint local_1a;
  uint local_18;
  uint *local_16;
  uint local_14;
  uint local_12;
  undefined4 *local_10;
  int local_e;
  uint local_c;
  uint *local_a;
  uint *local_8;
  uint local_6;
  uint *local_4;

  local_2a = _PTR_DAT_10a8_0000_10a8_4448;
  local_18 = 0;
  puVar10 = &local_a2a;
  for (iVar8 = 0x200; iVar8 != 0; iVar8 = iVar8 + -1) {
    puVar3 = puVar10;
    puVar10 = puVar10 + 1;
    *puVar3 = 0;
  }
  _PTR_DAT_10a8_0000_10a8_4448 =
       (byte *)((ulong)_PTR_DAT_10a8_0000_10a8_4448 & 0xffff0000 |
               ZEXT24(PTR_DAT_10a8_0000_10a8_4448 + 0xe));
  puVar10 = local_22a;
  for (iVar8 = 0x100; iVar8 != 0; iVar8 = iVar8 + -1) {
    puVar3 = puVar10;
    puVar10 = (undefined4 *)((int)puVar10 + 2);
    *(undefined2 *)puVar3 = 0;
  }
  PTR_DAT_10a8_0000_10a8_83ac = (undefined *)local_22a;
  local_26 = 0;
  local_24 = 0;
  local_4 = (uint *)param_2;
  uVar11 = param_1;
  puVar12 = (uint *)param_2;
  do {
    if ((*(byte *)(uVar11 + 5) & 4) == 0) {
      iVar8 = 0;
      piVar9 = (int *)(uVar11 + 0xc);
      local_6 = uVar11;
      local_4 = puVar12;
      local_8 = (uint *)0x0;
      do {
        if (0 < *piVar9) {
          local_24 = local_24 + *piVar9;
          *(undefined2 *)((int)local_22a + (*(int *)(local_6 + 2) * 0x10 + iVar8) * 2) = 0x8000;
        }
        piVar9 = piVar9 + 1;
        iVar8 = iVar8 + 1;
      } while (iVar8 < 0x10);
      uVar11 = local_6;
    }
    uVar4 = *(undefined4 *)(uVar11 + 0x68);
    puVar12 = (uint *)((ulong)uVar4 >> 0x10);
    uVar11 = (uint)uVar4;
  } while (((uVar11 != param_1) || (puVar12 != (uint *)param_2)) && (((uint)puVar12 | uVar11) != 0))
  ;
  puVar10 = local_22a;
  do {
    if (*(int *)puVar10 != 0) {
      *(int *)puVar10 = 0;
      local_26 = local_26 + 1;
    }
    puVar10 = (undefined4 *)((int)puVar10 + 2);
  } while (puVar10 < &local_2a);
  FUN_1088_1cce(param_1,(int)(uint *)param_2,(param_2._2_2_ * (param_2._2_2_ + -1)) / 2,
                (int)&local_a2a,&local_1a,&local_14,param_4);
  ((undefined *)local_2a)[1] = param_2._2_1_;
  ((undefined *)local_2a)[2] = (undefined)local_14;
  *(undefined2 *)((undefined *)local_2a + 8) = *(undefined2 *)(param_1 + 6);
  *(undefined4 *)((undefined *)local_2a + 10) = *(undefined4 *)(param_1 + 8);
  *(undefined *)local_2a = *(undefined *)&PTR_DAT_10a8_0000_10a8_444c;
  piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_444c;
  *piVar1 = *piVar1 + 1;
  local_1c = 0;
  do {
    uVar11 = 0;
    local_c = 7;
    do {
      if (((local_1a & 1 << ((byte)local_c & 0x1f)) != 0) && (local_e = 0, 0 < (int)local_14)) {
        local_12 = uVar11;
        puVar10 = &local_a2a;
        do {
          if (*(uint *)puVar10 >> 0xd == local_c) {
            local_12 = 0;
            local_8 = (uint *)0x0;
            if ((int)local_14 < 1) {
              local_12 = 0;
            }
            else {
              local_10 = puVar10;
              puVar12 = (uint *)((int)&local_a2a + 2);
              local_4 = puVar12;
              local_6 = local_14;
              uVar11 = local_14;
              do {
                if ((*(byte *)((int)puVar12 + 1) & 0xf0) != 0xf0) {
                  local_12 = local_12 | 1 << ((byte)(puVar12[-1] >> 9) & 0xf);
                }
                puVar12 = puVar12 + 4;
                uVar11 = uVar11 - 1;
              } while (uVar11 != 0);
            }
            uVar11 = local_12;
            if ((local_12 & local_12 - 1) == 0) break;
            if ((*(byte *)((int)puVar10 + 3) & 0xf0) != 0xf0) {
              puVar5 = (undefined *)*(ulong *)&PTR_DAT_10a8_0000_10a8_4448;
              local_20 = (uint)((ulong)puVar5 >> 0x10);
              iVar8 = (int)puVar5;
              piVar1 = (int *)&PTR_DAT_10a8_0000_10a8_4448;
              *piVar1 = *piVar1 + 6;
              *puVar5 = (undefined)local_e;
              *(undefined2 *)(iVar8 + 4) = 0;
              *(undefined *)(iVar8 + 3) = 0;
              *(undefined *)(iVar8 + 2) = (undefined)local_e;
              *(undefined *)(iVar8 + 1) = *(undefined *)(puVar10 + 1);
              uVar11 = *(uint *)((int)puVar10 + 2) >> 0xc;
              if (uVar11 == 0) {
                iVar7 = -((*(uint *)puVar10 >> 0xd) - 6);
                if (iVar7 < 2) {
                  iVar7 = 2;
                }
                if (iVar7 <= (int)local_1c) goto LAB_1088_2bf8;
              }
              else {
                if (uVar11 == 1) {
                  iVar7 = -((*(uint *)puVar10 >> 0xd) - 9);
                  if (iVar7 < 3) {
                    iVar7 = 3;
                  }
                  if (iVar7 <= (int)local_1c) goto LAB_1088_2bf8;
                }
                local_6 = FUN_1088_1f58((int)&local_a2a,local_e,local_14,
                                        *(uint *)((*(byte *)((int)puVar10 + 1) & 0x1e) + param_3),
                                        (int *)&local_16);
                if (local_6 == 0xffff) {
LAB_1088_2bf8:
                  *(undefined *)(iVar8 + 1) = 0xff;
                  pbVar2 = (byte *)((int)puVar10 + 3);
                  *pbVar2 = *pbVar2 | 0xf0;
                }
                else {
                  local_1e = 0;
                  local_4 = (uint *)((int)local_c / 2 + 1);
                  uVar11 = *(uint *)((int)puVar10 + 2) >> 0xc;
                  puVar12 = local_16;
                  if (uVar11 == 2) {
                    if ((local_1c & 1) != 0) goto joined_r0x10882aee;
                  }
                  else {
                    if (uVar11 == 3) {
                      local_8 = (uint *)FUN_1088_1a74((int)puVar10);
                      if ((int)local_8 < 0) {
                        puVar6 = (uint *)-(int)local_4;
                      }
                      else if ((int)local_8 < (int)local_16) {
                        puVar6 = (uint *)((int)local_16 - (int)local_8);
                      }
                      else {
                        if ((local_16 != (uint *)0x0) || ((int)local_8 < 4)) goto LAB_1088_2b99;
                        puVar12 = local_4;
                        if ((int)local_8 < (int)local_4) {
                          puVar12 = local_8;
                        }
                        puVar6 = (uint *)-(int)puVar12;
                      }
                    }
                    else {
                      if (uVar11 == 4) {
                        iVar7 = FUN_1088_1c0a((int)puVar10);
                        puVar12 = (uint *)-(iVar7 - (int)local_16);
                        puVar6 = local_4;
                        local_8 = puVar12;
                        if ((int)local_16 + (iVar7 - (int)local_16) == (int)&DAT_10a8_0001)
                        goto LAB_1088_2af8;
                      }
                      else if (uVar11 != 5) goto LAB_1088_2b99;
joined_r0x10882aee:
                      puVar6 = puVar12;
                      if (puVar12 == (uint *)0x0) goto LAB_1088_2b99;
                    }
LAB_1088_2af8:
                    local_8 = puVar6;
                    puVar12 = (uint *)(((uint)local_8 ^ (int)local_8 >> 0xf) - ((int)local_8 >> 0xf)
                                      );
                    if ((int)local_4 < (int)puVar12) {
                      puVar12 = local_4;
                    }
                    local_a = puVar12;
                    if ((int)local_8 < 1) {
                      local_a = (uint *)-(int)puVar12;
                    }
                    local_4 = puVar12;
                    local_16 = (uint *)FUN_1088_2066((int)puVar10,(int)(&local_a2a + local_6 * 2),
                                                     (int)local_a);
                    local_1e = 1;
                  }
LAB_1088_2b99:
                  *(undefined *)(iVar8 + 2) = (undefined)local_6;
                  FUN_1088_22c4((uint *)puVar10,(uint *)&local_a2a,local_14,local_6,(int)local_16,
                                (ulong)puVar5 & 0xffff | (ulong)local_20 << 0x10);
                  uVar11 = *(uint *)((int)puVar10 + 2) >> 0xc;
                  if (((1 < uVar11) && (uVar11 == 2 || uVar11 == 3)) && (local_1e == 0)) {
                    FUN_1088_2066((int)puVar10,(int)(&local_a2a + local_6 * 2),-(int)local_4);
                  }
                  *(undefined *)(iVar8 + 1) = *(undefined *)(puVar10 + 1);
                }
              }
            }
          }
          puVar10 = puVar10 + 2;
          local_e = local_e + 1;
          uVar11 = local_12;
        } while (local_e < (int)local_14);
      }
      local_c = local_c - 1;
    } while (-1 < (int)local_c);
    if (local_1c == 0) {
      local_18 = ~uVar11 & param_4;
    }
    if (((uVar11 & uVar11 - 1) == 0) || (local_1c = local_1c + 1, 0xf < (int)local_1c)) {
      *(int *)((int)local_2a + 6) = *(int *)&PTR_DAT_10a8_0000_10a8_4448 - (int)local_2a;
      FUN_1088_2c88(param_1,(uint *)param_2,param_2._2_2_,(uint)*local_2a,(uint *)local_22a,param_4,
                    &local_18,local_24,local_26);
      *(uint *)((int)local_2a + 4) = ~local_18 & param_4;
      return 1;
    }
  } while( true );
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far
FUN_1088_2c88(uint param_1,uint *param_2,int param_3,uint param_4,uint *param_5,uint param_6,
             uint *param_7,int param_8,int param_9)

{
  char *pcVar1;
  byte *pbVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  uint *puVar5;
  int *piVar6;
  int iVar7;
  undefined2 in_DX;
  int *piVar8;
  uint uVar9;
  undefined4 *puVar10;
  uint *puVar11;
  undefined2 unaff_SS;
  undefined2 uVar12;
  undefined4 local_30 [4];
  uint *local_20;
  uint local_1c;
  int *local_1a;
  undefined4 local_18;
  int *local_14;
  uint *local_12;
  uint *local_10;
  uint *local_e;
  uint *local_c;
  uint local_a;
  uint *local_8;
  int *local_6;
  uint local_4;

  local_1c = *param_7;
  puVar10 = local_30;
  for (iVar7 = 4; iVar7 != 0; iVar7 = iVar7 + -1) {
    puVar3 = puVar10;
    puVar10 = puVar10 + 1;
    *puVar3 = 0;
  }
  if (*(int *)(param_1 + 6) == -1) {
    local_18 = CONCAT22(*(undefined2 *)(param_1 + 10),*(undefined2 *)(param_1 + 8));
  }
  else {
    iVar7 = *(int *)(param_1 + 6);
    local_18 = CONCAT22(iVar7,0xffff);
    piVar6 = FUN_1010_018e(iVar7);
    iVar7 = piVar6[1];
    if (iVar7 != -1) {
      local_1c = local_1c & ~(1 << ((byte)iVar7 & 0x1f));
      *param_7 = local_1c;
    }
  }
  local_8 = param_2;
  local_20 = (uint *)0x0;
  local_a = param_1;
  uVar9 = param_1;
  puVar11 = param_2;
  do {
    if ((*(byte *)(uVar9 + 5) & 4) == 0) {
      piVar6 = (int *)(uVar9 + 0xc);
      local_8 = puVar11;
      local_6 = (int *)0x0;
      local_a = uVar9;
      iVar7 = 0;
      do {
        if (0 < *piVar6) {
          pbVar2 = (byte *)((int)param_5 + (*(int *)(uVar9 + 2) * 0x10 + iVar7) * 2 + 1);
          *pbVar2 = *pbVar2 | 0x40;
        }
        piVar6 = piVar6 + 1;
        iVar7 = iVar7 + 1;
      } while (iVar7 < 0x10);
    }
    if ((local_1c & 1 << (*(byte *)(uVar9 + 2) & 0x1f)) != 0) {
      pcVar1 = (char *)((int)local_30 + *(int *)(uVar9 + 2));
      *pcVar1 = *pcVar1 + '\x01';
      local_20 = (uint *)CONCAT22(puVar11,uVar9);
    }
    uVar4 = *(undefined4 *)(uVar9 + 0x68);
    puVar11 = (uint *)((ulong)uVar4 >> 0x10);
    uVar9 = (uint)uVar4;
  } while (((uVar9 != param_1) || (puVar11 != param_2)) && (((uint)puVar11 | uVar9) != 0));
  piVar6 = (int *)0x0;
  if (0 < *(int *)&PTR_DAT_10a8_0002_10a8_0038) {
    do {
      if ((param_6 & 1 << ((byte)piVar6 & 0x1f)) != 0) {
        if ((local_1c & 1 << ((byte)piVar6 & 0x1f)) == 0) {
          local_14 = piVar6;
          if (param_3 == 2) {
            if (param_8 == 2) {
              local_c = (uint *)0x0;
              local_10 = (uint *)0x0;
              piVar8 = (int *)0x0;
              puVar11 = param_5;
              do {
                local_6 = piVar8;
                iVar7 = 0x10;
                do {
                  puVar5 = local_c;
                  if ((*puVar11 != 0) && (puVar5 = puVar11, piVar6 == local_6)) {
                    local_10 = puVar11;
                    puVar5 = local_c;
                  }
                  local_c = puVar5;
                  puVar11 = puVar11 + 1;
                  iVar7 = iVar7 + -1;
                } while (iVar7 != 0);
                piVar8 = (int *)((int)local_6 + 1);
              } while ((int)(int *)((int)local_6 + 1) < 0x10);
              if ((*local_10 & 0x3fff) == 0) {
                if ((*local_c & 0x3fff) == 0) {
                  local_4 = 0x9a;
                }
                else {
                  local_4 = (-(uint)((*(byte *)((int)local_10 + 1) & 0x80) == 0) & 0xfffe) + 0x98;
                }
              }
              else {
                local_4 = (-(uint)((*(byte *)((int)local_c + 1) & 0x80) == 0) & 0xfffe) + 0x99;
              }
            }
            else {
              if (param_9 != 2) goto LAB_1088_2fcc;
              local_c = (uint *)0x0;
              local_10 = (uint *)0x0;
              local_8 = param_5;
              piVar8 = (int *)0x0;
              do {
                local_6 = piVar8;
                iVar7 = 0x10;
                do {
                  puVar11 = local_c;
                  if ((*local_8 != 0) && (puVar11 = local_8, piVar6 == local_6)) {
                    local_10 = local_8;
                    puVar11 = local_c;
                  }
                  local_c = puVar11;
                  local_8 = local_8 + 1;
                  iVar7 = iVar7 + -1;
                } while (iVar7 != 0);
                piVar8 = (int *)((int)local_6 + 1);
              } while ((int)(int *)((int)local_6 + 1) < 0x10);
              if ((*(byte *)((int)local_10 + 1) & 0x40) == 0) {
                local_4 = (-(uint)((*(byte *)((int)local_c + 1) & 0x80) == 0) & 0xfffe) + 0x9e;
              }
              else if ((*(byte *)((int)local_c + 1) & 0x40) == 0) {
                local_4 = (-(uint)((*(byte *)((int)local_10 + 1) & 0x80) == 0) & 0xfffe) + 0x9d;
              }
              else {
                local_4 = 0x9f;
              }
              uVar9 = *local_10;
              local_12 = (uint *)(uVar9 & 0xff | ((byte)((ulong)uVar9 >> 8) & 0x1f) << 8);
              uVar9 = *local_c;
              local_e = (uint *)(uVar9 & 0xff | ((byte)((ulong)uVar9 >> 8) & 0x1f) << 8);
              local_a = param_1;
              uVar9 = param_1;
              puVar11 = param_2;
              do {
                if ((*(byte *)(uVar9 + 5) & 4) == 0) {
                  if (*(int **)(uVar9 + 2) == piVar6) {
                    local_12 = (uint *)((int)local_12 +
                                       *(int *)(uVar9 + ((int)local_10 - (int)param_5 & 0xfffeU) +
                                                        *(int *)(uVar9 + 2) * -0x20 + 0xc));
                  }
                  else {
                    local_e = (uint *)((int)local_e +
                                      *(int *)(uVar9 + ((int)local_c - (int)param_5 & 0xfffeU) +
                                                       *(int *)(uVar9 + 2) * -0x20 + 0xc));
                  }
                }
                uVar4 = *(undefined4 *)(uVar9 + 0x68);
                puVar11 = (uint *)((ulong)uVar4 >> 0x10);
                uVar9 = (uint)uVar4;
              } while (((uVar9 != param_1) || (puVar11 != param_2)) &&
                      (((uint)puVar11 | uVar9) != 0));
            }
            FUN_1010_6b58(CONCAT22(local_4,piVar6),
                          param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000);
            piVar6 = local_14;
            goto LAB_1088_3243;
          }
LAB_1088_2fcc:
          local_8 = param_5;
          local_e = (uint *)0x0;
          local_12 = (uint *)0x0;
          piVar8 = (int *)0x0;
          do {
            local_6 = piVar8;
            local_4 = 0x10;
            local_c = local_e;
            local_10 = local_12;
            do {
              if (*local_8 != 0) {
                if (piVar6 == local_6) {
                  uVar9 = *local_8;
                  local_10 = (uint *)((int)local_10 +
                                     (uVar9 & 0xff | ((byte)((ulong)uVar9 >> 8) & 0x1f) << 8));
                }
                else {
                  uVar9 = *local_8;
                  local_c = (uint *)((int)local_c +
                                    (uVar9 & 0xff | ((byte)((ulong)uVar9 >> 8) & 0x1f) << 8));
                  local_1a = local_6;
                }
              }
              local_8 = local_8 + 1;
              local_4 = local_4 - 1;
            } while (local_4 != 0);
            piVar8 = (int *)((int)local_6 + 1);
            local_12 = local_10;
            local_e = local_c;
          } while ((int)(int *)((int)local_6 + 1) < 0x10);
          local_1a = (int *)((uint)local_1a | 0x30);
          local_a = param_1;
          uVar9 = param_1;
          puVar11 = param_2;
          do {
            if ((*(byte *)(uVar9 + 5) & 4) == 0) {
              local_a = uVar9;
              local_8 = puVar11;
              if (*(int **)(uVar9 + 2) == piVar6) {
                local_6 = (int *)(uVar9 + 0xc);
                iVar7 = 0x10;
                piVar8 = local_6;
                do {
                  local_12 = (uint *)((int)local_12 + *piVar8);
                  iVar7 = iVar7 + -1;
                  piVar8 = piVar8 + 1;
                } while (iVar7 != 0);
              }
              else {
                iVar7 = 0x10;
                piVar8 = (int *)(uVar9 + 0xc);
                do {
                  local_e = (uint *)((int)local_e + *piVar8);
                  iVar7 = iVar7 + -1;
                  piVar8 = piVar8 + 1;
                } while (iVar7 != 0);
              }
            }
            uVar4 = *(undefined4 *)(uVar9 + 0x68);
            puVar11 = (uint *)((ulong)uVar4 >> 0x10);
            uVar9 = (uint)uVar4;
          } while (((uVar9 != param_1) || (puVar11 != param_2)) && (((uint)puVar11 | uVar9) != 0));
          if (param_3 == 2) {
            if (local_e == local_c) {
              if (local_10 == (uint *)0x0) {
                local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
                uVar12 = 0xa0;
              }
              else {
                local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
                uVar12 = 0xa2;
              }
            }
            else if (local_12 == local_10) {
              if (local_c == (uint *)0x0) {
                local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
                uVar12 = 0xa1;
              }
              else {
                local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
                uVar12 = 0xa3;
              }
            }
            else {
              local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
              uVar12 = 0xa4;
            }
          }
          else if (local_10 == (uint *)0x0) {
            if (local_e == local_c) {
              local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
              uVar12 = 0xa5;
            }
            else {
LAB_1088_31c0:
              local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
              uVar12 = 0xa9;
            }
          }
          else if (local_c == (uint *)0x0) {
            if (local_12 != local_10) goto LAB_1088_31c0;
            local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
            uVar12 = 0xa7;
          }
          else if (local_e == local_c) {
            local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
            uVar12 = 0xa6;
          }
          else if (local_10 == local_12) {
            local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
            uVar12 = 0xa8;
          }
          else {
            local_18._2_2_ = param_4 & 0xff | (uint)(byte)((ulong)param_4 >> 8) << 8 | 0x4000;
            uVar12 = 0x83;
          }
        }
        else if (*(byte *)((int)local_30 + (int)piVar6) < 2) {
          local_18._2_2_ = *local_20 & 0xff | (uint)(byte)((ulong)*local_20 >> 8) << 8 | 0x8000;
          uVar12 = 0xbd;
        }
        else {
          if ((int)local_18 != -1) {
            local_18._2_2_ = 0xffff;
          }
          uVar12 = 0xbe;
          local_4 = local_18._2_2_;
        }
        FUN_1010_6b58(CONCAT22(uVar12,piVar6),local_18._2_2_);
      }
LAB_1088_3243:
      piVar6 = (int *)((int)piVar6 + 1);
    } while ((int)piVar6 < *(int *)&PTR_DAT_10a8_0002_10a8_0038);
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1088_3250(ulong param_1)

{
  int *piVar1;
  long *plVar2;
  byte *pbVar3;
  uint *puVar4;
  undefined4 *puVar5;
  byte bVar6;
  long lVar7;
  undefined2 uVar8;
  ulong uVar9;
  int iVar10;
  int *piVar11;
  int iVar12;
  uint uVar13;
  int iVar14;
  long *plVar15;
  uint *puVar16;
  int iVar17;
  uint *puVar18;
  undefined4 *puVar19;
  undefined2 uVar20;
  uint uVar21;
  undefined2 unaff_SS;
  undefined4 uVar22;
  uint uVar23;
  int iStack_8a;
  undefined4 local_82;
  uint local_42 [16];
  int local_22;
  undefined4 local_20;
  int local_1c;
  uint local_1a;
  uint local_18;
  uint local_16;
  uint *local_14;
  uint local_12;
  undefined4 local_10;
  uint local_c;
  long local_a;
  uint local_6;
  uint *local_4;

  FUN_1010_06c6();
  puVar19 = &local_82;
  for (iVar12 = 0x10; iVar12 != 0; iVar12 = iVar12 + -1) {
    puVar5 = puVar19;
    puVar19 = puVar19 + 1;
    *puVar5 = 0;
  }
  puVar16 = local_42;
  for (iVar12 = 0x10; iVar12 != 0; iVar12 = iVar12 + -1) {
    puVar4 = puVar16;
    puVar16 = puVar16 + 1;
    *puVar4 = 0;
  }
  local_10 = (uint *)(param_1 & 0xffff0000 | (ulong)local_10 & 0xffff);
  local_22 = 0;
  uVar9 = param_1;
  do {
    local_6 = (uint)(uVar9 >> 0x10);
    iVar17 = (int)uVar9;
    local_22 = local_22 + 1;
    iVar10 = (int)((((ulong)*(byte *)(iVar17 + 1) & 0xffff1e) << 8) >> 9);
    puVar4 = local_42 + iVar10;
    *puVar4 = *puVar4 + 1;
    *(undefined4 *)(iVar17 + 0x6c) = 0;
    piVar11 = (int *)(iVar17 + 0xc);
    local_a = CONCAT22(piVar11,(uint)local_a);
    local_4 = (uint *)0x0;
    local_c = iVar10;
    local_10 = (uint *)(uVar9 & 0xffff | (ulong)local_10._2_2_ << 0x10);
    iVar12 = 0;
    do {
      uVar22 = *(undefined4 *)(iVar10 * 4 + 0x72);
      uVar20 = (undefined2)((ulong)uVar22 >> 0x10);
      iVar14 = (int)uVar22 + iVar12;
      if ((*(byte *)(iVar14 + 0x7c) & 2) == 0) {
        plVar2 = (long *)(iVar17 + 0x6c);
        *plVar2 = *plVar2 + *(long *)(iVar14 + 0x83) * (long)*piVar11;
      }
      piVar11 = piVar11 + 1;
      iVar12 = iVar12 + 0x87;
    } while (iVar12 < 0x870);
    uVar13 = *(uint *)(iVar17 + 0x6c);
    iVar12 = *(int *)(iVar17 + 0x6e);
    puVar5 = &local_82 + iVar10;
    uVar21 = *(uint *)puVar5;
    *(uint *)puVar5 = *(uint *)puVar5 + uVar13;
    piVar1 = (int *)((int)&local_82 + iVar10 * 4 + 2);
    *piVar1 = *piVar1 + iVar12 + (uint)CARRY2(uVar21,uVar13);
    puVar16 = *(uint **)(iVar17 + 0x68);
    local_10._2_2_ = *(uint *)(iVar17 + 0x6a);
    uVar9 = CONCAT22(local_10._2_2_,puVar16);
  } while (param_1 != CONCAT22(local_10._2_2_,puVar16));
  local_10._0_2_ = puVar16;
  local_12 = 0xffff;
  local_a = 0;
  uVar13 = 0;
  local_1c = 0;
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    plVar15 = &local_82;
    local_4 = local_42;
    uVar21 = local_12;
    do {
      local_12 = uVar21;
      if ((*local_4 != 0) && (local_1c = local_1c + 1, local_12 = uVar13, uVar21 != 0xffff)) {
        lVar7 = (&local_82)[uVar21];
        iStack_8a = (int)((ulong)lVar7 >> 0x10);
        if (lVar7 < *plVar15) {
          local_a = CONCAT22((int)((ulong)local_a >> 0x10) + iStack_8a +
                             (uint)CARRY2((uint)local_a,(uint)lVar7),(uint)local_a + (uint)lVar7);
        }
        else {
          local_a = local_a + *plVar15;
          local_12 = uVar21;
        }
      }
      plVar15 = plVar15 + 1;
      local_4 = local_4 + 1;
      uVar13 = uVar13 + 1;
      uVar21 = local_12;
    } while ((int)uVar13 < (int)PTR_DAT_10a8_0002_10a8_0038);
  }
  local_a = local_a / (long)(local_1c + -1);
  local_18 = 0;
  local_4 = (uint *)local_42[local_12];
  do {
    uVar13 = (*puVar16 & 0x1e00) >> 9;
    if (uVar13 == local_12) {
      if (local_a != 0) {
        uVar13 = FUN_1088_0fe2(CONCAT22(local_10._2_2_,puVar16),local_a,local_42[uVar13],
                               (&local_82)[uVar13]);
        local_18 = local_18 | uVar13;
        if (((*(byte *)((int)puVar16 + 5) & 4) != 0) &&
           (local_4 = (uint *)((int)local_4 - 1), local_4 == (uint *)0x0)) {
          local_12 = 0xffff;
        }
      }
    }
    else {
      pbVar3 = (byte *)((int)puVar16 + 5);
      *pbVar3 = *pbVar3 | 4;
    }
    puVar18 = (uint *)puVar16[0x34];
    local_10._2_2_ = puVar16[0x35];
    puVar16 = puVar18;
  } while (param_1 != CONCAT22(local_10._2_2_,puVar18));
  local_6 = 0;
  if (puVar18[3] == 0xffff) {
    local_16 = puVar18[4];
    local_1a = puVar18[5];
  }
  else {
    local_16 = 0xffff;
    local_1a = puVar18[3];
    piVar11 = FUN_1010_018e(local_1a);
    local_20 = CONCAT22(local_10._2_2_,piVar11);
    iVar12 = piVar11[1];
    if ((iVar12 != -1) && (local_42[iVar12] == 0)) {
      local_6 = 1;
    }
  }
  uVar13 = 0;
  if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
    local_14 = local_42;
    do {
      local_c = uVar13;
      if (*local_14 != 0) {
        puVar16 = puVar18;
        uVar21 = param_1._2_2_;
        if (local_12 == uVar13) {
          do {
            if ((((*(byte *)((int)puVar16 + 1) & 0x1e) << 8) >> 9 == uVar13) &&
               ((*(byte *)((int)puVar16 + 5) & 4) == 0)) break;
            uVar22 = *(undefined4 *)(puVar16 + 0x34);
            uVar21 = (uint)((ulong)uVar22 >> 0x10);
            puVar16 = (uint *)uVar22;
          } while ((puVar16 != puVar18) || (uVar21 != param_1._2_2_));
        }
        else {
          bVar6 = *(byte *)((int)puVar18 + 1);
          while (((bVar6 & 0x1e) << 8) >> 9 != uVar13) {
            uVar22 = *(undefined4 *)(puVar16 + 0x34);
            uVar21 = (uint)((ulong)uVar22 >> 0x10);
            puVar16 = (uint *)uVar22;
            bVar6 = *(byte *)((int)puVar16 + 1);
          }
        }
        local_10 = (uint *)ZEXT24(puVar16);
        uVar20 = (undefined2)((ulong)local_20 >> 0x10);
        if (local_1c < 3) {
          local_4 = (uint *)0x0;
          if (0 < (int)PTR_DAT_10a8_0002_10a8_0038) {
            local_4 = (uint *)0x0;
            local_10 = (uint *)CONCAT22(uVar21,puVar16);
            do {
              if (((uint *)uVar13 != local_4) && (local_42[(int)local_4] != 0)) break;
              local_4 = (uint *)((int)local_4 + 1);
            } while ((int)local_4 < (int)PTR_DAT_10a8_0002_10a8_0038);
          }
          if (local_12 == 0xffff) {
            local_10 = (uint *)((ulong)local_10 & 0xffff | (ulong)uVar21 << 0x10);
            FUN_1010_6b58(CONCAT22(0x17,uVar13),((uint *)param_1)[3]);
            if (local_6 == 0) goto LAB_1088_37f0;
            uVar21 = ((uint *)param_1)[3];
            uVar22 = CONCAT22(0x20,*(undefined2 *)((int)local_20 + 2));
          }
          else {
            local_10 = (uint *)((ulong)local_10 & 0xffff | (ulong)uVar21 << 0x10);
            if (local_6 != 0) {
              local_6 = uVar13;
              if (local_12 == uVar13) {
                local_6 = (uint)local_4;
              }
              FUN_1010_6b58(CONCAT22(0x21,*(undefined2 *)((int)local_20 + 2)),((uint *)param_1)[3]);
            }
            if (local_12 == uVar13) {
              if ((int)*local_14 < 2) {
                local_6 = 0x18;
                if (local_18 != 0) {
                  local_6 = 0x19;
                }
              }
              else {
                local_6 = 0x1a;
                if (local_18 != 0) {
                  local_6 = 0x1b;
                }
              }
              uVar21 = *local_10 & 0xff | (uint)(byte)((ulong)*local_10 >> 8) << 8 | 0x8000;
              uVar23 = local_6;
            }
            else if (*local_14 == 1) {
              if (local_18 == 0) {
                uVar21 = ((uint *)param_1)[3];
                uVar23 = 0x1e;
              }
              else {
                uVar21 = ((uint *)param_1)[3];
                uVar23 = 0x1f;
              }
            }
            else {
              local_6 = 0x1c;
              if (local_18 != 0) {
                local_6 = 0x1d;
              }
              uVar21 = ((uint *)param_1)[3];
              uVar23 = local_6;
            }
            uVar22 = CONCAT22(uVar23,uVar13);
          }
          FUN_1010_6b58(uVar22,uVar21);
        }
        else {
          if (local_6 == 0) {
            local_10 = (uint *)CONCAT22(uVar21,puVar16);
          }
          else {
            if (local_12 == 0xffff) {
              uVar8 = 0x15;
            }
            else {
              uVar8 = 0x16;
            }
            local_10 = (uint *)CONCAT22(uVar21,puVar16);
            FUN_1010_6b58(CONCAT22(uVar8,*(undefined2 *)((int)local_20 + 2)),local_1a);
          }
          if (local_12 == 0xffff) {
            uVar13 = ((uint *)param_1)[3];
            uVar21 = 0xd;
          }
          else if (local_c == local_12) {
            if (*local_14 == 1) {
              local_6 = 0xe;
              if (local_a != 0) {
                local_6 = 0xf;
              }
              if (local_18 != 0) {
                local_6 = local_6 + 1;
              }
            }
            else {
              local_6 = 0x11;
              if (local_18 != 0) {
                local_6 = 0x12;
              }
            }
            uVar13 = *local_10 & 0xff | (uint)(byte)((ulong)*local_10 >> 8) << 8 | 0x8000;
            uVar21 = local_6;
          }
          else {
            local_6 = 0x13;
            if (1 < (int)*local_14) {
              local_6 = 0x14;
            }
            uVar13 = ((uint *)param_1)[3];
            uVar21 = local_6;
          }
          FUN_1010_6b58(CONCAT22(uVar21,local_c),uVar13);
          uVar13 = local_c;
        }
LAB_1088_37f0:
        local_6 = 0;
      }
      local_14 = local_14 + 1;
      uVar13 = uVar13 + 1;
      puVar18 = (uint *)param_1;
    } while ((int)uVar13 < (int)PTR_DAT_10a8_0002_10a8_0038);
  }
  return;
}



undefined2 __cdecl16far FUN_1088_3810(undefined4 param_1,int param_2)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined2 uVar5;
  undefined2 unaff_SS;
  undefined4 local_16;
  byte local_10;
  int local_c;
  int local_4;

  uVar5 = (undefined2)((ulong)param_1 >> 0x10);
  iVar2 = (int)param_1;
  local_4 = *(int *)(iVar2 + 2);
  puVar3 = (undefined4 *)*(undefined2 *)(iVar2 + 100);
  uVar5 = *(undefined2 *)(iVar2 + 0x66);
  puVar4 = &local_16;
  for (iVar2 = 4; puVar3 = puVar3 + 1, iVar2 != 0; iVar2 = iVar2 + -1) {
    puVar1 = puVar4;
    puVar4 = puVar4 + 1;
    *puVar1 = *puVar3;
  }
  *(undefined2 *)puVar4 = *(undefined2 *)puVar3;
  if (((local_10 & 0xf) == 2) && (local_4 != param_2)) {
    if (local_c == 0) {
      if (*(char *)(local_4 * 0x76 + param_2 + -0x775c) == '\x02') {
        return 1;
      }
    }
    else if (local_c == 1) {
      if (*(char *)(local_4 * 0x76 + param_2 + -0x775c) != '\x01') {
        return 1;
      }
    }
    else if ((local_c == 2) || (local_c - param_2 == 3)) {
      return 1;
    }
  }
  return 0;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_1088_3890(void)

{
  byte *pbVar1;
  long *plVar2;
  uint *puVar3;
  undefined2 *puVar4;
  ulong *puVar5;
  uint *puVar6;
  ulong uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined2 *puVar10;
  uint uVar11;
  uint uVar12;
  ulong *puVar13;
  long lVar14;
  uint uVar15;
  int iVar16;
  int iVar17;
  uint uVar18;
  undefined2 uVar19;
  undefined2 uVar20;
  int unaff_SS;
  int iVar21;
  ulong local_3c;
  long local_38;
  long local_34;
  float local_30;
  undefined4 local_2c;
  uint *local_28;
  uint local_26;
  int local_24;
  int local_22;
  undefined4 local_20;
  ulong local_1c;
  undefined4 local_18;
  long local_14;
  undefined4 local_10;
  undefined4 local_c;
  int local_8;
  undefined4 local_6;

  iVar21 = (int)s_From___s_c_c_10a8_10a2 + 6;
  local_24 = 0;
  if (0 < (int)PTR_DAT_10a8_0000_10a8_83c6) {
    local_22 = 0;
    do {
      uVar8 = *(undefined4 *)&PTR_DAT_10a8_0000_10a8_006e;
      uVar19 = (undefined2)((ulong)uVar8 >> 0x10);
      iVar17 = (int)uVar8;
      puVar6 = *(uint **)(iVar17 + local_22);
      local_26 = *(uint *)(iVar17 + local_22 + 2);
      if ((local_26 | (uint)puVar6) == 0) {
        return;
      }
      if (((((*(byte *)((int)puVar6 + 5) & 0x14) == 0) &&
           (uVar8 = *(undefined4 *)(puVar6 + 0x32), (*(byte *)((int)uVar8 + 10) & 0xf) == 2)) &&
          (uVar8 = *(undefined4 *)(puVar6 + 0x32), uVar9 = *(undefined4 *)(puVar6[1] * 4 + -0x77fc),
          (*(byte *)((int)uVar9 + *(int *)((int)uVar8 + 0xc) * 0x2e + 1) & 2) != 0)) &&
         (puVar6[3] != 0xffff)) {
        puVar10 = (undefined2 *)(puVar6[3] * 0x3c + *(int *)&PTR_DAT_10a8_0000_10a8_006a);
        uVar11 = *(uint *)&PTR_DAT_10a8_0000_10a8_006c;
        local_20 = local_20 & 0xffff | (ulong)uVar11 << 0x10;
        if (((puVar10[1] != puVar6[1]) && (puVar10[1] != -1)) &&
           ((iVar17 = FUN_1088_3810(CONCAT13((char)(local_26 >> 8),CONCAT12((char)local_26,puVar6)),
                                    puVar10[1]), iVar17 != 0 &&
            (iVar17 = FUN_1010_095c(CONCAT13((char)(local_26 >> 8),CONCAT12((char)local_26,puVar6)),
                                    &local_34,&local_38,&local_2c), iVar17 != 0)))) {
          FUN_1010_020c(local_20 & 0xff000000 | (ulong)CONCAT12((char)(local_20 >> 0x10),puVar10),
                        &local_30);
          if (local_30 != 1.0) {
            if (0 < local_34) {
              uVar19 = FUN_10a0_0c14();
              local_34 = CONCAT22(uVar11,uVar19);
            }
            if (0 < local_38) {
              uVar19 = FUN_10a0_0c14();
              local_38 = CONCAT22(uVar11,uVar19);
            }
            if (0 < local_2c) {
              uVar19 = FUN_10a0_0c14();
              local_2c = CONCAT22(uVar11,uVar19);
            }
          }
          pbVar1 = (byte *)((int)puVar6 + 5);
          *pbVar1 = *pbVar1 | 0x10;
          uVar11 = puVar10[0xe];
          uVar15 = uVar11 >> 4;
          local_3c = (ulong)uVar15;
          uVar18 = CONCAT11((char)uVar11,(char)((ulong)(uint)puVar10[0xd] >> 8)) & 0xfff;
          uVar11 = puVar10[0xf];
          uVar12 = uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 0xf) << 8;
          uVar11 = uVar18 + uVar12;
          iVar17 = uVar11 + uVar15;
          iVar16 = (uint)CARRY2(uVar18,uVar12) + (uint)CARRY2(uVar11,uVar15);
          local_6 = CONCAT22(iVar16,iVar17);
          local_10 = 0;
          local_14 = 0;
          local_1c = 0;
          local_c = 0;
          if (((-1 < local_2c) && ((0 < local_2c._2_2_ || ((int)local_2c != 0)))) &&
             ((iVar16 != 0 || (iVar17 != 0)))) {
            local_18 = (long)(local_3c * local_2c) % CONCAT22(iVar16,iVar17);
            local_c = (long)(local_3c * local_2c) / (long)local_6;
            if (0 < (long)local_18) {
              uVar11 = FUN_1018_4a4a(iVar17);
              if (((int)local_18._2_2_ < (int)uVar11 >> 0xf) ||
                 (((int)local_18._2_2_ <= (int)uVar11 >> 0xf && ((uint)local_18 <= uVar11)))) {
                uVar11 = 0;
              }
              else {
                uVar11 = 1;
              }
              local_c = CONCAT22((int)(local_c >> 0x10) + (uint)CARRY2((uint)local_c,uVar11),
                                 (uint)local_c + uVar11);
            }
            uVar11 = (uint)puVar10[0xe] >> 4;
            if ((-1 < (long)local_c) && ((0 < local_c._2_2_ || (uVar11 < (uint)local_c)))) {
              local_c = (ulong)uVar11;
            }
            uVar11 = puVar10[0xf];
            lVar14 = (ulong)(uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 0xf) << 8) * local_2c;
            local_18 = lVar14 % (long)local_6;
            local_10 = lVar14 / (long)local_6;
            if (0 < (long)local_18) {
              uVar11 = FUN_1018_4a4a((uint)local_6);
              if (((int)local_18._2_2_ < (int)uVar11 >> 0xf) ||
                 (((int)local_18._2_2_ <= (int)uVar11 >> 0xf && ((uint)local_18 <= uVar11)))) {
                uVar11 = 0;
              }
              else {
                uVar11 = 1;
              }
              local_10 = CONCAT22((int)(local_10 >> 0x10) + (uint)CARRY2((uint)local_10,uVar11),
                                  (uint)local_10 + uVar11);
            }
            uVar11 = puVar10[0xf];
            uVar11 = uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 0xf) << 8;
            if ((-1 < (long)local_10) && ((0 < local_10._2_2_ || (uVar11 < (uint)local_10)))) {
              local_10 = (ulong)uVar11;
            }
            local_1c = (local_2c - local_10) - local_c;
            uVar11 = (uint)((ulong)*(undefined4 *)(puVar10 + 0xd) >> 8) & 0xfff;
            if ((-1 < (long)local_1c) && ((0xffff < (long)local_1c || (uVar11 < (uint)local_1c)))) {
              local_1c = (ulong)uVar11;
            }
          }
          if ((0 < local_34) && (0 < *(long *)(puVar10 + 0x19))) {
            local_14 = *(long *)(puVar10 + 0x19) * local_34;
            local_18 = local_14 % 1000;
            local_14 = local_14 / 1000;
            if (0 < (long)local_18) {
              uVar11 = FUN_1018_4a4a(1000);
              if (((int)local_18._2_2_ < (int)uVar11 >> 0xf) ||
                 (((int)local_18._2_2_ <= (int)uVar11 >> 0xf && ((uint)local_18 < uVar11)))) {
                uVar11 = 0;
              }
              else {
                uVar11 = 1;
              }
              local_14 = CONCAT22((int)((ulong)local_14 >> 0x10) +
                                  (uint)CARRY2((uint)local_14,uVar11),(uint)local_14 + uVar11);
            }
            if (local_14 < 1) {
              local_14 = 1;
            }
            if (local_14 < local_38) {
              local_14 = local_38;
            }
            if (*(long *)(puVar10 + 0x19) < local_14) {
              local_14 = *(long *)(puVar10 + 0x19);
            }
          }
          if (0 < local_14) {
            plVar2 = (long *)(puVar10 + 0x19);
            *plVar2 = *plVar2 - local_14;
          }
          if (0 < (long)local_c) {
            uVar11 = puVar10[0xe];
            puVar10[0xd] = puVar10[0xd];
            puVar10[0xe] = (uVar11 & 0xfff0) + (uint)local_c * -0x10 ^ uVar11 & 0xf;
          }
          if (0 < (long)local_1c) {
            uVar11 = puVar10[0xd];
            uVar18 = puVar10[0xe];
            uVar12 = (uint)(local_1c << 8);
            puVar3 = puVar10 + 0xd;
            *puVar3 = *puVar3 ^ (uVar11 - uVar12 ^ uVar11) & 0xff00;
            puVar3 = puVar10 + 0xe;
            *puVar3 = *puVar3 ^ ((uVar18 - (int)(local_1c >> 8)) - (uint)(uVar11 < uVar12) ^ uVar18)
                                & 0xf;
          }
          if (0 < (long)local_10) {
            uVar11 = puVar10[0xf] - (uint)local_10 ^ puVar10[0xf];
            puVar3 = puVar10 + 0xf;
            *puVar3 = *puVar3 ^ (uVar11 & 0xff | ((byte)((ulong)uVar11 >> 8) & 0xf) << 8);
            puVar4 = puVar10 + 0x10;
            *puVar4 = *puVar4;
            if (((puVar10[0xf] & 0xfff) == 0) &&
               (puVar4 = puVar10 + 0x10, *(byte *)puVar4 = *(byte *)puVar4 | 0x3e,
               *(long *)(puVar10 + 0x1c) != 0)) {
              uVar18 = 0;
              local_18 = local_18 & 0xffff;
              uVar7 = *(ulong *)(puVar10 + 0x1c);
              uVar19 = puVar10[0x1d];
              puVar13 = (ulong *)((int)uVar7 + 4);
              local_6 = uVar7 & 0xffff0000 | ZEXT24(puVar13);
              uVar11 = uVar18;
              if (*(char *)((int)uVar7 + 3) != '\0') {
                uVar7 = local_20 & 0xffff0000;
                local_20 = uVar7 | ZEXT24(puVar10);
                local_8 = 0;
                do {
                  uVar20 = (undefined2)(uVar7 >> 0x10);
                  if (((*(uint *)((int)puVar13 + 2) & 0xe) != 2) || ((*puVar13 & 0x1fc00) != 0x1c00)
                     ) {
                    if (uVar18 != uVar11) {
                      uVar8 = *(undefined4 *)(puVar10 + 0x1c);
                      *(ulong *)((int)uVar8 + local_8 + 4) = *puVar13;
                    }
                    local_8 = local_8 + 4;
                    uVar11 = uVar11 + 1;
                  }
                  puVar13 = puVar13 + 1;
                  uVar8 = *(undefined4 *)(puVar10 + 0x1c);
                  uVar18 = uVar18 + 1;
                } while ((int)uVar18 < (int)(uint)*(byte *)((int)uVar8 + 3));
                local_18 = local_18 | (ulong)uVar18 << 0x10;
                iVar21 = unaff_SS;
                local_28 = puVar6;
              }
              if (uVar11 == 0) {
                uVar8 = *(undefined4 *)(puVar10 + 0x1c);
                FUN_1038_05b8((uint)uVar8,(uint)((ulong)uVar8 >> 0x10));
                *(undefined4 *)(puVar10 + 0x1c) = 0;
              }
              else if (local_18._2_2_ != uVar11) {
                uVar8 = *(undefined4 *)(puVar10 + 0x1c);
                *(undefined *)((int)uVar8 + 3) = (char)uVar11;
              }
            }
          }
          local_6 = local_10 + local_c + local_1c;
          local_6._2_2_ = (int)(local_6 >> 0x10);
          if ((long)local_6 < 1) {
            if (0 < local_14) {
              if (*(long *)(puVar10 + 0x19) < 1) {
                local_8 = 0x94;
                local_c = CONCAT22(0x95,(uint)local_c);
              }
              else {
                local_8 = 0x62;
                local_c = CONCAT22(0x6c,(uint)local_c);
              }
              uVar11 = *puVar6;
              FUN_1010_6b58(CONCAT22(local_8,puVar6[1]),
                            uVar11 & 0xff | (uint)(byte)((ulong)uVar11 >> 8) << 8 | 0x8000);
              goto LAB_1088_405d;
            }
          }
          else {
            if (*(long *)(puVar10 + 0x19) < 1) {
              local_8 = 0x94;
              local_c = CONCAT22(0x95,(uint)local_c);
LAB_1088_3fd4:
              uVar11 = *puVar6;
              FUN_1010_6b58(CONCAT22(local_8,puVar6[1]),
                            uVar11 & 0xff | (uint)(byte)((ulong)uVar11 >> 8) << 8 | 0x8000);
LAB_1088_405d:
              uVar19 = *puVar10;
              local_c._2_2_ = (int)(local_c >> 0x10);
            }
            else {
              local_8 = 0x65;
              local_c = CONCAT22(0x6f,(uint)local_c);
              if ((-1 < (long)local_6) && ((0 < local_6._2_2_ || (1 < (uint)local_6)))) {
                local_8 = 0x66;
                local_c = CONCAT22(0x70,(uint)local_c);
              }
              if (local_14 < 1) {
                local_8 = local_8 + -2;
                local_c = local_c & 0xffff | (ulong)(local_c._2_2_ - 2) << 0x10;
                if (local_30 == 1.0) {
                  uVar11 = *puVar6;
                  FUN_1010_6b58(CONCAT22(local_8,puVar6[1]),
                                uVar11 & 0xff | (uint)(byte)((ulong)uVar11 >> 8) << 8 | 0x8000);
                  goto LAB_1088_405d;
                }
                FUN_10a0_0c14();
                uVar11 = *puVar6;
                FUN_1010_6b58(CONCAT22(local_8 + 5,puVar6[1]),
                              uVar11 & 0xff | (uint)(byte)((ulong)uVar11 >> 8) << 8 | 0x8000);
                FUN_10a0_0c14();
              }
              else {
                if (local_30 == 1.0) goto LAB_1088_3fd4;
                FUN_10a0_0c14();
                uVar11 = *puVar6;
                FUN_1010_6b58(CONCAT22(local_8 + 5,puVar6[1]),
                              uVar11 & 0xff | (uint)(byte)((ulong)uVar11 >> 8) << 8 | 0x8000);
                FUN_10a0_0c14();
              }
              uVar19 = *puVar10;
              local_c._2_2_ = local_c._2_2_ + 5;
            }
            FUN_1010_6b58(CONCAT22(local_c._2_2_,puVar10[1]),uVar19);
          }
          if ((puVar10[1] != -1) && (*(long *)(puVar10 + 0x19) == 0)) {
            puVar10[1] = 0xffff;
            if (*(long *)(puVar10 + 0x1c) != 0) {
              uVar8 = *(undefined4 *)(puVar10 + 0x1c);
              FUN_1038_05b8((uint)uVar8,(uint)((ulong)uVar8 >> 0x10));
              *(undefined4 *)(puVar10 + 0x1c) = 0;
            }
            puVar3 = puVar10 + 0x10;
            *puVar3 = *puVar3 & 0xf87f;
            puVar3 = puVar10 + 2;
            *puVar3 = *puVar3 & 0xfdff;
            puVar3 = puVar10 + 0xf;
            *puVar3 = *puVar3 & 0xf000;
            puVar5 = (ulong *)(puVar10 + 0xf);
            *puVar5 = *puVar5 | 0x3ff000;
          }
        }
      }
      local_22 = local_22 + 4;
      local_24 = local_24 + 1;
    } while (local_24 < *(int *)&PTR_DAT_10a8_0000_10a8_83c6);
  }
  return;
}


/*
Unable to decompile 'TUTORDLG'
Cause:
Low-level Error: Overlapping input varnodes
*/


// WARNING: Restarted to delay deadcode elimination for space: stack

ulong __stdcall16far
PANICDLG(undefined2 param_1_00,int param_2,int param_3,int param_4,undefined2 param_5)

{
  uint in_DX;
  undefined2 unaff_BP;
  RECT16 *unaff_SS;
  COLORREF CVar1;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined2 uVar2;
  undefined8 in_stack_0000fff6;

  if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)&stack0xfff6,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&stack0xfff6,unaff_SS,param_3);
LAB_1090_8452:
    return (ulong)in_DX << 0x10 | 1;
  }
  if (param_4 == 0x19) {
    if (param_2 == 6) {
      uVar2 = 0xf;
      CVar1 = GETSYSCOLOR((int16)CONCAT214(in_stack_00000000,
                                           CONCAT212(unaff_BP,CONCAT84(in_stack_0000fff6,
                                                                       CONCAT22(param_3,0xf)))));
      CVar1 = SETBKCOLOR((HDC16)CVar1.value,CONCAT22(uVar2,(int)(CVar1.value >> 0x10)));
      return CVar1.value & 0xffff0000 | ZEXT24(PTR_DAT_10a8_0000_10a8_0010);
    }
  }
  else if (param_4 == 0x111) {
    if (param_3 == 2) {
      param_3 = 0;
    }
    else {
      if (param_3 == 0x76) {
        WINHELP((HWND16)PTR_DAT_10a8_0000_10a8_831c,
                (LPCSTR)CONCAT22(1,(int)PTR_DAT_10a8_0000_10a8_831c >> 0xf),
                (uint16)CONCAT214(unaff_BP,CONCAT86(in_stack_0000fff6,
                                                    CONCAT24(param_5,CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be)))));
        goto LAB_1090_8452;
      }
      if ((param_3 != 0x9c9) && (param_3 != 0x9ca)) goto LAB_1090_84bc;
    }
    ENDDIALOG(param_3,(int16)CONCAT214(in_stack_00000002,
                                       CONCAT212(in_stack_00000000,
                                                 CONCAT210(unaff_BP,CONCAT82(in_stack_0000fff6,
                                                                             param_5)))));
    goto LAB_1090_8452;
  }
LAB_1090_84bc:
  return (ulong)in_DX << 0x10;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1090_84c2(int param_1,undefined2 param_2)

{
  undefined2 unaff_BP;
  undefined2 unaff_SI;
  undefined4 in_stack_00000000;
  undefined2 in_stack_00000008;

  if (PTR_DAT_10a8_0000_10a8_8320 != (undefined *)0x0) {
    SHOWWINDOW(-(uint)(param_1 != 0) & 5,
               (int16)CONCAT106(CONCAT28(in_stack_00000008,
                                         CONCAT26(param_2,CONCAT24(param_1,in_stack_00000000))),
                                CONCAT24(unaff_BP,CONCAT22(unaff_SI,PTR_DAT_10a8_0000_10a8_8320))));
    _DAT_10a8_8318 = _DAT_10a8_8318 ^ (byte)((byte)param_1 ^ DAT_10a8_8318) & 1;
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1090_84f4(HRGN16 param_1)

{
  byte bVar1;
  HWND16 HVar2;
  int iVar3;
  HRGN16 unaff_DI;
  PAINTSTRUCT16 *unaff_SS;
  char in_stack_0000fec2;
  undefined in_stack_0000fec3;
  unkbyte10 in_stack_0000fec4;
  undefined6 in_stack_0000fece;
  undefined in_stack_0000fed4 [16];
  undefined in_stack_0000fee4 [16];
  dword in_stack_0000fef4;
  undefined local_3e [32];
  undefined local_1e [2];
  int local_1c;
  undefined *local_16;
  int local_14;
  int local_12;
  int local_10;
  undefined *local_e;
  int local_c;
  HDC16 local_a;
  undefined2 local_8;
  int local_6;
  undefined2 local_4;

  local_a = BEGINPAINT((HWND16)local_3e,(PAINTSTRUCT16 *)CONCAT22(param_1,unaff_SS));
  SETBKCOLOR((HDC16)_DAT_10a8_5714,(COLORREF)CONCAT22(local_a,(int)((ulong)_DAT_10a8_5714 >> 0x10)))
  ;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,local_a,unaff_DI,
               CONCAT11(in_stack_0000fec3,in_stack_0000fec2),
               (int16)CONCAT610(in_stack_0000fece,in_stack_0000fec4));
  GETWINDOWRECT((HWND16)&local_16,(RECT16 *)CONCAT22(param_1,unaff_SS));
  HVar2 = GETDLGITEM(2,(int16)CONCAT106(in_stack_0000fec4,
                                        CONCAT15(in_stack_0000fec3,
                                                 CONCAT14(in_stack_0000fec2,
                                                          CONCAT22(unaff_DI,param_1)))));
  GETWINDOWRECT((HWND16)local_1e,(RECT16 *)CONCAT22(HVar2,unaff_SS));
  local_10 = local_1c;
  SCREENTOCLIENT((HWND16)&local_16,(POINT16 *)CONCAT22(param_1,unaff_SS));
  SCREENTOCLIENT((HWND16)&local_12,(POINT16 *)CONCAT22(param_1,unaff_SS));
  local_14 = local_14 + (int)PTR_DAT_10a8_0000_10a8_5794 * 2;
  local_10 = local_10 - (int)PTR_DAT_10a8_0000_10a8_5794;
  local_16 = PTR_DAT_10a8_0000_10a8_5794 + (int)local_16;
  local_12 = local_12 - (int)PTR_DAT_10a8_0000_10a8_5794;
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0016,local_a,unaff_DI,
               CONCAT11(in_stack_0000fec3,in_stack_0000fec2),
               (int16)CONCAT610(in_stack_0000fece,in_stack_0000fec4));
  PATBLT(0x21,(int16)CONCAT115(in_stack_0000fec3,
                               CONCAT114(in_stack_0000fec2,
                                         CONCAT212(unaff_DI,CONCAT210(local_a,CONCAT28(local_16,
                                                  CONCAT26(local_14,CONCAT24(local_12 -
                                                                             (int)local_16,0x100f0))
                                                  ))))),
         (int16)CONCAT610(in_stack_0000fece,in_stack_0000fec4),(int16)in_stack_0000fed4,
         (int16)in_stack_0000fee4,in_stack_0000fef4);
  PATBLT(0x21,(int16)CONCAT115(in_stack_0000fec3,
                               CONCAT114(in_stack_0000fec2,
                                         CONCAT212(unaff_DI,CONCAT210(local_a,CONCAT28(local_16,
                                                  CONCAT26(local_14,CONCAT24(1,CONCAT22(local_10 -
                                                                                        local_14,
                                                  0xf0)))))))),
         (int16)CONCAT610(in_stack_0000fece,in_stack_0000fec4),(int16)in_stack_0000fed4,
         (int16)in_stack_0000fee4,in_stack_0000fef4);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_0014,local_a,unaff_DI,
               CONCAT11(in_stack_0000fec3,in_stack_0000fec2),
               (int16)CONCAT610(in_stack_0000fece,in_stack_0000fec4));
  PATBLT(0x21,(int16)CONCAT115(in_stack_0000fec3,
                               CONCAT114(in_stack_0000fec2,
                                         CONCAT212(unaff_DI,CONCAT210(local_a,CONCAT28(local_16,
                                                  CONCAT26(local_10 + -1,
                                                           CONCAT24(local_12 - (int)local_16,0x100f0
                                                                   ))))))),
         (int16)CONCAT610(in_stack_0000fece,in_stack_0000fec4),(int16)in_stack_0000fed4,
         (int16)in_stack_0000fee4,in_stack_0000fef4);
  PATBLT(0x21,(int16)CONCAT115(in_stack_0000fec3,
                               CONCAT114(in_stack_0000fec2,
                                         CONCAT212(unaff_DI,CONCAT210(local_a,CONCAT28(local_12 + -1
                                                                                       ,CONCAT26(
                                                  local_14,CONCAT24(1,CONCAT22(local_10 - local_14,
                                                                               0xf0)))))))),
         (int16)CONCAT610(in_stack_0000fece,in_stack_0000fec4),(int16)in_stack_0000fed4,
         (int16)in_stack_0000fee4,in_stack_0000fef4);
  FUN_1018_5948((int *)&local_16,-((int)PTR_DAT_10a8_0000_10a8_5794 / 2),
                -((int)PTR_DAT_10a8_0000_10a8_5794 / 2));
  local_c = local_14;
  FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_16,(RECT16 *)unaff_SS,local_a);
  local_4 = 0;
  iVar3 = 0;
  do {
    local_6 = FUN_1090_8a5c(&stack0xfec2,(uint)(PTR_DAT_10a8_0000_10a8_831a + iVar3));
    bVar1 = *(byte *)(in_stack_0000fec2 + 0x4ca5);
    if (((bVar1 & 1) != 0) && (local_e = local_16, iVar3 != 0)) {
      local_c = local_c + (int)PTR_DAT_10a8_0000_10a8_5794 / 2;
    }
    if ((iVar3 == 0) || ((bVar1 & 1) == 0)) {
      local_8 = 0;
    }
    else {
      local_8 = 1;
    }
    FUN_1018_5366(local_a,&local_e,&local_c,&stack0xfec2,local_6,local_16,local_12 - (int)local_16,0
                  ,local_8,1);
    iVar3 = iVar3 + 1;
  } while (iVar3 < 4);
  SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c4,local_a,unaff_DI,
               CONCAT11(in_stack_0000fec3,in_stack_0000fec2),
               (int16)CONCAT610(in_stack_0000fece,in_stack_0000fec4));
  ENDPAINT((HWND16)local_3e,unaff_SS);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: stack

void __cdecl16far FUN_1090_86cc(int param_1)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  int iVar4;
  undefined *puVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  WPARAM16 unaff_BP;
  undefined2 unaff_SI;
  undefined2 unaff_DI;
  char *pcVar9;
  undefined2 *puVar10;
  undefined2 *puVar11;
  undefined *unaff_CS;
  LPARAM in_stack_00000000;
  undefined *in_stack_0000fff6;
  undefined2 in_stack_0000fffc;

  if ((DAT_10a8_0a47 & 0x40) == 0) {
    if (_PTR_DAT_10a8_0000_10a8_002a == (void *)0x0) {
      in_stack_0000fff6 = (undefined *)0x1090;
      unaff_CS = (undefined *)((int)s__with_some_work_done_10a8_1343 + 5);
      _PTR_DAT_10a8_0000_10a8_002a =
           MAKEPROCINSTANCE((void *)ZEXT24(PTR_DAT_10a8_0000_10a8_839a),0x1090);
      if (((uint)((ulong)_PTR_DAT_10a8_0000_10a8_002a >> 0x10) | (uint)_PTR_DAT_10a8_0000_10a8_002a)
          == 0) {
        FUN_1018_50b2(0x16,0x10);
        return;
      }
    }
    DAT_10a8_0a47 = DAT_10a8_0a47 | 0x40;
    if ((_PTR_DAT_10a8_0000_10a8_0030 == 0) || (((byte)PTR_DAT_10a8_0000_10a8_0040 & 8) != 0)) {
      if (PTR_DAT_10a8_0000_10a8_0244 == (undefined *)0x0) {
        PTR_DAT_10a8_0000_10a8_0244 = (undefined *)&DAT_10a8_0001;
        DESTROYWINDOW((HWND16)PTR_DAT_10a8_0000_10a8_0242);
        PTR_DAT_10a8_0000_10a8_0242 = (undefined *)0x0;
        in_stack_0000fff6 = PTR_DAT_10a8_0000_10a8_58b4;
        SHOWWINDOW(5,(int16)CONCAT214(param_1,CONCAT410(in_stack_00000000,
                                                        CONCAT28(unaff_BP,CONCAT26(in_stack_0000fffc
                                                                                   ,CONCAT24(
                                                  unaff_DI,CONCAT22(unaff_SI,
                                                  PTR_DAT_10a8_0000_10a8_58b4)))))));
      }
    }
    else {
      FUN_1090_8a2a();
      in_stack_0000fff6 = unaff_CS;
    }
    if (_PTR_DAT_10a8_0000_10a8_0030 == 0) {
      in_stack_0000fff6 = (undefined *)&DAT_10a8_85dc;
      iVar4 = FUN_1018_50de(0x142,(char *)&DAT_10a8_85dc);
      if (param_1 == 0) {
        pcVar9 = (char *)&PTR_PTR_DAT_10a8_0000_10a8_782e_10a8_4bbc;
        uVar6 = 0xffff;
        do {
          if (uVar6 == 0) break;
          uVar6 = uVar6 - 1;
          pcVar2 = pcVar9;
          pcVar9 = pcVar9 + 1;
        } while (*pcVar2 != '\0');
        uVar6 = ~uVar6;
        puVar10 = (undefined2 *)(pcVar9 + -uVar6);
        pcVar9 = (char *)&DAT_10a8_85dc;
        iVar7 = -1;
        do {
          if (iVar7 == 0) break;
          iVar7 = iVar7 + -1;
          pcVar2 = pcVar9;
          pcVar9 = pcVar9 + 1;
        } while (*pcVar2 != '\0');
        puVar11 = (undefined2 *)(pcVar9 + -1);
        for (uVar8 = uVar6 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
          puVar3 = puVar11;
          puVar11 = puVar11 + 1;
          puVar1 = puVar10;
          puVar10 = puVar10 + 1;
          *puVar3 = *puVar1;
        }
        for (uVar6 = (uint)((uVar6 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
          puVar3 = puVar11;
          puVar11 = (undefined2 *)((int)puVar11 + 1);
          puVar1 = puVar10;
          puVar10 = (undefined2 *)((int)puVar10 + 1);
          *(undefined *)puVar3 = *(undefined *)puVar1;
        }
        in_stack_0000fff6 = (undefined *)0x0;
        iVar7 = FUN_10a0_0752();
        if ((iVar7 != -1) &&
           (iVar7 = FUN_1018_50b2(0x144,(HWND16)s_Robo_Miner_10a8_2024), iVar7 != 6)) {
          *(undefined *)((int)&DAT_10a8_85dc + iVar4) = 0;
          pcVar9 = (char *)&PTR_PTR_DAT_10a8_0000_10a8_6d2e_10a8_4bc0;
          uVar6 = 0xffff;
          do {
            if (uVar6 == 0) break;
            uVar6 = uVar6 - 1;
            pcVar2 = pcVar9;
            pcVar9 = pcVar9 + 1;
          } while (*pcVar2 != '\0');
          uVar6 = ~uVar6;
          puVar10 = (undefined2 *)(pcVar9 + -uVar6);
          pcVar9 = (char *)&DAT_10a8_85dc;
          iVar7 = -1;
          do {
            if (iVar7 == 0) break;
            iVar7 = iVar7 + -1;
            pcVar2 = pcVar9;
            pcVar9 = pcVar9 + 1;
          } while (*pcVar2 != '\0');
          puVar11 = (undefined2 *)(pcVar9 + -1);
          for (uVar8 = uVar6 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
            puVar3 = puVar11;
            puVar11 = puVar11 + 1;
            puVar1 = puVar10;
            puVar10 = puVar10 + 1;
            *puVar3 = *puVar1;
          }
          for (uVar6 = (uint)((uVar6 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
            puVar3 = puVar11;
            puVar11 = (undefined2 *)((int)puVar11 + 1);
            puVar1 = puVar10;
            puVar10 = (undefined2 *)((int)puVar10 + 1);
            *(undefined *)puVar3 = *(undefined *)puVar1;
          }
          PTR_DAT_10a8_0000_10a8_56fa._0_1_ = (byte)PTR_DAT_10a8_0000_10a8_56fa | 1;
          iVar7 = FUN_1008_532c(PTR_DAT_10a8_0000_10a8_58b4,0);
          if (0 < iVar7) {
            window_op_1008_0ede();
          }
          PTR_DAT_10a8_0000_10a8_56fa._0_1_ = (byte)PTR_DAT_10a8_0000_10a8_56fa & 0xfe;
        }
        *(undefined *)((int)&DAT_10a8_85dc + iVar4) = 0;
      }
      if (_PTR_DAT_10a8_0000_10a8_0030 == 0) {
        FUN_1008_400c();
      }
      FUN_1008_2db8(0,(undefined1  [10])
                      CONCAT28(unaff_BP,CONCAT26(iVar4,CONCAT24(unaff_DI,CONCAT22(unaff_SI,
                                                  in_stack_0000fff6)))));
      POSTMESSAGE(0,(uint16)CONCAT214(iVar4,CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(
                                                  in_stack_0000fff6,
                                                  CONCAT17((char)((uint)PTR_DAT_10a8_0000_10a8_58b4
                                                                 >> 8),
                                                           CONCAT16((char)
                                                  PTR_DAT_10a8_0000_10a8_58b4,0x1110fa10000)))))),
                  unaff_BP,in_stack_00000000);
      if (PTR_DAT_10a8_0000_10a8_0244 == (undefined *)0x0) {
        PTR_DAT_10a8_0000_10a8_0244 = (undefined *)&DAT_10a8_0001;
        DESTROYWINDOW((HWND16)PTR_DAT_10a8_0000_10a8_0242);
        PTR_DAT_10a8_0000_10a8_0242 = (undefined *)0x0;
      }
      SHOWWINDOW(5,(int16)CONCAT412(in_stack_00000000,
                                    CONCAT210(unaff_BP,CONCAT28(iVar4,CONCAT26(unaff_DI,CONCAT24(
                                                  unaff_SI,CONCAT22(in_stack_0000fff6,
                                                                    PTR_DAT_10a8_0000_10a8_58b4)))))
                                   ));
    }
    PTR_DAT_10a8_0000_10a8_831e = (undefined *)0xffff;
    PTR_DAT_10a8_0000_10a8_831a = (undefined *)0x0;
    puVar5 = FUN_1090_8b72();
    while ((puVar5 != (undefined *)0x0 && ((DAT_10a8_8318 & 8) == 0))) {
      PTR_DAT_10a8_0000_10a8_831a = PTR_DAT_10a8_0000_10a8_831a + 4;
      puVar5 = FUN_1090_8b72();
    }
    if ((DAT_10a8_8318 & 0x10) != 0) {
      FUN_1090_89d4(0);
      return;
    }
    if (PTR_DAT_10a8_0000_10a8_8320 == (undefined *)0x0) {
      CREATEDIALOG((HINSTANCE16)_PTR_DAT_10a8_0000_10a8_002a,
                   (LPCSTR)CONCAT22(PTR_DAT_10a8_0000_10a8_58b4,
                                    (int)((ulong)_PTR_DAT_10a8_0000_10a8_002a >> 0x10)),0x9c6,
                   (void *)0x0);
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x0) {
      if ((DAT_10a8_8318 & 8) == 0) {
        PTR_DAT_10a8_0000_10a8_831a = PTR_DAT_10a8_0000_10a8_831a + -4;
      }
      FUN_1090_88fa();
    }
  }
  FUN_1090_84c2(1,in_stack_0000fff6);
  INVALIDATERECT(1,(RECT16 *)0x0,0);
  return;
}



void __cdecl16far FUN_1090_88fa(void)

{
  bool bVar1;
  undefined *puVar2;
  undefined2 unaff_SI;
  bool16 unaff_SS;
  int local_a [2];
  undefined local_6 [4];

  bVar1 = false;
  DAT_10a8_8318 = DAT_10a8_8318 & 0xfb;
  puVar2 = FUN_1090_8b72();
  if (puVar2 != (undefined *)0x0) {
    if ((DAT_10a8_8318 & 8) == 0) {
      do {
        PTR_DAT_10a8_0000_10a8_831a = PTR_DAT_10a8_0000_10a8_831a + 4;
        PTR_DAT_10a8_0000_10a8_831e = (undefined *)0xffff;
        DAT_10a8_8318 = DAT_10a8_8318 | 0x20;
        puVar2 = FUN_1090_8b72();
        if (puVar2 == (undefined *)0x0) break;
      } while ((DAT_10a8_8318 & 8) == 0);
      bVar1 = true;
      DAT_10a8_8318 = DAT_10a8_8318 & 0xdf;
    }
    else {
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_0018 + 1);
    }
    if (((int)PTR_DAT_10a8_0000_10a8_831a < 0x23c) && ((DAT_10a8_8318 & 0x10) == 0)) {
      if (bVar1) {
        FUN_1090_84c2(1,unaff_SI);
        GETWINDOWRECT((HWND16)local_a,(RECT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_8320,unaff_SS));
        SCREENTOCLIENT((HWND16)local_a,(POINT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_8320,unaff_SS));
        SCREENTOCLIENT((HWND16)local_6,(POINT16 *)CONCAT22(PTR_DAT_10a8_0000_10a8_8320,unaff_SS));
        FUN_1018_5948(local_a,-(int)PTR_DAT_10a8_0000_10a8_5794,
                      (int)PTR_DAT_10a8_0000_10a8_5794 * -2);
        INVALIDATERECT(1,(RECT16 *)local_a,unaff_SS);
        return;
      }
    }
    else {
      FUN_1018_50b2(0x165,0x10);
      FUN_1090_89d4(0);
    }
  }
  return;
}



void __cdecl16far FUN_1090_89d4(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  dword dVar4;

  if ((DAT_10a8_0a47 & 0x40) != 0) {
    DAT_10a8_0a47 = DAT_10a8_0a47 & 0xbf;
    if (PTR_DAT_10a8_0000_10a8_8320 != (undefined *)0x0) {
      DESTROYWINDOW((HWND16)PTR_DAT_10a8_0000_10a8_8320);
    }
    PTR_DAT_10a8_0000_10a8_0040._0_1_ = (byte)PTR_DAT_10a8_0000_10a8_0040 & 0xf7;
    if (param_1 != 0) {
      FUN_1090_8a36();
    }
    puVar3 = (undefined4 *)&DAT_10a8_8318;
    for (iVar2 = 2; iVar2 != 0; iVar2 = iVar2 + -1) {
      puVar1 = puVar3;
      puVar3 = puVar3 + 1;
      *puVar1 = 0;
    }
    *(undefined2 *)puVar3 = 0;
    dVar4 = GETTICKCOUNT();
    FUN_1018_49f0((uint)dVar4);
  }
  return;
}



void __cdecl16far FUN_1090_8a2a(void)

{
  DAT_10a8_8318 = DAT_10a8_8318 & 0xfd;
  FUN_1040_190c();
  return;
}



void __cdecl16far FUN_1090_8a36(void)

{
  return;
}



undefined2 __cdecl16far FUN_1090_8a38(void)

{
  int iVar1;

  iVar1 = FUN_1018_50b2(0x145,(HWND16)s_Robo_Miner_10a8_2024);
  if (iVar1 == 6) {
    FUN_1090_89d4(1);
    return 1;
  }
  return 0;
}



int __cdecl16far FUN_1090_8a5c(char *param_1,uint param_2)

{
  char *pcVar1;
  byte bVar2;
  byte *pbVar3;
  uint uVar4;
  byte *pbVar5;
  int iVar6;
  uint uVar7;
  int unaff_SS;
  bool bVar8;
  uint local_e;
  char *local_8;

  if (DAT_10a8_4bc4 != param_2) {
    uVar4 = param_2 & 0x3f;
    pbVar3 = (byte *)(((int)param_2 >> 6) * 0x40 + 0x1e0);
    if (uVar4 == 0) {
      uVar7 = 0;
      unaff_SS = (int)s_From___s_c_c_10a8_10a2 + 6;
    }
    else {
      uVar7 = 0;
      pbVar5 = pbVar3;
      do {
        pbVar3 = pbVar5 + 1;
        uVar7 = uVar7 + *pbVar5;
        uVar4 = uVar4 - 1;
        pbVar5 = pbVar3;
      } while (uVar4 != 0);
    }
    bVar8 = (uVar7 & 1) == 0;
    local_8 = param_1;
    iVar6 = 0;
    pbVar5 = (byte *)(*(int *)(((int)param_2 >> 6) * 2 + 0x1ce) + 0x41c + ((int)uVar7 >> 1));
    local_e = (uint)*pbVar3;
    while (uVar4 = local_e - 1, local_e != 0) {
      if (bVar8) {
        bVar2 = *pbVar5 >> 4;
        pbVar3 = pbVar5;
      }
      else {
        pbVar3 = pbVar5 + 1;
        bVar2 = *pbVar5;
      }
      bVar8 = !bVar8;
      iVar6 = iVar6 + (bVar2 & 0xf);
      pbVar5 = pbVar3;
      local_e = uVar4;
      if ((bVar2 & 0xf) != 0xf) {
        *local_8 = *(char *)(iVar6 + 0x182);
        iVar6 = 0;
        local_8 = local_8 + 1;
      }
    }
    *local_8 = '\0';
    return (int)local_8 - (int)param_1;
  }
  uVar4 = 0xffff;
  do {
    if (uVar4 == 0) break;
    uVar4 = uVar4 - 1;
    pcVar1 = param_1;
    param_1 = param_1 + 1;
  } while (*pcVar1 != '\0');
  return ~uVar4 - 1;
}



// WARNING: Control flow encountered bad instruction data
// WARNING: Instruction at (ram,0x109066b7) overlaps instruction at (ram,0x109066b6)
//
// WARNING: Removing unreachable block (ram,0x109029d8)
// WARNING: Removing unreachable block (ram,0x109029eb)
// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined * __cdecl16far FUN_1090_8b72(void)

{
  uint *puVar1;
  byte *pbVar2;
  ulong *puVar3;
  char *pcVar4;
  int *piVar5;
  code *pcVar6;
  byte bVar7;
  ulong *puVar8;
  uint uVar9;
  int **ppiVar10;
  byte *pbVar11;
  int *piVar12;
  int iVar13;
  byte extraout_AH;
  ulong uVar15;
  uint in_CX;
  char cVar16;
  uint extraout_DX;
  uint uVar17;
  byte bVar19;
  uint uVar18;
  uint in_DX;
  undefined *puVar20;
  uint *unaff_SI;
  ulong *unaff_DI;
  undefined2 unaff_ES;
  undefined2 unaff_SS;
  byte in_AF;
  bool bVar21;
  undefined8 in_MM2;
  undefined2 in_stack_0000000d;
  int in_stack_0000ffe2;
  undefined *puVar22;
  undefined2 uVar23;
  undefined2 uVar24;
  undefined in_stack_0000ffe4;
  undefined uVar25;
  undefined in_stack_0000ffe5;
  undefined uVar26;
  undefined in_stack_0000ffe6;
  undefined uVar27;
  byte bVar28;
  byte bVar29;
  undefined in_stack_0000ffe7;
  undefined uVar30;
  undefined in_stack_0000ffe8;
  undefined uVar31;
  undefined in_stack_0000ffe9;
  undefined uVar32;
  undefined in_stack_0000ffea;
  undefined uVar33;
  undefined in_stack_0000ffeb;
  undefined uVar34;
  ulong local_12;
  ulong local_a;
  ulong local_6;
  ulong uVar14;

  if ((undefined *)0x33 < PTR_DAT_10a8_0000_10a8_0042) {
    _DAT_10a8_8318 = _DAT_10a8_8318 | 0x18;
    goto switchD_1090_9664_caseD_b;
  }
  piVar12 = (int *)((int)PTR_DAT_10a8_0000_10a8_0042 * 2);
  bVar7 = (byte)(in_CX >> 8);
  bVar28 = (byte)(in_DX >> 8);
  cVar16 = (char)PTR_DAT_10a8_0000_10a8_831a;
  switch(PTR_DAT_10a8_0000_10a8_0042) {
  case (undefined *)0x0:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)&PTR_DAT_10a8_0000_10a8_000c) {
      if ((undefined *)&PTR_DAT_10a8_0000_10a8_000c < PTR_DAT_10a8_0000_10a8_831a) {
        return (undefined *)0x0;
      }
      if (cVar16 == '\0') {
LAB_1090_920e:
        puVar22 = (undefined *)FUN_1090_b35e((undefined *)0x270f,0xffff,0);
        return puVar22;
      }
      if (cVar16 != '\x04') {
        if (cVar16 != '\b') {
          return (undefined *)0x0;
        }
        uVar25 = 0;
        uVar9 = 0;
        iVar13 = 0x32;
LAB_1090_8c3a:
        uVar34 = 0;
        uVar33 = 0;
        uVar32 = 0;
        uVar31 = 0;
        uVar30 = 0;
        uVar27 = 0;
        uVar26 = 0;
        piVar12 = FUN_1010_0c48(uVar9);
        puVar22 = (undefined *)
                  FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar27,uVar26)
                                ,CONCAT11(uVar31,uVar30),CONCAT11(uVar33,uVar32),
                                CONCAT11(uVar34,uVar25));
        return puVar22;
      }
      bVar19 = 1;
      bVar29 = 1;
      bVar7 = 0;
LAB_1090_8c22:
      bVar28 = 2;
      puVar22 = (undefined *)&PTR_DAT_10a8_0000_10a8_0014;
LAB_1090_8c24:
      puVar22 = (undefined *)
                FUN_1090_b744(puVar22,(uint)bVar7,(uint)bVar28,(uint)bVar19,(uint)bVar29);
      return puVar22;
    }
    uVar9 = FUN_1090_b436((undefined *)0x0,1,1,0x12,0,5);
    break;
  case (undefined *)0x1:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)&PTR_DAT_10a8_0000_10a8_001c) {
      if ((undefined *)((int)&PTR_DAT_10a8_0000_10a8_001c + 1U) <= PTR_DAT_10a8_0000_10a8_831a)
      goto switchD_1090_9664_caseD_b;
      if (cVar16 == '\x10') {
        bVar28 = 5;
        bVar7 = 0x13;
        puVar22 = (undefined *)0x0;
        goto LAB_1090_8c9a;
      }
      if (cVar16 == '\x14') {
        iVar13 = FUN_1090_b412(4,0x19);
        if (iVar13 != 0) goto switchD_1090_9664_caseD_b;
        iVar13 = FUN_1090_b35e((undefined *)&DAT_10a8_0001,0xffff,0);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        uVar31 = 0;
        uVar32 = 0;
        uVar33 = 0;
        uVar34 = 0;
        uVar25 = 0;
        uVar26 = 0;
        uVar27 = 0;
        uVar30 = 0;
        iVar13 = 0x32;
        piVar12 = FUN_1010_0c48(2);
        iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                               CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),
                               CONCAT11(uVar34,uVar33));
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        bVar28 = 0;
        bVar19 = 5;
        bVar7 = 0x18;
        puVar22 = (undefined *)&DAT_10a8_0002;
        goto LAB_1090_94fe;
      }
      if ((cVar16 != '\x18') || (iVar13 = FUN_1090_b412(4,0x19), iVar13 != 0))
      goto switchD_1090_9664_caseD_b;
      iVar13 = FUN_1090_b35e((undefined *)0xffff,0x45,0);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b91e((undefined *)&PTR_DAT_10a8_0000_10a8_0014,2,0);
LAB_1090_9505:
      bVar21 = uVar9 == 0;
LAB_1090_9c54:
      if (bVar21) {
        return (undefined *)0x0;
      }
      goto switchD_1090_9664_caseD_b;
    }
    iVar13 = FUN_1090_b35e((undefined *)0x270f,0xffff,0);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar7 = 4;
    bVar28 = 0x19;
    goto LAB_1090_8d56;
  case (undefined *)0x2:
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_0018 + 1);
    bVar21 = PTR_DAT_10a8_0000_10a8_831a == (undefined *)&PTR_DAT_10a8_0000_10a8_0020;
    goto LAB_1090_b150;
  case (undefined *)0x3:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)&PTR_DAT_10a8_0000_10a8_0030) {
      if ((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0030 + 1U) <= PTR_DAT_10a8_0000_10a8_831a)
      goto switchD_1090_9664_caseD_b;
      if (cVar16 == '$') {
        bVar28 = 5;
        bVar7 = 0x16;
        puVar22 = (undefined *)&DAT_10a8_0002;
        goto LAB_1090_8c9a;
      }
      if (cVar16 == '(') {
        uVar25 = 0x19;
        uVar9 = 1;
        iVar13 = 100;
        goto LAB_1090_8c3a;
      }
      if (cVar16 != ',') goto switchD_1090_9664_caseD_b;
      bVar28 = 0x18;
      uVar25 = 5;
LAB_1090_8db6:
      uVar26 = 0;
      bVar7 = 1;
LAB_1090_8db8:
      puVar22 = (undefined *)
                FUN_1090_b546((undefined *)(uint)bVar7,(uint)bVar28,CONCAT11(uVar26,uVar25));
      return puVar22;
    }
    uVar27 = 0x33;
    uVar30 = 0;
    bVar7 = 1;
    goto LAB_1090_9dd5;
  case (undefined *)0x4:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)&PTR_DAT_10a8_0000_10a8_0040) {
      if ((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0040 + 1U) <= PTR_DAT_10a8_0000_10a8_831a)
      goto switchD_1090_9664_caseD_b;
      if (cVar16 == '4') {
        _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
        uVar9 = FUN_1090_b436((undefined *)0x0,1,1,0x11,0,6);
        if (uVar9 != 0) goto LAB_1090_ad69;
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        iVar13 = FUN_1090_b2aa((undefined *)&DAT_10a8_0002,(undefined *)0x0);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        iVar13 = FUN_1090_b20e((undefined *)0x7,(undefined *)0xffff);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        bVar28 = 0;
        bVar19 = 5;
        bVar7 = 0x11;
        puVar22 = (undefined *)0x0;
        goto LAB_1090_94fe;
      }
      if (cVar16 == '8') {
        uVar9 = FUN_1090_b436((undefined *)0x0,1,1,0x11,0,6);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        uVar9 = FUN_1090_b20e((undefined *)0x0,(undefined *)0xffff);
        goto LAB_1090_9505;
      }
      if (cVar16 != '<') goto switchD_1090_9664_caseD_b;
      bVar19 = 2;
      bVar29 = 2;
      bVar7 = 1;
      goto LAB_1090_8c22;
    }
    goto LAB_1090_9dcf;
  case (undefined *)0x5:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x4c) {
      if ((undefined *)0x4c < PTR_DAT_10a8_0000_10a8_831a) goto switchD_1090_9664_caseD_b;
      if (cVar16 != 'D') {
        if (cVar16 == 'H') {
          puVar22 = (undefined *)FUN_1090_b91e((undefined *)&PTR_DAT_10a8_0000_10a8_0018,2,1);
          return puVar22;
        }
        goto switchD_1090_9664_caseD_b;
      }
      bVar28 = 0x13;
      uVar25 = 6;
      uVar26 = 0;
      bVar7 = 3;
      goto LAB_1090_8db8;
    }
    uVar9 = FUN_1090_b15e(2,1,0xffff,0xffff);
    break;
  case (undefined *)0x6:
    if (((uint)(PTR_DAT_10a8_0000_10a8_831a + -0x50) & 3) != 0) goto switchD_1090_9664_caseD_b;
    pbVar11 = (byte *)((uint)(PTR_DAT_10a8_0000_10a8_831a + -0x50) >> 1);
    if ((byte *)0xa < pbVar11) goto switchD_1090_9664_caseD_b;
    uVar15 = ZEXT24(piVar12);
    cVar16 = (char)in_DX;
    switch(pbVar11) {
    case (byte *)0x0:
      uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,1,1,0x15,0,5);
      if (uVar9 == 0) {
        iVar13 = FUN_1090_b20e((undefined *)0x7,(undefined *)0xffff);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        uVar9 = FUN_1090_b436((undefined *)0x0,1,1,0xf,0,5);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        uVar9 = FUN_1090_b436((undefined *)0x0,2,1,0xc,0,5);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        uVar9 = FUN_1090_b436((undefined *)0x0,3,1,6,0,5);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        uVar9 = FUN_1090_b436((undefined *)0x0,4,1,5,0,5);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        bVar7 = 7;
LAB_1090_8fb0:
        puVar22 = (undefined *)FUN_1090_b20e((undefined *)(uint)bVar7,(undefined *)0xffff);
        return puVar22;
      }
      break;
    case (byte *)0x1:
      pbVar2 = (byte *)((int)unaff_DI + -0x3b);
      *pbVar2 = *pbVar2 | bVar28;
      return (undefined *)&DAT_10a8_0001;
    case (byte *)0x2:
      uVar9 = FUN_1090_b546((undefined *)&DAT_10a8_0001,0x16,6);
      if (uVar9 == 0) {
        uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,1,1,0x15,0,5);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,2,1,0x19,0,5);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,3,1,0x1a,0,5);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,4,1,0x1f,0,5);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,5,1,0x1e,0,5);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        bVar7 = 0;
        goto LAB_1090_8fb0;
      }
      break;
    case (byte *)0x3:
      pbVar2 = pbVar11 + (int)unaff_SI;
      uVar9 = in_DX & 0xff00 | (uint)(byte)(cVar16 - *pbVar2);
      if (!SBORROW1(cVar16,*pbVar2)) {
        iVar13 = ((uint)piVar12 & 0xff00 |
                 (uint)(byte)((char)piVar12 + -0x50 + (pbVar11 < (byte *)0xa))) + uVar9;
        psadbw(in_MM2,uRam10a8f064);
        out(uVar9,iVar13);
        puVar1 = (uint *)((int)&stack0x000d + (int)unaff_DI);
        bVar21 = (*puVar1 & 1) != 0;
        *puVar1 = *puVar1 >> 1 | (uint)bVar21 << 0xf;
        LOCK();
        puVar3 = unaff_DI + -0x14;
        *(char *)puVar3 = *(char *)puVar3 + (char)iVar13 + (char)unaff_DI + bVar21 + '\x1f';
        pcVar6 = (code *)swi(1);
        puVar22 = (undefined *)(*pcVar6)();
        return puVar22;
      }
      return;
    case (byte *)0x4:
      bVar28 = 0x16;
      uVar25 = 6;
      goto LAB_1090_8db6;
    case (byte *)0x5:
      pcVar6 = (code *)swi(1);
      puVar22 = (undefined *)(*pcVar6)();
      return puVar22;
    case (byte *)0x6:
      puVar22 = (undefined *)FUN_1090_b412(2,0x23);
      return puVar22;
    case (byte *)0x7:
      while (((int)uVar15 != 0 && ((_DAT_10a8_8318 & 8) == 0))) {
        PTR_DAT_10a8_0000_10a8_831a = PTR_DAT_10a8_0000_10a8_831a + 4;
        puVar22 = FUN_1090_8b72();
        uVar15 = ZEXT24(puVar22);
      }
      if ((_DAT_10a8_8318 & 0x10) != 0) {
        puVar22 = (undefined *)FUN_1090_89d4(0);
        return puVar22;
      }
      if (PTR_DAT_10a8_0000_10a8_8320 == (undefined *)0x0) {
        CREATEDIALOG((HINSTANCE16)_PTR_DAT_10a8_0000_10a8_002a,
                     (LPCSTR)CONCAT13((char)((uint)PTR_DAT_10a8_0000_10a8_58b4 >> 8),
                                      CONCAT12((char)PTR_DAT_10a8_0000_10a8_58b4,
                                               (int)((ulong)_PTR_DAT_10a8_0000_10a8_002a >> 0x10))),
                     0x9c6,(void *)0x0);
      }
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x0) {
        if ((_DAT_10a8_8318 & 8) == 0) {
          PTR_DAT_10a8_0000_10a8_831a = PTR_DAT_10a8_0000_10a8_831a + -4;
        }
        FUN_1090_88fa();
      }
      puVar22 = (undefined *)FUN_1090_84c2(1,unaff_SI);
      INVALIDATERECT(1,(RECT16 *)0x0,0);
      return puVar22;
    case (byte *)0x8:
      iVar13 = FUN_1090_b35e((undefined *)0x270f,0xffff,0);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar21 = PTR_DAT_10a8_0000_10a8_00c2 == (undefined *)0x0;
      goto joined_r0x10909e50;
    case (byte *)0x9:
      bVar7 = in(0x6f);
      uVar14 = uVar15 & 0xffffff00 | (ulong)bVar7;
      if (!SBORROW1(*(char *)((int)&stack0x000d + (int)unaff_SI),cVar16)) {
        pcVar6 = (code *)swi(1);
        puVar22 = (undefined *)(*pcVar6)();
        return puVar22;
      }
      pbVar2 = pbVar11;
      *pbVar2 = *pbVar2 ^ (byte)((uVar15 & 0xffffff00) >> 8);
      out(*unaff_SI,in_DX);
      do {
        LOCK();
        puVar3 = unaff_DI;
        *(uint *)puVar3 = *(uint *)puVar3 - (int)pbVar11;
        pbVar11 = (byte *)uVar14;
        uVar14 = ZEXT24(unaff_SI);
      } while( true );
    case (byte *)0xa:
      goto switchD_1090_8eea_caseD_a;
    }
    goto switchD_1090_9664_caseD_b;
  case (undefined *)0x7:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)&PTR_PTR_DAT_10a8_0000_10a8_000c_10a8_0068)
    goto switchD_1090_9664_caseD_b;
    uVar27 = 0x5d;
    uVar30 = 0;
    bVar7 = 1;
    goto LAB_1090_9dd5;
  case (undefined *)0x8:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)&PTR_DAT_10a8_0000_10a8_0074) {
      if ((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0074 + 1U) <= PTR_DAT_10a8_0000_10a8_831a)
      goto switchD_1090_9664_caseD_b;
      if (cVar16 != 'l') {
        if (cVar16 == 'p') {
          bVar28 = 0xf;
          uVar25 = 0xff;
          uVar26 = 0xff;
          bVar7 = 4;
          goto LAB_1090_8db8;
        }
        goto switchD_1090_9664_caseD_b;
      }
      uVar9 = FUN_1090_b546((undefined *)&PTR_LOOP_10a8_0004,0xf,0xffff);
      if (uVar9 != 0) goto switchD_1090_9664_caseD_b;
      iVar13 = FUN_1090_b35e((undefined *)0x270f,0xffff,0);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b24c(1,(undefined *)0xf);
      goto LAB_1090_9505;
    }
    uVar9 = FUN_1090_b546((undefined *)&PTR_LOOP_10a8_0004,0xf,6);
    if (uVar9 == 0) {
      return (undefined *)0x0;
    }
switchD_1090_8eea_caseD_a:
    bVar7 = 2;
    bVar28 = 1;
    goto LAB_1090_912f;
  case (undefined *)0x9:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x78) {
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      uVar9 = FUN_1090_b546((undefined *)&PTR_LOOP_10a8_0004,0xc,0xffff);
      if (uVar9 == 0) {
        bVar7 = 1;
        goto LAB_1090_917d;
      }
    }
    else {
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x7c) {
        if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)&PTR_DAT_10a8_0000_10a8_0080) {
          uVar9 = FUN_1090_b546((undefined *)&PTR_LOOP_10a8_0004,0xc,7);
          if (uVar9 == 0) {
            return (undefined *)0x0;
          }
          _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
          uVar9 = FUN_1090_b546((undefined *)&DAT_10a8_0001,0xf,7);
          if (uVar9 != 0) {
            _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
            goto LAB_1090_920e;
          }
          goto LAB_1090_91d4;
        }
        if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x84) goto switchD_1090_9664_caseD_b;
        iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,1,2,2,1);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,2,2,0,1);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        bVar28 = 0;
        bVar7 = 0x14;
        goto LAB_1090_9591;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      uVar9 = FUN_1090_b546((undefined *)&DAT_10a8_0001,0xf,0xffff);
      if (uVar9 == 0) {
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        uVar9 = FUN_1090_b546((undefined *)&DAT_10a8_0001,0xc,0xffff);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
        uVar9 = FUN_1090_b546((undefined *)&PTR_LOOP_10a8_0004,0xc,0xffff);
        goto joined_r0x1090a110;
      }
    }
    goto LAB_1090_ad69;
  case (undefined *)0xa:
    if ((int)PTR_DAT_10a8_0000_10a8_831a < 0x88) goto switchD_1090_9664_caseD_b;
    iVar13 = FUN_1090_b35e((undefined *)0x270f,0xffff,0);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_0018 + 1);
    bVar21 = PTR_DAT_10a8_0000_10a8_831a == (undefined *)&PTR_DAT_10a8_0000_10a8_0088;
    goto LAB_1090_b150;
  case (undefined *)0xb:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x8c) goto switchD_1090_9664_caseD_b;
    uVar9 = FUN_1090_b546((undefined *)&DAT_10a8_0003,6,6);
    if (uVar9 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,1,2,2,1);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar7 = 5;
    goto LAB_1090_98ca;
  case (undefined *)0xc:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x90) {
      iVar13 = FUN_1090_b35e((undefined *)0xffff,0x36,1);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b91e((undefined *)&PTR_DAT_10a8_0000_10a8_0014,2,0);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      uVar9 = FUN_1090_b436((undefined *)0x0,2,1,4,0,5);
      if (uVar9 == 0) {
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        iVar13 = FUN_1090_b2aa((undefined *)&DAT_10a8_0002,(undefined *)0x0);
        if (iVar13 == 0) {
          iVar13 = FUN_1090_b24c(2,(undefined *)0x0);
          if (iVar13 == 0) {
            PTR_DAT_10a8_0000_10a8_831c = (undefined *)0xa7;
            return (undefined *)0x0;
          }
          return (undefined *)0x0;
        }
        goto switchD_1090_9664_caseD_b;
      }
    }
    else {
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x94) {
        if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x98) {
          uVar31 = 0;
          uVar32 = 0;
          uVar33 = 0x46;
          uVar34 = 0;
          uVar25 = 0;
          uVar26 = 0;
          uVar27 = 0;
          uVar30 = 0;
          iVar13 = 200;
          piVar12 = FUN_1010_0c48(5);
          iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,
                                 CONCAT11(uVar26,uVar25),CONCAT11(uVar30,uVar27),
                                 CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
          if (iVar13 == 0) {
            return (undefined *)0x0;
          }
          iVar13 = FUN_1090_b62a(0x10005,0xf,5,(uint *)0x178,0x1010);
          if (iVar13 == 0) {
            return (undefined *)0x0;
          }
          uVar9 = FUN_1090_b436((undefined *)((int)&PTR_LOOP_10a8_0004 + 1),2,1,0xc,1,5);
          if (uVar9 == 0) {
            PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x48;
            return (undefined *)0x0;
          }
          goto switchD_1090_9664_caseD_b;
        }
        if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x9c) goto switchD_1090_9664_caseD_b;
        PTR_DAT_10a8_0000_10a8_831e = (undefined *)0x1c9;
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xfe3f;
        uVar25 = 0x6e;
        bVar7 = 0xc;
        bVar28 = 5;
        uVar24 = 5;
        uVar23 = 2;
LAB_1090_94a8:
        uVar9 = FUN_1090_b62a(CONCAT22(uVar23,uVar24),(uint)bVar7,(uint)bVar28,
                              (uint *)CONCAT11(1,uVar25),0x1090);
        break;
      }
      uVar9 = FUN_1090_b436((undefined *)0x0,2,1,4,0,5);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b436((undefined *)0x0,3,1,8,0,5);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
code_r0x109093ac:
      uVar9 = FUN_1090_b436((undefined *)0x0,4,1,0xb,0,5);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b436((undefined *)0x0,5,1,0x10,0,5);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0x46;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 200;
      piVar12 = FUN_1010_0c48(5);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        bVar7 = 5;
LAB_1090_917d:
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        puVar22 = (undefined *)FUN_1090_b2aa((undefined *)&DAT_10a8_0002,(undefined *)(uint)bVar7);
        return puVar22;
      }
    }
    goto LAB_1090_ad69;
  case (undefined *)0xd:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0xa0) {
      uVar9 = FUN_1090_b546((undefined *)&DAT_10a8_0001,0x19,0xffff);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b546((undefined *)&DAT_10a8_0001,0x19,6);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      bVar28 = 1;
      bVar19 = 6;
      bVar7 = 0xf;
      puVar22 = (undefined *)((int)&PTR_LOOP_10a8_0004 + 1);
LAB_1090_94fe:
      uVar9 = FUN_1090_b436(puVar22,1,1,(uint)bVar7,(uint)bVar28,(uint)bVar19);
      goto LAB_1090_9505;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0xa4) goto switchD_1090_9664_caseD_b;
    bVar7 = 2;
    bVar28 = 0x30;
LAB_1090_8d56:
    uVar9 = FUN_1090_b412((uint)bVar7,(uint)bVar28);
    break;
  case (undefined *)0xe:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0xa8) {
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      uVar9 = FUN_1090_b436((undefined *)((int)&PTR_LOOP_10a8_0004 + 1),1,1,0xc,1,0xffff);
      if (uVar9 != 0) {
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        puVar22 = (undefined *)FUN_1090_b62a(0x10005,0xc,0xffff,(uint *)0x16e,0x1090);
        return puVar22;
      }
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x4a;
      goto LAB_1090_91d4;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0xac) goto switchD_1090_9664_caseD_b;
    iVar13 = FUN_1090_b62a(0x10005,0xc,8,(uint *)0x16e,0x1090);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar28 = 1;
    bVar7 = 0x18;
LAB_1090_9591:
    uVar9 = FUN_1090_b91e((undefined *)(uint)bVar7,1,(uint)bVar28);
    break;
  case (undefined *)0xf:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0xb0) {
      bVar28 = 6;
      bVar7 = 0x14;
      puVar22 = (undefined *)((int)&PTR_LOOP_10a8_0004 + 1);
LAB_1090_8c9a:
      puVar22 = (undefined *)FUN_1090_b436(puVar22,1,1,(uint)bVar7,0,(uint)bVar28);
      return puVar22;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_stars__hlp_10a8_00b2 + 2)) {
      uVar9 = FUN_1090_b436((undefined *)((int)&PTR_LOOP_10a8_0004 + 1),1,1,0x14,0,6);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b436((undefined *)((int)&PTR_LOOP_10a8_0004 + 1),0,1,0xc,1,0xffff);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar31 = 0x90;
      uVar27 = 0x5a;
      bVar7 = 0xc;
      uVar25 = 0xff;
      uVar26 = 0xff;
      uVar23 = 0;
      goto LAB_1090_9611;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_stars__hlp_10a8_00b2 + 6)) {
      bVar7 = 2;
      bVar28 = 1;
      goto LAB_1090_962a;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_stars__hlp_10a8_00b2 + 10))
    goto switchD_1090_9664_caseD_b;
    bVar7 = 0x10;
    bVar28 = 1;
    bVar19 = 0;
    bVar29 = 1;
    puVar22 = (undefined *)&PTR_DAT_10a8_0000_10a8_000c;
    goto LAB_1090_9137;
  case (undefined *)0x10:
    if (((uint)(PTR_DAT_10a8_0000_10a8_831a + -0xc0) & 3) != 0) goto switchD_1090_9664_caseD_b;
    uVar9 = (uint)(PTR_DAT_10a8_0000_10a8_831a + -0xc0) >> 1;
    switch(uVar9) {
    case 0:
      uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0003,0,1,0x14,0,0xffff);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      in_stack_0000ffe8 = 0;
      in_stack_0000ffe9 = 0;
      in_stack_0000ffea = 0x19;
      in_stack_0000ffeb = 0;
      in_stack_0000ffe4 = 0;
      in_stack_0000ffe5 = 0;
      in_stack_0000ffe6 = 0;
      in_stack_0000ffe7 = 0;
      in_stack_0000ffe2 = 100;
      piVar12 = FUN_1010_0c48(3);
code_r0x109096a9:
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),in_stack_0000ffe2,
                             CONCAT11(in_stack_0000ffe5,in_stack_0000ffe4),
                             CONCAT11(in_stack_0000ffe7,in_stack_0000ffe6),
                             CONCAT11(in_stack_0000ffe9,in_stack_0000ffe8),
                             CONCAT11(in_stack_0000ffeb,in_stack_0000ffea));
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      uVar25 = 3;
      uVar26 = 0;
      uVar27 = 6;
      uVar30 = 0;
      bVar7 = 0x1a;
      puVar22 = (undefined *)&DAT_10a8_0003;
      goto LAB_1090_a3c4;
    case 1:
                    // WARNING: Bad instruction - Truncating control flow here
      halt_baddata();
    case 2:
      iVar13 = FUN_1090_b412(3,0x32);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b35e((undefined *)0x270f,0xffff,0);
      if (iVar13 != 0) break;
      bVar21 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\x04';
      goto joined_r0x10909e50;
    case 3:
      pcVar6 = (code *)swi(1);
      puVar22 = (undefined *)(*pcVar6)();
      return puVar22;
    case 4:
      iVar13 = FUN_1090_ba48();
      if (iVar13 != 0) break;
      bVar21 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\x03';
      goto LAB_1090_9c54;
    case 5:
      (*(code *)unaff_SI[0x35])();
      uVar17 = extraout_DX & *(uint *)((int)unaff_SI + uVar9 + 0x45);
      _DAT_10a8_b0c9 = (undefined2)CONCAT31((uint3)extraout_AH,0xff);
      bVar19 = (byte)(uVar17 >> 8);
      bVar28 = 9 < ((in_AF | 1) * -6 - 1 & 0xf) | in_AF | 1;
      bVar7 = (byte)uVar17 + bVar19;
      uVar18 = uVar17 & 0xff00 | (uint)(byte)(bVar7 + bVar28);
      uVar17 = (uint)(CARRY1((byte)uVar17,bVar19) || CARRY1(bVar7,bVar28));
      puVar22 = (undefined *)((int)unaff_SI + uVar18);
      puVar20 = puVar22 + uVar17;
      if ((!CARRY2((uint)unaff_SI,uVar18) && !CARRY2((uint)puVar22,uVar17)) &&
          puVar20 != (undefined *)0x0) {
        unaff_DI = *(ulong **)(uVar9 & 0xff00 | (uint)(byte)((char)uVar9 + bVar19));
      }
      bVar28 = 9 < ((byte)in_CX & 0xf) | bVar28;
      bVar7 = (byte)in_CX + bVar28 * -6;
      puVar3 = unaff_DI;
      *(uint *)puVar3 =
           (*(uint *)puVar3 - (int)puVar20) - (uint)(byte)(0x9f < bVar7 | bVar28 * (bVar7 < 6));
      pcVar6 = (code *)swi(1);
      puVar22 = (undefined *)(*pcVar6)();
      return puVar22;
    case 6:
      local_6 = 0x1001000;
      local_a = 0x10001;
      if ((((byte)PTR_DAT_10a8_0000_10a8_73f7 & 2) == 0) &&
         ((char)PTR_DAT_10a8_0000_10a8_73b7 == '\x03')) break;
      iVar13 = FUN_1090_b99c(1,(int *)&local_6,1);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar28 = 1;
      puVar8 = &local_a;
LAB_1090_9762:
      bVar7 = 0;
LAB_1090_9765:
      uVar9 = FUN_1090_b99c((uint)bVar7,(int *)puVar8,(uint)bVar28);
      goto LAB_1090_961a;
    case 7:
                    // WARNING: Bad instruction - Truncating control flow here
      halt_baddata();
    case 8:
      local_6 = 0x1001000;
      local_a = 0x1030001;
      if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&PTR_LOOP_10a8_0004) {
        iVar13 = FUN_1090_b99c(1,(int *)&local_6,1);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        iVar13 = FUN_1090_b99c(0,(int *)&local_a,0);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        iVar13 = FUN_10a0_0a80(s_Warp_6_Colonizer_10a8_4bc6,
                               _PTR_DAT_10a8_0000_10a8_830e & 0xff000000 |
                               (ulong)CONCAT12((char)(_PTR_DAT_10a8_0000_10a8_830e >> 0x10),
                                               (int)_PTR_DAT_10a8_0000_10a8_830e + 8));
        if (iVar13 != 0) {
          PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x8e;
          return (undefined *)0x0;
        }
        if (((byte)PTR_DAT_10a8_0000_10a8_73f7 & 2) != 0) {
          PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x8e;
          return (undefined *)0x0;
        }
      }
      break;
    case 9:
                    // WARNING: Bad instruction - Truncating control flow here
      halt_baddata();
    case 10:
      bVar7 = 3;
      bVar28 = 2;
      goto LAB_1090_912f;
    }
    goto switchD_1090_9664_caseD_b;
  case (undefined *)0x11:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)s_starsframe_10a8_00d8) {
      iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0016,1,1,0x10,1);
      if (iVar13 != 0) goto switchD_1090_9664_caseD_b;
      iVar13 = FUN_1090_b20e((undefined *)&DAT_10a8_0002,(undefined *)0xffff);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar19 = 0x10;
      bVar29 = 1;
      bVar7 = 1;
      bVar28 = 1;
      puVar22 = (undefined *)&PTR_DAT_10a8_0000_10a8_0016;
      goto LAB_1090_8c24;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsframe_10a8_00d8 + 4)) {
      piVar12 = FUN_1010_0c48(4);
      if (((in_DX | (uint)piVar12) == 0) || (piVar12[9] != 1)) goto LAB_1090_a6a0;
      goto switchD_1090_9664_caseD_b;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsframe_10a8_00d8 + 8)) {
      uVar9 = FUN_1090_b436((undefined *)&PTR_LOOP_10a8_0004,1,1,4,3,6);
      if (uVar9 == 0) {
        bVar7 = 3;
        goto LAB_1090_8fb0;
      }
      goto switchD_1090_9664_caseD_b;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)s_starsscan_10a8_00e4) {
      uVar9 = FUN_1090_b436((undefined *)&PTR_LOOP_10a8_0004,0,1,0x14,0,0xffff);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b546((undefined *)&PTR_LOOP_10a8_0004,4,6);
      goto LAB_1090_961a;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starsscan_10a8_00e4 + 4))
    goto switchD_1090_9664_caseD_b;
    bVar7 = 0;
LAB_1090_98ca:
    uVar9 = FUN_1090_b20e((undefined *)(uint)bVar7,(undefined *)0xffff);
    break;
  case (undefined *)0x12:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsscan_10a8_00e4 + 8)) {
      uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,1,1,0x1d,0,5);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,2,1,0x1c,0,5);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,3,1,0x1b,0,5);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,4,1,0x17,0,5);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0018,0,1,0x10,1);
LAB_1090_998d:
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
switchD_1090_a544_caseD_2:
      uVar27 = 0xff;
      uVar30 = 0xff;
      bVar7 = 0;
      uVar25 = 0xf;
      uVar26 = 0x27;
LAB_1090_999c:
      uVar9 = FUN_1090_b35e((undefined *)CONCAT11(uVar26,uVar25),CONCAT11(uVar30,uVar27),(uint)bVar7
                           );
      goto LAB_1090_961a;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsmine_10a8_00ee + 2)) {
      uVar9 = FUN_1090_b436((undefined *)0x6,0,1,0x14,0,0xffff);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b546((undefined *)0x6,0x1e,6);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,1,2,3,1);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_ba48();
      if (iVar13 != 0) goto switchD_1090_9664_caseD_b;
      bVar21 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\x04';
      goto LAB_1090_9c54;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsmine_10a8_00ee + 6)) {
      local_a = 0x1030001;
      if (PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0) goto switchD_1090_9664_caseD_b;
      goto LAB_1090_a146;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)s_starsplanet_10a8_00f8) {
      local_a = 0x1010002;
      local_6 = 0x1030010;
      local_12 = 0x2000008;
      if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&PTR_LOOP_10a8_0004)
      goto switchD_1090_9664_caseD_b;
      iVar13 = FUN_1090_b99c(0,(int *)&stack0xfff2,1);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b99c(3,(int *)&local_a,1);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b99c(1,(int *)&local_6,0);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b99c(2,(int *)&local_6,0);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar28 = 0;
      puVar8 = &local_12;
      bVar7 = 4;
      goto LAB_1090_9765;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starsplanet_10a8_00f8 + 4))
    goto switchD_1090_9664_caseD_b;
    bVar7 = 4;
    bVar28 = 2;
    goto LAB_1090_9abe;
  case (undefined *)0x13:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsplanet_10a8_00f8 + 8)) {
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0x46;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 0x32;
      piVar12 = FUN_1010_0c48(5);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      uVar31 = 0x10;
      uVar27 = 0x78;
      bVar7 = 0x13;
      uVar25 = 6;
      uVar26 = 0;
      uVar23 = 1;
    }
    else {
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)s_starsmessage_10a8_0104) {
        if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsmessage_10a8_0104 + 4)) {
          uVar31 = 0;
          uVar32 = 0;
          uVar33 = 0x46;
          uVar34 = 0;
          uVar25 = 0;
          uVar26 = 0;
          uVar27 = 0;
          uVar30 = 0;
          iVar13 = 0x32;
          piVar12 = FUN_1010_0c48(5);
          iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,
                                 CONCAT11(uVar26,uVar25),CONCAT11(uVar30,uVar27),
                                 CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
          if (iVar13 == 0) {
            return (undefined *)0x0;
          }
          iVar13 = FUN_1090_b62a(0x10005,0x13,6,(uint *)0x178,0x1010);
          if (iVar13 == 0) {
            return (undefined *)0x0;
          }
          iVar13 = FUN_1090_b62a(0x20005,0x18,6,(uint *)0x16e,0x1010);
          if (iVar13 == 0) {
            return (undefined *)0x0;
          }
          iVar13 = FUN_1090_b62a(0x30005,0x14,5,(uint *)0x164,0x1010);
          if (iVar13 == 0) {
            return (undefined *)0x0;
          }
          piVar12 = FUN_1010_0c48(5);
          if ((in_DX | (uint)piVar12) == 0) {
            return (undefined *)0x0;
          }
          bVar21 = (*(byte *)((int)piVar12 + 5) & 2) == 0;
          goto LAB_1090_9c54;
        }
        if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starsmessage_10a8_0104 + 8)) {
          if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starsmessage_10a8_0104 + 0xc))
          goto switchD_1090_9664_caseD_b;
          uVar25 = 0xb;
          uVar26 = 0;
          goto LAB_1090_9cc8;
        }
        iVar13 = FUN_1090_b91e((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0012 + 1),1,1);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        iVar13 = FUN_1090_b35e((undefined *)0x270f,0xffff,0);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        uVar31 = 0;
        uVar32 = 0;
        uVar33 = 0;
        uVar34 = 0;
        uVar25 = 0;
        uVar26 = 0;
        uVar27 = 0;
        uVar30 = 0;
        iVar13 = 0x96;
        piVar12 = FUN_1010_0c48(7);
        iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                               CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),
                               CONCAT11(uVar34,uVar33));
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        uVar25 = 0xff;
        uVar26 = 0xff;
        uVar27 = 0xff;
        uVar30 = 0xff;
        bVar7 = 0xb;
        puVar22 = (undefined *)0x7;
        goto LAB_1090_a3c4;
      }
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0x46;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 0x32;
      piVar12 = FUN_1010_0c48(5);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b62a(0x10005,0x13,6,(uint *)0x178,0x1010);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b62a(0x20005,0x18,6,(uint *)0x16e,0x1010);
      if (iVar13 == 0) {
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        uVar31 = 0x10;
        uVar27 = 0x78;
        uVar30 = 1;
        bVar7 = 0x18;
        uVar25 = 6;
        uVar26 = 0;
        iVar13 = 5;
        uVar24 = 2;
        goto LAB_1090_9b9c;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
      uVar31 = 0x10;
      uVar27 = 100;
      bVar7 = 0x14;
      uVar25 = 0xff;
      uVar26 = 0xff;
      uVar23 = 3;
    }
LAB_1090_9611:
    uVar30 = 1;
    uVar24 = 5;
    goto LAB_1090_9613;
  case (undefined *)0x14:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starspopup_10a8_0112 + 2)) {
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 0x96;
      piVar12 = FUN_1010_0c48(8);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b5a8((undefined *)0x8,5,6,3,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar7 = 4;
      bVar28 = 0x1a;
LAB_1090_9d2a:
      uVar9 = FUN_1090_b412((uint)bVar7,(uint)bVar28);
      goto LAB_1090_961a;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starspopup_10a8_0112 + 6))
    goto switchD_1090_9664_caseD_b;
    goto LAB_1090_b152;
  case (undefined *)0x15:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starspopup_10a8_0112 + 10))
    goto switchD_1090_9664_caseD_b;
    uVar9 = FUN_1090_b436((undefined *)0x0,1,1,0xe,0,5);
    if (uVar9 == 0) {
      return (undefined *)0x0;
    }
    uVar9 = FUN_1090_b436((undefined *)0x0,2,1,0xd,0,5);
    if (uVar9 == 0) {
      return (undefined *)0x0;
    }
    uVar9 = FUN_1090_b436((undefined *)0x0,3,1,7,0,5);
    if (uVar9 == 0) {
      return (undefined *)0x0;
    }
    uVar9 = FUN_1090_b436((undefined *)0x0,4,1,9,0,5);
    if (uVar9 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b91e((undefined *)0xf,1,1);
    goto LAB_1090_9dc9;
  case (undefined *)0x16:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starsbrowser_10a8_011e + 2))
    goto switchD_1090_9664_caseD_b;
    iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0018,0,1,1,3);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b91e((undefined *)&PTR_DAT_10a8_0000_10a8_0018,1,1);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar7 = 4;
    bVar28 = 0x2d;
    goto LAB_1090_9f65;
  case (undefined *)0x17:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsbrowser_10a8_011e + 6)) {
      bVar7 = 2;
LAB_1090_a266:
      iVar13 = FUN_1090_b412((uint)bVar7,0x28);
      goto LAB_1090_998d;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsbrowser_10a8_011e + 10)) {
      bVar21 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\x06';
      goto joined_r0x10909e50;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)s_starstitle_10a8_012c)
    goto switchD_1090_9664_caseD_b;
    if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&PTR_LOOP_10a8_0004) {
      return (undefined *)0x0;
    }
    bVar7 = 5;
    bVar28 = 2;
    goto LAB_1090_912f;
  case (undefined *)0x18:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starstitle_10a8_012c + 4)) {
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starstitle_10a8_012c + 8)) {
        if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)&PTR_DAT_10a8_0000_10a8_0138)
        goto switchD_1090_9664_caseD_b;
        uVar9 = FUN_1090_b546((undefined *)&DAT_10a8_0001,0x1c,6);
        if (uVar9 == 0) {
          return (undefined *)0x0;
        }
        uVar25 = 5;
        uVar26 = 0x82;
LAB_1090_9cc8:
        bVar7 = 3;
        puVar22 = (undefined *)0x7;
        goto LAB_1090_9cca;
      }
      iVar13 = FUN_1090_b35e((undefined *)0x270f,0xffff,0);
      if (iVar13 != 0) goto switchD_1090_9664_caseD_b;
      bVar7 = 0;
      uVar25 = 8;
      uVar26 = 0;
      uVar27 = 0xff;
      uVar30 = 0xff;
      goto LAB_1090_999c;
    }
    uVar31 = 0x90;
    uVar27 = 0x6e;
    uVar30 = 1;
    bVar7 = 0xb;
    uVar25 = 6;
    uVar26 = 0;
    uVar24 = 3;
    uVar23 = 1;
LAB_1090_9613:
    uVar9 = FUN_1090_b62a(CONCAT22(uVar23,uVar24),(uint)bVar7,CONCAT11(uVar26,uVar25),
                          (uint *)CONCAT11(uVar30,uVar27),CONCAT11(0x10,uVar31));
    goto LAB_1090_961a;
  case (undefined *)0x19:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x13c) {
      iVar13 = FUN_1090_b5a8((undefined *)0x7,0xb,6,3,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b62a(0x10000,0xb,6,(uint *)0x16e,0x1090);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,1,2,4,3);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      uVar9 = FUN_1090_b91e((undefined *)&PTR_DAT_10a8_0000_10a8_0014,1,0);
      goto LAB_1090_961a;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x140) goto switchD_1090_9664_caseD_b;
    iVar13 = FUN_1090_b15e(2,1,0xffff,1);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar7 = 5;
    bVar28 = 0x28;
LAB_1090_9f65:
    iVar13 = FUN_1090_b412((uint)bVar7,(uint)bVar28);
LAB_1090_9dc9:
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    goto LAB_1090_9dcf;
  case (undefined *)0x1a:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x144) {
      iVar13 = FUN_1090_b5a8((undefined *)0x7,0x8003,6,3,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b91e((undefined *)0x6,1,1);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 0x96;
      piVar12 = FUN_1010_0c48(4);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar28 = 1;
      uVar25 = 6;
      uVar26 = 0x82;
      bVar7 = 6;
      puVar22 = (undefined *)&PTR_LOOP_10a8_0004;
      goto LAB_1090_9fe9;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x148) {
      iVar13 = FUN_1090_b744((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0012 + 1),0,1,10,3);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar7 = 0xe;
      bVar28 = 1;
      bVar19 = 1;
      bVar29 = 1;
      puVar22 = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_0012 + 1);
LAB_1090_9632:
      uVar9 = FUN_1090_b744(puVar22,(uint)bVar19,(uint)bVar29,(uint)bVar7,(uint)bVar28);
      goto LAB_1090_961a;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x14c) goto switchD_1090_9664_caseD_b;
    bVar7 = 3;
    uVar25 = 8;
    uVar26 = 0x82;
    puVar22 = (undefined *)0x8;
    goto LAB_1090_9cca;
  case (undefined *)0x1b:
    if ((((uint)(PTR_DAT_10a8_0000_10a8_831a + -0x150) & 3) != 0) ||
       (ppiVar10 = (int **)((uint)(PTR_DAT_10a8_0000_10a8_831a + -0x150) >> 1),
       (int **)0xa < ppiVar10)) goto switchD_1090_9664_caseD_b;
    switch(ppiVar10) {
    case (int **)0x0:
      iVar13 = FUN_1090_b5a8((undefined *)0x7,0xb,6,3,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      piVar12 = FUN_1010_0c48(6);
      local_6 = CONCAT22(in_DX,(undefined2)local_6);
      uVar9 = in_DX | (uint)piVar12;
      if ((uVar9 == 0) || (piVar12[10] != 1)) goto LAB_1090_a6a0;
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 0x96;
      piVar12 = FUN_1010_0c48(6);
      uVar9 = FUN_1090_b82c((undefined2 *)CONCAT22(uVar9,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                            CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33))
      ;
      goto LAB_1090_961a;
    case (int **)0x1:
      if (*ppiVar10 != piVar12) {
        return (undefined *)0x0;
      }
      return (undefined *)&DAT_10a8_0001;
    case (int **)0x2:
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b5a8((undefined *)0x6,0x8208,6,1,2);
      if (iVar13 == 0) {
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        bVar28 = 1;
        uVar25 = 0xf;
        uVar26 = 0;
        bVar7 = 6;
        puVar22 = (undefined *)0x6;
        goto LAB_1090_a829;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
LAB_1090_a0eb:
      bVar7 = 0;
      bVar28 = 0x28;
      goto LAB_1090_9d2a;
    case (int **)0x3:
                    // WARNING: Bad instruction - Truncating control flow here
      halt_baddata();
    case (int **)0x4:
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      uVar9 = FUN_1090_b5a8((undefined *)&PTR_LOOP_10a8_0004,0xe,6,1,2);
joined_r0x1090a110:
      if (uVar9 == 0) {
LAB_1090_91d4:
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        return (undefined *)0x0;
      }
      break;
    case (int **)0x5:
      LOCK();
      uVar9 = *unaff_SI;
      *unaff_DI = local_12;
      *(undefined *)(CONCAT11(0x10,(char)ppiVar10) + (int)unaff_DI) =
           -1 < (int)((uint)piVar12 & uVar9);
      pcVar6 = (code *)swi(1);
      puVar22 = (undefined *)(*pcVar6)();
      return puVar22;
    case (int **)0x6:
      local_a = 0x2040001;
      if ((PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0) &&
         (*(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\a'))
      goto switchD_1090_9664_caseD_b;
      if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&PTR_LOOP_10a8_0004) {
        return (undefined *)0x0;
      }
LAB_1090_a146:
      local_6 = 0x1010002;
      iVar13 = FUN_1090_b99c(0,(int *)&local_a,0);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar28 = 0;
      puVar8 = &local_6;
      bVar7 = 3;
      goto LAB_1090_9765;
    case (int **)0x7:
                    // WARNING: Bad instruction - Truncating control flow here
      halt_baddata();
    case (int **)0x8:
switchD_1090_a044_caseD_8:
      if (PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&PTR_LOOP_10a8_0004) {
        return (undefined *)0x0;
      }
      bVar21 = PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0;
      goto joined_r0x10909e50;
    case (int **)0x9:
      pbVar2 = &stack0xfffe + (int)unaff_SI;
      *pbVar2 = *pbVar2 ^ bVar7;
      pcVar4 = (char *)((int)s_Heavy_Laser_10a8_2b36 + 9 + ((uint)ppiVar10 & 0xff));
      *pcVar4 = *pcVar4 + (bVar28 & (byte)((uint)in_stack_0000000d >> 8));
      if (in_CX != 1 && *pcVar4 != '\0') {
        (**(code **)((int)unaff_DI + ((uint)ppiVar10 & 0xff) + 5))();
      }
      *(undefined *)unaff_DI = *(undefined *)unaff_SI;
                    // WARNING: Bad instruction - Truncating control flow here
      halt_baddata();
    case (int **)0xa:
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,0,1,3,0x33);
      if (iVar13 == 0) {
        bVar19 = 3;
        bVar29 = 1;
        bVar28 = 1;
        bVar7 = 0;
LAB_1090_a31f:
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,(uint)bVar7,(uint)bVar28,
                      (uint)bVar19,(uint)bVar29);
        return (undefined *)0x0;
      }
LAB_1090_a196:
      _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
      bVar7 = 6;
      bVar28 = 4;
      goto LAB_1090_912f;
    }
    goto LAB_1090_ad69;
  case (undefined *)0x1c:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x168) {
      iVar13 = FUN_1090_b62a(3,0xb,0xffff,(uint *)0x15a,0x1090);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b62a(0x10003,0x14,6,(uint *)0x15a,0x1090);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b5a8((undefined *)0x8,0x8209,6,3,2);
      if (iVar13 == 0) {
        uVar25 = 0;
LAB_1090_a22a:
        bVar28 = 3;
        bVar7 = 6;
        uVar26 = 0x80;
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        puVar22 = (undefined *)0x8;
LAB_1090_a829:
        FUN_1090_b5a8(puVar22,CONCAT11(uVar26,uVar25),(uint)bVar7,(uint)bVar28,2);
        return (undefined *)0x0;
      }
    }
    else {
      if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x16c) {
        iVar13 = FUN_1090_b744((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0018 + 1),0,1,0x10,1);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        iVar13 = FUN_1090_b91e((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0018 + 1),1,1);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        bVar7 = 1;
        goto LAB_1090_a266;
      }
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x170) {
        if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x174) goto switchD_1090_9664_caseD_b;
        _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
        iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,0,1,3,0x28);
        if (iVar13 == 0) {
          bVar19 = 6;
          bVar29 = 4;
          bVar7 = 1;
          bVar28 = 2;
          goto LAB_1090_a31f;
        }
        goto LAB_1090_a196;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b5a8((undefined *)0x6,0x8201,6,1,2);
      if (iVar13 == 0) goto LAB_1090_91d4;
      _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 0x96;
      piVar12 = FUN_1010_0c48(9);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b5a8((undefined *)0x9,0x820b,6,1,2);
      if (iVar13 == 0) {
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        bVar28 = 1;
        uVar25 = 0x19;
        uVar26 = 0;
        bVar7 = 6;
        puVar22 = (undefined *)0x9;
        goto LAB_1090_a829;
      }
    }
LAB_1090_ad69:
    _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
    goto switchD_1090_9664_caseD_b;
  case (undefined *)0x1d:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x178) {
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x17c) goto switchD_1090_9664_caseD_b;
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b5a8((undefined *)0x8,0x8207,6,3,2);
      if (iVar13 == 0) goto LAB_1090_91d4;
      goto LAB_1090_a38c;
    }
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 100;
    piVar12 = FUN_1010_0c48(1);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar28 = 1;
    uVar25 = 0xe;
    uVar26 = 0;
    bVar7 = 7;
    puVar22 = (undefined *)&DAT_10a8_0001;
    goto LAB_1090_9fe9;
  case (undefined *)0x1e:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x180) {
      uVar25 = 5;
      uVar26 = 0;
      uVar27 = 5;
      uVar30 = 0;
      bVar7 = 0x14;
      puVar22 = (undefined *)&DAT_10a8_0002;
LAB_1090_a3c4:
      uVar9 = FUN_1090_b436(puVar22,1,1,(uint)bVar7,CONCAT11(uVar26,uVar25),CONCAT11(uVar30,uVar27))
      ;
      goto LAB_1090_961a;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x184) {
      iVar13 = FUN_1090_b5a8((undefined *)0x6,0x820c,6,1,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b5a8((undefined *)0x8,0xe,6,3,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 100;
      piVar12 = FUN_1010_0c48(10);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar7 = 7;
      goto LAB_1090_a42d;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x188) {
      iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0018,0,1,0xd,5);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar7 = 3;
      bVar28 = 0x28;
      goto LAB_1090_9d2a;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x18c) goto switchD_1090_9664_caseD_b;
    iVar13 = FUN_1090_b35e((undefined *)0x270f,0xffff,0);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar7 = 0x11;
    bVar28 = 1;
    bVar19 = 1;
    bVar29 = 1;
    puVar22 = (undefined *)0xb;
    goto LAB_1090_9137;
  case (undefined *)0x1f:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x190) goto switchD_1090_9664_caseD_b;
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 100;
    piVar12 = FUN_1010_0c48(0xb);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)0xb,0xe,7,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b91e((undefined *)&PTR_DAT_10a8_0000_10a8_001a,1,1);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
    iVar13 = FUN_1090_b5a8((undefined *)0x8,0x820f,6,3,2);
    if (iVar13 == 0) {
      iVar13 = FUN_1090_b5a8((undefined *)0x8,0xe,6,3,2);
      if (iVar13 != 0) goto LAB_1090_91d4;
      uVar25 = 1;
      goto LAB_1090_a22a;
    }
    goto LAB_1090_a38c;
  case (undefined *)0x20:
    puVar22 = PTR_DAT_10a8_0000_10a8_831a + -0x194;
    if (((uint)puVar22 & 3) != 0) goto switchD_1090_9664_caseD_b;
    pbVar11 = (byte *)((uint)puVar22 >> 1);
    switch(pbVar11) {
    case (byte *)0x0:
      bVar7 = 10;
      bVar28 = 5;
      bVar19 = 0;
      bVar29 = 1;
      puVar22 = (undefined *)0x6;
      goto LAB_1090_9632;
    case (byte *)0x1:
      pbVar2 = pbVar11;
      *pbVar2 = *pbVar2 >> 4 | *pbVar2 << 4;
      goto code_r0x109093ac;
    case (byte *)0x2:
      goto switchD_1090_a544_caseD_2;
    case (byte *)0x3:
      puVar1 = unaff_SI;
      *puVar1 = *puVar1 - 1;
      puVar1 = (uint *)(pbVar11 + -0x50);
      uVar9 = (uint)(pbVar11 < (byte *)0xa);
      bVar21 = CARRY2(*puVar1,(uint)unaff_DI) ||
               CARRY2((uint)(undefined *)(*puVar1 + (int)unaff_DI),uVar9);
      *puVar1 = (uint)((undefined *)(*puVar1 + (int)unaff_DI) + uVar9);
      pbVar2 = &stack0xffff + (int)unaff_SI;
      bVar19 = *pbVar2;
      bVar28 = *pbVar2;
      *pbVar2 = bVar28 + bVar7 + bVar21;
      piVar12 = (int *)((uint)pbVar11 & 0xff |
                       (uint)(byte)(((byte)((uint)puVar22 >> 8) & 0xfe) +
                                   (CARRY1(bVar19,bVar7) || CARRY1(bVar28 + bVar7,bVar21))) << 8);
      bVar7 = *(byte *)(piVar12 + -0x70);
      piVar5 = (int *)((undefined *)((int)piVar12 + (int)unaff_SI) + -0x10);
      *piVar5 = *piVar5 + -0x7e51;
      puVar1 = (uint *)(&stack0xffff + (int)unaff_SI);
      *puVar1 = *puVar1 << 1 | (uint)((int)*puVar1 < 0);
      piVar5 = piVar12;
      *piVar5 = *piVar5 + (in_CX & 0xff00 | (uint)(byte)((byte)in_CX | bVar7)) +
                (uint)(*unaff_SI < *(uint *)unaff_DI);
      LOCK();
      return &stack0xffec;
    case (byte *)0x4:
      local_6 = 0x1040001;
      if ((PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0) &&
         (*(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\b'))
      goto switchD_1090_9664_caseD_b;
      if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&PTR_LOOP_10a8_0004) {
        return (undefined *)0x0;
      }
      bVar28 = 0;
      puVar8 = &local_6;
      goto LAB_1090_9762;
    case (byte *)0x5:
      pcVar4 = &stack0x02c2 + (int)unaff_DI;
      *pcVar4 = *pcVar4 + (char)piVar12 + (pbVar11 < (byte *)0xa);
      goto code_r0x109096a9;
    case (byte *)0x6:
      local_6 = 0x1040010;
      local_a = 0x1040001;
      if (PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0) goto switchD_1090_9664_caseD_b;
      iVar13 = FUN_1090_b99c(0,(int *)&local_a,0);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b99c(1,(int *)&local_6,0);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar28 = 0;
      puVar8 = &local_6;
      bVar7 = 2;
      goto LAB_1090_9765;
    case (byte *)0x7:
                    // WARNING: Bad instruction - Truncating control flow here
      halt_baddata();
    case (byte *)0x8:
      goto switchD_1090_a044_caseD_8;
    case (byte *)0x9:
                    // WARNING: Bad instruction - Truncating control flow here
      halt_baddata();
    case (byte *)0xa:
      bVar7 = 7;
      bVar28 = 3;
      goto LAB_1090_912f;
    default:
      goto switchD_1090_9664_caseD_b;
    }
  case (undefined *)0x21:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1ac) {
      iVar13 = FUN_1090_b5a8((undefined *)0x6,0x12,6,1,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar28 = 3;
      uVar25 = 0xe;
      uVar26 = 0;
      bVar7 = 6;
      puVar22 = (undefined *)0x8;
    }
    else {
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1b0) {
        if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1b4) goto switchD_1090_9664_caseD_b;
        iVar13 = FUN_1090_b91e((undefined *)&PTR_DAT_10a8_0000_10a8_001e,1,1);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        iVar13 = FUN_1090_b62a(0,0xb,0xffff,(uint *)0x15a,0x1090);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        uVar25 = 0x5a;
        bVar7 = 0x14;
        bVar28 = 6;
        uVar24 = 0;
        uVar23 = 1;
        goto LAB_1090_94a8;
      }
      piVar12 = FUN_1010_0c48(5);
      local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
      if (((((in_DX | (uint)piVar12) == 0) || (piVar12[0xb] != 1)) || (piVar12[0xc] != 1)) ||
         (piVar12[0xd] != 3)) goto LAB_1090_a6a0;
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),700,0,0,0,0x104);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar28 = 1;
      uVar25 = 0xe;
      uVar26 = 0;
      bVar7 = 7;
      puVar22 = (undefined *)((int)&PTR_LOOP_10a8_0004 + 1);
    }
    goto LAB_1090_9fe9;
  case (undefined *)0x22:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1b8) {
      if (PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0) {
        bVar21 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\t';
LAB_1090_ac2a:
        if (bVar21) goto switchD_1090_9664_caseD_b;
      }
LAB_1090_ac2e:
      bVar21 = PTR_DAT_10a8_0000_10a8_84d2 == (undefined *)&PTR_LOOP_10a8_0004;
joined_r0x10909e50:
      if (!bVar21) {
        return (undefined *)0x0;
      }
      goto switchD_1090_9664_caseD_b;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1bc) {
      if (PTR_DAT_10a8_0000_10a8_131e != (undefined *)0x0) {
        PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x8e;
        return (undefined *)0x0;
      }
      bVar7 = 8;
      bVar28 = 2;
LAB_1090_962a:
      bVar19 = 1;
      bVar29 = 2;
      puVar22 = (undefined *)&PTR_DAT_10a8_0000_10a8_0014;
      goto LAB_1090_9632;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1c0) {
      iVar13 = FUN_1090_b91e((undefined *)&PTR_LOOP_10a8_0004,1,1);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b744((undefined *)((int)&PTR_DAT_10a8_0000_10a8_0018 + 1),0,1,0xc,3);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      goto LAB_1090_a0eb;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1c4) {
      piVar12 = FUN_1010_0c48(5);
      local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
      if (((((in_DX | (uint)piVar12) != 0) && (piVar12[0xb] == 1)) && (piVar12[0xc] == 1)) &&
         (piVar12[0xd] == 2)) goto switchD_1090_9664_caseD_b;
      bVar7 = 5;
      goto LAB_1090_a799;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1c8) goto switchD_1090_9664_caseD_b;
    piVar12 = FUN_1010_0c48(5);
    local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
    uVar9 = in_DX | (uint)piVar12;
    if (((uVar9 == 0) || (piVar12[0xb] != 1)) || ((piVar12[0xc] != 1 || (piVar12[0xd] != 2))))
    goto LAB_1090_a6a0;
    piVar12 = FUN_1010_0c48(1);
    local_6 = local_6 & 0xffff | (ulong)uVar9 << 0x10;
    if (((uVar9 | (uint)piVar12) == 0) || (piVar12[0xd] != 1)) goto LAB_1090_a6a0;
    _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
    iVar13 = FUN_1090_b5a8((undefined *)&DAT_10a8_0001,0x8200,7,1,2);
    if (iVar13 == 0) {
      _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
      bVar28 = 1;
      uVar25 = 0xe;
      uVar26 = 0;
      bVar7 = 7;
      puVar22 = (undefined *)&DAT_10a8_0001;
      goto LAB_1090_a829;
    }
LAB_1090_a38c:
    _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
    goto LAB_1090_b152;
  case (undefined *)0x23:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1cc) {
      iVar13 = FUN_1090_b62a(2,0x14,0xffff,(uint *)0x15a,0x1090);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,1,1,0x12,4,0xffff);
      if (uVar9 == 0) {
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        uVar31 = 0x90;
        uVar27 = 0x5a;
        uVar30 = 1;
        bVar7 = 0x12;
        uVar25 = 0xff;
        uVar26 = 0xff;
        iVar13 = 2;
        uVar24 = 1;
        goto LAB_1090_9b9c;
      }
      uVar9 = FUN_1090_b436((undefined *)&DAT_10a8_0002,1,1,0x12,4,5);
      if (uVar9 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_001a,0,1,0xe,5);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      bVar7 = 2;
      bVar28 = 0x28;
      goto LAB_1090_9d2a;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1d0) goto switchD_1090_9664_caseD_b;
LAB_1090_9dcf:
    uVar27 = 0xff;
    uVar30 = 0xff;
    bVar7 = 0;
LAB_1090_9dd5:
    uVar25 = 0xf;
    uVar26 = 0x27;
    goto LAB_1090_9dd8;
  case (undefined *)0x24:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1d4) goto switchD_1090_9664_caseD_b;
    iVar13 = FUN_1090_b35e((undefined *)0xffff,0x2c,1);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar7 = 0xd;
    bVar28 = 5;
    bVar19 = 0;
    bVar29 = 1;
    puVar22 = (undefined *)&PTR_DAT_10a8_0000_10a8_001e;
    goto LAB_1090_9137;
  case (undefined *)0x25:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1d8) {
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 5;
      piVar12 = FUN_1010_0c48(0);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b62a(0x10000,0x8002,6,(uint *)0x8410,0x1010);
      if (iVar13 != 0) goto switchD_1090_9664_caseD_b;
      uVar31 = 0x10;
      bVar7 = 0x12;
      uVar24 = 1;
    }
    else {
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1dc) {
        if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1e0) {
          uVar27 = 0x7b;
          uVar30 = 0;
          bVar7 = 1;
          uVar25 = 0xff;
          uVar26 = 0xff;
          goto LAB_1090_999c;
        }
        if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1e4) {
          if (PTR_DAT_10a8_0000_10a8_131e != (undefined *)0x0) {
            return (undefined *)0x0;
          }
          bVar21 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\n';
          goto joined_r0x10909e50;
        }
        if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1e8) goto switchD_1090_9664_caseD_b;
        goto LAB_1090_ab6e;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b62a(0x20000,0x14,6,(uint *)0x8406,0x1090);
      if (iVar13 != 0) {
        piVar12 = FUN_1010_0c48(0);
        local_6 = CONCAT22(in_DX,(undefined2)local_6);
        if ((in_DX | (uint)piVar12) == 0) {
          return (undefined *)0x0;
        }
        if ((*(byte *)((int)piVar12 + 5) & 2) == 0) {
          return (undefined *)0x0;
        }
        iVar13 = FUN_1090_b91e((undefined *)&PTR_DAT_10a8_0000_10a8_001c,1,1);
        if (iVar13 == 0) {
          return (undefined *)0x0;
        }
        bVar7 = 1;
        bVar28 = 0x28;
        goto LAB_1090_9d2a;
      }
      uVar31 = 0x90;
      bVar7 = 0x14;
      uVar24 = 2;
    }
    uVar30 = 0x84;
    uVar27 = 0x10;
    uVar26 = 0;
    uVar25 = 6;
    _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
LAB_1090_9b9c:
    FUN_1090_b62a(CONCAT22(uVar24,iVar13),(uint)bVar7,CONCAT11(uVar26,uVar25),
                  (uint *)CONCAT11(uVar30,uVar27),CONCAT11(0x10,uVar31));
    return (undefined *)0x0;
  case (undefined *)0x26:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1ec) goto switchD_1090_9664_caseD_b;
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 0;
    piVar12 = FUN_1010_0c48(3);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)&DAT_10a8_0003,0xe,6,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b35e((undefined *)0xffff,0x7d,1);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    uVar27 = 0x82;
    uVar30 = 0;
    bVar7 = 1;
    uVar25 = 0xff;
    uVar26 = 0xff;
    goto LAB_1090_9dd8;
  case (undefined *)0x27:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1f0) goto switchD_1090_9664_caseD_b;
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 0;
    piVar12 = FUN_1010_0c48(0xc);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)&PTR_DAT_10a8_0000_10a8_000c,0xe,6,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    piVar12 = FUN_1010_0c48(1);
    if ((((in_DX | (uint)piVar12) == 0) || (piVar12[10] != 3)) ||
       ((piVar12[0xb] != 1 || ((piVar12[0xc] != 3 || (piVar12[0xd] != 3)))))) goto LAB_1090_a6a0;
    goto LAB_1090_b152;
  case (undefined *)0x28:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1f4) goto switchD_1090_9664_caseD_b;
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 0;
    piVar12 = FUN_1010_0c48(4);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)&PTR_LOOP_10a8_0004,0xe,6,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_001c,0,1,0xe,3);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
LAB_1090_ab6e:
    bVar7 = 9;
    bVar28 = 4;
    goto LAB_1090_912f;
  case (undefined *)0x29:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1f8) goto switchD_1090_9664_caseD_b;
    iVar13 = FUN_1090_b744((undefined *)0xf,0,1,10,3);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 0;
    piVar12 = FUN_1010_0c48(5);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar7 = 1;
    uVar25 = 0xe;
    uVar26 = 0;
    puVar22 = (undefined *)((int)&PTR_LOOP_10a8_0004 + 1);
LAB_1090_9cca:
    uVar9 = FUN_1090_b5a8(puVar22,CONCAT11(uVar26,uVar25),6,(uint)bVar7,2);
    break;
  case (undefined *)0x2a:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1fc) {
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 0;
      piVar12 = FUN_1010_0c48(8);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b5a8((undefined *)0x8,0xe,6,1,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      if (PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0) {
        bVar21 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\v';
        goto LAB_1090_ac2a;
      }
      goto LAB_1090_ac2e;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x200) goto switchD_1090_9664_caseD_b;
    if (PTR_DAT_10a8_0000_10a8_131e != (undefined *)0x0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,1,2,10,1);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar7 = 9;
    bVar28 = 4;
LAB_1090_9abe:
    bVar19 = 2;
    goto LAB_1090_9135;
  case (undefined *)0x2b:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x204) {
      if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x208) goto switchD_1090_9664_caseD_b;
      goto LAB_1090_afaa;
    }
    piVar12 = FUN_1010_0c48(9);
    local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
    if ((in_DX | (uint)piVar12) != 0) {
LAB_1090_a6a0:
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_0044 + 1);
      return (undefined *)0x0;
    }
    piVar12 = FUN_1010_0c48(0);
    local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
    uVar9 = in_DX | (uint)piVar12;
    if (((uVar9 == 0) || (piVar12[0xb] != 1)) || (piVar12[0x10] != 1)) goto LAB_1090_a6a0;
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 0;
    piVar12 = FUN_1010_0c48(10);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(uVar9,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    bVar7 = 6;
LAB_1090_a42d:
    bVar28 = 1;
    puVar22 = (undefined *)0xa;
    uVar25 = 0xe;
    uVar26 = 0;
LAB_1090_9fe9:
    uVar9 = FUN_1090_b5a8(puVar22,CONCAT11(uVar26,uVar25),(uint)bVar7,(uint)bVar28,2);
LAB_1090_961a:
    return (undefined *)(uint)(uVar9 != 0);
  case (undefined *)0x2c:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x20c) {
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 0;
      piVar12 = FUN_1010_0c48(9);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b5a8((undefined *)0x9,0xe,6,1,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b412(3,0x28);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      uVar31 = 0x6f;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0x92;
      uVar26 = 0;
      uVar27 = 7;
      uVar30 = 1;
      iVar13 = 0x1d2;
      piVar12 = FUN_1010_0c48(0);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        bVar7 = 0;
LAB_1090_a799:
        uVar9 = FUN_1090_b2aa((undefined *)&DAT_10a8_0002,(undefined *)(uint)bVar7);
        goto LAB_1090_961a;
      }
      goto LAB_1090_ad69;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x210) goto switchD_1090_9664_caseD_b;
    uVar31 = 0x6f;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0x92;
    uVar26 = 0;
    uVar27 = 7;
    uVar30 = 1;
    iVar13 = 0x1d2;
    piVar12 = FUN_1010_0c48(0);
    uVar9 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                          CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    break;
  case (undefined *)0x2d:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x214) goto switchD_1090_9664_caseD_b;
    piVar12 = FUN_1010_0c48(1);
    local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
    if ((((in_DX | (uint)piVar12) == 0) || (piVar12[10] != 3)) ||
       ((piVar12[0xb] != 1 || (((piVar12[0xc] != 3 || (piVar12[0xd] != 3)) || (piVar12[0xf] != 4))))
       )) goto LAB_1090_a6a0;
    bVar7 = 10;
    bVar28 = 1;
    goto LAB_1090_912f;
  case (undefined *)0x2e:
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x218) {
      uVar31 = 0;
      uVar32 = 0;
      uVar33 = 0;
      uVar34 = 0;
      uVar25 = 0;
      uVar26 = 0;
      uVar27 = 0;
      uVar30 = 0;
      iVar13 = 0;
      piVar12 = FUN_1010_0c48(3);
      iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                             CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33)
                            );
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b5a8((undefined *)&DAT_10a8_0003,0xe,6,1,2);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b62a(4,0x14,0xffff,(uint *)0x15a,0x1010);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b62a(0x10004,0x13,0xffff,(uint *)0x83fc,0x1010);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b62a(0x10004,0x13,8,(uint *)0x83fc,0x1010);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      iVar13 = FUN_1090_b62a(0x20004,0x18,0xffff,(uint *)0x83fc,0x1010);
      if (iVar13 == 0) {
        return (undefined *)0x0;
      }
      uVar31 = 0x10;
      uVar27 = 0xfc;
      uVar30 = 0x83;
      bVar7 = 0x18;
      uVar25 = 6;
      uVar26 = 0;
      uVar24 = 4;
      uVar23 = 2;
      goto LAB_1090_9613;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x21c) {
      _DAT_10a8_8318 = _DAT_10a8_8318 | 0x20;
      iVar13 = FUN_1090_b62a(0x30004,0x14,6,(uint *)0x8406,0x1090);
      if (iVar13 == 0) {
        _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
        uVar31 = 0x90;
        uVar27 = 0xfc;
        uVar30 = 0x83;
        bVar7 = 0x14;
        uVar25 = 6;
        uVar26 = 0;
        iVar13 = 4;
        uVar24 = 3;
        goto LAB_1090_9b9c;
      }
      _DAT_10a8_8318 = _DAT_10a8_8318 & 0xffdf;
      piVar12 = FUN_1010_0c48(4);
      local_6 = CONCAT22(in_DX,(undefined2)local_6);
      if ((in_DX | (uint)piVar12) == 0) {
        return (undefined *)0x0;
      }
      if ((*(byte *)((int)piVar12 + 5) & 2) == 0) {
        return (undefined *)0x0;
      }
      uVar27 = 0xff;
      uVar30 = 0xff;
      bVar7 = 0;
      uVar25 = 9;
      uVar26 = 0;
      goto LAB_1090_999c;
    }
    if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x220) {
      if (PTR_DAT_10a8_0000_10a8_131e != (undefined *)0x0) {
        return (undefined *)0x0;
      }
      bVar21 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\f';
      goto joined_r0x10909e50;
    }
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x224) goto switchD_1090_9664_caseD_b;
    bVar7 = 0xb;
    bVar28 = 4;
LAB_1090_912f:
    bVar19 = 1;
LAB_1090_9135:
    bVar29 = 2;
    puVar22 = (undefined *)&PTR_DAT_10a8_0000_10a8_0014;
LAB_1090_9137:
    uVar9 = FUN_1090_b744(puVar22,(uint)bVar19,(uint)bVar29,(uint)bVar7,(uint)bVar28);
    break;
  case (undefined *)0x2f:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x228) goto switchD_1090_9664_caseD_b;
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 100;
    piVar12 = FUN_1010_0c48(0xb);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)0xb,0xe,7,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
LAB_1090_afaa:
    uVar27 = 0xff;
    uVar30 = 0xff;
    bVar7 = 0;
    uVar25 = 0xc;
    uVar26 = 0;
    goto LAB_1090_9dd8;
  case (undefined *)0x30:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x22c) goto switchD_1090_9664_caseD_b;
    piVar12 = FUN_1010_0c48(1);
    local_6 = local_6 & 0xffff | (ulong)in_DX << 0x10;
    uVar9 = in_DX | (uint)piVar12;
    if (((((uVar9 == 0) || (piVar12[10] != 3)) || (piVar12[0xb] != 1)) ||
        ((piVar12[0xc] != 3 || (piVar12[0xd] != 3)))) || (piVar12[0xf] != 9)) goto LAB_1090_a6a0;
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 200;
    piVar12 = FUN_1010_0c48(0xc);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(uVar9,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)&PTR_DAT_10a8_0000_10a8_000c,0xe,7,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b412(4,0x14);
    goto LAB_1090_b050;
  case (undefined *)0x31:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x230) goto switchD_1090_9664_caseD_b;
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 100;
    piVar12 = FUN_1010_0c48(5);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)((int)&PTR_LOOP_10a8_0004 + 1),0xe,7,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)0xb,0xe,6,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b744((undefined *)&PTR_DAT_10a8_0000_10a8_0014,0,2,0xb,4);
LAB_1090_b050:
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    uVar27 = 0xff;
    uVar30 = 0xff;
    bVar7 = 0;
    uVar25 = 0xb;
    uVar26 = 0;
    goto LAB_1090_9dd8;
  case (undefined *)0x32:
    if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x234) goto switchD_1090_9664_caseD_b;
    uVar31 = 0;
    uVar32 = 0;
    uVar33 = 0;
    uVar34 = 0;
    uVar25 = 0;
    uVar26 = 0;
    uVar27 = 0;
    uVar30 = 0;
    iVar13 = 200;
    piVar12 = FUN_1010_0c48(8);
    iVar13 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar12),iVar13,CONCAT11(uVar26,uVar25),
                           CONCAT11(uVar30,uVar27),CONCAT11(uVar32,uVar31),CONCAT11(uVar34,uVar33));
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)0x8,0xe,7,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    iVar13 = FUN_1090_b5a8((undefined *)&PTR_DAT_10a8_0000_10a8_000c,0xe,6,1,2);
    if (iVar13 == 0) {
      return (undefined *)0x0;
    }
    uVar27 = 0xff;
    uVar30 = 0xff;
    bVar7 = 0;
    uVar25 = 9;
    uVar26 = 0;
LAB_1090_9dd8:
    uVar9 = FUN_1090_b35e((undefined *)CONCAT11(uVar26,uVar25),CONCAT11(uVar30,uVar27),(uint)bVar7);
    break;
  case (undefined *)0x33:
    bVar21 = PTR_DAT_10a8_0000_10a8_831a == (undefined *)&PTR_DAT_10a8_0000_10a8_0238;
LAB_1090_b150:
    if (!bVar21) goto switchD_1090_9664_caseD_b;
    goto LAB_1090_b152;
  }
  if (uVar9 == 0) {
    return (undefined *)0x0;
  }
LAB_1090_b152:
  _DAT_10a8_8318 = _DAT_10a8_8318 | 8;
switchD_1090_9664_caseD_b:
  return (undefined *)&DAT_10a8_0001;
}



undefined2 __cdecl16far FUN_1090_b15e(uint param_1,uint param_2,uint param_3,uint param_4)

{
  PTR_DAT_10a8_0000_10a8_831c = (undefined *)0xa8;
  if (((((param_1 == 0xffff) || (((byte)PTR_DAT_10a8_0000_10a8_88a2 & 0x1c) >> 2 == param_1)) &&
       ((param_2 == 0xffff || (((byte)PTR_DAT_10a8_0000_10a8_88a2 & 2) >> 1 == param_2)))) &&
      ((param_4 == 0xffff || (((byte)PTR_DAT_10a8_0000_10a8_88a2 & 1) == param_4)))) &&
     ((param_3 == 0xffff || (((byte)PTR_DAT_10a8_0000_10a8_88a2 & 0x20) >> 5 == param_3)))) {
    return 1;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __cdecl16far FUN_1090_b1be(undefined *param_1)

{
  uint uVar1;

  if ((_DAT_10a8_8318 & 0x20) != 0) {
    PTR_DAT_10a8_0000_10a8_831e = (undefined *)0xffff;
    return;
  }
  if ((PTR_DAT_10a8_0000_10a8_831e != param_1) ||
     (uVar1 = _DAT_10a8_8318 & 0x1c0,
     _DAT_10a8_8318 = _DAT_10a8_8318 ^ (_DAT_10a8_8318 + 0x40 ^ _DAT_10a8_8318) & 0x1c0,
     2 < uVar1 >> 6)) {
    _DAT_10a8_8318 = _DAT_10a8_8318 & 0xfe3f;
    PTR_DAT_10a8_0000_10a8_831e = param_1;
    FUN_1018_50b2((uint)param_1,0x10);
  }
  return;
}



undefined2 __cdecl16far FUN_1090_b20e(undefined *param_1,undefined *param_2)

{
  PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)s_starsframe_10a8_00d8 + 1);
  if ((DAT_10a8_8319 & 2) != 0) {
    return 1;
  }
  if ((param_1 == (undefined *)0xffff) || (PTR_DAT_10a8_0000_10a8_07aa == param_1)) {
    if (param_2 == (undefined *)0xffff) {
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)s_starsframe_10a8_00d8 + 1);
      return 1;
    }
    if (param_2 == PTR_DAT_10a8_0000_10a8_08b2) {
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)s_starsframe_10a8_00d8 + 1);
      return 1;
    }
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)s_starsscan_10a8_00e4 + 1);
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1090_b24c(int param_1,undefined *param_2)

{
  undefined *puVar1;

  if ((DAT_10a8_0a46 & 2) == 0) {
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)s_starsframe_10a8_00d8;
    if (param_1 == 1) {
      puVar1 = PTR_DAT_10a8_0000_10a8_7b5c;
      if (PTR_DAT_10a8_0000_10a8_7b58 != (undefined *)&DAT_10a8_0001) {
        return 0;
      }
    }
    else {
      if (param_1 != 2) {
        return 0;
      }
      if (PTR_DAT_10a8_0000_10a8_7b58 != (undefined *)&DAT_10a8_0002) {
        return 0;
      }
      if (PTR_DAT_10a8_0000_10a8_7b5e == (undefined *)0xffff) {
        return 0;
      }
      puVar1 = (undefined *)
               **(int **)((int)PTR_DAT_10a8_0000_10a8_7b5e * 4 + (int)_PTR_DAT_10a8_0000_10a8_006e);
    }
    if (puVar1 != param_2) {
      return 0;
    }
  }
  return 1;
}



undefined2 __cdecl16far FUN_1090_b2aa(undefined *param_1,undefined *param_2)

{
  undefined *puVar1;
  undefined *puVar2;
  int *piVar3;
  undefined2 in_DX;

  if ((DAT_10a8_0a46 & 2) == 0) {
    puVar2 = param_1;
    if (param_1 != (undefined *)&DAT_10a8_0002) {
      puVar2 = (undefined *)&DAT_10a8_0001;
    }
    if ((puVar2 == PTR_DAT_10a8_0000_10a8_71da) && (DAT_10a8_71de == param_2)) {
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_00d0 + 1);
    }
    else if ((param_1 == (undefined *)&DAT_10a8_0001) &&
            ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0002 &&
             (PTR_DAT_10a8_0000_10a8_7b68 == param_2)))) {
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)s_stars__hlp_10a8_00b2 + 7);
    }
    else if ((param_1 == (undefined *)&DAT_10a8_0002) &&
            ((PTR_DAT_10a8_0000_10a8_7b4c == (undefined *)&DAT_10a8_0001 &&
             (piVar3 = FUN_1010_0c48((uint)param_2),
             (undefined *)piVar3[3] == PTR_DAT_10a8_0000_10a8_7bd6)))) {
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)s_stars__hlp_10a8_00b2 + 3);
    }
    else {
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)s_starsframe_10a8_00d8;
    }
    if (param_1 == (undefined *)&DAT_10a8_0001) {
      puVar2 = (undefined *)&DAT_10a8_0001;
      puVar1 = PTR_DAT_10a8_0000_10a8_7bd6;
    }
    else {
      if (param_1 != (undefined *)&DAT_10a8_0002) {
        return 0;
      }
      puVar2 = (undefined *)&DAT_10a8_0002;
      puVar1 = PTR_DAT_10a8_0000_10a8_7b62;
    }
    if ((PTR_DAT_10a8_0000_10a8_7b4c != puVar2) || (param_2 != puVar1)) {
      return 0;
    }
  }
  return 1;
}



undefined2 __cdecl16far FUN_1090_b35e(undefined *param_1,uint param_2,int param_3)

{
  uint uVar1;

  if ((DAT_10a8_0a46 & 2) == 0) {
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_00d0 + 1);
    if ((param_1 == (undefined *)0x270f) &&
       ((int)PTR_DAT_10a8_0000_10a8_1044 - (int)PTR_DAT_10a8_0000_10a8_1046 != 1)) {
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_00d0 + 1);
      return 0;
    }
    if (((param_1 != (undefined *)0x270f) && (param_1 != (undefined *)0xffff)) &&
       (PTR_DAT_10a8_0000_10a8_1046 != param_1)) {
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_00d0 + 1);
      return 0;
    }
    if (param_2 != 0xffff) {
      if (((param_3 == 0) || ((DAT_10a8_8319 & 2) == 0)) ||
         ((1 << ((byte)param_2 & 7) & (uint)*(byte *)((int)&DAT_10a8_83ae + ((int)param_2 >> 3))) !=
          0)) {
        if ((param_3 != 0) &&
           ((1 << ((byte)param_2 & 7) & (uint)*(byte *)((int)&DAT_10a8_83ae + ((int)param_2 >> 3)))
            == 0)) {
          PTR_DAT_10a8_0000_10a8_831c = (undefined *)((int)&PTR_DAT_10a8_0000_10a8_00d0 + 1);
          return 0;
        }
        if ((param_3 == 0) &&
           (uVar1 = FUN_1010_6e34((int)PTR_DAT_10a8_0000_10a8_1046), uVar1 != param_2)) {
          return 0;
        }
      }
      else {
        FUN_1010_7cbe(param_2,1);
      }
    }
  }
  return 1;
}



undefined2 __cdecl16far FUN_1090_b412(int param_1,int param_2)

{
  PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x95;
  if ((DAT_10a8_888b == param_1) && (DAT_10a8_888a == param_2)) {
    return 1;
  }
  return 0;
}



uint __cdecl16far
FUN_1090_b436(undefined *param_1,int param_2,uint param_3,int param_4,uint param_5,uint param_6)

{
  undefined4 *puVar1;
  undefined *puVar2;
  int *piVar3;
  undefined4 *puVar4;
  int iVar5;
  int iVar6;
  uint in_DX;
  undefined4 *puVar7;
  undefined2 unaff_SS;
  undefined4 local_1a;
  int local_16;
  byte local_14;
  byte local_13;
  uint local_8;
  undefined4 local_6;

  local_8 = 0;
  piVar3 = FUN_1010_0c48((uint)param_1);
  local_6 = CONCAT22(in_DX,piVar3);
  PTR_DAT_10a8_0000_10a8_831c = (undefined *)s_starsframe_10a8_00d8;
  if (((in_DX | (uint)piVar3) != 0) &&
     (PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x48, param_2 + 1 <= piVar3[0x31])) {
    iVar5 = piVar3[0x33];
    puVar4 = (undefined4 *)(piVar3[0x32] + param_2 * 0x12);
    puVar7 = &local_1a;
    for (iVar6 = 4; puVar4 = puVar4 + 1, iVar6 != 0; iVar6 = iVar6 + -1) {
      puVar1 = puVar7;
      puVar7 = puVar7 + 1;
      *puVar1 = *puVar4;
    }
    *(undefined2 *)puVar7 = *(undefined2 *)puVar4;
    if (((local_13 & 3) == param_3) && (local_16 == param_4)) {
      if (((local_14 & 0xf) == param_5) || (param_5 == 0xffff)) {
        PTR_DAT_10a8_0000_10a8_831c = (undefined *)0xbd;
        if (param_6 == 0xffff) {
          local_8 = 1;
        }
        else {
          local_8 = (uint)(local_14 >> 4 == param_6);
        }
      }
      else {
        PTR_DAT_10a8_0000_10a8_831c = (undefined *)&PTR_s_stars__hlp_10a8_00b2_10a8_00be;
        if ((local_14 & 0xf) != 0) {
          FUN_1090_b1be((undefined *)(0x14a - (uint)(param_5 == 0)));
        }
      }
    }
    else {
      FUN_1090_b1be((undefined *)0x148);
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x49;
    }
  }
  puVar2 = PTR_DAT_10a8_0000_10a8_831c;
  PTR_DAT_10a8_0000_10a8_831c = puVar2;
  if ((local_8 == 0) && (iVar5 = FUN_1090_b2aa((undefined *)&DAT_10a8_0002,param_1), iVar5 != 0)) {
    PTR_DAT_10a8_0000_10a8_831c = puVar2;
  }
  return local_8;
}



uint __cdecl16far FUN_1090_b546(undefined *param_1,int param_2,uint param_3)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  uint in_DX;

  piVar1 = FUN_1010_0c48((uint)param_1);
  if ((in_DX | (uint)piVar1) == 0) {
    return 0;
  }
  PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x4e;
  if ((piVar1[3] == 0x14) &&
     (iVar2 = FUN_1090_b82c((undefined2 *)CONCAT22(in_DX,piVar1),100,0,0,0,0x19), iVar2 == 0)) {
    return 0;
  }
  uVar3 = FUN_1090_b436(param_1,1,1,param_2,3,param_3);
  return uVar3;
}



undefined2 __cdecl16far
FUN_1090_b5a8(undefined *param_1,uint param_2,uint param_3,int param_4,int param_5)

{
  undefined4 uVar1;
  int *piVar2;
  uint uVar3;
  uint in_DX;

  piVar2 = FUN_1010_0c48((uint)param_1);
  if ((in_DX | (uint)piVar2) != 0) {
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)0xa0;
    uVar3 = FUN_1090_b436(param_1,1,2 - ((param_2 & 0x8000) == 0),param_2 & 0x7fff,2,param_3);
    if (uVar3 != 0) {
      uVar1 = *(undefined4 *)(piVar2 + 0x32);
      if ((*(int *)((int)uVar1 + 0x1e) == param_4) &&
         (uVar1 = *(undefined4 *)(piVar2 + 0x32), *(int *)((int)uVar1 + 0x20) == param_5)) {
        return 1;
      }
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)&PTR_s_stars__hlp_10a8_00b2_10a8_00be;
    }
  }
  return 0;
}



int __cdecl16far
FUN_1090_b62a(undefined4 param_1,uint param_2,uint param_3,uint *param_4,undefined2 param_5)

{
  undefined4 *puVar1;
  byte bVar2;
  uint uVar3;
  undefined4 *puVar4;
  uint uVar5;
  int iVar6;
  uint in_DX;
  uint *puVar7;
  undefined4 *puVar8;
  int iVar9;
  undefined2 unaff_SS;
  undefined4 local_1e [2];
  uint local_16 [5];
  int local_c;
  int *local_a;
  uint local_8;
  undefined2 local_6;
  uint *local_4;

  local_c = 0;
  if ((param_2 & 0x8000) == 0) {
    local_4 = (uint *)0x1;
  }
  else {
    param_2 = param_2 & 0x7fff;
    local_4 = (uint *)0x2;
  }
  local_a = FUN_1010_0c48((uint)(undefined *)param_1);
  if ((in_DX | (uint)local_a) != 0) {
    iVar6 = (int)((ulong)param_1 >> 0x10);
    local_8 = in_DX;
    uVar3 = FUN_1090_b436((undefined *)param_1,iVar6,(uint)local_4,param_2,1,param_3);
    if (uVar3 != 0) {
      iVar9 = local_a[0x33];
      puVar4 = (undefined4 *)(local_a[0x32] + iVar6 * 0x12);
      puVar8 = local_1e;
      for (iVar6 = 4; puVar4 = puVar4 + 1, iVar6 != 0; iVar6 = iVar6 + -1) {
        puVar1 = puVar8;
        puVar8 = puVar8 + 1;
        *puVar1 = *puVar4;
      }
      *(undefined2 *)puVar8 = *(undefined2 *)puVar4;
      iVar9 = local_c;
      puVar7 = local_16;
      local_4 = puVar7;
      PTR_DAT_10a8_0000_10a8_831c = (undefined *)&PTR_s_stars__hlp_10a8_00b2_10a8_00be;
      local_6 = 0;
      iVar6 = 0;
      do {
        if (((*(byte *)((int)param_4 + 1) ^ *(byte *)((int)puVar7 + 1)) & 0xf0) != 0) {
          if ((*(byte *)((int)puVar7 + 1) & 0xf0) != 0) {
            FUN_1090_b1be((undefined *)0x1c9);
          }
          goto LAB_1090_b71d;
        }
        uVar3 = *puVar7;
        uVar5 = uVar3 >> 0xc;
        if (((uVar5 == 9) ||
            (((uVar5 < 10 && (bVar2 = (byte)(uVar3 >> 0xc), 2 < bVar2)) &&
             ((bVar2 == 3 || bVar2 == 4 || (bVar2 == 7)))))) &&
           (((*param_4 ^ *puVar7) & 0xfff) != 0)) goto LAB_1090_b71d;
        puVar7 = puVar7 + 1;
        param_4 = param_4 + 1;
        iVar6 = iVar6 + 1;
      } while (iVar6 < 5);
      iVar9 = 1;
LAB_1090_b71d:
      local_4 = (uint *)PTR_DAT_10a8_0000_10a8_831c;
      if ((iVar9 == 0) &&
         (iVar6 = FUN_1090_b2aa((undefined *)&DAT_10a8_0002,(undefined *)param_1), iVar6 != 0)) {
        PTR_DAT_10a8_0000_10a8_831c = (undefined *)local_4;
      }
      return iVar9;
    }
  }
  return 0;
}



int __cdecl16far
FUN_1090_b744(undefined *param_1,int param_2,uint param_3,uint param_4,uint param_5)

{
  uint uVar1;
  uint uVar2;
  undefined4 uVar3;
  int *piVar4;
  int iVar5;
  uint in_DX;
  uint *puVar6;
  undefined2 uVar7;
  undefined *puVar8;
  int local_8;

  local_8 = 0;
  if ((undefined *)&DAT_10a8_0001 < PTR_DAT_10a8_0000_10a8_0042) {
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x84;
  }
  else {
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)s_stars__hlp_10a8_00b2;
  }
  piVar4 = FUN_1010_018e((int)param_1);
  if ((((in_DX | (uint)piVar4) != 0) && (*(long *)(piVar4 + 0x1c) != 0)) &&
     (uVar3 = *(undefined4 *)(piVar4 + 0x1c), param_2 < (int)(uint)*(byte *)((int)uVar3 + 3))) {
    uVar3 = *(undefined4 *)(piVar4 + 0x1c);
    uVar7 = (undefined2)((ulong)uVar3 >> 0x10);
    puVar6 = (uint *)((int)uVar3 + 4 + param_2 * 4);
    uVar1 = *puVar6;
    uVar2 = puVar6[1];
    if (((uVar2 & 0xe) >> 1 == param_3) &&
       ((CONCAT11((char)uVar2,(char)(uVar1 >> 8)) & 0x1fc) >> 2 == param_4)) {
      if ((uVar1 & 0x3ff) == param_5) {
        local_8 = 1;
        goto LAB_1090_b806;
      }
      puVar8 = (undefined *)0x14c;
    }
    else {
      puVar8 = (undefined *)0x147;
    }
    FUN_1090_b1be(puVar8);
  }
LAB_1090_b806:
  puVar8 = PTR_DAT_10a8_0000_10a8_831c;
  PTR_DAT_10a8_0000_10a8_831c = puVar8;
  if ((local_8 == 0) && (iVar5 = FUN_1090_b2aa((undefined *)&DAT_10a8_0001,param_1), iVar5 != 0)) {
    PTR_DAT_10a8_0000_10a8_831c = puVar8;
  }
  return local_8;
}



int __cdecl16far
FUN_1090_b82c(undefined2 *param_1,int param_2,int param_3,int param_4,int param_5,int param_6)

{
  undefined *puVar1;
  int iVar2;
  undefined2 uVar3;
  int local_4;

  local_4 = 0;
  if (param_1 == (undefined2 *)0x0) {
    return 0;
  }
  PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x9a;
  iVar2 = (int)param_1;
  uVar3 = (undefined2)((ulong)param_1 >> 0x10);
  if (((((param_3 == 0) && (*(long *)(iVar2 + 0x50) != 0)) ||
       ((param_4 == 0 && (*(long *)(iVar2 + 0x54) != 0)))) ||
      (((param_5 == 0 && (*(long *)(iVar2 + 0x58) != 0)) ||
       ((param_2 == 0 && (*(long *)(iVar2 + 0x4c) != 0)))))) ||
     ((param_6 == 0 && (*(long *)(iVar2 + 0x5c) != 0)))) {
    FUN_1090_b1be((undefined *)0x14b);
  }
  else if (((*(long *)(iVar2 + 0x4c) == (long)param_2) &&
           (((*(long *)(iVar2 + 0x5c) == (long)param_6 && (*(int *)(iVar2 + 0x50) == param_3)) &&
            (*(int *)(iVar2 + 0x52) == param_3 >> 0xf)))) &&
          ((*(long *)(iVar2 + 0x54) == (long)param_4 && (*(long *)(iVar2 + 0x58) == (long)param_5)))
          ) {
    local_4 = 1;
  }
  puVar1 = PTR_DAT_10a8_0000_10a8_831c;
  PTR_DAT_10a8_0000_10a8_831c = puVar1;
  if (local_4 == 0) {
    iVar2 = FUN_1090_b2aa((undefined *)&DAT_10a8_0002,(undefined *)*param_1);
    if (iVar2 != 0) {
      PTR_DAT_10a8_0000_10a8_831c = puVar1;
    }
  }
  return local_4;
}



int __cdecl16far FUN_1090_b91e(undefined *param_1,uint param_2,uint param_3)

{
  undefined *puVar1;
  int *piVar2;
  int iVar3;
  uint in_DX;
  int iVar4;

  iVar4 = 0;
  if ((undefined *)&DAT_10a8_0001 < PTR_DAT_10a8_0000_10a8_0042) {
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x84;
  }
  else {
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)s_stars__hlp_10a8_00b2;
  }
  piVar2 = FUN_1010_018e((int)param_1);
  puVar1 = PTR_DAT_10a8_0000_10a8_831c;
  if (((((in_DX | (uint)piVar2) != 0) && ((undefined *)piVar2[1] == PTR_DAT_10a8_0001_10a8_00c0)) &&
      (((uint)piVar2[0x10] >> 8 & 7) == param_2)) && ((piVar2[0x10] & 0x80U) >> 7 == param_3)) {
    iVar4 = 1;
  }
  PTR_DAT_10a8_0000_10a8_831c = puVar1;
  if (iVar4 == 0) {
    iVar3 = FUN_1090_b2aa((undefined *)&DAT_10a8_0001,param_1);
    if (iVar3 != 0) {
      PTR_DAT_10a8_0000_10a8_831c = puVar1;
    }
  }
  return iVar4;
}



undefined2 __cdecl16far FUN_1090_b99c(int param_1,int *param_2,uint param_3)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  undefined *puVar4;

  if (PTR_DAT_10a8_0000_10a8_131e == (undefined *)0x0) {
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x8e;
    return 0;
  }
  if (PTR_DAT_10a8_0000_10a8_84d2 != (undefined *)&PTR_LOOP_10a8_0004) {
    PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x92;
    return 0;
  }
  bVar1 = PTR_DAT_10a8_0000_10a8_830e[param_1 * 4 + 0x3d];
  uVar2 = (uint)bVar1;
  if ((*(char *)((int)param_2 + 3) == '\0') && (bVar1 == 0)) {
    return 1;
  }
  uVar3 = (uint)*(byte *)((int)param_2 + 3);
  if (param_3 < uVar3) {
    if ((param_3 <= uVar2) && (uVar2 <= uVar3)) {
LAB_1090_ba12:
      if (uVar3 != uVar2) {
        PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x91;
        return 0;
      }
      if ((*(int *)(PTR_DAT_10a8_0000_10a8_830e + param_1 * 4 + 0x3a) == *param_2) &&
         (PTR_DAT_10a8_0000_10a8_830e[param_1 * 4 + 0x3c] == *(char *)(param_2 + 1))) {
        return 1;
      }
      puVar4 = (undefined *)0x154;
      goto LAB_1090_ba35;
    }
  }
  else if ((uVar3 <= uVar2) && (uVar2 <= param_3)) goto LAB_1090_ba12;
  puVar4 = (undefined *)0x153;
LAB_1090_ba35:
  FUN_1090_b1be(puVar4);
  PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x91;
  return 0;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined2 __cdecl16far FUN_1090_ba48(undefined *param_1,LPARAM param_2)

{
  HWND16 HVar1;
  undefined2 unaff_BP;
  undefined2 unaff_DI;
  LRESULT LVar2;
  undefined4 in_stack_00000000;
  int iVar3;

  PTR_DAT_10a8_0000_10a8_831c = (undefined *)0x8e;
  if ((PTR_DAT_10a8_0000_10a8_131e != (undefined *)0x0) &&
     ((param_1 == (undefined *)0xffff || (PTR_DAT_10a8_0000_10a8_84d2 == param_1)))) {
    HVar1 = GETDLGITEM(0x414,(int16)CONCAT610(CONCAT42(param_2,param_1),
                                              CONCAT46(in_stack_00000000,
                                                       CONCAT24(unaff_BP,CONCAT22(unaff_DI,
                                                  PTR_DAT_10a8_0000_10a8_131e)))));
    LVar2 = SENDMESSAGE(0,(uint16)CONCAT412(in_stack_00000000,
                                            CONCAT210(unaff_BP,CONCAT28(unaff_DI,CONCAT26(HVar1,
                                                  0x40700000000)))),(WPARAM16)param_1,param_2);
    if ((iVar3 == -1) || ((int)LVar2 == iVar3)) {
      return 1;
    }
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined2 __cdecl16far FUN_1090_ba9a(int param_1)

{
  byte bVar1;
  int iVar2;
  bool bVar3;
  undefined4 uVar4;
  undefined2 uVar5;
  undefined *puVar6;
  undefined4 local_1a;
  undefined4 local_16;
  undefined4 local_12;
  undefined4 local_e;
  undefined4 local_a;
  undefined4 local_6;

  if (param_1 == 0) {
    puVar6 = (undefined *)0x14d;
LAB_1090_c10f:
    FUN_1090_b1be(puVar6);
  }
  else {
    bVar1 = (byte)PTR_DAT_10a8_0000_10a8_0042;
    if (param_1 == 1) {
      if (PTR_DAT_10a8_0000_10a8_0042 == (undefined *)&PTR_DAT_10a8_0000_10a8_002e) {
        if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x220) {
          if (*(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) != '\f') {
LAB_1090_bbd2:
            uVar5 = 7;
            goto LAB_1090_bb50;
          }
          goto LAB_1090_bb18;
        }
      }
      else if (PTR_DAT_10a8_0000_10a8_0042 < (undefined *)((int)&PTR_DAT_10a8_0000_10a8_002e + 1U))
      {
        if (bVar1 == 0x20) {
          if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x19c) {
            bVar3 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == '\b'
            ;
LAB_1090_bb4c:
            if (!bVar3) {
              uVar5 = 3;
LAB_1090_bb50:
              uVar4 = CONCAT22(uVar5,1);
LAB_1090_bb24:
              iVar2 = FUN_1090_ba48(uVar4);
              if (iVar2 != 0) {
                return 1;
              }
              puVar6 = (undefined *)0x150;
              goto LAB_1090_c10f;
            }
            goto LAB_1090_bb18;
          }
        }
        else if (bVar1 < 0x21) {
          if (bVar1 == 0x10) {
            if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)&PTR_DAT_10a8_0000_10a8_00cc) {
              if (*(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) != '\x04'
                 ) {
                uVar4 = 0x20000;
                goto LAB_1090_bb24;
              }
              goto LAB_1090_bb18;
            }
          }
          else if (bVar1 == 0x12) {
            if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsmine_10a8_00ee + 6)) {
              bVar3 = *(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) ==
                      '\x05';
              goto LAB_1090_bb4c;
            }
          }
          else if (bVar1 == 0x17) {
            if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)((int)s_starsbrowser_10a8_011e + 10)) {
              if (*(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) != '\x06'
                 ) goto LAB_1090_bb6a;
              goto LAB_1090_bb18;
            }
          }
          else if ((bVar1 == 0x1b) && (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x15c)) {
            if (*(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) != '\a') {
              uVar5 = 6;
              goto LAB_1090_bb50;
            }
            goto LAB_1090_bb18;
          }
        }
        else if (bVar1 == 0x22) {
          if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1b8) {
            if (*(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) != '\t') {
              uVar5 = 8;
              goto LAB_1090_bb50;
            }
            goto LAB_1090_bb18;
          }
        }
        else if (bVar1 == 0x25) {
          if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1e4) {
            if (*(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) != '\n')
            goto LAB_1090_bbd2;
            goto LAB_1090_bb18;
          }
        }
        else if ((bVar1 == 0x2a) && (PTR_DAT_10a8_0000_10a8_831a == (undefined *)0x1fc)) {
          if (*(char *)((int)&DAT_10a8_885f + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) != '\v') {
LAB_1090_bb6a:
            uVar5 = 1;
            goto LAB_1090_bb50;
          }
LAB_1090_bb18:
          puVar6 = (undefined *)0x14f;
          goto LAB_1090_c10f;
        }
      }
    }
    else if (param_1 != 2) {
      if (param_1 == 3) {
        local_16 = 0x1001000;
        local_1a = 0x1030001;
        if (PTR_DAT_10a8_0000_10a8_0042 == (undefined *)&PTR_DAT_10a8_0000_10a8_002e) {
          local_a = 0x4020040;
          local_6 = 0x2040001;
          local_e = 0x10002;
          if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x220) goto LAB_1090_bc72;
          iVar2 = FUN_1090_b99c(0,(int *)&local_6,2);
          if ((((iVar2 == 0) || (iVar2 = FUN_1090_b99c(1,(int *)&local_a,4), iVar2 == 0)) ||
              (iVar2 = FUN_1090_b99c(2,(int *)&local_a,4), iVar2 == 0)) ||
             (iVar2 = FUN_1090_b99c(3,(int *)&local_e,0), iVar2 == 0)) {
            puVar6 = (undefined *)0x163;
          }
          else {
            iVar2 = FUN_10a0_0a80(s_Bubonic_Plague_10a8_4c13,
                                  _PTR_DAT_10a8_0000_10a8_830e & 0xffff0000 |
                                  (ulong)((int)_PTR_DAT_10a8_0000_10a8_830e + 8));
            if (iVar2 == 0) {
              return 1;
            }
            puVar6 = (undefined *)0x164;
          }
        }
        else {
          if ((undefined *)&PTR_DAT_10a8_0000_10a8_002e < PTR_DAT_10a8_0000_10a8_0042)
          goto LAB_1090_c118;
          if (bVar1 == 0x20) {
            local_a = 0x1020020;
            local_e = 0x1040001;
            local_6 = 0x1040010;
            local_12 = 0x2000004;
            if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1a4) goto LAB_1090_bc72;
            iVar2 = FUN_1090_b99c(0,(int *)&local_e,1);
            if (((iVar2 == 0) || (iVar2 = FUN_1090_b99c(3,(int *)&local_a,1), iVar2 == 0)) ||
               ((iVar2 = FUN_1090_b99c(1,(int *)&local_6,1), iVar2 == 0 ||
                ((iVar2 = FUN_1090_b99c(2,(int *)&local_6,1), iVar2 == 0 ||
                 (iVar2 = FUN_1090_b99c(4,(int *)&local_12,2), iVar2 == 0)))))) {
              puVar6 = (undefined *)0x15c;
            }
            else {
              iVar2 = FUN_10a0_0a80(s_Super_Destroyer_10a8_4be8,
                                    _PTR_DAT_10a8_0000_10a8_830e & 0xffff0000 |
                                    (ulong)((int)_PTR_DAT_10a8_0000_10a8_830e + 8));
              if (iVar2 == 0) {
                return 1;
              }
              puVar6 = (undefined *)0x15d;
            }
          }
          else if (bVar1 < 0x21) {
            if (bVar1 == 0x10) {
              if (PTR_DAT_10a8_0000_10a8_831a == (undefined *)&PTR_DAT_10a8_0000_10a8_00d0) {
                iVar2 = FUN_1090_b99c(1,(int *)&local_16,1);
                if ((iVar2 == 0) || (iVar2 = FUN_1090_b99c(0,(int *)&local_1a,0), iVar2 == 0)) {
                  puVar6 = (undefined *)0x157;
                }
                else {
                  iVar2 = FUN_10a0_0a80(s_Warp_6_Colonizer_10a8_4bd7,
                                        _PTR_DAT_10a8_0000_10a8_830e & 0xffff0000 |
                                        (ulong)((int)_PTR_DAT_10a8_0000_10a8_830e + 8));
                  if (iVar2 == 0) {
                    return 1;
                  }
                  puVar6 = (undefined *)0x158;
                }
              }
              else {
LAB_1090_bc72:
                puVar6 = (undefined *)0x156;
              }
            }
            else if (bVar1 == 0x12) {
              local_a = 0x1010002;
              local_e = 0x1030001;
              local_6 = 0x1030010;
              local_12 = 0x2000008;
              if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)((int)s_starsplanet_10a8_00f8 + 4))
              goto LAB_1090_bc72;
              iVar2 = FUN_1090_b99c(0,(int *)&local_e,1);
              if ((((iVar2 != 0) && (iVar2 = FUN_1090_b99c(3,(int *)&local_a,1), iVar2 != 0)) &&
                  (iVar2 = FUN_1090_b99c(1,(int *)&local_6,1), iVar2 != 0)) &&
                 ((iVar2 = FUN_1090_b99c(2,(int *)&local_6,1), iVar2 != 0 &&
                  (iVar2 = FUN_1090_b99c(4,(int *)&local_12,2), iVar2 != 0)))) {
                return 1;
              }
              puVar6 = (undefined *)0x159;
            }
            else if (bVar1 == 0x17) {
              local_6 = 0x1030001;
              local_a = 0x1051000;
              local_e = 0x1010008;
              if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)s_starstitle_10a8_012c)
              goto LAB_1090_bc72;
              iVar2 = FUN_1090_b99c(0,(int *)&local_6,1);
              if (((iVar2 != 0) && (iVar2 = FUN_1090_b99c(1,(int *)&local_a,1), iVar2 != 0)) &&
                 (iVar2 = FUN_1090_b99c(2,(int *)&local_e,1), iVar2 != 0)) {
                return 1;
              }
              puVar6 = (undefined *)0x15a;
            }
            else {
              if (bVar1 != 0x1b) goto LAB_1090_c118;
              local_a = 0x2040001;
              local_6 = 0x4000040;
              local_e = 0x1010002;
              if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x160) goto LAB_1090_bc72;
              iVar2 = FUN_1090_b99c(0,(int *)&local_a,2);
              if ((((iVar2 != 0) && (iVar2 = FUN_1090_b99c(1,(int *)&local_6,4), iVar2 != 0)) &&
                  (iVar2 = FUN_1090_b99c(2,(int *)&local_6,4), iVar2 != 0)) &&
                 (iVar2 = FUN_1090_b99c(3,(int *)&local_e,1), iVar2 != 0)) {
                return 1;
              }
              puVar6 = (undefined *)0x15b;
            }
          }
          else if (bVar1 == 0x22) {
            local_a = 0x1040001;
            local_6 = 0x1020100;
            local_e = 0x1010002;
            if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1bc) goto LAB_1090_bc72;
            iVar2 = FUN_1090_b99c(0,(int *)&local_a,1);
            if ((((iVar2 != 0) && (iVar2 = FUN_1090_b99c(1,(int *)&local_e,1), iVar2 != 0)) &&
                (iVar2 = FUN_1090_b99c(2,(int *)&local_6,1), iVar2 != 0)) &&
               (iVar2 = FUN_1090_b99c(3,(int *)&local_6,2), iVar2 != 0)) {
              return 1;
            }
            puVar6 = (undefined *)0x15e;
          }
          else if (bVar1 == 0x25) {
            local_a = 0x2070001;
            local_6 = 0x4010040;
            local_e = 0x1010002;
            if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x1e4) goto LAB_1090_bc72;
            iVar2 = FUN_1090_b99c(0,(int *)&local_a,2);
            if (((iVar2 == 0) || (iVar2 = FUN_1090_b99c(1,(int *)&local_6,4), iVar2 == 0)) ||
               ((iVar2 = FUN_1090_b99c(2,(int *)&local_6,4), iVar2 == 0 ||
                (iVar2 = FUN_1090_b99c(3,(int *)&local_e,1), iVar2 == 0)))) {
              puVar6 = (undefined *)0x15f;
            }
            else {
              iVar2 = FUN_10a0_0a80(s_Black_Death_10a8_4bf8,
                                    _PTR_DAT_10a8_0000_10a8_830e & 0xffff0000 |
                                    (ulong)((int)_PTR_DAT_10a8_0000_10a8_830e + 8));
              if (iVar2 == 0) {
                return 1;
              }
              puVar6 = (undefined *)0x160;
            }
          }
          else {
            if (bVar1 != 0x2a) goto LAB_1090_c118;
            local_6 = 0x1070001;
            local_a = 0x1051000;
            local_e = 0x1010004;
            if (PTR_DAT_10a8_0000_10a8_831a != (undefined *)0x200) goto LAB_1090_bc72;
            iVar2 = FUN_1090_b99c(0,(int *)&local_6,1);
            if (((iVar2 == 0) || (iVar2 = FUN_1090_b99c(1,(int *)&local_a,1), iVar2 == 0)) ||
               (iVar2 = FUN_1090_b99c(2,(int *)&local_e,1), iVar2 == 0)) {
              puVar6 = (undefined *)0x161;
            }
            else {
              iVar2 = FUN_10a0_0a80(s_Free_Freighter_10a8_4c04,
                                    _PTR_DAT_10a8_0000_10a8_830e & 0xffff0000 |
                                    (ulong)((int)_PTR_DAT_10a8_0000_10a8_830e + 8));
              if (iVar2 == 0) {
                return 1;
              }
              puVar6 = (undefined *)0x162;
            }
          }
        }
      }
      else {
        if (param_1 != 4) {
          return 0;
        }
        puVar6 = (undefined *)0x155;
      }
      goto LAB_1090_c10f;
    }
LAB_1090_c118:
    FUN_1090_b1be((undefined *)0x14e);
  }
  return 0;
}



undefined2 __stdcall16far
SCOREDLG(undefined2 param_1_00,undefined2 param_2_00,int param_3,int param_4,HWND16 param_5)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  undefined2 uVar4;
  char *pcVar5;
  HWND16 HVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  HRGN16 unaff_SI;
  VA_LIST16 unaff_DI;
  char *pcVar10;
  undefined2 *puVar11;
  undefined2 *puVar12;
  PAINTSTRUCT16 *unaff_SS;
  dword dVar13;
  undefined *hwnd;
  PAINTSTRUCT16 *pPVar14;
  int16 *piVar15;
  HWND16 HVar16;
  HRGN16 in_stack_0000ff5c;
  undefined2 in_stack_0000ff5e;
  undefined2 in_stack_0000ff60;
  undefined2 in_stack_0000ff62;
  word in_stack_0000ff64;
  undefined2 in_stack_0000ff66;
  undefined2 in_stack_0000ff68;
  word in_stack_0000ff6a;
  undefined2 in_stack_0000ff6c;
  undefined2 in_stack_0000ff6e;
  LPCSTR in_stack_0000ff70;
  undefined4 in_stack_0000ff74;
  undefined6 in_stack_0000ff78;
  undefined6 in_stack_0000ff7e;
  undefined4 in_stack_0000ff84;
  word in_stack_0000ff88;
  undefined4 in_stack_0000ff8a;
  dword in_stack_0000ff8e;
  undefined local_64 [32];
  undefined4 local_44;
  long local_40;
  int local_3c;
  int local_3a;
  VA_LIST16 local_38;
  uint local_36;
  uint local_34;
  int local_32;
  undefined2 local_30 [8];
  undefined2 local_20 [4];
  int local_18;
  undefined2 local_16;
  int local_14;
  int local_12;
  int16 *local_10;
  int local_e;
  int local_c;
  int local_a;
  int16 *local_8;
  char *local_6;
  undefined *local_4;

                    // Segment:    20
                    // Offset:     0005f520
                    // Length:     089a
                    // Min Alloc:  089a
                    // Flags:      1d50
                    //     Code
                    //     Discardable
                    //     Moveable
                    //     Preload
                    //     Impure (Non-shareable)
                    //
  if (param_4 == 0xf) {
    FUN_1010_219c((int)PTR_DAT_10a8_0001_10a8_00c0,&local_44);
    local_8 = (int16 *)BEGINPAINT((HWND16)local_64,(PAINTSTRUCT16 *)CONCAT22(param_5,unaff_SS));
    SETBKMODE((int16 *)&DAT_10a8_0001,(HDC16)local_8,
              (int16)CONCAT214(in_stack_0000ff68,
                               CONCAT212(in_stack_0000ff66,
                                         CONCAT210(in_stack_0000ff64,
                                                   CONCAT28(in_stack_0000ff62,
                                                            CONCAT26(in_stack_0000ff60,
                                                                     CONCAT24(in_stack_0000ff5e,
                                                                              CONCAT22(
                                                  in_stack_0000ff5c,unaff_DI))))))));
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)local_8,(HRGN16)unaff_DI,
                 in_stack_0000ff5c,
                 (int16)CONCAT214(in_stack_0000ff6c,
                                  CONCAT212(in_stack_0000ff6a,
                                            CONCAT210(in_stack_0000ff68,
                                                      CONCAT28(in_stack_0000ff66,
                                                               CONCAT26(in_stack_0000ff64,
                                                                        CONCAT24(in_stack_0000ff62,
                                                                                 CONCAT22(
                                                  in_stack_0000ff60,in_stack_0000ff5e))))))));
    local_6 = (char *)FUN_1018_5112(0x10d);
    uVar7 = 0xffff;
    pcVar10 = local_6;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar2 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar2 != '\0');
    dVar13 = GETTEXTEXTENT(~uVar7 - 1,(LPCSTR)CONCAT22(0x10a8,local_6),
                           (int16)CONCAT214(in_stack_0000ff66,
                                            CONCAT212(in_stack_0000ff64,
                                                      CONCAT210(in_stack_0000ff62,
                                                                CONCAT28(in_stack_0000ff60,
                                                                         CONCAT26(in_stack_0000ff5e,
                                                                                  CONCAT24(
                                                  in_stack_0000ff5c,CONCAT22(unaff_DI,local_8)))))))
                          );
    local_c = (int)dVar13 + 0x12;
    local_6 = (char *)FUN_1018_5112(0x117);
    uVar7 = 0xffff;
    pcVar10 = local_6;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar2 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar2 != '\0');
    dVar13 = GETTEXTEXTENT(~uVar7 - 1,(LPCSTR)CONCAT22(0x10a8,local_6),
                           (int16)CONCAT214(in_stack_0000ff66,
                                            CONCAT212(in_stack_0000ff64,
                                                      CONCAT210(in_stack_0000ff62,
                                                                CONCAT28(in_stack_0000ff60,
                                                                         CONCAT26(in_stack_0000ff5e,
                                                                                  CONCAT24(
                                                  in_stack_0000ff5c,CONCAT22(unaff_DI,local_8)))))))
                          );
    local_a = (int)dVar13 + local_c;
    local_6 = (char *)FUN_1018_5112(0x118);
    puVar12 = local_30;
    uVar7 = 0xffff;
    pcVar10 = local_6;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar2 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar2 != '\0');
    uVar7 = ~uVar7;
    puVar11 = (undefined2 *)(pcVar10 + -uVar7);
    for (uVar8 = uVar7 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
      puVar3 = puVar12;
      puVar12 = puVar12 + 1;
      puVar1 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar3 = *puVar1;
    }
    for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
      puVar3 = puVar12;
      puVar12 = (undefined2 *)((int)puVar12 + 1);
      puVar1 = puVar11;
      puVar11 = (undefined2 *)((int)puVar11 + 1);
      *(undefined *)puVar3 = *(undefined *)puVar1;
    }
    local_6 = (char *)FUN_1018_5112(0x11a);
    puVar12 = local_20;
    uVar7 = 0xffff;
    pcVar10 = local_6;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar2 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar2 != '\0');
    uVar7 = ~uVar7;
    puVar11 = (undefined2 *)(pcVar10 + -uVar7);
    for (uVar8 = uVar7 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
      puVar3 = puVar12;
      puVar12 = puVar12 + 1;
      puVar1 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar3 = *puVar1;
    }
    for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
      puVar3 = puVar12;
      puVar12 = (undefined2 *)((int)puVar12 + 1);
      puVar1 = puVar11;
      puVar11 = (undefined2 *)((int)puVar11 + 1);
      *(undefined *)puVar3 = *(undefined *)puVar1;
    }
    dVar13 = GETTEXTEXTENT(6,(LPCSTR)CONCAT22(0x10a8,local_6),
                           (int16)CONCAT214(in_stack_0000ff66,
                                            CONCAT212(in_stack_0000ff64,
                                                      CONCAT210(in_stack_0000ff62,
                                                                CONCAT28(in_stack_0000ff60,
                                                                         CONCAT26(in_stack_0000ff5e,
                                                                                  CONCAT24(
                                                  in_stack_0000ff5c,CONCAT22(unaff_DI,local_8)))))))
                          );
    local_e = (int)dVar13 + local_a;
    local_6 = (char *)FUN_1018_5112(0x10a);
    FUN_1018_55f6(local_8,local_c,6,local_6,(int16 *)0x0,0,CONCAT22(in_stack_0000ff5c,unaff_DI),
                  in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_10 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(local_30,0x10a8),
                         (LPCSTR)CONCAT22(local_3c,unaff_SS),(VA_LIST16)0x6);
    FUN_1018_55f6(local_8,local_a,6,(int)&DAT_10a8_86de,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_6 = (char *)FUN_1018_520e((VA_LIST16)(local_3c * 6),&local_10);
    FUN_1018_55f6(local_8,local_e,6,local_6,local_10,0,CONCAT22(in_stack_0000ff5c,unaff_DI),
                  in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_4 = PTR_DAT_10a8_0000_10a8_5794 + 6;
    local_6 = (char *)FUN_1018_5112(0x10b);
    FUN_1018_55f6(local_8,local_c,(int)local_4,local_6,(int16 *)0x0,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_10 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(local_30,0x10a8),
                         (LPCSTR)CONCAT22(local_3a,unaff_SS),(VA_LIST16)0xa);
    FUN_1018_55f6(local_8,local_a,(int)local_4,(int)&DAT_10a8_86de,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_6 = (char *)FUN_1018_520e((VA_LIST16)(local_3a * 10),&local_10);
    FUN_1018_55f6(local_8,local_e,(int)local_4,local_6,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_4 = local_4 + (int)PTR_DAT_10a8_0000_10a8_5794;
    local_6 = (char *)FUN_1018_5112(0x10c);
    FUN_1018_55f6(local_8,local_c,(int)local_4,local_6,(int16 *)0x0,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_10 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(local_30,0x10a8),
                         (LPCSTR)CONCAT22(local_38,unaff_SS),(VA_LIST16)&DAT_10a8_0001);
    FUN_1018_55f6(local_8,local_a,(int)local_4,(int)&DAT_10a8_86de,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_6 = (char *)FUN_1018_520e(local_38,&local_10);
    FUN_1018_55f6(local_8,local_e,(int)local_4,local_6,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_4 = local_4 + (int)PTR_DAT_10a8_0000_10a8_5794;
    local_6 = (char *)FUN_1018_5112(0x10d);
    FUN_1018_55f6(local_8,local_c,(int)local_4,local_6,(int16 *)0x0,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_10 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(local_30,0x10a8),
                         (LPCSTR)CONCAT22(local_36,unaff_SS),(VA_LIST16)&DAT_10a8_0003);
    FUN_1018_55f6(local_8,local_a,(int)local_4,(int)&DAT_10a8_86de,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_6 = (char *)FUN_1018_5234((VA_LIST16)(local_36 * 3),
                                    ((int)local_36 >> 0xf) * 3 + (uint)CARRY2(local_36,local_36) +
                                    (uint)CARRY2(local_36 * 2,local_36),&local_10);
    FUN_1018_55f6(local_8,local_e,(int)local_4,local_6,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_4 = local_4 + (int)PTR_DAT_10a8_0000_10a8_5794;
    local_6 = (char *)FUN_1018_5112(0x10e);
    FUN_1018_55f6(local_8,local_c,(int)local_4,local_6,(int16 *)0x0,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_10 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(local_30,0x10a8),
                         (LPCSTR)CONCAT22(local_34,unaff_SS),(VA_LIST16)0x7);
    FUN_1018_55f6(local_8,local_a,(int)local_4,(int)&DAT_10a8_86de,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_6 = (char *)FUN_1018_5234((VA_LIST16)(local_34 * 7),
                                    ((int)local_34 >> 0xf) * 7 + (uint)CARRY2(local_34,local_34) * 2
                                    + (uint)CARRY2(local_34 * 2,local_34) * 2 +
                                    (uint)CARRY2(local_34 * 3,local_34 * 3) +
                                    (uint)CARRY2(local_34 * 6,local_34),&local_10);
    FUN_1018_55f6(local_8,local_e,(int)local_4,local_6,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_4 = local_4 + (int)PTR_DAT_10a8_0000_10a8_5794;
    local_6 = (char *)FUN_1018_5112(0x10f);
    FUN_1018_55f6(local_8,local_c,(int)local_4,local_6,(int16 *)0x0,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_10 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(local_30,0x10a8),
                         (LPCSTR)CONCAT22(local_32,unaff_SS),(VA_LIST16)&DAT_10a8_0003);
    FUN_1018_55f6(local_8,local_a,(int)local_4,(int)&DAT_10a8_86de,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_6 = (char *)FUN_1018_520e((VA_LIST16)(local_32 * 3),&local_10);
    FUN_1018_55f6(local_8,local_e,(int)local_4,local_6,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_4 = local_4 + (int)PTR_DAT_10a8_0000_10a8_5794;
    local_6 = (char *)FUN_1018_5112(0x110);
    FUN_1018_55f6(local_8,local_c,(int)local_4,local_6,(int16 *)0x0,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_6 = (char *)FUN_1018_5112(0x119);
    puVar12 = (undefined2 *)&stack0xff5c;
    uVar7 = 0xffff;
    pcVar10 = local_6;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar2 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar2 != '\0');
    uVar7 = ~uVar7;
    puVar11 = (undefined2 *)(pcVar10 + -uVar7);
    for (uVar8 = uVar7 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
      puVar3 = puVar12;
      puVar12 = puVar12 + 1;
      puVar1 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar3 = *puVar1;
    }
    for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
      puVar3 = puVar12;
      puVar12 = (undefined2 *)((int)puVar12 + 1);
      puVar1 = puVar11;
      puVar11 = (undefined2 *)((int)puVar11 + 1);
      *(undefined *)puVar3 = *(undefined *)puVar1;
    }
    local_10 = _WSPRINTF((int16 *)&DAT_10a8_86de,(LPSTR)CONCAT22(&stack0xff5c,0x10a8),
                         (LPCSTR)CONCAT22((int)local_40,unaff_SS),
                         (VA_LIST16)((ulong)local_40 >> 0x10));
    FUN_1018_55f6(local_8,local_a,(int)local_4,(int)&DAT_10a8_86de,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_6 = (char *)FUN_1018_5234((VA_LIST16)(local_40 / 0x19),
                                    (int)((ulong)(local_40 / 0x19) >> 0x10),&local_10);
    FUN_1018_55f6(local_8,local_e,(int)local_4,local_6,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_4 = local_4 + (int)PTR_DAT_10a8_0000_10a8_5794;
    PATBLT(0x42,(int16)CONCAT214(in_stack_0000ff5c,
                                 CONCAT212(unaff_DI,CONCAT210(local_8,CONCAT28(local_a + 3,
                                                                               CONCAT26(local_4,
                                                  CONCAT24((local_e - local_a) + -3,0x10000)))))),
           (int16)CONCAT214(in_stack_0000ff6c,
                            CONCAT212(in_stack_0000ff6a,
                                      CONCAT210(in_stack_0000ff68,
                                                CONCAT28(in_stack_0000ff66,
                                                         CONCAT26(in_stack_0000ff64,
                                                                  CONCAT24(in_stack_0000ff62,
                                                                           CONCAT22(
                                                  in_stack_0000ff60,in_stack_0000ff5e))))))),
           (int16)CONCAT610(in_stack_0000ff78,
                            CONCAT46(in_stack_0000ff74,CONCAT42(in_stack_0000ff70,in_stack_0000ff6e)
                                    )),
           (int16)CONCAT412(in_stack_0000ff8a,
                            CONCAT210(in_stack_0000ff88,
                                      CONCAT46(in_stack_0000ff84,in_stack_0000ff7e))),
           in_stack_0000ff8e);
    local_6 = (char *)FUN_1018_5112(0x111);
    FUN_1018_55f6(local_8,local_c,(int)local_4,local_6,(int16 *)0x0,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_6 = (char *)FUN_1018_5234((VA_LIST16)local_44,(int)((ulong)local_44 >> 0x10),&local_10);
    FUN_1018_55f6(local_8,local_e,(int)local_4,local_6,local_10,0,
                  CONCAT22(in_stack_0000ff5c,unaff_DI),in_stack_0000ff5e,
                  CONCAT212(in_stack_0000ff6c,
                            CONCAT210(in_stack_0000ff6a,
                                      CONCAT28(in_stack_0000ff68,
                                               CONCAT26(in_stack_0000ff66,
                                                        CONCAT24(in_stack_0000ff64,
                                                                 CONCAT22(in_stack_0000ff62,
                                                                          in_stack_0000ff60)))))));
    local_4 = local_4 + ((int)PTR_DAT_10a8_0000_10a8_5794 * 3) / 2;
    if (*(int *)((int)&PTR_DAT_10a8_0000_10a8_8868 + (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76) == 0)
    {
      uVar4 = FUN_1018_5112(0x116);
      local_10 = _WSPRINTF((int16 *)&stack0xff5c,(LPSTR)CONCAT22(uVar4,unaff_SS),
                           (LPCSTR)CONCAT22(PTR_DAT_10a8_0002_10a8_0038,0x10a8),unaff_DI);
    }
    else {
      uVar4 = FUN_1018_5112(0x115);
      local_10 = _WSPRINTF((int16 *)&stack0xff5c,(LPSTR)CONCAT22(uVar4,unaff_SS),
                           (LPCSTR)CONCAT22(*(undefined2 *)
                                             ((int)&PTR_DAT_10a8_0000_10a8_8868 +
                                             (int)PTR_DAT_10a8_0001_10a8_00c0 * 0x76),0x10a8),
                           (VA_LIST16)PTR_DAT_10a8_0002_10a8_0038);
    }
    TEXTOUT((HDC16)local_10,
            (int16)CONCAT214(in_stack_0000ff5e,
                             CONCAT212(in_stack_0000ff5c,
                                       CONCAT210(unaff_DI,CONCAT28(local_8,CONCAT26(6,CONCAT24(
                                                  local_4,CONCAT22(unaff_SS,&stack0xff5c))))))),
            (int16)CONCAT214(in_stack_0000ff6e,
                             CONCAT212(in_stack_0000ff6c,
                                       CONCAT210(in_stack_0000ff6a,
                                                 CONCAT28(in_stack_0000ff68,
                                                          CONCAT26(in_stack_0000ff66,
                                                                   CONCAT24(in_stack_0000ff64,
                                                                            CONCAT22(
                                                  in_stack_0000ff62,in_stack_0000ff60))))))),
            in_stack_0000ff70,
            (int16)CONCAT610(in_stack_0000ff7e,CONCAT64(in_stack_0000ff78,in_stack_0000ff74)));
    ENDPAINT((HWND16)local_64,unaff_SS);
  }
  else if (param_4 == 0x14) {
    GETCLIENTRECT((HWND16)&local_18,(RECT16 *)CONCAT22(param_5,unaff_SS));
    FILLRECT((int16 *)PTR_DAT_10a8_0000_10a8_0010,(HDC16)&local_18,(RECT16 *)unaff_SS,param_3);
  }
  else if (param_4 == 0x110) {
    local_8 = (int16 *)GETDC(param_5);
    SELECTOBJECT((int16 *)PTR_DAT_10a8_0000_10a8_59c6,(HRGN16)local_8,unaff_SI,(HRGN16)unaff_DI,
                 (int16)CONCAT214(in_stack_0000ff6a,
                                  CONCAT212(in_stack_0000ff68,
                                            CONCAT210(in_stack_0000ff66,
                                                      CONCAT28(in_stack_0000ff64,
                                                               CONCAT26(in_stack_0000ff62,
                                                                        CONCAT24(in_stack_0000ff60,
                                                                                 CONCAT22(
                                                  in_stack_0000ff5e,in_stack_0000ff5c))))))));
    local_6 = (char *)FUN_1018_5112(0x10d);
    uVar7 = 0xffff;
    pcVar10 = local_6;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar2 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar2 != '\0');
    dVar13 = GETTEXTEXTENT(~uVar7 - 1,(LPCSTR)CONCAT22(0x10a8,local_6),
                           (int16)CONCAT214(in_stack_0000ff64,
                                            CONCAT212(in_stack_0000ff62,
                                                      CONCAT210(in_stack_0000ff60,
                                                                CONCAT28(in_stack_0000ff5e,
                                                                         CONCAT26(in_stack_0000ff5c,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,local_8))))))));
    local_4 = (undefined *)((int)dVar13 + 0x12);
    local_6 = (char *)FUN_1018_5112(0x117);
    uVar7 = 0xffff;
    pcVar10 = local_6;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar2 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar2 != '\0');
    dVar13 = GETTEXTEXTENT(~uVar7 - 1,(LPCSTR)CONCAT22(0x10a8,local_6),
                           (int16)CONCAT214(in_stack_0000ff64,
                                            CONCAT212(in_stack_0000ff62,
                                                      CONCAT210(in_stack_0000ff60,
                                                                CONCAT28(in_stack_0000ff5e,
                                                                         CONCAT26(in_stack_0000ff5c,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,local_8))))))));
    local_4 = (undefined *)((int)local_4 + (int)dVar13);
    piVar15 = local_8;
    local_6 = (char *)FUN_1018_5112(0x11a);
    dVar13 = GETTEXTEXTENT(6,(LPCSTR)CONCAT22(0x10a8,local_6),
                           (int16)CONCAT214(in_stack_0000ff64,
                                            CONCAT212(in_stack_0000ff62,
                                                      CONCAT210(in_stack_0000ff60,
                                                                CONCAT28(in_stack_0000ff5e,
                                                                         CONCAT26(in_stack_0000ff5c,
                                                                                  CONCAT24(unaff_DI,
                                                  CONCAT22(unaff_SI,piVar15))))))));
    local_4 = (undefined *)((int)local_4 + (int)dVar13 + 0x12);
    RELEASEDC(local_8,param_5,unaff_SI);
    local_6 = (char *)FUN_1018_5112(0x114);
    puVar12 = (undefined2 *)&stack0xff5c;
    uVar7 = 0xffff;
    pcVar10 = local_6;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar2 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar2 != '\0');
    uVar7 = ~uVar7;
    puVar11 = (undefined2 *)(pcVar10 + -uVar7);
    for (uVar8 = uVar7 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
      puVar3 = puVar12;
      puVar12 = puVar12 + 1;
      puVar1 = puVar11;
      puVar11 = puVar11 + 1;
      *puVar3 = *puVar1;
    }
    for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
      puVar3 = puVar12;
      puVar12 = (undefined2 *)((int)puVar12 + 1);
      puVar1 = puVar11;
      puVar11 = (undefined2 *)((int)puVar11 + 1);
      *(undefined *)puVar3 = *(undefined *)puVar1;
    }
    pcVar5 = (char *)FUN_1010_0792((int)PTR_DAT_10a8_0001_10a8_00c0,1,1,1,0,0);
    local_6 = pcVar5;
    pcVar10 = &stack0xff5c;
    uVar7 = 0xffff;
    do {
      if (uVar7 == 0) break;
      uVar7 = uVar7 - 1;
      pcVar2 = pcVar5;
      pcVar5 = pcVar5 + 1;
    } while (*pcVar2 != '\0');
    uVar7 = ~uVar7;
    puVar12 = (undefined2 *)(pcVar5 + -uVar7);
    iVar9 = -1;
    do {
      if (iVar9 == 0) break;
      iVar9 = iVar9 + -1;
      pcVar2 = pcVar10;
      pcVar10 = pcVar10 + 1;
    } while (*pcVar2 != '\0');
    puVar11 = (undefined2 *)(pcVar10 + -1);
    for (uVar8 = uVar7 >> 1; uVar8 != 0; uVar8 = uVar8 - 1) {
      puVar3 = puVar11;
      puVar11 = puVar11 + 1;
      puVar1 = puVar12;
      puVar12 = puVar12 + 1;
      *puVar3 = *puVar1;
    }
    for (uVar7 = (uint)((uVar7 & 1) != 0); uVar7 != 0; uVar7 = uVar7 - 1) {
      puVar3 = puVar11;
      puVar11 = (undefined2 *)((int)puVar11 + 1);
      puVar1 = puVar12;
      puVar12 = (undefined2 *)((int)puVar12 + 1);
      *(undefined *)puVar3 = *(undefined *)puVar1;
    }
    hwnd = &stack0xff5c;
    pPVar14 = unaff_SS;
    HVar16 = param_5;
    SETWINDOWTEXT((HWND16)hwnd,CONCAT22(param_5,unaff_SS));
    GETWINDOWRECT((HWND16)&local_10,(RECT16 *)CONCAT22(param_5,unaff_SS));
    GETCLIENTRECT((HWND16)&local_18,(RECT16 *)CONCAT22(param_5,unaff_SS));
    SETWINDOWPOS(6,(((int)(PTR_DAT_10a8_0000_10a8_5794 + 1) * 0xc - local_e) - local_12) + local_a,
                 (int16)CONCAT214(HVar16,CONCAT212(pPVar14,CONCAT210(hwnd,CONCAT28(param_5,(qword)(
                                                  uint)((((int)local_4 - (int)local_10) - local_14)
                                                       + local_c))))),
                 (int16)CONCAT214(in_stack_0000ff66,
                                  CONCAT212(in_stack_0000ff64,
                                            CONCAT210(in_stack_0000ff62,
                                                      CONCAT28(in_stack_0000ff60,
                                                               CONCAT26(in_stack_0000ff5e,
                                                                        CONCAT24(in_stack_0000ff5c,
                                                                                 CONCAT22(unaff_DI,
                                                  unaff_SI))))))),
                 (int16)CONCAT412(in_stack_0000ff74,
                                  CONCAT48(in_stack_0000ff70,
                                           CONCAT26(in_stack_0000ff6e,
                                                    CONCAT24(in_stack_0000ff6c,
                                                             CONCAT22(in_stack_0000ff6a,
                                                                      in_stack_0000ff68))))),
                 (int16)CONCAT412(in_stack_0000ff84,CONCAT66(in_stack_0000ff7e,in_stack_0000ff78)),
                 in_stack_0000ff88);
    HVar6 = GETDLGITEM(2,(int16)CONCAT214(in_stack_0000ff5e,
                                          CONCAT212(in_stack_0000ff5c,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar16,CONCAT24(pPVar14,CONCAT22(hwnd,param_5)))))
                                                  )));
    GETWINDOWRECT((HWND16)&local_18,(RECT16 *)CONCAT22(HVar6,unaff_SS));
    MAPWINDOWPOINTS(2,(HWND16)&local_18,(POINT16 *)unaff_SS,
                    (uint16)CONCAT214(in_stack_0000ff5c,
                                      CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(HVar16,CONCAT26
                                                  (pPVar14,CONCAT24(hwnd,(ulong)param_5)))))));
    OFFSETRECT((RECT16 *)
               CONCAT22(((int)local_4 / 2 - local_14) + -5,
                        ((int)PTR_DAT_10a8_0000_10a8_5794 * 0xc - local_12) + 6),
               (int16)CONCAT214(in_stack_0000ff5c,
                                CONCAT212(unaff_DI,CONCAT210(unaff_SI,CONCAT28(HVar16,CONCAT26(
                                                  pPVar14,CONCAT24(hwnd,CONCAT22(unaff_SS,&local_18)
                                                                  )))))),
               (int16)CONCAT214(in_stack_0000ff6c,
                                CONCAT212(in_stack_0000ff6a,
                                          CONCAT210(in_stack_0000ff68,
                                                    CONCAT28(in_stack_0000ff66,
                                                             CONCAT26(in_stack_0000ff64,
                                                                      CONCAT24(in_stack_0000ff62,
                                                                               CONCAT22(
                                                  in_stack_0000ff60,in_stack_0000ff5e))))))));
    HVar6 = GETDLGITEM(2,(int16)CONCAT214(in_stack_0000ff5e,
                                          CONCAT212(in_stack_0000ff5c,
                                                    CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26(
                                                  HVar16,CONCAT24(pPVar14,CONCAT22(hwnd,param_5)))))
                                                  )));
    SETWINDOWPOS(5,0,(int16)CONCAT214(HVar16,CONCAT212(pPVar14,CONCAT210(hwnd,CONCAT28(HVar6,(qword)
                                                  CONCAT22(local_18,local_16) << 0x10)))),
                 (int16)CONCAT214(in_stack_0000ff66,
                                  CONCAT212(in_stack_0000ff64,
                                            CONCAT210(in_stack_0000ff62,
                                                      CONCAT28(in_stack_0000ff60,
                                                               CONCAT26(in_stack_0000ff5e,
                                                                        CONCAT24(in_stack_0000ff5c,
                                                                                 CONCAT22(unaff_DI,
                                                  unaff_SI))))))),
                 (int16)CONCAT412(in_stack_0000ff74,
                                  CONCAT48(in_stack_0000ff70,
                                           CONCAT26(in_stack_0000ff6e,
                                                    CONCAT24(in_stack_0000ff6c,
                                                             CONCAT22(in_stack_0000ff6a,
                                                                      in_stack_0000ff68))))),
                 (int16)CONCAT412(in_stack_0000ff84,CONCAT66(in_stack_0000ff7e,in_stack_0000ff78)),
                 in_stack_0000ff88);
    HVar6 = GETDLGITEM(0x76,(int16)CONCAT214(in_stack_0000ff5e,
                                             CONCAT212(in_stack_0000ff5c,
                                                       CONCAT210(unaff_DI,CONCAT28(unaff_SI,CONCAT26
                                                  (HVar16,CONCAT24(pPVar14,CONCAT22(hwnd,param_5))))
                                                  ))));
    SETWINDOWPOS(5,0,(int16)CONCAT214(HVar16,CONCAT212(pPVar14,CONCAT210(hwnd,CONCAT28(HVar6,(qword)
                                                  CONCAT22(local_18 + 0x5a,local_16) << 0x10)))),
                 (int16)CONCAT214(in_stack_0000ff66,
                                  CONCAT212(in_stack_0000ff64,
                                            CONCAT210(in_stack_0000ff62,
                                                      CONCAT28(in_stack_0000ff60,
                                                               CONCAT26(in_stack_0000ff5e,
                                                                        CONCAT24(in_stack_0000ff5c,
                                                                                 CONCAT22(unaff_DI,
                                                  unaff_SI))))))),
                 (int16)CONCAT412(in_stack_0000ff74,
                                  CONCAT48(in_stack_0000ff70,
                                           CONCAT26(in_stack_0000ff6e,
                                                    CONCAT24(in_stack_0000ff6c,
                                                             CONCAT22(in_stack_0000ff6a,
                                                                      in_stack_0000ff68))))),
                 (int16)CONCAT412(in_stack_0000ff84,CONCAT66(in_stack_0000ff7e,in_stack_0000ff78)),
                 in_stack_0000ff88);
    FUN_1018_5a04(param_5,(int *)0x4c22,1,hwnd,
                  (int16)CONCAT214(in_stack_0000ff62,
                                   CONCAT212(in_stack_0000ff60,
                                             CONCAT210(in_stack_0000ff5e,
                                                       CONCAT28(in_stack_0000ff5c,
                                                                CONCAT26(unaff_DI,CONCAT24(unaff_SI,
                                                  CONCAT22(HVar16,pPVar14))))))),in_stack_0000ff64);
  }
  else {
    if (param_4 != 0x111) {
      return 0;
    }
    if (param_3 == 2) {
      FUN_1018_5a04(param_5,(int *)0x4c22,0,unaff_SI,
                    (int16)CONCAT214(in_stack_0000ff68,
                                     CONCAT212(in_stack_0000ff66,
                                               CONCAT210(in_stack_0000ff64,
                                                         CONCAT28(in_stack_0000ff62,
                                                                  CONCAT26(in_stack_0000ff60,
                                                                           CONCAT24(
                                                  in_stack_0000ff5e,
                                                  CONCAT22(in_stack_0000ff5c,unaff_DI))))))),
                    in_stack_0000ff6a);
      ENDDIALOG((HWND16)local_4,
                (int16)CONCAT214(in_stack_0000ff64,
                                 CONCAT212(in_stack_0000ff62,
                                           CONCAT210(in_stack_0000ff60,
                                                     CONCAT28(in_stack_0000ff5e,
                                                              CONCAT26(in_stack_0000ff5c,
                                                                       CONCAT24(unaff_DI,CONCAT22(
                                                  unaff_SI,param_5))))))));
    }
    else {
      if (param_3 != 0x76) {
        return 0;
      }
      WINHELP(0x1b,(LPCSTR)0x10000,
              (uint16)CONCAT214(in_stack_0000ff60,
                                CONCAT212(in_stack_0000ff5e,
                                          CONCAT210(in_stack_0000ff5c,
                                                    CONCAT28(unaff_DI,CONCAT26(unaff_SI,CONCAT24(
                                                  param_5,CONCAT22(0x10a8,
                                                  PTR_s_stars__hlp_10a8_00b2_10a8_00be))))))));
    }
  }
  return 1;
}



// WARNING: Removing unreachable block (ram,0x10a0005d)
// WARNING: Restarted to delay deadcode elimination for space: stack

void entry(void)

{
  code *pcVar1;
  undefined2 in_AX;
  int16 *piVar2;
  undefined *in_CX;
  undefined2 in_DX;
  undefined *in_BX;
  undefined *unaff_SI;
  undefined *unaff_DI;
  undefined *unaff_ES;
  bool bVar3;
  undefined4 uVar4;
  dword dVar5;
  int in_stack_00000000;
  undefined2 in_stack_00000002;
  undefined2 in_stack_00000004;
  undefined2 in_stack_00000006;
  undefined uVar6;
  undefined uVar7;

  uVar4 = CONCAT22(in_DX,in_AX);
  do {
    uVar6 = 0;
    uVar7 = 0;
    INITTASK((CONTEXT *)0x0);
    if (((int)uVar4 != 0) &&
       (bVar3 = in_CX < (undefined *)0xff00, in_CX = in_CX + 0x100,
       PTR_DAT_10a8_0000_10a8_4c5c = unaff_ES, bVar3)) {
      PTR_DAT_10a8_0000_10a8_4c26 = in_CX;
      PTR_DAT_10a8_0000_10a8_4c28 = unaff_SI;
      PTR_DAT_10a8_0000_10a8_4c2a = unaff_DI;
      PTR_DAT_10a8_0000_10a8_4c2c = in_BX;
      PTR_DAT_10a8_0000_10a8_4c2e = unaff_ES;
      PTR_DAT_10a8_0000_10a8_4c30 = (undefined *)((ulong)uVar4 >> 0x10);
      dVar5 = GETVERSION();
      PTR_DAT_10a8_0000_10a8_4c5e = (undefined *)CONCAT11((char)dVar5,(char)(dVar5 >> 8));
      pcVar1 = (code *)swi(0x21);
      PTR_DAT_10a8_0000_10a8_4c62 = (undefined *)(*pcVar1)();
      PTR_DAT_10a8_0000_10a8_4c60 =
           (undefined *)
           CONCAT11((char)PTR_DAT_10a8_0000_10a8_4c62,(char)((uint)PTR_DAT_10a8_0000_10a8_4c62 >> 8)
                   );
      DAT_10a8_4c65 = 0;
      WAITEVENT(0);
      piVar2 = INITAPP((int16 *)PTR_DAT_10a8_0000_10a8_4c2a,CONCAT11(uVar7,uVar6));
      if (piVar2 != (int16 *)0x0) {
        FUN_10a0_00c4();
        FUN_10a0_0d10((undefined *)((int)s_Everybody_10a8_1098 + 8),
                      (undefined1  [10])
                      CONCAT82(CONCAT26(in_stack_00000006,
                                        CONCAT24(in_stack_00000004,
                                                 CONCAT22(in_stack_00000002,in_stack_00000000))),
                               CONCAT11(uVar7,uVar6)));
        FUN_10a0_0e92();
        FUN_10a0_1c06();
        FUN_10a0_0c66();
        FUN_10a0_01a3();
        FUN_10a0_0f27();
        return;
      }
    }
    in_stack_00000000 = (int)s__with_some_work_done_10a8_1343 + 5;
    uVar4 = FUN_10a0_01b1();
  } while( true );
}



// WARNING: Removing unreachable block (ram,0x10a000da)
// WARNING: Removing unreachable block (ram,0x10a000fc)

void __cdecl16far FUN_10a0_00c4(void)

{
  byte *pbVar1;
  byte *pbVar2;
  byte bVar3;
  byte bVar4;
  byte *pbVar5;
  int iVar6;
  code **ppcVar7;
  code *pcVar8;
  int iVar9;
  undefined *in_BX;
  int unaff_BP;
  byte *pbVar10;
  byte *pbVar11;
  undefined *unaff_ES;
  undefined2 unaff_SS;
  bool bVar12;

  pcVar8 = (code *)swi(0x21);
  (*pcVar8)(unaff_BP + 1);
  pcVar8 = (code *)swi(0x21);
  PTR_DAT_10a8_0000_10a8_4c48 = in_BX;
  PTR_DAT_10a8_0000_10a8_4c4a = unaff_ES;
  (*pcVar8)();
  if (*(int *)&DAT_10a8_51ce != 0) {
    bVar12 = false;
    ppcVar7 = (code **)&PTR_DAT_10a8_0000_10a8_51cc;
    (**ppcVar7)((int)s_Everybody_10a8_1098 + 8);
    if (bVar12) {
      FUN_10a0_0cb6();
      return;
    }
    ppcVar7 = (code **)&PTR_DAT_10a8_0000_10a8_51cc;
    (**ppcVar7)((int)s_Everybody_10a8_1098 + 8);
  }
  iVar6 = *(int *)&PTR_DAT_10a8_0000_10a8_002c;
  if (iVar6 != 0) {
    pbVar11 = (byte *)0x0;
    do {
      bVar12 = *pbVar11 == 0;
      if (bVar12) break;
      iVar9 = 0xd;
      pbVar10 = (byte *)s__C_FILE_INFO__10a8_4c3a;
      do {
        if (iVar9 == 0) break;
        iVar9 = iVar9 + -1;
        pbVar5 = pbVar11;
        pbVar11 = pbVar11 + 1;
        pbVar1 = pbVar10;
        pbVar10 = pbVar10 + 1;
        bVar12 = *pbVar1 == *pbVar5;
      } while (bVar12);
      if (bVar12) {
        pbVar10 = (byte *)0x4c6e;
        goto LAB_10a0_016b;
      }
      iVar9 = 0x7fff;
      bVar12 = true;
      do {
        if (iVar9 == 0) break;
        iVar9 = iVar9 + -1;
        pbVar1 = pbVar11;
        pbVar11 = pbVar11 + 1;
        bVar12 = *pbVar1 == 0;
      } while (!bVar12);
    } while (bVar12);
  }
LAB_10a0_017f:
  FUN_10a0_026a();
  FUN_10a0_026a();
  FUN_10a0_026a();
  return;
LAB_10a0_016b:
  pbVar2 = pbVar11 + 1;
  bVar3 = *pbVar11;
  if (bVar3 < 0x41) goto LAB_10a0_017f;
  pbVar11 = pbVar11 + 2;
  bVar4 = *pbVar2;
  if (bVar4 < 0x41) goto LAB_10a0_017f;
  pbVar1 = pbVar10;
  pbVar10 = pbVar10 + 1;
  *pbVar1 = bVar4 + 0xbf | (bVar3 + 0xbf) * '\x10';
  goto LAB_10a0_016b;
}



void FUN_10a0_01a3(void)

{
  FUN_10a0_01e0();
  return;
}



void FUN_10a0_01b1(void)

{
  FUN_10a0_01e0();
  return;
}



void __stdcall16far FUN_10a0_01c0(void)

{
  FUN_10a0_01e0();
  return;
}



// WARNING: Removing unreachable block (ram,0x10a001e9)
// WARNING: Removing unreachable block (ram,0x10a0021f)
// WARNING: Removing unreachable block (ram,0x10a00234)
// WARNING: Removing unreachable block (ram,0x10a0022d)

void __stdcall16far FUN_10a0_01d1(void)

{
  PTR_DAT_10a8_0000_10a8_4ca3._0_1_ = 1;
  FUN_10a0_026a();
  FUN_10a0_026a();
  FUN_10a0_0241();
  return;
}



// WARNING: Removing unreachable block (ram,0x10a0022d)

void __cdecl16far FUN_10a0_01e0(void)

{
  code *pcVar1;
  undefined2 in_CX;
  char cVar2;

  cVar2 = (char)((uint)in_CX >> 8);
  PTR_DAT_10a8_0000_10a8_4ca3._0_1_ = cVar2;
  if ((char)in_CX == '\0') {
    FUN_10a0_026a();
    FUN_10a0_026a();
    FUN_10a0_1c06();
  }
  FUN_10a0_026a();
  FUN_10a0_026a();
  FUN_10a0_0241();
  if (cVar2 == '\0') {
    pcVar1 = (code *)swi(0x21);
    (*pcVar1)();
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x10a0025f)

void __cdecl16near FUN_10a0_0241(void)

{
  code *pcVar1;

  if (DAT_10a8_51ce != 0) {
    (*(code *)PTR_DAT_10a8_0000_10a8_51cc)();
  }
  pcVar1 = (code *)swi(0x21);
  (*pcVar1)();
  return;
}



void __cdecl16near FUN_10a0_026a(void)

{
  code **ppcVar1;
  code **ppcVar2;
  code **unaff_SI;
  code **unaff_DI;
  code **ppcVar3;

  while (unaff_SI < unaff_DI) {
    ppcVar3 = unaff_DI + -2;
    ppcVar1 = unaff_DI + -1;
    unaff_DI = ppcVar3;
    if (((uint)*ppcVar3 | (uint)*ppcVar1) != 0) {
      ppcVar2 = ppcVar3;
      (**ppcVar2)();
    }
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x10a002fd)
// WARNING: Removing unreachable block (ram,0x10a002c9)
// WARNING: Removing unreachable block (ram,0x10a0033f)
// WARNING: Removing unreachable block (ram,0x10a00320)

void FUN_10a0_027e(undefined2 param_1_00,undefined *param_2,uint param_3,uint param_4,uint param_5)

{
  byte *pbVar1;
  code *pcVar2;
  int iVar3;
  bool bVar4;
  undefined4 uVar5;

  if (((PTR_PTR_DAT_10a8_0000_10a8_0014_10a8_4c68 <= param_2) &&
      (PTR_DAT_10a8_0000_10a8_4fec != (undefined *)0x0)) && (param_2 <= (undefined *)&DAT_10a8_0002)
     ) goto LAB_10a0_034f;
  if ((PTR_DAT_10a8_0000_10a8_4dda != (undefined *)0x0) && ((param_4 & 0x8000) != 0)) {
    if (param_5 == 0) goto LAB_10a0_034f;
    bVar4 = false;
    pcVar2 = (code *)swi(0x21);
    uVar5 = (*pcVar2)();
    iVar3 = (int)((ulong)uVar5 >> 0x10);
    if (bVar4) goto LAB_10a0_034f;
    if ((param_5 & 2) == 0) {
      if ((int)(iVar3 + param_4 + (uint)CARRY2((uint)uVar5,param_3)) < 0) goto LAB_10a0_034f;
    }
    else {
      pcVar2 = (code *)swi(0x21);
      uVar5 = (*pcVar2)(iVar3);
      if ((int)((int)((ulong)uVar5 >> 0x10) + param_4 + (uint)CARRY2((uint)uVar5,param_3)) < 0) {
        pcVar2 = (code *)swi(0x21);
        (*pcVar2)();
        goto LAB_10a0_034f;
      }
    }
  }
  bVar4 = false;
  pcVar2 = (code *)swi(0x21);
  (*pcVar2)();
  if (!bVar4) {
    pbVar1 = param_2 + 0x4c6e;
    *pbVar1 = *pbVar1 & 0xfd;
  }
LAB_10a0_034f:
  FUN_10a0_0f89();
  return;
}



char * __cdecl16far FUN_10a0_0352(char *param_1,char *param_2,int param_3)

{
  char *pcVar1;
  char cVar2;
  char *pcVar3;

  pcVar3 = param_1;
  if (param_3 != 0) {
    do {
      pcVar1 = param_2;
      param_2 = param_2 + 1;
      cVar2 = *pcVar1;
      if (cVar2 == '\0') break;
      pcVar1 = pcVar3;
      pcVar3 = pcVar3 + 1;
      *pcVar1 = cVar2;
      param_3 = param_3 + -1;
    } while (param_3 != 0);
    for (; param_3 != 0; param_3 = param_3 + -1) {
      pcVar1 = pcVar3;
      pcVar3 = pcVar3 + 1;
      *pcVar1 = '\0';
    }
  }
  return param_1;
}



int __cdecl16far thunk_FUN_10a0_0fdc(byte *param_1)

{
  byte *pbVar1;
  byte bVar2;
  byte bVar3;
  int iVar4;

  iVar4 = 0;
  do {
    do {
      pbVar1 = param_1;
      param_1 = param_1 + 1;
      bVar2 = *pbVar1;
    } while (bVar2 == 0x20);
  } while (bVar2 == 9);
  if ((bVar2 != 0x2d) && (bVar3 = bVar2, bVar2 != 0x2b)) goto LAB_10a0_0ffc;
  while( true ) {
    pbVar1 = param_1;
    param_1 = param_1 + 1;
    bVar3 = *pbVar1;
LAB_10a0_0ffc:
    if ((0x39 < bVar3) || (bVar3 < 0x30)) break;
    iVar4 = iVar4 * 10 + (uint)(byte)(bVar3 - 0x30);
  }
  if (bVar2 == 0x2d) {
    iVar4 = -iVar4;
  }
  return iVar4;
}



void FUN_10a0_037e(void)

{
  FUN_10a0_105c();
  return;
}



void __cdecl16far FUN_10a0_039a(undefined *param_1)

{
  undefined2 unaff_CS;

  FUN_10a0_027e(unaff_CS,param_1,0,0,1);
  return;
}



uint __cdecl16far FUN_10a0_03b6(undefined *param_1)

{
  undefined *puVar1;
  undefined2 unaff_CS;
  long lVar2;
  long lVar3;

  if (-1 < (int)param_1) {
    puVar1 = PTR_PTR_DAT_10a8_0000_10a8_0014_10a8_4c68;
    if (PTR_DAT_10a8_0000_10a8_4fec != (undefined *)0x0) {
      puVar1 = PTR_PTR_DAT_10a8_0000_10a8_0028_10a8_4c6c;
    }
    if ((int)param_1 < (int)puVar1) {
      lVar2 = FUN_10a0_027e(unaff_CS,param_1,0,0,1);
      if (lVar2 == -1) {
        return (uint)lVar2;
      }
      lVar3 = FUN_10a0_027e((int)s_Everybody_10a8_1098 + 8,param_1,0,0,2);
      if (lVar3 == lVar2) {
        return (uint)lVar3;
      }
      FUN_10a0_027e((int)s_Everybody_10a8_1098 + 8,param_1,(uint)lVar2,(uint)((ulong)lVar2 >> 0x10),
                    0);
      return (uint)lVar3;
    }
  }
  PTR_DAT_10a8_0000_10a8_4c56 = (undefined *)0x9;
  return 0xffff;
}



char * __cdecl16far FUN_10a0_0450(char *param_1,char param_2)

{
  char *pcVar1;
  char *pcVar2;
  uint uVar3;
  bool bVar4;

  bVar4 = true;
  uVar3 = 0xffff;
  pcVar2 = param_1;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar1 = pcVar2;
    pcVar2 = pcVar2 + 1;
    bVar4 = *pcVar1 == '\0';
  } while (!bVar4);
  uVar3 = ~uVar3;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar1 = param_1;
    param_1 = param_1 + 1;
    bVar4 = param_2 == *pcVar1;
  } while (!bVar4);
  if (bVar4) {
    pcVar2 = param_1 + -1;
  }
  else {
    pcVar2 = (char *)0x0;
  }
  return pcVar2;
}



int __cdecl16far FUN_10a0_047a(byte *param_1,byte *param_2)

{
  byte *pbVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;

  bVar4 = 0xff;
  do {
    do {
      if (bVar4 == 0) goto LAB_10a0_04b7;
      pbVar1 = param_2;
      param_2 = param_2 + 1;
      bVar4 = *pbVar1;
      bVar3 = *param_1;
      param_1 = param_1 + 1;
    } while (bVar3 == bVar4);
    bVar2 = bVar4 + 0xbf + (-((byte)(bVar4 + 0xbf) < 0x1a) & 0x20U) + 0x41;
    bVar3 = bVar3 + 0xbf;
    bVar4 = bVar3 + (-(bVar3 < 0x1a) & 0x20U) + 0x41;
  } while (bVar4 == bVar2);
  bVar4 = (bVar4 < bVar2) * -2 + 1;
LAB_10a0_04b7:
  return (int)(char)bVar4;
}



uint __cdecl16far FUN_10a0_04bc(byte *param_1,byte *param_2,uint param_3)

{
  byte bVar1;
  byte bVar2;
  uint uVar3;
  bool bVar4;

  if (param_3 != 0) {
    do {
      bVar2 = *param_1;
      bVar1 = *param_2;
      if ((bVar2 == 0) || (bVar1 == 0)) break;
      param_1 = param_1 + 1;
      param_2 = param_2 + 1;
      if ((0x40 < bVar2) && (bVar2 < 0x5b)) {
        bVar2 = bVar2 + 0x20;
      }
      if ((0x40 < bVar1) && (bVar1 < 0x5b)) {
        bVar1 = bVar1 + 0x20;
      }
      bVar4 = bVar2 < bVar1;
      if (bVar2 != bVar1) goto LAB_10a0_0502;
      param_3 = param_3 - 1;
    } while (param_3 != 0);
    param_3 = 0;
    bVar4 = bVar2 < bVar1;
    if (bVar2 != bVar1) {
LAB_10a0_0502:
      uVar3 = 0;
      if (!bVar4) {
        uVar3 = 0xfffe;
      }
      param_3 = ~uVar3;
    }
  }
  return param_3;
}



char * __cdecl16far FUN_10a0_0514(char *param_1,char param_2)

{
  char *pcVar1;
  uint uVar2;
  char *pcVar3;
  bool bVar4;

  uVar2 = 0xffff;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    pcVar1 = param_1;
    param_1 = param_1 + 1;
  } while (*pcVar1 != '\0');
  uVar2 = ~uVar2;
  pcVar3 = param_1 + -1;
  bVar4 = pcVar3 == (char *)0x0;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    pcVar1 = pcVar3;
    pcVar3 = pcVar3 + -1;
    bVar4 = param_2 == *pcVar1;
  } while (!bVar4);
  if (bVar4) {
    pcVar3 = pcVar3 + 1;
  }
  else {
    pcVar3 = (char *)0x0;
  }
  return pcVar3;
}



char * __cdecl16far FUN_10a0_053c(char *param_1)

{
  char cVar1;
  char *pcVar2;

  for (pcVar2 = param_1; cVar1 = *pcVar2, cVar1 != '\0'; pcVar2 = pcVar2 + 1) {
    if ((byte)(cVar1 + 0xbfU) < 0x1a) {
      *pcVar2 = cVar1 + ' ';
    }
  }
  return param_1;
}



undefined2 * __cdecl16far FUN_10a0_055a(undefined2 *param_1,undefined2 *param_2,uint param_3)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  uint uVar3;
  undefined *puVar4;
  undefined *puVar5;
  undefined2 *puVar6;

  if (param_3 != 0) {
    if ((param_2 < param_1) && (param_1 < (undefined2 *)((int)param_2 + param_3))) {
      puVar4 = (undefined *)((int)param_2 + param_3);
      puVar5 = (undefined *)((int)param_1 + param_3);
      while( true ) {
        puVar5 = puVar5 + -1;
        puVar4 = puVar4 + -1;
        if (param_3 == 0) break;
        param_3 = param_3 - 1;
        *puVar5 = *puVar4;
      }
    }
    else {
      puVar6 = param_1;
      if (((uint)param_1 & 1) != 0) {
        puVar6 = (undefined2 *)((int)param_1 + 1);
        puVar1 = param_2;
        param_2 = (undefined2 *)((int)param_2 + 1);
        *(undefined *)param_1 = *(undefined *)puVar1;
        param_3 = param_3 - 1;
      }
      for (uVar3 = param_3 >> 1; uVar3 != 0; uVar3 = uVar3 - 1) {
        puVar2 = puVar6;
        puVar6 = puVar6 + 1;
        puVar1 = param_2;
        param_2 = param_2 + 1;
        *puVar2 = *puVar1;
      }
      for (uVar3 = (uint)((param_3 & 1) != 0); uVar3 != 0; uVar3 = uVar3 - 1) {
        puVar2 = puVar6;
        puVar6 = (undefined2 *)((int)puVar6 + 1);
        puVar1 = param_2;
        param_2 = (undefined2 *)((int)param_2 + 1);
        *(undefined *)puVar2 = *(undefined *)puVar1;
      }
    }
  }
  return param_1;
}



void __cdecl16far FUN_10a0_05a2(uint param_1,int param_2,int param_3,undefined *param_4)

{
  code **ppcVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  undefined *extraout_DX;
  undefined *extraout_DX_00;
  undefined2 unaff_DI;
  undefined *puVar7;
  undefined2 unaff_SS;
  uint uStack_12;
  uint uStack_10;
  uint uStack_c;
  undefined uVar8;

  if ((param_3 != 0) && (param_2 != 0)) {
    for (iVar5 = param_2 + -1; iVar5 != 0; iVar5 = iVar5 + -1) {
      iVar3 = (*(code *)param_4)();
      uVar8 = (undefined)unaff_DI;
      if (iVar3 < 0) {
        uVar4 = param_2 - 1;
        iVar5 = 0;
        do {
          uVar4 = uVar4 >> 1;
          iVar5 = iVar5 + -1;
        } while (iVar5 != 0 && uVar4 != 0);
        if (((int)((ulong)(uint)-iVar5 * 4 >> 0x10) != 0) ||
           (uVar4 = FUN_10a0_0fc8(), uVar4 < (uint)((ulong)(uint)-iVar5 * 4))) {
          FUN_10a0_0cdc(uVar8);
          return;
        }
        puVar7 = &stack0xfff6;
        uStack_c = (param_2 + -1) * param_3 + param_1;
        do {
          if (puVar7 <= &stack0xfff2) {
            return;
          }
          while (param_1 < uStack_c) {
            uStack_10 = uStack_c;
            uVar6 = uStack_c + *(int *)(puVar7 + 0x12);
            uStack_12 = param_1;
            uVar4 = param_1;
LAB_10a0_0640:
            while (param_1 = param_1 + *(int *)(puVar7 + 0x12), uVar2 = uStack_10,
                  param_1 != uStack_c) {
              ppcVar1 = (code **)(puVar7 + 0x14);
              iVar5 = (**ppcVar1)((int)s_Everybody_10a8_1098 + 8,param_1,uVar4);
              if (0 < iVar5) break;
              if (iVar5 != 0) {
                uStack_12 = param_1;
              }
            }
            do {
              uStack_10 = uVar2;
              uVar6 = uVar6 - *(int *)(puVar7 + 0x12);
              ppcVar1 = (code **)(puVar7 + 0x14);
              iVar5 = (**ppcVar1)((int)s_Everybody_10a8_1098 + 8,uVar4,uVar6);
              if (0 < iVar5) break;
              uVar2 = uVar6;
            } while ((iVar5 != 0) || (uVar2 = uStack_10, uVar6 != uVar4));
            if (param_1 < uVar6) {
              FUN_10a0_06e6();
              uStack_12 = param_1;
              uStack_10 = uVar6;
              puVar7 = extraout_DX;
              goto LAB_10a0_0640;
            }
            FUN_10a0_06e6();
            puVar7 = extraout_DX_00;
            param_1 = uStack_10;
            if ((uStack_c - uStack_10) + uVar4 < uStack_12) {
              uStack_c = uStack_12;
              param_1 = uVar4;
            }
          }
        } while( true );
      }
    }
  }
  return;
}



void __cdecl16near FUN_10a0_06e6(void)

{
  undefined *puVar1;
  undefined2 *puVar2;
  undefined uVar3;
  undefined2 uVar4;
  uint in_AX;
  int unaff_SI;
  int unaff_DI;

  if ((in_AX & 1) != 0) {
    in_AX = in_AX - 1;
    puVar1 = (undefined *)(in_AX + unaff_DI);
    uVar3 = *puVar1;
    *puVar1 = *(undefined *)(in_AX + unaff_SI);
    *(undefined *)(in_AX + unaff_SI) = uVar3;
    if (in_AX == 0) {
      return;
    }
  }
  do {
    in_AX = in_AX - 2;
    puVar2 = (undefined2 *)(in_AX + unaff_DI);
    uVar4 = *puVar2;
    *puVar2 = *(undefined2 *)(in_AX + unaff_SI);
    *(undefined2 *)(in_AX + unaff_SI) = uVar4;
  } while (in_AX != 0);
  return;
}



undefined2 __cdecl16far FUN_10a0_0704(int *param_1)

{
  int unaff_BP;
  int unaff_SI;
  int unaff_DI;
  int in_stack_00000000;
  int in_stack_00000002;

  *param_1 = unaff_BP + 1;
  param_1[1] = unaff_DI;
  param_1[2] = unaff_SI;
  param_1[3] = (int)register0x00000010;
  param_1[4] = in_stack_00000000;
  param_1[5] = in_stack_00000002;
  return 0;
}



int __cdecl16far FUN_10a0_0729(int param_1,int param_2)

{
  undefined2 *puVar1;
  undefined2 unaff_SS;

  if (param_2 == 0) {
    param_2 = 1;
  }
  puVar1 = (undefined2 *)*(int *)(param_1 + 6);
  *puVar1 = *(undefined2 *)(param_1 + 8);
  puVar1[1] = *(undefined2 *)(param_1 + 10);
  return param_2;
}



// WARNING: Removing unreachable block (ram,0x10a0076b)

void FUN_10a0_0752(void)

{
  code *pcVar1;
  int unaff_BP;

  pcVar1 = (code *)swi(0x21);
  (*pcVar1)(unaff_BP + 1);
  FUN_10a0_0f6a();
  return;
}



// WARNING: Removing unreachable block (ram,0x10a007ae)

void FUN_10a0_0788(void)

{
  code *pcVar1;
  int unaff_BP;

  pcVar1 = (code *)swi(0x21);
  (*pcVar1)(unaff_BP + 1);
  FUN_10a0_0f6a();
  return;
}



// WARNING: Removing unreachable block (ram,0x10a007ae)

void __stdcall16far FUN_10a0_0796(void)

{
  code *pcVar1;
  int unaff_BP;

  pcVar1 = (code *)swi(0x21);
  (*pcVar1)(unaff_BP + 1);
  FUN_10a0_0f6a();
  return;
}



// WARNING: Removing unreachable block (ram,0x10a007d2)

void __stdcall16far FUN_10a0_07ba(undefined2 param_1)

{
  char cVar1;
  code *pcVar2;
  char *pcVar3;
  int unaff_BP;
  bool bVar4;
  undefined4 uVar5;

  bVar4 = false;
  pcVar2 = (code *)swi(0x21);
  uVar5 = (*pcVar2)(unaff_BP + 1);
  pcVar3 = (char *)((ulong)uVar5 >> 0x10);
  if ((bVar4) && ((int)uVar5 == 0x10)) {
    while( true ) {
      cVar1 = *pcVar3;
      pcVar3 = pcVar3 + 1;
      if (cVar1 == '\0') break;
      if ((cVar1 == '?') || (cVar1 == '*')) break;
    }
  }
  FUN_10a0_0f6a();
  return;
}



// WARNING: Removing unreachable block (ram,0x10a00818)

void FUN_10a0_07fa(void)

{
  code *pcVar1;
  int unaff_BP;

  pcVar1 = (code *)swi(0x21);
  (*pcVar1)((int)s_From___s_c_c_10a8_10a2 + 6,unaff_BP + 1);
  FUN_10a0_0f6a();
  return;
}



// WARNING: Removing unreachable block (ram,0x10a0083e)

void FUN_10a0_0826(void)

{
  code *pcVar1;
  int unaff_BP;

  pcVar1 = (code *)swi(0x21);
  (*pcVar1)(unaff_BP + 1);
  FUN_10a0_0f6a();
  return;
}



undefined4 __stdcall16far FUN_10a0_084a(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulong uVar1;
  long lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  bool bVar10;
  char cVar11;
  uint uVar9;

  cVar11 = (int)param_2 < 0;
  if ((bool)cVar11) {
    bVar10 = param_1 != 0;
    param_1 = -param_1;
    param_2 = -(uint)bVar10 - param_2;
  }
  if ((int)param_4 < 0) {
    cVar11 = cVar11 + '\x01';
    bVar10 = param_3 != 0;
    param_3 = -param_3;
    param_4 = -(uint)bVar10 - param_4;
  }
  uVar3 = param_1;
  uVar5 = param_3;
  uVar6 = param_2;
  uVar9 = param_4;
  if (param_4 == 0) {
    uVar3 = param_2 / param_3;
    iVar4 = (int)(((ulong)param_2 % (ulong)param_3 << 0x10 | (ulong)param_1) / (ulong)param_3);
  }
  else {
    do {
      uVar8 = uVar9 >> 1;
      uVar5 = uVar5 >> 1 | (uint)((uVar9 & 1) != 0) << 0xf;
      uVar7 = uVar6 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar6 & 1) != 0) << 0xf;
      uVar6 = uVar7;
      uVar9 = uVar8;
    } while (uVar8 != 0);
    uVar1 = CONCAT22(uVar7,uVar3) / (ulong)uVar5;
    iVar4 = (int)uVar1;
    lVar2 = (ulong)param_3 * (uVar1 & 0xffff);
    uVar3 = (uint)((ulong)lVar2 >> 0x10);
    uVar5 = uVar3 + iVar4 * param_4;
    if (((CARRY2(uVar3,iVar4 * param_4)) || (param_2 < uVar5)) ||
       ((param_2 <= uVar5 && (param_1 < (uint)lVar2)))) {
      iVar4 = iVar4 + -1;
    }
    uVar3 = 0;
  }
  if (cVar11 == '\x01') {
    bVar10 = iVar4 != 0;
    iVar4 = -iVar4;
    uVar3 = -(uint)bVar10 - uVar3;
  }
  return CONCAT22(uVar3,iVar4);
}



ulong __stdcall16far FUN_10a0_08e4(uint param_1,uint param_2,uint param_3,uint param_4)

{
  if ((param_4 | param_2) == 0) {
    return (ulong)param_1 * (ulong)param_3;
  }
  return (ulong)param_1 * (ulong)param_3 & 0xffff |
         (ulong)((int)((ulong)param_1 * (ulong)param_3 >> 0x10) +
                param_2 * param_3 + param_1 * param_4) << 0x10;
}



undefined4 __stdcall16far FUN_10a0_0916(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulong uVar1;
  long lVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  bool bVar12;
  bool bVar13;

  bVar13 = (int)param_2 < 0;
  if (bVar13) {
    bVar12 = param_1 != 0;
    param_1 = -param_1;
    param_2 = -(uint)bVar12 - param_2;
  }
  uVar11 = (uint)bVar13;
  if ((int)param_4 < 0) {
    bVar13 = param_3 != 0;
    param_3 = -param_3;
    param_4 = -(uint)bVar13 - param_4;
  }
  uVar3 = param_1;
  uVar4 = param_3;
  uVar8 = param_2;
  uVar9 = param_4;
  if (param_4 == 0) {
    iVar5 = (int)(((ulong)param_2 % (ulong)param_3 << 0x10 | (ulong)param_1) % (ulong)param_3);
    iVar6 = 0;
    if ((int)(uVar11 - 1) < 0) goto LAB_10a0_09b0;
  }
  else {
    do {
      uVar10 = uVar9 >> 1;
      uVar4 = uVar4 >> 1 | (uint)((uVar9 & 1) != 0) << 0xf;
      uVar7 = uVar8 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar8 & 1) != 0) << 0xf;
      uVar8 = uVar7;
      uVar9 = uVar10;
    } while (uVar10 != 0);
    uVar1 = CONCAT22(uVar7,uVar3) / (ulong)uVar4;
    uVar3 = (int)uVar1 * param_4;
    lVar2 = (uVar1 & 0xffff) * (ulong)param_3;
    uVar8 = (uint)((ulong)lVar2 >> 0x10);
    uVar4 = (uint)lVar2;
    uVar9 = uVar8 + uVar3;
    if (((CARRY2(uVar8,uVar3)) || (param_2 < uVar9)) || ((param_2 <= uVar9 && (param_1 < uVar4)))) {
      bVar13 = uVar4 < param_3;
      uVar4 = uVar4 - param_3;
      uVar9 = (uVar9 - param_4) - (uint)bVar13;
    }
    iVar5 = uVar4 - param_1;
    iVar6 = (uVar9 - param_2) - (uint)(uVar4 < param_1);
    if (-1 < (int)(uVar11 - 1)) goto LAB_10a0_09b0;
  }
  bVar13 = iVar5 != 0;
  iVar5 = -iVar5;
  iVar6 = -(uint)bVar13 - iVar6;
LAB_10a0_09b0:
  return CONCAT22(iVar6,iVar5);
}



undefined4 __stdcall16far FUN_10a0_09b6(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulong uVar1;
  long lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;

  uVar3 = param_1;
  uVar8 = param_4;
  uVar6 = param_2;
  uVar9 = param_3;
  if (param_4 == 0) {
    uVar3 = param_2 / param_3;
    iVar4 = (int)(((ulong)param_2 % (ulong)param_3 << 0x10 | (ulong)param_1) / (ulong)param_3);
  }
  else {
    do {
      uVar5 = uVar8 >> 1;
      uVar9 = uVar9 >> 1 | (uint)((uVar8 & 1) != 0) << 0xf;
      uVar7 = uVar6 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar6 & 1) != 0) << 0xf;
      uVar8 = uVar5;
      uVar6 = uVar7;
    } while (uVar5 != 0);
    uVar1 = CONCAT22(uVar7,uVar3) / (ulong)uVar9;
    iVar4 = (int)uVar1;
    lVar2 = (ulong)param_3 * (uVar1 & 0xffff);
    uVar3 = (uint)((ulong)lVar2 >> 0x10);
    uVar8 = uVar3 + iVar4 * param_4;
    if (((CARRY2(uVar3,iVar4 * param_4)) || (param_2 < uVar8)) ||
       ((param_2 <= uVar8 && (param_1 < (uint)lVar2)))) {
      iVar4 = iVar4 + -1;
    }
    uVar3 = 0;
  }
  return CONCAT22(uVar3,iVar4);
}



undefined4 __stdcall16far FUN_10a0_0a16(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulong uVar1;
  long lVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  bool bVar11;

  uVar3 = param_1;
  uVar4 = param_4;
  uVar9 = param_2;
  uVar10 = param_3;
  if (param_4 == 0) {
    iVar6 = (int)(((ulong)param_2 % (ulong)param_3 << 0x10 | (ulong)param_1) % (ulong)param_3);
    iVar7 = 0;
  }
  else {
    do {
      uVar5 = uVar4 >> 1;
      uVar10 = uVar10 >> 1 | (uint)((uVar4 & 1) != 0) << 0xf;
      uVar8 = uVar9 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar9 & 1) != 0) << 0xf;
      uVar4 = uVar5;
      uVar9 = uVar8;
    } while (uVar5 != 0);
    uVar1 = CONCAT22(uVar8,uVar3) / (ulong)uVar10;
    uVar3 = (int)uVar1 * param_4;
    lVar2 = (uVar1 & 0xffff) * (ulong)param_3;
    uVar9 = (uint)((ulong)lVar2 >> 0x10);
    uVar4 = (uint)lVar2;
    uVar10 = uVar9 + uVar3;
    if (((CARRY2(uVar9,uVar3)) || (param_2 < uVar10)) || ((param_2 <= uVar10 && (param_1 < uVar4))))
    {
      bVar11 = uVar4 < param_3;
      uVar4 = uVar4 - param_3;
      uVar10 = (uVar10 - param_4) - (uint)bVar11;
    }
    iVar6 = -(uVar4 - param_1);
    iVar7 = -(uint)(uVar4 - param_1 != 0) - ((uVar10 - param_2) - (uint)(uVar4 < param_1));
  }
  return CONCAT22(iVar7,iVar6);
}



int __cdecl16far FUN_10a0_0a80(undefined4 param_1,undefined4 param_2)

{
  byte *pbVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte *pbVar5;
  byte *pbVar6;

  pbVar6 = (byte *)param_2;
  pbVar5 = (byte *)param_1;
  bVar4 = 0xff;
  do {
    do {
      if (bVar4 == 0) goto LAB_10a0_0abf;
      pbVar1 = pbVar6;
      pbVar6 = pbVar6 + 1;
      bVar4 = *pbVar1;
      bVar3 = *pbVar5;
      pbVar5 = pbVar5 + 1;
    } while (bVar3 == bVar4);
    bVar2 = bVar4 + 0xbf + (-((byte)(bVar4 + 0xbf) < 0x1a) & 0x20U) + 0x41;
    bVar3 = bVar3 + 0xbf;
    bVar4 = bVar3 + (-(bVar3 < 0x1a) & 0x20U) + 0x41;
  } while (bVar4 == bVar2);
  bVar4 = (bVar4 < bVar2) * -2 + 1;
LAB_10a0_0abf:
  return (int)(char)bVar4;
}



undefined2 * __cdecl16far FUN_10a0_0ac6(ulong param_1,undefined4 param_2,uint param_3)

{
  undefined *puVar1;
  undefined2 *puVar2;
  undefined *puVar3;
  undefined2 *puVar4;
  undefined *puVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  undefined *puVar9;
  undefined2 *puVar10;
  undefined2 *puVar11;
  undefined *puVar12;
  undefined2 *puVar13;
  uint uVar14;
  int iVar15;
  uint uVar16;
  long lVar17;

  puVar11 = (undefined2 *)param_1;
  if (param_3 != 0) {
    uVar16 = (uint)((ulong)param_2 >> 0x10);
    uVar8 = (uint)param_2;
    uVar14 = (uint)(param_1 >> 0x10);
    lVar17 = FUN_10a0_1030((uint)puVar11,uVar14,uVar8,uVar16);
    if ((lVar17 < 0) || ((uint)((uint)lVar17 < param_3) <= (uint)((ulong)lVar17 >> 0x10))) {
      while( true ) {
        iVar6 = (int)((ulong)param_2 >> 0x10);
        puVar10 = (undefined2 *)param_2;
        iVar15 = (int)(param_1 >> 0x10);
        puVar13 = (undefined2 *)param_1;
        uVar16 = ~(uint)puVar13;
        uVar16 = ((param_3 - 1) - uVar16 & -(uint)(param_3 - 1 < uVar16)) + uVar16;
        uVar14 = ~(uint)puVar10;
        uVar16 = (uVar16 - uVar14 & -(uint)(uVar16 < uVar14)) + uVar14 + 1;
        param_3 = param_3 - uVar16;
        for (uVar14 = uVar16 >> 1; uVar14 != 0; uVar14 = uVar14 - 1) {
          puVar4 = puVar13;
          puVar13 = puVar13 + 1;
          puVar2 = puVar10;
          puVar10 = puVar10 + 1;
          *puVar4 = *puVar2;
        }
        for (uVar16 = (uint)((uVar16 & 1) != 0); uVar16 != 0; uVar16 = uVar16 - 1) {
          puVar4 = puVar13;
          puVar13 = (undefined2 *)((int)puVar13 + 1);
          puVar2 = puVar10;
          puVar10 = (undefined2 *)((int)puVar10 + 1);
          *(undefined *)puVar4 = *(undefined *)puVar2;
        }
        if (param_3 == 0) break;
        if (puVar10 == (undefined2 *)0x0) {
          iVar6 = iVar6 + 0x90;
        }
        param_1 = param_1 & 0xffff0000 | ZEXT24(puVar13);
        param_2 = CONCAT22(iVar6,puVar10);
        if (puVar13 == (undefined2 *)0x0) {
          param_1 = (ulong)(iVar15 + 0x90) << 0x10;
          param_2 = CONCAT22(iVar6,puVar10);
        }
      }
    }
    else {
      uVar7 = param_3 - 1;
      puVar9 = (undefined *)(uVar8 + uVar7);
      if (CARRY2(uVar8,uVar7)) {
        uVar16 = uVar16 + 0x90;
      }
      puVar12 = (undefined *)((int)puVar11 + uVar7);
      if (CARRY2((uint)puVar11,uVar7)) {
        uVar14 = uVar14 + 0x90;
      }
      while( true ) {
        puVar5 = puVar9 + ((int)(puVar12 +
                                ((int)(undefined *)(param_3 - 1) - (int)puVar12 &
                                -(uint)((undefined *)(param_3 - 1) < puVar12))) - (int)puVar9 &
                          -(uint)(puVar12 + ((int)(undefined *)(param_3 - 1) - (int)puVar12 &
                                            -(uint)((undefined *)(param_3 - 1) < puVar12)) < puVar9)
                          ) + 1;
        param_3 = param_3 - (int)puVar5;
        for (; puVar5 != (undefined *)0x0; puVar5 = puVar5 + -1) {
          puVar3 = puVar12;
          puVar12 = puVar12 + -1;
          puVar1 = puVar9;
          puVar9 = puVar9 + -1;
          *puVar3 = *puVar1;
        }
        if (param_3 == 0) break;
        if (puVar9 == (undefined *)0xffff) {
          uVar16 = uVar16 - 0x90;
        }
        if (puVar12 == (undefined *)0xffff) {
          uVar14 = uVar14 - 0x90;
        }
      }
    }
  }
  return puVar11;
}



void FUN_10a0_0b96(void)

{
  FUN_10a0_1a62();
  return;
}



void FUN_10a0_0bb2(void)

{
  FUN_10a0_1a32();
  return;
}



void FUN_10a0_0bd8(void)

{
  FUN_10a0_1a62();
  return;
}



void FUN_10a0_0bde(void)

{
  FUN_10a0_1a62();
  return;
}



void FUN_10a0_0c0e(void)

{
  FUN_10a0_1a32();
  return;
}



undefined2 __cdecl16far FUN_10a0_0c14(void)

{
  longdouble in_ST0;
  undefined2 local_10;

  local_10 = (undefined2)(sqword)ROUND(in_ST0);
  return local_10;
}



void __cdecl16far FUN_10a0_0c66(void)

{
  FUN_1008_0000(PTR_DAT_10a8_0000_10a8_4c30,PTR_DAT_10a8_0000_10a8_4c2c,PTR_DAT_10a8_0000_10a8_4c2e,
                PTR_DAT_10a8_0000_10a8_4c28,PTR_DAT_10a8_0000_10a8_4c2a);
  return;
}



void __cdecl16far FUN_10a0_0c92(void)

{
  FUN_10a0_1c49(0xfc);
  FUN_10a0_1c49(0xff);
  return;
}



void FUN_10a0_0cb6(void)

{
  FUN_10a0_0f27();
  return;
}



// WARNING (jumptable): Unable to track spacebase fully for stack
// WARNING: Unable to track spacebase fully for stack

void __cdecl16far FUN_10a0_0cdc(undefined param_1)

{
  uint *puVar1;
  int in_AX;
  undefined *puVar2;
  uint uVar3;
  undefined2 unaff_SS;
  undefined2 in_stack_00000000;
  undefined2 in_stack_00000002;

  puVar2 = (undefined *)(in_AX + 1U & 0xfffe);
  if ((puVar2 < &param_1) &&
     (uVar3 = -((int)puVar2 - (int)&param_1), puVar1 = (uint *)0xa,
     *puVar1 < uVar3 || *puVar1 == uVar3)) {
    puVar1 = (uint *)&PTR_DAT_10a8_0000_10a8_000c;
    if (uVar3 <= *puVar1 && *puVar1 != uVar3) {
      *(uint *)&PTR_DAT_10a8_0000_10a8_000c = uVar3;
    }
    *(undefined2 *)(uVar3 - 2) = in_stack_00000002;
    *(undefined2 *)(uVar3 - 4) = in_stack_00000000;
    return;
  }
  if (DAT_10a8_4dbe != 0xffff) {
                    // WARNING: Could not recover jumptable at 0x10a00d05. Too many branches
                    // WARNING: Treating indirect jump as call
    (*(code *)(ulong)DAT_10a8_4dbe)();
    return;
  }
  FUN_10a0_0f27();
  return;
}



// WARNING (jumptable): Unable to track spacebase fully for stack
// WARNING: Unable to track spacebase fully for stack
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_10a0_0d10(undefined *param_1,undefined1 param_2 [10])

{
  char *pcVar1;
  char cVar2;
  int16 *piVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  char **ppcVar7;
  char *pcVar8;
  char *pcVar9;
  int iVar10;
  int iVar11;
  char *pcVar12;
  undefined2 uVar13;
  undefined2 unaff_SS;
  undefined2 uVar14;
  undefined *in_stack_00000000;
  HINSTANCE16 hModule;
  undefined2 in_stack_0000000e;

  PTR_DAT_10a8_0000_10a8_4dc4 = param_1;
  param_1._0_1_ = 0x21;
  param_1._1_1_ = 0xd;
  PTR_DAT_10a8_0000_10a8_4dc2 = in_stack_00000000;
  _PTR_PTR_DAT_10a8_0000_10a8_4ca0_10a8_4c9c = FUN_10a0_1c86();
  hModule = (HINSTANCE16)_PTR_PTR_DAT_10a8_0000_10a8_4ca0_10a8_4c9c;
  param_1._0_1_ = (undefined)((ulong)_PTR_PTR_DAT_10a8_0000_10a8_4ca0_10a8_4c9c >> 0x10);
  param_1._1_1_ = (undefined)((ulong)_PTR_PTR_DAT_10a8_0000_10a8_4ca0_10a8_4c9c >> 0x18);
  piVar3 = GETMODULEFILENAME((int16 *)s_starsmessage_10a8_0104,hModule,
                             (char *)CONCAT22(PTR_DAT_10a8_0000_10a8_4c2a,
                                              (int)((ulong)
                                                  _PTR_PTR_DAT_10a8_0000_10a8_4ca0_10a8_4c9c >> 0x10
                                                  )),
                             (int16)CONCAT214(in_stack_0000000e,
                                              CONCAT104(param_2,
                                                  _PTR_PTR_DAT_10a8_0000_10a8_4ca0_10a8_4c9c)));
  *(undefined *)(hModule + (int)piVar3) = 0;
  iVar6 = 1;
  iVar10 = 1;
  pcVar8 = (char *)((int)&PTR_DAT_10a8_0000_10a8_0080 + 1);
LAB_10a0_0d4e:
  do {
    do {
      pcVar1 = pcVar8;
      pcVar8 = pcVar8 + 1;
      cVar2 = *pcVar1;
    } while (cVar2 == ' ');
  } while (cVar2 == '\t');
  if ((cVar2 != '\r') && (cVar2 != '\0')) {
    iVar10 = iVar10 + 1;
    do {
      pcVar8 = pcVar8 + -1;
LAB_10a0_0d61:
      pcVar1 = pcVar8;
      pcVar8 = pcVar8 + 1;
      cVar2 = *pcVar1;
      if ((cVar2 == ' ') || (cVar2 == '\t')) goto LAB_10a0_0d4e;
      if ((cVar2 == '\r') || (cVar2 == '\0')) break;
      if (cVar2 == '\"') {
LAB_10a0_0d9a:
        do {
          while( true ) {
            while( true ) {
              pcVar1 = pcVar8;
              pcVar8 = pcVar8 + 1;
              cVar2 = *pcVar1;
              if ((cVar2 == '\r') || (cVar2 == '\0')) goto LAB_10a0_0dca;
              if (cVar2 == '\"') goto LAB_10a0_0d61;
              if (cVar2 == '\\') break;
              iVar6 = iVar6 + 1;
            }
            uVar4 = 0;
            do {
              pcVar12 = pcVar8;
              uVar4 = uVar4 + 1;
              pcVar8 = pcVar12 + 1;
              cVar2 = *pcVar12;
            } while (cVar2 == '\\');
            if (cVar2 == '\"') break;
            iVar6 = iVar6 + uVar4;
            pcVar8 = pcVar12;
          }
          iVar6 = iVar6 + (uVar4 >> 1) + (uint)((uVar4 & 1) != 0);
        } while ((uVar4 & 1) != 0);
        goto LAB_10a0_0d61;
      }
      if (cVar2 != '\\') {
        iVar6 = iVar6 + 1;
        goto LAB_10a0_0d61;
      }
      uVar4 = 0;
      do {
        uVar4 = uVar4 + 1;
        pcVar1 = pcVar8;
        pcVar8 = pcVar8 + 1;
        cVar2 = *pcVar1;
      } while (cVar2 == '\\');
      if (cVar2 == '\"') {
        iVar6 = iVar6 + (uVar4 >> 1) + (uint)((uVar4 & 1) != 0);
        if ((uVar4 & 1) == 0) goto LAB_10a0_0d9a;
        goto LAB_10a0_0d61;
      }
      iVar6 = iVar6 + uVar4;
    } while( true );
  }
LAB_10a0_0dca:
  param_1._0_1_ = (undefined)unaff_SS;
  param_1._1_1_ = (undefined)((uint)unaff_SS >> 8);
  *(int *)&PTR_DAT_10a8_0000_10a8_4c96 = iVar10;
  iVar11 = (iVar10 + 1) * 2;
  iVar6 = -(iVar6 + iVar10 + iVar11 + 1U & 0xfffe);
  *(undefined1 **)0x4c98 = param_2 + iVar6;
  pcVar12 = param_2 + iVar11 + iVar6;
  *(undefined2 *)(param_2 + iVar6 + -2) = unaff_SS;
  uVar13 = *(undefined2 *)(param_2 + iVar6 + -2);
  *(int *)(param_2 + iVar6) = (int)*(undefined4 *)&PTR_PTR_DAT_10a8_0000_10a8_4ca0_10a8_4c9c;
  ppcVar7 = (char **)(param_2 + iVar6 + 2);
  uVar14 = *(undefined2 *)&PTR_DAT_10a8_0000_10a8_4c5c;
  pcVar8 = (char *)((int)&PTR_DAT_10a8_0000_10a8_0080 + 1);
LAB_10a0_0dfe:
  do {
    do {
      pcVar1 = pcVar8;
      pcVar8 = pcVar8 + 1;
      cVar2 = *pcVar1;
    } while (cVar2 == ' ');
  } while (cVar2 == '\t');
  if ((cVar2 == '\r') || (cVar2 == '\0')) {
LAB_10a0_0e87:
    *(undefined2 *)(param_2 + iVar6 + -2) = unaff_SS;
    uVar14 = *(undefined2 *)(param_2 + iVar6 + -2);
    *ppcVar7 = (char *)0x0;
                    // WARNING: Could not recover jumptable at 0x10a00e8d. Too many branches
                    // WARNING: Treating indirect jump as call
    (*(code *)(ulong)*(uint *)&PTR_DAT_10a8_0000_10a8_4dc2)();
    return;
  }
  *ppcVar7 = pcVar12;
  ppcVar7 = ppcVar7 + 1;
  do {
    pcVar8 = pcVar8 + -1;
LAB_10a0_0e15:
    pcVar1 = pcVar8;
    pcVar8 = pcVar8 + 1;
    cVar2 = *pcVar1;
    if ((cVar2 == ' ') || (cVar2 == '\t')) {
      pcVar1 = pcVar12;
      pcVar12 = pcVar12 + 1;
      *pcVar1 = '\0';
      goto LAB_10a0_0dfe;
    }
    if ((cVar2 == '\r') || (cVar2 == '\0')) {
LAB_10a0_0e84:
      *pcVar12 = '\0';
      goto LAB_10a0_0e87;
    }
    pcVar9 = pcVar8;
    if (cVar2 == '\"') {
LAB_10a0_0e51:
      while( true ) {
        pcVar8 = pcVar9 + 1;
        cVar2 = *pcVar9;
        if ((cVar2 == '\r') || (cVar2 == '\0')) goto LAB_10a0_0e84;
        if (cVar2 == '\"') break;
        if (cVar2 == '\\') {
          uVar4 = 0;
          do {
            pcVar9 = pcVar8;
            uVar4 = uVar4 + 1;
            pcVar8 = pcVar9 + 1;
            cVar2 = *pcVar9;
          } while (cVar2 == '\\');
          if (cVar2 == '\"') {
            for (uVar5 = uVar4 >> 1; uVar5 != 0; uVar5 = uVar5 - 1) {
              pcVar1 = pcVar12;
              pcVar12 = pcVar12 + 1;
              *pcVar1 = '\\';
            }
            if ((uVar4 & 1) == 0) break;
            pcVar1 = pcVar12;
            pcVar12 = pcVar12 + 1;
            *pcVar1 = '\"';
            pcVar9 = pcVar8;
          }
          else {
            for (; uVar4 != 0; uVar4 = uVar4 - 1) {
              pcVar1 = pcVar12;
              pcVar12 = pcVar12 + 1;
              *pcVar1 = '\\';
            }
          }
        }
        else {
          pcVar1 = pcVar12;
          pcVar12 = pcVar12 + 1;
          *pcVar1 = cVar2;
          pcVar9 = pcVar8;
        }
      }
      goto LAB_10a0_0e15;
    }
    if (cVar2 != '\\') {
      pcVar1 = pcVar12;
      pcVar12 = pcVar12 + 1;
      *pcVar1 = cVar2;
      goto LAB_10a0_0e15;
    }
    uVar4 = 0;
    do {
      uVar4 = uVar4 + 1;
      pcVar1 = pcVar8;
      pcVar8 = pcVar8 + 1;
      cVar2 = *pcVar1;
    } while (cVar2 == '\\');
    if (cVar2 == '\"') {
      for (uVar5 = uVar4 >> 1; uVar5 != 0; uVar5 = uVar5 - 1) {
        pcVar1 = pcVar12;
        pcVar12 = pcVar12 + 1;
        *pcVar1 = '\\';
      }
      pcVar9 = pcVar8;
      if ((uVar4 & 1) == 0) goto LAB_10a0_0e51;
      pcVar1 = pcVar12;
      pcVar12 = pcVar12 + 1;
      *pcVar1 = '\"';
      goto LAB_10a0_0e15;
    }
    for (; uVar4 != 0; uVar4 = uVar4 - 1) {
      pcVar1 = pcVar12;
      pcVar12 = pcVar12 + 1;
      *pcVar1 = '\\';
    }
  } while( true );
}



void __cdecl16far FUN_10a0_0e92(void)

{
  int *piVar1;
  char *pcVar2;
  int *piVar3;
  char cVar4;
  char **ppcVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  int *piVar10;
  char *pcVar11;
  int *piVar12;
  undefined2 unaff_SS;
  bool bVar13;
  dword dVar14;

  dVar14 = GETDOSENVIRONMENT();
  iVar7 = (int)(dVar14 >> 0x10);
  if ((int)dVar14 != 0) {
    iVar7 = 0;
  }
  iVar8 = 0;
  pcVar11 = (char *)0x0;
  iVar6 = -1;
  if (iVar7 != 0) {
    cVar4 = *(char *)0x0;
    while (cVar4 != '\0') {
      do {
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        pcVar2 = pcVar11;
        pcVar11 = pcVar11 + 1;
      } while (*pcVar2 != '\0');
      iVar8 = iVar8 + 1;
      pcVar2 = pcVar11;
      pcVar11 = pcVar11 + 1;
      cVar4 = *pcVar2;
    }
  }
  pcVar11 = (char *)FUN_10a0_1c86();
  ppcVar5 = (char **)FUN_10a0_1c86();
  piVar9 = (int *)0x0;
  PTR_DAT_10a8_0000_10a8_4c9a = (undefined *)ppcVar5;
  do {
    if (iVar8 == 0) {
      *ppcVar5 = (char *)0x0;
      return;
    }
    bVar13 = *piVar9 == *(int *)s__C_FILE_INFO__10a8_4c3a;
    if (bVar13) {
      piVar12 = (int *)s__C_FILE_INFO__10a8_4c3a;
      iVar6 = 6;
      piVar10 = piVar9;
      do {
        if (iVar6 == 0) break;
        iVar6 = iVar6 + -1;
        piVar3 = piVar12;
        piVar12 = piVar12 + 1;
        piVar1 = piVar10;
        piVar10 = piVar10 + 1;
        bVar13 = *piVar1 == *piVar3;
      } while (bVar13);
      if (!bVar13) goto LAB_10a0_0f08;
    }
    else {
LAB_10a0_0f08:
      *ppcVar5 = pcVar11;
      ppcVar5 = ppcVar5 + 1;
    }
    do {
      piVar1 = piVar9;
      piVar9 = (int *)((int)piVar9 + 1);
      cVar4 = *(char *)piVar1;
      pcVar2 = pcVar11;
      pcVar11 = pcVar11 + 1;
      *pcVar2 = cVar4;
    } while (cVar4 != '\0');
    iVar8 = iVar8 + -1;
  } while( true );
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined2 FUN_10a0_0f27(void)

{
  char *pcVar1;
  int *piVar2;
  int in_AX;
  int *piVar3;
  int iVar4;
  char extraout_DH;
  char cVar5;
  int unaff_BP;
  int unaff_SI;
  int *piVar6;
  undefined2 unaff_SS;
  unkbyte10 in_stack_00000000;
  LPCSTR in_stack_0000000a;

  iVar4 = in_AX;
  FUN_10a0_0c92();
  FUN_10a0_1c49(in_AX);
  cVar5 = extraout_DH;
  piVar3 = FUN_10a0_1c12(iVar4);
  if (piVar3 != (int *)0x0) {
    iVar4 = 9;
    if (*(char *)piVar3 == 'M') {
      iVar4 = 0xf;
    }
    piVar3 = (int *)((int)piVar3 + iVar4);
    iVar4 = 0x22;
    piVar6 = piVar3;
    do {
      if (iVar4 == 0) break;
      iVar4 = iVar4 + -1;
      piVar2 = piVar6;
      piVar6 = (int *)((int)piVar6 + 1);
    } while (*(char *)piVar2 != '\r');
    *(char *)((int)piVar6 + -1) = '\0';
  }
  FATALAPPEXIT((uint16)CONCAT106(in_stack_00000000,(uint6)CONCAT22(0x10a8,piVar3)),in_stack_0000000a
              );
  FATALEXIT(0xff);
  pcVar1 = (char *)(unaff_BP + unaff_SI + 0x1f);
  *pcVar1 = *pcVar1 + cVar5;
  return 0;
}



undefined2 __cdecl16far FUN_10a0_0f6a(void)

{
  bool in_CF;

  if (!in_CF) {
    return 0;
  }
  FUN_10a0_0fa1();
  return 0xffff;
}



void __cdecl16far FUN_10a0_0f89(void)

{
  bool in_CF;

  if (in_CF) {
    FUN_10a0_0fa1();
  }
  return;
}



void __cdecl16near FUN_10a0_0fa1(void)

{
  char cVar1;
  uint in_AX;

  PTR_DAT_10a8_0000_10a8_4c66._0_1_ = (byte)in_AX;
  cVar1 = (char)(in_AX >> 8);
  if (cVar1 != '\0') goto LAB_10a0_0fbe;
  if ((byte)PTR_DAT_10a8_0000_10a8_4c66 < 0x22) {
    if ((byte)PTR_DAT_10a8_0000_10a8_4c66 < 0x20) {
      if (0x13 < (byte)PTR_DAT_10a8_0000_10a8_4c66) goto LAB_10a0_0fb8;
    }
    else {
      in_AX = 5;
    }
  }
  else {
LAB_10a0_0fb8:
    in_AX = 0x13;
  }
  cVar1 = *(char *)(ulong)((in_AX & 0xff) + 0x4dc6);
LAB_10a0_0fbe:
  PTR_DAT_10a8_0000_10a8_4c56 = (undefined *)(int)cVar1;
  return;
}



int __cdecl16far FUN_10a0_0fc8(void)

{
  int iVar1;

  if (PTR_DAT_10a8_0000_10a8_4c26 < &stack0x0004) {
    iVar1 = -((int)PTR_DAT_10a8_0000_10a8_4c26 - (int)&stack0x0004);
  }
  else {
    iVar1 = 0;
  }
  return iVar1;
}



int __cdecl16far FUN_10a0_0fdc(byte *param_1)

{
  byte *pbVar1;
  byte bVar2;
  byte bVar3;
  int iVar4;

  iVar4 = 0;
  do {
    do {
      pbVar1 = param_1;
      param_1 = param_1 + 1;
      bVar2 = *pbVar1;
    } while (bVar2 == 0x20);
  } while (bVar2 == 9);
  if ((bVar2 != 0x2d) && (bVar3 = bVar2, bVar2 != 0x2b)) goto LAB_10a0_0ffc;
  while( true ) {
    pbVar1 = param_1;
    param_1 = param_1 + 1;
    bVar3 = *pbVar1;
LAB_10a0_0ffc:
    if ((0x39 < bVar3) || (bVar3 < 0x30)) break;
    iVar4 = iVar4 * 10 + (uint)(byte)(bVar3 - 0x30);
  }
  if (bVar2 == 0x2d) {
    iVar4 = -iVar4;
  }
  return iVar4;
}



undefined4 __stdcall16far FUN_10a0_1030(uint param_1,uint param_2,uint param_3,uint param_4)

{
  return CONCAT22(((param_2 >> 0xc) - (param_4 >> 0xc)) - (uint)(param_1 < param_3),
                  param_1 - param_3);
}



byte * __cdecl16far FUN_10a0_105c(void)

{
  byte *pbVar1;
  ulong uVar2;
  byte bVar3;
  uint in_AX;
  uint uVar5;
  uint in_CX;
  uint in_DX;
  uint uVar6;
  char in_BL;
  byte *pbVar7;
  byte *unaff_DI;
  byte *pbVar8;
  byte *pbVar9;
  bool bVar10;
  char cVar4;

  pbVar8 = unaff_DI;
  pbVar7 = unaff_DI;
  if (((in_BL != '\0') && (in_CX == 10)) && ((int)in_DX < 0)) {
    pbVar8 = unaff_DI + 1;
    *unaff_DI = 0x2d;
    bVar10 = in_AX != 0;
    in_AX = -in_AX;
    in_DX = -(in_DX + bVar10);
    pbVar7 = pbVar8;
  }
  do {
    uVar6 = 0;
    uVar5 = in_DX;
    if (in_DX != 0) {
      uVar5 = in_DX / in_CX;
      uVar6 = in_DX % in_CX;
    }
    uVar2 = CONCAT22(uVar6,in_AX);
    in_AX = (uint)(uVar2 / in_CX);
    cVar4 = (char)(uVar2 % (ulong)in_CX);
    bVar3 = cVar4 + 0x30;
    if (0x39 < bVar3) {
      bVar3 = cVar4 + 0x57;
    }
    pbVar9 = pbVar8 + 1;
    *pbVar8 = bVar3;
    in_DX = uVar5;
    pbVar8 = pbVar9;
  } while ((uVar5 | in_AX) != 0);
  *pbVar9 = 0;
  do {
    pbVar9 = pbVar9 + -1;
    pbVar1 = pbVar9;
    bVar3 = *pbVar1;
    *pbVar1 = *pbVar7;
    *pbVar7 = bVar3;
    pbVar8 = pbVar7 + 2;
    pbVar7 = pbVar7 + 1;
  } while (pbVar8 < pbVar9);
  return unaff_DI;
}



// WARNING: Could not reconcile some variable overlaps

uint __cdecl16far FUN_10a0_147e(byte *param_1)

{
  byte bVar1;
  byte *pbVar2;
  uint uVar3;
  undefined2 uVar4;
  byte *local_8;

  uVar3 = (int)s_From___s_c_c_10a8_10a2 + 6;
  while( true ) {
    pbVar2 = param_1;
    uVar4 = (undefined2)((ulong)param_1 >> 0x10);
    if ((*param_1 == 0) || (*param_1 == 0x2e)) break;
    param_1 = (byte *)((ulong)param_1 & 0xffff0000 | (ulong)((int)(char *)param_1 + 1));
  }
  param_1 = (byte *)((ulong)param_1 & 0xffff0000 | (ulong)((int)(char *)param_1 + 1));
  if (*pbVar2 != 0) {
    for (; ((*(char *)param_1 != '\0' && (*(char *)param_1 != 'e')) && (*(char *)param_1 != 'E'));
        param_1 = (byte *)((ulong)param_1 & 0xffff0000 | ZEXT24((char *)param_1 + 1))) {
    }
    local_8 = (byte *)((ulong)pbVar2 & 0xffff0000 | (ulong)param_1 & 0xffff);
    for (param_1 = (byte *)((ulong)param_1 & 0xffff0000 | ZEXT24((char *)param_1 + -1));
        *(char *)param_1 == '0';
        param_1 = (byte *)((ulong)param_1 & 0xffff0000 | ZEXT24((char *)param_1 + -1))) {
    }
    if (*(char *)param_1 == '.') {
      param_1 = (byte *)((ulong)param_1 & 0xffff0000 | ZEXT24((char *)param_1 + -1));
    }
    do {
      pbVar2 = local_8;
      local_8 = (byte *)((ulong)local_8 & 0xffff0000 | (ulong)((int)local_8 + 1));
      bVar1 = *pbVar2;
      uVar3 = uVar3 & 0xff00 | (uint)bVar1;
      param_1 = (byte *)((ulong)param_1 & 0xffff0000 | (ulong)((int)(char *)param_1 + 1));
      *param_1 = bVar1;
    } while (bVar1 != 0);
  }
  return uVar3;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool __cdecl16far FUN_10a0_1502(double *param_1)

{
  return _PTR_DAT_10a8_0000_10a8_52c8 <= *param_1;
}



void __cdecl16far FUN_10a0_1538(int param_1,float *param_2,char *param_3)

{
  undefined2 *puVar1;
  double *pdVar2;
  int iVar3;
  undefined2 uVar4;

  if (param_1 == 0) {
    pdVar2 = (double *)FUN_10a0_1cc4(param_3);
    *param_2 = (float)*pdVar2;
  }
  else {
    puVar1 = (undefined2 *)FUN_10a0_1cc4(param_3);
    uVar4 = (undefined2)((ulong)param_2 >> 0x10);
    iVar3 = (int)param_2;
    *(undefined2 *)param_2 = *puVar1;
    *(undefined2 *)(iVar3 + 2) = puVar1[1];
    *(undefined2 *)(iVar3 + 4) = puVar1[2];
    *(undefined2 *)(iVar3 + 6) = puVar1[3];
  }
  return;
}



// WARNING: Could not reconcile some variable overlaps

undefined * __cdecl16far
FUN_10a0_1582(undefined2 *param_1,undefined *param_2,undefined2 param_3,int param_4,int param_5)

{
  undefined *puVar1;
  int iVar2;
  int iVar3;
  undefined2 uVar4;
  undefined4 local_a;
  int *local_6;

  if ((char)PTR_DAT_10a8_0000_10a8_4faa == '\0') {
    uVar4 = (undefined2)((ulong)param_1 >> 0x10);
    iVar2 = (int)param_1;
    local_6 = (int *)FUN_10a0_24ea(*param_1,(undefined *)*(undefined2 *)(iVar2 + 2),
                                   (undefined *)*(undefined2 *)(iVar2 + 4),
                                   (undefined *)*(undefined2 *)(iVar2 + 6));
    FUN_10a0_1d10((undefined2 *)
                  CONCAT22(param_3,param_2 + (uint)(0 < param_4) + (uint)(*local_6 == 0x2d)),
                  param_4 + 1,(int)local_6);
  }
  else {
    local_6 = (int *)PTR_DAT_10a8_0000_10a8_56dc;
    FUN_10a0_19fe((uint)(0 < param_4),(int)(param_2 + (*(int *)PTR_DAT_10a8_0000_10a8_56dc == 0x2d))
                  ,param_3);
  }
  puVar1 = param_2;
  if (*local_6 == 0x2d) {
    *param_2 = 0x2d;
    puVar1 = param_2 + 1;
  }
  local_a = (char *)CONCAT22(param_3,puVar1);
  if (0 < param_4) {
    *local_a = puVar1[1];
    local_a = (char *)CONCAT22(param_3,puVar1 + 1);
    puVar1[1] = 0x2e;
  }
  iVar2 = FUN_10a0_1e12((undefined2 *)
                        ((ulong)local_a & 0xffff0000 |
                        (ulong)((uint)((char)PTR_DAT_10a8_0000_10a8_4faa == '\0') + (int)local_a +
                               param_4)),
                        (undefined2 *)((long)&PTR_PTR_DAT_10a8_0000_10a8_6500_10a8_4fae + 1));
  local_a = (char *)CONCAT22(local_a._2_2_,iVar2);
  if (param_5 != 0) {
    *local_a = 0x45;
  }
  local_a = (char *)CONCAT22(local_a._2_2_,iVar2 + 1);
  if (*(char *)local_6[3] != '0') {
    iVar3 = local_6[1] + -1;
    if (iVar3 < 0) {
      iVar3 = -iVar3;
      *local_a = 0x2d;
    }
    local_a = (char *)CONCAT22(local_a._2_2_,iVar2 + 2);
    if (99 < iVar3) {
      *local_a = *local_a + (char)(iVar3 / 100);
      iVar3 = iVar3 % 100;
    }
    local_a = (char *)CONCAT22(local_a._2_2_,iVar2 + 3);
    if (9 < iVar3) {
      *local_a = *local_a + (char)(iVar3 / 10);
      iVar3 = iVar3 % 10;
    }
    local_a = (char *)CONCAT22(local_a._2_2_,iVar2 + 4);
    *local_a = *local_a + (char)iVar3;
  }
  return param_2;
}



void __cdecl16far
FUN_10a0_1704(undefined2 param_1,undefined2 param_2,undefined *param_3,undefined2 param_4,
             int param_5,int param_6)

{
  PTR_DAT_10a8_0000_10a8_4faa._0_1_ = 1;
  FUN_10a0_1582((undefined2 *)CONCAT22(param_2,param_1),param_3,param_4,param_5,param_6);
  PTR_DAT_10a8_0000_10a8_4faa._0_1_ = 0;
  return;
}



undefined * __cdecl16far
FUN_10a0_1738(undefined2 *param_1,undefined *param_2,undefined2 param_3,undefined *param_4)

{
  undefined *puVar1;
  undefined *puVar2;
  int iVar3;
  undefined2 uVar4;
  undefined *local_a;
  int *local_6;

  puVar1 = PTR_DAT_10a8_0000_10a8_4fac;
  if ((char)PTR_DAT_10a8_0000_10a8_4faa == '\0') {
    uVar4 = (undefined2)((ulong)param_1 >> 0x10);
    iVar3 = (int)param_1;
    local_6 = (int *)FUN_10a0_24ea(*param_1,(undefined *)*(undefined2 *)(iVar3 + 2),
                                   (undefined *)*(undefined2 *)(iVar3 + 4),
                                   (undefined *)*(undefined2 *)(iVar3 + 6));
    FUN_10a0_1d10((undefined2 *)CONCAT22(param_3,param_2 + (*local_6 == 0x2d)),
                  (int)(param_4 + local_6[1]),(int)local_6);
  }
  else {
    local_6 = (int *)PTR_DAT_10a8_0000_10a8_56dc;
    iVar3 = *(int *)PTR_DAT_10a8_0000_10a8_56dc;
    if (param_4 == PTR_DAT_10a8_0000_10a8_4fac) {
      (param_2 + (iVar3 == 0x2d))[(int)PTR_DAT_10a8_0000_10a8_4fac] = 0x30;
      (param_2 + (iVar3 == 0x2d) + (int)puVar1)[1] = 0;
    }
  }
  puVar1 = param_2;
  if (*local_6 == 0x2d) {
    *param_2 = 0x2d;
    puVar1 = param_2 + 1;
  }
  local_a = (undefined *)CONCAT22(param_3,puVar1);
  if (local_6[1] < 1) {
    FUN_10a0_19fe(1,(int)puVar1,param_3);
    puVar1 = puVar1 + 1;
    *local_a = 0x30;
  }
  else {
    puVar1 = puVar1 + local_6[1];
  }
  local_a = (undefined *)CONCAT22(param_3,puVar1);
  if (0 < (int)param_4) {
    FUN_10a0_19fe(1,(int)puVar1,param_3);
    *local_a = 0x2e;
    if (local_6[1] < 0) {
      if ((char)PTR_DAT_10a8_0000_10a8_4faa == '\0') {
        iVar3 = local_6[1];
        puVar2 = (undefined *)-iVar3;
        if (-(int)param_4 != iVar3 && (int)param_4 <= (int)puVar2) {
          puVar2 = param_4;
        }
      }
      else {
        puVar2 = (undefined *)-local_6[1];
      }
      FUN_10a0_19fe((int)puVar2,(int)(puVar1 + 1),param_3);
      FUN_10a0_1e4e(CONCAT22(param_3,puVar1 + 1),0x30,(uint)puVar2);
    }
  }
  return param_2;
}



void __cdecl16far
FUN_10a0_1888(undefined2 param_1,undefined2 param_2,undefined *param_3,undefined2 param_4,
             undefined *param_5)

{
  PTR_DAT_10a8_0000_10a8_4faa._0_1_ = 1;
  FUN_10a0_1738((undefined2 *)CONCAT22(param_2,param_1),param_3,param_4,param_5);
  PTR_DAT_10a8_0000_10a8_4faa._0_1_ = 0;
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far
FUN_10a0_18ba(undefined2 *param_1,undefined *param_2,undefined2 param_3,undefined *param_4,
             int param_5)

{
  ulong uVar1;
  char *pcVar2;
  undefined *puVar3;
  int iVar4;
  undefined2 uVar5;
  char *local_8;

  uVar5 = (undefined2)((ulong)param_1 >> 0x10);
  iVar4 = (int)param_1;
  PTR_DAT_10a8_0000_10a8_56dc =
       (undefined *)
       FUN_10a0_24ea(*param_1,(undefined *)*(undefined2 *)(iVar4 + 2),
                     (undefined *)*(undefined2 *)(iVar4 + 4),(undefined *)*(undefined2 *)(iVar4 + 6)
                    );
  PTR_DAT_10a8_0000_10a8_4fac = (undefined *)(*(int *)((int)PTR_DAT_10a8_0000_10a8_56dc + 2) + -1);
  local_8 = (char *)CONCAT22(param_3,param_2 + (*(int *)PTR_DAT_10a8_0000_10a8_56dc == 0x2d));
  FUN_10a0_1d10((undefined2 *)
                CONCAT22(param_3,param_2 + (*(int *)PTR_DAT_10a8_0000_10a8_56dc == 0x2d)),
                (int)param_4,(int)PTR_DAT_10a8_0000_10a8_56dc);
  puVar3 = (undefined *)(*(int *)(PTR_DAT_10a8_0000_10a8_56dc + 2) + -1);
  PTR_PTR_DAT_10a8_0000_10a8_6500_10a8_4fae._0_1_ = (int)PTR_DAT_10a8_0000_10a8_4fac < (int)puVar3;
  PTR_DAT_10a8_0000_10a8_4fac = puVar3;
  if (((int)puVar3 < -4) || ((int)param_4 <= (int)puVar3)) {
    FUN_10a0_1704(iVar4,uVar5,param_2,param_3,(int)param_4,param_5);
  }
  else {
    if ((bool)PTR_PTR_DAT_10a8_0000_10a8_6500_10a8_4fae._0_1_) {
      do {
        pcVar2 = local_8;
        uVar1 = (ulong)local_8 >> 0x10;
        local_8 = (char *)((ulong)local_8 & 0xffff0000 | (ulong)((int)local_8 + 1));
      } while (*pcVar2 != '\0');
      *(undefined *)((int)local_8 + -1) = 0;
    }
    FUN_10a0_1888(iVar4,uVar5,param_2,param_3,param_4);
  }
  return;
}



void __cdecl16far
FUN_10a0_1990(undefined2 param_1,undefined2 param_2,undefined *param_3,undefined2 param_4,
             int param_5,undefined *param_6,int param_7)

{
  if ((param_5 == 0x65) || (param_5 == 0x45)) {
    FUN_10a0_1582((undefined2 *)CONCAT22(param_2,param_1),param_3,param_4,(int)param_6,param_7);
  }
  else if (param_5 == 0x66) {
    FUN_10a0_1738((undefined2 *)CONCAT22(param_2,param_1),param_3,param_4,param_6);
  }
  else {
    FUN_10a0_18ba((undefined2 *)CONCAT22(param_2,param_1),param_3,param_4,param_6,param_7);
  }
  return;
}



void FUN_10a0_19fe(int param_1,int param_2,undefined2 param_3)

{
  uint uVar1;

  if (param_1 != 0) {
    uVar1 = FUN_10a0_1df8(CONCAT22(param_3,param_2));
    FUN_10a0_0ac6(CONCAT22(param_3,param_2 + param_1),CONCAT22(param_3,param_2),uVar1 + 1);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_10a0_1a32(void)

{
  longdouble in_ST0;
  longdouble in_ST1;

  if ((char)PTR_DAT_10a8_0000_10a8_516e == '\0') {
    _PTR_DAT_10a8_0000_10a8_4fba = (double)in_ST1;
    _PTR_DAT_10a8_0000_10a8_4fc2 = (double)in_ST0;
  }
  FUN_10a0_1ed8();
  PTR_DAT_10a8_0000_10a8_4fea._0_1_ = 1;
  FUN_10a0_1ac1();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_10a0_1a62(void)

{
  longdouble in_ST0;

  if ((char)PTR_DAT_10a8_0000_10a8_516e == '\0') {
    _PTR_DAT_10a8_0000_10a8_4fba = (double)in_ST0;
  }
  FUN_10a0_1e96();
  PTR_DAT_10a8_0000_10a8_4fea._0_1_ = 1;
  FUN_10a0_1ac1();
  return;
}



// WARNING: Removing unreachable block (ram,0x10a01afd)
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

char FUN_10a0_1a8e(undefined2 param_1_00,undefined8 param_2,double param_3)

{
  char cVar1;
  longdouble lVar2;
  char cStack_13;
  int iStack_12;

  lVar2 = (longdouble)param_3;
  FUN_10a0_1ed8();
  PTR_DAT_10a8_0000_10a8_4fea._0_1_ = 0;
  if (((cStack_13 < '\x01') || (cStack_13 == '\x06')) &&
     (_PTR_DAT_10a8_0000_10a8_4c4c = (double)lVar2, cStack_13 != '\x06')) {
    _PTR_DAT_10a8_0000_10a8_4c4c = (double)lVar2;
    return 'L';
  }
  PTR_DAT_10a8_0000_10a8_4fb6 = (undefined *)(int)cStack_13;
  PTR_DAT_10a8_0000_10a8_4fb8 = (undefined *)(iStack_12 + 1);
  DAT_10a8_4fe9 = 0;
  if (((*(int *)PTR_DAT_10a8_0000_10a8_4fb8 == 0x6f6c) && (*(char *)(iStack_12 + 3) == 'g')) &&
     (cStack_13 == '\x02')) {
    DAT_10a8_4fe9 = 1;
  }
  _PTR_DAT_10a8_0000_10a8_4fba = param_2;
  if (*(char *)(iStack_12 + 0xd) != '\x01') {
    _PTR_DAT_10a8_0000_10a8_4fc2 = param_3;
  }
                    // WARNING: Could not recover jumptable at 0x10a01b57. Too many branches
                    // WARNING: Treating indirect jump as call
  cVar1 = (**(code **)((byte)((undefined *)
                             ((int)PTR_DAT_10a8_0000_10a8_4fb8 + (int)PTR_DAT_10a8_0000_10a8_4fb6))
                             [5] + 0x4fd2))();
  return cVar1;
}



// WARNING (jumptable): Unable to track spacebase fully for stack
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

uint __cdecl16far FUN_10a0_1ac1(void)

{
  byte bVar1;
  int iVar2;
  uint in_AX;
  uint uVar3;
  int unaff_BP;
  undefined2 unaff_SS;
  uint in_FPUStatusWord;
  longdouble in_ST0;

  bVar1 = *(byte *)(unaff_BP + -0x11);
  uVar3 = in_AX & 0xff00 | (uint)bVar1;
  if (((char)bVar1 < '\x01') || (bVar1 == 6)) {
    _PTR_DAT_10a8_0000_10a8_4c4c = (double)in_ST0;
    *(int *)(unaff_BP + -10) = (in_FPUStatusWord >> 8 & 0x7f) << 8;
    if ((*(uint *)(unaff_BP + -10) & 8) == 0) {
      if (bVar1 != 6) {
        if ((char)PTR_DAT_10a8_0000_10a8_4fea == '\0') {
          _PTR_DAT_10a8_0000_10a8_4c4c = (double)in_ST0;
          uVar3 = (uint)&PTR_DAT_10a8_0000_10a8_4c4c;
        }
        return uVar3;
      }
    }
    else {
      uVar3 = 3;
    }
  }
  PTR_DAT_10a8_0000_10a8_4fb6 = (undefined *)(int)(char)uVar3;
  iVar2 = *(int *)(unaff_BP + -0x10);
  PTR_DAT_10a8_0000_10a8_4fb8 = (undefined *)(iVar2 + 1);
  DAT_10a8_4fe9 = 0;
  if (((*(int *)PTR_DAT_10a8_0000_10a8_4fb8 == 0x6f6c) && (*(char *)(iVar2 + 3) == 'g')) &&
     ((char)uVar3 == '\x02')) {
    DAT_10a8_4fe9 = 1;
  }
  if (((char)PTR_DAT_10a8_0000_10a8_4fea == '\0') &&
     (_PTR_DAT_10a8_0000_10a8_4fba = *(undefined8 *)(unaff_BP + 6), *(char *)(iVar2 + 0xd) != '\x01'
     )) {
    _PTR_DAT_10a8_0000_10a8_4fc2 = *(undefined8 *)(unaff_BP + 0xe);
  }
                    // WARNING: Could not recover jumptable at 0x10a01b57. Too many branches
                    // WARNING: Treating indirect jump as call
  uVar3 = (**(code **)((byte)((undefined *)
                             ((int)PTR_DAT_10a8_0000_10a8_4fb8 + (int)PTR_DAT_10a8_0000_10a8_4fb6))
                             [5] + 0x4fd2))();
  return uVar3;
}



void __cdecl16near FUN_10a0_1c06(void)

{
  return;
}



void FUN_10a0_1c0b(void)

{
  FUN_10a0_0f27();
  return;
}



int * __stdcall16far FUN_10a0_1c12(int param_1)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;

  piVar4 = (int *)&PTR_DAT_10a8_0000_10a8_52d8;
  do {
    piVar1 = piVar4;
    piVar4 = piVar4 + 1;
    iVar3 = *piVar1;
    piVar2 = piVar4;
    if ((iVar3 == param_1) || (piVar2 = (int *)(iVar3 + 1), piVar2 == (int *)0x0)) {
      return piVar2;
    }
    iVar3 = -1;
    do {
      if (iVar3 == 0) break;
      iVar3 = iVar3 + -1;
      piVar1 = piVar4;
      piVar4 = (int *)((int)piVar4 + 1);
    } while (*(char *)piVar1 != '\0');
  } while( true );
}



void __stdcall16far FUN_10a0_1c49(int param_1)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  undefined2 unaff_ES;

  if (PTR_DAT_10a8_0000_10a8_4fec != (undefined *)0x0) {
    piVar2 = FUN_10a0_1c12(param_1);
    if (piVar2 != (int *)0x0) {
      iVar3 = -1;
      do {
        if (iVar3 == 0) break;
        iVar3 = iVar3 + -1;
        piVar1 = piVar2;
        piVar2 = (int *)((int)piVar2 + 1);
      } while (*(char *)piVar1 != '\0');
      FUN_10a0_1c0b();
    }
  }
  return;
}



void __cdecl16near FUN_10a0_1c86(void)

{
  undefined2 uVar1;
  word in_AX;
  HLOCAL16 HVar2;

  uVar1 = DAT_10a8_5170;
  DAT_10a8_5170 = 0x1000;
  HVar2 = FUN_10a0_2b18(in_AX);
  DAT_10a8_5170 = uVar1;
  if (HVar2 != 0) {
    return;
  }
  FUN_10a0_0f27();
  return;
}



undefined2 __cdecl16far FUN_10a0_1cb4(void)

{
  undefined2 unaff_SS;

  if (___EXPORTEDSTUB != (code)0xb8) {
    return unaff_SS;
  }
  return uRam10a02555;
}



void __cdecl16far FUN_10a0_1cc4(char *param_1)

{
  int iVar1;

  while ((*(byte *)(*param_1 + 0x4ca5) & 8) != 0) {
    param_1 = param_1 + 1;
  }
  FUN_10a0_267a(param_1);
  iVar1 = FUN_10a0_2ab8((int)param_1);
  uRam10a884ca = *(undefined2 *)(iVar1 + 8);
  uRam10a884cc = *(undefined2 *)(iVar1 + 10);
  uRam10a884ce = *(undefined2 *)(iVar1 + 0xc);
  uRam10a884d0 = *(undefined2 *)(iVar1 + 0xe);
  return;
}



// WARNING: Could not reconcile some variable overlaps

void __cdecl16far FUN_10a0_1d10(undefined2 *param_1,int param_2,int param_3)

{
  char *pcVar1;
  int *piVar2;
  char cVar3;
  char *pcVar4;
  undefined4 local_8;

  pcVar4 = *(char **)(param_3 + 6);
  *(undefined *)param_1 = 0x30;
  local_8 = (char *)((ulong)param_1 & 0xffff0000 | (ulong)((int)param_1 + 1));
  for (; pcVar1 = local_8, 0 < param_2; param_2 = param_2 + -1) {
    if (*pcVar4 == '\0') {
      cVar3 = '0';
    }
    else {
      cVar3 = *pcVar4;
      pcVar4 = pcVar4 + 1;
    }
    local_8 = (char *)((ulong)local_8 & 0xffff0000 | (ulong)((int)local_8 + 1));
    *pcVar1 = cVar3;
  }
  *local_8 = '\0';
  if ((-1 < param_2) && ('4' < *pcVar4)) {
    while( true ) {
      pcVar4 = (char *)((int)local_8 + -1);
      local_8 = (char *)ZEXT24(pcVar4);
      if (*pcVar4 != '9') break;
      *pcVar4 = '0';
    }
    pcVar1 = pcVar4;
    *pcVar1 = *pcVar1 + '\x01';
  }
  if (*(char *)param_1 == '1') {
    piVar2 = (int *)(param_3 + 2);
    *piVar2 = *piVar2 + 1;
  }
  else {
    FUN_10a0_1e12(param_1,(undefined2 *)((ulong)param_1 & 0xffff0000 | (ulong)((int)param_1 + 1)));
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x10a01de5)

void __cdecl16far FUN_10a0_1daa(void)

{
  code *pcVar1;
  undefined2 uVar2;
  int unaff_BP;
  int iVar3;

  iVar3 = unaff_BP + 1;
  uVar2 = FUN_10a0_1cb4();
  if (*(int *)&PTR_DAT_10a8_0000_10a8_4fec != 0) {
    if (*(int *)&PTR_PTR_DAT_10a8_0000_10a8_0014_10a8_4c68 == 2) {
      pcVar1 = (code *)swi(0x21);
      (*pcVar1)(iVar3);
    }
    else {
      FUN_10a0_1c0b();
    }
  }
  return;
}



uint __cdecl16far FUN_10a0_1df8(undefined4 param_1)

{
  char *pcVar1;
  uint uVar2;
  char *pcVar3;
  bool bVar4;

  pcVar3 = (char *)param_1;
  bVar4 = true;
  uVar2 = 0xffff;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    pcVar1 = pcVar3;
    pcVar3 = pcVar3 + 1;
    bVar4 = *pcVar1 == '\0';
  } while (!bVar4);
  uVar2 = ~uVar2;
  if (bVar4) {
    uVar2 = uVar2 - 1;
  }
  return uVar2;
}



void __cdecl16far FUN_10a0_1e12(undefined2 *param_1,undefined2 *param_2)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  uint uVar3;
  uint uVar4;
  undefined2 *puVar5;
  undefined2 *puVar6;
  undefined2 uVar7;
  undefined2 uVar8;
  bool bVar9;

  uVar8 = (undefined2)((ulong)param_2 >> 0x10);
  puVar5 = (undefined2 *)param_2;
  bVar9 = true;
  uVar3 = 0xffff;
  puVar6 = puVar5;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    puVar1 = puVar6;
    puVar6 = (undefined2 *)((int)puVar6 + 1);
    bVar9 = *(char *)puVar1 == '\0';
  } while (!bVar9);
  uVar3 = ~uVar3;
  uVar7 = (undefined2)((ulong)param_1 >> 0x10);
  puVar6 = (undefined2 *)param_1;
  if (bVar9) {
    if (((ulong)param_1 & 1) != 0) {
      puVar6 = (undefined2 *)((int)puVar6 + 1);
      puVar5 = (undefined2 *)((int)puVar5 + 1);
      *(undefined *)param_1 = *(undefined *)param_2;
      uVar3 = uVar3 - 1;
    }
  }
  else {
    puVar6 = puVar6 + 1;
    puVar5 = puVar5 + 1;
    *param_1 = *param_2;
    uVar3 = uVar3 - 1;
  }
  for (uVar4 = uVar3 >> 1; uVar4 != 0; uVar4 = uVar4 - 1) {
    puVar2 = puVar6;
    puVar6 = puVar6 + 1;
    puVar1 = puVar5;
    puVar5 = puVar5 + 1;
    *puVar2 = *puVar1;
  }
  for (uVar3 = (uint)((uVar3 & 1) != 0); uVar3 != 0; uVar3 = uVar3 - 1) {
    puVar2 = puVar6;
    puVar6 = (undefined2 *)((int)puVar6 + 1);
    puVar1 = puVar5;
    puVar5 = (undefined2 *)((int)puVar5 + 1);
    *(undefined *)puVar2 = *(undefined *)puVar1;
  }
  return;
}



uint * __cdecl16far FUN_10a0_1e4e(undefined4 param_1,uint param_2,uint param_3)

{
  uint *puVar1;
  undefined uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint *puVar7;
  int iVar8;

  if (param_3 != 0) {
    iVar8 = (int)((ulong)param_1 >> 0x10);
    uVar5 = -(int)(uint *)param_1;
    uVar6 = param_3;
    if (uVar5 != 0) {
      uVar6 = (uVar5 - param_3 & -(uint)(uVar5 < param_3)) + param_3;
      uVar5 = param_3 - uVar6;
    }
    uVar3 = param_2 & 0xff | param_2 << 8;
    puVar7 = (uint *)param_1;
    for (uVar4 = uVar6 >> 1; uVar4 != 0; uVar4 = uVar4 - 1) {
      puVar1 = puVar7;
      puVar7 = puVar7 + 1;
      *puVar1 = uVar3;
    }
    for (uVar6 = (uint)((uVar6 & 1) != 0); uVar2 = (undefined)(param_2 & 0xff), uVar6 != 0;
        uVar6 = uVar6 - 1) {
      puVar1 = puVar7;
      puVar7 = (uint *)((int)puVar7 + 1);
      *(undefined *)puVar1 = uVar2;
    }
    if (uVar5 != 0) {
      for (uVar6 = uVar5 >> 1; uVar6 != 0; uVar6 = uVar6 - 1) {
        puVar1 = puVar7;
        puVar7 = puVar7 + 1;
        *puVar1 = uVar3;
      }
      for (uVar6 = (uint)((uVar5 & 1) != 0); uVar6 != 0; uVar6 = uVar6 - 1) {
        puVar1 = puVar7;
        puVar7 = (uint *)((int)puVar7 + 1);
        *(undefined *)puVar1 = uVar2;
      }
    }
  }
  return (uint *)param_1;
}



void FUN_10a0_1e96(void)

{
  longdouble lVar1;
  byte bVar2;
  int in_DX;
  int unaff_BP;
  undefined2 unaff_SS;
  undefined2 in_FPUControlWord;
  longdouble in_ST0;

  *(undefined2 *)(unaff_BP + -6) = in_FPUControlWord;
  *(undefined2 *)(unaff_BP + -8) = CONCAT11(0x13,*(byte *)(unaff_BP + -6) | 0x38);
  lVar1 = (longdouble)0;
  *(int *)(unaff_BP + -0x10) = in_DX;
  *(uint *)(unaff_BP + -10) =
       (uint)(in_ST0 < lVar1) << 9 | (uint)(in_ST0 != lVar1) << 10 | (uint)(in_ST0 == lVar1) << 0xe;
  *(undefined *)(unaff_BP + -0x11) = 0;
  bVar2 = (char)(*(char *)(unaff_BP + -9) << 1) >> 1;
                    // WARNING: Could not recover jumptable at 0x10a01ed6. Too many branches
                    // WARNING: Treating indirect jump as call
  (**(code **)(in_DX + *(char *)(ulong)((byte)((bVar2 & 7) << 1 | (char)bVar2 < '\0') + 0x5003) +
              0x10))();
  return;
}



void FUN_10a0_1ed8(void)

{
  longdouble lVar1;
  char cVar2;
  byte bVar3;
  int in_DX;
  int unaff_BP;
  undefined2 unaff_SS;
  undefined2 in_FPUControlWord;
  longdouble in_ST0;
  longdouble in_ST1;

  *(undefined2 *)(unaff_BP + -6) = in_FPUControlWord;
  *(undefined2 *)(unaff_BP + -8) = CONCAT11(0x13,*(byte *)(unaff_BP + -6) | 0x38);
  lVar1 = (longdouble)0;
  *(int *)(unaff_BP + -0x10) = in_DX;
  *(uint *)(unaff_BP + -10) =
       (uint)(in_ST0 < lVar1) << 9 | (uint)(in_ST0 != lVar1) << 10 | (uint)(in_ST0 == lVar1) << 0xe;
  *(undefined *)(unaff_BP + -0x11) = 0;
  cVar2 = *(char *)(unaff_BP + -9);
  lVar1 = (longdouble)0;
  *(uint *)(unaff_BP + -10) =
       (uint)(in_ST1 < lVar1) << 9 | (uint)(in_ST1 != lVar1) << 10 | (uint)(in_ST1 == lVar1) << 0xe;
  bVar3 = (char)(*(char *)(unaff_BP + -9) << 1) >> 1;
  cVar2 = (char)(cVar2 << 1) >> 1;
                    // WARNING: Could not recover jumptable at 0x10a01f39. Too many branches
                    // WARNING: Treating indirect jump as call
  (**(code **)(in_DX + (char)(*(byte *)(ulong)(((byte)(cVar2 << 1 | cVar2 < '\0') & 0xf) + 0x5003) |
                             *(char *)(ulong)((byte)((bVar3 & 7) << 1 | (char)bVar3 < '\0') + 0x5003
                                             ) << 2) + 0x10))();
  return;
}



undefined2 __cdecl16far
FUN_10a0_24ea(undefined2 param_1,undefined *param_2,undefined *param_3,undefined *param_4)

{
  undefined *puVar1;
  undefined *puVar2;
  int iVar3;
  uint in_BX;
  undefined *puVar4;
  undefined *puVar5;
  undefined4 uVar6;

  DAT_10a8_514a = param_1;
  PTR_DAT_10a8_0000_10a8_514c = param_2;
  PTR_DAT_10a8_0000_10a8_514e = param_3;
  PTR_DAT_10a8_0000_10a8_5150 = param_4;
  uVar6 = FUN_10a0_26e3();
  puVar5 = (undefined *)&PTR_DAT_10a8_0000_10a8_5152;
  puVar4 = (undefined *)((int)&DAT_10a8_514a + 1);
  for (iVar3 = (int)(char)DAT_10a8_514a; iVar3 != 0; iVar3 = iVar3 + -1) {
    puVar2 = puVar5;
    puVar5 = puVar5 + 1;
    puVar1 = puVar4;
    puVar4 = puVar4 + 1;
    *puVar2 = *puVar1;
  }
  *puVar5 = 0;
  PTR_DAT_10a8_0000_10a8_5142 = (undefined *)(in_BX & 0xff);
  PTR_DAT_10a8_0000_10a8_5144 = (undefined *)((ulong)uVar6 >> 0x10);
  PTR_DAT_10a8_0000_10a8_5146 = (undefined *)uVar6;
  PTR_DAT_10a8_0000_10a8_5148 = (undefined *)&PTR_DAT_10a8_0000_10a8_5152;
  return (int)&PTR_DAT_10a8_0000_10a8_5142;
}



undefined2 __cdecl16far FUN_10a0_253a(void)

{
  return 0;
}



undefined2 __cdecl16far ___EXPORTEDSTUB(void)

{
  return 0;
}



void __cdecl16near FUN_10a0_25f4(void)

{
  HGLOBAL16 handle;
  int in_AX;
  HGLOBAL16 HVar1;
  int in_BX;
  dword dVar2;

  if ((*(byte *)(in_BX + 2) & 4) == 0) {
    handle = *(HGLOBAL16 *)(in_BX + 6);
    HVar1 = GLOBALREALLOC(CONCAT22(in_AX,0x20),(uint)(in_AX == 0));
    if (HVar1 != 0) {
      if ((HVar1 != handle) || (dVar2 = GLOBALSIZE(handle), dVar2 == 0)) goto LAB_10a0_264f;
      if ((*(byte *)(in_BX + 2) & 4) != 0) {
        *(int *)(in_BX + -2) = in_AX + -1;
      }
    }
    return;
  }
LAB_10a0_264f:
  FUN_10a0_0f27();
  return;
}



void __cdecl16near FUN_10a0_265a(void)

{
  uint uVar1;
  int in_BX;
  uint *puVar2;

  puVar2 = *(uint **)(in_BX + 10);
  if (puVar2 == *(uint **)(in_BX + 0xc)) {
    puVar2 = *(uint **)(in_BX + 8);
  }
  while( true ) {
    uVar1 = *puVar2;
    if (uVar1 == 0xfffe) break;
    puVar2 = (uint *)((int)puVar2 + (uVar1 & 0xfffe) + 2);
  }
  return;
}



int __cdecl16far FUN_10a0_267a(char *param_1)

{
  char *pcVar1;
  uint uVar2;

  uVar2 = 0xffff;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    pcVar1 = param_1;
    param_1 = param_1 + 1;
  } while (*pcVar1 != '\0');
  return ~uVar2 - 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// WARNING: Restarted to delay deadcode elimination for space: ram

undefined4 __cdecl16near FUN_10a0_26e3(void)

{
  undefined2 *puVar1;
  char *pcVar2;
  undefined2 *puVar3;
  undefined *puVar4;
  undefined *puVar5;
  undefined *puVar6;
  long lVar7;
  unkuint10 Var8;
  unkuint10 Var9;
  char *pcVar10;
  char cVar11;
  byte bVar12;
  int iVar13;
  uint uVar14;
  int iVar15;
  int iVar16;
  undefined *puVar17;
  uint uVar18;
  uint uVar19;
  uint uVar20;
  undefined *puVar21;
  uint uVar22;
  undefined2 *unaff_SI;
  undefined *puVar23;
  uint uVar24;
  uint uVar25;
  undefined2 *puVar26;
  char *pcVar27;
  bool bVar28;
  bool bVar29;
  undefined *in_FPUControlWord;

  puVar26 = (undefined2 *)&PTR_DAT_10a8_0000_10a8_5172;
  for (iVar13 = 4; Var8 = (unkuint10)_PTR_DAT_10a8_0000_10a8_5172, iVar13 != 0; iVar13 = iVar13 + -1
      ) {
    puVar3 = puVar26;
    puVar26 = puVar26 + 1;
    puVar1 = unaff_SI;
    unaff_SI = unaff_SI + 1;
    *puVar3 = *puVar1;
  }
  uVar14 = _DAT_10a8_5178;
                    // WARNING: Ignoring partial resolution of indirect
  DAT_10a8_5179 = DAT_10a8_5179 & 0x7f;
  Var9 = (unkuint10)_PTR_DAT_10a8_0000_10a8_5172;
  _PTR_DAT_10a8_0000_10a8_5172 = (longdouble)(Var8 & 0x7fffffffffffffff);
  if (((uint)PTR_DAT_10a8_0000_10a8_5172 | (uint)PTR_DAT_10a8_0000_10a8_5174 |
       (uint)PTR_DAT_10a8_0000_10a8_5176 | _DAT_10a8_5178) == 0) {
    _DAT_10a8_517e = 0x3001;
    _PTR_DAT_10a8_0000_10a8_5172 = (longdouble)Var9;
    return 1;
  }
  if ((~uVar14 & 0x7ff0) == 0) {
    _PTR_DAT_10a8_0000_10a8_5172 = (longdouble)Var9;
    return 0x10000;
  }
  PTR_DAT_10a8_0000_10a8_51ab._0_1_ = SUB21(in_FPUControlWord,0);
  DAT_10a8_51ad = PTR_DAT_10a8_0000_10a8_51ab._0_1_;
  _PTR_DAT_10a8_0000_10a8_5172 = (longdouble)_PTR_DAT_10a8_0000_10a8_5172;
  DAT_10a8_5179 = (byte)((unkuint10)_PTR_DAT_10a8_0000_10a8_5172 >> 0x38);
  PTR_DAT_10a8_0000_10a8_517a = (undefined *)((unkuint10)_PTR_DAT_10a8_0000_10a8_5172 >> 0x40);
  lVar7 = ZEXT24(PTR_DAT_10a8_0000_10a8_517a) * 0x4d10 +
          (ulong)(((uint)PTR_DAT_10a8_0000_10a8_517a >> 8) * 0x4d);
  uVar14 = (uint)lVar7;
  iVar13 = ((int)((ulong)lVar7 >> 0x10) + (uint)CARRY2(uVar14,(uint)DAT_10a8_5179 * 0x9a) + -0x1343)
           - (uint)(uVar14 + (uint)DAT_10a8_5179 * 0x9a < (int)s_Weapon_10a8_12ee + 6U);
  PTR_DAT_10a8_0000_10a8_51ab = in_FPUControlWord;
  FUN_10a0_2d8c();
  DAT_10a8_51a9 =
       (uint)(_WORD_10a0_2695 < _PTR_DAT_10a8_0000_10a8_5172) << 8 |
       (uint)(_WORD_10a0_2695 == _PTR_DAT_10a8_0000_10a8_5172) << 0xe;
  DAT_10a8_51a9._1_1_ = (char)(DAT_10a8_51a9 >> 8);
  if (DAT_10a8_51a9._1_1_ != '\0') {
    iVar13 = iVar13 + 1;
    _PTR_DAT_10a8_0000_10a8_5172 = _WORD_10a0_269f * _PTR_DAT_10a8_0000_10a8_5172;
  }
  PTR_DAT_10a8_0000_10a8_5174 = (undefined *)((unkuint10)_PTR_DAT_10a8_0000_10a8_5172 >> 0x10);
  PTR_DAT_10a8_0000_10a8_5176 = (undefined *)((unkuint10)_PTR_DAT_10a8_0000_10a8_5172 >> 0x20);
  _DAT_10a8_5178 = (uint)((unkuint10)_PTR_DAT_10a8_0000_10a8_5172 >> 0x30);
  PTR_DAT_10a8_0000_10a8_517a = (undefined *)((unkuint10)_PTR_DAT_10a8_0000_10a8_5172 >> 0x40);
  bVar28 = false;
  uVar14 = 0;
  for (iVar15 = -(int)(PTR_DAT_10a8_0000_10a8_517a + -0x3ffe); iVar15 != 0; iVar15 = iVar15 + -1) {
    uVar24 = _DAT_10a8_5178 & 1;
    _DAT_10a8_5178 = _DAT_10a8_5178 >> 1;
    uVar22 = (uint)PTR_DAT_10a8_0000_10a8_5176 & 1;
    PTR_DAT_10a8_0000_10a8_5176 =
         (undefined *)((uint)PTR_DAT_10a8_0000_10a8_5176 >> 1 | (uint)(uVar24 != 0) << 0xf);
    uVar24 = (uint)PTR_DAT_10a8_0000_10a8_5174 & 1;
    PTR_DAT_10a8_0000_10a8_5174 =
         (undefined *)((uint)PTR_DAT_10a8_0000_10a8_5174 >> 1 | (uint)(uVar22 != 0) << 0xf);
    uVar22 = (uint)PTR_DAT_10a8_0000_10a8_5172 & 1;
    PTR_DAT_10a8_0000_10a8_5172 =
         (undefined *)((uint)PTR_DAT_10a8_0000_10a8_5172 >> 1 | (uint)(uVar24 != 0) << 0xf);
    bVar28 = (uVar14 & 0x100) != 0;
    uVar14 = (uint)(byte)((byte)(uVar14 >> 9) | (uVar22 != 0) << 7) << 8;
  }
  puVar23 = PTR_DAT_10a8_0000_10a8_5172 + 0x39a + bVar28;
  uVar22 = (uint)((undefined *)0xfc65 < PTR_DAT_10a8_0000_10a8_5172 ||
                 CARRY2((uint)(PTR_DAT_10a8_0000_10a8_5172 + 0x39a),(uint)bVar28));
  puVar21 = PTR_DAT_10a8_0000_10a8_5174 + uVar22;
  uVar22 = (uint)CARRY2((uint)PTR_DAT_10a8_0000_10a8_5174,uVar22);
  puVar17 = PTR_DAT_10a8_0000_10a8_5176 + uVar22;
  _DAT_10a8_5178 = _DAT_10a8_5178 + CARRY2((uint)PTR_DAT_10a8_0000_10a8_5176,uVar22);
  iVar15 = 0x10;
  pcVar10 = (char *)&DAT_10a8_517f;
  do {
    pcVar27 = pcVar10;
    iVar16 = iVar15;
    bVar12 = (byte)(uVar14 >> 8);
    uVar24 = (int)puVar23 << 1 | (uint)((int)uVar14 < 0);
    uVar22 = (int)puVar21 << 1 | (uint)((int)puVar23 < 0);
    uVar14 = (int)puVar17 << 1 | (uint)((int)puVar21 < 0);
    bVar28 = (int)_DAT_10a8_5178 < 0;
    uVar19 = _DAT_10a8_5178 << 1 | (uint)((int)puVar17 < 0);
    uVar25 = uVar24 << 1 | (uint)((char)(bVar12 << 1) < '\0');
    uVar24 = uVar22 << 1 | (uint)((int)uVar24 < 0);
    uVar18 = uVar14 << 1 | (uint)((int)uVar22 < 0);
    uVar20 = uVar19 << 1 | (uint)((int)uVar14 < 0);
    uVar14 = (uint)CARRY1(bVar12 * '\x04',bVar12);
    puVar4 = puVar23 + uVar25;
    uVar22 = (uint)(CARRY2(uVar25,(uint)puVar23) || CARRY2((uint)puVar4,uVar14));
    puVar5 = puVar21 + uVar24;
    uVar24 = (uint)(CARRY2(uVar24,(uint)puVar21) || CARRY2((uint)puVar5,uVar22));
    puVar6 = puVar17 + uVar18;
    uVar18 = (uint)(CARRY2(uVar18,(uint)puVar17) || CARRY2((uint)puVar6,uVar24));
    bVar29 = CARRY2(uVar20,_DAT_10a8_5178);
    uVar20 = uVar20 + _DAT_10a8_5178;
    iVar15 = uVar20 + uVar18;
    puVar23 = (undefined *)((int)(puVar4 + uVar14) * 2 | (uint)((char)(bVar12 * '\x05') < '\0'));
    puVar21 = (undefined *)((int)(puVar5 + uVar22) * 2 | (uint)((int)(puVar4 + uVar14) < 0));
    puVar17 = (undefined *)((int)(puVar6 + uVar24) * 2 | (uint)((int)(puVar5 + uVar22) < 0));
    _DAT_10a8_5178 = iVar15 * 2 | (uint)((int)(puVar6 + uVar24) < 0);
    cVar11 = (((bVar28 << 1 | (int)uVar19 < 0) + (bVar29 || CARRY2(uVar20,uVar18))) * '\x02' |
             iVar15 < 0) + 0x30;
    uVar14 = CONCAT11(bVar12 * '\n',cVar11);
    *pcVar27 = cVar11;
    iVar15 = iVar16 + -1;
    pcVar10 = pcVar27 + 1;
  } while (iVar15 != 0);
  iVar16 = iVar16 + -2;
  do {
    if (iVar16 == 0) break;
    iVar16 = iVar16 + -1;
    pcVar2 = pcVar27;
    pcVar27 = pcVar27 + -1;
  } while (*pcVar2 == '0');
  _DAT_10a8_517e = _DAT_10a8_517e & 0xff00 | (uint)(byte)((char)iVar16 + 0x12);
  return CONCAT22(iVar13,1);
}



void __cdecl16near FUN_10a0_282e(void)

{
  uint *puVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  byte bVar7;
  uint uVar6;
  char cVar8;
  uint uVar9;
  uint uVar10;
  uint *unaff_SI;
  uint *puVar11;
  uint uVar12;
  uint *unaff_DI;
  uint uVar13;
  undefined2 unaff_SS;
  bool bVar14;
  bool bVar15;
  uint uStack_6;
  byte bStack_4;

  uStack_6 = unaff_SI[4];
  puVar11 = unaff_DI;
  if ((uStack_6 == 0) || (uVar4 = unaff_DI[4], puVar11 = unaff_SI, uVar4 == 0)) {
LAB_10a0_290f:
    *unaff_SI = *puVar11;
    unaff_SI[1] = puVar11[1];
    unaff_SI[2] = puVar11[2];
    unaff_SI[3] = puVar11[3];
    unaff_SI[4] = puVar11[4];
    return;
  }
  bVar7 = (byte)(uVar4 >> 8);
  uVar9 = (uStack_6 & 0xff00 | (uint)bVar7) & 0x8080;
  uVar5 = uVar9 >> 8;
  cVar8 = (char)uVar9;
  uStack_6 = uStack_6 & 0x7fff;
  uVar4 = uVar4 & 0x7fff;
  uVar3 = uStack_6 - uVar4;
  if (uStack_6 < uVar4) {
    uVar9 = (bVar7 & 0x80) << 8;
    uVar3 = -uVar3;
    uStack_6 = uVar4;
    puVar11 = unaff_DI;
    unaff_DI = unaff_SI;
  }
  bStack_4 = (byte)(uVar9 >> 8);
  if (0x40 < uVar3) goto LAB_10a0_290f;
  uVar4 = unaff_DI[3];
  uVar9 = unaff_DI[2];
  uVar6 = unaff_DI[1];
  uVar10 = *unaff_DI;
  uVar13 = 0;
  uVar12 = uVar3 - 8;
  if (7 < uVar3) {
    do {
      bVar7 = (byte)uVar10;
      uVar10 = CONCAT11((char)uVar6,(char)(uVar10 >> 8));
      uVar6 = CONCAT11((char)uVar9,(char)(uVar6 >> 8));
      uVar9 = CONCAT11((char)uVar4,(char)(uVar9 >> 8));
      uVar4 = uVar4 >> 8;
      bVar14 = 7 < uVar12;
      uVar12 = uVar12 - 8;
    } while (bVar14);
    uVar13 = ~-(uint)(bVar7 < 0x80);
  }
  uVar12 = uVar12 + 8;
  if (uVar12 != 0) {
    do {
      uVar13 = uVar4 & 1;
      uVar4 = uVar4 >> 1;
      uVar3 = uVar9 & 1;
      uVar9 = uVar9 >> 1 | (uint)(uVar13 != 0) << 0xf;
      uVar13 = uVar6 & 1;
      uVar6 = uVar6 >> 1 | (uint)(uVar3 != 0) << 0xf;
      uVar3 = uVar10 & 1;
      uVar10 = uVar10 >> 1 | (uint)(uVar13 != 0) << 0xf;
      uVar12 = uVar12 - 1;
    } while (uVar12 != 0);
    uVar13 = -(uint)(uVar3 != 0);
  }
  if (uVar13 != 0) {
    bVar14 = 0xfffe < uVar10;
    uVar10 = uVar10 + 1;
    bVar15 = CARRY2(uVar6,uVar12);
    uVar3 = uVar6 + uVar12;
    uVar6 = uVar3 + bVar14;
    uVar3 = (uint)(bVar15 || CARRY2(uVar3,(uint)bVar14));
    bVar14 = CARRY2(uVar9,uVar12);
    uVar13 = uVar9 + uVar12;
    uVar9 = uVar13 + uVar3;
    uVar4 = uVar4 + uVar12 + (uint)(bVar14 || CARRY2(uVar13,uVar3));
  }
  if ((char)uVar5 == cVar8) {
    puVar1 = puVar11;
    uVar13 = uVar10 + *puVar1;
    puVar2 = puVar11 + 1;
    uVar5 = (uint)CARRY2(uVar10,*puVar1);
    uVar3 = uVar6 + *puVar2;
    uVar10 = uVar3 + uVar5;
    puVar1 = puVar11 + 2;
    uVar5 = (uint)(CARRY2(uVar6,*puVar2) || CARRY2(uVar3,uVar5));
    uVar3 = uVar9 + *puVar1;
    uVar6 = uVar3 + uVar5;
    puVar2 = puVar11 + 3;
    uVar5 = (uint)(CARRY2(uVar9,*puVar1) || CARRY2(uVar3,uVar5));
    bVar15 = CARRY2(uVar4,*puVar2);
    uVar4 = uVar4 + *puVar2;
    bVar14 = CARRY2(uVar4,uVar5);
    uVar5 = uVar4 + uVar5;
    if (bVar15 || bVar14) {
      uVar12 = uVar6 >> 1 | (uint)((uVar5 & 1) != 0) << 0xf;
      uVar3 = uVar10 >> 1 | (uint)((uVar6 & 1) != 0) << 0xf;
      uVar9 = uVar13 >> 1 | (uint)((uVar10 & 1) != 0) << 0xf;
      uVar4 = (uint)((uVar13 & 1) != 0);
      uVar13 = uVar9 + uVar4;
      uVar4 = (uint)CARRY2(uVar9,uVar4);
      uVar10 = uVar3 + uVar4;
      uVar4 = (uint)CARRY2(uVar3,uVar4);
      uVar6 = uVar12 + uVar4;
      uVar5 = (uVar5 >> 1 | (uint)(bVar15 || bVar14) << 0xf) + (uint)CARRY2(uVar12,uVar4);
      uStack_6 = uStack_6 + 1;
    }
  }
  else {
    puVar1 = puVar11;
    uVar13 = uVar10 - *puVar1;
    puVar2 = puVar11 + 1;
    uVar5 = (uint)(uVar10 < *puVar1);
    uVar3 = uVar6 - *puVar2;
    uVar10 = uVar3 - uVar5;
    puVar1 = puVar11 + 2;
    uVar5 = (uint)(uVar6 < *puVar2 || uVar3 < uVar5);
    uVar3 = uVar9 - *puVar1;
    uVar6 = uVar3 - uVar5;
    puVar2 = puVar11 + 3;
    uVar3 = (uint)(uVar9 < *puVar1 || uVar3 < uVar5);
    uVar9 = uVar4 - *puVar2;
    uVar5 = uVar9 - uVar3;
    if (uVar4 < *puVar2 || uVar9 < uVar3) {
      uVar4 = ~uVar13;
      uVar3 = ~uVar10;
      uVar9 = ~uVar6;
      uVar13 = uVar4 + 1;
      uVar4 = (uint)(0xfffe < uVar4);
      uVar10 = uVar3 + uVar4;
      uVar4 = (uint)CARRY2(uVar3,uVar4);
      uVar6 = uVar9 + uVar4;
      uVar5 = ~uVar5 + (uint)CARRY2(uVar9,uVar4);
      if ((int)uVar5 < 0) goto LAB_10a0_28f1;
      if ((uVar5 == 0) && ((uVar13 | uVar10 | uVar6) == 0)) goto LAB_10a0_292f;
    }
    else {
      if ((uVar13 | uVar10 | uVar6 | uVar5) == 0) goto LAB_10a0_292f;
      bStack_4 = bStack_4 ^ 0x80;
      if ((int)uVar5 < 0) goto LAB_10a0_28f1;
    }
    if ((char)(uVar5 >> 8) == '\0') {
      do {
        cVar8 = (char)uVar5;
        uVar4 = uVar6 >> 8;
        uVar6 = CONCAT11((char)uVar6,(char)(uVar10 >> 8));
        uVar10 = CONCAT11((char)uVar10,(char)(uVar13 >> 8));
        uVar13 = uVar13 << 8;
        bVar14 = uStack_6 < 8;
        uStack_6 = uStack_6 - 8;
        if (bVar14 || uStack_6 == 0) goto LAB_10a0_292f;
        uVar5 = CONCAT11(cVar8,(char)uVar4);
      } while (cVar8 != '\0');
    }
    if (uStack_6 == 0) {
LAB_10a0_292f:
      *unaff_SI = 0;
      unaff_SI[1] = 0;
      unaff_SI[2] = 0;
      unaff_SI[3] = 0;
      unaff_SI[4] = 0;
      return;
    }
    for (; -1 < (int)uVar5; uVar5 = uVar5 << 1 & 0xff00 | (uint)(byte)((byte)(uVar5 << 1) | bVar14))
    {
      uStack_6 = uStack_6 - 1;
      if (uStack_6 == 0) goto LAB_10a0_292f;
      bVar14 = (int)uVar13 < 0;
      uVar13 = uVar13 << 1;
      bVar15 = (int)uVar10 < 0;
      uVar10 = uVar10 << 1 | (uint)bVar14;
      bVar14 = (int)uVar6 < 0;
      uVar6 = uVar6 << 1 | (uint)bVar15;
    }
  }
LAB_10a0_28f1:
  *unaff_SI = uVar13;
  unaff_SI[1] = uVar10;
  unaff_SI[2] = uVar6;
  unaff_SI[3] = uVar5;
  unaff_SI[4] = uStack_6 & 0xff | (uint)(byte)((byte)(uStack_6 >> 8) | bStack_4) << 8;
  return;
}



undefined2 __cdecl16far FUN_10a0_2ab8(int param_1)

{
  uint uVar1;
  int unaff_BP;
  undefined2 unaff_SS;
  int local_8 [2];
  int local_4;
  int iStack_2;

  iStack_2 = unaff_BP + 1;
  local_4 = (int)s_From___s_c_c_10a8_10a2 + 6;
  uVar1 = FUN_10a0_2dca(0,param_1,(int)s_From___s_c_c_10a8_10a2 + 6,local_8,unaff_SS,
                        (double *)0x10a856e6);
  PTR_DAT_10a8_0000_10a8_56e0 = (undefined *)(local_8[0] - param_1);
  DAT_10a8_56de._1_1_ = 0;
  if ((uVar1 & 4) != 0) {
    DAT_10a8_56de._1_1_ = 2;
  }
  if ((uVar1 & 1) != 0) {
    DAT_10a8_56de._1_1_ = DAT_10a8_56de._1_1_ | 1;
  }
  DAT_10a8_56de._0_1_ = (uVar1 & 2) != 0;
  return (int)&DAT_10a8_56de;
}



HLOCAL16 __cdecl16far FUN_10a0_2b18(word param_1)

{
  HLOCAL16 HVar1;
  int iVar2;
  int unaff_BP;
  int iVar3;
  int iVar4;

  iVar3 = unaff_BP + 1;
  iVar4 = (int)s_From___s_c_c_10a8_10a2 + 6;
  if (param_1 == 0) {
    param_1 = 1;
  }
  while( true ) {
    LOCKSEGMENT(0xffff);
    HVar1 = LOCALALLOC(param_1,0x20);
    UNLOCKSEGMENT(0xffff);
    if (HVar1 != 0) {
      return HVar1;
    }
    if (((uint)PTR_DAT_10a8_0000_10a8_51be | (uint)PTR_DAT_10a8_0000_10a8_51bc) == 0) break;
    iVar2 = (*(code *)PTR_DAT_10a8_0000_10a8_51bc)
                      ((int)s__with_some_work_done_10a8_1343 + 5,param_1,0,iVar4,iVar3);
    if (iVar2 == 0) {
      return HVar1;
    }
  }
  return 0;
}



void __cdecl16far FUN_10a0_2b74(HLOCAL16 param_1)

{
  if (param_1 != 0) {
    LOCALFREE(param_1);
  }
  return;
}



void __cdecl16near FUN_10a0_2d8c(void)

{
  uint unaff_DI;
  uint uStack_2;

  uStack_2 = unaff_DI;
  if ((int)unaff_DI < 0) {
    uStack_2 = -unaff_DI;
  }
  for (; uStack_2 != 0; uStack_2 = uStack_2 >> 3) {
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x10a02e20)
// WARNING: Removing unreachable block (ram,0x10a02e29)

uint FUN_10a0_2dca(int param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4,
                  undefined2 param_5,double *param_6)

{
  uint uVar1;
  undefined2 unaff_SS;
  longdouble local_c;

  uVar1 = FUN_10a0_2e32(param_1,CONCAT22(param_3,param_2),(byte **)CONCAT22(param_5,param_4),
                        (uint *)CONCAT22(unaff_SS,&local_c));
  *param_6 = (double)local_c;
  if (uVar1 == 0) {
    uVar1 = 0;
  }
  return uVar1;
}



uint FUN_10a0_2e32(int param_1,undefined4 param_2,byte **param_3,uint *param_4)

{
  byte *pbVar1;
  char *pcVar2;
  undefined2 *puVar3;
  bool bVar4;
  byte bVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  byte *pbVar9;
  char *pcVar10;
  byte *pbVar11;
  undefined2 *puVar12;
  undefined2 uVar13;
  undefined2 unaff_SS;
  undefined2 uVar14;
  bool bVar15;
  char local_36 [26];
  uint local_1c;
  uint local_1a;
  uint local_18;
  uint local_16;
  byte *local_14;
  undefined2 local_12;
  uint local_10;
  uint local_e;
  uint local_c;
  uint local_a;
  uint local_8;
  uint local_6;
  uint local_4;

  uVar14 = (undefined2)((ulong)param_2 >> 0x10);
  local_14 = (byte *)param_2;
  local_10 = 0;
  local_12 = uVar14;
  local_16 = 0;
  local_1a = 0;
  local_18 = 0;
  local_1c = 0x19;
  pcVar10 = local_36;
  pbVar11 = local_14;
  do {
    do {
      pbVar9 = pbVar11;
      pbVar11 = pbVar9 + 1;
      bVar5 = *pbVar9;
    } while (bVar5 == 0x20);
  } while (((bVar5 == 9) || (bVar5 == 10)) || (bVar5 == 0xd));
  puVar12 = (undefined2 *)param_4;
  uVar13 = (undefined2)((ulong)param_4 >> 0x10);
  if (bVar5 == 0) {
LAB_10a0_3063:
    local_10 = 4;
  }
  else {
    if (bVar5 == 0x2b) {
LAB_10a0_2e81:
      pbVar1 = pbVar11;
      pbVar11 = pbVar9 + 2;
      bVar5 = *pbVar1;
    }
    else if (bVar5 == 0x2d) {
      local_16 = 0x8000;
      goto LAB_10a0_2e81;
    }
    if ((bVar5 < 0x30) || (0x39 < bVar5)) {
      if (((bVar5 != 0x2e) || (bVar5 = *pbVar11, bVar5 < 0x30)) || (0x39 < bVar5))
      goto LAB_10a0_3063;
      while( true ) {
        pbVar11 = pbVar11 + 1;
        uVar8 = local_18 - 1;
        if (bVar5 != 0x30) break;
LAB_10a0_2ead:
        local_18 = uVar8;
        bVar5 = *pbVar11;
      }
      if (bVar5 == 0) goto LAB_10a0_2ea2;
      while ((0x2f < bVar5 && (bVar5 < 0x3a))) {
        pcVar2 = pcVar10;
        pcVar10 = pcVar10 + 1;
        *pcVar2 = bVar5 - 0x30;
        local_18 = local_18 - 1;
        local_1c = local_1c + -1;
        if (local_1c == 0) goto LAB_10a0_2efc;
LAB_10a0_2ee8:
        pbVar1 = pbVar11;
        pbVar11 = pbVar11 + 1;
        bVar5 = *pbVar1;
      }
LAB_10a0_2f05:
      local_1c = 0x19 - local_1c;
      local_14 = pbVar11 + -1;
      if (((bVar5 == 0x45) || (bVar5 == 0x65)) || ((bVar5 == 0x44 || (bVar5 == 100)))) {
        pbVar9 = pbVar11 + 1;
        bVar5 = *pbVar11;
        if (bVar5 == 0x2b) {
LAB_10a0_2f34:
          pbVar1 = pbVar9;
          pbVar9 = pbVar11 + 2;
          bVar5 = *pbVar1;
        }
        else if (bVar5 == 0x2d) {
          local_1a = 0xffff;
          goto LAB_10a0_2f34;
        }
        if ((0x2f < bVar5) && (bVar5 < 0x3a)) {
          uVar6 = bVar5 - 0x30;
          uVar8 = uVar6;
          do {
            pbVar1 = pbVar9;
            pbVar9 = pbVar9 + 1;
            bVar5 = *pbVar1;
            if ((bVar5 < 0x30) || (0x39 < bVar5)) goto LAB_10a0_2f6b;
            if (0x666 < uVar8) break;
            uVar6 = (uVar6 & 0xff00 | (uint)(byte)(bVar5 - 0x30)) + uVar8 * 2;
            uVar8 = uVar8 * 8 + uVar6;
          } while (-1 < (int)uVar8);
          uVar8 = 0x3fff;
          do {
            pbVar1 = pbVar9;
            pbVar9 = pbVar9 + 1;
            bVar5 = *pbVar1;
            if (bVar5 < 0x30) break;
          } while (bVar5 < 0x3a);
LAB_10a0_2f6b:
          local_18 = local_18 + ((uVar8 ^ local_1a) - local_1a);
          local_14 = pbVar9 + -1;
        }
      }
      if (local_1c != 0) {
        *pcVar10 = '\0';
        pbVar11 = (byte *)(pcVar10 + -1);
        if (local_1c < 0x19) {
          if (local_18 != 0) goto LAB_10a0_2fb2;
        }
        else {
          bVar5 = *pbVar11;
          *pbVar11 = 0;
          local_1c = local_1c - 1;
          local_18 = local_18 + 1;
          pbVar11 = (byte *)(pcVar10 + -2);
          if (bVar5 < 5) {
LAB_10a0_2fb2:
            for (; *pbVar11 == 0; pbVar11 = pbVar11 + -1) {
              local_1c = local_1c - 1;
              local_18 = local_18 + 1;
            }
          }
          else {
            pbVar1 = pbVar11;
            *pbVar1 = *pbVar1 + 1;
          }
        }
        FUN_10a0_35ac(&local_e,local_1c,(byte *)CONCAT22(unaff_SS,local_36));
        if (local_18 == 0) {
LAB_10a0_2fec:
          if ((0x7fff < local_e) && ((0x8000 < local_e || ((local_c & 1) != 0)))) {
            bVar15 = 0xfffe < local_c;
            local_c = local_c + 1;
            bVar4 = CARRY2(local_a,(uint)bVar15);
            local_a = local_a + bVar15;
            uVar8 = (uint)bVar4;
            bVar4 = CARRY2(local_8,uVar8);
            local_8 = local_8 + uVar8;
            uVar8 = (uint)bVar4;
            bVar4 = CARRY2(local_6,uVar8);
            local_6 = local_6 + uVar8;
            if (bVar4) {
              local_6 = local_6 | 0x8000;
              local_4 = local_4 + 1;
            }
          }
          if (local_4 < 0x7fff) {
            if ((local_4 != 0) || ((local_6 | local_8 | local_a | local_c) != 0)) {
              puVar12[3] = local_6;
              puVar12[2] = local_8;
              puVar12[1] = local_a;
              *param_4 = local_c;
              puVar12[4] = local_4 | local_16;
              goto LAB_10a0_3049;
            }
LAB_10a0_3073:
            local_10 = local_10 | 1;
            goto LAB_10a0_3067;
          }
        }
        else if ((int)local_18 < 0x1450) {
          if (-0x1450 < (int)local_18) {
            FUN_10a0_3352(param_1,local_18,(undefined2 *)CONCAT22(unaff_SS,&local_e));
            goto LAB_10a0_2fec;
          }
          goto LAB_10a0_3073;
        }
        local_10 = local_10 | 2;
        puVar12[4] = local_16 | 0x7fff;
        puVar12[3] = 0x8000;
        puVar12[2] = 0;
        puVar12[1] = 0;
        *param_4 = 0;
        goto LAB_10a0_3049;
      }
    }
    else {
      while (bVar5 == 0x30) {
        pbVar1 = pbVar11;
        pbVar11 = pbVar11 + 1;
        bVar5 = *pbVar1;
      }
      if (bVar5 != 0) {
        uVar8 = local_18;
        if (bVar5 == 0x2e) goto LAB_10a0_2ead;
        while ((0x2f < bVar5 && (bVar5 < 0x3a))) {
          pcVar2 = pcVar10;
          pcVar10 = pcVar10 + 1;
          *pcVar2 = bVar5 - 0x30;
          local_1c = local_1c + -1;
          uVar8 = local_18;
          if (local_1c == 0) goto LAB_10a0_2ecf;
          pbVar1 = pbVar11;
          pbVar11 = pbVar11 + 1;
          bVar5 = *pbVar1;
        }
        if (bVar5 == 0x2e) goto LAB_10a0_2ee8;
        goto LAB_10a0_2f05;
      }
LAB_10a0_2ea2:
      local_14 = pbVar11 + -1;
    }
  }
LAB_10a0_3067:
  for (iVar7 = 5; iVar7 != 0; iVar7 = iVar7 + -1) {
    puVar3 = puVar12;
    puVar12 = puVar12 + 1;
    *puVar3 = 0;
  }
LAB_10a0_3049:
  *param_3 = local_14;
  *(undefined2 *)((int)param_3 + 2) = local_12;
  return local_10;
  while (uVar8 = local_18 + 1, bVar5 < 0x3a) {
LAB_10a0_2ecf:
    local_18 = uVar8;
    pbVar1 = pbVar11;
    pbVar11 = pbVar11 + 1;
    bVar5 = *pbVar1;
    if (bVar5 < 0x30) break;
  }
  if (bVar5 == 0x2e) {
LAB_10a0_2efc:
    do {
      pbVar1 = pbVar11;
      pbVar11 = pbVar11 + 1;
      bVar5 = *pbVar1;
      if (bVar5 < 0x30) break;
    } while (bVar5 < 0x3a);
  }
  goto LAB_10a0_2f05;
}



void FUN_10a0_3352(int param_1,uint param_2,undefined2 *param_3)

{
  uint uVar1;
  undefined2 uVar2;
  unkbyte10 in_ST0;
  uint uStack_e;
  code *local_8;

  if (param_2 != 0) {
    if ((int)param_2 < 0) {
      param_2 = -param_2;
    }
    local_8 = (code *)0x33f0;
    uVar2 = (undefined2)((ulong)param_3 >> 0x10);
    uStack_e = param_2;
    if (param_1 == 0) {
      local_8 = (code *)((int)s_Battleship_10a8_33e1 + 5);
      in_ST0 = *(unkbyte10 *)((int)param_3 + 2);
    }
    while (uStack_e != 0) {
      uVar1 = uStack_e & 7;
      uStack_e = uStack_e >> 3;
      if (uVar1 != 0) {
                    // WARNING: Could not recover jumptable at 0x10a033bc. Too many branches
                    // WARNING: Treating indirect jump as call
        (*local_8)();
        return;
      }
    }
    if (param_1 == 0) {
      *(unkbyte10 *)((int)param_3 + 2) = in_ST0;
      *param_3 = 0;
    }
  }
  return;
}



uint * FUN_10a0_35ac(uint *param_1,int param_2,byte *param_3)

{
  byte *pbVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  byte bVar7;
  byte bVar9;
  uint uVar8;
  uint uVar10;
  uint uVar11;
  byte *pbVar12;
  uint uVar13;
  uint uVar14;
  undefined2 unaff_SS;
  bool bVar15;
  bool bVar16;
  bool bVar17;
  undefined4 uVar18;
  int local_e;

  local_e = param_2;
  pbVar12 = (byte *)param_3;
  uVar3 = 0;
  uVar14 = 0;
  uVar10 = 0;
  uVar5 = 0;
  uVar8 = (uint)*param_3;
  while( true ) {
    pbVar12 = pbVar12 + 1;
    local_e = local_e + -1;
    if (local_e == 0) break;
    uVar13 = uVar5;
    uVar6 = uVar10;
    FUN_10a0_365a();
    uVar18 = FUN_10a0_365a();
    uVar8 = (uint)CARRY2((uint)((ulong)uVar18 >> 0x10),uVar8);
    uVar4 = uVar13 + uVar5 + uVar8;
    uVar13 = (uint)(CARRY2(uVar13,uVar5) || CARRY2(uVar13 + uVar5,uVar8));
    bVar16 = CARRY2(uVar6,uVar10);
    uVar6 = uVar6 + uVar10;
    uVar11 = uVar6 + uVar13;
    bVar17 = CARRY2((uint)uVar18,uVar3);
    uVar2 = (uint)uVar18 + uVar3;
    uVar18 = FUN_10a0_365a();
    pbVar1 = pbVar12;
    bVar7 = (byte)((ulong)uVar18 >> 0x10);
    bVar15 = CARRY1(bVar7,*pbVar1);
    bVar9 = (byte)((ulong)uVar18 >> 0x18);
    uVar8 = CONCAT11(bVar9 + bVar15,bVar7 + *pbVar1);
    uVar10 = (uint)CARRY1(bVar9,bVar15);
    uVar5 = uVar4 + uVar10;
    uVar3 = (uint)CARRY2(uVar4,uVar10);
    uVar10 = uVar11 + uVar3;
    uVar4 = (uint)CARRY2(uVar11,uVar3);
    uVar3 = (uint)uVar18 + uVar4;
    uVar14 = uVar14 * 2 + (uint)(bVar17 || CARRY2(uVar2,(uint)(bVar16 || CARRY2(uVar6,uVar13)))) +
             (uint)CARRY2((uint)uVar18,uVar4);
  }
  uVar13 = 0x404e;
  while (uVar6 = uVar5, uVar4 = uVar3, uVar14 == 0) {
    uVar13 = uVar13 - 0x10;
    uVar3 = uVar10;
    uVar5 = uVar8;
    uVar8 = 0;
    uVar10 = uVar6;
    uVar14 = uVar4;
  }
  for (; -1 < (int)uVar14; uVar14 = uVar14 << 1 | (uint)bVar17) {
    bVar16 = (int)uVar8 < 0;
    uVar8 = uVar8 << 1;
    bVar17 = (int)uVar6 < 0;
    uVar6 = uVar6 << 1 | (uint)bVar16;
    bVar16 = (int)uVar10 < 0;
    uVar10 = uVar10 << 1 | (uint)bVar17;
    bVar17 = (int)uVar4 < 0;
    uVar4 = uVar4 << 1 | (uint)bVar16;
    uVar13 = uVar13 - 1;
  }
  param_1[5] = uVar13;
  param_1[4] = uVar14;
  param_1[3] = uVar4;
  param_1[2] = uVar10;
  param_1[1] = uVar6;
  *param_1 = uVar8;
  return param_1;
}



undefined4 __cdecl16near FUN_10a0_365a(void)

{
  int in_AX;
  int in_DX;
  int in_BX;

  return CONCAT22(in_DX << 1,in_AX << 1 | (uint)(in_BX < 0));
}
